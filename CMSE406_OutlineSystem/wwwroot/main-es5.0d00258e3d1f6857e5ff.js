function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray2(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,a=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(o){a=!0,r=o}finally{try{i||null==l.return||l.return()}finally{if(a)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,r=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(a,n.prototype),a}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _createSuper(e){return function(){var t,n=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var i=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"5RHE":function(e,t,n){var i,a;i=function(){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){if("object"!==i(e.console)){e.console={};for(var t,n,a=e.console,r=function(){},s=["memory"],l="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=s.pop();)a[t]||(a[t]={});for(;n=l.pop();)a[n]||(a[n]=r)}var o,u,c,h,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===e.btoa&&(e.btoa=function(e){var t,n,i,a,r,s=0,l=0,o="",u=[];if(!e)return e;for(;t=(r=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,n=r>>12&63,i=r>>6&63,a=63&r,u[l++]=d.charAt(t)+d.charAt(n)+d.charAt(i)+d.charAt(a),s<e.length;);o=u.join("");var c=e.length%3;return(c?o.slice(0,c-3):o)+"===".slice(c||3)}),void 0===e.atob&&(e.atob=function(e){var t,n,i,a,r,s,l=0,o=0,u=[];if(!e)return e;for(e+="";t=(s=d.indexOf(e.charAt(l++))<<18|d.indexOf(e.charAt(l++))<<12|(a=d.indexOf(e.charAt(l++)))<<6|(r=d.indexOf(e.charAt(l++))))>>16&255,n=s>>8&255,i=255&s,u[o++]=64==a?String.fromCharCode(t):64==r?String.fromCharCode(t,n):String.fromCharCode(t,n,i),l<e.length;);return u.join("")}),Array.prototype.map||(Array.prototype.map=function(e){if(null==this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,i=new Array(n),a=1<arguments.length?arguments[1]:void 0,r=0;r<n;r++)r in t&&(i[r]=e.call(a,t[r],r,t));return i}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(null==this||"function"!=typeof e)throw new TypeError;for(var n=Object(this),i=n.length>>>0,a=0;a<i;a++)a in n&&e.call(t,n[a],a,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<n;){var r=t[a];if(e.call(i,r,a,t))return r;a++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,u=!{toString:null}.propertyIsEnumerable("toString"),h=(c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!==i(e)&&("function"!=typeof e||null===e))throw new TypeError;var t,n,a=[];for(t in e)o.call(e,t)&&a.push(t);if(u)for(n=0;n<h;n++)o.call(e,c[n])&&a.push(c[n]);return a})),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var r,s,l,o,u,c,h,d,p,f,m,g,v,y,b,k,C,w,_,x,S,E,O,I,A,D,M,T,P,L,N,R,F,H,B,V,j,z,q,U,W,Y,G,X,K,$,Z,J,Q,ee,te,ne,ie,ae,re,se,le,oe,ue,ce,he,de=function(r){function s(e){if("object"!==i(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!i],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[n]){var l=t[n][s];try{l[0].apply(e,i)}catch(n){r.console&&console.error("jsPDF PubSub Error",n.message,n)}l[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function l(e,t,n,a){var o={},u=[],c=1;"object"===i(e)&&(e=(o=e).orientation,t=o.unit||t,n=o.format||n,a=o.compress||o.compressPdf||a,u=o.filters||(!0===a?["FlateEncode"]:u),c="number"==typeof o.userUnit?Math.abs(o.userUnit):1),t=t||"mm",e=(""+(e||"P")).toLowerCase();var h=o.putOnlyUsedFonts||!0,d={},p={internal:{},__private__:{}};p.__private__.PubSub=s;var f="1.3",m=p.__private__.getPdfVersion=function(){return f},g=(p.__private__.setPdfVersion=function(e){f=e},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),v=(p.__private__.getPageFormats=function(){return g},p.__private__.getPageFormat=function(e){return g[e]});"string"==typeof n&&(n=v(n)),n=n||v("a4");var y,b=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(2)},k=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return e.toFixed(3)},C="00000000000000000000000000000000",w=p.__private__.getFileId=function(){return C},_=p.__private__.setFileId=function(e){return e=e||"12345678901234567890123456789012".split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),C=e};p.setFileId=function(e){return _(e),this},p.getFileId=function(){return w()};var x=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",i=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),r=[n,R(i),"'",R(a),"'"].join("");return["D:",e.getFullYear(),R(e.getMonth()+1),R(e.getDate()),R(e.getHours()),R(e.getMinutes()),R(e.getSeconds()),r].join("")},S=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,i=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),r=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return parseInt(e.substr(16,2),10),parseInt(e.substr(20,2),10),new Date(t,n,i,a,r,s,0)},E=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),"object"===i(e)&&"[object Date]"===Object.prototype.toString.call(e))t=x(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return y=t},O=p.__private__.getCreationDate=function(e){var t=y;return"jsDate"===e&&(t=S(y)),t};p.setCreationDate=function(e){return E(e),this},p.getCreationDate=function(e){return O(e)};var I,A,D,M,T,P,L,N,R=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},F=!1,H=[],B=[],V=0,j=(p.__private__.setCustomOutputDestination=function(e){A=e},p.__private__.resetCustomOutputDestination=function(e){A=void 0},p.__private__.out=function(e){var t;return e="string"==typeof e?e:e.toString(),(t=void 0===A?F?H[I]:B:A).push(e),F||(V+=e.length+1),t}),z=p.__private__.write=function(e){return j(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},q=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},U=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],W=(p.__private__.getStandardFonts=function(e){return U},o.fontSize||16),Y=(p.__private__.setFontSize=p.setFontSize=function(e){return W=e,this},p.__private__.getFontSize=p.getFontSize=function(){return W}),G=o.R2L||!1,X=(p.__private__.setR2L=p.setR2L=function(e){return G=e,this},p.__private__.getR2L=p.getR2L=function(e){return G},p.__private__.setZoomMode=function(e){if(/^\d*\.?\d*\%$/.test(e))D=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');D=e}else D=parseInt(e,10)}),K=(p.__private__.getZoomMode=function(){return D},p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');M=e}),$=(p.__private__.getPageMode=function(){return M},p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');T=e}),Z=(p.__private__.getLayoutMode=function(){return T},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return X(e),$(t),K(n),this},{title:"",subject:"",author:"",keywords:"",creator:""}),J=(p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(Z).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Z[e]},p.__private__.getDocumentProperties=function(e){return Z},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in Z)Z.hasOwnProperty(t)&&e[t]&&(Z[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(Z).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Z[e]=t},0),Q=[],ee={},te={},ne=0,ie=[],ae=[],re=new s(p),se=o.hotfixes||[],le=p.__private__.newObject=function(){var e=oe();return ue(e,!0),e},oe=p.__private__.newObjectDeferred=function(){return Q[++J]=function(){return V},J},ue=function(e,t){return t="boolean"==typeof t&&t,Q[e]=V,t&&j(e+" 0 obj"),e},ce=p.__private__.newAdditionalObject=function(){var e={objId:oe(),content:""};return ae.push(e),e},he=oe(),de=oe(),pe=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2===t.length&&("g"===t[1]||"G"===t[1])){var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var i="#",a=0;a<3;a++)i+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return i},fe=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,a=e.ch2,r=e.ch3,s=e.ch4,l="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new RGBColor(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var u=parseInt(n.substr(1),16);n=u>>16&255,a=u>>8&255,r=255&u}if(void 0===a||void 0===s&&n===a&&a===r)if("string"==typeof n)t=n+" "+l[0];else switch(e.precision){case 2:t=b(n/255)+" "+l[0];break;case 3:default:t=k(n/255)+" "+l[0]}else if(void 0===s||"object"===i(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.000","1.000","1.000",l[1]].join(" ");if("string"==typeof n)t=[n,a,r,l[1]].join(" ");else switch(e.precision){case 2:t=[b(n/255),b(a/255),b(r/255),l[1]].join(" ");break;default:case 3:t=[k(n/255),k(a/255),k(r/255),l[1]].join(" ")}}else if("string"==typeof n)t=[n,a,r,s,l[2]].join(" ");else switch(e.precision){case 2:t=[b(n/255),b(a/255),b(r/255),b(s/255),l[2]].join(" ");break;case 3:default:t=[k(n/255),k(a/255),k(r/255),k(s/255),l[2]].join(" ")}return t},me=p.__private__.getFilters=function(){return u},ge=p.__private__.putStream=function(e){var t,n=(e=e||{}).data||"",i=e.filters||me(),a=e.alreadyAppliedFilters||[],r=e.addLength1||!1,s=n.length;!0===i&&(i=["FlateEncode"]);var o=e.additionalKeyValues||[],u=(t=void 0!==l.API.processDataByFilters?l.API.processDataByFilters(n,i):{data:n,reverseChain:[]}).reverseChain+(Array.isArray(a)?a.join(" "):a.toString());0!==t.data.length&&(o.push({key:"Length",value:t.data.length}),!0===r&&o.push({key:"Length1",value:s})),0!=u.length&&(u.split("/").length-1==1?o.push({key:"Filter",value:u}):o.push({key:"Filter",value:"["+u+"]"})),j("<<");for(var c=0;c<o.length;c++)j("/"+o[c].key+" "+o[c].value);j(">>"),0!==t.data.length&&(j("stream"),j(t.data),j("endstream"))},ve=p.__private__.putPage=function(e){var t=e.number,n=e.data,i=e.objId,a=e.contentsObjId;ue(i,!0),j("<</Type /Page"),j("/Parent "+e.rootDictionaryObjId+" 0 R"),j("/Resources "+e.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(b(e.mediaBox.bottomLeftX))+" "+parseFloat(b(e.mediaBox.bottomLeftY))+" "+b(e.mediaBox.topRightX)+" "+b(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&j("/CropBox ["+b(e.cropBox.bottomLeftX)+" "+b(e.cropBox.bottomLeftY)+" "+b(e.cropBox.topRightX)+" "+b(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&j("/BleedBox ["+b(e.bleedBox.bottomLeftX)+" "+b(e.bleedBox.bottomLeftY)+" "+b(e.bleedBox.topRightX)+" "+b(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&j("/TrimBox ["+b(e.trimBox.bottomLeftX)+" "+b(e.trimBox.bottomLeftY)+" "+b(e.trimBox.topRightX)+" "+b(e.trimBox.topRightY)+"]"),null!==e.artBox&&j("/ArtBox ["+b(e.artBox.bottomLeftX)+" "+b(e.artBox.bottomLeftY)+" "+b(e.artBox.topRightX)+" "+b(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&j("/UserUnit "+e.userUnit),re.publish("putPage",{objId:i,pageContext:ie[t],pageNumber:t,page:n}),j("/Contents "+a+" 0 R"),j(">>"),j("endobj");var r=n.join("\n");return ue(a,!0),ge({data:r,filters:me()}),j("endobj"),i},ye=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ne;e++)ie[e].objId=oe(),ie[e].contentsObjId=oe();for(e=1;e<=ne;e++)n.push(ve({number:e,data:H[e],objId:ie[e].objId,contentsObjId:ie[e].contentsObjId,mediaBox:ie[e].mediaBox,cropBox:ie[e].cropBox,bleedBox:ie[e].bleedBox,trimBox:ie[e].trimBox,artBox:ie[e].artBox,userUnit:ie[e].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:de}));ue(he,!0),j("<</Type /Pages");var i="/Kids [";for(t=0;t<ne;t++)i+=n[t]+" 0 R ";j(i+"]"),j("/Count "+ne),j(">>"),j("endobj"),re.publish("postPutPages")},be=function(e,t,n){te.hasOwnProperty(t)||(te[t]={}),te[t][n]=e},ke=function(e,t,n,i,a){a=a||!1;var r="F"+(Object.keys(ee).length+1).toString(10),s={id:r,postScriptName:e,fontName:t,fontStyle:n,encoding:i,isStandardFont:a,metadata:{}};return re.publish("addFont",{font:s,instance:this}),void 0!==r&&(ee[r]=s,be(r,t,n)),r},Ce=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,i,a,r,s,l,o,u,c;if(a=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&ee[P].metadata&&ee[P].metadata[a]&&ee[P].metadata[a].encoding&&(r=ee[P].metadata[a].encoding,!s&&ee[P].encoding&&(s=ee[P].encoding),!s&&r.codePages&&(s=r.codePages[0]),"string"==typeof s&&(s=r[s]),s)){for(o=!1,l=[],n=0,i=e.length;n<i;n++)(u=s[e.charCodeAt(n)])?l.push(String.fromCharCode(u)):l.push(e[n]),l[n].charCodeAt(0)>>8&&(o=!0);e=l.join("")}for(n=e.length;void 0===o&&0!==n;)e.charCodeAt(n-1)>>8&&(o=!0),n--;if(!o)return e;for(l=t.noBOM?[]:[254,255],n=0,i=e.length;n<i;n++){if((c=(u=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");l.push(c),l.push(u-(c<<8))}return String.fromCharCode.apply(void 0,l)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},we=p.__private__.beginPage=function(e,t){var i,a="string"==typeof t&&t.toLowerCase();if("string"==typeof e&&(i=v(e.toLowerCase()))&&(e=i[0],t=i[1]),Array.isArray(e)&&(t=e[1],e=e[0]),(isNaN(e)||isNaN(t))&&(e=n[0],t=n[1]),a){switch(a.substr(0,1)){case"l":e<t&&(a="s");break;case"p":t<e&&(a="s")}"s"===a&&(i=e,e=t,t=i)}(14400<e||14400<t)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),e=Math.min(14400,e),t=Math.min(14400,t)),n=[e,t],F=!0,H[++ne]=[],ie[ne]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e),topRightY:Number(t)}},xe(ne)},_e=function(){we.apply(this,arguments),Ue(qe),j(Je),0!==at&&j(at+" J"),0!==st&&j(st+" j"),re.publish("addPage",{pageNumber:ne})},xe=function(e){0<e&&e<=ne&&(I=e)},Se=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return H.length-1},Ee=function(e,t,n){var i,a=void 0;return n=n||{},t=void 0!==t?t:ee[P].fontStyle,i=(e=void 0!==e?e:ee[P].fontName).toLowerCase(),void 0!==te[i]&&void 0!==te[i][t]?a=te[i][t]:void 0!==te[e]&&void 0!==te[e][t]?a=te[e][t]:!1===n.disableWarning&&console.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=te.times[t])&&(a=te.times.normal),a},Oe=p.__private__.putInfo=function(){for(var e in le(),j("<<"),j("/Producer (jsPDF "+l.version+")"),Z)Z.hasOwnProperty(e)&&Z[e]&&j("/"+e.substr(0,1).toUpperCase()+e.substr(1)+" ("+Ce(Z[e])+")");j("/CreationDate ("+y+")"),j(">>"),j("endobj")},Ae=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||he;switch(le(),j("<<"),j("/Type /Catalog"),j("/Pages "+t+" 0 R"),D||(D="fullwidth"),D){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+D;"%"===n.substr(n.length-1)&&(D=parseInt(D)/100),"number"==typeof D&&j("/OpenAction [3 0 R /XYZ null null "+b(D)+"]")}switch(T||(T="continuous"),T){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}M&&j("/PageMode /"+M),re.publish("putCatalog"),j(">>"),j("endobj")},De=p.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(J+1)),j("/Root "+J+" 0 R"),j("/Info "+(J-1)+" 0 R"),j("/ID [ <"+C+"> <"+C+"> ]"),j(">>")},Me=p.__private__.putHeader=function(){j("%PDF-"+f),j("%\xba\xdf\xac\xe0")},Te=p.__private__.putXRef=function(){var e=1,t="0000000000";for(j("xref"),j("0 "+(J+1)),j("0000000000 65535 f "),e=1;e<=J;e++)j("function"==typeof Q[e]?(t+Q[e]()).slice(-10)+" 00000 n ":void 0!==Q[e]?(t+Q[e]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Pe=p.__private__.buildDocument=function(){F=!1,V=J=0,B=[],Q=[],ae=[],he=oe(),de=oe(),re.publish("buildDocument"),Me(),ye(),function(){re.publish("putAdditionalObjects");for(var e=0;e<ae.length;e++){var t=ae[e];ue(t.objId,!0),j(t.content),j("endobj")}re.publish("postPutAdditionalObjects")}(),function(){for(var e in ee)ee.hasOwnProperty(e)&&(!1===h||!0===h&&d.hasOwnProperty(e))&&(re.publish("putFont",{font:t=ee[e],out:j,newObject:le,putStream:ge}),!0!==t.isAlreadyPutted&&(t.objectNumber=le(),j("<<"),j("/Type /Font"),j("/BaseFont /"+t.postScriptName),j("/Subtype /Type1"),"string"==typeof t.encoding&&j("/Encoding /"+t.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj")));var t}(),re.publish("putResources"),ue(de,!0),j("<<"),function(){for(var e in j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),j("/Font <<"),ee)ee.hasOwnProperty(e)&&(!1===h||!0===h&&d.hasOwnProperty(e))&&j("/"+e+" "+ee[e].objectNumber+" 0 R");j(">>"),j("/XObject <<"),re.publish("putXobjectDict"),j(">>")}(),j(">>"),j("endobj"),re.publish("postPutResources"),Oe(),Ae();var e=V;return Te(),De(),j("startxref"),j(""+e),j("%%EOF"),F=!0,B.join("\n")},Le=p.__private__.getBlob=function(e){return new Blob([q(e)],{type:"application/pdf"})},Ne=p.output=p.__private__.output=((N=function(e,t){t=t||{};var n=Pe();switch("string"==typeof t?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return n;case"save":p.save(t.filename);break;case"arraybuffer":return q(n);case"blob":return Le(n);case"bloburi":case"bloburl":if(void 0!==r.URL&&"function"==typeof r.URL.createObjectURL)return r.URL&&r.URL.createObjectURL(Le(n))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+t.filename+";base64,"+btoa(n);case"dataurlnewwindow":var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',a=r.open();if(null!==a&&a.document.write(i),a||"undefined"==typeof safari)return a;case"datauri":case"dataurl":return r.document.location.href="data:application/pdf;filename="+t.filename+";base64,"+btoa(n);default:return null}}).foo=function(){try{return N.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!r.console)throw new Error(n);r.console.error(n,e),r.alert&&alert(n)}},(N.foo.bar=N).foo),Re=function(e){return!0===Array.isArray(se)&&-1<se.indexOf(e)};switch(t){case"pt":L=1;break;case"mm":L=72/25.4;break;case"cm":L=72/2.54;break;case"in":L=72;break;case"px":L=1==Re("px_scaling")?.75:96/72;break;case"pc":case"em":L=12;break;case"ex":L=6;break;default:throw new Error("Invalid unit: "+t)}E(),_();var Fe=p.__private__.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ie[e].objId,pageNumber:e,pageContext:ie[e]}},He=p.__private__.getPageInfoByObjId=function(e){for(var t in ie)if(ie[t].objId===e)break;if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Fe(t)},Be=p.__private__.getCurrentPageInfo=function(){return{objId:ie[I].objId,pageNumber:I,pageContext:ie[I]}};p.addPage=function(){return _e.apply(this,arguments),this},p.setPage=function(){return xe.apply(this,arguments),this},p.insertPage=function(e){return this.addPage(),this.movePage(I,e),this},p.movePage=function(e,t){if(t<e){for(var n=H[e],i=ie[e],a=e;t<a;a--)H[a]=H[a-1],ie[a]=ie[a-1];H[t]=n,ie[t]=i,this.setPage(t)}else if(e<t){for(n=H[e],i=ie[e],a=e;a<t;a++)H[a]=H[a+1],ie[a]=ie[a+1];H[t]=n,ie[t]=i,this.setPage(t)}return this},p.deletePage=function(){return(function(e){0<e&&e<=ne&&(H.splice(e,1),--ne<I&&(I=ne),this.setPage(I))}).apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,a){var r;"number"!=typeof e||"number"!=typeof t||"string"!=typeof n&&!Array.isArray(n)||(r=n,n=t,t=e,e=r);var s=arguments[3],l=arguments[4],o=arguments[5];if("object"===i(s)&&null!==s||("string"==typeof l&&(o=l,l=null),"string"==typeof s&&(o=s,s=null),"number"==typeof s&&(l=s,s=null),a={flags:s,angle:l,align:o}),(s=s||{}).noBOM=s.noBOM||!0,s.autoencode=s.autoencode||!0,isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var u,c="",h="number"==typeof a.lineHeightFactor?a.lineHeightFactor:ze,p=a.scope||this;function f(e){for(var t,n=e.concat(),i=[],a=n.length;a--;)"string"==typeof(t=n.shift())?i.push(t):Array.isArray(e)&&1===t.length?i.push(t[0]):i.push([t[0],t[1],t[2]]);return i}function m(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var i,a,r=e.concat(),s=[],l=r.length;l--;)"string"==typeof(i=r.shift())?s.push(t(i)[0]):Array.isArray(i)&&"string"===i[0]&&(a=t(i[0],i[1],i[2]),s.push([a[0],a[1],a[2]]));n=s}return n}var g=!1,v=!0;if("string"==typeof e)g=!0;else if(Array.isArray(e)){for(var y,C=e.concat(),w=[],_=C.length;_--;)("string"!=typeof(y=C.shift())||Array.isArray(y)&&"string"!=typeof y[0])&&(v=!1);g=v}if(!1===g)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');var x=ee[P].encoding;"WinAnsiEncoding"!==x&&"StandardEncoding"!==x||(e=m(e,(function(e,t,n){return[(i=e,i=i.split("\t").join(Array(a.TabLen||9).join(" ")),Ce(i,s)),t,n];var i}))),"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var S=W/p.internal.scaleFactor,E=S*(ze-1);switch(a.baseline){case"bottom":n-=E;break;case"top":n+=S-E;break;case"hanging":n+=S-2*E;break;case"middle":n+=S/2-E}0<(z=a.maxWidth||0)&&("string"==typeof e?e=p.splitTextToSize(e,z):"[object Array]"===Object.prototype.toString.call(e)&&(e=p.splitTextToSize(e.join(" "),z)));var O={text:e,x:t,y:n,options:a,mutex:{pdfEscape:Ce,activeFontKey:P,fonts:ee,activeFontSize:W}};re.publish("preProcessText",O),e=O.text,l=(a=O.options).angle;var I=p.internal.scaleFactor,A=[];if(l){l*=Math.PI/180;var D=Math.cos(l),M=Math.sin(l);A=[b(D),b(M),b(-1*M),b(D)]}void 0!==(V=a.charSpace)&&(c+=k(V*I)+" Tc\n");var T=-1,L=void 0!==a.renderingMode?a.renderingMode:a.stroke,N=p.internal.getCurrentPageInfo().pageContext;switch(L){case 0:case!1:case"fill":T=0;break;case 1:case!0:case"stroke":T=1;break;case 2:case"fillThenStroke":T=2;break;case 3:case"invisible":T=3;break;case 4:case"fillAndAddForClipping":T=4;break;case 5:case"strokeAndAddPathForClipping":T=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":T=6;break;case 7:case"addToPathForClipping":T=7}var R=void 0!==N.usedRenderingMode?N.usedRenderingMode:-1;-1!==T?c+=T+" Tr\n":-1!==R&&(c+="0 Tr\n"),-1!==T&&(N.usedRenderingMode=T),o=a.align||"left";var F=W*h,H=p.internal.pageSize.getWidth(),B=(I=p.internal.scaleFactor,ee[P]),V=a.charSpace||nt,z=a.maxWidth||0,q=(s={},[]);if("[object Array]"===Object.prototype.toString.call(e)){var U,Y;w=f(e),"left"!==o&&(Y=w.map((function(e){return p.getStringUnitWidth(e,{font:B,charSpace:V,fontSize:W})*W/I}))),Math.max.apply(Math,Y);var X,K=0;if("right"===o){t-=Y[0],e=[];var $=0;for(_=w.length;$<_;$++)U=0===$?(X=Xe(t),Ke(n)):(X=(K-Y[$])*I,-F),e.push([w[$],X,U]),K=Y[$]}else if("center"===o)for(t-=Y[0]/2,e=[],$=0,_=w.length;$<_;$++)U=0===$?(X=Xe(t),Ke(n)):(X=(K-Y[$])/2*I,-F),e.push([w[$],X,U]),K=Y[$];else if("left"===o)for(e=[],$=0,_=w.length;$<_;$++)U=0===$?Ke(n):-F,X=0===$?Xe(t):0,e.push(w[$]);else{if("justify"!==o)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],z=0!==z?z:H,$=0,_=w.length;$<_;$++)U=0===$?Ke(n):-F,X=0===$?Xe(t):0,$<_-1&&q.push(((z-Y[$])/(w[$].split(" ").length-1)*I).toFixed(2)),e.push([w[$],X,U])}}!0===("boolean"==typeof a.R2L?a.R2L:G)&&(e=m(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),re.publish("postProcessText",O={text:e,x:t,y:n,options:a,mutex:{pdfEscape:Ce,activeFontKey:P,fonts:ee,activeFontSize:W}}),u=O.mutex.isHex,w=f(e=O.text),e=[];var Z,J,Q,te=0,ne=(_=w.length,"");for($=0;$<_;$++)ne="",Array.isArray(w[$])?(Z=parseFloat(w[$][1]),J=parseFloat(w[$][2]),Q=(u?"<":"(")+w[$][0]+(u?">":")"),te=1):(Z=Xe(t),J=Ke(n),Q=(u?"<":"(")+w[$]+(u?">":")")),void 0!==q&&void 0!==q[$]&&(ne=q[$]+" Tw\n"),e.push(0!==A.length&&0===$?ne+A.join(" ")+" "+Z.toFixed(2)+" "+J.toFixed(2)+" Tm\n"+Q:1===te||0===te&&0===$?ne+Z.toFixed(2)+" "+J.toFixed(2)+" Td\n"+Q:ne+Q);e=e.join(0===te?" Tj\nT* ":" Tj\n"),e+=" Tj\n";var ie="BT\n/"+P+" "+W+" Tf\n"+(W*h).toFixed(2)+" TL\n"+et+"\n";return ie+=c,ie+=e,j(ie+="ET"),d[P]=!0,p},p.__private__.lstext=p.lstext=function(e,t,n,i){return console.warn("jsPDF.lstext is deprecated"),this.text(e,t,n,{charSpace:i})},p.__private__.clip=p.clip=function(e){j("evenodd"===e?"W*":"W"),j("n")},p.__private__.clip_fixed=p.clip_fixed=function(e){console.log("clip_fixed is deprecated"),p.clip(e)};var Ve=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(e)&&(t=!0),t},je=p.__private__.getStyle=function(e){var t="S";return"F"===e?t="f":"FD"===e||"DF"===e?t="B":"f"!==e&&"f*"!==e&&"B"!==e&&"B*"!==e||(t=e),t};p.__private__.line=p.line=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[n-e,i-t]],e,t)},p.__private__.lines=p.lines=function(e,t,n,i,a,r){var s,l,o,u,c,h,d,p,f,m,g,v;if("number"==typeof e&&(v=n,n=t,t=e,e=v),i=i||[1,1],r=r||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(i)||!Ve(a)||"boolean"!=typeof r)throw new Error("Invalid arguments passed to jsPDF.lines");for(j(k(Xe(t))+" "+k(Ke(n))+" m "),s=i[0],l=i[1],u=e.length,m=t,g=n,o=0;o<u;o++)2===(c=e[o]).length?(g=c[1]*l+g,j(k(Xe(m=c[0]*s+m))+" "+k(Ke(g))+" l")):(h=c[0]*s+m,d=c[1]*l+g,p=c[2]*s+m,f=c[3]*l+g,m=c[4]*s+m,g=c[5]*l+g,j(k(Xe(h))+" "+k(Ke(d))+" "+k(Xe(p))+" "+k(Ke(f))+" "+k(Xe(m))+" "+k(Ke(g))+" c"));return r&&j(" h"),null!==a&&j(je(a)),this},p.__private__.rect=p.rect=function(e,t,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!Ve(a))throw new Error("Invalid arguments passed to jsPDF.rect");return j([b(Xe(e)),b(Ke(t)),b(n*L),b(-i*L),"re"].join(" ")),null!==a&&j(je(a)),this},p.__private__.triangle=p.triangle=function(e,t,n,i,a,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(a)||isNaN(r)||!Ve(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,i-t],[a-n,r-i],[e-a,t-r]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,i,a,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(a)||isNaN(r)||!Ve(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var l=4/3*(Math.SQRT2-1);return this.lines([[n-2*a,0],[a*l,0,a,r-r*l,a,r],[0,i-2*r],[0,r*l,-a*l,r,-a,r],[2*a-n,0],[-a*l,0,-a,-r*l,-a,-r],[0,2*r-i],[0,-r*l,a*l,-r,a,-r]],e+a,t,[1,1],s),this},p.__private__.ellipse=p.ellipse=function(e,t,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!Ve(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var r=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*i;return j([b(Xe(e+n)),b(Ke(t)),"m",b(Xe(e+n)),b(Ke(t-s)),b(Xe(e+r)),b(Ke(t-i)),b(Xe(e)),b(Ke(t-i)),"c"].join(" ")),j([b(Xe(e-r)),b(Ke(t-i)),b(Xe(e-n)),b(Ke(t-s)),b(Xe(e-n)),b(Ke(t)),"c"].join(" ")),j([b(Xe(e-n)),b(Ke(t+s)),b(Xe(e-r)),b(Ke(t+i)),b(Xe(e)),b(Ke(t+i)),"c"].join(" ")),j([b(Xe(e+r)),b(Ke(t+i)),b(Xe(e+n)),b(Ke(t+s)),b(Xe(e+n)),b(Ke(t)),"c"].join(" ")),null!==a&&j(je(a)),this},p.__private__.circle=p.circle=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||!Ve(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,i)},p.setFont=function(e,t){return P=Ee(e,t,{disableWarning:!1}),this},p.setFontStyle=p.setFontType=function(e){return P=Ee(void 0,e),this},p.__private__.getFontList=p.getFontList=function(){var e,t,n,i={};for(e in te)if(te.hasOwnProperty(e))for(t in i[e]=n=[],te[e])te[e].hasOwnProperty(t)&&n.push(t);return i},p.addFont=function(e,t,n,i){ke.call(this,e,t,n,i=i||"Identity-H")};var ze,qe=o.lineWidth||.200025,Ue=p.__private__.setLineWidth=p.setLineWidth=function(e){return j((e*L).toFixed(2)+" w"),this},We=(p.__private__.setLineDash=l.API.setLineDash=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return(e*L).toFixed(3)})).join(" "),t=parseFloat((t*L).toFixed(3)),j("["+e+"] "+t+" d"),this},p.__private__.getLineHeight=p.getLineHeight=function(){return W*ze}),Ye=(We=p.__private__.getLineHeight=p.getLineHeight=function(){return W*ze},p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(ze=e),this}),Ge=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ze};Ye(o.lineHeight);var Xe=p.__private__.getHorizontalCoordinate=function(e){return e*L},Ke=p.__private__.getVerticalCoordinate=function(e){return ie[I].mediaBox.topRightY-ie[I].mediaBox.bottomLeftY-e*L},$e=p.__private__.getHorizontalCoordinateString=function(e){return b(e*L)},Ze=p.__private__.getVerticalCoordinateString=function(e){return b(ie[I].mediaBox.topRightY-ie[I].mediaBox.bottomLeftY-e*L)},Je=o.strokeColor||"0 G",Qe=(p.__private__.getStrokeColor=p.getDrawColor=function(){return pe(Je)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,i){return Je=fe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"draw",precision:2}),j(Je),this},o.fillColor||"0 g"),et=(p.__private__.getFillColor=p.getFillColor=function(){return pe(Qe)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,i){return Qe=fe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"fill",precision:2}),j(Qe),this},o.textColor||"0 g"),tt=p.__private__.getTextColor=p.getTextColor=function(){return pe(et)},nt=(p.__private__.setTextColor=p.setTextColor=function(e,t,n,i){return et=fe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"text",precision:3}),this},o.charSpace||0),it=p.__private__.getCharSpace=p.getCharSpace=function(){return nt},at=(p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nt=e,this},0);p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return j((at=t)+" J"),this};var rt,st=0;for(var lt in p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return j((st=t)+" j"),this},p.__private__.setMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return rt=parseFloat(b(e*L)),j(rt+" M"),this},p.save=function(e,t){if(e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1!==t.returnPromise)return new Promise((function(t,n){try{var i=Ie(Le(Pe()),e);"function"==typeof Ie.unload&&r.setTimeout&&setTimeout(Ie.unload,911),t(i)}catch(t){n(t.message)}}));Ie(Le(Pe()),e),"function"==typeof Ie.unload&&r.setTimeout&&setTimeout(Ie.unload,911)},l.API)l.API.hasOwnProperty(lt)&&("events"===lt&&l.API.events.length?function(e,t){var n,i;for(i=t.length-1;-1!==i;i--)e.subscribe.apply(e,[t[i][0]].concat("function"==typeof(n=t[i][1])?[n]:n))}(re,l.API.events):p[lt]=l.API[lt]);return p.internal={pdfEscape:Ce,getStyle:je,getFont:function(){return ee[Ee.apply(p,arguments)]},getFontSize:Y,getCharSpace:it,getTextColor:tt,getLineHeight:We,getLineHeightFactor:Ge,write:z,getHorizontalCoordinate:Xe,getVerticalCoordinate:Ke,getCoordinateString:$e,getVerticalCoordinateString:Ze,collections:{},newObject:le,newAdditionalObject:ce,newObjectDeferred:oe,newObjectDeferredBegin:ue,getFilters:me,putStream:ge,events:re,scaleFactor:L,pageSize:{getWidth:function(){return(ie[I].mediaBox.topRightX-ie[I].mediaBox.bottomLeftX)/L},setWidth:function(e){ie[I].mediaBox.topRightX=e*L+ie[I].mediaBox.bottomLeftX},getHeight:function(){return(ie[I].mediaBox.topRightY-ie[I].mediaBox.bottomLeftY)/L},setHeight:function(e){ie[I].mediaBox.topRightY=e*L+ie[I].mediaBox.bottomLeftY}},output:Ne,getNumberOfPages:Se,pages:H,out:j,f2:b,f3:k,getPageInfo:Fe,getPageInfoByObjId:He,getCurrentPageInfo:Be,getPDFVersion:m,hasHotfix:Re},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return(ie[I].mediaBox.topRightX-ie[I].mediaBox.bottomLeftX)/L},set:function(e){ie[I].mediaBox.topRightX=e*L+ie[I].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return(ie[I].mediaBox.topRightY-ie[I].mediaBox.bottomLeftY)/L},set:function(e){ie[I].mediaBox.topRightY=e*L+ie[I].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=U.length;t<n;t++){var i=ke(e[t][0],e[t][1],e[t][2],U[t][3],!0);d[i]=!0;var a=e[t][0].split("-");be(i,a[0],a[1]||"")}re.publish("addFonts",{fonts:ee,dictionary:te})}(U),P="F1",_e(n,e),re.publish("initialized"),p}return l.API={events:[]},l.version="1.5.3",void 0!==(a=(function(){return l}).call(t,n,t,e))&&(e.exports=a),l}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());(function(e,t){var n,a=1,r=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},s=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},l=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(2)},o=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(5)};e.__acroform__={};var u=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},c=function(e){return e*a},h=function(e){return e/a},d=function(e){var t=new L,n=X.internal.getHeight(e)||0,i=X.internal.getWidth(e)||0;return t.BBox=[0,0,Number(l(i)),Number(l(n))],t},p=e.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},f=e.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},m=e.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},g=e.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return m(e,t-1)},v=e.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p(e,t-1)},y=e.__acroform__.clearBitForPdf=function(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return f(e,t-1)},b=e.__acroform__.calculateCoordinates=function(e){var t=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,i=e[0],a=e[1],r=e[2],s=e[3],o={};return o.lowerLeft_X=t(i)||0,o.lowerLeft_Y=n(a+s)||0,o.upperRight_X=t(i+r)||0,o.upperRight_Y=n(a)||0,[Number(l(o.lowerLeft_X)),Number(l(o.lowerLeft_Y)),Number(l(o.upperRight_X)),Number(l(o.upperRight_Y))]},k=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],i=C(e,e.V||e.DV),a=n.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.__private__.encodeColorString(e.color)),t.push("/"+a+" "+l(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var r=new d(e);return r.stream=t.join("\n"),r}},C=function(e,t){var i=e.maxFontSize||12,a={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" "),o=(n.__private__.encodeColorString(e.color),i),u=X.internal.getHeight(e)||0;u=u<0?-u:u;var c=X.internal.getWidth(e)||0;c=c<0?-c:c;var h=function(t,n,i){return t+1<s.length&&w(n+" "+s[t+1],e,i).width<=c-4};o++;e:for(;;){t="";var d=w("3",e,--o).height,p=e.multiline?u-o:(u-d)/2,f=-2,m=p+=2,g=0,v=0,y=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+w(t,e,o=12).width+", FieldWidth:"+c+"\n";break}y=w(s[0]+" ",e,o).width;var b="",k=0;for(var C in s)if(s.hasOwnProperty(C)){b=" "==(b+=s[C]+" ").substr(b.length-1)?b.substr(0,b.length-1):b;var _=parseInt(C);y=w(b+" ",e,o).width;var x=h(_,b,o),S=C>=s.length-1;if(x&&!S){b+=" ";continue}if(x||S){if(S)v=_;else if(e.multiline&&u<(d+2)*(k+2)+2)continue e}else{if(!e.multiline)continue e;if(u<(d+2)*(k+2)+2)continue e;v=_}for(var E="",O=g;O<=v;O++)E+=s[O]+" ";switch(E=" "==E.substr(E.length-1)?E.substr(0,E.length-1):E,y=w(E,e,o).width,e.textAlign){case"right":f=c-y-2;break;case"center":f=(c-y)/2;break;case"left":default:f=2}t+=l(f)+" "+l(m)+" Td\n",t+="("+r(E)+") Tj\n",t+=-l(f)+" 0 Td\n",m=-(o+2),y=0,g=v+1,k++,b=""}break}return a.text=t,a.fontSize=o,a},w=function(e,t,i){var a=n.internal.getFont(t.fontName,t.fontStyle),r=n.getStringUnitWidth(e,{font:a,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:n.getStringUnitWidth("3",{font:a,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:r}},_={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},x=function(){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];i.objId=void 0,i.hasAnnotation&&S.call(n,i)}},S=function(e){var t={type:"reference",object:e};void 0===n.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===t.type&&e.object===t.object}))&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},E=function(){if(void 0===n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},O=function(){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0},I=function(e){var t=!e;for(var a in e||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(a)){var r=e[a],s=[],l=r.Rect;if(r.Rect&&(r.Rect=b.call(this,r.Rect)),n.internal.newObjectDeferredBegin(r.objId,!0),r.DA=X.createDefaultAppearanceStream(r),"object"===i(r)&&"function"==typeof r.getKeyValueListForStream&&(s=r.getKeyValueListForStream()),r.Rect=l,r.hasAppearanceStream&&!r.appearanceStreamContent){var o=k.call(this,r);s.push({key:"AP",value:"<</N "+o+">>"}),n.internal.acroformPlugin.xForms.push(o)}if(r.appearanceStreamContent){var u="";for(var c in r.appearanceStreamContent)if(r.appearanceStreamContent.hasOwnProperty(c)){var h=r.appearanceStreamContent[c];if(u+="/"+c+" ",u+="<<",1<=Object.keys(h).length||Array.isArray(h))for(var a in h){var d;h.hasOwnProperty(a)&&("function"==typeof(d=h[a])&&(d=d.call(this,r)),u+="/"+a+" "+d+" ",0<=n.internal.acroformPlugin.xForms.indexOf(d)||n.internal.acroformPlugin.xForms.push(d))}else"function"==typeof(d=h)&&(d=d.call(this,r)),u+="/"+a+" "+d,0<=n.internal.acroformPlugin.xForms.indexOf(d)||n.internal.acroformPlugin.xForms.push(d);u+=">>"}s.push({key:"AP",value:"<<\n"+u+">>"})}n.internal.putStream({additionalKeyValues:s}),n.internal.out("endobj")}t&&A.call(this,n.internal.acroformPlugin.xForms)},A=function(e){for(var t in e)if(e.hasOwnProperty(t)){var a=t,r=e[t];n.internal.newObjectDeferredBegin(r&&r.objId,!0),"object"===i(r)&&"function"==typeof r.putStream&&r.putStream(),delete e[a]}},D=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(n=this,R.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(_)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");a=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new N,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",O),n.internal.events.subscribe("buildDocument",x),n.internal.events.subscribe("putCatalog",E),n.internal.events.subscribe("postPutPages",I),n.internal.acroformPlugin.isInitialized=!0}},M=e.__acroform__.arrayToPdfArray=function(e){if(Array.isArray(e)){for(var t="[",n=0;n<e.length;n++)switch(0!==n&&(t+=" "),i(e[n])){case"boolean":case"number":case"object":t+=e[n].toString();break;case"string":"/"!==e[n].substr(0,1)?t+="("+r(e[n].toString())+")":t+=e[n].toString()}return t+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},T=function(e){return(e=e||"").toString(),"("+r(e)+")"},P=function(){var e;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(e||(e=n.internal.newObjectDeferred()),!e)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return e},set:function(t){e=t}})};P.prototype.toString=function(){return this.objId+" 0 R"},P.prototype.putStream=function(){var e=this.getKeyValueListForStream();n.internal.putStream({data:this.stream,additionalKeyValues:e}),n.internal.out("endobj")},P.prototype.getKeyValueListForStream=function(){return function(e){var t=[],n=Object.getOwnPropertyNames(e).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"_"!=e.substring(0,1)}));for(var i in n)if(!1===Object.getOwnPropertyDescriptor(e,n[i]).configurable){var a=n[i],r=e[a];r&&(Array.isArray(r)?t.push({key:a,value:M(r)}):r instanceof P?t.push({key:a,value:r.objId+" 0 R"}):"function"!=typeof r&&t.push({key:a,value:r}))}return t}(this)};var L=function(){P.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};u(L,P);var N=function(){P.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<t.length?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e)return"("+e+")"},set:function(t){e=t}})};u(N,P);var R=function e(){P.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(t,3))},set:function(e){this.F=!0===Boolean(e)?v(t,3):y(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(e){i=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:h(i[0])},set:function(e){i[0]=c(e)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:h(i[1])},set:function(e){i[1]=c(e)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:h(i[2])},set:function(e){i[2]=c(e)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:h(i[3])},set:function(e){i[3]=c(e)}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof U)return;l="FieldObject"+e.FieldNum++}return"("+r(l)+")"},set:function(e){l=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(e){l=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h(d)},set:function(e){d=c(e)}});var p=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h(p)},set:function(e){p=c(e)}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){f=e}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof U||this instanceof Y))return T(m)},set:function(e){e=e.toString(),m=e}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof j==0?T(b):b},set:function(e){e=e.toString(),b=this instanceof j==0?"("===e.substr(0,1)?s(e.substr(1,e.length-2)):s(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof j==1?s(b.substr(1,b.length-1)):b},set:function(e){e=e.toString(),b=this instanceof j==1?"/"+e:e}});var k=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof j==0?T(k):k},set:function(e){e=e.toString(),k=this instanceof j==0?"("===e.substr(0,1)?s(e.substr(1,e.length-2)):s(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof j==1?s(k.substr(1,k.length-1)):k},set:function(e){e=e.toString(),k=this instanceof j==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return w},set:function(e){e=Boolean(e),w=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(C)return C},set:function(e){C=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,1))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,1):y(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,2))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,2):y(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,3))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,3):y(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==_)return _},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');_=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e="left";switch(_){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};u(R,P);var F=function(){R.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return M(t)},set:function(e){var n,i;i=[],"string"==typeof(n=e)&&(i=function(e,t,n){n||(n=1);for(var i,a=[];i=t.exec(e);)a.push(i[n]);return a}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,18):y(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?v(this.Ff,19):y(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=v(this.Ff,20),t.sort()):this.Ff=y(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,22):y(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,27):y(this.Ff,27)}}),this.hasAppearanceStream=!1};u(F,R);var H=function(){F.call(this),this.fontName="helvetica",this.combo=!1};u(H,F);var B=function(){H.call(this),this.combo=!0};u(B,H);var V=function(){B.call(this),this.edit=!0};u(V,B);var j=function(){R.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,15):y(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,16):y(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,17):y(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,26):y(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(t).length){var e,n=[];for(e in n.push("<<"),t)n.push("/"+e+" ("+t[e]+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===i(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};u(j,R);var z=function(){j.call(this),this.pushButton=!0};u(z,j);var q=function(){j.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};u(q,j);var U=function(){var e,t;R.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e,t=[];for(e in t.push("<<"),a)t.push("/"+e+" ("+a[e]+")");return t.push(">>"),t.join("\n")},set:function(e){"object"===i(e)&&(a=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(e){"string"==typeof e&&(a.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=X.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};u(U,R),q.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e&&"getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},q.prototype.createOption=function(e){var t=new U;return t.Parent=this,t.optionName=e,this.Kids.push(t),K.call(this,t),t};var W=function(){j.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=X.CheckBox.createAppearanceStream()};u(W,j);var Y=function(){R.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,13))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,13):y(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,21))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,21):y(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,24))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,24):y(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,25))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,25):y(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,26):y(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};u(Y,R);var G=function(){Y.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,14))},set:function(e){this.Ff=!0===Boolean(e)?v(this.Ff,14):y(this.Ff,14)}}),this.password=!0};u(G,Y);var X={CheckBox:{createAppearanceStream:function(){return{N:{On:X.CheckBox.YesNormal},D:{On:X.CheckBox.YesPushDown,Off:X.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=d(e),i=[],a=n.internal.getFont(e.fontName,e.fontStyle).id,r=n.__private__.encodeColorString(e.color),s=C(e,e.caption);return i.push("0.749023 g"),i.push("0 0 "+l(X.internal.getWidth(e))+" "+l(X.internal.getHeight(e))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+a+" "+l(s.fontSize)+" Tf "+r),i.push("BT"),i.push(s.text),i.push("ET"),i.push("Q"),i.push("EMC"),t.stream=i.join("\n"),t},YesNormal:function(e){var t=d(e),i=n.internal.getFont(e.fontName,e.fontStyle).id,a=n.__private__.encodeColorString(e.color),r=[],s=X.internal.getHeight(e),o=X.internal.getWidth(e),u=C(e,e.caption);return r.push("1 g"),r.push("0 0 "+l(o)+" "+l(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+l(o-1)+" "+l(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+i+" "+l(u.fontSize)+" Tf "+a),r.push(u.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=d(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+l(X.internal.getWidth(e))+" "+l(X.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:X.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=X.RadioButton.Circle.YesNormal,t.D[e]=X.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=d(e),n=[],i=X.internal.getWidth(e)<=X.internal.getHeight(e)?X.internal.getWidth(e)/4:X.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Number((i*X.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+o(X.internal.getWidth(e)/2)+" "+o(X.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=d(e),n=[],i=X.internal.getWidth(e)<=X.internal.getHeight(e)?X.internal.getWidth(e)/4:X.internal.getHeight(e)/4,a=(i=Number((.9*i).toFixed(5)),Number((2*i).toFixed(5))),r=Number((a*X.internal.Bezier_C).toFixed(5)),s=Number((i*X.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+o(X.internal.getWidth(e)/2)+" "+o(X.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),n.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),n.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),n.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+o(X.internal.getWidth(e)/2)+" "+o(X.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=d(e),n=[],i=X.internal.getWidth(e)<=X.internal.getHeight(e)?X.internal.getWidth(e)/4:X.internal.getHeight(e)/4,a=(i=Number((.9*i).toFixed(5)),Number((2*i).toFixed(5))),r=Number((a*X.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+o(X.internal.getWidth(e)/2)+" "+o(X.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),n.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),n.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),n.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:X.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=X.RadioButton.Cross.YesNormal,t.D[e]=X.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=d(e),n=[],i=X.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+l(X.internal.getWidth(e)-2)+" "+l(X.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(l(i.x1.x)+" "+l(i.x1.y)+" m"),n.push(l(i.x2.x)+" "+l(i.x2.y)+" l"),n.push(l(i.x4.x)+" "+l(i.x4.y)+" m"),n.push(l(i.x3.x)+" "+l(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=d(e),n=X.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+l(X.internal.getWidth(e))+" "+l(X.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+l(X.internal.getWidth(e)-2)+" "+l(X.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(l(n.x1.x)+" "+l(n.x1.y)+" m"),i.push(l(n.x2.x)+" "+l(n.x2.y)+" l"),i.push(l(n.x4.x)+" "+l(n.x4.y)+" m"),i.push(l(n.x3.x)+" "+l(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=d(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+l(X.internal.getWidth(e))+" "+l(X.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=n.internal.getFont(e.fontName,e.fontStyle).id,i=n.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+i}};X.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=X.internal.getWidth(e),n=X.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},X.internal.getWidth=function(e){var t=0;return"object"===i(e)&&(t=c(e.Rect[2])),t},X.internal.getHeight=function(e){var t=0;return"object"===i(e)&&(t=c(e.Rect[3])),t};var K=e.addField=function(e){if(D.call(this),!(e instanceof R))throw new Error("Invalid argument passed to jsPDF.addField.");return(function(e){n.internal.acroformPlugin.printedOut&&(n.internal.acroformPlugin.printedOut=!1,n.internal.acroformPlugin.acroFormDictionaryRoot=null),n.internal.acroformPlugin.acroFormDictionaryRoot||D.call(n),n.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e)}).call(this,e),e.page=n.internal.getCurrentPageInfo().pageNumber,this};e.addButton=function(e){if(e instanceof j==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return K.call(this,e)},e.addTextField=function(e){if(e instanceof Y==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return K.call(this,e)},e.addChoiceField=function(e){if(e instanceof F==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return K.call(this,e)},"object"==i(t)&&void 0===t.ChoiceField&&void 0===t.ListBox&&void 0===t.ComboBox&&void 0===t.EditBox&&void 0===t.Button&&void 0===t.PushButton&&void 0===t.RadioButton&&void 0===t.CheckBox&&void 0===t.TextField&&void 0===t.PasswordField?(t.ChoiceField=F,t.ListBox=H,t.ComboBox=B,t.EditBox=V,t.Button=j,t.PushButton=z,t.RadioButton=q,t.CheckBox=W,t.TextField=Y,t.PasswordField=G,t.AcroForm={Appearance:X}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),e.AcroFormChoiceField=F,e.AcroFormListBox=H,e.AcroFormComboBox=B,e.AcroFormEditBox=V,e.AcroFormButton=j,e.AcroFormPushButton=z,e.AcroFormRadioButton=q,e.AcroFormCheckBox=W,e.AcroFormTextField=Y,e.AcroFormPasswordField=G,e.AcroFormAppearance=X,e.AcroForm={ChoiceField:F,ListBox:H,ComboBox:B,EditBox:V,Button:j,PushButton:z,RadioButton:q,CheckBox:W,TextField:Y,PasswordField:G,Appearance:X}})((window.tmp=de).API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(e){var t="addImage_",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.getImageFileTypeByImageData=function(t,i){var a,r;i=i||"UNKNOWN";var s,l,o,u="UNKNOWN";for(o in e.isArrayBufferView(t)&&(t=e.arrayBufferToBinaryString(t)),n)for(s=n[o],a=0;a<s.length;a+=1){for(l=!0,r=0;r<s[a].length;r+=1)if(void 0!==s[a][r]&&s[a][r]!==t.charCodeAt(r)){l=!1;break}if(!0===l){u=o;break}}return"UNKNOWN"===u&&"UNKNOWN"!==i&&(console.warn('FileType of Image not recognized. Processing image as "'+i+'".'),u=i),u},r=function e(t){for(var n=this.internal.newObject(),i=this.internal.write,a=this.internal.putStream,r=(0,this.internal.getFilters)();-1!==r.indexOf("FlateEncode");)r.splice(r.indexOf("FlateEncode"),1);t.n=n;var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.w}),s.push({key:"Height",value:t.h}),t.cs===this.color_spaces.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?n+2:n+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.cs}),t.cs===this.color_spaces.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bpc}),"dp"in t&&s.push({key:"DecodeParms",value:"<<"+t.dp+">>"}),"trns"in t&&t.trns.constructor==Array){for(var l="",o=0,u=t.trns.length;o<u;o++)l+=t.trns[o]+" "+t.trns[o]+" ";s.push({key:"Mask",value:"["+l+"]"})}if("smask"in t&&s.push({key:"SMask",value:n+1+" 0 R"}),a({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:void 0!==t.f?["/"+t.f]:void 0}),i("endobj"),"smask"in t){var c={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:"/Predictor "+t.p+" /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,data:t.smask};"f"in t&&(c.f=t.f),e.call(this,c)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),a({data:this.arrayBufferToBinaryString(new Uint8Array(t.pal))}),i("endobj"))},s=function(){var e=this.internal.collections[t+"images"];for(var n in e)r.call(this,e[n])},l=function(){var e,n=this.internal.collections[t+"images"],i=this.internal.write;for(var a in n)i("/I"+(e=n[a]).i,e.n,"0","R")},o=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===i(e)&&1===e.nodeType},c=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var i=""+t.getAttribute("src");if(0===i.indexOf("data:image/"))return unescape(i);var a=e.loadFile(i);if(void 0!==a)return btoa(a)}if("CANVAS"===t.nodeName){var r=t;return t.toDataURL("image/jpeg",1)}(r=document.createElement("canvas")).width=t.clientWidth||t.width,r.height=t.clientHeight||t.height;var s=r.getContext("2d");if(!s)throw"addImage requires canvas to be supported by browser.";return s.drawImage(t,0,0,r.width,r.height),r.toDataURL("png"==(""+n).toLowerCase()?"image/png":"image/jpeg")},h=function(e,t){var n;if(t)for(var i in t)if(e===t[i].alias){n=t[i];break}return n};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(e){var t,n=0;if(0===(e=e||"").length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},e.isString=function(e){return"string"==typeof e},e.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+\/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(e.substr(-2))&&(t=!1),t},e.extractInfoFromBase64DataURI=function(e){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(e)},e.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var i=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(t[0]);Array.isArray(i)&&(n={mimeType:i[1],charset:i[2],data:t[1]})}return n},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(e){return!!this.supportsArrayBuffer()&&e instanceof ArrayBuffer},e.isArrayBufferView=function(e){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},e.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n},e.arrayBufferToBinaryString=function(e){if("function"==typeof atob)return atob(this.arrayBufferToBase64(e))},e.arrayBufferToBase64=function(e){for(var t,n="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(e),r=a.byteLength,s=r%3,l=r-s,o=0;o<l;o+=3)n+=i[(16515072&(t=a[o]<<16|a[o+1]<<8|a[o+2]))>>18]+i[(258048&t)>>12]+i[(4032&t)>>6]+i[63&t];return 1==s?n+=i[(252&(t=a[l]))>>2]+i[(3&t)<<4]+"==":2==s&&(n+=i[(64512&(t=a[l]<<8|a[l+1]))>>10]+i[(1008&t)>>4]+i[(15&t)<<2]+"="),n},e.createImageInfo=function(e,t,n,i,a,r,s,l,o,u,c,h,d){var p={alias:l,w:t,h:n,cs:i,bpc:a,i:s,data:e};return r&&(p.f=r),o&&(p.dp=o),u&&(p.trns=u),c&&(p.pal=c),h&&(p.smask=h),d&&(p.p=d),p},e.addImage=function(n,a,r,d,p,f,m,g,v){var y="";if("string"!=typeof a){var b=f;f=p,p=d,d=r,r=a,a=b}if("object"===i(n)&&!u(n)&&"imageData"in n){var k=n;n=k.imageData,a=k.format||a||"UNKNOWN",r=k.x||r||0,d=k.y||d||0,p=k.w||p,f=k.h||f,m=k.alias||m,g=k.compression||g,v=k.rotation||k.angle||v}var C=this.internal.getFilters();if(void 0===g&&-1!==C.indexOf("FlateEncode")&&(g="SLOW"),"string"==typeof n&&(n=unescape(n)),isNaN(r)||isNaN(d))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var w,_,x,S,E,O,I,A=(function(){var e=this.internal.collections[t+"images"];return e||(this.internal.collections[t+"images"]=e={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l)),e}).call(this);if(!((w=h(n,A))||(u(n)&&(n=c(n,a)),(null==(I=m)||0===I.length)&&(m="string"==typeof(O=n)?e.sHashCode(O):e.isArrayBufferView(O)?e.sHashCode(e.arrayBufferToBinaryString(O)):null),w=h(m,A)))){if(this.isString(n)&&(""!==(y=this.convertStringToImageData(n))?n=y:void 0!==(y=e.loadFile(n))&&(n=y)),a=this.getImageFileTypeByImageData(n,a),!o(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(this.supportsArrayBuffer()&&(n instanceof Uint8Array||(_=n,n=this.binaryStringToUint8Array(n))),!(w=this["process"+a.toUpperCase()](n,(E=0,(S=A)&&(E=Object.keys?Object.keys(S).length:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}(S)),E),m,((x=g)&&"string"==typeof x&&(x=x.toUpperCase()),x in e.image_compression?x:e.image_compression.NONE),_)))throw new Error("An unknown error occurred whilst processing the image")}return(function(e,t,n,i,a,r,s,l){var o=(function(e,t,n){return e||t||(t=e=-96),e<0&&(e=-1*n.w*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.h*72/t/this.internal.scaleFactor),0===e&&(e=t*n.w/n.h),0===t&&(t=e*n.h/n.w),[e,t]}).call(this,n,i,a),u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;if(n=o[0],i=o[1],s[r]=a,l){l*=Math.PI/180;var h=Math.cos(l),d=Math.sin(l),p=function(e){return e.toFixed(4)},f=[p(h),p(d),p(-1*d),p(h),0,0,"cm"]}this.internal.write("q"),l?(this.internal.write([1,"0","0",1,u(e),c(t+i),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([u(n),"0","0",u(i),"0","0","cm"].join(" "))):this.internal.write([u(n),"0","0",u(i),u(e),c(t+i),"cm"].join(" ")),this.internal.write("/I"+a.i+" Do"),this.internal.write("Q")}).call(this,r,d,p,f,w,w.i,A,v),this},e.convertStringToImageData=function(t){var n,i="";if(this.isString(t)){var a;n=null!==(a=this.extractImageFromDataUrl(t))?a.data:t;try{i=atob(n)}catch(t){throw e.validateStringAsBase64(n)?new Error("atob-Error in jsPDF.convertStringToImageData "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return i};var d=function(e,t){return e.subarray(t,t+5)};e.processJPEG=function(e,t,n,i,r,s){var l,o=this.decode.DCT_DECODE;if(!this.isString(e)&&!this.isArrayBuffer(e)&&!this.isArrayBufferView(e))return null;if(this.isString(e)&&(l=function(e){var t;if("JPEG"!==a(e))throw new Error("getJpegSize requires a binary string jpeg file");for(var n=256*e.charCodeAt(4)+e.charCodeAt(5),i=4,r=e.length;i<r;){if(255!==e.charCodeAt(i+=n))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(i+1)||193===e.charCodeAt(i+1)||194===e.charCodeAt(i+1)||195===e.charCodeAt(i+1)||196===e.charCodeAt(i+1)||197===e.charCodeAt(i+1)||198===e.charCodeAt(i+1)||199===e.charCodeAt(i+1))return t=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),[256*e.charCodeAt(i+7)+e.charCodeAt(i+8),t,e.charCodeAt(i+9)];n=256*e.charCodeAt(i+=2)+e.charCodeAt(i+1)}}(e)),this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)&&(l=function(e){if(65496!=(e[0]<<8|e[1]))throw new Error("Supplied data is not a JPEG");for(var t,n=e.length,i=(e[4]<<8)+e[5],a=4;a<n;){if(i=((t=d(e,a+=i))[2]<<8)+t[3],(192===t[1]||194===t[1])&&255===t[0]&&7<i)return{width:((t=d(e,a+5))[2]<<8)+t[3],height:(t[0]<<8)+t[1],numcomponents:t[4]};a+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(e),e=r||this.arrayBufferToBinaryString(e)),void 0===s)switch(l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;default:case 3:s=this.color_spaces.DEVICE_RGB}return this.createImageInfo(e,l.width,l.height,s,8,o,t,n)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)},e.getImageProperties=function(t){var n,i,a="";if(u(t)&&(t=c(t)),this.isString(t)&&(""!==(a=this.convertStringToImageData(t))?t=a:void 0!==(a=e.loadFile(t))&&(t=a)),i=this.getImageFileTypeByImageData(t),!o(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(t=this.binaryStringToUint8Array(t))),!(n=this["process"+i.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:i,width:n.w,height:n.h,colorSpace:n.cs,compressionMode:n.f,bitsPerComponent:n.bpc}}}(de.API),r=de.API,de.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var t=this.internal.getPageInfoByObjId(e.objId),n=e.pageContext.annotations,i=function(e){if(void 0!==e&&""!=e)return!0},a=!1,r=0;r<n.length&&!a;r++)switch((o=n[r]).type){case"link":if(i(o.options.url)||i(o.options.pageNumber)){a=!0;break}case"reference":case"text":case"freetext":a=!0}if(0!=a){this.internal.write("/Annots [");var s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;for(r=0;r<n.length;r++){var o;switch((o=n[r]).type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var u=this.internal.newAdditionalObject(),c=this.internal.newAdditionalObject(),h=o.title||"Note";m="<</Type /Annot /Subtype /Text "+(p="/Rect ["+s(o.bounds.x)+" "+l(o.bounds.y+o.bounds.h)+" "+s(o.bounds.x+o.bounds.w)+" "+l(o.bounds.y)+"] ")+"/Contents ("+o.contents+")",m+=" /Popup "+c.objId+" 0 R",m+=" /P "+t.objId+" 0 R",u.content=m+=" /T ("+h+") >>";var d=u.objId+" 0 R";m="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+s(o.bounds.x+30)+" "+l(o.bounds.y+o.bounds.h)+" "+s(o.bounds.x+o.bounds.w+30)+" "+l(o.bounds.y)+"] ")+" /Parent "+d,o.open&&(m+=" /Open true"),c.content=m+=" >>",this.internal.write(u.objId,"0 R",c.objId,"0 R");break;case"freetext":var p="/Rect ["+s(o.bounds.x)+" "+l(o.bounds.y)+" "+s(o.bounds.x+o.bounds.w)+" "+l(o.bounds.y+o.bounds.h)+"] ";m="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+o.contents+")",m+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+(o.color||"#000000")+")",m+=" /Border [0 0 0]",this.internal.write(m+=" >>");break;case"link":if(o.options.name){var f=this.annotations._nameMap[o.options.name];o.options.pageNumber=f.page,o.options.top=f.y}else o.options.top||(o.options.top=0);p="/Rect ["+s(o.x)+" "+l(o.y)+" "+s(o.x+o.w)+" "+l(o.y+o.h)+"] ";var m="";if(o.options.url)m="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+o.options.url+") >>";else if(o.options.pageNumber)switch(m="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":m+=" /Fit]";break;case"FitH":m+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,m+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var g=l(o.options.top);o.options.left=o.options.left||0,void 0===o.options.zoom&&(o.options.zoom=0),m+=" /XYZ "+o.options.left+" "+g+" "+o.options.zoom+"]"}""!=m&&this.internal.write(m+=" >>")}}this.internal.write("]")}}]),r.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},r.link=function(e,t,n,i,a){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:e,y:t,w:n,h:i,options:a,type:"link"})},r.textWithLink=function(e,t,n,i){var a=this.getTextWidth(e),r=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(e,t,n),this.link(t,(n+=.2*r)-r,a,r,i),a},r.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var r=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},l=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&r(e)&&t[e.charCodeAt(0)].length<=2},o=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&0<=a.indexOf(e.charCodeAt(0))},u=(e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&r(e)&&1<=t[e.charCodeAt(0)].length},e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&r(e)&&2<=t[e.charCodeAt(0)].length}),c=(e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&r(e)&&3<=t[e.charCodeAt(0)].length},e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&r(e)&&4==t[e.charCodeAt(0)].length}),h=e.__arabicParser__.resolveLigatures=function(e){var t=0,i=n,a=0,r="",s=0;for(t=0;t<e.length;t+=1)void 0!==i[e.charCodeAt(t)]?(s++,"number"==typeof(i=i[e.charCodeAt(t)])&&(a=-1!==(a=d(e.charAt(t),e.charAt(t-s),e.charAt(t+1)))?a:0,r+=String.fromCharCode(i),i=n,s=0),t===e.length-1&&(i=n,r+=e.charAt(t-(s-1)),t-=s-1,s=0)):(i=n,r+=e.charAt(t-s),t-=s,s=0);return r},d=(e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==i[e.charCodeAt(0)]},e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===r(e)?-1:!u(e)||!s(t)&&!s(n)||!s(n)&&l(t)||l(e)&&!s(t)||l(e)&&o(t)||l(e)&&l(t)?0:c(e)&&s(t)&&!l(t)&&s(n)&&u(n)?3:l(e)||!s(n)?1:2:-1}),p=e.__arabicParser__.processArabic=e.processArabic=function(e){var n=0,i=0,a=0,r="",l="",o="",u=(e=e||"").split("\\s+"),c=[];for(n=0;n<u.length;n+=1){for(c.push(""),i=0;i<u[n].length;i+=1)l=u[n][i-1],o=u[n][i+1],s(r=u[n][i])?(a=d(r,l,o),c[n]+=-1!==a?String.fromCharCode(t[r.charCodeAt(0)][a]):r):c[n]+=r;c[n]=h(c[n])}return c.join(" ")};e.events.push(["preProcessText",function(e){var t=e.text,n=[];if("[object Array]"===Object.prototype.toString.call(t)){var i=0;for(n=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?n.push([p(t[i][0]),t[i][1],t[i][2]]):n.push([p(t[i])]);e.text=n}else e.text=p(t)}])}(de.API),de.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},s=de.API,(l=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(e){i=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return(this.pdf.context2d._canvas=this).pdf.context2d},l.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new l,this.canvas.pdf=this}]),c={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1,d=function(e,t,n,i,a){c={x:e,y:t,w:n,h:i,ln:a}},p=function(){return c},f={left:0,top:0,bottom:0},(o=de.API).setHeaderFunction=function(e){u=e},o.getTextDimensions=function(e,t){var n=this.table_font_size||this.internal.getFontSize(),i=(this.internal.getFont(),(t=t||{}).scaleFactor||this.internal.scaleFactor),a=0,r=0,s=0;if("string"==typeof e)0!=(a=this.getStringUnitWidth(e)*n)&&(r=1);else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var l=0;l<e.length;l++)a<(s=this.getStringUnitWidth(e[l])*n)&&(a=s);0!==a&&(r=e.length)}return{w:a/=i,h:Math.max((r*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},o.cellAddPage=function(){var e=this.margins||f;this.addPage(),d(e.left,e.top,void 0,void 0),h+=1},o.cellInitialize=function(){c={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1},o.cell=function(e,t,n,i,a,r,s){var l=p(),o=!1;if(void 0!==l.ln)if(l.ln===r)e=l.x+l.w,t=l.y;else{var u=this.margins||f;l.y+l.h+i+13>=this.internal.pageSize.getHeight()-u.bottom&&(this.cellAddPage(),o=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(r,!0)),t=p().y+p().h,o&&(t=23)}if(void 0!==a[0])if(this.printingHeaderRow?this.rect(e,t,n,i,"FD"):this.rect(e,t,n,i),"right"===s){a instanceof Array||(a=[a]);for(var c=0;c<a.length;c++){var h=a[c],m=this.getStringUnitWidth(h)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(h,e+n-m-3,t+this.internal.getLineHeight()*(c+1))}}else this.text(a,e+3,t+this.internal.getLineHeight());return d(e,t,n,i,r),this},o.arrayMax=function(e,t){var n,i,a,r=e[0];for(n=0,i=e.length;n<i;n+=1)a=e[n],t?-1===t(r,a)&&(r=a):r<a&&(r=a);return r},o.table=function(e,t,n,i,a){if(!n)throw"No data for PDF table";var r,s,l,u,d,p,m,g,v,y=[],b=[],k={},C={},w=[],_=[],x=!1,S=!0,E=12,O=f;if(O.width=this.internal.pageSize.getWidth(),a&&(!0===a.autoSize&&(x=!0),!1===a.printHeaders&&(S=!1),a.fontSize&&(E=a.fontSize),a.css&&void 0!==a.css["font-size"]&&(E=16*a.css["font-size"]),a.margins&&(O=a.margins)),this.lnMod=0,c={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1,this.printHeaders=S,this.margins=O,this.setFontSize(E),this.table_font_size=E,null==i)y=Object.keys(n[0]);else if(i[0]&&"string"!=typeof i[0])for(s=0,l=i.length;s<l;s+=1)y.push((r=i[s]).name),b.push(r.prompt),C[r.name]=r.width*(19.049976/25.4);else y=i;if(x)for(v=function(e){return e[r]},s=0,l=y.length;s<l;s+=1){for(k[r=y[s]]=n.map(v),w.push(this.getTextDimensions(b[s]||r,{scaleFactor:1}).w),p=0,u=(d=k[r]).length;p<u;p+=1)w.push(this.getTextDimensions(d[p],{scaleFactor:1}).w);C[r]=o.arrayMax(w),w=[]}if(S){var I=this.calculateLineHeight(y,C,b.length?b:y);for(s=0,l=y.length;s<l;s+=1)_.push([e,t,C[r=y[s]],I,String(b.length?b[s]:r)]);this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}for(s=0,l=n.length;s<l;s+=1)for(I=this.calculateLineHeight(y,C,m=n[s]),p=0,g=y.length;p<g;p+=1)this.cell(e,t,C[r=y[p]],I,m[r],s+2,r.align);return this.lastCellPos=c,this.table_x=e,this.table_y=t,this},o.calculateLineHeight=function(e,t,n){for(var i,a=0,r=0;r<e.length;r++){n[i=e[r]]=this.splitTextToSize(String(n[i]),t[i]-3);var s=this.internal.getLineHeight()*n[i].length+3;a<s&&(a=s)}return a},o.setTableHeaderRow=function(e){this.tableHeaderRow=e},o.printHeaderRow=function(e,t){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,i,a,r;if(this.printingHeaderRow=!0,void 0!==u){var s=u(this,h);d(s[0],s[1],s[2],s[3],-1)}this.setFontStyle("bold");var l=[];for(a=0,r=this.tableHeaderRow.length;a<r;a+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[a],t&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,l.push(n)),i=[].concat(n),this.cell.apply(this,i.concat(e));0<l.length&&this.setTableHeaderRow(l),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(e,t){var n,a,r,s,l,o=function(e){return this.isStrokeTransparent=(e=e||{}).isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new N,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new P,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new P,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),n=this.internal.f2,a=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return e}});var t=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return t},set:function(e){t=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var r=!1;Object.defineProperty(this,"autoPaging",{get:function(){return r},set:function(e){r=Boolean(e)}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}});var u=new o;Object.defineProperty(this,"ctx",{get:function(){return u},set:function(e){e instanceof o&&(u=e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(e){u.path=e}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(e){h=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=c(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=c(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(t.r,t.g,t.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],i=t[3],a=t[4],r=t[5],s=t[6];a="px"===r?Math.floor(parseFloat(a)):"em"===r?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)),this.pdf.setFontSize(a);var l="";("bold"===i||700<=parseInt(i,10)||"bold"===n)&&(l="bold"),"italic"===n&&(l+="italic"),0===l.length&&(l="normal");for(var o="",u=s.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),c={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<u.length;h++){if(void 0!==this.pdf.internal.getFont(u[h],l,{noFallback:!0,disableWarning:!0})){o=u[h];break}if("bolditalic"===l&&void 0!==this.pdf.internal.getFont(u[h],"bold",{noFallback:!0,disableWarning:!0}))o=u[h],l="bold";else if(void 0!==this.pdf.internal.getFont(u[h],"normal",{noFallback:!0,disableWarning:!0})){o=u[h],l="normal";break}}if(""===o)for(h=0;h<u.length;h++)if(c[u[h]]){o=c[u[h]];break}this.pdf.setFont(o=""===o?"Times":o,l)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.fill=function(){g.call(this,"fill",!1)},u.prototype.stroke=function(){g.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new P(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new P(e,t)},u.prototype.closePath=function(){var e=new P(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===i(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new P(this.path[t+1].x,this.path[t+1].y),this.path.push({type:"lt",x:e.x,y:e.y});break}"object"===i(this.path[t+2])&&"number"==typeof this.path[t+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[t+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new P(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new P(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new P(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),g.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,i){if(isNaN(n)||isNaN(i)||isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new P(n,i)),r=this.ctx.transform.applyToPoint(new P(e,t));this.path.push({type:"qct",x1:r.x,y1:r.y,x:a.x,y:a.y}),this.ctx.lastPoint=new P(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,n,i,a,r){if(isNaN(a)||isNaN(r)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new P(a,r)),l=this.ctx.transform.applyToPoint(new P(e,t)),o=this.ctx.transform.applyToPoint(new P(n,i));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:o.x,y2:o.y,x:s.x,y:s.y}),this.ctx.lastPoint=new P(s.x,s.y)},u.prototype.arc=function(e,t,n,i,a,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(a))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(r=Boolean(r),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new P(e,t));e=s.x,t=s.y;var l=this.ctx.transform.applyToPoint(new P(0,n)),o=this.ctx.transform.applyToPoint(new P(0,0));n=Math.sqrt(Math.pow(l.x-o.x,2)+Math.pow(l.y-o.y,2))}Math.abs(a-i)>=2*Math.PI&&(i=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:i,endAngle:a,counterclockwise:r})},u.prototype.arcTo=function(e,t,n,i,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,i),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(e,t,n,i),this.stroke())},u.prototype.clearRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,i))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new o(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var c=function(e){var t,n,i,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))a=i=n=t=0;else{var r=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==r)t=parseInt(r[1]),n=parseInt(r[2]),i=parseInt(r[3]),a=1;else if(null!==(r=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(e)))t=parseInt(r[1]),n=parseInt(r[2]),i=parseInt(r[3]),a=parseFloat(r[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new RGBColor(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,i=e.substring(3,4),i+=i):(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),i=parseInt(i,16)}}return{r:t,g:n,b:i,a:a,style:e}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},d=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!h.call(this)){n=y.call(this,n);var a=A(this.ctx.transform.rotation),r=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:r,angle:a,align:this.textAlign,maxWidth:i})}},u.prototype.strokeText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){i=isNaN(i)?void 0:i,n=y.call(this,n);var a=A(this.ctx.transform.rotation),r=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:r,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:i})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,i=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*i/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new N(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new N(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new N(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,i,a,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(a)||isNaN(r))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new N(e,t,n,i,a,r);this.ctx.transform=this.ctx.transform.multiply(s)},u.prototype.setTransform=function(e,t,n,i,a,r){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,i=isNaN(i)?1:i,a=isNaN(a)?0:a,r=isNaN(r)?0:r,this.ctx.transform=new N(e,t,n,i,a,r)},u.prototype.drawImage=function(e,t,n,i,a,r,s,l,o){var u=this.pdf.getImageProperties(e),c=1,h=1,d=1,f=1;void 0!==i&&void 0!==l&&(d=l/i,f=o/a,c=u.width/i*l/i,h=u.height/a*o/a),void 0===r&&(r=t,s=n,n=t=0),void 0!==i&&void 0===l&&(l=i,o=a),void 0===i&&void 0===l&&(l=u.width,o=u.height);for(var g,y=this.ctx.transform.decompose(),b=A(y.rotate.shx),k=new N,C=((k=(k=(k=k.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToPoint(new P(l,o)),k.applyToRectangle(new L(r-t*d,s-n*f,i*c,a*h))),w=p.call(this,C),_=[],x=0;x<w.length;x+=1)-1===_.indexOf(w[x])&&_.push(w[x]);if(_.sort(),this.autoPaging)for(var S=_[_.length-1],E=_[0];E<S+1;E++){if(this.pdf.setPage(E),0!==this.ctx.clip_path.length){var O=this.path;g=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(g,this.posX,-1*this.pdf.internal.pageSize.height*(E-1)+this.posY),v.call(this,"fill",!0),this.path=O}var I=JSON.parse(JSON.stringify(C));I=m([I],this.posX,-1*this.pdf.internal.pageSize.height*(E-1)+this.posY)[0],this.pdf.addImage(e,"jpg",I.x,I.y,I.w,I.h,null,null,b)}else this.pdf.addImage(e,"jpg",C.x,C.y,C.w,C.h,null,null,b)};var p=function(e,t,n){var i=[];switch(t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,e.type){default:case"mt":case"lt":i.push(Math.floor((e.y+this.posY)/n)+1);break;case"arc":i.push(Math.floor((e.y+this.posY-e.radius)/n)+1),i.push(Math.floor((e.y+this.posY+e.radius)/n)+1);break;case"qct":var a=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);i.push(Math.floor(a.y/n)+1),i.push(Math.floor((a.y+a.h)/n)+1);break;case"bct":var r=T(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);i.push(Math.floor(r.y/n)+1),i.push(Math.floor((r.y+r.h)/n)+1);break;case"rect":i.push(Math.floor((e.y+this.posY)/n)+1),i.push(Math.floor((e.y+e.h+this.posY)/n)+1)}for(var s=0;s<i.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<i[s];)f.call(this);return i},f=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,i=this.lineCap,a=this.lineWidth,r=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=i,this.lineWidth=a,this.lineJoin=r},m=function(e,t,n){for(var i=0;i<e.length;i++)switch(e[i].type){case"bct":e[i].x2+=t,e[i].y2+=n;case"qct":e[i].x1+=t,e[i].y1+=n;case"mt":case"lt":case"arc":default:e[i].x+=t,e[i].y+=n}return e},g=function(e,t){for(var n,i,a=this.fillStyle,r=this.strokeStyle,s=this.lineCap,l=this.lineWidth,o=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),c=JSON.parse(JSON.stringify(this.path)),h=[],d=0;d<c.length;d++)if(void 0!==c[d].x)for(var g=p.call(this,c[d]),y=0;y<g.length;y+=1)-1===h.indexOf(g[y])&&h.push(g[y]);for(d=0;d<h.length;d++)for(;this.pdf.internal.getNumberOfPages()<h[d];)f.call(this);if(h.sort(),this.autoPaging){var b=h[h.length-1];for(d=h[0];d<b+1;d++){if(this.pdf.setPage(d),this.fillStyle=a,this.strokeStyle=r,this.lineCap=s,this.lineWidth=l,this.lineJoin=o,0!==this.ctx.clip_path.length){var k=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(n,this.posX,-1*this.pdf.internal.pageSize.height*(d-1)+this.posY),v.call(this,e,!0),this.path=k}i=JSON.parse(JSON.stringify(u)),this.path=m(i,this.posX,-1*this.pdf.internal.pageSize.height*(d-1)+this.posY),!1!==t&&0!==d||v.call(this,e,t)}}else v.call(this,e,t);this.path=u},v=function(e,t){if(("stroke"!==e||t||!d.call(this))&&("stroke"===e||t||!h.call(this))){for(var n,i=[],a=this.path,r=0;r<a.length;r++){var s=a[r];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var l=i.length;if(!isNaN(a[r-1].x)){var o=[s.x-a[r-1].x,s.y-a[r-1].y];if(0<l)for(;0<=l;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(o),i[l-1].abs.push(s);break}}break;case"bct":i[i.length-1].deltas.push(o=[s.x1-a[r-1].x,s.y1-a[r-1].y,s.x2-a[r-1].x,s.y2-a[r-1].y,s.x-a[r-1].x,s.y-a[r-1].y]);break;case"qct":i[i.length-1].deltas.push(o=[a[r-1].x+2/3*(s.x1-a[r-1].x)-a[r-1].x,a[r-1].y+2/3*(s.y1-a[r-1].y)-a[r-1].y,s.x+2/3*(s.x1-s.x)-a[r-1].x,s.y+2/3*(s.y1-s.y)-a[r-1].y,s.x-a[r-1].x,s.y-a[r-1].y]);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}for(n=t?null:"stroke"===e?"stroke":"fill",r=0;r<i.length;r++){if(i[r].arc)for(var u=i[r].abs,c=0;c<u.length;c++){var p=u[c];if(void 0!==p.startAngle){var f=A(p.startAngle),m=A(p.endAngle),g=p.x,v=p.y;b.call(this,g,v,p.radius,f,m,p.counterclockwise,n,t)}else x.call(this,p.x,p.y)}i[r].arc||!0===i[r].close||!0===i[r].begin||S.call(this,i[r].deltas,g=i[r].start.x,v=i[r].start.y,null,null)}n&&k.call(this,n),t&&C.call(this)}},y=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(e,t,n,i,a,r,s,l){for(var o=D(i),u=D(a),c=O.call(this,n,o,u,r),h=0;h<c.length;h++){var d=c[h];0===h&&w.call(this,d.x1+e,d.y1+t),E.call(this,e,t,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}l?C.call(this):k.call(this,s)},k=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip()},w=function(e,t){this.pdf.internal.out(a(e)+" "+r(t)+" m")},_=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.ctx.transform.applyToPoint(new P(e.x,e.y)),i=this.ctx.transform.decompose(),a=new N;a=(a=(a=a.multiply(i.translate)).multiply(i.skew)).multiply(i.scale);for(var r,s=this.pdf.getTextDimensions(e.text),l=this.ctx.transform.applyToRectangle(new L(e.x,e.y,s.w,s.h)),o=a.applyToRectangle(new L(e.x,e.y-s.h,s.w,s.h)),u=p.call(this,o),c=[],h=0;h<u.length;h+=1)-1===c.indexOf(u[h])&&c.push(u[h]);if(c.sort(),!0===this.autoPaging)for(var d=c[c.length-1],f=c[0];f<d+1;f++){if(this.pdf.setPage(f),0!==this.ctx.clip_path.length){var g=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(r,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),v.call(this,"fill",!0),this.path=g}var y=JSON.parse(JSON.stringify(l));if(y=m([y],this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY)[0],.01<=e.scale){var b=this.pdf.internal.getFontSize();this.pdf.setFontSize(b*e.scale)}this.pdf.text(e.text,y.x,y.y,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),.01<=e.scale&&this.pdf.setFontSize(b)}else.01<=e.scale&&(b=this.pdf.internal.getFontSize(),this.pdf.setFontSize(b*e.scale)),this.pdf.text(e.text,n.x+this.posX,n.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),.01<=e.scale&&this.pdf.setFontSize(b)},x=function(e,t,n,i){i=i||0,this.pdf.internal.out(a(e+(n=n||0))+" "+r(t+i)+" l")},S=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},E=function(e,t,i,a,r,o,u,c){this.pdf.internal.out([n(s(i+e)),n(l(a+t)),n(s(r+e)),n(l(o+t)),n(s(u+e)),n(l(c+t)),"c"].join(" "))},O=function(e,t,n,i){var a=2*Math.PI,r=t;(r<a||a<r)&&(r%=a);var s=n;(s<a||a<s)&&(s%=a);for(var l=[],o=Math.PI/2,u=i?-1:1,c=t,h=Math.min(a,Math.abs(s-r));1e-5<h;){var d=c+u*Math.min(h,o);l.push(I.call(this,e,c,d)),h-=Math.abs(d-c),c=d}return l},I=function(e,t,n){var i=(n-t)/2,a=e*Math.cos(i),r=e*Math.sin(i),s=a,l=-r,o=s*s+l*l,u=o+s*a+l*r,c=4/3*(Math.sqrt(2*o*u)-u)/(s*r-l*a),h=s-c*l,d=l+c*s,p=h,f=-d,m=i+t,g=Math.cos(m),v=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:h*g-d*v,y2:h*v+d*g,x3:p*g-f*v,y3:p*v+f*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},A=function(e){return 180*e/Math.PI},D=function(e){return e*Math.PI/180},M=function(e,t,n,i,a,r){var s=e+.5*(n-e),l=t+.5*(i-t),o=a+.5*(n-a),u=r+.5*(i-r),c=Math.min(e,a,s,o),h=Math.max(e,a,s,o),d=Math.min(t,r,l,u),p=Math.max(t,r,l,u);return new L(c,d,h-c,p-d)},T=function(e,t,n,i,a,r,s,l){for(var o,u,c,h,d,p,f,m,g,v,y,b,k,C=n-e,w=i-t,_=a-n,x=r-i,S=s-a,E=l-r,O=0;O<41;O++)m=(p=(u=e+(o=O/40)*C)+o*((h=n+o*_)-u))+o*(h+o*(a+o*S-h)-p),g=(f=(c=t+o*w)+o*((d=i+o*x)-c))+o*(d+o*(r+o*E-d)-f),k=0==O?(b=v=m,y=g):(v=Math.min(v,m),y=Math.min(y,g),b=Math.max(b,m),Math.max(k,g));return new L(Math.round(v),Math.round(y),Math.round(b-v),Math.round(k-y))},P=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},L=function(e,t,n,i){P.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var r=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}}),this},N=function(e,t,n,i,a,r){var s=[];return Object.defineProperty(this,"sx",{get:function(){return s[0]},set:function(e){s[0]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return s[1]},set:function(e){s[1]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return s[2]},set:function(e){s[2]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return s[3]},set:function(e){s[3]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return s[4]},set:function(e){s[4]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return s[5]},set:function(e){s[5]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(e)?1:e,this.shy=isNaN(t)?0:t,this.shx=isNaN(n)?0:n,this.sy=isNaN(i)?1:i,this.tx=isNaN(a)?0:a,this.ty=isNaN(r)?0:r,this};N.prototype.multiply=function(e){return new N(e.sx*this.sx+e.shy*this.shx,e.sx*this.shy+e.shy*this.sy,e.shx*this.sx+e.sy*this.shx,e.shx*this.shy+e.sy*this.sy,e.tx*this.sx+e.ty*this.shx+this.tx,e.tx*this.shy+e.ty*this.sy+this.ty)},N.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,a=this.tx,r=this.ty,s=Math.sqrt(e*e+t*t),l=(e/=s)*n+(t/=s)*i;n-=e*l,i-=t*l;var o=Math.sqrt(n*n+i*i);return l/=o,e*(i/=o)<t*(n/=o)&&(e=-e,t=-t,l=-l,s=-s),{scale:new N(s,0,0,o,0,0),translate:new N(1,0,0,1,a,r),rotate:new N(e,t,-t,e,0,0),skew:new N(1,0,l,1,0,0)}},N.prototype.applyToPoint=function(e){return new P(e.x*this.sx+e.y*this.shx+this.tx,e.x*this.shy+e.y*this.sy+this.ty)},N.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new P(e.x+e.w,e.y+e.h));return new L(t.x,t.y,n.x-t.x,n.y-t.y)},N.prototype.clone=function(){return new N(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)}}(de.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),g=function(e){var t,n,i,a,r,s,l,o,u,c;for(/[^\x00-\xFF]/.test(e),n=[],i=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i<a;i+=4)0!==(r=(e.charCodeAt(i)<<24)+(e.charCodeAt(i+1)<<16)+(e.charCodeAt(i+2)<<8)+e.charCodeAt(i+3))?(s=(r=((r=((r=((r=(r-(c=r%85))/85)-(u=r%85))/85)-(o=r%85))/85)-(l=r%85))/85)%85,n.push(s+33,l+33,o+33,u+33,c+33)):n.push(122);return function(e,n){for(var i=t.length;0<i;i--)e.pop()}(n),String.fromCharCode.apply(String,n)+"~>"},v=function(e){var t,n,i,a,r,s=String,l="length",o="charCodeAt",u="slice",c="replace";for(e[u](-2),e=e[u](0,-2)[c](/\s/g,"")[c]("z","!!!!!"),i=[],a=0,r=(e+=t="uuuuu"[u](e[l]%5||5))[l];a<r;a+=5)n=52200625*(e[o](a)-33)+614125*(e[o](a+1)-33)+7225*(e[o](a+2)-33)+85*(e[o](a+3)-33)+(e[o](a+4)-33),i.push(255&n>>24,255&n>>16,255&n>>8,255&n);return function(e,n){for(var i=t[l];0<i;i--)e.pop()}(i),s.fromCharCode.apply(s,i)},y=function(e){for(var t="",n=0;n<e.length;n+=1)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t+">"},b=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",i=0;i<e.length;i+=2)n+=String.fromCharCode("0x"+(e[i]+e[i+1]));return n},k=function(e,t){t=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},t);for(var n,i,a=[],r=e.length;r--;)a[r]=e.charCodeAt(r);return n=m.adler32cs.from(e),(i=new Deflater(6)).append(new Uint8Array(a)),e=i.flush(),(a=new Uint8Array(e.length+6)).set(new Uint8Array([120,156])),a.set(e,2),a.set(new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255]),e.length+2),String.fromCharCode.apply(null,a)},(m=de.API).processDataByFilters=function(e,t){var n=0,i=e||"",a=[];for("string"==typeof(t=t||[])&&(t=[t]),n=0;n<t.length;n+=1)switch(t[n]){case"ASCII85Decode":case"/ASCII85Decode":i=v(i),a.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":i=g(i),a.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":i=b(i),a.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":i=y(i),a.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":i=k(i),a.push("/FlateDecode");break;default:throw'The filter: "'+t[n]+'" is not implemented'}return{data:i,reverseChain:a.reverse().join(" ")}},(C=de.API).loadFile=function(e,t,n){var i;t=t||!0,n=n||function(){};try{i=function(e,t,n){var i=new XMLHttpRequest,a=[],r=0,s=function(e){var t=e.length,n=String.fromCharCode;for(r=0;r<t;r+=1)a.push(n(255&e.charCodeAt(r)));return a.join("")};if(i.open("GET",e,!t),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(i.onload=function(){return s(this.responseText)}),i.send(null),200===i.status)return t?s(i.responseText):void 0;console.warn('Unable to load file "'+e+'"')}(e,t)}catch(e){i=void 0}return i},C.loadImageFile=C.loadFile,w=de.API,_="undefined"!=typeof window&&window||"undefined"!=typeof global&&global,x=function(e){var t=i(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},S=function(e,t){var n=document.createElement(e);if(t.className&&(n.className=t.className),t.innerHTML){n.innerHTML=t.innerHTML;for(var i=n.getElementsByTagName("script"),a=i.length;0<a--;null)i[a].parentNode.removeChild(i[a])}for(var r in t.style)n.style[r]=t.style[r];return n},(((E=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),i=e.convert(Promise.resolve(),n);return(i=i.setProgress(1,e,1,[e])).set(t)}).prototype=Object.create(Promise.prototype)).constructor=E).convert=function(e,t){return e.__proto__=t||E.prototype,e},E.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},E.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(x(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.set({src:S("div",{innerHTML:e})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},E.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},E.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},t=function e(t,n){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||i.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value),i.addEventListener("load",(function(){i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft}),!0)),i}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=S("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=S("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(S("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},E.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then((function(){var e=Object.assign({},this.opt.html2canvas);if(delete e.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},E.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then((function(){var e=this.opt.jsPDF,t=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete t.onrendered,e.context2d.autoPaging=!0,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,t.windowHeight=t.windowHeight||0,t.windowHeight=0==t.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):t.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},E.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},E.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},E.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},E.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},E.prototype.outputImg=function(e,t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},E.prototype.isHtml2CanvasLoaded=function(){var e=void 0!==_.html2canvas;return e||console.error("html2canvas not loaded."),e},E.prototype.save=function(e){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},E.prototype.doCallback=function(e){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},E.prototype.set=function(e){if("object"!==x(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in E.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},E.prototype.get=function(e,t){return this.then((function(){var n=e in E.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},E.prototype.setMargin=function(e){return this.then((function(){switch(x(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},E.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||de.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},E.prototype.setProgress=function(e,t,n,i){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},E.prototype.updateProgress=function(e,t,n,i){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,i?this.progress.stack.concat(i):null)},E.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},E.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var i=this;e&&(e=e.bind(i)),t&&(t=t.bind(i));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?i:E.convert(Object.assign({},i),Promise.prototype),r=n.call(a,e,t);return E.convert(r,i.__proto__)},E.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},E.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},E.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return E.convert(t,this)},E.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},E.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},E.prototype.using=E.prototype.set,E.prototype.saveAs=E.prototype.save,E.prototype.export=E.prototype.output,E.prototype.run=E.prototype.then,de.getPageSize=function(e,t,n){if("object"===i(e)){var a=e;e=a.orientation,t=a.unit||t,n=a.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var r=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":var l=1;break;case"mm":l=72/25.4;break;case"cm":l=72/2.54;break;case"in":l=72;break;case"px":l=.75;break;case"pc":case"em":l=12;break;case"ex":l=6;break;default:throw"Invalid unit: "+t}if(s.hasOwnProperty(r))var o=s[r][1]/l,u=s[r][0]/l;else try{o=n[1],u=n[0]}catch(e){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e){if(e="p",o<u){var c=u;u=o,o=c}}else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",u<o&&(c=u,u=o,o=c)}return{width:u,height:o,unit:t,k:l}},w.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this;var n=new E(t);return t.worker?n:n.from(e).doCallback()},de.API.addJS=function(e){return A=e,this.internal.events.subscribe("postPutResources",(function(e){O=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(O+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),I=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+A+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==O&&void 0!==I&&this.internal.out("/Names <</JavaScript "+O+" 0 R>>")})),this},(D=de.API).events.push(["postPutResources",function(){var e=this,t=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var n=e.outline.render().split(/\r\n/),i=0;i<n.length;i++){var a=n[i],r=t.exec(a);null!=r&&e.internal.newObjectDeferredBegin(r[1],!1),e.internal.write(a)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,l=[];for(i=0;i<s;i++){var o=e.internal.newObject();l.push(o);var u=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var c=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<l.length;i++)e.internal.write("(page_"+(i+1)+")"+l[i]+" 0 R");e.internal.write(" ] >>","endobj"),e.internal.newObject(),e.internal.write("<< /Dests "+c+" 0 R"),e.internal.write(">>","endobj")}}]),D.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),D.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var i={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),0<e.children.length&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<t.children.length;i++){var a=t.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),0<i&&this.line("/Prev "+this.makeRef(t.children[i-1])),i<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[i+1])),0<a.children.length&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var r=this.count=this.count_r({count:0},a);if(0<r&&this.line("/Count "+r),a.options&&a.options.pageNumber){var s=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(i=0;i<t.children.length;i++)this.renderItems(a=t.children[i])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(e){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}]),T=function(){var e="function"==typeof Deflater;if(!e)throw new Error("requires deflate.js for compression");return e},P=function(e,t,n,i){var a=5,r=B;switch(i){case M.image_compression.FAST:a=3,r=H;break;case M.image_compression.MEDIUM:a=6,r=V;break;case M.image_compression.SLOW:a=9,r=j}e=R(e,t,n,r);var s=new Uint8Array(L(a)),l=N(e),o=new Deflater(a),u=o.append(e),c=o.flush(),h=s.length+u.length+c.length,d=new Uint8Array(h+4);return d.set(s),d.set(u,s.length),d.set(c,s.length+u.length),d[h++]=l>>>24&255,d[h++]=l>>>16&255,d[h++]=l>>>8&255,d[h++]=255&l,M.arrayBufferToBinaryString(d)},L=function(e,t){var n=Math.LOG2E*Math.log(32768)-8<<4|8,i=n<<8;return i|=Math.min(3,(t-1&255)>>1)<<6,i|=0,[n,255&(i+=31-i%31)]},N=function(e,t){for(var n,i=1,a=0,r=e.length,s=0;0<r;){for(r-=n=t<r?t:r;a+=i+=e[s++],--n;);i%=65521,a%=65521}return(a<<16|i)>>>0},R=function(e,t,n,i){for(var a,r,s,l=e.length/t,o=new Uint8Array(e.length+l),u=q(),c=0;c<l;c++){if(a=e.subarray(s=c*t,s+t),i)o.set(i(a,n,r),s+c);else{for(var h=0,d=u.length,p=[];h<d;h++)p[h]=u[h](a,n,r);var f=U(p.concat());o.set(p[f],s+c)}r=a}return o},F=function(e,t,n){var i=Array.apply([],e);return i.unshift(0),i},H=function(e,t,n){var i=[],a=0,r=e.length;for(i[0]=1;a<r;a++)i[a+1]=e[a]-(e[a-t]||0)+256&255;return i},B=function(e,t,n){var i=[],a=0,r=e.length;for(i[0]=2;a<r;a++)i[a+1]=e[a]-(n&&n[a]||0)+256&255;return i},V=function(e,t,n){var i=[],a=0,r=e.length;for(i[0]=3;a<r;a++)i[a+1]=e[a]+256-((e[a-t]||0)+(n&&n[a]||0)>>>1)&255;return i},j=function(e,t,n){var i,a=[],r=0,s=e.length;for(a[0]=4;r<s;r++)i=z(e[r-t]||0,n&&n[r]||0,n&&n[r-t]||0),a[r+1]=e[r]-i+256&255;return a},z=function(e,t,n){var i=e+t-n,a=Math.abs(i-e),r=Math.abs(i-t),s=Math.abs(i-n);return a<=r&&a<=s?e:r<=s?t:n},q=function(){return[F,H,B,V,j]},U=function(e){for(var t,n,i,a=0,r=e.length;a<r;)((t=W(e[a].slice(1)))<n||!n)&&(n=t,i=a),a++;return i},W=function(e){for(var t=0,n=e.length,i=0;t<n;)i+=Math.abs(e[t++]);return i},(M=de.API).processPNG=function(e,t,n,i,a){var r,s,l,o,u,c,h=this.color_spaces.DEVICE_RGB,d=this.decode.FLATE_DECODE,p=8;if(this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)){if("function"!=typeof PNG||"function"!=typeof Le)throw new Error("PNG support requires png.js and zlib.js");if(e=(r=new PNG(e)).imgData,p=r.bits,h=r.colorSpace,o=r.colors,-1!==[4,6].indexOf(r.colorType)){if(8===r.bits)for(var f,m=(E=32==r.pixelBitlength?new Uint32Array(r.decodePixels().buffer):16==r.pixelBitlength?new Uint16Array(r.decodePixels().buffer):new Uint8Array(r.decodePixels().buffer)).length,g=new Uint8Array(m*r.colors),v=new Uint8Array(m),y=r.pixelBitlength-r.bits,b=0,k=0;b<m;b++){for(C=E[b],f=0;f<y;)g[k++]=C>>>f&255,f+=r.bits;v[b]=C>>>f&255}if(16===r.bits){m=(E=new Uint32Array(r.decodePixels().buffer)).length,g=new Uint8Array(m*(32/r.pixelBitlength)*r.colors),v=new Uint8Array(m*(32/r.pixelBitlength));for(var C,w=1<r.colors,_=k=b=0;b<m;)C=E[b++],g[k++]=C>>>0&255,w&&(g[k++]=C>>>16&255,C=E[b++],g[k++]=C>>>0&255),v[_++]=C>>>16&255;p=8}i!==M.image_compression.NONE&&T()?(e=P(g,r.width*r.colors,r.colors,i),c=P(v,r.width,1,i)):(e=g,c=v,d=null)}if(3===r.colorType&&(h=this.color_spaces.INDEXED,u=r.palette,r.transparency.indexed)){var x=r.transparency.indexed,S=0;for(b=0,m=x.length;b<m;++b)S+=x[b];if((S/=255)==m-1&&-1!==x.indexOf(0))l=[x.indexOf(0)];else if(S!==m){var E=r.decodePixels();for(v=new Uint8Array(E.length),b=0,m=E.length;b<m;b++)v[b]=x[E[b]];c=P(v,r.width,1)}}var O=function(e){var t;switch(e){case M.image_compression.FAST:t=11;break;case M.image_compression.MEDIUM:t=13;break;case M.image_compression.SLOW:t=14;break;default:t=12}return t}(i);return s=d===this.decode.FLATE_DECODE?"/Predictor "+O+" /Colors "+o+" /BitsPerComponent "+p+" /Columns "+r.width:"/Colors "+o+" /BitsPerComponent "+p+" /Columns "+r.width,(this.isArrayBuffer(e)||this.isArrayBufferView(e))&&(e=this.arrayBufferToBinaryString(e)),(c&&this.isArrayBuffer(c)||this.isArrayBufferView(c))&&(c=this.arrayBufferToBinaryString(c)),this.createImageInfo(e,r.width,r.height,h,p,d,t,n,s,l,u,c,O)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(Y=de.API).processGIF89A=function(e,t,n,i,a){var r=new Ae(e),s=r.width,l=r.height,o=[];r.decodeAndBlitFrameRGBA(0,o);var u={data:o,width:s,height:l},c=new Me(100).encode(u,100);return Y.processJPEG.call(this,c,t,n,i)},Y.processGIF87A=Y.processGIF89A,(G=de.API).processBMP=function(e,t,n,i,a){var r=new Te(e,!1),s=r.width,l=r.height,o={data:r.getData(),width:s,height:l},u=new Me(100).encode(o,100);return G.processJPEG.call(this,u,t,n,i)},de.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},K=(X=de.API).getCharWidthsArray=function(e,t){var n,i,a,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:r.metadata.Unicode.widths,u=o.fof?o.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,h=c.fof?c.fof:1,d=0,p=o[0]||u,f=[];for(n=0,i=e.length;n<i;n++)a=e.charCodeAt(n),f.push("function"==typeof r.metadata.widthOfString?(r.metadata.widthOfGlyph(r.metadata.characterToGlyph(a))+l*(1e3/s)||0)/1e3:(o[a]||p)/u+(c[a]&&c[a][d]||0)/h),d=a;return f},$=X.getArraySum=function(e){for(var t=e.length,n=0;t;)n+=e[--t];return n},Z=X.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(e,n,a)/n:$(K.apply(this,arguments))},J=function(e,t,n,i){for(var a=[],r=0,s=e.length,l=0;r!==s&&l+t[r]<n;)l+=t[r],r++;a.push(e.slice(0,r));var o=r;for(l=0;r!==s;)l+t[r]>i&&(a.push(e.slice(o,r)),l=0,o=r),l+=t[r],r++;return o!==r&&a.push(e.slice(o,r)),a},Q=function(e,t,n){n||(n={});var i,a,r,s,l,o,u=[],c=[u],h=n.textIndent||0,d=0,p=0,f=e.split(" "),m=K.apply(this,[" ",n])[0];if(o=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var g=Array(o).join(" "),v=[];f.map((function(e){1<(e=e.split(/\s*\n/)).length?v=v.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):v.push(e[0])})),f=v,o=Z.apply(this,[g,n])}for(r=0,s=f.length;r<s;r++){var y=0;if(i=f[r],o&&"\n"==i[0]&&(i=i.substr(1),y=1),a=K.apply(this,[i,n]),t<h+d+(p=$(a))||y){if(t<p){for(l=J.apply(this,[i,a,t-(h+d),t]),u.push(l.shift()),u=[l.pop()];l.length;)c.push([l.shift()]);p=$(a.slice(i.length-(u[0]?u[0].length:0)))}else u=[i];c.push(u),h=p+o,d=m}else u.push(i),h+=d+p,d=m}if(o)var b=function(e,t){return(t?g:"")+e.join(" ")};else b=function(e){return e.join(" ")};return c.map(b)},X.splitTextToSize=function(e,t,n){var i,a=(n=n||{}).fontSize||this.internal.getFontSize(),r=(function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:e.split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;r.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,r.lineIndent=n.lineIndent;var l,o,u=[];for(l=0,o=i.length;l<o;l++)u=u.concat(Q.apply(this,[i[l],s,r]));return u},ee=de.API,ne={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(te=function(e){for(var t="klmnopqrstuvwxyz",n={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i];var a,r,s,l,o,u={},c=1,h=u,d=[],p="",f="",m=e.length-1;for(i=1;i!=m;)o=e[i],i+=1,"'"==o?r=r?(l=r.join(""),a):[]:r?r.push(o):"{"==o?(d.push([h,l]),h={},l=a):"}"==o?((s=d.pop())[0][s[1]]=h,l=a,h=s[0]):"-"==o?c=-1:l===a?n.hasOwnProperty(o)?(p+=n[o],l=parseInt(p,16)*c,c=1,p=""):p+=o:n.hasOwnProperty(o)?(f+=n[o],h[l]=parseInt(f,16)*c,c=1,l=a,f=""):f+=o;return u})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},ie={Unicode:{Courier:ne,"Courier-Bold":ne,"Courier-BoldOblique":ne,"Courier-Oblique":ne,Helvetica:ne,"Helvetica-Bold":ne,"Helvetica-BoldOblique":ne,"Helvetica-Oblique":ne,"Times-Roman":ne,"Times-Bold":ne,"Times-BoldItalic":ne,"Times-Italic":ne}},ae={Unicode:{"Courier-Oblique":te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":te("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":te("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":te("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:te("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:te("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":te("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:te("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":te("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":te("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":te("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},ee.events.push(["addFont",function(e){var t,n,i,a=e.font,r="Unicode";(t=ae[r][a.postScriptName])&&((n=a.metadata[r]?a.metadata[r]:a.metadata[r]={}).widths=t.widths,n.kerning=t.kerning),(i=ie[r][a.postScriptName])&&((n=a.metadata[r]?a.metadata[r]:a.metadata[r]={}).encoding=i).codePages&&i.codePages.length&&(a.encoding=i.codePages[0])}]),re=de,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")(),re.API.events.push(["addFont",function(e){var t=e.font,n=e.instance;if(void 0!==n&&n.existsFileInVFS(t.postScriptName)){var i=n.getFileFromVFS(t.postScriptName);if("string"!=typeof i)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+t.postScriptName+"').");t.metadata=re.API.TTFFont.open(t.postScriptName,t.fontName,i,t.encoding),t.metadata.Unicode=t.metadata.Unicode||{encoding:{},kerning:{},widths:[]},t.metadata.glyIdsUsed=[0]}else if(!1===t.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+t.postScriptName+"').")}]),(se=de.API).addSvg=function(e,t,n,i,a){if(void 0===t||void 0===n)throw new Error("addSVG needs values for 'x' and 'y'");function r(e){for(var t=parseFloat(e[1]),n=parseFloat(e[2]),i=[],a=3,r=e.length;a<r;)"c"===e[a]?(i.push([parseFloat(e[a+1]),parseFloat(e[a+2]),parseFloat(e[a+3]),parseFloat(e[a+4]),parseFloat(e[a+5]),parseFloat(e[a+6])]),a+=7):"l"===e[a]?(i.push([parseFloat(e[a+1]),parseFloat(e[a+2])]),a+=3):a+=1;return[t,n,i]}var s,l,o,u,c,h,d,p=((l=((d=(o=document).createElement("iframe"),u=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(h=(c=o).createElement("style")).type="text/css",h.styleSheet?h.styleSheet.cssText=u:h.appendChild(c.createTextNode(u)),c.getElementsByTagName("head")[0].appendChild(h),d.name="childframe",d.setAttribute("width",0),d.setAttribute("height",0),d.setAttribute("frameborder","0"),d.setAttribute("scrolling","no"),d.setAttribute("seamless","seamless"),d.setAttribute("class","jsPDF_sillysvg_iframe"),o.body.appendChild(d),s=d).contentWindow||s.contentDocument).document).write(e),l.close(),l.getElementsByTagName("svg")[0]),f=[1,1],m=parseFloat(p.getAttribute("width")),g=parseFloat(p.getAttribute("height"));m&&g&&(i&&a?f=[i/m,a/g]:i?f=[i/m,i/m]:a&&(f=[a/g,a/g]));var v,y,b,k,C=p.childNodes;for(v=0,y=C.length;v<y;v++)(b=C[v]).tagName&&"PATH"===b.tagName.toUpperCase()&&((k=r(b.getAttribute("d").split(" ")))[0]=k[0]*f[0]+t,k[1]=k[1]*f[1]+n,this.lines.call(this,k[2],k[0],k[1],f));return this},se.addSVG=se.addSvg,se.addSvgAsImage=function(e,t,n,i,a,r,s,l){if(isNaN(t)||isNaN(n))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var o=document.createElement("canvas");o.width=i,o.height=a;var u=o.getContext("2d");return u.fillStyle="#fff",u.fillRect(0,0,o.width,o.height),canvg(o,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(o.toDataURL("image/jpeg",1),t,n,i,a,s,l),this},de.API.putTotalPages=function(e){var t,n;n=parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,n);return this},de.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var a,r,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),o=[],u=0,c=0,h=0,d=!0;function p(e,t){var n,i=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=l.length;for(h=0;h<f;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if("object"===i(e))for(a in e)if(r=e[a],p(l,a)&&void 0!==r){if("boolean"===n[a].type&&"boolean"==typeof r)n[a].value=r;else if("name"===n[a].type&&p(n[a].valueSet,r))n[a].value=r;else if("integer"===n[a].type&&Number.isInteger(r))n[a].value=r;else if("array"===n[a].type){for(u=0;u<r.length;u+=1)if(d=!0,1===r[u].length&&"number"==typeof r[u][0])o.push(String(r[u]-1));else if(1<r[u].length){for(c=0;c<r[u].length;c+=1)"number"!=typeof r[u][c]&&(d=!1);!0===d&&o.push([r[u][0]-1,r[u][1]-1].join(" "))}n[a].value="["+o.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&t.push("name"===n[e].type?"/"+e+" /"+n[e].value:"/"+e+" "+n[e].value);0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ue=oe=le="",de.API.addMetadata=function(e,t){return oe=t||"http://jspdf.default.namespaceuri/",le=e,this.internal.events.subscribe("postPutResources",(function(){if(le){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+oe+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(le)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),r=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+i.length+a.length+t.length+r.length;ue=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+i+a+r),this.internal.write("endstream"),this.internal.write("endobj")}else ue=""})),this.internal.events.subscribe("putCatalog",(function(){ue&&this.internal.write("/Metadata "+ue+" 0 R")})),this},function(e,t){var n=e.API,i=n.pdfEscape16=function(e,t){for(var n,i=t.metadata.Unicode.widths,a=["","0","00","000","0000"],r=[""],s=0,l=e.length;s<l;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==i.indexOf(n)&&(i.push(n),i.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return r.join("");n=n.toString(16),r.push(a[4-n.length],n)}return r.join("")},a=function(e){var t,n,i,a,r,s,l;for(r="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],s=0,l=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;s<l;s++)t=n[s],100<=i.length&&(r+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),i.push("<"+t+"><"+a+">");return i.length&&(r+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),r+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(t){!function(t,n,i,r){if(t.metadata instanceof e.API.TTFFont&&"Identity-H"===t.encoding){for(var s=t.metadata.Unicode.widths,l=t.metadata.subset.encode(t.metadata.glyIdsUsed,1),o="",u=0;u<l.length;u++)o+=String.fromCharCode(l[u]);var c=i();r({data:o,addLength1:!0}),n("endobj");var h=i();r({data:a(t.metadata.toUnicode),addLength1:!0}),n("endobj");var d=i();n("<<"),n("/Type /FontDescriptor"),n("/FontName /"+t.fontName),n("/FontFile2 "+c+" 0 R"),n("/FontBBox "+e.API.PDFObject.convert(t.metadata.bbox)),n("/Flags "+t.metadata.flags),n("/StemV "+t.metadata.stemV),n("/ItalicAngle "+t.metadata.italicAngle),n("/Ascent "+t.metadata.ascender),n("/Descent "+t.metadata.decender),n("/CapHeight "+t.metadata.capHeight),n(">>"),n("endobj");var p=i();n("<<"),n("/Type /Font"),n("/BaseFont /"+t.fontName),n("/FontDescriptor "+d+" 0 R"),n("/W "+e.API.PDFObject.convert(s)),n("/CIDToGIDMap /Identity"),n("/DW 1000"),n("/Subtype /CIDFontType2"),n("/CIDSystemInfo"),n("<<"),n("/Supplement 0"),n("/Registry (Adobe)"),n("/Ordering ("+t.encoding+")"),n(">>"),n(">>"),n("endobj"),t.objectNumber=i(),n("<<"),n("/Type /Font"),n("/Subtype /Type0"),n("/ToUnicode "+h+" 0 R"),n("/BaseFont /"+t.fontName),n("/Encoding /"+t.encoding),n("/DescendantFonts ["+p+" 0 R]"),n(">>"),n("endobj"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]),n.events.push(["putFont",function(t){!function(t,n,i,r){if(t.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===t.encoding){for(var s=t.metadata.rawData,l="",o=0;o<s.length;o++)l+=String.fromCharCode(s[o]);var u=i();r({data:l,addLength1:!0}),n("endobj");var c=i();r({data:a(t.metadata.toUnicode),addLength1:!0}),n("endobj");var h=i();for(n("<<"),n("/Descent "+t.metadata.decender),n("/CapHeight "+t.metadata.capHeight),n("/StemV "+t.metadata.stemV),n("/Type /FontDescriptor"),n("/FontFile2 "+u+" 0 R"),n("/Flags 96"),n("/FontBBox "+e.API.PDFObject.convert(t.metadata.bbox)),n("/FontName /"+t.fontName),n("/ItalicAngle "+t.metadata.italicAngle),n("/Ascent "+t.metadata.ascender),n(">>"),n("endobj"),t.objectNumber=i(),o=0;o<t.metadata.hmtx.widths.length;o++)t.metadata.hmtx.widths[o]=parseInt(t.metadata.hmtx.widths[o]*(1e3/t.metadata.head.unitsPerEm));n("<</Subtype/TrueType/Type/Font/ToUnicode "+c+" 0 R/BaseFont/"+t.fontName+"/FontDescriptor "+h+" 0 R/Encoding/"+t.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(t.metadata.hmtx.widths)+">>"),n("endobj"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]);var r=function(e){var t,n,a=e.text||"",r=e.x,s=e.y,l=e.options||{},o=e.mutex||{},u=o.pdfEscape,c=o.activeFontKey,h=o.fonts,d="",p=0,f="",m=h[n=c].encoding;if("Identity-H"!==h[n].encoding)return{text:a,x:r,y:s,options:l,mutex:o};for(f=a,n=c,"[object Array]"===Object.prototype.toString.call(a)&&(f=a[0]),p=0;p<f.length;p+=1)h[n].metadata.hasOwnProperty("cmap")&&(t=h[n].metadata.cmap.unicode.codeMap[f[p].charCodeAt(0)]),t?d+=f[p]:f[p].charCodeAt(0)<256&&h[n].metadata.hasOwnProperty("Unicode")?d+=f[p]:d+="";var g="";return parseInt(n.slice(1))<14||"WinAnsiEncoding"===m?g=function(e){for(var t="",n=0;n<e.length;n++)t+=""+e.charCodeAt(n).toString(16);return t}(u(d,n)):"Identity-H"===m&&(g=i(d,h[n])),o.isHex=!0,{text:g,x:r,y:s,options:l,mutex:o}};n.events.push(["postProcessText",function(e){var t=e.text||"",n=[],i={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if("[object Array]"===Object.prototype.toString.call(t)){var a=0;for(a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])&&3===t[a].length?n.push([r(Object.assign({},i,{text:t[a][0]})).text,t[a][1],t[a][2]]):n.push(r(Object.assign({},i,{text:t[a]})).text);e.text=n}else e.text=r(Object.assign({},i,{text:t})).text}])}(de,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),he=function(e){return void 0!==e&&(void 0===e.vFS&&(e.vFS={}),!0)},(ce=de.API).existsFileInVFS=function(e){return!!he(this.internal)&&void 0!==this.internal.vFS[e]},ce.addFileToVFS=function(e,t){return he(this.internal),this.internal.vFS[e]=t,this},ce.getFileFromVFS=function(e){return he(this.internal),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null},de.API.addHTML=function(e,t,n,i,a){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof t&&(i=t,a=n),"function"==typeof i&&(a=i,i=null),"function"!=typeof a&&(a=function(){});var r=this.internal,s=r.scaleFactor,l=r.pageSize.getWidth(),o=r.pageSize.getHeight();if((i=i||{}).onrendered=(function(e){t=parseInt(t)||0,n=parseInt(n)||0;var r=i.dim||{},u=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},i.margin),c=r.h||Math.min(o,e.height/s),h=r.w||Math.min(l,e.width/s)-t,d=i.format||"JPEG",p=i.imageCompression||"SLOW";if(e.height>o-u.top-u.bottom&&i.pagesplit){var f=function(e,t,n,a,r){var s=document.createElement("canvas");s.height=r,s.width=a;var l=s.getContext("2d");return l.mozImageSmoothingEnabled=!1,l.webkitImageSmoothingEnabled=!1,l.msImageSmoothingEnabled=!1,l.imageSmoothingEnabled=!1,l.fillStyle=i.backgroundColor||"#ffffff",l.fillRect(0,0,a,r),l.drawImage(e,t,n,a,r,0,0,a,r),s},m=(function(){for(var i,r,c=0,m=0,g={},v=!1;;){var y;if(m=0,g.top=0!==c?u.top:n,g.left=0!==c?u.left:t,v=(l-u.left-u.right)*s<e.width,"content"===u.useFor?0===c?(i=Math.min((l-u.left)*s,e.width),r=Math.min((o-u.top)*s,e.height-c)):(i=Math.min(l*s,e.width),r=Math.min(o*s,e.height-c),g.top=0):(i=Math.min((l-u.left-u.right)*s,e.width),r=Math.min((o-u.bottom-u.top)*s,e.height-c)),v)for(;;){"content"===u.useFor&&(0===m?i=Math.min((l-u.left)*s,e.width):(i=Math.min(l*s,e.width-m),g.left=0));var b=[y=f(e,m,c,i,r),g.left,g.top,y.width/s,y.height/s,d,null,p];if(this.addImage.apply(this,b),(m+=i)>=e.width)break;this.addPage()}else b=[y=f(e,0,c,i,r),g.left,g.top,y.width/s,y.height/s,d,null,p],this.addImage.apply(this,b);if((c+=r)>=e.height)break;this.addPage()}a(h,c,null,b)}).bind(this);if("CANVAS"===e.nodeName){var g=new Image;g.onload=m,g.src=e.toDataURL("image/png"),e=g}else m()}else{var v=Math.random().toString(35),y=[e,t,n,h,c,d,v,p];this.addImage.apply(this,y),a(h,c,v,y)}}).bind(this),"undefined"!=typeof html2canvas&&!i.rstz)return html2canvas(e,i);if("undefined"==typeof rasterizeHTML)return null;var u="drawDocument";return"string"==typeof e&&(u=/^http/.test(e)?"drawURL":"drawHTML"),i.width=i.width||l*s,rasterizeHTML[u](e,void 0,i).then((function(e){i.onrendered(e.image)}),(function(e){a(null,e)}))},function(e){var t,n,a,r,s,l,o,u,c,h,d,p,f,m,g,v,y,b,k,C;t=function(){return function(t){return e.prototype=t,new e};function e(){}}(),h=function(e){var t,n,i,a,r,s,l;for(n=0,i=e.length,t=void 0,s=a=!1;!a&&n!==i;)(t=e[n]=e[n].trimLeft())&&(a=!0),n++;for(n=i-1;i&&!s&&-1!==n;)(t=e[n]=e[n].trimRight())&&(s=!0),n--;for(r=/\s+$/g,l=!0,n=0;n!==i;)"\u2028"!=e[n]&&(t=e[n].replace(/\s+/g," "),l&&(t=t.trimLeft()),t&&(l=r.test(t)),e[n]=t),n++;return e},p=function(e){var t,n,i;for(t=void 0,n=(i=e.split(",")).shift();!t&&n;)t=a[n.trim().toLowerCase()],n=i.shift();return t},f=function(e){var t;return-1<(e="auto"===e?"0px":e).indexOf("em")&&!isNaN(Number(e.replace("em","")))&&(e=18.719*Number(e.replace("em",""))+"px"),-1<e.indexOf("pt")&&!isNaN(Number(e.replace("pt","")))&&(e=1.333*Number(e.replace("pt",""))+"px"),(t=m[e])?t:void 0!==(t={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[e])?m[e]=t/16:(t=parseFloat(e))?m[e]=t/16:(t=e.match(/([\d\.]+)(px)/),m[e]=Array.isArray(t)&&3===t.length?parseFloat(t[1])/16:1)},c=function(e){var t,n,i,a,c;return c=e,a=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(c,null):c.currentStyle?c.currentStyle:c.style,n=void 0,(t={})["font-family"]=p((i=function(e){return e=e.replace(/-\D/g,(function(e){return e.charAt(1).toUpperCase()})),a[e]})("font-family"))||"times",t["font-style"]=r[i("font-style")]||"normal",t["text-align"]=s[i("text-align")]||"left","bold"===(n=l[i("font-weight")]||"normal")&&(t["font-style"]="normal"===t["font-style"]?n:n+t["font-style"]),t["font-size"]=f(i("font-size"))||1,t["line-height"]=f(i("line-height"))||1,t.display="inline"===i("display")?"inline":"block",t["margin-top"]=(n="block"===t.display)&&f(i("margin-top"))||0,t["margin-bottom"]=n&&f(i("margin-bottom"))||0,t["padding-top"]=n&&f(i("padding-top"))||0,t["padding-bottom"]=n&&f(i("padding-bottom"))||0,t["margin-left"]=n&&f(i("margin-left"))||0,t["margin-right"]=n&&f(i("margin-right"))||0,t["padding-left"]=n&&f(i("padding-left"))||0,t["padding-right"]=n&&f(i("padding-right"))||0,t["page-break-before"]=i("page-break-before")||"auto",t.float=o[i("cssFloat")]||"none",t.clear=u[i("clear")]||"none",t.color=i("color"),t},g=function(e,t,n){var i,a,r,s,l;if(r=!1,s=a=void 0,i=n["#"+e.id])if("function"==typeof i)r=i(e,t);else for(a=0,s=i.length;!r&&a!==s;)r=i[a](e,t),a++;if(i=n[e.nodeName],!r&&i)if("function"==typeof i)r=i(e,t);else for(a=0,s=i.length;!r&&a!==s;)r=i[a](e,t),a++;for(l="string"==typeof e.className?e.className.split(" "):[],a=0;a<l.length;a++)if(i=n["."+l[a]],!r&&i)if("function"==typeof i)r=i(e,t);else for(a=0,s=i.length;!r&&a!==s;)r=i[a](e,t),a++;return r},C=function(e,t){var n,i,a,r,s,l,o,u,c;for(n=[],i=[],a=0,c=e.rows[0].cells.length,o=e.clientWidth;a<c;)i[a]={name:(u=e.rows[0].cells[a]).textContent.toLowerCase().replace(/\s+/g,""),prompt:u.textContent.replace(/\r?\n/g,""),width:u.clientWidth/o*t.pdf.internal.pageSize.getWidth()},a++;for(a=1;a<e.rows.length;){for(l=e.rows[a],s={},r=0;r<l.cells.length;)s[i[r].name]=l.cells[r].textContent.replace(/\r?\n/g,""),r++;n.push(s),a++}return{rows:n,headers:i}};var w={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},_=1;n=function(e,a,r){var s,l,o,u,h,d,p,f;for(l=e.childNodes,s=void 0,(h="block"===(o=c(e)).display)&&(a.setBlockBoundary(),a.setBlockStyle(o)),u=0,d=l.length;u<d;){if("object"===i(s=l[u])){if(a.executeWatchFunctions(s),1===s.nodeType&&"HEADER"===s.nodeName){var m=s,y=a.pdf.margins_doc.top;a.pdf.internal.events.subscribe("addPage",(function(e){a.y=y,n(m,a,r),a.pdf.margins_doc.top=a.y+10,a.y+=10}),!1)}if(8===s.nodeType&&"#comment"===s.nodeName)~s.textContent.indexOf("ADD_PAGE")&&(a.pdf.addPage(),a.y=a.pdf.margins_doc.top);else if(1!==s.nodeType||w[s.nodeName])if(3===s.nodeType){var b=s.nodeValue;if(s.nodeValue&&"LI"===s.parentNode.nodeName)if("OL"===s.parentNode.parentNode.nodeName)b=_+++". "+b;else{var k=o["font-size"],x=(3-.75*k)*a.pdf.internal.scaleFactor,S=.75*k*a.pdf.internal.scaleFactor,E=1.74*k/a.pdf.internal.scaleFactor;f=function(e,t){this.pdf.circle(e+x,t+S,E,"FD")}}16&s.ownerDocument.body.compareDocumentPosition(s)&&a.addText(b,o)}else"string"==typeof s&&a.addText(s,o);else{var O;if("IMG"===s.nodeName){var I=s.getAttribute("src");O=v[a.pdf.sHashCode(I)||I]}if(O){a.pdf.internal.pageSize.getHeight()-a.pdf.margins_doc.bottom<a.y+s.height&&a.y>a.pdf.margins_doc.top&&(a.pdf.addPage(),a.y=a.pdf.margins_doc.top,a.executeWatchFunctions(s));var A=c(s),D=a.x,M=12/a.pdf.internal.scaleFactor,T=(A["margin-left"]+A["padding-left"])*M,P=(A["margin-right"]+A["padding-right"])*M,L=(A["margin-top"]+A["padding-top"])*M,N=(A["margin-bottom"]+A["padding-bottom"])*M;a.pdf.addImage(O,D+=void 0!==A.float&&"right"===A.float?a.settings.width-s.width-P:T,a.y+L,s.width,s.height),O=void 0,"right"===A.float||"left"===A.float?(a.watchFunctions.push((function(e,t,n,i){return a.y>=t?(a.x+=e,a.settings.width+=n,!0):!!(i&&1===i.nodeType&&!w[i.nodeName]&&a.x+i.width>a.pdf.margins_doc.left+a.pdf.margins_doc.width)&&(a.x+=e,a.y=t,a.settings.width+=n,!0)}).bind(this,"left"===A.float?-s.width-T-P:0,a.y+s.height+L+N,s.width)),a.watchFunctions.push((function(e,t,n){return!(a.y<e&&t===a.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===c(n).clear&&(a.y=e,!0)}).bind(this,a.y+s.height,a.pdf.internal.getNumberOfPages())),a.settings.width-=s.width+T+P,"left"===A.float&&(a.x+=s.width+T+P)):a.y+=s.height+L+N}else if("TABLE"===s.nodeName)p=C(s,a),a.y+=10,a.pdf.table(a.x,a.y,p.rows,p.headers,{autoSize:!1,printHeaders:r.printHeaders,margins:a.pdf.margins_doc,css:c(s)}),a.y=a.pdf.lastCellPos.y+a.pdf.lastCellPos.h+20;else if("OL"===s.nodeName||"UL"===s.nodeName)_=1,g(s,a,r)||n(s,a,r),a.y+=10;else if("LI"===s.nodeName){var R=a.x;a.x+=20/a.pdf.internal.scaleFactor,a.y+=3,g(s,a,r)||n(s,a,r),a.x=R}else"BR"===s.nodeName?(a.y+=o["font-size"]*a.pdf.internal.scaleFactor,a.addText("\u2028",t(o))):g(s,a,r)||n(s,a,r)}}u++}if(r.outY=a.y,h)return a.setBlockBoundary(f)},v={},y=function(e,t,n,i){var a,r=e.getElementsByTagName("img"),s=r.length,l=0;function o(){t.pdf.internal.events.publish("imagesLoaded"),i(a)}function u(e,n,i){if(e){var r=new Image;a=++l,r.crossOrigin="",r.onerror=r.onload=function(){if(r.complete&&(0===r.src.indexOf("data:image/")&&(r.width=n||r.width||0,r.height=i||r.height||0),r.width+r.height)){var a=t.pdf.sHashCode(e)||e;v[a]=v[a]||r}--l||o()},r.src=e}}for(;s--;)u(r[s].getAttribute("src"),r[s].width,r[s].height);return l||o()},b=function(e,t,i){var a=e.getElementsByTagName("footer");if(0<a.length){a=a[0];var r=t.pdf.internal.write,s=t.y;t.pdf.internal.write=function(){},n(a,t,i);var l=Math.ceil(t.y-s)+5;t.y=s,t.pdf.internal.write=r,t.pdf.margins_doc.bottom+=l;for(var o=function(e){var r=void 0!==e?e.pageNumber:1,s=t.y;t.y=t.pdf.internal.pageSize.getHeight()-t.pdf.margins_doc.bottom,t.pdf.margins_doc.bottom-=l;for(var o=a.getElementsByTagName("span"),u=0;u<o.length;++u)-1<(" "+o[u].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(o[u].innerHTML=r),-1<(" "+o[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(o[u].innerHTML="###jsPDFVarTotalPages###");n(a,t,i),t.pdf.margins_doc.bottom+=l,t.y=s},u=a.getElementsByTagName("span"),c=0;c<u.length;++c)-1<(" "+u[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&t.pdf.internal.events.subscribe("htmlRenderingFinished",t.pdf.putTotalPages.bind(t.pdf,"###jsPDFVarTotalPages###"),!0);t.pdf.internal.events.subscribe("addPage",o,!1),o(),w.FOOTER=1}},k=function(e,t,i,a,r,s){if(!t)return!1;var l,o,u,c;"string"==typeof t||t.parentNode||(t=""+t.innerHTML),"string"==typeof t&&(l=t.replace(/<\/?script[^>]*?>/gi,""),c="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(u=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",u.innerHTML='<iframe style="height:1px;width:1px" name="'+c+'" />',document.body.appendChild(u),(o=window.frames[c]).document.open(),o.document.writeln(l),o.document.close(),t=o.document.body);var h,p=new d(e,i,a,r);return y.call(this,t,p,r.elementHandlers,(function(e){b(t,p,r.elementHandlers),n(t,p,r.elementHandlers),p.pdf.internal.events.publish("htmlRenderingFinished"),h=p.dispose(),"function"==typeof s?s(h):e&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")})),h||{x:p.x,y:p.y}},(d=function(e,t,n,i){return this.pdf=e,this.x=t,this.y=n,this.settings=i,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},d.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},d.prototype.executeWatchFunctions=function(e){var t=!1,n=[];if(0<this.watchFunctions.length){for(var i=0;i<this.watchFunctions.length;++i)!0===this.watchFunctions[i](e)?t=!0:n.push(this.watchFunctions[i]);this.watchFunctions=n}return t},d.prototype.splitFragmentsIntoLines=function(e,n){var i,a,r,s,l,o,u,c,h,d,p,f,m,g;for(d=this.pdf.internal.scaleFactor,s={},o=u=c=g=l=r=h=a=void 0,f=[p=[]],i=0,m=this.settings.width;e.length;)if(l=e.shift(),g=n.shift(),l)if((r=s[(a=g["font-family"])+(h=g["font-style"])])||(r=this.pdf.internal.getFont(a,h).metadata.Unicode,s[a+h]=r),u=this.pdf.getStringUnitWidth(l,c={widths:r.widths,kerning:r.kerning,fontSize:12*g["font-size"],textIndent:i})*c.fontSize/d,"\u2028"==l)f.push(p=[]);else if(m<i+u){for(o=this.pdf.splitTextToSize(l,m,c),p.push([o.shift(),g]);o.length;)p=[[o.shift(),g]],f.push(p);i=this.pdf.getStringUnitWidth(p[0][0],c)*c.fontSize/d}else p.push([l,g]),i+=u;if(void 0!==g["text-align"]&&("center"===g["text-align"]||"right"===g["text-align"]||"justify"===g["text-align"]))for(var v=0;v<f.length;++v){var y=this.pdf.getStringUnitWidth(f[v][0][0],c)*c.fontSize/d;0<v&&(f[v][0][1]=t(f[v][0][1]));var b=m-y;if("right"===g["text-align"])f[v][0][1]["margin-left"]=b;else if("center"===g["text-align"])f[v][0][1]["margin-left"]=b/2;else if("justify"===g["text-align"]){var k=f[v][0][0].split(" ").length-1;f[v][0][1]["word-spacing"]=b/k,v===f.length-1&&(f[v][0][1]["word-spacing"]=0)}}return f},d.prototype.RenderTextFragment=function(e,t){var n,i;i=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(t.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),i=Math.max(i,t["line-height"],t["font-size"]),this.pdf.internal.write(0,(-12*i).toFixed(2),"Td")),n=this.pdf.internal.getFont(t["font-family"],t["font-style"]);var a=this.getPdfColor(t.color);a!==this.lastTextColor&&(this.pdf.internal.write(a),this.lastTextColor=a),void 0!==t["word-spacing"]&&0<t["word-spacing"]&&this.pdf.internal.write(t["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*t["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(e)+") Tj"),void 0!==t["word-spacing"]&&this.pdf.internal.write(0,"Tw")},d.prototype.getPdfColor=function(e){var t,n,i,a=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(e);if(null!=a)t=parseInt(a[1]),n=parseInt(a[2]),i=parseInt(a[3]);else{if("string"==typeof e&&"#"!=e.charAt(0)){var r=new RGBColor(e);e=r.ok?r.toHex():"#000000"}t=e.substring(1,3),t=parseInt(t,16),n=e.substring(3,5),n=parseInt(n,16),i=e.substring(5,7),i=parseInt(i,16)}if("string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var s=parseInt(t.substr(1),16);t=s>>16&255,n=s>>8&255,i=255&s}var l=this.f3;return 0===t&&0===n&&0===i||void 0===n?l(t/255)+" g":[l(t/255),l(n/255),l(i/255),"rg"].join(" ")},d.prototype.f3=function(e){return e.toFixed(3)},d.prototype.renderParagraph=function(e){var t,n,i,a,r,s,l,o,u,c,d,p,f;if(i=h(this.paragraph.text),p=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:t=this.paragraph.blockstyle},i.join("").trim()){l=this.splitFragmentsIntoLines(i,p),o=s=void 0,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,d=(Math.max((t["margin-top"]||0)-this.priorMarginBottom,0)+(t["padding-top"]||0))*n,c=((t["margin-bottom"]||0)+(t["padding-bottom"]||0))*n,this.priorMarginBottom=t["margin-bottom"]||0,"always"===t["page-break-before"]&&(this.pdf.addPage(),this.y=0,d=((t["margin-top"]||0)+(t["padding-top"]||0))*n),u=this.pdf.internal.write,r=a=void 0,this.y+=d,u("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var m=0;l.length;){for(a=o=0,r=(s=l.shift()).length;a!==r;)s[a][0].trim()&&(o=Math.max(o,s[a][1]["line-height"],s[a][1]["font-size"]),f=7*s[a][1]["font-size"]),a++;var g=0,v=0;for(void 0!==s[0][1]["margin-left"]&&0<s[0][1]["margin-left"]&&(g=(v=this.pdf.internal.getCoordinateString(s[0][1]["margin-left"]))-m,m=v),u(g+Math.max(t["margin-left"]||0,0)*n,(-12*o).toFixed(2),"Td"),a=0,r=s.length;a!==r;)s[a][0]&&this.RenderTextFragment(s[a][0],s[a][1]),a++;if(this.y+=o*n,this.executeWatchFunctions(s[0][1])&&0<l.length){var y=[],b=[];l.forEach((function(e){for(var t=0,n=e.length;t!==n;)e[t][0]&&(y.push(e[t][0]+" "),b.push(e[t][1])),++t})),l=this.splitFragmentsIntoLines(h(y),b),u("ET","Q"),u("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return e&&"function"==typeof e&&e.call(this,this.x-9,this.y-f/2),u("ET","Q"),this.y+=c}},d.prototype.setBlockBoundary=function(e){return this.renderParagraph(e)},d.prototype.setBlockStyle=function(e){return this.paragraph.blockstyle=e},d.prototype.addText=function(e,t){return this.paragraph.text.push(e),this.paragraph.style.push(t)},a={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},l={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},r={normal:"normal",italic:"italic",oblique:"italic"},s={left:"left",right:"right",center:"center",justify:"justify"},o={none:"none",right:"right",left:"left"},u={none:"none",both:"both"},m={normal:1},e.fromHTML=function(e,t,n,i,a,r){return this.margins_doc=r||{top:0,bottom:0},i||(i={}),i.elementHandlers||(i.elementHandlers={}),k(this,e,isNaN(t)?4:t,isNaN(n)?4:n,i,a)}}(de.API),("undefined"!=typeof window&&window||"undefined"!=typeof global&&global).html2pdf=function(e,t,n){var i=t.canvas;if(i){var a,r;if((i.pdf=t).annotations={_nameMap:[],createAnnotation:function(e,n){var i,a=t.context2d._wrapX(n.left),r=t.context2d._wrapY(n.top),s=(t.context2d._page(n.top),e.indexOf("#"));i=0<=s?{name:e.substring(s+1)}:{url:e},t.link(a,r,n.right-n.left,n.bottom-n.top,i)},setName:function(e,n){var i=t.context2d._wrapX(n.left),a=t.context2d._wrapY(n.top),r=t.context2d._page(n.top);this._nameMap[e]={page:r,x:i,y:a}}},i.annotations=t.annotations,t.context2d._pageBreakAt=function(e){this.pageBreaks.push(e)},t.context2d._gotoPage=function(e){for(;t.internal.getNumberOfPages()<e;)t.addPage();t.setPage(e)},"string"==typeof e){e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var s,l,o=document.createElement("iframe");document.body.appendChild(o),null!=(s=o.contentDocument)&&null!=s||(s=o.contentWindow.document),s.open(),s.write(e),s.close(),a=s.body,l=s.body||{},e=s.documentElement||{},r=Math.max(l.scrollHeight,l.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}else l=(a=e).body||{},r=Math.max(l.scrollHeight,l.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);var u={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:i,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:r=t.internal.pageSize.getHeight(),scrollY:r};t.context2d.pageWrapYEnabled=!0,t.context2d.pageWrapY=t.internal.pageSize.getHeight(),html2canvas(a,u).then((function(e){n&&(o&&o.parentElement.removeChild(o),n(t))}))}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(e){var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder;e.URL=e.URL||e.webkitURL||function(e,t){return(t=document.createElement("a")).href=e,t};var n=e.Blob,i=URL.createObjectURL,a=URL.revokeObjectURL,r=e.Symbol&&e.Symbol.toStringTag,s=!1,l=!1,o=!!e.ArrayBuffer,u=t&&t.prototype.append&&t.prototype.getBlob;try{s=2===new Blob(["\xe4"]).size,l=2===new Blob([new Uint8Array([1,2])]).size}catch(s){}function c(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function h(e,n){n=n||{};var i=new t;return c(e).forEach((function(e){i.append(e)})),n.type?i.getBlob(n.type):i.getBlob()}function d(e,t){return new n(c(e),t||{})}if(e.Blob&&(h.prototype=Blob.prototype,d.prototype=Blob.prototype),r)try{File.prototype[r]="File",Blob.prototype[r]="Blob",FileReader.prototype[r]="FileReader"}catch(s){}function p(){var t=!!e.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,n=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;t&&n&&(XMLHttpRequest.prototype.send=function(e){e instanceof Blob&&this.setRequestHeader("Content-Type",e.type),n.call(this,e)});try{new File([],"")}catch(t){try{var i=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();e.File=i}catch(t){e.File=i=function(e,t,n){var i=new Blob(e,n),a=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return i.name=t,i.lastModifiedDate=a,i.lastModified=+a,i.toString=function(){return"[object File]"},r&&(i[r]="File"),i}}}}s?(p(),e.Blob=l?e.Blob:d):u?(p(),e.Blob=h):function(){function t(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||57344<=i?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t}function n(e){var t,n,i,a,r,s;for(t="",i=e.length,n=0;n<i;)switch((a=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(a);break;case 12:case 13:r=e[n++],t+=String.fromCharCode((31&a)<<6|63&r);break;case 14:r=e[n++],s=e[n++],t+=String.fromCharCode((15&a)<<12|(63&r)<<6|(63&s)<<0)}return t}function r(e){for(var t=new Array(e.byteLength),n=new Uint8Array(e),i=t.length;i--;)t[i]=n[i];return t}function s(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<e.length;i+=3){var a=e[i],r=i+1<e.length,s=r?e[i+1]:0,l=i+2<e.length,o=l?e[i+2]:0,u=(15&s)<<2|o>>6,c=63&o;l||(c=64,r||(u=64)),n.push(t[a>>2],t[(3&a)<<4|s>>4],t[u],t[c])}return n.join("")}var l=Object.create||function(e){function t(){}return t.prototype=e,new t};if(o)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&-1<u.indexOf(Object.prototype.toString.call(e))};function h(e,n){for(var i=0,a=(e=e||[]).length;i<a;i++){var s=e[i];e[i]=s instanceof h?s._buffer:"string"==typeof s?t(s):o&&(ArrayBuffer.prototype.isPrototypeOf(s)||c(s))?r(s):o&&(l=s)&&DataView.prototype.isPrototypeOf(l)?r(s.buffer):t(String(s))}var l;this._buffer=[].concat.apply([],e),this.size=this._buffer.length,this.type=n&&n.type||""}function d(e,t,n){var i=h.call(this,e,n=n||{})||this;return i.name=t,i.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,i.lastModified=+i.lastModifiedDate,i}if(h.prototype.slice=function(e,t,n){return new h([this._buffer.slice(e||0,t||this._buffer.length)],{type:n})},h.prototype.toString=function(){return"[object Blob]"},(d.prototype=l(h.prototype)).constructor=d,Object.setPrototypeOf)Object.setPrototypeOf(d,h);else try{d.__proto__=h}catch(l){}function p(){if(!(this instanceof p))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var e=document.createDocumentFragment();this.addEventListener=e.addEventListener,this.dispatchEvent=function(t){var n=this["on"+t.type];"function"==typeof n&&n(t),e.dispatchEvent(t)},this.removeEventListener=e.removeEventListener}function f(e,t,n){if(!(t instanceof h))throw new TypeError("Failed to execute '"+n+"' on 'FileReader': parameter 1 is not of type 'Blob'.");e.result="",setTimeout((function(){this.readyState=p.LOADING,e.dispatchEvent(new Event("load")),e.dispatchEvent(new Event("loadend"))}))}d.prototype.toString=function(){return"[object File]"},p.EMPTY=0,p.LOADING=1,p.DONE=2,p.prototype.error=null,p.prototype.onabort=null,p.prototype.onerror=null,p.prototype.onload=null,p.prototype.onloadend=null,p.prototype.onloadstart=null,p.prototype.onprogress=null,p.prototype.readAsDataURL=function(e){f(this,e,"readAsDataURL"),this.result="data:"+e.type+";base64,"+s(e._buffer)},p.prototype.readAsText=function(e){f(this,e,"readAsText"),this.result=n(e._buffer)},p.prototype.readAsArrayBuffer=function(e){f(this,e,"readAsText"),this.result=e._buffer.slice()},p.prototype.abort=function(){},URL.createObjectURL=function(e){return e instanceof h?"data:"+e.type+";base64,"+s(e._buffer):i.call(URL,e)},URL.revokeObjectURL=function(e){a&&a.call(URL,e)};var m=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;m&&(XMLHttpRequest.prototype.send=function(e){e instanceof h?(this.setRequestHeader("Content-Type",e.type),m.call(this,n(e._buffer))):m.call(this,e)}),e.FileReader=p,e.File=d,e.Blob=h}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var pe,fe,me,ge,ve,ye,be,ke,Ce,we,_e,xe,Se,Ee,Oe,Ie=Ie||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,a=/constructor/i.test(e.HTMLElement)||e.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),s=e.setImmediate||e.setTimeout,l=function(e){s((function(){throw e}),0)},o=function(e){setTimeout((function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()}),4e4)},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(c,h,d){d||(c=u(c));var p,f=this,m="application/octet-stream"===c.type,g=function(){!function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var a=e["on"+t[i]];if("function"==typeof a)try{a.call(e,e)}catch(e){l(e)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,i)return p=t().createObjectURL(c),void s((function(){var e,t;n.href=p,n.download=h,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),g(),o(p),f.readyState=f.DONE}),0);!function(){if((r||m&&a)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=r?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,g()},n.readAsDataURL(c),f.readyState=f.INIT}p||(p=t().createObjectURL(c)),m?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),f.readyState=f.DONE,g(),o(p)}()},h=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=u(e)),navigator.msSaveOrOpenBlob(e,t)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(e,t,n){return new c(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function Ae(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw"Invalid GIF 87a/89a header.";var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,a=e[t++];t++,t++;var r=null;a>>7&&(r=t,t+=3*(1<<1+(7&a)));var s=!0,l=[],o=0,u=null,c=0,h=null;for(this.width=n,this.height=i;s&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,h=e[t++]|e[t++]<<8,t++;else for(t+=12;0!==(w=e[t++]);)t+=w;break;case 249:if(4!==e[t++]||0!==e[t+4])throw"Invalid graphics extension block.";var d=e[t++];o=e[t++]|e[t++]<<8,u=e[t++],0==(1&d)&&(u=null),c=d>>2&7,t++;break;case 254:for(;0!==(w=e[t++]);)t+=w;break;default:throw"Unknown graphic control label: 0x"+e[t-1].toString(16)}break;case 44:var p=e[t++]|e[t++]<<8,f=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,v=e[t++],y=v>>6&1,b=r,k=!1;v>>7&&(k=!0,b=t,t+=3*(1<<1+(7&v)));var C=t;for(t++;;){var w;if(0===(w=e[t++]))break;t+=w}l.push({x:p,y:f,width:m,height:g,has_local_palette:k,palette_offset:b,data_offset:C,data_length:t-C,transparent_index:u,interlaced:!!y,delay:o,disposal:c});break;case 59:s=!1;break;default:throw"Unknown gif block: 0x"+e[t-1].toString(16)}this.numFrames=function(){return l.length},this.loopCount=function(){return h},this.frameInfo=function(e){if(e<0||e>=l.length)throw"Frame index out of range.";return l[e]},this.decodeAndBlitFrameBGRA=function(t,i){var a=this.frameInfo(t),r=a.width*a.height,s=new Uint8Array(r);De(e,a.data_offset,s,r);var l=a.palette_offset,o=a.transparent_index;null===o&&(o=256);var u=a.width,c=n-u,h=u,d=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),f=d,m=4*c;!0===a.interlaced&&(m+=4*(u+c)*7);for(var g=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===h&&(h=u,p<=(f+=m)&&(m=c+4*(u+c)*(g-1),f=d+(u+c)*(g<<1),g>>=1)),b===o)f+=4;else{var k=e[l+3*b],C=e[l+3*b+1];i[f++]=e[l+3*b+2],i[f++]=C,i[f++]=k,i[f++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,i){var a=this.frameInfo(t),r=a.width*a.height,s=new Uint8Array(r);De(e,a.data_offset,s,r);var l=a.palette_offset,o=a.transparent_index;null===o&&(o=256);var u=a.width,c=n-u,h=u,d=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),f=d,m=4*c;!0===a.interlaced&&(m+=4*(u+c)*7);for(var g=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===h&&(h=u,p<=(f+=m)&&(m=c+4*(u+c)*(g-1),f=d+(u+c)*(g<<1),g>>=1)),b===o)f+=4;else{var k=e[l+3*b+1],C=e[l+3*b+2];i[f++]=e[l+3*b],i[f++]=k,i[f++]=C,i[f++]=255}--h}}}function De(e,t,n,i){for(var a=e[t++],r=1<<a,s=r+1,l=s+1,o=a+1,u=(1<<o)-1,c=0,h=0,d=0,p=e[t++],f=new Int32Array(4096),m=null;;){for(;c<16&&0!==p;)h|=e[t++]<<c,c+=8,1===p?p=e[t++]:--p;if(c<o)break;var g=h&u;if(h>>=o,c-=o,g!==r){if(g===s)break;for(var v=g<l?g:m,y=0,b=v;r<b;)b=f[b]>>8,++y;var k=b;if(i<d+y+(v!==g?1:0))return void console.log("Warning, gif stream longer than expected.");n[d++]=k;var C=d+=y;for(v!==g&&(n[d++]=k),b=v;y--;)n[--C]=255&(b=f[b]),b>>=8;null!==m&&l<4096&&(f[l++]=m<<8|k,u+1<=l&&o<12&&(++o,u=u<<1|1)),m=g}else l=s+1,u=(1<<(o=a+1))-1,m=null}return d!==i&&console.log("Warning, gif stream shorter than expected."),n}try{t.GifWriter=function(e,t,n,i){var a=0,r=void 0===(i=void 0===i?{}:i).loop?null:i.loop,s=void 0===i.palette?null:i.palette;if(t<=0||n<=0||65535<t||65535<n)throw"Width/Height invalid.";function l(e){var t=e.length;if(t<2||256<t||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}e[a++]=71,e[a++]=73,e[a++]=70,e[a++]=56,e[a++]=57,e[a++]=97;var o=0,u=0;if(null!==s){for(var c=l(s);c>>=1;)++o;if(c=1<<o,--o,void 0!==i.background){if(c<=(u=i.background))throw"Background index out of range.";if(0===u)throw"Background index explicitly passed as 0."}}if(e[a++]=255&t,e[a++]=t>>8&255,e[a++]=255&n,e[a++]=n>>8&255,e[a++]=(null!==s?128:0)|o,e[a++]=u,e[a++]=0,null!==s)for(var h=0,d=s.length;h<d;++h){var p=s[h];e[a++]=p>>16&255,e[a++]=p>>8&255,e[a++]=255&p}if(null!==r){if(r<0||65535<r)throw"Loop count invalid.";e[a++]=33,e[a++]=255,e[a++]=11,e[a++]=78,e[a++]=69,e[a++]=84,e[a++]=83,e[a++]=67,e[a++]=65,e[a++]=80,e[a++]=69,e[a++]=50,e[a++]=46,e[a++]=48,e[a++]=3,e[a++]=1,e[a++]=255&r,e[a++]=r>>8&255,e[a++]=0}var f=!1;this.addFrame=function(t,n,i,r,o,u){if(!0===f&&(--a,f=!1),t<0||n<0||65535<t||65535<n)throw"x/y invalid.";if(i<=0||r<=0||65535<i||65535<r)throw"Width/Height invalid.";if(o.length<i*r)throw"Not enough pixels for the frame size.";var c=!0,h=(u=void 0===u?{}:u).palette;if(null==h&&(c=!1,h=s),null==h)throw"Must supply either a local or global palette.";for(var d=l(h),p=0;d>>=1;)++p;d=1<<p;var m=void 0===u.delay?0:u.delay,g=void 0===u.disposal?0:u.disposal;if(g<0||3<g)throw"Disposal out of range.";var v=!1,y=0;if(null!=u.transparent&&(v=!0,(y=u.transparent)<0||d<=y))throw"Transparent color index.";if((0!==g||v||0!==m)&&(e[a++]=33,e[a++]=249,e[a++]=4,e[a++]=g<<2|(!0===v?1:0),e[a++]=255&m,e[a++]=m>>8&255,e[a++]=y,e[a++]=0),e[a++]=44,e[a++]=255&t,e[a++]=t>>8&255,e[a++]=255&n,e[a++]=n>>8&255,e[a++]=255&i,e[a++]=i>>8&255,e[a++]=255&r,e[a++]=r>>8&255,e[a++]=!0===c?128|p-1:0,!0===c)for(var b=0,k=h.length;b<k;++b){var C=h[b];e[a++]=C>>16&255,e[a++]=C>>8&255,e[a++]=255&C}a=function(e,t,n,i){e[t++]=n;var a=t++,r=1<<n,s=r-1,l=r+1,o=l+1,u=n+1,c=0,h=0;function d(n){for(;n<=c;)e[t++]=255&h,h>>=8,c-=8,t===a+256&&(e[a]=255,a=t++)}function p(e){h|=e<<c,c+=u,d(8)}var f=i[0]&s,m={};p(r);for(var g=1,v=i.length;g<v;++g){var y=i[g]&s,b=f<<8|y,k=m[b];if(void 0===k){for(h|=f<<c,c+=u;8<=c;)e[t++]=255&h,h>>=8,c-=8,t===a+256&&(e[a]=255,a=t++);4096===o?(p(r),o=l+1,u=n+1,m={}):(1<<u<=o&&++u,m[b]=o++),f=y}else f=k}return p(f),p(l),d(1),a+1===t?e[a]=0:(e[a]=t-a-1,e[t++]=0),t}(e,a,p<2?2:p,o)},this.end=function(){return!1===f&&(e[a++]=59,f=!0),a}},t.GifReader=Ae}catch(r){}function Me(e){var t,n,i,a,r,s=Math.floor,l=new Array(64),o=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),d=new Array(65535),p=new Array(64),f=new Array(64),m=[],g=0,v=7,y=new Array(64),b=new Array(64),k=new Array(64),C=new Array(256),w=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,i=0,a=new Array,r=1;r<=16;r++){for(var s=1;s<=e[r];s++)a[t[i]]=[],a[t[i]][0]=n,a[t[i]][1]=r,i++,n++;n*=2}return a}function P(e){for(var t=e[0],n=e[1]-1;0<=n;)t&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(L(255),L(0)):L(g),v=7,g=0)}function L(e){m.push(e)}function N(e){L(e>>8&255),L(255&e)}function R(e,t,n,i,a){for(var r,s=a[0],l=a[240],o=function(e,t){var n,i,a,r,s,l,o,u,c,h,d=0;for(c=0;c<8;++c){var f=(n=e[d])+(u=e[d+7]),m=n-u,g=(i=e[d+1])+(o=e[d+6]),v=i-o,y=(a=e[d+2])+(l=e[d+5]),b=a-l,k=(r=e[d+3])+(s=e[d+4]),C=r-s,w=f+k,_=f-k,x=g+y,S=g-y;e[d]=w+x,e[d+4]=w-x;var E=.707106781*(S+_);e[d+2]=_+E,e[d+6]=_-E;var O=.382683433*((w=C+b)-(S=v+m)),I=.5411961*w+O,A=1.306562965*S+O,D=.707106781*(x=b+v),M=m+D,T=m-D;e[d+5]=T+I,e[d+3]=T-I,e[d+1]=M+A,e[d+7]=M-A,d+=8}for(c=d=0;c<8;++c){var P=(n=e[d])+(u=e[d+56]),L=n-u,N=(i=e[d+8])+(o=e[d+48]),R=i-o,F=(a=e[d+16])+(l=e[d+40]),H=a-l,B=(r=e[d+24])+(s=e[d+32]),V=r-s,j=P+B,z=P-B,q=N+F,U=N-F;e[d]=j+q,e[d+32]=j-q;var W=.707106781*(U+z);e[d+16]=z+W,e[d+48]=z-W;var Y=.382683433*((j=V+H)-(U=R+L)),G=.5411961*j+Y,X=1.306562965*U+Y,K=.707106781*(q=H+R),$=L+K,Z=L-K;e[d+40]=Z+G,e[d+24]=Z-G,e[d+8]=$+X,e[d+56]=$-X,d++}for(c=0;c<64;++c)p[c]=0<(h=e[c]*t[c])?h+.5|0:h-.5|0;return p}(e,t),u=0;u<64;++u)f[_[u]]=o[u];var c=f[0]-n;n=f[0],0==c?P(i[0]):(P(i[d[r=32767+c]]),P(h[r]));for(var m=63;0<m&&0==f[m];m--);if(0==m)return P(s),n;for(var g,v=1;v<=m;){for(var y=v;0==f[v]&&v<=m;++v);var b=v-y;if(16<=b){g=b>>4;for(var k=1;k<=g;++k)P(l);b&=15}P(a[(b<<4)+d[r=32767+f[v]]]),P(h[r]),v++}return 63!=m&&P(s),n}function F(e){e<=0&&(e=1),100<e&&(e=100),r!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=s((t[n]*e+50)/100);i<1?i=1:255<i&&(i=255),l[_[n]]=i}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],r=0;r<64;r++){var h=s((a[r]*e+50)/100);h<1?h=1:255<h&&(h=255),o[_[r]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var m=0;m<8;m++)u[p]=1/(l[_[p]]*d[f]*d[m]*8),c[p]=1/(o[_[p]]*d[f]*d[m]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),r=e)}this.encode=function(e,r){var s,h;(new Date).getTime(),r&&F(r),m=new Array,g=0,v=7,N(65496),N(65504),N(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),N(1),N(1),L(0),L(0),function(){N(65499),N(132),L(0);for(var e=0;e<64;e++)L(l[e]);L(1);for(var t=0;t<64;t++)L(o[t])}(),s=e.width,h=e.height,N(65472),N(17),L(8),N(h),N(s),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1),function(){N(65476),N(418),L(0);for(var e=0;e<16;e++)L(x[e+1]);for(var t=0;t<=11;t++)L(S[t]);L(16);for(var n=0;n<16;n++)L(E[n+1]);for(var i=0;i<=161;i++)L(O[i]);L(1);for(var a=0;a<16;a++)L(I[a+1]);for(var r=0;r<=11;r++)L(A[r]);L(17);for(var s=0;s<16;s++)L(D[s+1]);for(var l=0;l<=161;l++)L(M[l])}(),N(65498),N(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var d=0,p=0,f=0;g=0,v=7,this.encode.displayName="_encode_";for(var C,_,T,H,B,V,j,z,q,U=e.data,W=e.height,Y=4*e.width,G=0;G<W;){for(C=0;C<Y;){for(V=B=Y*G+C,j=-1,q=z=0;q<64;q++)V=B+(z=q>>3)*Y+(j=4*(7&q)),W<=G+z&&(V-=Y*(G+1+z-W)),Y<=C+j&&(V-=C+j-Y+4),_=U[V++],T=U[V++],H=U[V++],y[q]=(w[_]+w[T+256>>0]+w[H+512>>0]>>16)-128,b[q]=(w[_+768>>0]+w[T+1024>>0]+w[H+1280>>0]>>16)-128,k[q]=(w[_+1280>>0]+w[T+1536>>0]+w[H+1792>>0]>>16)-128;d=R(y,u,d,t,i),p=R(b,c,p,n,a),f=R(k,c,f,n,a),C+=32}G+=8}if(0<=v){var X=[];X[1]=v+1,X[0]=(1<<v+1)-1,P(X)}return N(65497),new Uint8Array(m)},(new Date).getTime(),e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)C[t]=e(t)}(),t=T(x,S),n=T(I,A),i=T(E,O),a=T(D,M),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=i;for(var a=-(t-1);a<=-e;a++)d[32767+a]=n,h[32767+a]=[],h[32767+a][1]=n,h[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)w[e]=19595*e,w[e+256>>0]=38470*e,w[e+512>>0]=7471*e+32768,w[e+768>>0]=-11059*e,w[e+1024>>0]=-21709*e,w[e+1280>>0]=32768*e+8421375,w[e+1536>>0]=-27439*e,w[e+1792>>0]=-5329*e}(),F(e),(new Date).getTime()}function Te(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=Ae,de.API.adler32cs=(ye="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,be=null,ke=function(){if(!ye)return function(){return!1};try{var e={};"function"==typeof e.Buffer&&(be=e.Buffer)}catch(e){}return function(e){return e instanceof ArrayBuffer||null!==be&&e instanceof be}}(),Ce=null!==be?function(e){return new be(e,"utf8").toString("binary")}:function(e){return unescape(encodeURIComponent(e))},we=function(e,t){for(var n=65535&e,i=e>>>16,a=0,r=t.length;a<r;a++)i=(i+(n=(n+(255&t.charCodeAt(a)))%65521))%65521;return(i<<16|n)>>>0},_e=function(e,t){for(var n=65535&e,i=e>>>16,a=0,r=t.length;a<r;a++)i=(i+(n=(n+t[a])%65521))%65521;return(i<<16|n)>>>0},Se=(xe={}).Adler32=(((ve=(ge=function(e){if(!(this instanceof ge))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(e=null==e?1:+e))throw new Error("First arguments needs to be a finite number.");this.checksum=e>>>0}).prototype={}).constructor=ge).from=((pe=function(e){if(!(this instanceof ge))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");this.checksum=we(1,e.toString())}).prototype=ve,pe),ge.fromUtf8=((fe=function(e){if(!(this instanceof ge))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");var t=Ce(e.toString());this.checksum=we(1,t)}).prototype=ve,fe),ye&&(ge.fromBuffer=((me=function(e){if(!(this instanceof ge))throw new TypeError("Constructor cannot called be as a function.");if(!ke(e))throw new Error("First argument needs to be ArrayBuffer.");var t=new Uint8Array(e);return this.checksum=_e(1,t)}).prototype=ve,me)),ve.update=function(e){if(null==e)throw new Error("First argument needs to be a string.");return e=e.toString(),this.checksum=we(this.checksum,e)},ve.updateUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=Ce(e.toString());return this.checksum=we(this.checksum,t)},ye&&(ve.updateBuffer=function(e){if(!ke(e))throw new Error("First argument needs to be ArrayBuffer.");var t=new Uint8Array(e);return this.checksum=_e(this.checksum,t)}),ve.clone=function(){return new Se(this.checksum)},ge),xe.from=function(e){if(null==e)throw new Error("First argument needs to be a string.");return we(1,e.toString())},xe.fromUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=Ce(e.toString());return we(1,t)},ye&&(xe.fromBuffer=function(e){if(!ke(e))throw new Error("First argument need to be ArrayBuffer.");var t=new Uint8Array(e);return _e(1,t)}),xe),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,i,a,r,s,l,o,u=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,v=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,i=p[n];return void 0!==i?u[256*i+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},k=function(e,t,s,l){var o,u,c,h,d=t[l];switch(d){case"L":case"R":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":d="N";break;case"CS":l<1||l+1>=t.length||"EN"!==(o=s[l-1])&&"AN"!==o||"EN"!==(u=t[l+1])&&"AN"!==u?d="N":g&&(u="AN"),d=u===o?u:"N";break;case"ES":d="EN"===(o=0<l?s[l-1]:"B")&&l+1<t.length&&"EN"===t[l+1]?"EN":"N";break;case"ET":if(0<l&&"EN"===s[l-1]){d="EN";break}if(g){d="N";break}for(c=l+1,h=t.length;c<h&&"ET"===t[c];)c++;d=c<h&&"EN"===t[c]?"EN":"N";break;case"NSM":if(a&&!r){for(h=t.length,c=l+1;c<h&&"NSM"===t[c];)c++;if(c<h){var p=e[l];if(o=t[c],(1425<=p&&p<=2303||64286===p)&&("R"===o||"AL"===o)){d="R";break}}}d=l<1||"B"===(o=t[l-1])?"N":s[l-1];break;case"B":n=!(g=!1),d=v;break;case"S":i=!0,d="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"BN":d="N"}return d},C=function(e,t,n){var i=e.split("");return n&&w(i,n,{hiLevel:v}),i.reverse(),t&&t.reverse(),i.join("")},w=function(e,t,a){var r,s,l,o,u,p=-1,f=e.length,m=0,b=[],C=v?h:c,w=[];for(i=n=g=!1,s=0;s<f;s++)w[s]=y(e[s]);for(l=0;l<f;l++){if(u=m,b[l]=k(e,w,b,l),r=240&(m=C[u][d[b[l]]]),t[l]=o=C[m&=15][5],0<r)if(16===r){for(s=p;s<l;s++)t[s]=1;p=-1}else p=-1;if(C[m][6])-1===p&&(p=l);else if(-1<p){for(s=p;s<l;s++)t[s]=o;p=-1}"B"===w[l]&&(t[l]=0),a.hiLevel|=o}i&&function(e,t,n){for(var i=0;i<n;i++)if("S"===e[i]){t[i]=v;for(var a=i-1;0<=a&&"WS"===e[a];a--)t[a]=v}}(w,t,f)},_=function(e,t,i,a,r){if(!(r.hiLevel<e)){if(1===e&&1===v&&!n)return t.reverse(),void(i&&i.reverse());for(var s,l,o,u,c=t.length,h=0;h<c;){if(a[h]>=e){for(o=h+1;o<c&&a[o]>=e;)o++;for(u=h,l=o-1;u<l;u++,l--)s=t[u],t[u]=t[l],t[l]=s,i&&(s=i[u],i[u]=i[l],i[l]=s);h=o}h++}}},x=function(e,t,n){var i=e.split(""),a={hiLevel:v};return n||(n=[]),w(i,n,a),function(e,t,n){if(0!==n.hiLevel&&o)for(var i,a=0;a<e.length;a++)1===t[a]&&0<=(i=f.indexOf(e[a]))&&(e[a]=f[i+1])}(i,n,a),_(2,i,t,n,a),_(1,i,t,n,a),i.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===r&&(r=b(e)),void 0===l&&(l=b(e))}(e,t),a||!s||l)if(a&&s&&r^l)v=r?1:0,e=C(e,t,n);else if(!a&&s&&l)v=r?1:0,e=x(e,t,n),e=C(e,t);else if(!a||r||s||l){if(a&&!s&&r^l)e=C(e,t),e=r?(v=0,x(e,t,n)):(v=1,e=x(e,t,n),C(e,t));else if(a&&r&&!s&&l)v=1,e=x(e,t,n),e=C(e,t);else if(!a&&!s&&r^l){var i=o;r?(v=1,e=x(e,t,n),v=0,o=!1,e=x(e,t,n),o=i):(v=0,e=x(e,t,n),e=C(e,t),o=!(v=1),e=x(e,t,n),o=i,e=C(e,t))}}else v=0,e=x(e,t,n);else v=r?1:0,e=x(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,s=e.isOutputVisual,r=e.isInputRtl,l=e.isOutputRtl,o=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,i=[];if("[object Array]"===Object.prototype.toString.call(t)){var a=0;for(i=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?i.push([n.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):i.push([n.doBidiReorder(t[a])]);e.text=i}else e.text=n.doBidiReorder(t)}])}(de),window.tmp=Me,Te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:n,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Te.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[e]()}catch(e){console.log("bit decode error:"+e)}},Te.prototype.bit1=function(){var e=Math.ceil(this.width/8),t=e%4,n=0<=this.height?this.height-1:-this.height;for(n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var r=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var o=this.palette[r>>7-l&1];this.data[s+4*l]=o.blue,this.data[s+4*l+1]=o.green,this.data[s+4*l+2]=o.red,this.data[s+4*l+3]=255}0!=t&&(this.pos+=4-t)}},Te.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var r=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*a*4,l=15&r,o=this.palette[r>>4];if(this.data[s]=o.blue,this.data[s+1]=o.green,this.data[s+2]=o.red,this.data[s+3]=255,2*a+1>=this.width)break;this.data[s+4]=(o=this.palette[l]).blue,this.data[s+4+1]=o.green,this.data[s+4+2]=o.red,this.data[s+4+3]=255}0!=t&&(this.pos+=4-t)}},Te.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;0<=t;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),r=n*this.width*4+4*i;if(a<this.palette.length){var s=this.palette[a];this.data[r]=s.red,this.data[r+1]=s.green,this.data[r+2]=s.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}0!=e&&(this.pos+=4-e)}},Te.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(r&t)/t*255|0,l=(r>>5&t)/t*255|0,o=r>>15?255:0,u=i*this.width*4+4*a;this.data[u]=(r>>10&t)/t*255|0,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=o}this.pos+=e}},Te.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;0<=i;i--){for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,o=(s>>5&n)/n*255|0,u=a*this.width*4+4*r;this.data[u]=(s>>11)/t*255|0,this.data[u+1]=o,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Te.prototype.bit24=function(){for(var e=this.height-1;0<=e;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=r,this.data[s+1]=a,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},Te.prototype.bit32=function(){for(var e=this.height-1;0<=e;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=r,this.data[l+1]=a,this.data[l+2]=i,this.data[l+3]=s}},Te.prototype.getData=function(){return this.data},window.tmp=Te,function(e){var t=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function n(){var e=this;function t(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}e.build_tree=function(n){var i,a,r,s=e.dyn_tree,l=e.stat_desc.static_tree,o=e.stat_desc.elems,u=-1;for(n.heap_len=0,n.heap_max=573,i=0;i<o;i++)0!==s[2*i]?(n.heap[++n.heap_len]=u=i,n.depth[i]=0):s[2*i+1]=0;for(;n.heap_len<2;)s[2*(r=n.heap[++n.heap_len]=u<2?++u:0)]=1,n.depth[r]=0,n.opt_len--,l&&(n.static_len-=l[2*r+1]);for(e.max_code=u,i=Math.floor(n.heap_len/2);1<=i;i--)n.pqdownheap(s,i);for(r=o;i=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(s,1),a=n.heap[1],n.heap[--n.heap_max]=i,n.heap[--n.heap_max]=a,s[2*r]=s[2*i]+s[2*a],n.depth[r]=Math.max(n.depth[i],n.depth[a])+1,s[2*i+1]=s[2*a+1]=r,n.heap[1]=r++,n.pqdownheap(s,1),2<=n.heap_len;);n.heap[--n.heap_max]=n.heap[1],function(t){var n,i,a,r,s,l,o=e.dyn_tree,u=e.stat_desc.static_tree,c=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,d=e.stat_desc.max_length,p=0;for(r=0;r<=15;r++)t.bl_count[r]=0;for(o[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)d<(r=o[2*o[2*(i=t.heap[n])+1]+1]+1)&&(r=d,p++),o[2*i+1]=r,i>e.max_code||(t.bl_count[r]++,s=0,h<=i&&(s=c[i-h]),t.opt_len+=(l=o[2*i])*(r+s),u&&(t.static_len+=l*(u[2*i+1]+s)));if(0!==p){do{for(r=d-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[d]--,p-=2}while(0<p);for(r=d;0!==r;r--)for(i=t.bl_count[r];0!==i;)(a=t.heap[--n])>e.max_code||(o[2*a+1]!=r&&(t.opt_len+=(r-o[2*a+1])*o[2*a],o[2*a+1]=r),i--)}}(n),function(e,n,i){var a,r,s,l=[],o=0;for(a=1;a<=15;a++)l[a]=o=o+i[a-1]<<1;for(r=0;r<=n;r++)0!==(s=e[2*r+1])&&(e[2*r]=t(l[s]++,s))}(s,e.max_code,n.bl_count)}}function i(e,t,n,i,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=a}function a(e,t,n,i,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=a}n._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],n.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],n.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],n.d_code=function(e){return e<256?t[e]:t[256+(e>>>7)]},n.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],n.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],i.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],i.static_l_desc=new i(i.static_ltree,n.extra_lbits,257,286,15),i.static_d_desc=new i(i.static_dtree,n.extra_dbits,0,30,15),i.static_bl_desc=new i(null,n.extra_blbits,0,19,7);var r=[new a(0,0,0,0,0),new a(4,4,8,4,1),new a(4,5,16,8,1),new a(4,6,32,32,1),new a(4,4,16,16,2),new a(8,16,32,32,2),new a(8,16,128,128,2),new a(8,32,128,256,2),new a(32,128,258,1024,2),new a(32,258,258,4096,2)],s=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function l(e,t,n,i){var a=e[2*t],r=e[2*n];return a<r||a==r&&i[t]<=i[n]}function o(){var e,t,a,o,u,c,h,d,p,f,m,g,v,y,b,k,C,w,_,x,S,E,O,I,A,D,M,T,P,L,N,R,F,H,B,V,j,z,q,U,W,Y=this,G=new n,X=new n,K=new n;function $(){var e;for(e=0;e<286;e++)N[2*e]=0;for(e=0;e<30;e++)R[2*e]=0;for(e=0;e<19;e++)F[2*e]=0;N[512]=1,Y.opt_len=Y.static_len=0,V=z=0}function Z(e,t){var n,i,a=-1,r=e[1],s=0,l=7,o=4;for(0===r&&(l=138,o=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)i=r,r=e[2*(n+1)+1],++s<l&&i==r||(s<o?F[2*i]+=s:0!==i?(i!=a&&F[2*i]++,F[32]++):s<=10?F[34]++:F[36]++,a=i,o=(s=0)===r?(l=138,3):i==r?(l=6,3):(l=7,4))}function J(e){Y.pending_buf[Y.pending++]=e}function Q(e){J(255&e),J(e>>>8&255)}function ee(e,t){var n,i=t;16-i<W?(Q(U|=(n=e)<<W&65535),U=n>>>16-W,W+=i-16):(U|=e<<W&65535,W+=i)}function te(e,t){var n=2*e;ee(65535&t[n],65535&t[n+1])}function ne(e,t){var n,i,a=-1,r=e[1],s=0,l=7,o=4;for(0===r&&(l=138,o=3),n=0;n<=t;n++)if(i=r,r=e[2*(n+1)+1],!(++s<l&&i==r)){if(s<o)for(;te(i,F),0!=--s;);else 0!==i?(i!=a&&(te(i,F),s--),te(16,F),ee(s-3,2)):s<=10?(te(17,F),ee(s-3,3)):(te(18,F),ee(s-11,7));a=i,o=(s=0)===r?(l=138,3):i==r?(l=6,3):(l=7,4)}}function ie(){16==W?(Q(U),W=U=0):8<=W&&(J(255&U),U>>>=8,W-=8)}function ae(e,t){var i,a,r;if(Y.pending_buf[j+2*V]=e>>>8&255,Y.pending_buf[j+2*V+1]=255&e,Y.pending_buf[H+V]=255&t,V++,0===e?N[2*t]++:(z++,e--,N[2*(n._length_code[t]+256+1)]++,R[2*n.d_code(e)]++),0==(8191&V)&&2<M){for(i=8*V,a=S-C,r=0;r<30;r++)i+=R[2*r]*(5+n.extra_dbits[r]);if(i>>>=3,z<Math.floor(V/2)&&i<Math.floor(a/2))return!0}return V==B-1}function re(e,t){var i,a,r,s,l=0;if(0!==V)for(;i=Y.pending_buf[j+2*l]<<8&65280|255&Y.pending_buf[j+2*l+1],a=255&Y.pending_buf[H+l],l++,0===i?te(a,e):(te((r=n._length_code[a])+256+1,e),0!==(s=n.extra_lbits[r])&&ee(a-=n.base_length[r],s),te(r=n.d_code(--i),t),0!==(s=n.extra_dbits[r])&&ee(i-=n.base_dist[r],s)),l<V;);te(256,e),q=e[513]}function se(){8<W?Q(U):0<W&&J(255&U),W=U=0}function le(e,t,n){var i,a;ee(0+(n?1:0),3),i=e,a=t,se(),q=8,Q(a),Q(~a),Y.pending_buf.set(d.subarray(i,i+a),Y.pending),Y.pending+=a}function oe(t){(function(e,t,a){var r,s,l=0;0<M?(G.build_tree(Y),X.build_tree(Y),l=function(){var e;for(Z(N,G.max_code),Z(R,X.max_code),K.build_tree(Y),e=18;3<=e&&0===F[2*n.bl_order[e]+1];e--);return Y.opt_len+=3*(e+1)+5+5+4,e}(),(s=Y.static_len+3+7>>>3)<=(r=Y.opt_len+3+7>>>3)&&(r=s)):r=s=t+5,t+4<=r&&-1!=e?le(e,t,a):s==r?(ee(2+(a?1:0),3),re(i.static_ltree,i.static_dtree)):(ee(4+(a?1:0),3),function(e,t,i){var a;for(ee(e-257,5),ee(t-1,5),ee(i-4,4),a=0;a<i;a++)ee(F[2*n.bl_order[a]+1],3);ne(N,e-1),ne(R,t-1)}(G.max_code+1,X.max_code+1,l+1),re(N,R)),$(),a&&se()})(0<=C?C:-1,S-C,t),C=S,e.flush_pending()}function ue(){var t,n,i,a;do{if(0==(a=p-O-S)&&0===S&&0===O)a=u;else if(-1==a)a--;else if(u+u-262<=S){for(d.set(d.subarray(u,u+u),0),E-=u,S-=u,C-=u,i=t=v;n=65535&m[--i],m[i]=u<=n?n-u:0,0!=--t;);for(i=t=u;n=65535&f[--i],f[i]=u<=n?n-u:0,0!=--t;);a+=u}if(0===e.avail_in)return;t=e.read_buf(d,S+O,a),3<=(O+=t)&&(g=((g=255&d[S])<<k^255&d[S+1])&b)}while(O<262&&0!==e.avail_in)}function ce(e){var t,n,i=A,a=S,r=I,s=u-262<S?S-(u-262):0,l=L,o=h,c=S+258,p=d[a+r-1],m=d[a+r];P<=I&&(i>>=2),O<l&&(l=O);do{if(d[(t=e)+r]==m&&d[t+r-1]==p&&d[t]==d[a]&&d[++t]==d[a+1]){a+=2,t++;do{}while(d[++a]==d[++t]&&d[++a]==d[++t]&&d[++a]==d[++t]&&d[++a]==d[++t]&&d[++a]==d[++t]&&d[++a]==d[++t]&&d[++a]==d[++t]&&d[++a]==d[++t]&&a<c);if(n=258-(c-a),a=c-258,r<n){if(E=e,l<=(r=n))break;p=d[a+r-1],m=d[a+r]}}}while((e=65535&f[e&o])>s&&0!=--i);return r<=O?r:O}function he(e){return e.total_in=e.total_out=0,e.msg=null,Y.pending=0,Y.pending_out=0,t=113,o=0,G.dyn_tree=N,G.stat_desc=i.static_l_desc,X.dyn_tree=R,X.stat_desc=i.static_d_desc,K.dyn_tree=F,K.stat_desc=i.static_bl_desc,W=U=0,q=8,$(),function(){var e;for(p=2*u,e=m[v-1]=0;e<v-1;e++)m[e]=0;D=r[M].max_lazy,P=r[M].good_length,L=r[M].nice_length,A=r[M].max_chain,w=I=2,g=x=O=C=S=0}(),0}Y.depth=[],Y.bl_count=[],Y.heap=[],N=[],R=[],F=[],Y.pqdownheap=function(e,t){for(var n=Y.heap,i=n[t],a=t<<1;a<=Y.heap_len&&(a<Y.heap_len&&l(e,n[a+1],n[a],Y.depth)&&a++,!l(e,i,n[a],Y.depth));)n[t]=n[a],t=a,a<<=1;n[t]=i},Y.deflateInit=function(e,t,n,i,r,s){return i||(i=8),r||(r=8),s||(s=0),e.msg=null,-1==t&&(t=6),r<1||9<r||8!=i||n<9||15<n||t<0||9<t||s<0||2<s?-2:(e.dstate=Y,h=(u=1<<(c=n))-1,b=(v=1<<(y=r+7))-1,k=Math.floor((y+3-1)/3),d=new Uint8Array(2*u),f=[],m=[],B=1<<r+6,Y.pending_buf=new Uint8Array(4*B),a=4*B,j=Math.floor(B/2),H=3*B,M=t,T=s,he(e))},Y.deflateEnd=function(){return 42!=t&&113!=t&&666!=t?-2:(Y.pending_buf=null,d=f=m=null,Y.dstate=null,113==t?-3:0)},Y.deflateParams=function(e,t,n){var i=0;return-1==t&&(t=6),t<0||9<t||n<0||2<n?-2:(r[M].func!=r[t].func&&0!==e.total_in&&(i=e.deflate(1)),M!=t&&(D=r[M=t].max_lazy,P=r[M].good_length,L=r[M].nice_length,A=r[M].max_chain),T=n,i)},Y.deflateSetDictionary=function(e,n,i){var a,r=i,s=0;if(!n||42!=t)return-2;if(r<3)return 0;for(u-262<r&&(s=i-(r=u-262)),d.set(n.subarray(s,s+r),0),C=S=r,g=((g=255&d[0])<<k^255&d[1])&b,a=0;a<=r-3;a++)f[a&h]=m[g=(g<<k^255&d[a+2])&b],m[g]=a;return 0},Y.deflate=function(n,l){var p,y,A,P,L,N;if(4<l||l<0)return-2;if(!n.next_out||!n.next_in&&0!==n.avail_in||666==t&&4!=l)return n.msg=s[4],-2;if(0===n.avail_out)return n.msg=s[7],-5;if(e=n,P=o,o=l,42==t&&(y=8+(c-8<<4)<<8,3<(A=(M-1&255)>>1)&&(A=3),y|=A<<6,0!==S&&(y|=32),t=113,J((N=y+=31-y%31)>>8&255),J(255&N)),0!==Y.pending){if(e.flush_pending(),0===e.avail_out)return o=-1,0}else if(0===e.avail_in&&l<=P&&4!=l)return e.msg=s[7],-5;if(666==t&&0!==e.avail_in)return n.msg=s[7],-5;if(0!==e.avail_in||0!==O||0!=l&&666!=t){switch(L=-1,r[M].func){case 0:L=function(t){var n,i=65535;for(a-5<i&&(i=a-5);;){if(O<=1){if(ue(),0===O&&0==t)return 0;if(0===O)break}if(S+=O,n=C+i,((O=0)===S||n<=S)&&(O=S-n,S=n,oe(!1),0===e.avail_out))return 0;if(u-262<=S-C&&(oe(!1),0===e.avail_out))return 0}return oe(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(l);break;case 1:L=function(t){for(var n,i=0;;){if(O<262){if(ue(),O<262&&0==t)return 0;if(0===O)break}if(3<=O&&(i=65535&m[g=(g<<k^255&d[S+2])&b],f[S&h]=m[g],m[g]=S),0!==i&&(S-i&65535)<=u-262&&2!=T&&(w=ce(i)),3<=w)if(n=ae(S-E,w-3),O-=w,w<=D&&3<=O){for(w--;g=(g<<k^255&d[++S+2])&b,i=65535&m[g],f[S&h]=m[g],m[g]=S,0!=--w;);S++}else S+=w,w=0,g=((g=255&d[S])<<k^255&d[S+1])&b;else n=ae(0,255&d[S]),O--,S++;if(n&&(oe(!1),0===e.avail_out))return 0}return oe(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(l);break;case 2:L=function(t){for(var n,i,a=0;;){if(O<262){if(ue(),O<262&&0==t)return 0;if(0===O)break}if(3<=O&&(a=65535&m[g=(g<<k^255&d[S+2])&b],f[S&h]=m[g],m[g]=S),I=w,_=E,w=2,0!==a&&I<D&&(S-a&65535)<=u-262&&(2!=T&&(w=ce(a)),w<=5&&(1==T||3==w&&4096<S-E)&&(w=2)),3<=I&&w<=I){for(i=S+O-3,n=ae(S-1-_,I-3),O-=I-1,I-=2;++S<=i&&(a=65535&m[g=(g<<k^255&d[S+2])&b],f[S&h]=m[g],m[g]=S),0!=--I;);if(x=0,w=2,S++,n&&(oe(!1),0===e.avail_out))return 0}else if(0!==x){if((n=ae(0,255&d[S-1]))&&oe(!1),S++,O--,0===e.avail_out)return 0}else x=1,S++,O--}return 0!==x&&(n=ae(0,255&d[S-1]),x=0),oe(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(l)}if(2!=L&&3!=L||(t=666),0==L||2==L)return 0===e.avail_out&&(o=-1),0;if(1==L){if(1==l)ee(2,3),te(256,i.static_ltree),ie(),1+q+10-W<9&&(ee(2,3),te(256,i.static_ltree),ie()),q=7;else if(le(0,0,!1),3==l)for(p=0;p<v;p++)m[p]=0;if(e.flush_pending(),0===e.avail_out)return o=-1,0}}return 4!=l?0:1}}function u(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}u.prototype={deflateInit:function(e,t){return this.dstate=new o,t||(t=15),this.dstate.deflateInit(this,e,t)},deflate:function(e){return this.dstate?this.dstate.deflate(this,e):-2},deflateEnd:function(){if(!this.dstate)return-2;var e=this.dstate.deflateEnd();return this.dstate=null,e},deflateParams:function(e,t){return this.dstate?this.dstate.deflateParams(this,e,t):-2},deflateSetDictionary:function(e,t){return this.dstate?this.dstate.deflateSetDictionary(this,e,t):-2},read_buf:function(e,t,n){var i=this.avail_in;return n<i&&(i=n),0===i?0:(this.avail_in-=i,e.set(this.next_in.subarray(this.next_in_index,this.next_in_index+i),t),this.next_in_index+=i,this.total_in+=i,i)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};var c=e.zip||e;c.Deflater=c._jzlib_Deflater=function(e){var t=new u,n=new Uint8Array(512),i=e?e.level:-1;void 0===i&&(i=-1),t.deflateInit(i),t.next_out=n,this.append=function(e,i){var a,r=[],s=0,l=0,o=0;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=512,0!=t.deflate(0))throw new Error("deflating: "+t.msg);t.next_out_index&&r.push(512==t.next_out_index?new Uint8Array(n):new Uint8Array(n.subarray(0,t.next_out_index))),o+=t.next_out_index,i&&0<t.next_in_index&&t.next_in_index!=s&&(i(t.next_in_index),s=t.next_in_index)}while(0<t.avail_in||0===t.avail_out);return a=new Uint8Array(o),r.forEach((function(e){a.set(e,l),l+=e.length})),a}},this.flush=function(){var e,i,a=[],r=0,s=0;do{if(t.next_out_index=0,t.avail_out=512,1!=(e=t.deflate(4))&&0!=e)throw new Error("deflating: "+t.msg);0<512-t.avail_out&&a.push(new Uint8Array(n.subarray(0,t.next_out_index))),s+=t.next_out_index}while(0<t.avail_in||0===t.avail_out);return t.deflateEnd(),i=new Uint8Array(s),a.forEach((function(e){i.set(e,r),r+=e.length})),i}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var i in n)e==i&&(e=n[i]);for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<a.length;r++){var s=a[r].process,l=a[r].re.exec(e);l&&(t=s(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}},function(e){var t="+".charCodeAt(0),n="/".charCodeAt(0),i="0".charCodeAt(0),a="a".charCodeAt(0),r="A".charCodeAt(0),s="-".charCodeAt(0),l="_".charCodeAt(0),o=function(e){var o=e.charCodeAt(0);return o===t||o===s?62:o===n||o===l?63:o<i?-1:o<i+10?o-i+26+26:o<r+26?o-r:o<a+26?o-a+26:void 0};e.API.TTFFont=function(){function e(e,t,n){var i;if(this.rawData=e,i=this.contents=new c(e),this.contents.pos=4,"ttcf"===i.readString(4)){if(!t)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+t+" not found in TTC file.")}i.pos=0,this.parse(),this.subset=new A(this),this.registerTTF()}return e.open=function(t,n,i,a){if("string"!=typeof i)throw new Error("Invalid argument supplied in TTFFont.open");return new e(function(e){var t,n,i,a,r,s;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;r="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,s=new Uint8Array(3*e.length/4-r),i=0<r?e.length-4:e.length;var u=0;function c(e){s[u++]=e}for(n=t=0;t<i;t+=4,n+=3)c((16711680&(a=o(e.charAt(t))<<18|o(e.charAt(t+1))<<12|o(e.charAt(t+2))<<6|o(e.charAt(t+3))))>>16),c((65280&a)>>8),c(255&a);return 2===r?c(255&(a=o(e.charAt(t))<<2|o(e.charAt(t+1))>>4)):1===r&&(c((a=o(e.charAt(t))<<10|o(e.charAt(t+1))<<4|o(e.charAt(t+2))>>2)>>8&255),c(255&a)),s}(i),n,a)},e.prototype.parse=function(){return this.directory=new h(this.contents),this.head=new f(this),this.name=new C(this),this.cmap=new g(this),this.toUnicode=new Map,this.hhea=new v(this),this.maxp=new w(this),this.hmtx=new _(this),this.post=new b(this),this.os2=new y(this),this.loca=new I(this),this.glyf=new S(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.bbox).length;e<t;e++)i.push(Math.round(n[e]*this.scaleFactor));return i}).call(this),this.stemV=0,this.post.exists?(t=255&(n=this.post.italic_angle),!0&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+t)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var i,a,r,s,l;for(a=s=r=0,l=(e=""+e).length;0<=l?s<l:l<s;a=0<=l?++s:--s)i=e.charCodeAt(a),r+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return r*(t/1e3)},e.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},e}();var u,c=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return 2147483648<=(e=this.readUInt32())?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return 32768<=(e=this.readUInt16())?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n,i;for(n=[],t=i=0;0<=e?i<e:e<i;t=0<=e?++i:--i)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,i,a;for(a=[],t=n=0,i=e.length;0<=i?n<i:i<n;t=0<=i?++n:--n)a.push(this.writeByte(e.charCodeAt(t)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,i,a,r,s,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),r=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^r)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*a+65536*r+256*s+l},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:e<n;0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,i;for(i=[],t=0,n=e.length;t<n;t++)i.push(this.writeByte(e[t]));return i},e}(),h=function(){var e;function t(e){var t,n,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:i<n;0<=i?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,i,a,r,s,l,o,u,h,d,p,f;for(f in d=Object.keys(t).length,s=Math.log(2),u=16*Math.floor(Math.log(d)/s),a=Math.floor(u/s),o=16*d-u,(i=new c).writeInt(this.scalarType),i.writeShort(d),i.writeShort(u),i.writeShort(a),i.writeShort(o),l=i.pos+16*d,r=null,p=[],t)for(h=t[f],i.writeString(f),i.writeInt(e(h)),i.writeInt(l),i.writeInt(h.length),p=p.concat(h),"head"===f&&(r=l),l+=h.length;l%4;)p.push(0),l++;return i.write(p),n=2981146554-e(i.data),i.pos=r+8,i.writeUInt32(n),i.data},e=function(e){var t,n,i,a;for(e=x.call(e);e.length%4;)e.push(0);for(n=new c(e),i=t=0,a=e.length;i<a;i+=4)t+=n.readUInt32();return 4294967295&t},t}(),d={}.hasOwnProperty,p=function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};u=function(){function e(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new c).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),m=function(){function e(e,t){var n,i,a,r,s,l,o,u,c,h,d,p,f,m,g,v,y,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=g=0;g<256;l=++g)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,a=function(){var t,n;for(n=[],l=t=0;0<=h?t<h:h<t;l=0<=h?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],l=t=0;0<=h?t<h:h<t;l=0<=h?++t:--t)n.push(e.readUInt16());return n}(),o=function(){var t,n;for(n=[],l=t=0;0<=h?t<h:h<t;l=0<=h?++t:--t)n.push(e.readUInt16());return n}(),u=function(){var t,n;for(n=[],l=t=0;0<=h?t<h:h<t;l=0<=h?++t:--t)n.push(e.readUInt16());return n}(),i=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],l=t=0;0<=i?t<i:i<t;l=0<=i?++t:--t)n.push(e.readUInt16());return n}(),l=v=0,b=a.length;v<b;l=++v)for(m=a[l],n=y=p=f[l];p<=m?y<=m:m<=y;n=p<=m?++y:--y)0===u[l]?r=n+o[l]:0!==(r=s[u[l]/2+(n-p)-(h-l)]||0)&&(r+=o[l]),this.codeMap[n]=65535&r}e.pos=c}return e.encode=function(e,t){var n,i,a,r,s,l,o,u,h,d,p,f,m,g,v,y,b,k,C,w,_,x,S,E,O,I,A,D,M,T,P,L,N,R,F,H,B,V,j,z,q,U,W,Y,G;switch(A=new c,r=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(m=0,g=function(){var e,t;for(t=[],f=e=0;e<256;f=++e)t.push(0);return t}(),y={0:0},a={},D=0,L=r.length;D<L;D++)null==y[U=e[i=r[D]]]&&(y[U]=++m),a[i]={old:e[i],new:y[e[i]]},g[i]=y[e[i]];return A.writeUInt16(1),A.writeUInt16(0),A.writeUInt32(12),A.writeUInt16(0),A.writeUInt16(262),A.writeUInt16(0),A.write(g),{charMap:a,subtable:A.data,maxGlyphID:m+1};case"unicode":for(O=[],h=[],y={},n={},v=o=null,M=b=0,N=r.length;M<N;M++)null==y[k=e[i=r[M]]]&&(y[k]=++b),n[i]={old:k,new:y[k]},s=y[k]-i,null!=v&&s===o||(v&&h.push(v),O.push(i),o=s),v=i;for(v&&h.push(v),h.push(65535),O.push(65535),S=2*(x=O.length),_=2*Math.pow(Math.log(x)/Math.LN2,2),d=Math.log(_/2)/Math.LN2,w=2*x-_,l=[],C=[],p=[],f=T=0,R=O.length;T<R;f=++T){if(u=h[f],65535===(E=O[f])){l.push(0),C.push(0);break}if(32768<=E-(I=n[E].new))for(l.push(0),C.push(2*(p.length+x-f)),i=P=E;E<=u?P<=u:u<=P;i=E<=u?++P:--P)p.push(n[i].new);else l.push(I-E),C.push(0)}for(A.writeUInt16(3),A.writeUInt16(1),A.writeUInt32(12),A.writeUInt16(4),A.writeUInt16(16+8*x+2*p.length),A.writeUInt16(0),A.writeUInt16(S),A.writeUInt16(_),A.writeUInt16(d),A.writeUInt16(w),z=0,F=h.length;z<F;z++)A.writeUInt16(i=h[z]);for(A.writeUInt16(0),q=0,H=O.length;q<H;q++)A.writeUInt16(i=O[q]);for(W=0,B=l.length;W<B;W++)A.writeUInt16(s=l[W]);for(Y=0,V=C.length;Y<V;Y++)A.writeUInt16(C[Y]);for(G=0,j=p.length;G<j;G++)A.writeUInt16(m=p[G]);return{charMap:n,subtable:A.data,maxGlyphID:b+1}}},e}(),g=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=n?i<n:n<i;0<=n?++i:--i)t=new m(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,i;return null==t&&(t="macroman"),n=m.encode(e,t),(i=new c).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),y=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),0<this.version&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;++t)n.push(e.readInt());return n}(),1<this.version))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:n<i;0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=(function(){var t,n,i;for(i=[],t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:n<t;0<=n?++t:--t)i.push(e.readUInt32());return i}).call(this)}},t}(),k=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},C=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,i,a,r,s,l,o,u,c,h,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],a=u=0;0<=t?u<t:t<u;a=0<=t?++u:--u)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(l={},a=c=0,h=n.length;c<h;a=++c)e.pos=(i=n[a]).offset,o=e.readString(i.length),r=new k(o,i),null==l[d=i.nameID]&&(l[d]=[]),l[i.nameID].push(r);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),w=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,i,a,r,s;for(e.pos=this.offset,this.metrics=[],i=0,r=this.file.hhea.numberOfMetrics;0<=r?i<r:r<i;0<=r?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var t,i;for(i=[],t=0;0<=n?t<n:n<t;0<=n?++t:--t)i.push(e.readInt16());return i}(),this.widths=(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.metrics).length;e<t;e++)i.push(n[e].advance);return i}).call(this),t=this.widths[this.widths.length-1],s=[],a=0;0<=n?a<n:n<a;0<=n?++a:--a)s.push(this.widths.push(t));return s},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),x=[].slice,S=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="glyf",t.prototype.parse=function(e){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,i,a,r,s,l,o,u,h;return(e=e)in this.cache?this.cache[e]:(t=this.file.contents,n=(a=this.file.loca).indexOf(e),0===(i=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,r=(s=new c(t.read(i))).readShort(),o=s.readShort(),h=s.readShort(),l=s.readShort(),u=s.readShort(),this.cache[e]=-1===r?new O(s,o,h,l,u):new E(s,r,o,h,l,u),this.cache[e]))},t.prototype.encode=function(e,t,n){var i,a,r,s,l;for(r=[],a=[],s=0,l=t.length;s<l;s++)i=e[t[s]],a.push(r.length),i&&(r=r.concat(i.encode(n)));return a.push(r.length),{table:r,offsets:a}},t}(),E=function(){function e(e,t,n,i,a,r){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=r,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),O=function(){function e(e,t,n,i,a){var r,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],r=this.raw;s=r.readShort(),this.glyphOffsets.push(r.pos),this.glyphIDs.push(r.readShort()),32&s;)r.pos+=1&s?4:2,128&s?r.pos+=8:64&s?r.pos+=4:8&s&&(r.pos+=2)}return e.prototype.encode=function(e){var t,n,i,a;for(n=new c(x.call(this.raw.data)),t=i=0,a=this.glyphIDs.length;i<a;t=++i)n.pos=this.glyphOffsets[t];return n.data},e}(),I=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,u),t.prototype.tag="loca",t.prototype.parse=function(e){return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?(function(){var t,n,i;for(i=[],t=0,n=this.length;t<n;t+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var t,n,i;for(i=[],t=0,n=this.length;t<n;t+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,r=0;r<n.length;++r)if(n[r]=i,a<t.length&&t[a]==r){++a,n[r]=i;var s=this.offsets[r+1]-this.offsets[r];0<s&&(i+=s)}for(var l=new Array(4*n.length),o=0;o<n.length;++o)l[4*o+3]=255&n[o],l[4*o+2]=(65280&n[o])>>8,l[4*o+1]=(16711680&n[o])>>16,l[4*o]=(4278190080&n[o])>>24;return l},t}(),A=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,i;for(t in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)e[t]=n[i[t]];return e},e.prototype.glyphsFor=function(e){var t,n,i,a,r,s,l;for(i={},r=0,s=e.length;r<s;r++)i[a=e[r]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(null!=(n=i[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(0<t.length)for(a in l=this.glyphsFor(t))i[a]=n=l[a];return i},e.prototype.encode=function(e,t){var n,i,a,r,s,l,o,u,c,h,d,p,f,m;for(i in n=g.encode(this.generateCmap(),"unicode"),r=this.glyphsFor(e),h={0:0},m=n.charMap)h[(s=m[i]).old]=s.new;for(d in c=n.maxGlyphID,r)d in h||(h[d]=c++);return o=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),u=Object.keys(o).sort((function(e,t){return e-t})),p=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)n.push(o[u[e]]);return n}(),a=this.font.glyf.encode(r,p,h),l=this.font.loca.encode(a.offsets,p),f={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();e.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var i,a;if(Array.isArray(n))return"["+function(){var e,i,a;for(a=[],e=0,i=n.length;e<i;e++)a.push(t.convert(n[e]));return a}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(n))return""+n;for(i in a=["<<"],n)a.push("/"+i+" "+t.convert(n[i]));return a.push(">>"),a.join("\n")},t}()}(de),Ee="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")(),Oe=function(){var e,t,n;function i(e){var t,n,i,a,r,s,l,o,u,c,h,d,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},r=null;;){switch(t=this.readUInt32(),o=(function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":r&&this.animation.frames.push(r),this.pos+=4,r={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},a=this.readUInt16(),i=this.readUInt16()||100,r.delay=1e3*a/i,r.disposeOp=this.data[this.pos++],r.blendOp=this.data[this.pos++],r.data=[];break;case"IDAT":case"fdAT":for("fdAT"===o&&(this.pos+=4,t-=4),e=(null!=r?r.data:void 0)||this.imgData,h=0;0<=t?h<t:t<h;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if(0<(u=n-this.transparency.indexed.length))for(d=0;0<=u?d<u:u<d;0<=u?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(c=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,c.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,c.slice(s+1));break;case"IEND":return r&&this.animation.frames.push(r),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.load=function(e,t,n){var a;return"function"==typeof t&&(n=t),(a=new XMLHttpRequest).open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){var e;return e=new i(new Uint8Array(a.response||a.mozResponseArrayBuffer)),"function"==typeof(null!=t?t.getContext:void 0)&&e.render(t),"function"==typeof n?n(e):void 0},a.send(null)},i.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:e<t;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),i=0,a=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function r(r,s,l,o){var u,c,h,d,p,f,m,g,v,y,b,k,C,w,_,x,S,E,O,I,A=Math.ceil((a.width-r)/l),D=Math.ceil((a.height-s)/o),M=a.width==A&&a.height==D;for(C=t*A,b=M?n:new Uint8Array(C*D),f=e.length,c=k=0;k<D&&i<f;){switch(e[i++]){case 0:for(d=x=0;x<C;d=x+=1)b[c++]=e[i++];break;case 1:for(d=S=0;S<C;d=S+=1)u=e[i++],p=d<t?0:b[c-t],b[c++]=(u+p)%256;break;case 2:for(d=E=0;E<C;d=E+=1)u=e[i++],h=(d-d%t)/t,b[c++]=((w=k&&b[(k-1)*C+h*t+d%t])+u)%256;break;case 3:for(d=O=0;O<C;d=O+=1)u=e[i++],h=(d-d%t)/t,p=d<t?0:b[c-t],w=k&&b[(k-1)*C+h*t+d%t],b[c++]=(u+Math.floor((p+w)/2))%256;break;case 4:for(d=I=0;I<C;d=I+=1)u=e[i++],h=(d-d%t)/t,0===k?w=_=0:(w=b[(k-1)*C+h*t+d%t],_=h&&b[(k-1)*C+(h-1)*t+d%t]),m=(p=d<t?0:b[c-t])+w-_,g=Math.abs(m-p),v=Math.abs(m-w),y=Math.abs(m-_),b[c++]=(u+(g<=v&&g<=y?p:v<=y?w:_))%256;break;default:throw new Error("Invalid filter algorithm: "+e[i-1])}if(!M){var T=((s+k*o)*a.width+r)*t,P=k*C;for(d=0;d<A;d+=1){for(var L=0;L<t;L+=1)n[T++]=b[P++];T+=(l-1)*t}}k++}}return e=(e=new Le(e)).getBytes(),1==a.interlaceMethod?(r(0,0,8,8),r(4,0,8,8),r(0,4,4,8),r(2,0,4,4),r(0,2,2,4),r(1,0,2,2),r(0,1,1,2)):r(0,0,1,1),n},i.prototype.decodePalette=function(){var e,t,n,i,a,r,s,l,o;for(n=this.palette,r=this.transparency.indexed||[],a=new Uint8Array((r.length||0)+n.length),i=0,t=s=e=0,l=n.length;s<l;t=s+=3)a[i++]=n[t],a[i++]=n[t+1],a[i++]=n[t+2],a[i++]=null!=(o=r[e++])?o:255;return a},i.prototype.copyToImageData=function(e,t){var n,i,a,r,s,l,o,u,c,h,d;if(i=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),i=4,n=!0),u=(a=e.data||e).length,s=c||t,r=l=0,1===i)for(;r<u;)o=c?4*t[r/4]:l,h=s[o++],a[r++]=h,a[r++]=h,a[r++]=h,a[r++]=n?s[o++]:255,l=o;else for(;r<u;)o=c?4*t[r/4]:l,a[r++]=s[o++],a[r++]=s[o++],a[r++]=s[o++],a[r++]=n?s[o++]:255,l=o},i.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};try{t=Ee.document.createElement("canvas"),n=t.getContext("2d")}catch(r){return-1}return e=function(e){var i;return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(i=new Image).src=t.toDataURL(),i},i.prototype.decodeFrames=function(t){var n,i,a,r,s,l,o,u;if(this.animation){for(u=[],i=s=0,l=(o=this.animation.frames).length;s<l;i=++s)a=t.createImageData((n=o[i]).width,n.height),r=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(a,r),n.imageData=a,u.push(n.image=e(a));return u}},i.prototype.renderFrame=function(e,t){var n,i,a;return n=(i=this.animation.frames)[t],a=i[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=a?a.disposeOp:void 0)?e.clearRect(a.xOffset,a.yOffset,a.width,a.height):2===(null!=a?a.disposeOp:void 0)&&e.putImageData(a.imageData,a.xOffset,a.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},i.prototype.animate=function(e){var t,n,i,a,r,s,l=this;return n=0,a=(s=this.animation).numFrames,i=s.frames,r=s.numPlays,(t=function(){var s,o;if(s=n++%a,o=i[s],l.renderFrame(e,s),1<a&&n/a<r)return l.animation._timeout=setTimeout(t,o.delay)})()},i.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},i.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},i}(),Ee.PNG=Oe;var Pe=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(e){var t=this.buffer,n=t?t.byteLength:0;if(e<n)return t;for(var i=512;i<e;)i<<=1;for(var a=new Uint8Array(i),r=0;r<n;++r)a[r]=t[r];return this.buffer=a},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(e){var t=this.pos;if(e){this.ensureBuffer(t+e);for(var n=t+e;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;i<n&&(n=i)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(t,n)},lookChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(e,t,n){for(var i=e+t;this.bufferLength<=i&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t,n)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0}},e}(),Le=function(){if("undefined"!=typeof Uint32Array){var e=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),n=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(s.prototype=Object.create(Pe.prototype)).getBits=function(e){for(var t,n=this.codeSize,i=this.codeBuf,a=this.bytes,s=this.bytesPos;n<e;)void 0===(t=a[s++])&&r("Bad encoding in flate stream"),i|=t<<n,n+=8;return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=n-=e,this.bytesPos=s,t},s.prototype.getCode=function(e){for(var t=e[0],n=e[1],i=this.codeSize,a=this.codeBuf,s=this.bytes,l=this.bytesPos;i<n;){var o;void 0===(o=s[l++])&&r("Bad encoding in flate stream"),a|=o<<i,i+=8}var u=t[a&(1<<n)-1],c=u>>16,h=65535&u;return(0==i||i<c||0==c)&&r("Bad encoding in flate stream"),this.codeBuf=a>>c,this.codeSize=i-c,this.bytesPos=l,h},s.prototype.generateHuffmanTable=function(e){for(var t=e.length,n=0,i=0;i<t;++i)e[i]>n&&(n=e[i]);for(var a=1<<n,r=new Uint32Array(a),s=1,l=0,o=2;s<=n;++s,l<<=1,o<<=1)for(var u=0;u<t;++u)if(e[u]==s){var c=0,h=l;for(i=0;i<s;++i)c=c<<1|1&h,h>>=1;for(i=c;i<a;i+=o)r[i]=s<<16|u;++l}return[r,n]},s.prototype.readBlock=function(){function s(e,t,n,i,a){for(var r=e.getBits(n)+i;0<r--;)t[f++]=a}var l=this.getBits(3);if(1&l&&(this.eof=!0),0!=(l>>=1)){var o,u;if(1==l)o=i,u=a;else if(2==l){for(var c=this.getBits(5)+257,h=this.getBits(5)+1,d=this.getBits(4)+4,p=Array(e.length),f=0;f<d;)p[e[f++]]=this.getBits(3);for(var m=this.generateHuffmanTable(p),g=0,v=(f=0,c+h),y=new Array(v);f<v;){var b=this.getCode(m);16==b?s(this,y,2,3,g):17==b?s(this,y,3,3,g=0):18==b?s(this,y,7,11,g=0):y[f++]=g=b}o=this.generateHuffmanTable(y.slice(0,c)),u=this.generateHuffmanTable(y.slice(c,v))}else r("Unknown block type in flate stream");for(var k=(T=this.buffer)?T.length:0,C=this.bufferLength;;){var w=this.getCode(o);if(w<256)k<=C+1&&(k=(T=this.ensureBuffer(C+1)).length),T[C++]=w;else{if(256==w)return void(this.bufferLength=C);var _=(w=t[w-=257])>>16;0<_&&(_=this.getBits(_)),g=(65535&w)+_,w=this.getCode(u),0<(_=(w=n[w])>>16)&&(_=this.getBits(_));var x=(65535&w)+_;k<=C+g&&(k=(T=this.ensureBuffer(C+g)).length);for(var S=0;S<g;++S,++C)T[C]=T[C-x]}}}else{var E,O=this.bytes,I=this.bytesPos;void 0===(E=O[I++])&&r("Bad block header in flate stream");var A=E;void 0===(E=O[I++])&&r("Bad block header in flate stream"),A|=E<<8,void 0===(E=O[I++])&&r("Bad block header in flate stream");var D=E;void 0===(E=O[I++])&&r("Bad block header in flate stream"),(D|=E<<8)!=(65535&~A)&&r("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var M=this.bufferLength,T=this.ensureBuffer(M+A),P=M+A;this.bufferLength=P;for(var L=M;L<P;++L){if(void 0===(E=O[I++])){this.eof=!0;break}T[L]=E}this.bytesPos=I}},s}function r(e){throw new Error(e)}function s(e){var t=0,n=e[t++],i=e[t++];-1!=n&&-1!=i||r("Invalid header in flate stream"),8!=(15&n)&&r("Unknown compression method in flate stream"),((n<<8)+i)%31!=0&&r("Bad FCHECK in flate stream"),32&i&&r("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Pe.call(this)}}();window.tmp=Le},void 0===(a=i.call(t,n,t,e))||(e.exports=a);try{e.exports=jsPDF}catch(r){}},"6MUB":function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var r=encodeURIComponent(i(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return r+encodeURIComponent(i(e))})).join(t):r+encodeURIComponent(i(e[a]))})).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""}},CxY0:function(e,t,n){"use strict";var i=n("rWzI"),a=n("Nehr");function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=b(e)),e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var s=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n("r8II");function b(e,t,n){if(e&&a.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}r.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),l=-1!==r&&r<e.indexOf("#")?"?":"#",u=e.split(l);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(l);if(b=b.trim(),!n&&1===e.split("#").length){var k=o.exec(b);if(k)return this.path=b,this.href=b,this.pathname=k[1],k[2]?(this.search=k[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var C=s.exec(b);if(C){var w=(C=C[0]).toLowerCase();this.protocol=w,b=b.substr(C.length)}if(n||C||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||C&&g[C]||(b=b.substr(2),this.slashes=!0)}if(!g[C]&&(_||C&&!v[C])){for(var x,S,E=-1,O=0;O<d.length;O++)-1!==(I=b.indexOf(d[O]))&&(-1===E||I<E)&&(E=I);for(-1!==(S=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(x=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(x)),E=-1,O=0;O<h.length;O++){var I;-1!==(I=b.indexOf(h[O]))&&(-1===E||I<E)&&(E=I)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var D=this.hostname.split(/\./),M=(O=0,D.length);O<M;O++){var T=D[O];if(T&&!T.match(p)){for(var P="",L=0,N=T.length;L<N;L++)T.charCodeAt(L)>127?P+="x":P+=T[L];if(!P.match(p)){var R=D.slice(0,O),F=D.slice(O+1),H=T.match(f);H&&(R.push(H[1]),F.unshift(H[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=R.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),A||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(O=0,M=c.length;O<M;O++){var B=c[O];if(-1!==b.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),b=b.split(B).join(V)}}var j=b.indexOf("#");-1!==j&&(this.hash=b.substr(j),b=b.slice(0,j));var z=b.indexOf("?");return-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,z)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,s="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var l=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),l&&"?"!==l.charAt(0)&&(l="?"+l),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(l=l.replace("#","%23"))+i},r.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(a.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),s=0;s<i.length;s++){var l=i[s];n[l]=this[l]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),u=0;u<o.length;u++){var c=o[u];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var p=h[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||m||n.host&&e.pathname,k=b,C=n.pathname&&n.pathname.split("/")||[],w=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),b=b&&(""===f[0]||""===C[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search))return w&&(n.hostname=n.host=C.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!C.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var _=C.slice(-1)[0],x=(n.host||e.host||C.length>1)&&("."===_||".."===_)||""===_,S=0,E=C.length;E>=0;E--)"."===(_=C[E])?C.splice(E,1):".."===_?(C.splice(E,1),S++):S&&(C.splice(E,1),S--);if(!b&&!k)for(;S--;S)C.unshift("..");!b||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),x&&"/"!==C.join("/").substr(-1)&&C.push("");var O,I=""===C[0]||C[0]&&"/"===C[0].charAt(0);return w&&(n.hostname=n.host=I?"":C.length?C.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),(b=b||n.host&&C.length)&&!I&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},Nehr:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},XAfc:function(e,t,n){var i;!function(n){"use strict";var a={autoReset:!0,basic:!1,closable:!0,closableByDimmer:!0,invokeOnCloseOff:!1,frameless:!1,defaultFocusOff:!1,maintainFocus:!0,maximizable:!0,modal:!0,movable:!0,moveBounded:!1,overflow:!0,padding:!0,pinnable:!0,pinned:!0,preventBodyShift:!1,resizable:!0,startMaximized:!1,transition:"pulse",transitionOff:!1,tabbable:["button","[href]","input","select","textarea",'[tabindex]:not([tabindex^="-"]):not(:disabled):not(.ajs-reset)'].join(":not(:disabled):not(.ajs-reset),"),notifier:{delay:5,position:"bottom-right",closeButton:!1,classes:{base:"alertify-notifier",prefix:"ajs-",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",center:"ajs-center",visible:"ajs-visible",hidden:"ajs-hidden",close:"ajs-close"}},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"},hooks:{preinit:function(){},postinit:function(){}}},r=[];function s(e,t){e.className+=" "+t}function l(e,t){for(var n=e.className.split(" "),i=t.split(" "),a=0;a<i.length;a+=1){var r=n.indexOf(i[a]);r>-1&&n.splice(r,1)}e.className=n.join(" ")}function o(){return"rtl"===n.getComputedStyle(document.body).direction}function u(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function c(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function h(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function d(e){if(null===e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n+=1)t.push(d(e[n]));return t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return(t=new RegExp(e.source)).global=e.global,t.ignoreCase=e.ignoreCase,t.multiline=e.multiline,t.lastIndex=e.lastIndex,t;if("object"==typeof e){for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=d(e[i]));return t}return e}function p(e,t){if(e.elements){var n=e.elements.root;n.parentNode.removeChild(n),delete e.elements,e.settings=d(e.__settings),e.__init=t,delete e.__internal}}var f=!1;try{var m=Object.defineProperty({},"passive",{get:function(){f=!0}});n.addEventListener("test",m,m),n.removeEventListener("test",m,m)}catch(S){}var g=function(e,t,n,i,a){e.addEventListener(t,n,f?{capture:i,passive:a}:!0===i)},v=function(e,t,n,i,a){e.removeEventListener(t,n,f?{capture:i,passive:a}:!0===i)},y=function(){var e,t,n=!1,i={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==document.documentElement.style[e]){t=i[e],n=!0;break}return{type:t,supported:n}}();function b(e,t){return function(){if(arguments.length>0){for(var n=[],i=0;i<arguments.length;i+=1)n.push(arguments[i]);return n.push(e),t.apply(e,n)}return t.apply(e,[null,e])}}function k(e,t){return{index:e,button:t,cancel:!1}}function C(e,t){if("function"==typeof t.get(e))return t.get(e).call(t)}var w=function(){var e,t,i=[],f=!1,m=n.navigator.userAgent.indexOf("Safari")>-1&&n.navigator.userAgent.indexOf("Chrome")<0;function w(e){if(!e.__internal){var t;x.defaults.hooks.preinit(e),delete e.__init,e.__settings||(e.__settings=d(e.settings)),"function"==typeof e.setup?((t=e.setup()).options=t.options||{},t.focus=t.focus||{}):t={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof e.hooks&&(e.hooks={});var n=[];if(Array.isArray(t.buttons))for(var a=0;a<t.buttons.length;a+=1){var r=t.buttons[a],l={};for(var o in r)r.hasOwnProperty(o)&&(l[o]=r[o]);n.push(l)}var u=e.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:n,focus:t.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,defaultFocusOff:void 0,pinned:void 0,movable:void 0,moveBounded:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,invokeOnCloseOff:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,transitionOff:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclosing:void 0,onclose:void 0,onfocus:void 0,onmove:void 0,onmoved:void 0,onresize:void 0,onresized:void 0,onmaximize:void 0,onmaximized:void 0,onrestore:void 0,onrestored:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0,destroy:void 0},c={};c.root=document.createElement("div"),c.root.style.display="none",c.root.className="alertify ajs-hidden ",c.root.innerHTML='<div class="ajs-dimmer"></div><div class="ajs-modal" tabindex="0"></div>',c.dimmer=c.root.firstChild,c.modal=c.root.lastChild,c.modal.innerHTML='<div class="ajs-dialog" tabindex="0"></div>',c.dialog=c.modal.firstChild,c.dialog.innerHTML='<button class="ajs-reset"></button><div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div><div class="ajs-header"></div><div class="ajs-body"></div><div class="ajs-footer"></div><div class="ajs-handle"></div><button class="ajs-reset"></button>',c.reset=[],c.reset.push(c.dialog.firstChild),c.reset.push(c.dialog.lastChild),c.commands={},c.commands.container=c.reset[0].nextSibling,c.commands.pin=c.commands.container.firstChild,c.commands.maximize=c.commands.pin.nextSibling,c.commands.close=c.commands.maximize.nextSibling,c.header=c.commands.container.nextSibling,c.body=c.header.nextSibling,c.body.innerHTML='<div class="ajs-content"></div>',c.content=c.body.firstChild,c.footer=c.body.nextSibling,c.footer.innerHTML='<div class="ajs-auxiliary ajs-buttons"></div><div class="ajs-primary ajs-buttons"></div>',c.resizeHandle=c.footer.nextSibling,c.buttons={},c.buttons.auxiliary=c.footer.firstChild,c.buttons.primary=c.buttons.auxiliary.nextSibling,c.buttons.primary.innerHTML='<button class="ajs-button"></button>',c.buttonTemplate=c.buttons.primary.firstChild,c.buttons.primary.removeChild(c.buttonTemplate);for(var h=0;h<e.__internal.buttons.length;h+=1){var p=e.__internal.buttons[h];for(var f in i.indexOf(p.key)<0&&i.push(p.key),p.element=c.buttonTemplate.cloneNode(),p.element.innerHTML=p.text,"string"==typeof p.className&&""!==p.className&&s(p.element,p.className),p.attrs)"className"!==f&&p.attrs.hasOwnProperty(f)&&p.element.setAttribute(f,p.attrs[f]);"auxiliary"===p.scope?c.buttons.auxiliary.appendChild(p.element):c.buttons.primary.appendChild(p.element)}for(var m in e.elements=c,u.resetHandler=b(e,$),u.beginMoveHandler=b(e,he),u.beginResizeHandler=b(e,ke),u.bringToFrontHandler=b(e,A),u.modalClickHandler=b(e,z),u.buttonsClickHandler=b(e,Y),u.commandsClickHandler=b(e,T),u.transitionInHandler=b(e,Q),u.transitionOutHandler=b(e,ee),u.options)void 0!==t.options[m]?e.set(m,t.options[m]):x.defaults.hasOwnProperty(m)?e.set(m,x.defaults[m]):"title"===m&&e.set(m,x.defaults.glossary[m]);"function"==typeof e.build&&e.build(),x.defaults.hooks.postinit(e)}document.body.appendChild(e.elements.root)}function _(){n.scrollTo(e,t)}function S(){for(var e=0,t=0;t<r.length;t+=1){var n=r[t];(n.isModal()||n.isMaximized())&&(e+=1)}0===e&&document.body.className.indexOf("ajs-no-overflow")>=0?(l(document.body,"ajs-no-overflow"),I(!1)):e>0&&document.body.className.indexOf("ajs-no-overflow")<0&&(I(!0),s(document.body,"ajs-no-overflow"))}var E="",O=0;function I(e){x.defaults.preventBodyShift&&(e&&document.documentElement.scrollHeight>document.documentElement.clientHeight?(O=t,E=n.getComputedStyle(document.body).top,s(document.body,"ajs-fixed"),document.body.style.top=-t+"px"):e||(t=O,document.body.style.top=E,l(document.body,"ajs-fixed"),_()))}function A(e,t){for(var n=r.indexOf(t)+1;n<r.length;n+=1)if(r[n].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),r.splice(r.indexOf(t),1),r.push(t),K(t)),!1}function D(e,t,n,i,a){var r,s={op:void 0,items:[]};if(void 0===a&&"string"==typeof i)s.op="get",t.hasOwnProperty(i)?(s.found=!0,s.value=t[i]):(s.found=!1,s.value=void 0);else if(s.op="set","object"==typeof i){var l=i;for(var o in l)t.hasOwnProperty(o)?(t[o]!==l[o]&&(r=t[o],t[o]=l[o],n.call(e,o,r,l[o])),s.items.push({key:o,value:l[o],found:!0})):s.items.push({key:o,value:l[o],found:!1})}else{if("string"!=typeof i)throw new Error("args must be a string or object");t.hasOwnProperty(i)?(t[i]!==a&&(r=t[i],t[i]=a,n.call(e,i,r,a)),s.items.push({key:i,value:a,found:!0})):s.items.push({key:i,value:a,found:!1})}return s}function M(e){var t;W(e,(function(n){return t=!0!==e.get("invokeOnCloseOff")&&!0===n.invokeOnClose})),!t&&e.isOpen()&&e.close()}function T(e,t){switch(e.srcElement||e.target){case t.elements.commands.pin:t.isPinned()?L(t):P(t);break;case t.elements.commands.maximize:t.isMaximized()?R(t):N(t);break;case t.elements.commands.close:M(t)}return!1}function P(e){e.set("pinned",!0)}function L(e){e.set("pinned",!1)}function N(e){C("onmaximize",e),s(e.elements.root,"ajs-maximized"),e.isOpen()&&S(),C("onmaximized",e)}function R(e){C("onrestore",e),l(e.elements.root,"ajs-maximized"),e.isOpen()&&S(),C("onrestored",e)}function F(e){var t=c();e.elements.modal.style.marginTop=u()+"px",e.elements.modal.style.marginLeft=t+"px",e.elements.modal.style.marginRight=-t+"px"}function H(e){var t=parseInt(e.elements.modal.style.marginTop,10),n=parseInt(e.elements.modal.style.marginLeft,10);if(e.elements.modal.style.marginTop="",e.elements.modal.style.marginLeft="",e.elements.modal.style.marginRight="",e.isOpen()){var i=0,a=0;""!==e.elements.dialog.style.top&&(i=parseInt(e.elements.dialog.style.top,10)),e.elements.dialog.style.top=i+(t-u())+"px",""!==e.elements.dialog.style.left&&(a=parseInt(e.elements.dialog.style.left,10)),e.elements.dialog.style.left=a+(n-c())+"px"}}function B(e){e.get("modal")||e.get("pinned")?H(e):F(e)}var V=!1,j=0;function z(e,t){if(e.timeStamp-j>200&&(j=e.timeStamp)&&!V){var n=e.srcElement||e.target;!0===t.get("closableByDimmer")&&n===t.elements.modal&&M(t)}V=!1}var q=0,U=!1;function W(e,t){if(Date.now()-q>200&&(q=Date.now()))for(var n=0;n<e.__internal.buttons.length;n+=1){var i=e.__internal.buttons[n];if(!i.element.disabled&&t(i)){var a=k(n,i);"function"==typeof e.callback&&e.callback.apply(e,[a]),!1===a.cancel&&e.close();break}}}function Y(e,t){var n=e.srcElement||e.target;W(t,(function(e){return e.element===n&&(U=!0)}))}function G(e){if(!U){var t=r[r.length-1],n=e.keyCode;return 0===t.__internal.buttons.length&&27===n&&!0===t.get("closable")?(M(t),!1):i.indexOf(n)>-1?(W(t,(function(e){return e.key===n})),!1):void 0}U=!1}function X(e){var t=r[r.length-1],n=e.keyCode;if(37===n||39===n){for(var a=t.__internal.buttons,s=0;s<a.length;s+=1)if(document.activeElement===a[s].element)switch(n){case 37:return void a[(s||a.length)-1].element.focus();case 39:return void a[(s+1)%a.length].element.focus()}}else if(n<124&&n>111&&i.indexOf(n)>-1)return e.preventDefault(),e.stopPropagation(),W(t,(function(e){return e.key===n})),!1}function K(e,t){if(t)t.focus();else{var n=e.__internal.focus,i=n.element;switch(typeof n.element){case"number":e.__internal.buttons.length>n.element&&(i=!0===e.get("basic")?e.elements.reset[0]:e.__internal.buttons[n.element].element);break;case"string":i=e.elements.body.querySelector(n.element);break;case"function":i=n.element.call(e)}(!0===e.get("defaultFocusOff")||null==i&&0===e.__internal.buttons.length)&&(i=e.elements.reset[0]),i&&i.focus&&(i.focus(),n.select&&i.select&&i.select())}}function $(e,t){if(!t)for(var n=r.length-1;n>-1;n-=1)if(r[n].isModal()){t=r[n];break}if(t&&t.isModal()){var i,a=t.elements.reset[0],s=t.elements.reset[1],l=e.relatedTarget,o=t.elements.root.contains(l),u=e.srcElement||e.target;if(u===a&&!o||u===s&&l===a)return;u===s||u===document.body?i=a:u===a&&l===s?i=Z(t):u===a&&o&&(i=Z(t,!0)),K(t,i)}}function Z(e,t){var n=[].slice.call(e.elements.dialog.querySelectorAll(a.tabbable));t&&n.reverse();for(var i=0;i<n.length;i+=1){var r=n[i];if(r.offsetParent||r.offsetWidth||r.offsetHeight||r.getClientRects().length)return r}}function J(e){var t=r[r.length-1];t&&e.shiftKey&&9===e.keyCode&&t.elements.reset[1].focus()}function Q(e,t){clearTimeout(t.__internal.timerIn),K(t),U=!1,C("onfocus",t),v(t.elements.dialog,y.type,t.__internal.transitionInHandler),l(t.elements.root,"ajs-in")}function ee(e,t){clearTimeout(t.__internal.timerOut),v(t.elements.dialog,y.type,t.__internal.transitionOutHandler),fe(t),_e(t),t.isMaximized()&&!t.get("startMaximized")&&R(t),"function"==typeof t.__internal.destroy&&t.__internal.destroy.apply(t)}var te=null,ne=0,ie=0,ae="pageX",re="pageY",se=null,le=!1,oe=null;function ue(e,t){var n=e[re]-ie;le&&(n-=document.body.scrollTop),t.style.left=e[ae]-ne+"px",t.style.top=n+"px"}function ce(e,t){var n=e[re]-ie;le&&(n-=document.body.scrollTop),t.style.left=Math.min(se.maxLeft,Math.max(se.minLeft,e[ae]-ne))+"px",t.style.top=le?Math.min(se.maxTop,Math.max(se.minTop,n))+"px":Math.max(se.minTop,n)+"px"}function he(e,t){if(null===me&&!t.isMaximized()&&t.get("movable")){var n,i=0,a=0;if("touchstart"===e.type?(e.preventDefault(),n=e.targetTouches[0],ae="clientX",re="clientY"):0===e.button&&(n=e),n){var r=t.elements.dialog;if(s(r,"ajs-capture"),r.style.left&&(i=parseInt(r.style.left,10)),r.style.top&&(a=parseInt(r.style.top,10)),ne=n[ae]-i,ie=n[re]-a,t.isModal()?ie+=t.elements.modal.scrollTop:t.isPinned()&&(ie-=document.body.scrollTop),t.get("moveBounded")){var l=r,o=-i,u=-a;do{o+=l.offsetLeft,u+=l.offsetTop}while(l=l.offsetParent);se={maxLeft:o,minLeft:-o,maxTop:document.documentElement.clientHeight-r.clientHeight-u,minTop:-u},oe=ce}else se=null,oe=ue;return C("onmove",t),le=!t.isModal()&&t.isPinned(),te=t,oe(n,r),s(document.body,"ajs-no-selection"),!1}}}function de(e){var t;te&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&oe(t,te.elements.dialog))}function pe(){if(te){var e=te;te=se=null,l(document.body,"ajs-no-selection"),l(e.elements.dialog,"ajs-capture"),C("onmoved",e)}}function fe(e){te=null;var t=e.elements.dialog;t.style.left=t.style.top=""}var me=null,ge=Number.Nan,ve=0,ye=0,be=0;function ke(e,t){var n;if(!t.isMaximized()&&("touchstart"===e.type?(e.preventDefault(),n=e.targetTouches[0]):0===e.button&&(n=e),n)){C("onresize",t),me=t,be=t.elements.resizeHandle.offsetHeight/2;var i=t.elements.dialog;return s(i,"ajs-capture"),ge=parseInt(i.style.left,10),i.style.height=i.offsetHeight+"px",i.style.minHeight=t.elements.header.offsetHeight+t.elements.footer.offsetHeight+"px",i.style.width=(ve=i.offsetWidth)+"px","none"!==i.style.maxWidth&&(i.style.minWidth=(ye=i.offsetWidth)+"px"),i.style.maxWidth="none",s(document.body,"ajs-no-selection"),!1}}function Ce(e){var t;me&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&function(e,t,n){var i,a,r=t,s=0,l=0;do{s+=r.offsetLeft,l+=r.offsetTop}while(r=r.offsetParent);!0===n?(i=e.pageX,a=e.pageY):(i=e.clientX,a=e.clientY);var u=o();if(u&&(i=document.body.offsetWidth-i,isNaN(ge)||(s=document.body.offsetWidth-s-t.offsetWidth)),t.style.height=a-l+be+"px",t.style.width=i-s+be+"px",!isNaN(ge)){var c=.5*Math.abs(t.offsetWidth-ve);u&&(c*=-1),t.offsetWidth>ve?t.style.left=ge+c+"px":t.offsetWidth>=ye&&(t.style.left=ge-c+"px")}}(t,me.elements.dialog,!me.get("modal")&&!me.get("pinned")))}function we(){if(me){var e=me;me=null,l(document.body,"ajs-no-selection"),l(e.elements.dialog,"ajs-capture"),V=!0,C("onresized",e)}}function _e(e){me=null;var t=e.elements.dialog;"none"===t.style.maxWidth&&(t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="",ge=Number.Nan,ve=ye=be=0)}function xe(){for(var e=0;e<r.length;e+=1){var t=r[e];t.get("autoReset")&&(fe(t),_e(t))}}function Se(e){g(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function Ee(e){v(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function Oe(e){g(e.elements.header,"mousedown",e.__internal.beginMoveHandler),g(e.elements.header,"touchstart",e.__internal.beginMoveHandler,!1,!1)}function Ie(e){v(e.elements.header,"mousedown",e.__internal.beginMoveHandler),v(e.elements.header,"touchstart",e.__internal.beginMoveHandler,!1,!1)}function Ae(e){g(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),g(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler,!1,!1)}function De(e){v(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),v(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler,!1,!1)}return{__init:w,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf("ajs-modeless")<0},isMaximized:function(){return this.elements.root.className.indexOf("ajs-maximized")>-1},isPinned:function(){return this.elements.root.className.indexOf("ajs-unpinned")<0},maximize:function(){return this.isMaximized()||N(this),this},restore:function(){return this.isMaximized()&&R(this),this},pin:function(){return this.isPinned()||P(this),this},unpin:function(){return this.isPinned()&&L(this),this},bringToFront:function(){return A(0,this),this},moveTo:function(e,t){if(!isNaN(e)&&!isNaN(t)){C("onmove",this);var n=this.elements.dialog,i=n,a=0,r=0;n.style.left&&(a-=parseInt(n.style.left,10)),n.style.top&&(r-=parseInt(n.style.top,10));do{a+=i.offsetLeft,r+=i.offsetTop}while(i=i.offsetParent);var s=e-a,l=t-r;o()&&(s*=-1),n.style.left=s+"px",n.style.top=l+"px",C("onmoved",this)}return this},resizeTo:function(e,t){var n=parseFloat(e),i=parseFloat(t),a=/(\d*\.\d+|\d+)%/;if(!isNaN(n)&&!isNaN(i)&&!0===this.get("resizable")){C("onresize",this),(""+e).match(a)&&(n=n/100*document.documentElement.clientWidth),(""+t).match(a)&&(i=i/100*document.documentElement.clientHeight);var r=this.elements.dialog;"none"!==r.style.maxWidth&&(r.style.minWidth=(ye=r.offsetWidth)+"px"),r.style.maxWidth="none",r.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",r.style.width=n+"px",r.style.height=i+"px",C("onresized",this)}return this},setting:function(e,t){var n=this,i=D(this,this.__internal.options,(function(e,t,i){!function(e,t,n,i){switch(t){case"title":e.setHeader(i);break;case"modal":!function(e){e.get("modal")?(l(e.elements.root,"ajs-modeless"),e.isOpen()&&(Ee(e),B(e),S())):(s(e.elements.root,"ajs-modeless"),e.isOpen()&&(Se(e),B(e),S()))}(e);break;case"basic":!function(e){e.get("basic")?s(e.elements.root,"ajs-basic"):l(e.elements.root,"ajs-basic")}(e);break;case"frameless":!function(e){e.get("frameless")?s(e.elements.root,"ajs-frameless"):l(e.elements.root,"ajs-frameless")}(e);break;case"pinned":!function(e){e.get("pinned")?(l(e.elements.root,"ajs-unpinned"),e.isOpen()&&H(e)):(s(e.elements.root,"ajs-unpinned"),e.isOpen()&&!e.isModal()&&F(e))}(e);break;case"closable":!function(e){e.get("closable")?(s(e.elements.root,"ajs-closable"),function(e){g(e.elements.modal,"click",e.__internal.modalClickHandler)}(e)):(l(e.elements.root,"ajs-closable"),function(e){v(e.elements.modal,"click",e.__internal.modalClickHandler)}(e))}(e);break;case"maximizable":!function(e){e.get("maximizable")?s(e.elements.root,"ajs-maximizable"):l(e.elements.root,"ajs-maximizable")}(e);break;case"pinnable":!function(e){e.get("pinnable")?s(e.elements.root,"ajs-pinnable"):l(e.elements.root,"ajs-pinnable")}(e);break;case"movable":!function(e){e.get("movable")?(s(e.elements.root,"ajs-movable"),e.isOpen()&&Oe(e)):(fe(e),l(e.elements.root,"ajs-movable"),e.isOpen()&&Ie(e))}(e);break;case"resizable":!function(e){e.get("resizable")?(s(e.elements.root,"ajs-resizable"),e.isOpen()&&Ae(e)):(_e(e),l(e.elements.root,"ajs-resizable"),e.isOpen()&&De(e))}(e);break;case"padding":i?l(e.elements.root,"ajs-no-padding"):e.elements.root.className.indexOf("ajs-no-padding")<0&&s(e.elements.root,"ajs-no-padding");break;case"overflow":i?l(e.elements.root,"ajs-no-overflow"):e.elements.root.className.indexOf("ajs-no-overflow")<0&&s(e.elements.root,"ajs-no-overflow");break;case"transition":!function(e,t,n){"string"==typeof n&&l(e.elements.root,"ajs-"+n),s(e.elements.root,"ajs-"+t)}(e,i,n);break;case"transitionOff":!function(e){e.get("transitionOff")?s(e.elements.root,"ajs-no-transition"):l(e.elements.root,"ajs-no-transition")}(e)}"function"==typeof e.hooks.onupdate&&e.hooks.onupdate.call(e,t,n,i)}(n,e,t,i)}),e,t);if("get"===i.op)return i.found?i.value:void 0!==this.settings?D(this,this.settings,this.settingUpdated||function(){},e,t).value:void 0;if("set"===i.op){if(i.items.length>0)for(var a=this.settingUpdated||function(){},r=0;r<i.items.length;r+=1){var o=i.items[r];o.found||void 0===this.settings||D(this,this.settings,a,o.key,o.value)}return this}},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},setHeader:function(e){return"string"==typeof e?(h(this.elements.header),this.elements.header.innerHTML=e):e instanceof n.HTMLElement&&this.elements.header.firstChild!==e&&(h(this.elements.header),this.elements.header.appendChild(e)),this},setContent:function(e){return"string"==typeof e?(h(this.elements.content),this.elements.content.innerHTML=e):e instanceof n.HTMLElement&&this.elements.content.firstChild!==e&&(h(this.elements.content),this.elements.content.appendChild(e)),this},showModal:function(e){return this.show(!0,e)},show:function(i,a){if(w(this),this.__internal.isOpen){fe(this),_e(this),s(this.elements.dialog,"ajs-shake");var o=this;setTimeout((function(){l(o.elements.dialog,"ajs-shake")}),200)}else{if(this.__internal.isOpen=!0,r.push(this),x.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),document.body.hasAttribute("tabindex")||document.body.setAttribute("tabindex",f="0"),"function"==typeof this.prepare&&this.prepare(),1===r.length&&(g(n,"resize",xe),g(document.body,"keyup",G),g(document.body,"keydown",X),g(document.body,"focus",$),g(document.documentElement,"mousemove",de),g(document.documentElement,"touchmove",de,!1,!1),g(document.documentElement,"mouseup",pe),g(document.documentElement,"touchend",pe),g(document.documentElement,"mousemove",Ce),g(document.documentElement,"touchmove",Ce,!1,!1),g(document.documentElement,"mouseup",we),g(document.documentElement,"touchend",we)),g(this.elements.commands.container,"click",this.__internal.commandsClickHandler),g(this.elements.footer,"click",this.__internal.buttonsClickHandler),g(this.elements.reset[0],"focusin",this.__internal.resetHandler),g(this.elements.reset[0],"keydown",J),g(this.elements.reset[1],"focusin",this.__internal.resetHandler),U=!0,g(this.elements.dialog,y.type,this.__internal.transitionInHandler),this.get("modal")||Se(this),this.get("resizable")&&Ae(this),this.get("movable")&&Oe(this),void 0!==i&&this.set("modal",i),e=c(),t=u(),S(),"string"==typeof a&&""!==a&&(this.__internal.className=a,s(this.elements.root,a)),this.get("startMaximized")?this.maximize():this.isMaximized()&&R(this),B(this),this.elements.root.removeAttribute("style"),l(this.elements.root,"ajs-out"),s(this.elements.root,"ajs-in"),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,y.supported?1e3:100),m){var h=this.elements.root;h.style.display="none",setTimeout((function(){h.style.display="block"}),0)}l(this.elements.root,"ajs-hidden"),_(),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),C("onshow",this)}return this},close:function(){return this.__internal.isOpen&&!1!==C("onclosing",this)&&(1===r.length&&(v(n,"resize",xe),v(document.body,"keyup",G),v(document.body,"keydown",X),v(document.body,"focus",$),v(document.documentElement,"mousemove",de),v(document.documentElement,"mouseup",pe),v(document.documentElement,"mousemove",Ce),v(document.documentElement,"mouseup",we)),v(this.elements.commands.container,"click",this.__internal.commandsClickHandler),v(this.elements.footer,"click",this.__internal.buttonsClickHandler),v(this.elements.reset[0],"focusin",this.__internal.resetHandler),v(this.elements.reset[0],"keydown",J),v(this.elements.reset[1],"focusin",this.__internal.resetHandler),g(this.elements.dialog,y.type,this.__internal.transitionOutHandler),this.get("modal")||Ee(this),this.get("movable")&&Ie(this),this.get("resizable")&&De(this),l(this.elements.root,"ajs-in"),s(this.elements.root,"ajs-out"),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,y.supported?1e3:100),s(this.elements.root,"ajs-hidden"),x.defaults.maintainFocus&&this.__internal.activeElement&&(this.__internal.activeElement.focus(),this.__internal.activeElement=null),void 0!==this.__internal.className&&""!==this.__internal.className&&l(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),C("onclose",this),r.splice(r.indexOf(this),1),this.__internal.isOpen=!1,S()),r.length||"0"!==f||document.body.removeAttribute("tabindex"),this},closeOthers:function(){return x.closeAll(this),this},destroy:function(){return this.__internal&&(this.__internal.isOpen?(this.__internal.destroy=function(){p(this,w)},this.close()):this.__internal.destroy||p(this,w)),this}}}(),_=function(){var e,t=[],i=a.notifier.classes,r=i.base;function o(t){t.__internal||(t.__internal={position:x.defaults.notifier.position,delay:x.defaults.notifier.delay},e=document.createElement("DIV"),("transitionOff"in a.notifier?a.notifier.transitionOff:a.transitionOff)&&(r=i.base+" ajs-no-transition"),c(t)),e.parentNode!==document.body&&document.body.appendChild(e)}function u(e){e.__internal.pushed=!0,t.push(e)}function c(t){switch(e.className=r,t.__internal.position){case"top-right":s(e,i.top+" "+i.right);break;case"top-left":s(e,i.top+" "+i.left);break;case"top-center":s(e,i.top+" "+i.center);break;case"bottom-left":s(e,i.bottom+" "+i.left);break;case"bottom-center":s(e,i.bottom+" "+i.center);break;default:case"bottom-right":s(e,i.bottom+" "+i.right)}}return{setting:function(e,t){if(o(this),void 0===t)return this.__internal[e];switch(e){case"position":this.__internal.position=t,c(this);break;case"delay":this.__internal.delay=t}return this},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},create:function(a,r){o(this);var c=document.createElement("div");return c.className=i.message+("string"==typeof a&&""!==a?" "+i.prefix+a:""),function(a,r){function o(e){clearTimeout(e.__internal.timer),clearTimeout(e.__internal.transitionTimeout)}return(c={element:a,push:function(t,n){if(!this.__internal.pushed){var a,r;switch(u(this),o(this),arguments.length){case 0:r=this.__internal.delay;break;case 1:"number"==typeof t?r=t:(a=t,r=this.__internal.delay);break;case 2:a=t,r=n}return this.__internal.closeButton=x.defaults.notifier.closeButton,void 0!==a&&this.setContent(a),_.__internal.position.indexOf("top")<0?e.appendChild(this.element):e.insertBefore(this.element,e.firstChild),s(this.element,i.visible),g(this.element,"click",this.__internal.clickHandler),this.delay(r)}return this},ondismiss:function(){},callback:r,dismiss:function(n){return this.__internal.pushed&&(o(this),"function"==typeof this.ondismiss&&!1===this.ondismiss.call(this)||(v(this.element,"click",this.__internal.clickHandler),void 0!==this.element&&this.element.parentNode===e&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,y.supported?1e3:100),l(this.element,i.visible),"function"==typeof this.callback&&this.callback.call(this,n)),t.splice(t.indexOf(this),1),this.__internal.pushed=!1)),this},delay:function(e){if(o(this),this.__internal.delay=void 0===e||isNaN(+e)?_.__internal.delay:+e,this.__internal.delay>0){var t=this;this.__internal.timer=setTimeout((function(){t.dismiss()}),1e3*this.__internal.delay)}return this},setContent:function(e){if("string"==typeof e?(h(this.element),this.element.innerHTML=e):e instanceof n.HTMLElement&&this.element.firstChild!==e&&(h(this.element),this.element.appendChild(e)),this.__internal.closeButton){var t=document.createElement("span");s(t,i.close),t.setAttribute("data-close",!0),this.element.appendChild(t)}return this},dismissOthers:function(){return _.dismissAll(this),this}}).__internal||(c.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},c.__internal.clickHandler=b(c,(function(e,t){t.__internal.closeButton&&"true"!==e.target.getAttribute("data-close")||t.dismiss(!0)})),c.__internal.transitionEndHandler=b(c,(function t(n,i){v(i.element,y.type,t),e.removeChild(i.element)}))),c;var c}(c,r)},dismissAll:function(e){for(var n=t.slice(0),i=0;i<n.length;i+=1){var a=n[i];void 0!==e&&e===a||a.dismiss()}}}}(),x=new function(){var e={};function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(t){var n=e[t].dialog;return n&&"function"==typeof n.__init&&n.__init(n),n}return{defaults:a,dialog:function(i,a,r,s){if("function"!=typeof a)return n(i);if(this.hasOwnProperty(i))throw new Error("alertify.dialog: name already exists");var l=function(n,i,a,r){var s={dialog:null,factory:i};return void 0!==r&&(s.factory=function(){return t(new e[r].factory,new i)}),a||(s.dialog=t(new s.factory,w)),e[n]=s}(i,a,r,s);this[i]=r?function(){if(0===arguments.length)return l.dialog;var e=t(new l.factory,w);return e&&"function"==typeof e.__init&&e.__init(e),e.main.apply(e,arguments),e.show.apply(e)}:function(){if(l.dialog&&"function"==typeof l.dialog.__init&&l.dialog.__init(l.dialog),0===arguments.length)return l.dialog;var e=l.dialog;return e.main.apply(l.dialog,arguments),e.show.apply(l.dialog)}},closeAll:function(e){for(var t=r.slice(0),n=0;n<t.length;n+=1){var i=t[n];void 0!==e&&e===i||i.close()}},setting:function(e,t,i){if("notifier"===e)return _.setting(t,i);var a=n(e);return a?a.setting(t,i):void 0},set:function(e,t,n){return this.setting(e,t,n)},get:function(e,t){return this.setting(e,t)},notify:function(e,t,n,i){return _.create(t,i).push(e,n)},message:function(e,t,n){return _.create(null,n).push(e,t)},success:function(e,t,n){return _.create("success",n).push(e,t)},error:function(e,t,n){return _.create("error",n).push(e,t)},warning:function(e,t,n){return _.create("warning",n).push(e,t)},dismissAll:function(){_.dismissAll()}}};x.dialog("alert",(function(){return{main:function(e,t,n){var i,a,r;switch(arguments.length){case 1:a=e;break;case 2:"function"==typeof t?(a=e,r=t):(i=e,a=t);break;case 3:i=e,a=t,r=n}return this.set("title",i),this.set("message",a),this.set("onok",r),this},setup:function(){return{buttons:[{text:x.defaults.glossary.ok,key:27,invokeOnClose:!0,className:x.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=n)}},callback:function(e){if("function"==typeof this.get("onok")){var t=this.get("onok").call(this,e);void 0!==t&&(e.cancel=!t)}}}})),x.dialog("confirm",(function(){var e={timer:null,index:null,text:null,duration:null,task:function(n,i){if(i.isOpen()){if(i.__internal.buttons[e.index].element.innerHTML=e.text+" (&#8207;"+e.duration+"&#8207;) ",e.duration-=1,-1===e.duration){t(i);var a=k(e.index,i.__internal.buttons[e.index]);"function"==typeof i.callback&&i.callback.apply(i,[a]),!1!==a.close&&i.close()}}else t(i)}};function t(t){null!==e.timer&&(clearInterval(e.timer),e.timer=null,t.__internal.buttons[e.index].element.innerHTML=e.text)}function n(n,i,a){t(n),e.duration=a,e.index=i,e.text=n.__internal.buttons[i].element.innerHTML,e.timer=setInterval(b(n,e.task),1e3),e.task(null,n)}return{main:function(e,t,n,i){var a,r,s,l;switch(arguments.length){case 1:r=e;break;case 2:r=e,s=t;break;case 3:r=e,s=t,l=n;break;case 4:a=e,r=t,s=n,l=i}return this.set("title",a),this.set("message",r),this.set("onok",s),this.set("oncancel",l),this},setup:function(){return{buttons:[{text:x.defaults.glossary.ok,key:13,className:x.defaults.theme.ok},{text:x.defaults.glossary.cancel,key:27,invokeOnClose:!0,className:x.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"labels":"ok"in n&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=n.ok,this.__internal.buttons[0].element.innerHTML=n.ok),"cancel"in n&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=n.cancel,this.__internal.buttons[1].element.innerHTML=n.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===n?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===n?0:1}},callback:function(e){var n;switch(t(this),e.index){case 0:"function"==typeof this.get("onok")&&void 0!==(n=this.get("onok").call(this,e))&&(e.cancel=!n);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(n=this.get("oncancel").call(this,e))&&(e.cancel=!n)}},autoOk:function(e){return n(this,0,e),this},autoCancel:function(e){return n(this,1,e),this}}})),x.dialog("prompt",(function(){var e=document.createElement("INPUT"),t=document.createElement("P");return{main:function(e,t,n,i,a){var r,s,l,o,u;switch(arguments.length){case 1:s=e;break;case 2:s=e,l=t;break;case 3:s=e,l=t,o=n;break;case 4:s=e,l=t,o=n,u=i;break;case 5:r=e,s=t,l=n,o=i,u=a}return this.set("title",r),this.set("message",s),this.set("value",l),this.set("onok",o),this.set("oncancel",u),this},setup:function(){return{buttons:[{text:x.defaults.glossary.ok,key:13,className:x.defaults.theme.ok},{text:x.defaults.glossary.cancel,key:27,invokeOnClose:!0,className:x.defaults.theme.cancel}],focus:{element:e,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){e.className=x.defaults.theme.input,e.setAttribute("type","text"),e.value=this.get("value"),this.elements.content.appendChild(t),this.elements.content.appendChild(e)},prepare:function(){},setMessage:function(e){"string"==typeof e?(h(t),t.innerHTML=e):e instanceof n.HTMLElement&&t.firstChild!==e&&(h(t),t.appendChild(e))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(t,n,i){switch(t){case"message":this.setMessage(i);break;case"value":e.value=i;break;case"type":switch(i){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":e.type=i;break;default:e.type="text"}break;case"labels":i.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=i.ok),i.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=i.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===i?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(t){var n;switch(t.index){case 0:this.settings.value=e.value,"function"==typeof this.get("onok")&&void 0!==(n=this.get("onok").call(this,t,this.settings.value))&&(t.cancel=!n);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(n=this.get("oncancel").call(this,t))&&(t.cancel=!n),t.cancel||(e.value=this.settings.value)}}}})),"object"==typeof e.exports?e.exports=x:void 0===(i=(function(){return x}).apply(t,[]))||(e.exports=i)}("undefined"!=typeof window?window:this)},YcCt:function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var s=/\+/g;e=e.split(t=t||"&");var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var o=e.length;l>0&&o>l&&(o=l);for(var u=0;u<o;++u){var c,h,d,p,f=e[u].replace(s,"%20"),m=f.indexOf(n);m>=0?(c=f.substr(0,m),h=f.substr(m+1)):(c=f,h=""),d=decodeURIComponent(c),p=decodeURIComponent(h),i(r,d)?Array.isArray(r[d])?r[d].push(p):r[d]=[r[d],p]:r[d]=p}return r}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},r8II:function(e,t,n){"use strict";t.decode=t.parse=n("YcCt"),t.encode=t.stringify=n("6MUB")},rWzI:function(e,t,n){(function(e){var i;!function(a){"object"==typeof global&&global;var r,s=2147483647,l=/^xn--/,o=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function p(e){throw RangeError(c[e])}function f(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function m(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+f((e=e.replace(u,".")).split("."),t).join(".")}function g(e){for(var t,n,i=[],a=0,r=e.length;a<r;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function v(e){return f(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+d(e)})).join("")}function y(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,n){var i=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;i+=36)e=h(e/35);return h(i+36*e/(e+38))}function k(e){var t,n,i,a,r,l,o,u,c,d,f,m=[],g=e.length,y=0,k=128,C=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&p("not-basic"),m.push(e.charCodeAt(i));for(a=n>0?n+1:0;a<g;){for(r=y,l=1,o=36;a>=g&&p("invalid-input"),((u=(f=e.charCodeAt(a++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>h((s-y)/l))&&p("overflow"),y+=u*l,!(u<(c=o<=C?1:o>=C+26?26:o-C));o+=36)l>h(s/(d=36-c))&&p("overflow"),l*=d;C=b(y-r,t=m.length+1,0==r),h(y/t)>s-k&&p("overflow"),k+=h(y/t),y%=t,m.splice(y++,0,k)}return v(m)}function C(e){var t,n,i,a,r,l,o,u,c,f,m,v,k,C,w,_=[];for(v=(e=g(e)).length,t=128,n=0,r=72,l=0;l<v;++l)(m=e[l])<128&&_.push(d(m));for(i=a=_.length,a&&_.push("-");i<v;){for(o=s,l=0;l<v;++l)(m=e[l])>=t&&m<o&&(o=m);for(o-t>h((s-n)/(k=i+1))&&p("overflow"),n+=(o-t)*k,t=o,l=0;l<v;++l)if((m=e[l])<t&&++n>s&&p("overflow"),m==t){for(u=n,c=36;!(u<(f=c<=r?1:c>=r+26?26:c-r));c+=36)_.push(d(y(f+(w=u-f)%(C=36-f),0))),u=h(w/C);_.push(d(y(u,0))),r=b(n,k,i==a),n=0,++i}++n,++t}return _.join("")}r={version:"1.3.2",ucs2:{decode:g,encode:v},decode:k,encode:C,toASCII:function(e){return m(e,(function(e){return o.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return m(e,(function(e){return l.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(i=(function(){return r}).call(t,n,t,e))||(e.exports=i)}()}).call(this,n("YuTi")(e))},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);var a=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=e},get useDeprecatedSynchronousErrorHandling(){return a}};function s(e){setTimeout((function(){throw e}),0)}var l={closed:!0,next:function(e){},error:function(e){if(r.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete:function(){}},o=Array.isArray||function(e){return e&&"number"==typeof e.length};function u(e){return null!==e&&"object"==typeof e}var c,h=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),d=((c=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(i(a))try{a.call(this)}catch(f){t=f instanceof h?p(f.errors):[f]}if(o(r))for(var l=-1,c=r.length;++l<c;){var d=r[l];if(u(d))try{d.unsubscribe()}catch(f){t=t||[],f instanceof h?t=t.concat(p(f.errors)):t.push(f)}}if(t)throw new h(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var a=n._parentOrParents;if(null===a)n._parentOrParents=this;else if(a instanceof e){if(a===this)return n;n._parentOrParents=[a,this]}else{if(-1!==a.indexOf(this))return n;a.push(this)}var r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new c),c);function p(e){return e.reduce((function(e,t){return e.concat(t instanceof h?t.errors:t)}),[])}var f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;switch(_classCallCheck(this,n),(r=t.call(this)).syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=l;break;case 1:if(!e){r.destination=l;break}if("object"==typeof e){e instanceof n?(r.syncErrorThrowable=e.syncErrorThrowable,r.destination=e,e.add(_assertThisInitialized(r))):(r.syncErrorThrowable=!0,r.destination=new g(_assertThisInitialized(r),e));break}default:r.syncErrorThrowable=!0,r.destination=new g(_assertThisInitialized(r),e,i,a)}return r}return _createClass(n,[{key:f,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var a=new n(e,t,i);return a.syncErrorThrowable=!1,a}}]),n}(d),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,a,r,s){var o,u;_classCallCheck(this,n),(o=t.call(this))._parentSubscriber=e;var c=_assertThisInitialized(o);return i(a)?u=a:a&&(u=a.next,r=a.error,s=a.complete,a!==l&&(i((c=Object.create(a)).unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(_assertThisInitialized(o)))),o._context=c,o._next=u,o._error=r,o._complete=s,o}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=r.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return r.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(s(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(m),v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(e){return e}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k(t)}function k(e){return 0===e.length?y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var C,w=((C=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,a=function(e,t,n){if(e){if(e instanceof m)return e;if(e[f])return e[f]()}return e||t||n?new m(e,t,n):new m(l)}(e,t,n);if(a.add(i?i.call(a,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),r.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){r.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,a=t.isStopped;if(n||a)return!1;e=i&&i instanceof m?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=_(t))((function(t,i){var a;a=n.subscribe((function(t){try{e(t)}catch(n){i(n),a&&a.unsubscribe()}}),i,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:v,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:k(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=_(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))}}]),e}()).create=function(e){return new C(e)},C);function _(e){if(e||(e=r.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var x,S=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this)).subject=e,a.subscriber=i,a.closed=!1,a}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(d),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).destination=e,i}return n}(m),I=((x=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:f,value:function(){return new O(this)}},{key:"lift",value:function(e){var t=new A(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new S;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),a=0;a<n;a++)i[a].next(e)}},{key:"error",value:function(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),a=0;a<n;a++)i[a].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new S;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new S;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new E(this,e))}},{key:"asObservable",value:function(){var e=new w;return e.source=this,e}}]),n}(w)).create=function(e,t){return new A(e,t)},x),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this)).destination=e,a.source=i,a}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):d.EMPTY}}]),n}(I);function D(e){return e&&"function"==typeof e.schedule}var M=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,r.outerValue=i,r.outerIndex=a,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(m),T=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}};var P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",L=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function N(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var R=function(e){if(e&&"function"==typeof e[v])return i=e,function(e){var t=i[v]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(L(e))return T(e);if(N(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,s),e};if(e&&"function"==typeof e[P])return t=e,function(e){for(var n=t[P]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,i,a=u(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(a," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function F(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new M(e,n,i);if(!a.closed)return t instanceof w?t.subscribe(a):R(t)(a)}var H=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,a){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(m);function B(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(e,t))}}var V=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new j(e,this.project,this.thisArg))}}]),e}(),j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.count=0,r.thisArg=a||_assertThisInitialized(r),r}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(m);function z(e,t){return new w((function(n){var i=new d,a=0;return i.add(t.schedule((function(){a!==e.length?(n.next(e[a++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function q(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new w((function(n){var i=new d;return i.add(t.schedule((function(){var a=e[v]();i.add(a.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(N(e))return function(e,t){return new w((function(n){var i=new d;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(L(e))return z(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w((function(n){var i,a=new d;return a.add((function(){i&&"function"==typeof i.return&&i.return()})),a.add(t.schedule((function(){i=e[P](),a.add(t.schedule((function(){if(!n.closed){var e,t;try{var a=i.next();e=a.value,t=a.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}})))}))),a}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(R(e))}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(U((function(n,i){return q(e(n,i)).pipe(B((function(e,a){return t(n,e,i,a)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new W(e,n))})}var W=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Y(e,this.project,this.concurrent))}}]),e}(),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(a=t.call(this,e)).project=i,a.concurrent=r,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new M(this,t,n),a=this.destination;a.add(i);var r=F(this,e,void 0,void 0,i);r!==i&&a.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,i,a){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(H);function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return U(y,e)}function X(e,t){return t?z(e,t):new w(T(e))}function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Number.POSITIVE_INFINITY,a=null,r=t[t.length-1];return D(r)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof r&&(i=t.pop()),null===a&&1===t.length&&t[0]instanceof w?t[0]:G(i)(X(t,a))}function $(){return function(e){return e.lift(new J(e))}}var Z,J=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new Q(e,n),a=t.subscribe(i);return i.closed||(i.connection=n.connect()),a}}]),e}(),Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).connectable=i,a}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(m),ee={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this)).source=e,a.subjectFactory=i,a._refCount=0,a._isComplete=!1,a}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new te(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}},{key:"refCount",value:function(){return $()(this)}}]),n}(w).prototype)._subscribe},_isComplete:{value:Z._isComplete,writable:!0},getSubject:{value:Z.getSubject},connect:{value:Z.connect},refCount:{value:Z.refCount}},te=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).connectable=i,a}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(O);function ne(){return new I}function ie(e,t,n){return function(){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return i.apply(this,t),this;var r=_construct(a,t);return s.annotation=r,s;function s(e,t,n){for(var i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(r),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a}()}var ae=ie("Inject",(function(e){return{token:e}})),re=ie("Optional"),se=ie("Self"),le=ie("SkipSelf"),oe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ue(e){for(var t in e)if(e[t]===ue)return t;throw Error("Could not find renamed property on target object.")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function he(e){return de(e,e[pe])||de(e,e[fe])}function de(e,t){return t&&t.token===e?t:null}var pe=ue({"\u0275prov":ue}),fe=ue({ngInjectableDef:ue});function me(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(me).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var ge=ue({__forward_ref__:ue});function ve(e){return e.__forward_ref__=ve,e.toString=function(){return me(this())},e}function ye(e){return"function"==typeof(t=e)&&t.hasOwnProperty(ge)&&t.__forward_ref__===ve?e():e;var t}var be="undefined"!=typeof globalThis&&globalThis,ke="undefined"!=typeof window&&window,Ce="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we="undefined"!=typeof global&&global,_e=be||we||ke||Ce,xe=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Se=new xe("INJECTOR",-1),Ee={},Oe=/\n/gm,Ie=ue({provide:String,useValue:ue}),Ae=void 0;function De(e){var t=Ae;return Ae=e,t}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Default;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Default;if(void 0===Ae)throw new Error("inject() must be called from an injection context");return null===Ae?function(e,t,n){var i=he(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&oe.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(me(e),"]"))}(e,0,t):Ae.get(e,t&oe.Optional?null:void 0,t)}(ye(e),t)}var Te=Me,Pe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee;if(t===Ee){var n=new Error("NullInjectorError: No provider for ".concat(me(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function Le(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var a=me(t);if(Array.isArray(t))a=t.map(me).join(" -> ");else if("object"==typeof t){var r=[];for(var s in t)if(t.hasOwnProperty(s)){var l=t[s];r.push(s+":"+("string"==typeof l?JSON.stringify(l):me(l)))}a="{".concat(r.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(a,"]: ").concat(e.replace(Oe,"\n  "))}var Ne=function e(){_classCallCheck(this,e)},Re=function e(){_classCallCheck(this,e)};function Fe(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function He(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Be(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}var Ve=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),je=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_e);function ze(e){return e.ngDebugContext}function qe(e){return e.ngOriginalError}function Ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var We=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||Ue}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?ze(e)?ze(e):this._findContext(qe(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=qe(e);t&&qe(t);)t=qe(t);return t}}]),e}(),Ye=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),Ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ye),Xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ye),Ke=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ye),$e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ye),Ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ye);function Je(e){return e instanceof Ye?e.changingThisBreaksApplicationSecurity:e}function Qe(e,t){var n=et(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function et(e){return e instanceof Ye&&e.getTypeName()||null}var tt=!0,nt=!1;function it(){return nt=!0,tt}var at=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i),n=this.inertDocument.createElement("body"),i.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var a=e.firstChild;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}]),e}(),rt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,st=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lt(e){return(e=String(e)).match(rt)||e.match(st)?e:(it()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function ot(e){var t,n={},i=_createForOfIteratorHelper(e.split(","));try{for(i.s();!(t=i.n()).done;){n[t.value]=!0}}catch(a){i.e(a)}finally{i.f()}return n}function ut(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0,r=n;a<r.length;a++){var s=r[a];for(var l in s)s.hasOwnProperty(l)&&(e[l]=!0)}return e}var ct,ht=ot("area,br,col,hr,img,wbr"),dt=ot("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pt=ot("rp,rt"),ft=ut(pt,dt),mt=ut(ht,ut(dt,ot("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ut(pt,ot("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ft),gt=ot("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vt=ot("srcset"),yt=ut(gt,vt,ot("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ot("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bt=ot("script,style,template"),kt=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!mt.hasOwnProperty(t))return this.sanitizedSomething=!0,!bt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,i=e.attributes,a=0;a<i.length;a++){var r=i.item(a),s=r.name,l=s.toLowerCase();if(yt.hasOwnProperty(l)){var o=r.value;gt[l]&&(o=lt(o)),vt[l]&&(n=o,o=(n=String(n)).split(",").map((function(e){return lt(e.trim())})).join(", ")),this.buf.push(" ",s,'="',_t(o),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();mt.hasOwnProperty(t)&&!ht.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(_t(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Ct=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wt=/([^\#-~ |!])/g;function _t(e){return e.replace(/&/g,"&amp;").replace(Ct,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(wt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var St=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Et=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ot=/^url\(([^)]+)\)$/;function It(e){var t;return t=e.replace(/[$@]/g,"_"),"ng-reflect-".concat(e=t.replace(At,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()})))}var At=/([A-Z])/g;function Dt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var Mt=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Tt()},e}(),Tt=function(){},Pt=new xe("Set Injector scope."),Lt=function(e,t,n){return new Vt(e,t,n)},Nt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Lt(e,t,""):Lt(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Ee,e.NULL=new Pe,e.\u0275prov=ce({token:e,providedIn:"any",factory:function(){return Me(Se)}}),e.__NG_ELEMENT_ID__=-1,e}(),Rt=function(e){return e},Ft=[],Ht=Rt,Bt=function(){return Array.prototype.slice.call(arguments)},Vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt.NULL,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.parent=n,this.source=i;var a=this._records=new Map;a.set(Nt,{token:Nt,fn:Rt,deps:Ft,value:this,useNew:!1}),a.set(Se,{token:Se,fn:Rt,deps:Ft,value:this,useNew:!1}),this.scope=function e(t,n){var i=null;if(n)if(n=ye(n),Array.isArray(n))for(var a=0;a<n.length;a++)i=e(t,n[a])||i;else{if("function"==typeof n)throw qt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw qt("Unexpected provider",n);var r=ye(n.provide),s=jt(n);if(!0===n.multi){var l=t.get(r);if(l){if(l.fn!==Bt)throw zt(r)}else t.set(r,l={token:n.provide,deps:[],useNew:!1,fn:Bt,value:Ft});r=n,l.deps.push({token:r,options:6})}var o=t.get(r);if(o&&o.fn==Bt)throw zt(r);r===Pt&&(i=s.value),t.set(r,s)}return i}(a,t)}return _createClass(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe.Default,i=this._records,a=i.get(e);if(void 0===a){var r=he(e);if(r){var s=r&&r.providedIn;("any"===s||null!=s&&s===this.scope)&&i.set(e,a=jt({provide:e,useFactory:r.factory,deps:Ft}))}void 0===a&&i.set(e,null)}var l=De(this);try{return function e(t,n,i,a,r,s){try{return function(t,n,i,a,r,s){var l;if(!n||s&oe.SkipSelf)l=s&oe.Self?Nt.NULL.get(t,s&oe.Optional?void 0!==r?r:null:r):a.get(t,r,oe.Default);else{if((l=n.value)==Ht)throw Error("\u0275Circular dependency");if(l===Ft){n.value=Ht;var o=n.useNew,u=n.fn,c=n.deps,h=Ft;if(c.length){h=[];for(var d=0;d<c.length;d++){var p=c[d],f=p.options,m=2&f?i.get(p.token):void 0;h.push(e(p.token,m,i,m||4&f?a:Nt.NULL,1&f?null:Nt.THROW_IF_NOT_FOUND,oe.Default))}}n.value=l=o?_construct(u,_toConsumableArray(h)):u.apply(void 0,h)}}return l}(t,n,i,a,r,s)}catch(l){throw l instanceof Error||(l=new Error(l)),(l.ngTempTokenPath=l.ngTempTokenPath||[]).unshift(t),n&&n.value==Ht&&(n.value=Ft),l}}(e,a,i,this.parent,t,n)}catch(o){return function(e,t,n,i){var a=e.ngTempTokenPath;throw t.__source&&a.unshift(t.__source),e.message=Le("\n"+e.message,a,"StaticInjectorError",i),e.ngTokenPath=a,e.ngTempTokenPath=null,e}(o,e,0,this.source)}finally{De(l)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(me(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function jt(e){var t=function(e){var t=Ft,n=e.deps;if(n&&n.length){t=[];for(var i=0;i<n.length;i++){var a=6,r=ye(n[i]);if(Array.isArray(r))for(var s=0,l=r;s<l.length;s++){var o=l[s];o instanceof re||o==re?a|=1:o instanceof le||o==le?a&=-3:o instanceof se||o==se?a&=-5:r=o instanceof ae?o.token:ye(o)}t.push({token:r,options:a})}}else if(e.useExisting)t=[{token:ye(e.useExisting),options:6}];else if(!(n||Ie in e))throw qt("'deps' required",e);return t}(e),n=Rt,i=Ft,a=!1,r=ye(e.provide);if(Ie in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)a=!0,n=ye(e.useClass);else{if("function"!=typeof r)throw qt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);a=!0,n=r}return{deps:t,fn:n,useNew:a,value:i}}function zt(e){return qt("Cannot mix multi providers and regular providers",e)}function qt(e,t){return new Error(Le(e,t,"StaticInjectorError"))}var Ut=new xe("AnalyzeForEntryComponents"),Wt=null;function Yt(){if(!Wt){var e=_e.Symbol;if(e&&e.iterator)Wt=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Wt=i)}}return Wt}function Gt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Xt(e,t){var n=$t(e),i=$t(t);return n&&i?function(e,t,n){for(var i=e[Yt()](),a=t[Yt()]();;){var r=i.next(),s=a.next();if(r.done&&s.done)return!0;if(r.done||s.done)return!1;if(!n(r.value,s.value))return!1}}(e,t,Xt):!(n||!(e&&("object"==typeof e||"function"==typeof e))||i||!(t&&("object"==typeof t||"function"==typeof t)))||Gt(e,t)}var Kt=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function $t(e){return!!Zt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Yt()in e)}function Zt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jt(e){return!!e&&"function"==typeof e.then}function Qt(e){return!!e&&"function"==typeof e.subscribe}var en=function(){function e(t,n,i){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),tn=function e(){_classCallCheck(this,e)};function nn(e){var t=Error("No component factory found for ".concat(me(e),". Did you add it to @NgModule.entryComponents?"));return t[an]=e,t}var an="ngComponent",rn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw nn(e)}}]),e}(),sn=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new rn,e}(),ln=function(){function e(t,n,i){_classCallCheck(this,e),this._parent=n,this._ngModule=i,this._factories=new Map;for(var a=0;a<t.length;a++){var r=t[a];this._factories.set(r.componentType,r)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw nn(e);return new on(t,this._ngModule)}}]),e}(),on=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this)).factory=e,a.ngModule=i,a.selector=e.selector,a.componentType=e.componentType,a.ngContentSelectors=e.ngContentSelectors,a.inputs=e.inputs,a.outputs=e.outputs,a}return _createClass(n,[{key:"create",value:function(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)}}]),n}(tn);function un(){}var cn=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return hn(e)},e}(),hn=un,dn=function e(){_classCallCheck(this,e)},pn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),fn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return mn()},e}(),mn=un,gn=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=ce({token:e,providedIn:"root",factory:function(){return null}}),e}(),vn=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},yn=new vn("9.0.7"),bn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return $t(e)}},{key:"create",value:function(e){return new Cn(e)}}]),e}(),kn=function(e,t){return t},Cn=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||kn}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,a=null;t||n;){var r=!n||t&&t.currentIndex<Sn(n,i,a)?t:n,s=Sn(r,i,a),l=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)i++;else{a||(a=[]);var o=s-i,u=l-i;if(o!=u){for(var c=0;c<o;c++){var h=c<a.length?a[c]:a[c]=0,d=h+c;u<=d&&d<o&&(a[c]=h+1)}a[r.previousIndex]=u-o}}s!==l&&e(r,s,l)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!$t(e))throw new Error("Error trying to diff '".concat(me(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,a,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var l=0;l<this.length;l++)i=e[l],a=this._trackByFn(l,i),null!==r&&Gt(r.trackById,a)?(s&&(r=this._verifyReinsertion(r,i,a,l)),Gt(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,a,l),s=!0),r=r._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,a=e[Yt()]();!(i=a.next()).done;)t(i.value)}(e,(function(e){a=t._trackByFn(n,e),null!==r&&Gt(r.trackById,a)?(s&&(r=t._verifyReinsertion(r,e,a,n)),Gt(r.item,e)||t._addIdentityChange(r,e)):(r=t._mismatch(r,e,a,n),s=!0),r=r._next,n++})),this.length=n;return this._truncate(r),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Gt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,a,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Gt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,a,i)):e=this._addAfter(new wn(t,n),a,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==a?e=this._reinsertAfter(a,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,a=e._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new xn),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),wn=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},_n=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Gt(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),xn=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new _n,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Sn(e,t,n){var i=e.previousIndex;if(null===i)return i;var a=0;return n&&i<n.length&&(a=n[i]),i+t+a}var En=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Zt(e)}},{key:"create",value:function(){return new On}}]),e}(),On=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Zt(e)))throw new Error("Error trying to diff '".concat(me(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var a=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,a)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,a=n._next;return i&&(i._next=a),a&&(a._prev=i),n._next=null,n._prev=null,n}var r=new In(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Gt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),In=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},An=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new le,new re]]}}}]),e}();return e.\u0275prov=ce({token:e,providedIn:"root",factory:function(){return new e([new bn])}}),e}(),Dn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new le,new re]]}}}]),e}();return e.\u0275prov=ce({token:e,providedIn:"root",factory:function(){return new e([new En])}}),e}(),Mn=[new En],Tn=new An([new bn]),Pn=new Dn(Mn),Ln=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Nn(e,cn)},e}(),Nn=un,Rn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Fn(e,cn)},e}(),Fn=un;function Hn(e,t,n,i){var a="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return i&&(a+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return Bn(n,t),n}(a,e)}function Bn(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Vn(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(e))}function jn(e,t,n){var i=e.state,a=1792&i;return a===t?(e.state=-1793&i|n,e.initIndex=-1,!0):a===n}function zn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function qn(e,t){return e.nodes[t]}function Un(e,t){return e.nodes[t]}function Wn(e,t){return e.nodes[t]}function Yn(e,t){return e.nodes[t]}function Gn(e,t){return e.nodes[t]}var Xn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Kn=function(){},$n=new Map;function Zn(e){var t=$n.get(e);return t||(t=me(e)+"_"+$n.size,$n.set(e,t)),t}function Jn(e,t,n,i){if(Kt.isWrapped(i)){i=Kt.unwrap(i);var a=e.def.nodes[t].bindingIndex+n,r=Kt.unwrap(e.oldValues[a]);e.oldValues[a]=new Kt(r)}return i}function Qn(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var ei=0;function ti(e,t,n,i){return!(!(2&e.state)&&Gt(e.oldValues[t.bindingIndex+n],i))}function ni(e,t,n,i){return!!ti(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function ii(e,t,n,i){var a=e.oldValues[t.bindingIndex+n];if(1&e.state||!Xt(a,i)){var r=t.bindings[n].name;throw Hn(Xn.createDebugContext(e,t.nodeIndex),"".concat(r,": ").concat(a),"".concat(r,": ").concat(i),0!=(1&e.state))}}function ai(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function ri(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function si(e,t,n,i){try{return ai(33554432&e.def.nodes[t].flags?Un(e,t).componentView:e),Xn.handleEvent(e,t,n,i)}catch(a){e.root.errorHandler.handleError(a)}}function li(e){return e.parent?Un(e.parent,e.parentNodeDef.nodeIndex):null}function oi(e){return e.parent?e.parentNodeDef.parent:null}function ui(e,t){switch(201347067&t.flags){case 1:return Un(e,t.nodeIndex).renderElement;case 2:return qn(e,t.nodeIndex).renderText}}function ci(e,t){return e?"".concat(e,":").concat(t):t}function hi(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function di(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function pi(e){return 1<<e%32}function fi(e){var t={},n=0,i={};return e&&e.forEach((function(e){var a=_slicedToArray2(e,2),r=a[0],s=a[1];"number"==typeof r?(t[r]=s,n|=pi(r)):i[r]=s})),{matchedQueries:t,references:i,matchedQueryIds:n}}function mi(e,t){return e.map((function(e){var n,i,a;return Array.isArray(e)?(a=(n=_slicedToArray2(e,2))[0],i=n[1]):(a=0,i=e),i&&("function"==typeof i||"object"==typeof i)&&t&&Object.defineProperty(i,"__source",{value:t,configurable:!0}),{flags:a,token:i,tokenKey:Zn(i)}}))}function gi(e,t,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Ve.Native?Un(e,n.renderParent.nodeIndex).renderElement:void 0:t}var vi=new WeakMap;function yi(e){var t=vi.get(e);return t||((t=e((function(){return Kn}))).factory=e,vi.set(e,t)),t}function bi(e,t,n,i,a){3===t&&(n=e.renderer.parentNode(ui(e,e.def.lastRenderRootNode))),ki(e,t,0,e.def.nodes.length-1,n,i,a)}function ki(e,t,n,i,a,r,s){for(var l=n;l<=i;l++){var o=e.def.nodes[l];11&o.flags&&wi(e,o,t,a,r,s),l+=o.childCount}}function Ci(e,t,n,i,a,r){for(var s=e;s&&!hi(s);)s=s.parent;for(var l=s.parent,o=oi(s),u=o.nodeIndex+o.childCount,c=o.nodeIndex+1;c<=u;c++){var h=l.def.nodes[c];h.ngContentIndex===t&&wi(l,h,n,i,a,r),c+=h.childCount}if(!l.parent){var d=e.root.projectableNodes[t];if(d)for(var p=0;p<d.length;p++)_i(e,d[p],n,i,a,r)}}function wi(e,t,n,i,a,r){if(8&t.flags)Ci(e,t.ngContent.index,n,i,a,r);else{var s=ui(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&_i(e,s,n,i,a,r),32&t.bindingFlags&&_i(Un(e,t.nodeIndex).componentView,s,n,i,a,r)):_i(e,s,n,i,a,r),16777216&t.flags)for(var l=Un(e,t.nodeIndex).viewContainer._embeddedViews,o=0;o<l.length;o++)bi(l[o],n,i,a,r);1&t.flags&&!t.element.name&&ki(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,a,r)}}function _i(e,t,n,i,a,r){var s=e.renderer;switch(n){case 1:s.appendChild(i,t);break;case 2:s.insertBefore(i,t,a);break;case 3:s.removeChild(i,t);break;case 0:r.push(t)}}var xi=/^:([^:]+):(.+)$/;function Si(e){if(":"===e[0]){var t=e.match(xi);return[t[1],t[2]]}return["",e]}function Ei(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Oi(e,t,n,i,a,r,s,l,o,u,c,h,d,p,f,m,g,v,y,b){switch(e){case 1:return t+Ii(n)+i;case 2:return t+Ii(n)+i+Ii(a)+r;case 3:return t+Ii(n)+i+Ii(a)+r+Ii(s)+l;case 4:return t+Ii(n)+i+Ii(a)+r+Ii(s)+l+Ii(o)+u;case 5:return t+Ii(n)+i+Ii(a)+r+Ii(s)+l+Ii(o)+u+Ii(c)+h;case 6:return t+Ii(n)+i+Ii(a)+r+Ii(s)+l+Ii(o)+u+Ii(c)+h+Ii(d)+p;case 7:return t+Ii(n)+i+Ii(a)+r+Ii(s)+l+Ii(o)+u+Ii(c)+h+Ii(d)+p+Ii(f)+m;case 8:return t+Ii(n)+i+Ii(a)+r+Ii(s)+l+Ii(o)+u+Ii(c)+h+Ii(d)+p+Ii(f)+m+Ii(g)+v;case 9:return t+Ii(n)+i+Ii(a)+r+Ii(s)+l+Ii(o)+u+Ii(c)+h+Ii(d)+p+Ii(f)+m+Ii(g)+v+Ii(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Ii(e){return null!=e?e.toString():""}var Ai={},Di=Zn(Nt),Mi=Zn(Se),Ti=Zn(Ne);function Pi(e,t,n,i){return n=ye(n),{index:-1,deps:mi(i,me(t)),flags:e,token:t,value:n}}function Li(e,t){var n,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nt.THROW_IF_NOT_FOUND,r=De(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(a=null),1&t.flags)return e._parent.get(t.token,a);var s=t.tokenKey;switch(s){case Di:case Mi:case Ti:return e}var l,o=e._def.providersByKey[s];if(o){var u=e._providers[o.index];return void 0===u&&(u=e._providers[o.index]=Ni(e,o)),u===Ai?void 0:u}if((l=he(t.token))&&(n=e,null!=(i=l.providedIn)&&("any"===i||i===n._def.scope||function(e,t){return e._def.modules.indexOf(t)>-1}(n,i)))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:c,token:t.token},e._providers[c]=Ai,e._providers[c]=Ni(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?a:e._parent.get(t.token,a)}finally{De(r)}}function Ni(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var i=n.length;switch(i){case 0:return new t;case 1:return new t(Li(e,n[0]));case 2:return new t(Li(e,n[0]),Li(e,n[1]));case 3:return new t(Li(e,n[0]),Li(e,n[1]),Li(e,n[2]));default:for(var a=[],r=0;r<i;r++)a[r]=Li(e,n[r]);return _construct(t,a)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var i=n.length;switch(i){case 0:return t();case 1:return t(Li(e,n[0]));case 2:return t(Li(e,n[0]),Li(e,n[1]));case 3:return t(Li(e,n[0]),Li(e,n[1]),Li(e,n[2]));default:for(var a=[],r=0;r<i;r++)a[r]=Li(e,n[r]);return t.apply(void 0,a)}}(e,t.value,t.deps);break;case 2048:n=Li(e,t.deps[0]);break;case 256:n=t.value}return n===Ai||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ai:n}function Ri(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var i=n[t];return i.viewContainerParent=null,He(n,t),Xn.dirtyParentQueries(i),Hi(i),i}function Fi(e,t,n){var i=t?ui(t,t.def.lastRenderRootNode):e.renderElement,a=n.renderer.parentNode(i),r=n.renderer.nextSibling(i);bi(n,2,a,r,void 0)}function Hi(e){bi(e,3,null,null,void 0)}var Bi={};function Vi(e,t,n,i,a,r){return new ji(e,t,n,i,a,r)}var ji=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s,l){var o;return _classCallCheck(this,n),(o=t.call(this)).selector=e,o.componentType=i,o._inputs=r,o._outputs=s,o.ngContentSelectors=l,o.viewDefFactory=a,o}return _createClass(n,[{key:"create",value:function(e,t,n,i){if(!i)throw new Error("ngModule should be provided");var a=yi(this.viewDefFactory),r=a.nodes[0].element.componentProvider.nodeIndex,s=Xn.createRootView(e,t||[],n,a,i,Bi),l=Wn(s,r).instance;return n&&s.renderer.setAttribute(Un(s,0).renderElement,"ng-version",yn.full),new zi(s,new Yi(s),l)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),n}(tn),zi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this))._view=e,r._viewRef=i,r._component=a,r._elDef=r._view.def.nodes[0],r.hostView=i,r.changeDetectorRef=i,r.instance=a,r}return _createClass(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new cn(Un(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new $i(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(function(){return function e(){_classCallCheck(this,e)}}());function qi(e,t,n){return new Ui(e,t,n)}var Ui=function(){function e(t,n,i){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=i,this._embeddedViews=[]}return _createClass(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Ri(this._data,e);Xn.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new Yi(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,a){var r=n||this.parentInjector;a||e instanceof on||(a=r.get(Ne));var s=e.create(r,i,void 0,a);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,a,r,s,l=e;return n=this._view,i=this._data,a=t,r=l._view,s=i.viewContainer._embeddedViews,null==a&&(a=s.length),r.viewContainerParent=n,Fe(s,a,r),function(e,t){var n=li(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(i,r),Xn.dirtyParentQueries(r),Fi(i,a>0?s[a-1]:null,r),l.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,a,r,s,l=this._embeddedViews.indexOf(e._view);return n=this._data,i=l,a=t,r=n.viewContainer._embeddedViews,s=r[i],He(r,i),null==a&&(a=r.length),Fe(r,a,s),Xn.dirtyParentQueries(s),Hi(s),Fi(n,a>0?r[a-1]:null,s),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Ri(this._data,e);t&&Xn.destroyView(t)}},{key:"detach",value:function(e){var t=Ri(this._data,e);return t?new Yi(t):null}},{key:"element",get:function(){return new cn(this._data.renderElement)}},{key:"injector",get:function(){return new $i(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=oi(e),e=e.parent;return e?new $i(e,t):new $i(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function Wi(e){return new Yi(e)}var Yi=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"markForCheck",value:function(){ai(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Xn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){Xn.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Xn.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Hi(this._view),Xn.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return bi(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function Gi(e,t){return new Xi(e,t)}var Xi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this))._parentView=e,a._def=i,a}return _createClass(n,[{key:"createEmbeddedView",value:function(e){return new Yi(Xn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new cn(Un(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(Ln);function Ki(e,t){return new $i(e,t)}var $i=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt.THROW_IF_NOT_FOUND;return Xn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Zn(e)},t)}}]),e}();function Zi(e,t){var n=e.def.nodes[t];if(1&n.flags){var i=Un(e,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return qn(e,n.nodeIndex).renderText;if(20240&n.flags)return Wn(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(t))}function Ji(e,t,n,i){return new Qi(e,t,n,i)}var Qi=function(){function e(t,n,i,a){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=i,this._def=a,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=Be(t.providers.length),i=0;i<t.providers.length;i++){var a=t.providers[i];4096&a.flags||void 0===n[i]&&(n[i]=Ni(e,a))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe.Default,i=0;return n&oe.SkipSelf?i|=1:n&oe.Self&&(i|=4),Li(this,{token:e,tokenKey:Zn(e),flags:i},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(me(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,i=new Set,a=0;a<n.providers.length;a++)if(131072&n.providers[a].flags){var r=e._providers[a];if(r&&r!==Ai){var s=r.ngOnDestroy;"function"!=typeof s||i.has(r)||(s.apply(r),i.add(r))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(sn)}}]),e}(),ea=Zn(fn),ta=Zn(cn),na=Zn(Rn),ia=Zn(Ln),aa=Zn(Mt),ra=Zn(Nt),sa=Zn(Se);function la(e,t,n,i,a,r,s,l){var o=[];if(s)for(var u in s){var c=_slicedToArray2(s[u],2),h=c[0],d=c[1];o[h]={flags:8,name:u,nonMinifiedName:d,ns:null,securityContext:null,suffix:null}}var p=[];if(l)for(var f in l)p.push({type:1,propName:f,target:null,eventName:l[f]});return ca(e,t|=16384,n,i,a,a,r,o,p)}function oa(e,t,n){return ca(-1,e|=16,null,0,t,t,n)}function ua(e,t,n,i,a){return ca(-1,e,t,0,n,i,a)}function ca(e,t,n,i,a,r,s,l,o){var u=fi(n),c=u.matchedQueries,h=u.references,d=u.matchedQueryIds;o||(o=[]),l||(l=[]),r=ye(r);var p=mi(s,me(a));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:i,bindings:l,bindingFlags:Ei(l),outputs:o,element:null,provider:{token:a,value:r,deps:p},text:null,query:null,ngContent:null}}function ha(e,t){return ma(e,t)}function da(e,t){for(var n=e;n.parent&&!hi(n);)n=n.parent;return ga(n.parent,oi(n),!0,t.provider.value,t.provider.deps)}function pa(e,t){var n=ga(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var i=0;i<t.outputs.length;i++){var a=t.outputs[i],r=n[a.propName];if(!Qt(r))throw new Error("@Output ".concat(a.propName," not initialized in '").concat(n.constructor.name,"'."));var s=r.subscribe(fa(e,t.parent.nodeIndex,a.eventName));e.disposables[t.outputIndex+i]=s.unsubscribe.bind(s)}return n}function fa(e,t,n){return function(i){return si(e,t,n,i)}}function ma(e,t){var n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return ga(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,a){var r=a.length;switch(r){case 0:return i();case 1:return i(ya(e,t,n,a[0]));case 2:return i(ya(e,t,n,a[0]),ya(e,t,n,a[1]));case 3:return i(ya(e,t,n,a[0]),ya(e,t,n,a[1]),ya(e,t,n,a[2]));default:for(var s=[],l=0;l<r;l++)s.push(ya(e,t,n,a[l]));return i.apply(void 0,s)}}(e,t.parent,n,i.value,i.deps);case 2048:return ya(e,t.parent,n,i.deps[0]);case 256:return i.value}}function ga(e,t,n,i,a){var r=a.length;switch(r){case 0:return new i;case 1:return new i(ya(e,t,n,a[0]));case 2:return new i(ya(e,t,n,a[0]),ya(e,t,n,a[1]));case 3:return new i(ya(e,t,n,a[0]),ya(e,t,n,a[1]),ya(e,t,n,a[2]));default:for(var s=[],l=0;l<r;l++)s.push(ya(e,t,n,a[l]));return _construct(i,s)}}var va={};function ya(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nt.THROW_IF_NOT_FOUND;if(8&i.flags)return i.token;var r=e;2&i.flags&&(a=null);var s=i.tokenKey;s===aa&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);for(var l=e;l;){if(t)switch(s){case ea:return ba(l,t,n).renderer;case ta:return new cn(Un(l,t.nodeIndex).renderElement);case na:return Un(l,t.nodeIndex).viewContainer;case ia:if(t.element.template)return Un(l,t.nodeIndex).template;break;case aa:return Wi(ba(l,t,n));case ra:case sa:return Ki(l,t);default:var o=(n?t.element.allProviders:t.element.publicProviders)[s];if(o){var u=Wn(l,o.nodeIndex);return u||(u={instance:ma(l,o)},l.nodes[o.nodeIndex]=u),u.instance}}n=hi(l),t=oi(l),l=l.parent,4&i.flags&&(l=null)}var c=r.root.injector.get(i.token,va);return c!==va||a===va?c:r.root.ngModule.injector.get(i.token,a)}function ba(e,t,n){var i;if(n)i=Un(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!hi(i);)i=i.parent;return i}function ka(e,t,n,i,a,r){if(32768&n.flags){var s=Un(e,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(t.instance[n.bindings[i].name]=a,524288&n.flags){r=r||{};var l=Kt.unwrap(e.oldValues[n.bindingIndex+i]);r[n.bindings[i].nonMinifiedName]=new en(l,a,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=a,r}function Ca(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,i=0,a=0;a<n.length;a++){var r=n[a],s=r.parent;for(!s&&r.flags&t&&_a(e,a,r.flags&t,i++),0==(r.childFlags&t)&&(a+=r.childCount);s&&1&s.flags&&a===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(i=wa(e,s,t,i)),s=s.parent}}function wa(e,t,n,i){for(var a=t.nodeIndex+1;a<=t.nodeIndex+t.childCount;a++){var r=e.def.nodes[a];r.flags&n&&_a(e,a,r.flags&n,i++),a+=r.childCount}return i}function _a(e,t,n,i){var a=Wn(e,t);if(a){var r=a.instance;r&&(Xn.setCurrentNode(e,t),1048576&n&&zn(e,512,i)&&r.ngAfterContentInit(),2097152&n&&r.ngAfterContentChecked(),4194304&n&&zn(e,768,i)&&r.ngAfterViewInit(),8388608&n&&r.ngAfterViewChecked(),131072&n&&r.ngOnDestroy())}}var xa=new xe("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return je}}),Sa=void 0,Ea=["en",[["a","p"],["AM","PM"],Sa],[["AM","PM"],Sa,Sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sa,"{1} 'at' {0}",Sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Oa={};function Ia(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Aa(t);if(n)return n;var i=t.split("-")[0];if(n=Aa(i))return n;if("en"===i)return Ea;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Aa(e){return e in Oa||(Oa[e]=_e.ng&&_e.ng.common&&_e.ng.common.locales&&_e.ng.common.locales[e]),Oa[e]}var Da=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Ma=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=i,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var a,r=function(e){return null},s=function(){return null};e&&"object"==typeof e?(a=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(r=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(r=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),i&&(s=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var l=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,a,r,s);return e instanceof d&&e.add(l),l}}]),n}(I);function Ta(){return this._results[Yt()]()}var Pa=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Ma,this.length=0;var t=Yt(),n=e.prototype;n[t]||(n[t]=Ta)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var i=0;i<t.length;i++){var a=t[i];Array.isArray(a)?(n===t&&(n=t.slice(0,i)),e(a,n)):n!==t&&n.push(a)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),La=new xe("Application Initializer"),Na=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var a=this.appInits[i]();Jt(a)&&t.push(a)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),Ra=new xe("AppId");function Fa(){return"".concat(Ha()).concat(Ha()).concat(Ha())}function Ha(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ba=new xe("Platform Initializer"),Va=new xe("Platform ID"),ja=new xe("appBootstrapListener"),za=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),qa=new xe("LocaleId"),Ua=new xe("DefaultCurrencyCode");function Wa(){throw new Error("Runtime compiler is not loaded")}var Ya=Wa,Ga=Wa,Xa=Wa,Ka=Wa,$a=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Ya,this.compileModuleAsync=Ga,this.compileModuleAndAllComponentsSync=Xa,this.compileModuleAndAllComponentsAsync=Ka}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),Za=function e(){_classCallCheck(this,e)},Ja=Promise.resolve(0);function Qa(e){"undefined"==typeof Zone?Ja.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var er=function(){function e(t){var n,i,a=t.enableLongStackTrace,r=void 0!==a&&a,s=t.shouldCoalesceEventChangeDetection,l=void 0!==s&&s;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ma(!1),this.onMicrotaskEmpty=new Ma(!1),this.onStable=new Ma(!1),this.onError=new Ma(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=l,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=_e.requestAnimationFrame,t=_e.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(_e,(function(){e.lastRequestAnimationFrameId=-1,ar(e),ir(e)})),ar(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(e,t,a,r,s,l){try{return rr(n),e.invokeTask(a,r,s,l)}finally{i&&"eventTask"===r.type&&i(),sr(n)}},onInvoke:function(e,t,i,a,r,s,l){try{return rr(n),e.invoke(i,a,r,s,l)}finally{sr(n)}},onHasTask:function(e,t,i,a){e.hasTask(i,a),t===i&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,ar(n),ir(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:function(e,t,i,a){return e.handleError(i,a),n.runOutsideAngular((function(){return n.onError.emit(a)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var a=this._inner,r=a.scheduleEventTask("NgZoneEvent: "+i,e,nr,tr,tr);try{return a.runTask(r,t,n)}finally{a.cancelTask(r)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function tr(){}var nr={};function ir(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function ar(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function rr(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sr(e){e._nesting--,ir(e)}var lr,or=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ma,this.onMicrotaskEmpty=new Ma,this.onStable=new Ma,this.onError=new Ma}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),ur=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){er.assertNotInAngularZone(),Qa((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Qa((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var i=this,a=-1;t&&t>0&&(a=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==a})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),cr=function(){function e(){_classCallCheck(this,e),this._applications=new Map,hr.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return hr.findTestabilityInTree(this,e,t)}}]),e}(),hr=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),dr=new xe("AllowMultipleToken"),pr=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function fr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(t),a=new xe(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=mr();if(!r||r.injector.get(dr,!1))if(e)e(n.concat(t).concat({provide:a,useValue:!0}));else{var s=n.concat(t).concat({provide:a,useValue:!0},{provide:Pt,useValue:"platform"});!function(e){if(lr&&!lr.destroyed&&!lr.injector.get(dr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lr=e.get(gr);var t=e.get(Ba,null);t&&t.forEach((function(e){return e()}))}(Nt.create({providers:s,name:i}))}return function(e){var t=mr();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(a)}}function mr(){return lr&&!lr.destroyed?lr:null}var gr=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,a=this,r=(n=t?t.ngZone:void 0,i=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new or:("zone.js"===n?void 0:n)||new er({enableLongStackTrace:it(),shouldCoalesceEventChangeDetection:i})),s=[{provide:er,useValue:r}];return r.run((function(){var t=Nt.create({providers:s,parent:a.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(We,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return br(a._modules,n)})),r.runOutsideAngular((function(){return r.onError.subscribe({next:function(e){i.handleError(e)}})})),function(e,t,i){try{var r=((s=n.injector.get(Na)).runInitializers(),s.donePromise.then((function(){return a._moduleDoBootstrap(n),n})));return Jt(r)?r.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):r}catch(l){throw t.runOutsideAngular((function(){return e.handleError(l)})),l}var s}(i,r)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=vr({},n);return function(e,t,n){return e.get(Za).createCompiler([t]).compileModuleAsync(n)}(this.injector,i,e).then((function(e){return t.bootstrapModuleFactory(e,i)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(yr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(me(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function vr(e,t){return Array.isArray(t)?t.reduce(vr,e):Object.assign(Object.assign({},e),t)}var yr=function(){function e(t,n,i,a,r,s){var l=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=a,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=it(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var o=new w((function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){e.next(l._stable),e.complete()}))})),u=new w((function(e){var t;l._zone.runOutsideAngular((function(){t=l._zone.onStable.subscribe((function(){er.assertNotInAngularZone(),Qa((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){er.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=K(o,u.pipe((function(e){return $()((t=ne,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,ee);return i.source=e,i.subjectFactory=n,i})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof tn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var a=n instanceof on?void 0:this._injector.get(Ne),r=n.create(Nt.NULL,[],t||n.selector,a);r.onDestroy((function(){i._unloadComponent(r)}));var s=r.injector.get(ur,null);return s&&r.injector.get(cr).registerApplication(r.location.nativeElement,s),this._loadComponent(r),it()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}if(this._enforceNoNewChanges){var i,a=_createForOfIteratorHelper(this._views);try{for(a.s();!(i=a.n()).done;){i.value.checkNoChanges()}}catch(r){a.e(r)}finally{a.f()}}}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;br(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ja,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),br(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();function br(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var kr=function e(){_classCallCheck(this,e)},Cr=function e(){_classCallCheck(this,e)},wr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},_r=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||wr}return _createClass(e,[{key:"load",value:function(e){return this._compiler instanceof $a?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=_slicedToArray2(e.split("#"),2),a=i[0],r=i[1];return void 0===r&&(r="default"),n("zn8P")(a).then((function(e){return e[r]})).then((function(e){return xr(e,a,r)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray2(e.split("#"),2),i=t[0],a=t[1],r="NgFactory";return void 0===a&&(a="default",r=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(e){return e[a+r]})).then((function(e){return xr(e,i,a)}))}}]),e}();function xr(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Sr=function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n},Er=function(){function e(t,n,i){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=i,this.nativeNode=t,n&&n instanceof Or&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),Or=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e,i,a)).properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return _createClass(n,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,i=this,a=this.childNodes.indexOf(e);-1!==a&&((n=this.childNodes).splice.apply(n,[a+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=i})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return function e(t,i,a){t.childNodes.forEach((function(t){t instanceof n&&(i(t)&&a.push(t),e(t,i,a))}))}(this,e,t),t}},{key:"queryAllNodes",value:function(e){var t=[];return function e(t,i,a){t instanceof n&&t.childNodes.forEach((function(t){i(t)&&a.push(t),t instanceof n&&e(t,i,a)}))}(this,e,t),t}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof n}))}}]),n}(Er),Ir=new Map;function Ar(e){return Ir.get(e)||null}var Dr=Ar;function Mr(e){Ir.set(e.nativeNode,e)}var Tr=fr(null,"core",[{provide:Va,useValue:"unknown"},{provide:gr,deps:[Nt]},{provide:cr,deps:[]},{provide:za,deps:[]}]);function Pr(){return Tn}function Lr(){return Pn}function Nr(e){return e||"en-US"}function Rr(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var Fr=function e(t){_classCallCheck(this,e)};function Hr(e,t,n,i,a,r){e|=1;var s=fi(t),l=s.matchedQueries,o=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:s.matchedQueryIds,references:o,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:r?yi(r):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:a||Kn},provider:null,text:null,query:null,ngContent:null}}function Br(e,t,n,i,a,r){var s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;c||(c=Kn);var p=fi(n),f=p.matchedQueries,m=p.references,g=p.matchedQueryIds,v=null,y=null;r&&(v=(s=_slicedToArray2(Si(r),2))[0],y=s[1]),o=o||[];for(var b=[],k=0;k<o.length;k++){var C=_slicedToArray2(o[k],3),w=C[0],_=C[1],x=C[2],S=Si(_),E=_slicedToArray2(S,2),O=E[0],I=E[1],A=void 0,D=void 0;switch(15&w){case 4:D=x;break;case 1:case 8:A=x}b[k]={flags:w,ns:O,name:I,nonMinifiedName:I,securityContext:A,suffix:D}}u=u||[];for(var M=[],T=0;T<u.length;T++){var P=_slicedToArray2(u[T],2),L=P[0],N=P[1];M[T]={type:0,target:L,eventName:N,propName:null}}var R=(l=l||[]).map((function(e){var t=_slicedToArray2(e,2),n=t[0],i=t[1],a=_slicedToArray2(Si(n),2);return[a[0],a[1],i]}));return d=function(e){if(e&&"$$undefined"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==Ve.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c".concat(ei++):"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(d),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:g,references:m,ngContentIndex:i,childCount:a,bindings:b,bindingFlags:Ei(b),outputs:M,element:{ns:v,name:y,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||Kn},provider:null,text:null,query:null,ngContent:null}}function Vr(e,t,n){var i,a=n.element,r=e.root.selectorOrNode,s=e.renderer;if(e.parent||!r){i=a.name?s.createElement(a.name,a.ns):s.createComment("");var l=gi(e,t,n);l&&s.appendChild(l,i)}else i=s.selectRootElement(r,!!a.componentRendererType&&a.componentRendererType.encapsulation===Ve.ShadowDom);if(a.attrs)for(var o=0;o<a.attrs.length;o++){var u=_slicedToArray2(a.attrs[o],3),c=u[0],h=u[1],d=u[2];s.setAttribute(i,h,d,c)}return i}function jr(e,t,n,i){for(var a=0;a<n.outputs.length;a++){var r=n.outputs[a],s=zr(e,n.nodeIndex,ci(r.target,r.eventName)),l=r.target,o=e;"component"===r.target&&(l=null,o=t);var u=o.renderer.listen(l||i,r.eventName,s);e.disposables[n.outputIndex+a]=u}}function zr(e,t,n){return function(i){return si(e,t,n,i)}}function qr(e,t,n,i){if(!ni(e,t,n,i))return!1;var a=t.bindings[n],r=Un(e,t.nodeIndex),s=r.renderElement,l=a.name;switch(15&a.flags){case 1:!function(e,t,n,i,a,r){var s=t.securityContext,l=s?e.root.sanitizer.sanitize(s,r):r;l=null!=l?l.toString():null;var o=e.renderer;null!=r?o.setAttribute(n,a,l,i):o.removeAttribute(n,a,i)}(e,a,s,a.ns,l,i);break;case 2:!function(e,t,n,i){var a=e.renderer;i?a.addClass(t,n):a.removeClass(t,n)}(e,s,l,i);break;case 4:!function(e,t,n,i,a){var r=e.root.sanitizer.sanitize(St.STYLE,a);if(null!=r){r=r.toString();var s=t.suffix;null!=s&&(r+=s)}else r=null;var l=e.renderer;null!=r?l.setStyle(n,i,r):l.removeStyle(n,i)}(e,a,s,l,i);break;case 8:!function(e,t,n,i,a){var r=t.securityContext,s=r?e.root.sanitizer.sanitize(r,a):a;e.renderer.setProperty(n,i,s)}(33554432&t.flags&&32&a.flags?r.componentView:e,a,s,l,i)}return!0}function Ur(e,t,n){var i=[];for(var a in n)i.push({propName:a,bindingType:n[a]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:pi(t),bindings:i},ngContent:null}}function Wr(e){for(var t=e.def.nodeMatchedQueries;e.parent&&di(e);){var n=e.parentNodeDef;e=e.parent;for(var i=n.nodeIndex+n.childCount,a=0;a<=i;a++){var r=e.def.nodes[a];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&Gn(e,a).setDirty(),!(1&r.flags&&a+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(a+=r.childCount)}}if(134217728&e.def.nodeFlags)for(var s=0;s<e.def.nodes.length;s++){var l=e.def.nodes[s];134217728&l.flags&&536870912&l.flags&&Gn(e,s).setDirty(),s+=l.childCount}}function Yr(e,t){var n=Gn(e,t.nodeIndex);if(n.dirty){var i,a=void 0;if(67108864&t.flags){var r=t.parent.parent;a=Gr(e,r.nodeIndex,r.nodeIndex+r.childCount,t.query,[]),i=Wn(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(a=Gr(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(a);for(var s=t.query.bindings,l=!1,o=0;o<s.length;o++){var u=s[o],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,l=!0}i[u.propName]=c}l&&n.notifyOnChanges()}}function Gr(e,t,n,i,a){for(var r=t;r<=n;r++){var s=e.def.nodes[r],l=s.matchedQueries[i.id];if(null!=l&&a.push(Xr(e,s,l)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var o=Un(e,r);if((s.childMatchedQueries&i.filterId)===i.filterId&&(Gr(e,r+1,r+s.childCount,i,a),r+=s.childCount),16777216&s.flags)for(var u=o.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],d=li(h);d&&d===o&&Gr(h,0,h.def.nodes.length-1,i,a)}var p=o.template._projectedViews;if(p)for(var f=0;f<p.length;f++){var m=p[f];Gr(m,0,m.def.nodes.length-1,i,a)}}(s.childMatchedQueries&i.filterId)!==i.filterId&&(r+=s.childCount)}return a}function Xr(e,t,n){if(null!=n)switch(n){case 1:return Un(e,t.nodeIndex).renderElement;case 0:return new cn(Un(e,t.nodeIndex).renderElement);case 2:return Un(e,t.nodeIndex).template;case 3:return Un(e,t.nodeIndex).viewContainer;case 4:return Wn(e,t.nodeIndex).instance}}function Kr(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function $r(e,t,n){var i=gi(e,t,n);i&&Ci(e,n.ngContent.index,1,i,null,void 0)}function Zr(e,t){for(var n=Object.keys(t),i=n.length,a=[],r=0;r<i;r++)a.push(n[r]);return Jr(64,e,a)}function Jr(e,t,n){for(var i=[],a=0;a<n.length;a++){var r=n[a];i.push({flags:8,name:r,ns:null,nonMinifiedName:r,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Ei(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Qr(e,t,n){for(var i=[],a=1;a<n.length;a++)i[a-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[a]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function es(e,t,n){var i,a=e.renderer;i=a.createText(n.text.prefix);var r=gi(e,t,n);return r&&a.appendChild(r,i),{renderText:i}}function ts(e,t){return(null!=e?e.toString():"")+t.suffix}function ns(e,t,n,i){for(var a=0,r=0,s=0,l=0,o=0,u=null,c=null,h=!1,d=!1,p=null,f=0;f<t.length;f++){var m=t[f];if(m.nodeIndex=f,m.parent=u,m.bindingIndex=a,m.outputIndex=r,m.renderParent=c,s|=m.flags,o|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,d=!1,m.element.template&&(o|=m.element.template.nodeMatchedQueries)}if(as(u,m,t.length),a+=m.bindings.length,r+=m.outputs.length,!c&&3&m.flags&&(p=m),20224&m.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var v=0!=(32768&m.flags);0==(8192&m.flags)||v?u.element.publicProviders[Zn(m.provider.token)]=m:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Zn(m.provider.token)]=m),v&&(u.element.componentProvider=m)}if(u?(u.childFlags|=m.flags,u.directChildFlags|=m.flags,u.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(u.childMatchedQueries|=m.element.template.nodeMatchedQueries)):l|=m.flags,m.childCount>0)u=m,is(m)||(c=m);else for(;u&&f===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),c=(u=y)&&is(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:l,nodeMatchedQueries:o,flags:e,nodes:t,updateDirectives:n||Kn,updateRenderer:i||Kn,handleEvent:function(e,n,i,a){return t[n].element.handleEvent(e,i,a)},bindingCount:a,outputCount:r,lastRenderRootNode:p}}function is(e){return 0!=(1&e.flags)&&null===e.element.name}function as(e,t,n){var i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var a=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=a&&t.nodeIndex+t.childCount>a)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function rs(e,t,n,i){var a=os(e.root,e.renderer,e,t,n);return us(a,e.component,i),cs(a),a}function ss(e,t,n){var i=os(e,e.renderer,null,null,t);return us(i,n,n),cs(i),i}function ls(e,t,n,i){var a,r=t.element.componentRendererType;return a=r?e.root.rendererFactory.createRenderer(i,r):e.root.renderer,os(e.root,a,e,t.element.componentProvider,n)}function os(e,t,n,i,a){var r=new Array(a.nodes.length),s=a.outputCount?new Array(a.outputCount):null;return{def:a,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:r,state:13,root:e,renderer:t,oldValues:new Array(a.bindingCount),disposables:s,initIndex:-1}}function us(e,t,n){e.component=t,e.context=n}function cs(e){var t;hi(e)&&(t=Un(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,i=e.nodes,a=0;a<n.nodes.length;a++){var r=n.nodes[a],s=void 0;switch(Xn.setCurrentNode(e,a),201347067&r.flags){case 1:var l=Vr(e,t,r),o=void 0;if(33554432&r.flags){var u=yi(r.element.componentView);o=Xn.createComponentView(e,r,u,l)}jr(e,o,r,l),s={renderElement:l,componentView:o,viewContainer:null,template:r.element.template?Gi(e,r):void 0},16777216&r.flags&&(s.viewContainer=qi(e,r,s));break;case 2:s=es(e,t,r);break;case 512:case 1024:case 2048:case 256:(s=i[a])||4096&r.flags||(s={instance:ha(e,r)});break;case 16:s={instance:da(e,r)};break;case 16384:(s=i[a])||(s={instance:pa(e,r)}),32768&r.flags&&us(Un(e,r.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Pa;break;case 8:$r(e,t,r),s=void 0}i[a]=s}bs(e,ys.CreateViewNodes),_s(e,201326592,268435456,0)}function hs(e){fs(e),Xn.updateDirectives(e,1),ks(e,ys.CheckNoChanges),Xn.updateRenderer(e,1),bs(e,ys.CheckNoChanges),e.state&=-97}function ds(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,jn(e,0,256),fs(e),Xn.updateDirectives(e,0),ks(e,ys.CheckAndUpdate),_s(e,67108864,536870912,0);var t=jn(e,256,512);Ca(e,2097152|(t?1048576:0)),Xn.updateRenderer(e,0),bs(e,ys.CheckAndUpdate),_s(e,134217728,536870912,0),Ca(e,8388608|((t=jn(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,jn(e,768,1024)}function ps(e,t,n,i,a,r,s,l,o,u,c,h,d){return 0===n?function(e,t,n,i,a,r,s,l,o,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,i,a,r,s,l,o,u,c,h){var d=t.bindings.length,p=!1;return d>0&&qr(e,t,0,n)&&(p=!0),d>1&&qr(e,t,1,i)&&(p=!0),d>2&&qr(e,t,2,a)&&(p=!0),d>3&&qr(e,t,3,r)&&(p=!0),d>4&&qr(e,t,4,s)&&(p=!0),d>5&&qr(e,t,5,l)&&(p=!0),d>6&&qr(e,t,6,o)&&(p=!0),d>7&&qr(e,t,7,u)&&(p=!0),d>8&&qr(e,t,8,c)&&(p=!0),d>9&&qr(e,t,9,h)&&(p=!0),p}(e,t,n,i,a,r,s,l,o,u,c,h);case 2:return function(e,t,n,i,a,r,s,l,o,u,c,h){var d=!1,p=t.bindings,f=p.length;if(f>0&&ni(e,t,0,n)&&(d=!0),f>1&&ni(e,t,1,i)&&(d=!0),f>2&&ni(e,t,2,a)&&(d=!0),f>3&&ni(e,t,3,r)&&(d=!0),f>4&&ni(e,t,4,s)&&(d=!0),f>5&&ni(e,t,5,l)&&(d=!0),f>6&&ni(e,t,6,o)&&(d=!0),f>7&&ni(e,t,7,u)&&(d=!0),f>8&&ni(e,t,8,c)&&(d=!0),f>9&&ni(e,t,9,h)&&(d=!0),d){var m=t.text.prefix;f>0&&(m+=ts(n,p[0])),f>1&&(m+=ts(i,p[1])),f>2&&(m+=ts(a,p[2])),f>3&&(m+=ts(r,p[3])),f>4&&(m+=ts(s,p[4])),f>5&&(m+=ts(l,p[5])),f>6&&(m+=ts(o,p[6])),f>7&&(m+=ts(u,p[7])),f>8&&(m+=ts(c,p[8])),f>9&&(m+=ts(h,p[9]));var g=qn(e,t.nodeIndex).renderText;e.renderer.setValue(g,m)}return d}(e,t,n,i,a,r,s,l,o,u,c,h);case 16384:return function(e,t,n,i,a,r,s,l,o,u,c,h){var d=Wn(e,t.nodeIndex),p=d.instance,f=!1,m=void 0,g=t.bindings.length;return g>0&&ti(e,t,0,n)&&(f=!0,m=ka(e,d,t,0,n,m)),g>1&&ti(e,t,1,i)&&(f=!0,m=ka(e,d,t,1,i,m)),g>2&&ti(e,t,2,a)&&(f=!0,m=ka(e,d,t,2,a,m)),g>3&&ti(e,t,3,r)&&(f=!0,m=ka(e,d,t,3,r,m)),g>4&&ti(e,t,4,s)&&(f=!0,m=ka(e,d,t,4,s,m)),g>5&&ti(e,t,5,l)&&(f=!0,m=ka(e,d,t,5,l,m)),g>6&&ti(e,t,6,o)&&(f=!0,m=ka(e,d,t,6,o,m)),g>7&&ti(e,t,7,u)&&(f=!0,m=ka(e,d,t,7,u,m)),g>8&&ti(e,t,8,c)&&(f=!0,m=ka(e,d,t,8,c,m)),g>9&&ti(e,t,9,h)&&(f=!0,m=ka(e,d,t,9,h,m)),m&&p.ngOnChanges(m),65536&t.flags&&zn(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,i,a,r,s,l,o,u,c,h);case 32:case 64:case 128:return function(e,t,n,i,a,r,s,l,o,u,c,h){var d=t.bindings,p=!1,f=d.length;if(f>0&&ni(e,t,0,n)&&(p=!0),f>1&&ni(e,t,1,i)&&(p=!0),f>2&&ni(e,t,2,a)&&(p=!0),f>3&&ni(e,t,3,r)&&(p=!0),f>4&&ni(e,t,4,s)&&(p=!0),f>5&&ni(e,t,5,l)&&(p=!0),f>6&&ni(e,t,6,o)&&(p=!0),f>7&&ni(e,t,7,u)&&(p=!0),f>8&&ni(e,t,8,c)&&(p=!0),f>9&&ni(e,t,9,h)&&(p=!0),p){var m,g=Yn(e,t.nodeIndex);switch(201347067&t.flags){case 32:m=[],f>0&&m.push(n),f>1&&m.push(i),f>2&&m.push(a),f>3&&m.push(r),f>4&&m.push(s),f>5&&m.push(l),f>6&&m.push(o),f>7&&m.push(u),f>8&&m.push(c),f>9&&m.push(h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=i),f>2&&(m[d[2].name]=a),f>3&&(m[d[3].name]=r),f>4&&(m[d[4].name]=s),f>5&&(m[d[5].name]=l),f>6&&(m[d[6].name]=o),f>7&&(m[d[7].name]=u),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=h);break;case 128:var v=n;switch(f){case 1:m=v.transform(n);break;case 2:m=v.transform(i);break;case 3:m=v.transform(i,a);break;case 4:m=v.transform(i,a,r);break;case 5:m=v.transform(i,a,r,s);break;case 6:m=v.transform(i,a,r,s,l);break;case 7:m=v.transform(i,a,r,s,l,o);break;case 8:m=v.transform(i,a,r,s,l,o,u);break;case 9:m=v.transform(i,a,r,s,l,o,u,c);break;case 10:m=v.transform(i,a,r,s,l,o,u,c,h)}}g.value=m}return p}(e,t,n,i,a,r,s,l,o,u,c,h);default:throw"unreachable"}}(e,t,i,a,r,s,l,o,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var i=!1,a=0;a<n.length;a++)qr(e,t,a,n[a])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){for(var i=t.bindings,a=!1,r=0;r<n.length;r++)ni(e,t,r,n[r])&&(a=!0);if(a){for(var s="",l=0;l<n.length;l++)s+=ts(n[l],i[l]);s=t.text.prefix+s;var o=qn(e,t.nodeIndex).renderText;e.renderer.setValue(o,s)}return a}(e,t,n);case 16384:return function(e,t,n){for(var i=Wn(e,t.nodeIndex),a=i.instance,r=!1,s=void 0,l=0;l<n.length;l++)ti(e,t,l,n[l])&&(r=!0,s=ka(e,i,t,l,n[l],s));return s&&a.ngOnChanges(s),65536&t.flags&&zn(e,256,t.nodeIndex)&&a.ngOnInit(),262144&t.flags&&a.ngDoCheck(),r}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var i=t.bindings,a=!1,r=0;r<n.length;r++)ni(e,t,r,n[r])&&(a=!0);if(a){var s,l=Yn(e,t.nodeIndex);switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(var o=0;o<n.length;o++)s[i[o].name]=n[o];break;case 128:var u=n[0],c=n.slice(1);s=u.transform.apply(u,_toConsumableArray(c))}l.value=s}return a}(e,t,n);default:throw"unreachable"}}(e,t,i)}function fs(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var i=t.nodes[n];if(4&i.flags){var a=Un(e,n).template._projectedViews;if(a)for(var r=0;r<a.length;r++){var s=a[r];s.state|=32,ri(s,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function ms(e,t,n,i,a,r,s,l,o,u,c,h,d){return 0===n?function(e,t,n,i,a,r,s,l,o,u,c,h){var d=t.bindings.length;d>0&&ii(e,t,0,n),d>1&&ii(e,t,1,i),d>2&&ii(e,t,2,a),d>3&&ii(e,t,3,r),d>4&&ii(e,t,4,s),d>5&&ii(e,t,5,l),d>6&&ii(e,t,6,o),d>7&&ii(e,t,7,u),d>8&&ii(e,t,8,c),d>9&&ii(e,t,9,h)}(e,t,i,a,r,s,l,o,u,c,h,d):function(e,t,n){for(var i=0;i<n.length;i++)ii(e,t,i,n[i])}(e,t,i),!1}function gs(e,t){if(Gn(e,t.nodeIndex).dirty)throw Hn(Xn.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function vs(e){if(!(128&e.state)){if(ks(e,ys.Destroy),bs(e,ys.Destroy),Ca(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=li(e);if(t){var n=t.template._projectedViews;n&&(He(n,n.indexOf(e)),Xn.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var i=e.def.nodes[n];1&i.flags?e.renderer.destroyNode(Un(e,n).renderElement):2&i.flags?e.renderer.destroyNode(qn(e,n).renderText):(67108864&i.flags||134217728&i.flags)&&Gn(e,n).destroy()}}(e),hi(e)&&e.renderer.destroy(),e.state|=128}}var ys=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function bs(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var a=n.nodes[i];33554432&a.flags?Cs(Un(e,i).componentView,t):0==(33554432&a.childFlags)&&(i+=a.childCount)}}function ks(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var a=n.nodes[i];if(16777216&a.flags)for(var r=Un(e,i).viewContainer._embeddedViews,s=0;s<r.length;s++)Cs(r[s],t);else 0==(16777216&a.childFlags)&&(i+=a.childCount)}}function Cs(e,t){var n=e.state;switch(t){case ys.CheckNoChanges:0==(128&n)&&(12==(12&n)?hs(e):64&n&&ws(e,ys.CheckNoChangesProjectedViews));break;case ys.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?hs(e):64&n&&ws(e,t));break;case ys.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ds(e):64&n&&ws(e,ys.CheckAndUpdateProjectedViews));break;case ys.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ds(e):64&n&&ws(e,t));break;case ys.Destroy:vs(e);break;case ys.CreateViewNodes:cs(e)}}function ws(e,t){ks(e,t),bs(e,t)}function _s(e,t,n,i){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var a=e.def.nodes.length,r=0;r<a;r++){var s=e.def.nodes[r];if(s.flags&t&&s.flags&n)switch(Xn.setCurrentNode(e,s.nodeIndex),i){case 0:Yr(e,s);break;case 1:gs(e,s)}s.childFlags&t&&s.childFlags&n||(r+=s.childCount)}}var xs=!1;function Ss(e,t,n,i,a,r){var s=a.injector.get(dn);return ss(Os(e,a,s,t,n),i,r)}function Es(e,t,n,i,a,r){var s=a.injector.get(dn),l=Os(e,a,new rl(s),t,n),o=Fs(i);return il(Ys.create,ss,null,[l,o,r])}function Os(e,t,n,i,a){var r=t.injector.get(gn),s=t.injector.get(We),l=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:a,sanitizer:r,rendererFactory:n,renderer:l,errorHandler:s}}function Is(e,t,n,i){var a=Fs(n);return il(Ys.create,rs,null,[e,t,a,i])}function As(e,t,n,i){return n=Ps.get(t.element.componentProvider.provider.token)||Fs(n),il(Ys.create,ls,null,[e,t,n,i])}function Ds(e,t,n,i){return Ji(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Ms.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach((function(e){var i=Ms.get(e.token);3840&e.flags&&i&&(t=!0,n=n||i.deprecatedBehavior)})),e.modules.forEach((function(e){Ts.forEach((function(i,a){he(a).providedIn===e&&(t=!0,n=n||i.deprecatedBehavior)}))})),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasOverrides,i=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];i&&(n.flags|=4096);var a=Ms.get(n.token);a&&(n.flags=-3841&n.flags|a.flags,n.deps=mi(a.deps),n.value=a.value)}if(Ts.size>0){var r=new Set(e.modules);Ts.forEach((function(t,n){if(r.has(he(n).providedIn)){var a={token:n,flags:t.flags|(i?4096:0),deps:mi(t.deps),value:t.value,index:e.providers.length};e.providers.push(a),e.providersByKey[Zn(n)]=a}}))}}(e=e.factory((function(){return Kn}))),e):e}(i))}var Ms=new Map,Ts=new Map,Ps=new Map;function Ls(e){var t;Ms.set(e.token,e),"function"==typeof e.token&&(t=he(e.token))&&"function"==typeof t.providedIn&&Ts.set(e.token,e)}function Ns(e,t){var n=yi(t.viewDefFactory),i=yi(n.nodes[0].element.componentView);Ps.set(e,i)}function Rs(){Ms.clear(),Ts.clear(),Ps.clear()}function Fs(e){if(0===Ms.size)return e;var t=function(e){for(var t=[],n=null,i=0;i<e.nodes.length;i++){var a=e.nodes[i];1&a.flags&&(n=a),n&&3840&a.flags&&Ms.has(a.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return Kn}));for(var n=0;n<t.length;n++)i(e,t[n]);return e;function i(e,t){for(var n=t+1;n<e.nodes.length;n++){var i=e.nodes[n];if(1&i.flags)return;if(3840&i.flags){var a=i.provider,r=Ms.get(a.token);r&&(i.flags=-3841&i.flags|r.flags,a.deps=mi(r.deps),a.value=r.value)}}}}function Hs(e,t,n,i,a,r,s,l,o,u,c,h,d){var p=e.def.nodes[t];return ps(e,p,n,i,a,r,s,l,o,u,c,h,d),224&p.flags?Yn(e,t).value:void 0}function Bs(e,t,n,i,a,r,s,l,o,u,c,h,d){var p=e.def.nodes[t];return ms(e,p,n,i,a,r,s,l,o,u,c,h,d),224&p.flags?Yn(e,t).value:void 0}function Vs(e){return il(Ys.detectChanges,ds,null,[e])}function js(e){return il(Ys.checkNoChanges,hs,null,[e])}function zs(e){return il(Ys.destroy,vs,null,[e])}var qs,Us,Ws,Ys=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Gs(e,t){Us=e,Ws=t}function Xs(e,t,n,i){return Gs(e,t),il(Ys.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function Ks(e,t){if(128&e.state)throw Vn(Ys[qs]);return Gs(e,Qs(e,0)),e.def.updateDirectives((function(e,n,i){for(var a=e.def.nodes[n],r=arguments.length,s=new Array(r>3?r-3:0),l=3;l<r;l++)s[l-3]=arguments[l];return 0===t?Zs(e,a,i,s):Js(e,a,i,s),16384&a.flags&&Gs(e,Qs(e,n)),224&a.flags?Yn(e,a.nodeIndex).value:void 0}),e)}function $s(e,t){if(128&e.state)throw Vn(Ys[qs]);return Gs(e,el(e,0)),e.def.updateRenderer((function(e,n,i){for(var a=e.def.nodes[n],r=arguments.length,s=new Array(r>3?r-3:0),l=3;l<r;l++)s[l-3]=arguments[l];return 0===t?Zs(e,a,i,s):Js(e,a,i,s),3&a.flags&&Gs(e,el(e,n)),224&a.flags?Yn(e,a.nodeIndex).value:void 0}),e)}function Zs(e,t,n,i){if(ps.apply(void 0,[e,t,n].concat(_toConsumableArray(i)))){var a=1===n?i[0]:i;if(16384&t.flags){for(var r={},s=0;s<t.bindings.length;s++){var l=t.bindings[s],o=a[s];8&l.flags&&(r[It(l.nonMinifiedName)]=Dt(o))}var u=t.parent,c=Un(e,u.nodeIndex).renderElement;if(u.element.name)for(var h in r){var d=r[h];null!=d?e.renderer.setAttribute(c,h,d):e.renderer.removeAttribute(c,h)}else e.renderer.setValue(c,"bindings=".concat(JSON.stringify(r,null,2)))}}}function Js(e,t,n,i){ms.apply(void 0,[e,t,n].concat(_toConsumableArray(i)))}function Qs(e,t){for(var n=t;n<e.def.nodes.length;n++){var i=e.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function el(e,t){for(var n=t;n<e.def.nodes.length;n++){var i=e.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var tl=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var i=this.nodeDef,a=t;i&&0==(1&i.flags);)i=i.parent;if(!i)for(;!i&&a;)i=oi(a),a=a.parent;this.elDef=i,this.elView=a}return _createClass(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a,r;2&this.nodeDef.flags?(a=this.view.def,r=this.nodeDef.nodeIndex):(a=this.elView.def,r=this.elDef.nodeIndex);var s=function(e,t){for(var n=-1,i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(a,r),l=-1;a.factory((function(){var t;return++l===s?(t=e.error).bind.apply(t,[e].concat(n)):Kn})),l<s&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return Un(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Ki(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){nl(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&nl(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!hi(e);)e=e.parent;return e.parent?Un(e.parent,oi(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?ui(this.view,this.nodeDef):ui(this.elView,this.elDef)}}]),e}();function nl(e,t,n){for(var i in t.references)n[i]=Xr(e,t,t.references[i])}function il(e,t,n,i){var a,r,s=qs,l=Us,o=Ws;try{qs=e;var u=t.apply(n,i);return Us=l,Ws=o,qs=s,u}catch(c){if(ze(c)||!Us)throw c;throw a=c,r=al(),a instanceof Error||(a=new Error(a.toString())),Bn(a,r),a}}function al(){return Us?new tl(Us,Ws):null}var rl=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new sl(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),sl=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=al,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=Dr(e);!function(e){Ir.delete(e.nativeNode)}(t),t instanceof Er&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),i=this.createDebugContext(n);if(i){var a=new Or(n,null,i);a.name=e,Mr(a)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Mr(new Er(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Mr(new Er(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=Dr(e),i=Dr(t);n&&i&&n instanceof Or&&n.addChild(i),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var i=Dr(e),a=Dr(t),r=Dr(n);i&&a&&i instanceof Or&&i.insertBefore(r,a),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=Dr(e),i=Dr(t);n&&i&&n instanceof Or&&n.removeChild(i),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),i=al();return i&&Mr(new Or(n,null,i)),n}},{key:"setAttribute",value:function(e,t,n,i){var a=Dr(e);a&&a instanceof Or&&(a.attributes[i?i+":"+t:t]=n),this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){var i=Dr(e);i&&i instanceof Or&&(i.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=Dr(e);n&&n instanceof Or&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=Dr(e);n&&n instanceof Or&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){var a=Dr(e);a&&a instanceof Or&&(a.styles[t]=n),this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){var i=Dr(e);i&&i instanceof Or&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var i=Dr(e);i&&i instanceof Or&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var i=Dr(e);i&&i.listeners.push(new Sr(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();var ll=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,r._bootstrapComponents=i,r._ngModuleDefFactory=a,r}return _createClass(n,[{key:"create",value:function(e){!function(){if(!xs){xs=!0;var e=it()?{setCurrentNode:Gs,createRootView:Es,createEmbeddedView:Is,createComponentView:As,createNgModuleRef:Ds,overrideProvider:Ls,overrideComponentView:Ns,clearOverrides:Rs,checkAndUpdateView:Vs,checkNoChangesView:js,destroyView:zs,createDebugContext:function(e,t){return new tl(e,t)},handleEvent:Xs,updateDirectives:Ks,updateRenderer:$s}:{setCurrentNode:function(){},createRootView:Ss,createEmbeddedView:rs,createComponentView:ls,createNgModuleRef:Ji,overrideProvider:Kn,overrideComponentView:Kn,clearOverrides:Kn,checkAndUpdateView:ds,checkNoChangesView:hs,destroyView:vs,createDebugContext:function(e,t){return new tl(e,t)},handleEvent:function(e,t,n,i){return e.def.handleEvent(e,t,n,i)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Hs:Bs,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Hs:Bs,e)}};Xn.setCurrentNode=e.setCurrentNode,Xn.createRootView=e.createRootView,Xn.createEmbeddedView=e.createEmbeddedView,Xn.createComponentView=e.createComponentView,Xn.createNgModuleRef=e.createNgModuleRef,Xn.overrideProvider=e.overrideProvider,Xn.overrideComponentView=e.overrideComponentView,Xn.clearOverrides=e.clearOverrides,Xn.checkAndUpdateView=e.checkAndUpdateView,Xn.checkNoChangesView=e.checkNoChangesView,Xn.destroyView=e.destroyView,Xn.resolveDep=ya,Xn.createDebugContext=e.createDebugContext,Xn.handleEvent=e.handleEvent,Xn.updateDirectives=e.updateDirectives,Xn.updateRenderer=e.updateRenderer,Xn.dirtyParentQueries=Wr}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),i={};for(var a in e.providersByKey)i[a]=e.providersByKey[a];return{factory:e.factory,scope:e.scope,providers:t,modules:n,providersByKey:i}}(yi(this._ngModuleDefFactory));return Xn.createNgModuleRef(this.moduleType,e||Nt.NULL,this._bootstrapComponents,t)}}]),n}(Re);function ol(){return localStorage.getItem("token")}function ul(){return"http://localhost:5000/"}var cl=function e(){_classCallCheck(this,e)},hl=n("CxY0");function dl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return D(i)?(t.pop(),z(t,i)):X(t)}function pl(e,t){return U(e,t,1)}function fl(e,t){return function(n){return n.lift(new ml(e,t))}}var ml=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new gl(e,this.predicate,this.thisArg))}}]),e}(),gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e)).predicate=i,r.thisArg=a,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(m),vl=null;function yl(){return vl}var bl,kl=new xe("DocumentToken"),Cl=((bl=function e(){_classCallCheck(this,e)}).\u0275prov=ce({factory:wl,token:bl,providedIn:"platform"}),bl);function wl(){return Me(Sl)}var _l,xl=new xe("Location Initialized"),Sl=((_l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=yl().getLocation(),this._history=yl().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return yl().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){yl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){yl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){El()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){El()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Cl)).\u0275prov=ce({factory:Ol,token:_l,providedIn:"platform"}),_l);function El(){return!!window.history.pushState}function Ol(){return new Sl(Me(kl))}function Il(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Al(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Dl(e){return e&&"?"!==e[0]?"?"+e:e}var Ml,Tl=((Ml=function e(){_classCallCheck(this,e)}).\u0275prov=ce({factory:Pl,token:Ml,providedIn:"root"}),Ml);function Pl(e){var t=Me(kl).location;return new Rl(Me(Cl),t&&t.origin||"")}var Ll,Nl=new xe("appBaseHref"),Rl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;if(_classCallCheck(this,n),(a=t.call(this))._platformLocation=e,null==i&&(i=a._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return a._baseHref=i,_possibleConstructorReturn(a)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Il(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Dl(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var a=this.prepareExternalUrl(n+Dl(i));this._platformLocation.pushState(e,t,a)}},{key:"replaceState",value:function(e,t,n,i){var a=this.prepareExternalUrl(n+Dl(i));this._platformLocation.replaceState(e,t,a)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Tl),Fl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this))._platformLocation=e,a._baseHref="",null!=i&&(a._baseHref=i),a}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Il(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var a=this.prepareExternalUrl(n+Dl(i));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,t,a)}},{key:"replaceState",value:function(e,t,n,i){var a=this.prepareExternalUrl(n+Dl(i));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,a)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Tl),Hl=((Ll=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new Ma,this._urlChangeListeners=[],this._platformStrategy=t;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Al(Vl(a)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Dl(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Vl(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dl(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dl(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).normalizeQueryParams=Dl,Ll.joinWithSlash=Il,Ll.stripTrailingSlash=Al,Ll.\u0275prov=ce({factory:Bl,token:Ll,providedIn:"root"}),Ll);function Bl(){return new Hl(Me(Tl),Me(Cl))}function Vl(e){return e.replace(/\/index.html$/,"")}var jl=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),zl=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),ql=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),Ul=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),Wl=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Yl(e,t,n){var i=Ia(e),a=Ql([i[Da.DaysFormat],i[Da.DaysStandalone]],t);return Ql(a,n)}function Gl(e,t,n){var i=Ia(e),a=Ql([i[Da.MonthsFormat],i[Da.MonthsStandalone]],t);return Ql(a,n)}function Xl(e,t){return Ql(Ia(e)[Da.DateFormat],t)}function Kl(e,t){return Ql(Ia(e)[Da.TimeFormat],t)}function $l(e,t){return Ql(Ia(e)[Da.DateTimeFormat],t)}function Zl(e,t){var n=Ia(e),i=n[Da.NumberSymbols][t];if(void 0===i){if(t===Wl.CurrencyDecimal)return n[Da.NumberSymbols][Wl.Decimal];if(t===Wl.CurrencyGroup)return n[Da.NumberSymbols][Wl.Group]}return i}function Jl(e){if(!e[Da.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[Da.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Ql(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function eo(e){var t=_slicedToArray2(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var to=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,no={},io=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ao=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),ro=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),so=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function lo(e,t,n,i){var a=function(e){if(vo(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=_slicedToArray2(e.split("-").map((function(e){return+e})),3),a=i[0],r=i[1],s=i[2];return new Date(a,r-1,s)}if(t=e.match(to))return function(e){var t=new Date(0),n=0,i=0,a=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),a.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var s=Number(e[4]||0)-n,l=Number(e[5]||0)-i,o=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,s,l,o,u),t}(t)}var l=new Date(e);if(!vo(l))throw new Error('Unable to convert "'.concat(e,'" into a date'));return l}(e);t=function e(t,n){var i=function(e){return Ia(e)[Da.LocaleId]}(t);if(no[i]=no[i]||{},no[i][n])return no[i][n];var a="";switch(n){case"shortDate":a=Xl(t,Ul.Short);break;case"mediumDate":a=Xl(t,Ul.Medium);break;case"longDate":a=Xl(t,Ul.Long);break;case"fullDate":a=Xl(t,Ul.Full);break;case"shortTime":a=Kl(t,Ul.Short);break;case"mediumTime":a=Kl(t,Ul.Medium);break;case"longTime":a=Kl(t,Ul.Long);break;case"fullTime":a=Kl(t,Ul.Full);break;case"short":var r=e(t,"shortTime"),s=e(t,"shortDate");a=oo($l(t,Ul.Short),[r,s]);break;case"medium":var l=e(t,"mediumTime"),o=e(t,"mediumDate");a=oo($l(t,Ul.Medium),[l,o]);break;case"long":var u=e(t,"longTime"),c=e(t,"longDate");a=oo($l(t,Ul.Long),[u,c]);break;case"full":var h=e(t,"fullTime"),d=e(t,"fullDate");a=oo($l(t,Ul.Full),[h,d])}return a&&(no[i][n]=a),a}(n,t)||t;for(var r,s=[];t;){if(!(r=io.exec(t))){s.push(t);break}var l=(s=s.concat(r.slice(1))).pop();if(!l)break;t=l}var o=a.getTimezoneOffset();i&&(o=go(i,o),a=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(go(t,i)-i))}(a,i));var u="";return s.forEach((function(e){var t=function(e){if(mo[e])return mo[e];var t;switch(e){case"G":case"GG":case"GGG":t=ho(so.Eras,ql.Abbreviated);break;case"GGGG":t=ho(so.Eras,ql.Wide);break;case"GGGGG":t=ho(so.Eras,ql.Narrow);break;case"y":t=co(ro.FullYear,1,0,!1,!0);break;case"yy":t=co(ro.FullYear,2,0,!0,!0);break;case"yyy":t=co(ro.FullYear,3,0,!1,!0);break;case"yyyy":t=co(ro.FullYear,4,0,!1,!0);break;case"M":case"L":t=co(ro.Month,1,1);break;case"MM":case"LL":t=co(ro.Month,2,1);break;case"MMM":t=ho(so.Months,ql.Abbreviated);break;case"MMMM":t=ho(so.Months,ql.Wide);break;case"MMMMM":t=ho(so.Months,ql.Narrow);break;case"LLL":t=ho(so.Months,ql.Abbreviated,zl.Standalone);break;case"LLLL":t=ho(so.Months,ql.Wide,zl.Standalone);break;case"LLLLL":t=ho(so.Months,ql.Narrow,zl.Standalone);break;case"w":t=fo(1);break;case"ww":t=fo(2);break;case"W":t=fo(1,!0);break;case"d":t=co(ro.Date,1);break;case"dd":t=co(ro.Date,2);break;case"E":case"EE":case"EEE":t=ho(so.Days,ql.Abbreviated);break;case"EEEE":t=ho(so.Days,ql.Wide);break;case"EEEEE":t=ho(so.Days,ql.Narrow);break;case"EEEEEE":t=ho(so.Days,ql.Short);break;case"a":case"aa":case"aaa":t=ho(so.DayPeriods,ql.Abbreviated);break;case"aaaa":t=ho(so.DayPeriods,ql.Wide);break;case"aaaaa":t=ho(so.DayPeriods,ql.Narrow);break;case"b":case"bb":case"bbb":t=ho(so.DayPeriods,ql.Abbreviated,zl.Standalone,!0);break;case"bbbb":t=ho(so.DayPeriods,ql.Wide,zl.Standalone,!0);break;case"bbbbb":t=ho(so.DayPeriods,ql.Narrow,zl.Standalone,!0);break;case"B":case"BB":case"BBB":t=ho(so.DayPeriods,ql.Abbreviated,zl.Format,!0);break;case"BBBB":t=ho(so.DayPeriods,ql.Wide,zl.Format,!0);break;case"BBBBB":t=ho(so.DayPeriods,ql.Narrow,zl.Format,!0);break;case"h":t=co(ro.Hours,1,-12);break;case"hh":t=co(ro.Hours,2,-12);break;case"H":t=co(ro.Hours,1);break;case"HH":t=co(ro.Hours,2);break;case"m":t=co(ro.Minutes,1);break;case"mm":t=co(ro.Minutes,2);break;case"s":t=co(ro.Seconds,1);break;case"ss":t=co(ro.Seconds,2);break;case"S":t=co(ro.FractionalSeconds,1);break;case"SS":t=co(ro.FractionalSeconds,2);break;case"SSS":t=co(ro.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=po(ao.Short);break;case"ZZZZZ":t=po(ao.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=po(ao.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=po(ao.Long);break;default:return null}return mo[e]=t,t}(e);u+=t?t(a,n,o):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),u}function oo(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,r="";(e<0||a&&e<=0)&&(a?e=1-e:(e=-e,r=n));for(var s=String(e);s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),r+s}function co(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(r,s){var l,o=function(e,t){switch(e){case ro.FullYear:return t.getFullYear();case ro.Month:return t.getMonth();case ro.Date:return t.getDate();case ro.Hours:return t.getHours();case ro.Minutes:return t.getMinutes();case ro.Seconds:return t.getSeconds();case ro.FractionalSeconds:return t.getMilliseconds();case ro.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,r);if((n>0||o>-n)&&(o+=n),e===ro.Hours)0===o&&-12===n&&(o=12);else if(e===ro.FractionalSeconds)return l=t,uo(o,3).substr(0,l);var u=Zl(s,Wl.MinusSign);return uo(o,t,u,i,a)}}function ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zl.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(a,r){return function(e,t,n,i,a,r){switch(n){case so.Months:return Gl(t,a,i)[e.getMonth()];case so.Days:return Yl(t,a,i)[e.getDay()];case so.DayPeriods:var s=e.getHours(),l=e.getMinutes();if(r){var o,u=function(e){var t=Ia(e);return Jl(t),(t[Da.ExtraData][2]||[]).map((function(e){return"string"==typeof e?eo(e):[eo(e[0]),eo(e[1])]}))}(t),c=function(e,t,n){var i=Ia(e);Jl(i);var a=Ql([i[Da.ExtraData][0],i[Da.ExtraData][1]],t)||[];return Ql(a,n)||[]}(t,a,i);if(u.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],i=n.hours,a=n.minutes,r=e[1],u=r.hours,h=r.minutes;s>=i&&l>=a&&(s<u||s===u&&l<h)&&(o=c[t])}else{var d=e.hours,p=e.minutes;d===s&&p===l&&(o=c[t])}})),o)return o}return function(e,t,n){var i=Ia(e),a=Ql([i[Da.DayPeriodsFormat],i[Da.DayPeriodsStandalone]],t);return Ql(a,n)}(t,a,i)[s<12?0:1];case so.Eras:return function(e,t){return Ql(Ia(e)[Da.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(a,r,e,t,n,i)}}function po(e){return function(t,n,i){var a=-1*i,r=Zl(n,Wl.MinusSign),s=a>0?Math.floor(a/60):Math.ceil(a/60);switch(e){case ao.Short:return(a>=0?"+":"")+uo(s,2,r)+uo(Math.abs(a%60),2,r);case ao.ShortGMT:return"GMT"+(a>=0?"+":"")+uo(s,1,r);case ao.Long:return"GMT"+(a>=0?"+":"")+uo(s,2,r)+":"+uo(Math.abs(a%60),2,r);case ao.Extended:return 0===i?"Z":(a>=0?"+":"")+uo(s,2,r)+":"+uo(Math.abs(a%60),2,r);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function fo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var a,r,s,l;if(t){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();a=1+Math.floor((u+o)/7)}else{var c=(r=n.getFullYear(),s=new Date(r,0,1).getDay(),new Date(r,0,1+(s<=4?4:11)-s)),h=(l=n,new Date(l.getFullYear(),l.getMonth(),l.getDate()+(4-l.getDay()))).getTime()-c.getTime();a=1+Math.round(h/6048e5)}return uo(a,e,Zl(i,Wl.MinusSign))}}var mo={};function go(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function vo(e){return e instanceof Date&&!isNaN(e.valueOf())}var yo=function e(){_classCallCheck(this,e)},bo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return Ia(e)[Da.PluralCase]}(t||this.locale)(e)){case jl.Zero:return"zero";case jl.One:return"one";case jl.Two:return"two";case jl.Few:return"few";case jl.Many:return"many";default:return"other"}}}]),n}(yo);function ko(e,t){t=encodeURIComponent(t);var n,i=_createForOfIteratorHelper(e.split(";"));try{for(i.s();!(n=i.n()).done;){var a=n.value,r=a.indexOf("="),s=_slicedToArray2(-1==r?[a,""]:[a.slice(0,r),a.slice(r+1)],2),l=s[0],o=s[1];if(l.trim()===t)return decodeURIComponent(o)}}catch(u){i.e(u)}finally{i.f()}return null}var Co=function(){function e(t,n,i,a){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(me(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&($t(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}(),wo=function(){function e(t,n,i,a){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=a}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),_o=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,i,a){if(null==e.previousIndex){var r=t._viewContainer.createEmbeddedView(t._template,new wo(null,t._ngForOf,-1,-1),null===a?void 0:a),s=new xo(e,r);n.push(s)}else if(null==a)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var l=t._viewContainer.get(i);t._viewContainer.move(l,a);var o=new xo(e,l);n.push(o)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var a=0,r=this._viewContainer.length;a<r;a++){var s=this._viewContainer.get(a);s.context.index=a,s.context.count=r,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){it()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),xo=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},So=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Eo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Oo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Oo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),Eo=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Oo(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(me(t),"'."))}var Io=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Ao=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}(),Do=function(){function e(t,n,i){_classCallCheck(this,e),this.ngSwitch=i,i._addCase(),this._view=new Io(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}(),Mo=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i,a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(-1===t.indexOf(r))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}();function To(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(me(e),"'"))}var Po=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Lo=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),No=new Po,Ro=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Gt(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Kt.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Jt(t))return Lo;if(Qt(t))return No;throw To(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}(),Fo=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return lo(t,n,a||this.locale,i)}catch(r){throw To(e,r.message)}}}]),e}(),Ho=function e(){_classCallCheck(this,e)};function Bo(e){return"browser"===e}var Vo,jo=((Vo=function e(){_classCallCheck(this,e)}).\u0275prov=ce({token:Vo,providedIn:"root",factory:function(){return new zo(Me(kl),window,Me(We))}}),Vo),zo=function(){function e(t,n,i){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],i-a[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),qo=function e(){_classCallCheck(this,e)},Uo=function e(){_classCallCheck(this,e)},Wo=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),a=i.toLowerCase(),r=e.slice(t+1).trim();n.maybeSetNormalizedName(i,a),n.headers.has(a)?n.headers.get(a).push(r):n.headers.set(a,[r])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var i=t[e],a=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(a,i),n.maybeSetNormalizedName(e,a))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(t,i);break;case"d":var a=e.value;if(a){var r=this.headers.get(t);if(!r)return;0===(r=r.filter((function(e){return-1===a.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,r)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),Yo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return Go(e)}},{key:"encodeValue",value:function(e){return Go(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function Go(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Xo=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Yo,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var i=e.indexOf("="),a=_slicedToArray2(-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],2),r=a[0],s=a[1],l=n.get(r)||[];l.push(s),n.set(r,l)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var i=n.fromObject[e];t.map.set(e,Array.isArray(i)?i:[i])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],a=i.indexOf(t.value);-1!==a&&i.splice(a,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function Ko(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function $o(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Zo(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Jo=function(){function e(t,n,i,a){var r;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,r=a):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Wo),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var l=n.indexOf("?");this.urlWithParams=n+(-1===l?"?":l<n.length-1?"&":"")+s}}else this.params=new Xo,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:Ko(this.body)||$o(this.body)||Zo(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:Zo(this.body)?null:$o(this.body)?this.body.type||null:Ko(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,a=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,o=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(o=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),o)),t.setParams&&(u=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),u)),new e(n,i,r,{params:u,headers:o,reportProgress:l,responseType:a,withCredentials:s})}}]),e}(),Qo=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),eu=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new Wo,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},tu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=Qo.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(eu),nu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=Qo.Response,e.body=void 0!==i.body?i.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(eu),iu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),i.error=e.error||null,i}return n}(eu);function au(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var ru,su=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Jo)n=e;else{var r=void 0;r=a.headers instanceof Wo?a.headers:new Wo(a.headers);var s=void 0;a.params&&(s=a.params instanceof Xo?a.params:new Xo({fromObject:a.params})),n=new Jo(e,t,void 0!==a.body?a.body:null,{headers:r,params:s,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}var l=dl(n).pipe(pl((function(e){return i.handler.handle(e)})));if(e instanceof Jo||"events"===a.observe)return l;var o=l.pipe(fl((function(e){return e instanceof nu})));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return o.pipe(B((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return o.pipe(B((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return o.pipe(B((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return o.pipe(B((function(e){return e.body})))}case"response":return o;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Xo).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,au(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,au(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,au(n,t))}}]),e}(),lu=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),ou=new xe("HTTP_INTERCEPTORS"),uu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}(),cu=/^\)\]\}',?\n/,hu=function e(){_classCallCheck(this,e)},du=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}(),pu=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w((function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((function(e,t){return i.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var a=e.detectContentTypeHeader();null!==a&&i.setRequestHeader("Content-Type",a)}if(e.responseType){var r=e.responseType.toLowerCase();i.responseType="json"!==r?r:"text"}var s=e.serializeBody(),l=null,o=function(){if(null!==l)return l;var t=1223===i.status?204:i.status,n=i.statusText||"OK",a=new Wo(i.getAllResponseHeaders()),r=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return l=new tu({headers:a,status:t,statusText:n,url:r})},u=function(){var t=o(),a=t.headers,r=t.status,s=t.statusText,l=t.url,u=null;204!==r&&(u=void 0===i.response?i.responseText:i.response),0===r&&(r=u?200:0);var c=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(cu,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new nu({body:u,headers:a,status:r,statusText:s,url:l||void 0})),n.complete()):n.error(new iu({error:u,headers:a,status:r,statusText:s,url:l||void 0}))},c=function(e){var t=o().url,a=new iu({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(a)},h=!1,d=function(t){h||(n.next(o()),h=!0);var a={type:Qo.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(a.total=t.total),"text"===e.responseType&&i.responseText&&(a.partialText=i.responseText),n.next(a)},p=function(e){var t={type:Qo.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",u),i.addEventListener("error",c),e.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",p)),i.send(s),n.next({type:Qo.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("load",u),e.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",p)),i.abort()}}))}}]),e}(),fu=new xe("XSRF_COOKIE_NAME"),mu=new xe("XSRF_HEADER_NAME"),gu=function e(){_classCallCheck(this,e)},vu=function(){function e(t,n,i){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ko(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}(),yu=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}(),bu=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(ou,[]);this.chain=t.reduceRight((function(e,t){return new lu(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}(),ku=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:yu,useClass:uu}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:fu,useValue:t.cookieName}:[],t.headerName?{provide:mu,useValue:t.headerName}:[]]}}}]),e}(),Cu=function e(){_classCallCheck(this,e)},wu=new xe("JWT_OPTIONS"),_u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,e),this.tokenGetter=t&&t.tokenGetter||function(){}}return _createClass(e,[{key:"urlBase64Decode",value:function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(t)}},{key:"b64decode",value:function(e){var t="";if((e=String(e).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,r=0;i=e.charAt(r++);~i&&(n=a%4?64*n+i:i,a++%4)?t+=String.fromCharCode(255&n>>(-2*a&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return t}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}},{key:"decodeToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter();if(!e||""===e)return null;var t=e.split(".");if(3!==t.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");var n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)}},{key:"getTokenExpirationDate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter();if(!(e=this.decodeToken(t))||!e.hasOwnProperty("exp"))return null;var n=new Date(0);return n.setUTCSeconds(e.exp),n}},{key:"isTokenExpired",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter(),t=arguments.length>1?arguments[1]:void 0;if(!e||""===e)return!0;var n=this.getTokenExpirationDate(e);return t=t||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*t)}},{key:"getAuthScheme",value:function(e,t){return"function"==typeof e?e(t):e}}]),e}(),xu=function(){function e(t,n){_classCallCheck(this,e),this.jwtHelper=n,this.standardPorts=["80","443"],this.tokenGetter=t.tokenGetter,this.headerName=t.headerName||"Authorization",this.authScheme=t.authScheme||""===t.authScheme?t.authScheme:"Bearer ",this.whitelistedDomains=t.whitelistedDomains||[],this.blacklistedRoutes=t.blacklistedRoutes||[],this.throwNoTokenError=t.throwNoTokenError||!1,this.skipWhenExpired=t.skipWhenExpired}return _createClass(e,[{key:"isWhitelistedDomain",value:function(e){var t=Object(hl.parse)(e.url,!1,!0),n=null!==t.hostname?"".concat(t.hostname).concat(t.port&&!this.standardPorts.includes(t.port)?":"+t.port:""):t.hostname;return null===n||this.whitelistedDomains.findIndex((function(e){return"string"==typeof e?e===n:e instanceof RegExp&&e.test(n)}))>-1}},{key:"isBlacklistedRoute",value:function(e){var t=Object(hl.parse)(e.url,!1,!0);return this.blacklistedRoutes.findIndex((function(n){if("string"==typeof n){var i=Object(hl.parse)(n,!1,!0);return i.hostname===t.hostname&&i.path===t.path}return n instanceof RegExp&&n.test(e.url)}))>-1}},{key:"handleInterception",value:function(e,t,n){var i=this.jwtHelper.getAuthScheme(this.authScheme,t),a=!1;if(!e&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(a=!e||this.jwtHelper.isTokenExpired(e)),e&&a&&this.skipWhenExpired?t=t.clone():e&&(t=t.clone({setHeaders:_defineProperty2({},this.headerName,"".concat(i).concat(e))})),n.handle(t)}},{key:"intercept",value:function(e,t){var n=this;if(!this.isWhitelistedDomain(e)||this.isBlacklistedRoute(e))return t.handle(e);var i=this.tokenGetter(e);return i instanceof Promise?q(i).pipe(U((function(i){return n.handleInterception(i,e,t)}))):this.handleInterception(i,e,t)}}]),e}(),Su=ru=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}return _createClass(e,null,[{key:"forRoot",value:function(e){return{ngModule:ru,providers:[{provide:ou,useClass:xu,multi:!0},e.jwtOptionsProvider||{provide:wu,useValue:e.config},_u]}}}]),e}(),Eu=function(){function e(t){_classCallCheck(this,e),this.authService=t,this.title="ClientApp",this.jwtHelper=new _u}return _createClass(e,[{key:"ngOnInit",value:function(){var e=localStorage.getItem("token");JSON.parse(localStorage.getItem("user")),e&&(this.authService.decodedToken=this.jwtHelper.decodeToken(e))}},{key:"isLogged",value:function(){return!!this.authService.isLoggedIn()}}]),e}();function Ou(e,t){return new w((function(n){var i=e.length;if(0!==i)for(var a=new Array(i),r=0,s=0,l=function(l){var o=q(e[l]),u=!1;n.add(o.subscribe({next:function(e){u||(u=!0,s++),a[l]=e},error:function(e){return n.error(e)},complete:function(){++r!==i&&u||(s===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=a[n],e}),{}):a),n.complete())}}))},o=0;o<i;o++)l(o);else n.complete()}))}var Iu=new xe("NgValueAccessor"),Au=new xe("CompositionEventMode"),Du=function(){function e(t,n,i){var a;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(a=yl()?yl().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),Mu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}(),Tu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Mu);function Pu(){throw new Error("unimplemented")}var Lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return Pu()}},{key:"asyncValidator",get:function(){return Pu()}}]),n}(Mu),Nu=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(Nu),Fu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(Nu);function Hu(e){return null==e||0===e.length}var Bu=new xe("NgValidators"),Vu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ju=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Hu(t.value)||Hu(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Hu(t.value)||Hu(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Hu(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Hu(e.value)?null:Vu.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Hu(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(Hu(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(zu);return 0==t.length?null:function(e){return Uu(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(zu);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(o(i))return Ou(i,null);if(u(i)&&Object.getPrototypeOf(i)===Object.prototype){var a=Object.keys(i);return Ou(a.map((function(e){return i[e]})),a)}}if("function"==typeof t[t.length-1]){var r=t.pop();return Ou(t=1===t.length&&o(t[0])?t[0]:t,null).pipe(B((function(e){return r.apply(void 0,_toConsumableArray(e))})))}return Ou(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(qu)).pipe(B(Uu))}}}]),e}();function zu(e){return null!=e}function qu(e){var t=Jt(e)?q(e):e;if(!Qt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Uu(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function Wu(e){return e.validate?function(t){return e.validate(t)}:e}function Yu(e){return e.validate?function(t){return e.validate(t)}:e}var Gu=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),Xu=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),Ku='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',$u='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Zu='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ju=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(Ku))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat($u,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(Zu))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(Ku))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat($u))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}();function Qu(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var ec=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Gt}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Qu(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),tc=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Qu(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}();function nc(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var ic=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(nc(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(nc(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}();function ac(e,t){return[].concat(_toConsumableArray(t.path),[e])}function rc(e,t){e||uc(t,"Cannot find control with"),t.valueAccessor||uc(t,"No value accessor for form control with"),e.validator=ju.compose([e.validator,t.validator]),e.asyncValidator=ju.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&sc(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&sc(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function sc(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function lc(e,t){null==e&&uc(t,"Cannot find control with"),e.validator=ju.compose([e.validator,t.validator]),e.asyncValidator=ju.composeAsync([e.asyncValidator,t.asyncValidator])}function oc(e){return uc(e,"There is no FormControl instance attached to form control element with")}function uc(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function cc(e){return null!=e?ju.compose(e.map(Wu)):null}function hc(e){return null!=e?ju.composeAsync(e.map(Yu)):null}function dc(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Gt(t,n.currentValue)}var pc=[function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),Gu,ec,function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Gt}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var a=n.selectedOptions,r=0;r<a.length;r++){var s=a.item(r),l=t._getOptionValue(s.value);i.push(l)}else for(var o=n.options,u=0;u<o.length;u++){var c=o.item(u);if(c.selected){var h=t._getOptionValue(c.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),function(){function e(t,n,i,a){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=a,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Lu),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function fc(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function mc(e,t){if(!t)return null;Array.isArray(t)||uc(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,a=void 0;return t.forEach((function(t){var r;t.constructor===Du?n=t:(r=t,pc.some((function(e){return r.constructor===e}))?(i&&uc(e,"More than one built-in value accessor matches form control with"),i=t):(a&&uc(e,"More than one custom value accessor matches form control with"),a=t))})),a||i||n||(uc(e,"No valid value accessor for form control with"),null)}function gc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function vc(e){var t=bc(e)?e.validators:e;return Array.isArray(t)?cc(t):t||null}function yc(e,t){var n=bc(t)?t.asyncValidators:e;return Array.isArray(n)?hc(n):n||null}function bc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var kc=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=vc(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=yc(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=qu(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach((function(e){i=i instanceof wc?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof _c&&i.at(e)||null})),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Ma,this.statusChanges=new Ma}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){bc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),Cc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,vc(a),yc(r,a)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(a),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(kc),wc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,vc(i),yc(a,i))).controls=e,r._initObservables(),r._setUpdateStrategy(i),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof Cc?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(i,a){n=n||t.contains(a)&&e(i)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(kc),_c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,vc(i),yc(a,i))).controls=e,r._initObservables(),r._setUpdateStrategy(i),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof Cc?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(kc),xc=Promise.resolve(null),Sc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this)).submitted=!1,a._directives=[],a.ngSubmit=new Ma,a.form=new wc({},cc(e),hc(i)),a}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;xc.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),rc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;xc.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),gc(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;xc.then((function(){var n=t._findContainer(e.path),i=new wc({});lc(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;xc.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;xc.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,fc(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Tu),Ec=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return ac(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return cc(this._validators)}},{key:"asyncValidator",get:function(){return hc(this._asyncValidators)}}]),n}(Tu),Oc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(Ku,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat($u,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Zu))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat($u,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Zu))}}]),e}(),Ic=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this))._parent=e,r._validators=i,r._asyncValidators=a,r}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Sc||Oc.modelGroupParentException()}}]),n}(Ec),Ac=Promise.resolve(null),Dc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this)).control=new Cc,s._registered=!1,s.update=new Ma,s._parent=e,s._rawValidators=i||[],s._rawAsyncValidators=a||[],s.valueAccessor=mc(_assertThisInitialized(s),r),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),dc(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){rc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ic)&&this._parent instanceof Ec?Oc.formGroupNameException():this._parent instanceof Ic||this._parent instanceof Sc||Oc.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Oc.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;Ac.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;Ac.then((function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?ac(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return cc(this._rawValidators)}},{key:"asyncValidator",get:function(){return hc(this._rawAsyncValidators)}}]),n}(Lu),Mc=function e(){_classCallCheck(this,e)},Tc=new xe("NgModelWithFormControlWarning"),Pc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this))._validators=e,a._asyncValidators=i,a.submitted=!1,a.directives=[],a.form=null,a.ngSubmit=new Ma,a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return rc(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){gc(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);lc(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);lc(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,fc(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return oc(t)})),t.valueAccessor.registerOnTouched((function(){return oc(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&rc(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=cc(this._validators);this.form.validator=ju.compose([this.form.validator,e]);var t=hc(this._asyncValidators);this.form.asyncValidator=ju.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||Ju.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Tu),Lc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this))._parent=e,r._validators=i,r._asyncValidators=a,r}return _createClass(n,[{key:"_checkParentType",value:function(){Rc(this._parent)&&Ju.groupParentException()}}]),n}(Ec),Nc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this))._parent=e,r._validators=i,r._asyncValidators=a,r}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){Rc(this._parent)&&Ju.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return ac(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return cc(this._validators)}},{key:"asyncValidator",get:function(){return hc(this._asyncValidators)}}]),n}(Tu);function Rc(e){return!(e instanceof Lc||e instanceof Pc||e instanceof Nc)}var Fc,Hc=((Fc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s){var l;return _classCallCheck(this,n),(l=t.call(this))._ngModelWarningConfig=s,l._added=!1,l.update=new Ma,l._ngModelWarningSent=!1,l._parent=e,l._rawValidators=i||[],l._rawAsyncValidators=a||[],l.valueAccessor=mc(_assertThisInitialized(l),r),l}return _createClass(n,[{key:"ngOnChanges",value:function(e){var t,i;this._added||this._setUpControl(),dc(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,it()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Ju.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Lc)&&this._parent instanceof Ec?Ju.ngModelGroupException():this._parent instanceof Lc||this._parent instanceof Pc||this._parent instanceof Nc||Ju.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){Ju.disabledAttrWarning()}},{key:"path",get:function(){return ac(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return cc(this._rawValidators)}},{key:"asyncValidator",get:function(){return hc(this._rawAsyncValidators)}}]),n}(Lu))._ngModelWarningSentOnce=!1,Fc),Bc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?ju.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!=="".concat(e),this._onChange&&this._onChange()}}]),e}(),Vc=function e(){_classCallCheck(this,e)},jc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),i=null,a=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,a=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,a=null!=t.asyncValidator?t.asyncValidator:null)),new wc(n,{asyncValidators:a,updateOn:r,validators:i})}},{key:"control",value:function(e,t,n){return new Cc(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,a=e.map((function(e){return i._createControl(e)}));return new _c(a,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(i){n[i]=t._createControl(e[i])})),n}},{key:"_createControl",value:function(e){return e instanceof Cc||e instanceof wc||e instanceof _c?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}(),zc=function e(){_classCallCheck(this,e)},qc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Tc,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}(),Uc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._value=e,i}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(I),Wc={},Yc=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gc(e,this.resultSelector))}}]),e}(),Gc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).resultSelector=i,a.active=0,a.values=[],a.observables=[],a}return _createClass(n,[{key:"_next",value:function(e){this.values.push(Wc),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(F(this,i,i,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,a){var r=this.values,s=this.toRespond?r[n]===Wc?--this.toRespond:this.toRespond:0;r[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(H),Xc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).scheduler=e,a.work=i,a.pending=!1,a}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(a){n=!0,i=!!a&&a||new Error(a)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(d)),Kc=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),$c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kc.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():a()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(Kc),Zc=new $c(Xc);function Jc(e){return!o(e)&&e-parseFloat(e)+1>=0}function Qc(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function eh(){}function th(e,t,n,a){return i(n)&&(a=n,n=void 0),a?th(e,t,n).pipe(B((function(e){return o(e)?a.apply(void 0,_toConsumableArray(e)):a(e)}))):new w((function(i){!function e(t,n,i,a,r){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var l=t;t.addEventListener(n,i,r),s=function(){return l.removeEventListener(n,i,r)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var o=t;t.on(n,i),s=function(){return o.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,i),s=function(){return u.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,i,a,r)}a.add(s)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)}))}function nh(){return G(1)}function ih(){return nh()(dl.apply(void 0,arguments))}function ah(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return D(i)?(t.pop(),function(e){return ih(t,e,i)}):function(e){return ih(t,e)}}var rh=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new sh(e,this.compare,this.keySelector))}}]),e}(),sh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e)).keySelector=a,r.hasKey=!1,"function"==typeof i&&(r.compare=i),r}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(a){return this.destination.error(a)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(m);function lh(e,t){return"function"==typeof t?function(n){return n.pipe(lh((function(n,i){return q(e(n,i)).pipe(B((function(e,a){return t(n,e,i,a)})))})))}:function(t){return t.lift(new oh(e))}}var oh=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new uh(e,this.project))}}]),e}(),uh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).project=i,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var a=new M(this,t,n),r=this.destination;r.add(a),this.innerSubscription=F(this,e,void 0,void 0,a),this.innerSubscription!==a&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,i,a){this.destination.next(t)}}]),n}(H);function ch(e){return function(t){return t.lift(new hh(e))}}var hh=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new dh(e),i=F(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),dh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,a){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(H),ph=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),fh=new w((function(e){return e.complete()}));function mh(e){return e?function(e){return new w((function(t){return e.schedule((function(){return t.complete()}))}))}(e):fh}function gh(e){return function(t){return 0===e?mh():t.lift(new vh(e))}}var vh=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new ph}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new yh(e,this.total))}}]),e}(),yh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).total=i,a.count=0,a}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(m);function bh(e,t,n){return function(i){return i.lift(new kh(e,t,n))}}var kh=function(){function e(t,n,i){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ch(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Ch=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,a,r,s){var l;return _classCallCheck(this,n),(l=t.call(this,e))._tapNext=eh,l._tapError=eh,l._tapComplete=eh,l._tapError=r||eh,l._tapComplete=s||eh,i(a)?(l._context=_assertThisInitialized(l),l._tapNext=a):a&&(l._context=a,l._tapNext=a.next||eh,l._tapError=a.error||eh,l._tapComplete=a.complete||eh),l}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(m);function wh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new _h(t,n))}}var _h=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new xh(e,this.observables,this.project))}}]),e}(),xh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;_classCallCheck(this,n),(r=t.call(this,e)).observables=i,r.project=a,r.toRespond=[];var s=i.length;r.values=new Array(s);for(var l=0;l<s;l++)r.toRespond.push(l);for(var o=0;o<s;o++){var u=i[o];r.add(F(_assertThisInitialized(r),u,u,o))}return r}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,a){this.values[n]=t;var r=this.toRespond;if(r.length>0){var s=r.indexOf(n);-1!==s&&r.splice(s,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(H);function Sh(e,t){return new w(t?function(n){return t.schedule(Eh,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Eh(e){var t=e.error;e.subscriber.error(t)}var Oh,Ih=((Oh=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return dl(this.value);case"E":return Sh(this.error);case"C":return mh()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Oh("C"),Oh.undefinedValueNotification=new Oh("N",void 0),Oh);function Ah(e){return parseInt("".concat(e),10)}function Dh(e){return null!=e?"".concat(e):""}function Mh(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Th(e){return null!=e}function Ph(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var Lh,Nh=function e(){_classCallCheck(this,e)},Rh=((Lh=function e(){_classCallCheck(this,e),this.dismissible=!0,this.type="warning"}).\u0275prov=ce({factory:function(){return new Lh},token:Lh,providedIn:"root"}),Lh),Fh=function(){function e(t,n,i){_classCallCheck(this,e),this._renderer=n,this._element=i,this.close=new Ma,this.dismissible=t.dismissible,this.type=t.type}return _createClass(e,[{key:"closeHandler",value:function(){this.close.emit()}},{key:"ngOnChanges",value:function(e){var t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-".concat(t.previousValue)),this._renderer.addClass(this._element.nativeElement,"alert-".concat(t.currentValue)))}},{key:"ngOnInit",value:function(){this._renderer.addClass(this._element.nativeElement,"alert-".concat(this.type))}}]),e}(),Hh=function e(){_classCallCheck(this,e)},Bh=function e(){_classCallCheck(this,e)},Vh=function e(){_classCallCheck(this,e)},jh=function e(){_classCallCheck(this,e)},zh=function(){function e(t,n,i){_classCallCheck(this,e),this.year=Mh(t)?t:null,this.month=Mh(n)?n:null,this.day=Mh(i)?i:null}return _createClass(e,[{key:"equals",value:function(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}},{key:"before",value:function(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}},{key:"after",value:function(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}],[{key:"from",value:function(t){return t instanceof e?t:t?new e(t.year,t.month,t.day):null}}]),e}();function qh(e){return new zh(e.getFullYear(),e.getMonth()+1,e.getDate())}function Uh(e){var t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function Wh(){return new Xh}var Yh,Gh=((Yh=function e(){_classCallCheck(this,e)}).\u0275prov=ce({factory:Wh,token:Yh,providedIn:"root"}),Yh),Xh=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDaysPerWeek",value:function(){return 7}},{key:"getMonths",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12]}},{key:"getWeeksPerMonth",value:function(){return 6}},{key:"getNext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=Uh(e),a=!0,r=i.getMonth();switch(t){case"y":i.setFullYear(i.getFullYear()+n);break;case"m":r+=n,i.setMonth(r),(r%=12)<0&&(r+=12);break;case"d":i.setDate(i.getDate()+n),a=!1;break;default:return e}return a&&i.getMonth()!==r&&i.setDate(0),qh(i)}},{key:"getPrev",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.getNext(e,t,-n)}},{key:"getWeekday",value:function(e){var t=Uh(e).getDay();return 0===t?7:t}},{key:"getWeekNumber",value:function(e,t){7===t&&(t=0);var n=Uh(e[(11-t)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var i=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n.getTime())/864e5)/7)+1}},{key:"getToday",value:function(){return qh(new Date)}},{key:"isValid",value:function(e){if(!(e&&Mh(e.year)&&Mh(e.month)&&Mh(e.day)))return!1;if(0===e.year)return!1;var t=Uh(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}}]),n}(Gh);function Kh(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function $h(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function Zh(e,t,n){return e&&t&&e.before(t)?t:e&&n&&e.after(n)?n:e||null}function Jh(e,t){var n=t.minDate,i=t.maxDate,a=t.disabled,r=t.markDisabled;return!(null==e||a||r&&r(e,{year:e.year,month:e.month})||n&&e.before(n)||i&&e.after(i))}var Qh,ed,td=((Qh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getDayNumerals",value:function(e){return"".concat(e.day)}},{key:"getWeekNumerals",value:function(e){return"".concat(e)}},{key:"getYearNumerals",value:function(e){return"".concat(e)}}]),e}()).\u0275prov=ce({factory:function(){return e=Me(qa),new nd(e);var e},token:Qh,providedIn:"root"}),Qh),nd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),(i=t.call(this))._locale=e;var a=Yl(e,zl.Standalone,ql.Short);return i._weekdaysShort=a.map((function(e,t){return a[(t+1)%7]})),i._monthsShort=Gl(e,zl.Standalone,ql.Abbreviated),i._monthsFull=Gl(e,zl.Standalone,ql.Wide),i}return _createClass(n,[{key:"getWeekdayShortName",value:function(e){return this._weekdaysShort[e-1]||""}},{key:"getMonthShortName",value:function(e){return this._monthsShort[e-1]||""}},{key:"getMonthFullName",value:function(e){return this._monthsFull[e-1]||""}},{key:"getDayAriaLabel",value:function(e){return lo(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}]),n}(td),id=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._calendar=t,this._i18n=n,this._VALIDATORS={dayTemplateData:function(e){if(i._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:function(e){if(Mh(e=Ah(e))&&e>0&&i._state.displayMonths!==e)return{displayMonths:e}},disabled:function(e){if(i._state.disabled!==e)return{disabled:e}},firstDayOfWeek:function(e){if(Mh(e=Ah(e))&&e>=0&&i._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:function(e){if(i._state.focusVisible!==e&&!i._state.disabled)return{focusVisible:e}},markDisabled:function(e){if(i._state.markDisabled!==e)return{markDisabled:e}},maxDate:function(e){var t=i.toValidDate(e,null);if(Kh(i._state.maxDate,t))return{maxDate:t}},minDate:function(e){var t=i.toValidDate(e,null);if(Kh(i._state.minDate,t))return{minDate:t}},navigation:function(e){if(i._state.navigation!==e)return{navigation:e}},outsideDays:function(e){if(i._state.outsideDays!==e)return{outsideDays:e}}},this._model$=new I,this._dateSelect$=new I,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}return _createClass(e,[{key:"set",value:function(e){var t=this,n=Object.keys(e).map((function(n){return t._VALIDATORS[n](e[n])})).reduce((function(e,t){return Object.assign(Object.assign({},e),t)}),{});Object.keys(n).length>0&&this._nextState(n)}},{key:"focus",value:function(e){var t=this.toValidDate(e,null);null!=t&&!this._state.disabled&&Kh(this._state.focusDate,t)&&this._nextState({focusDate:e})}},{key:"focusSelect",value:function(){Jh(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}},{key:"open",value:function(e){var t=this.toValidDate(e,this._calendar.getToday());null==t||this._state.disabled||this._state.firstDate&&!$h(this._state.firstDate,t)||this._nextState({firstDate:t})}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toValidDate(e,null);null==n||this._state.disabled||(Kh(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),t.emitEvent&&Jh(n,this._state)&&this._dateSelect$.next(n))}},{key:"toValidDate",value:function(e,t){var n=zh.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(n)?n:t}},{key:"getMonth",value:function(e){var t,n=_createForOfIteratorHelper(this._state.months);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.month===i.number&&e.year===i.year)return i}}catch(a){n.e(a)}finally{n.f()}throw new Error("month ".concat(e.month," of year ").concat(e.year," not found"))}},{key:"_nextState",value:function(e){var t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}},{key:"_patchContexts",value:function(e){var t=e.months,n=e.displayMonths,i=e.selectedDate,a=e.focusDate,r=e.focusVisible,s=e.disabled,l=e.outsideDays;e.months.forEach((function(e){e.weeks.forEach((function(o){o.days.forEach((function(o){a&&(o.context.focused=a.equals(o.date)&&r),o.tabindex=!s&&a&&o.date.equals(a)&&a.month===e.number?0:-1,!0===s&&(o.context.disabled=!0),void 0!==i&&(o.context.selected=null!==i&&i.equals(o.date)),e.number!==o.date.month&&(o.hidden="hidden"===l||"collapsed"===l||n>1&&o.date.after(t[0].firstDate)&&o.date.before(t[n-1].lastDate))}))}))}))}},{key:"_updateState",value:function(e){var t,n,i,a,r=Object.assign({},this._state,e),s=r.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error("'maxDate' ".concat(t," should be greater than 'minDate' ").concat(e))}(r.minDate,r.maxDate),r.focusDate=Zh(r.focusDate,r.minDate,r.maxDate),r.firstDate=Zh(r.firstDate,r.minDate,r.maxDate),s=r.focusDate),"disabled"in e&&(r.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(s=r.selectedDate),"focusVisible"in e)return r;if("focusDate"in e&&(r.focusDate=Zh(r.focusDate,r.minDate,r.maxDate),s=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in e&&(r.firstDate=Zh(r.firstDate,r.minDate,r.maxDate),s=r.firstDate),s){var l=function(e,t,n,i,a){var r=n.displayMonths,s=n.months,l=s.splice(0,s.length);return Array.from({length:r},(function(n,i){var r=Object.assign(e.getNext(t,"m",i),{day:1});if(s[i]=null,!a){var o=l.findIndex((function(e){return e.firstDate.equals(r)}));-1!==o&&(s[i]=l.splice(o,1)[0])}return r})).forEach((function(t,a){null===s[a]&&(s[a]=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=n.dayTemplateData,s=n.minDate,l=n.maxDate,o=n.firstDayOfWeek,u=n.markDisabled,c=n.outsideDays,h=e.getToday();a.firstDate=null,a.lastDate=null,a.number=t.month,a.year=t.year,a.weeks=a.weeks||[],a.weekdays=a.weekdays||[],t=function(e,t,n){var i=e.getDaysPerWeek(),a=new zh(t.year,t.month,1),r=e.getWeekday(a)%i;return e.getPrev(a,"d",(i+r-n)%i)}(e,t,o);for(var d=0;d<e.getWeeksPerMonth();d++){var p=a.weeks[d];p||(p=a.weeks[d]={number:0,days:[],collapsed:!0});for(var f=p.days,m=0;m<e.getDaysPerWeek();m++){0===d&&(a.weekdays[m]=e.getWeekday(t));var g=new zh(t.year,t.month,t.day),v=e.getNext(g),y=i.getDayAriaLabel(g),b=!!(s&&g.before(s)||l&&g.after(l));!b&&u&&(b=u(g,{month:a.number,year:a.year}));var k=g.equals(h),C=r?r(g,{month:a.number,year:a.year}):void 0;null===a.firstDate&&g.month===a.number&&(a.firstDate=g),g.month===a.number&&v.month!==a.number&&(a.lastDate=g);var w=f[m];w||(w=f[m]={}),w.date=g,w.context=Object.assign(w.context||{},{$implicit:g,date:g,data:C,currentMonth:a.number,currentYear:a.year,disabled:b,focused:!1,selected:!1,today:k}),w.tabindex=-1,w.ariaLabel=y,w.hidden=!1,t=v}p.number=e.getWeekNumber(f.map((function(e){return e.date})),o),p.collapsed="collapsed"===c&&f[0].date.month!==a.number&&f[f.length-1].date.month!==a.number}return a}(e,t,n,i,l.shift()||{}))})),s}(this._calendar,s,r,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);r.months=l,r.firstDate=l[0].firstDate,r.lastDate=l[l.length-1].lastDate,"selectedDate"in e&&!Jh(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in e&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=s);var o=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,u=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in e||"maxDate"in e||0===r.selectBoxes.years.length||o)&&(r.selectBoxes.years=function(e,t,n){if(!e)return[];for(var i=t?Math.max(t.year,e.year-500):e.year-10,a=(n?Math.min(n.year,e.year+500):e.year+10)-i+1,r=Array(a),s=0;s<a;s++)r[s]=i+s;return r}(r.firstDate,r.minDate,r.maxDate)),("minDate"in e||"maxDate"in e||0===r.selectBoxes.months.length||o)&&(r.selectBoxes.months=function(e,t,n,i){if(!t)return[];var a=e.getMonths(t.year);if(n&&t.year===n.year){var r=a.findIndex((function(e){return e===n.month}));a=a.slice(r)}if(i&&t.year===i.year){var s=a.findIndex((function(e){return e===i.month}));a=a.slice(0,s+1)}return a}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},"arrows"!==r.navigation&&"select"!==r.navigation||!(u||o||"minDate"in e||"maxDate"in e||"disabled"in e)||(r.prevDisabled=r.disabled||(t=this._calendar,n=r.firstDate,i=r.minDate,a=Object.assign(t.getPrev(n,"m"),{day:1}),null!=i&&(a.year===i.year&&a.month<i.month||a.year<i.year&&1===i.month)),r.nextDisabled=r.disabled||function(e,t,n){var i=Object.assign(e.getNext(t,"m"),{day:1});return null!=n&&i.after(n)}(this._calendar,r.lastDate,r.maxDate))}return r}},{key:"model$",get:function(){return this._model$.pipe(fl((function(e){return e.months.length>0})))}},{key:"dateSelect$",get:function(){return this._dateSelect$.pipe(fl((function(e){return null!==e})))}}]),e}(),ad=function(e){return e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e}({}),rd=((ed=function e(){_classCallCheck(this,e),this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}).\u0275prov=ce({factory:function(){return new ed},token:ed,providedIn:"root"}),ed);function sd(){return new cd}var ld,od,ud=((ld=function e(){_classCallCheck(this,e)}).\u0275prov=ce({factory:sd,token:ld,providedIn:"root"}),ld),cd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"fromModel",value:function(e){return e&&Mh(e.year)&&Mh(e.month)&&Mh(e.day)?{year:e.year,month:e.month,day:e.day}:null}},{key:"toModel",value:function(e){return e&&Mh(e.year)&&Mh(e.month)&&Mh(e.day)?{year:e.year,month:e.month,day:e.day}:null}}]),n}(ud),hd=function(){function e(t,n,i,a,r,s,l,o){var u=this;_classCallCheck(this,e),this._service=t,this._calendar=n,this.i18n=i,this._elementRef=s,this._ngbDateAdapter=l,this._ngZone=o,this._controlValue=null,this._destroyed$=new I,this._publicState={},this.navigate=new Ma,this.dateSelect=new Ma,this.select=this.dateSelect,this.onChange=function(e){},this.onTouched=function(){},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach((function(e){return u[e]=a[e]})),t.dateSelect$.pipe(ch(this._destroyed$)).subscribe((function(e){u.dateSelect.emit(e)})),t.model$.pipe(ch(this._destroyed$)).subscribe((function(e){var t=e.firstDate,n=u.model?u.model.firstDate:null;u._publicState={maxDate:e.maxDate,minDate:e.minDate,firstDate:e.firstDate,lastDate:e.lastDate,focusedDate:e.focusDate,months:e.months.map((function(e){return e.firstDate}))};var i=!1;if(t.equals(n)||(u.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:t.year,month:t.month},preventDefault:function(){return i=!0}}),!i||null===n)){var a=e.selectedDate,s=e.focusDate,l=u.model?u.model.focusDate:null;u.model=e,Kh(a,u._controlValue)&&(u._controlValue=a,u.onTouched(),u.onChange(u._ngbDateAdapter.toModel(a))),Kh(s,l)&&l&&e.focusVisible&&u.focus(),r.markForCheck()}else u._service.open(n)}))}return _createClass(e,[{key:"focusDate",value:function(e){this._service.focus(zh.from(e))}},{key:"focusSelect",value:function(){this._service.focusSelect()}},{key:"focus",value:function(){var e=this;this._ngZone.onStable.asObservable().pipe(gh(1)).subscribe((function(){var t=e._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()}))}},{key:"navigateTo",value:function(e){this._service.open(zh.from(e?e.day?e:Object.assign(Object.assign({},e),{day:1}):null))}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.runOutsideAngular((function(){var t=th(e._contentEl.nativeElement,"focusin"),n=th(e._contentEl.nativeElement,"focusout"),i=e._elementRef.nativeElement;K(t,n).pipe(fl((function(e){var t=e.target,n=e.relatedTarget;return!(Ph(t,"ngb-dp-day")&&Ph(n,"ngb-dp-day")&&i.contains(t)&&i.contains(n))})),ch(e._destroyed$)).subscribe((function(t){var n=t.type;return e._ngZone.run((function(){return e._service.set({focusVisible:"focusin"===n})}))}))}))}},{key:"ngOnDestroy",value:function(){this._destroyed$.next()}},{key:"ngOnInit",value:function(){var e=this;if(void 0===this.model){var t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach((function(n){return t[n]=e[n]})),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}},{key:"ngOnChanges",value:function(e){var t=this,n={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter((function(t){return t in e})).forEach((function(e){return n[e]=t[e]})),this._service.set(n),"startDate"in e){var i=e.startDate,a=i.currentValue;$h(i.previousValue,a)&&this.navigateTo(this.startDate)}}},{key:"onDateSelect",value:function(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}},{key:"onNavigateDateSelect",value:function(e){this._service.open(e)}},{key:"onNavigateEvent",value:function(e){switch(e){case ad.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ad.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._service.set({disabled:e})}},{key:"writeValue",value:function(e){this._controlValue=zh.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}},{key:"state",get:function(){return this._publicState}},{key:"calendar",get:function(){return this._calendar}}]),e}(),dd=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({}),pd=((od=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"processKey",value:function(e,t){var n=t.state,i=t.calendar;switch(e.which){case dd.PageUp:t.focusDate(i.getPrev(n.focusedDate,e.shiftKey?"y":"m",1));break;case dd.PageDown:t.focusDate(i.getNext(n.focusedDate,e.shiftKey?"y":"m",1));break;case dd.End:t.focusDate(e.shiftKey?n.maxDate:n.lastDate);break;case dd.Home:t.focusDate(e.shiftKey?n.minDate:n.firstDate);break;case dd.ArrowLeft:t.focusDate(i.getPrev(n.focusedDate,"d",1));break;case dd.ArrowUp:t.focusDate(i.getPrev(n.focusedDate,"d",i.getDaysPerWeek()));break;case dd.ArrowRight:t.focusDate(i.getNext(n.focusedDate,"d",1));break;case dd.ArrowDown:t.focusDate(i.getNext(n.focusedDate,"d",i.getDaysPerWeek()));break;case dd.Enter:case dd.Space:t.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}]),e}()).\u0275prov=ce({factory:function(){return new od},token:od,providedIn:"root"}),od),fd=function(){function e(t,n,i,a){_classCallCheck(this,e),this.i18n=t,this.datepicker=n,this._keyboardService=i,this._service=a}return _createClass(e,[{key:"onKeyDown",value:function(e){this._keyboardService.processKey(e,this.datepicker)}},{key:"doSelect",value:function(e){e.context.disabled||e.hidden||this.datepicker.onDateSelect(e.date)}},{key:"month",set:function(e){this.viewModel=this._service.getMonth(e)}}]),e}(),md=function(){function e(t){_classCallCheck(this,e),this.i18n=t,this.navigation=ad,this.months=[],this.navigate=new Ma,this.select=new Ma}return _createClass(e,[{key:"onClickPrev",value:function(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}},{key:"onClickNext",value:function(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}]),e}(),gd=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function vd(e){var t=Array.from(e.querySelectorAll(gd)).filter((function(e){return-1!==e.tabIndex}));return[t[0],t[t.length-1]]}var yd,bd,kd,Cd,wd=function(){function e(t){_classCallCheck(this,e),this.i18n=t}return _createClass(e,[{key:"isMuted",value:function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}]),e}(),_d=function(){function e(t,n){_classCallCheck(this,e),this.i18n=t,this._renderer=n,this.select=new Ma,this._month=-1,this._year=-1}return _createClass(e,[{key:"changeMonth",value:function(e){this.select.emit(new zh(this.date.year,Ah(e),1))}},{key:"changeYear",value:function(e){this.select.emit(new zh(Ah(e),this.date.month,1))}},{key:"ngAfterViewChecked",value:function(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}]),e}(),xd=function e(){_classCallCheck(this,e)},Sd=function e(){_classCallCheck(this,e)},Ed=((yd=function e(){_classCallCheck(this,e),this.backdrop=!0,this.keyboard=!0}).\u0275prov=ce({factory:function(){return new yd},token:yd,providedIn:"root"}),yd),Od=function e(t,n,i){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=i},Id=function(){},Ad=((bd=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Id}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,i=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(i+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).\u0275prov=ce({factory:function(){return new bd(Me(kl))},token:bd,providedIn:"root"}),bd),Dd=function e(){_classCallCheck(this,e)},Md=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),Td=function(){function e(t,n,i,a){var r=this;_classCallCheck(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=a,t.instance.dismissEvent.subscribe((function(e){r.dismiss(e)})),this.result=new Promise((function(e,t){r._resolve=e,r._reject=t})),this.result.then(null,(function(){}))}return _createClass(e,[{key:"close",value:function(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&t._dismiss(e)}),(function(){})):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){var t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}}]),e}(),Pd=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({}),Ld=function(){function e(t,n,i){_classCallCheck(this,e),this._document=t,this._elRef=n,this._zone=i,this._closed$=new I,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ma}return _createClass(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){var e=this,t=this._elRef.nativeElement;if(this._zone.runOutsideAngular((function(){th(t,"keydown").pipe(ch(e._closed$),fl((function(t){return t.which===dd.Escape&&e.keyboard}))).subscribe((function(t){return requestAnimationFrame((function(){t.defaultPrevented||e._zone.run((function(){return e.dismiss(Pd.ESC)}))}))}));var n=!1;th(e._dialogEl.nativeElement,"mousedown").pipe(ch(e._closed$),bh((function(){return n=!1})),lh((function(){return th(t,"mouseup").pipe(ch(e._closed$),gh(1))})),fl((function(e){var n=e.target;return t===n}))).subscribe((function(){n=!0})),th(t,"click").pipe(ch(e._closed$)).subscribe((function(i){var a=i.target;!0!==e.backdrop||t!==a||n||e._zone.run((function(){return e.dismiss(Pd.BACKDROP_CLICK)})),n=!1}))})),!t.contains(document.activeElement)){var n=t.querySelector("[ngbAutofocus]"),i=vd(t)[0];(n||i||t).focus()}}},{key:"ngOnDestroy",value:function(){var e,t=this,n=this._document.body,i=this._elWithFocus;e=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return e.focus()})),t._elWithFocus=null})),this._closed$.next()}}]),e}(),Nd=((Cd=function(){function e(t,n,i,a,r,s){var l=this;_classCallCheck(this,e),this._applicationRef=t,this._injector=n,this._document=i,this._scrollBar=a,this._rendererFactory=r,this._ngZone=s,this._activeWindowCmptHasChanged=new I,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe((function(){if(l._windowCmpts.length){var e=l._windowCmpts[l._windowCmpts.length-1];(function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];l._ngZone.runOutsideAngular((function(){var e=th(t,"focusin").pipe(ch(n),B((function(e){return e.target})));th(t,"keydown").pipe(ch(n),fl((function(e){return e.which===dd.Tab})),wh(e)).subscribe((function(e){var n=_slicedToArray2(e,2),i=n[0],a=n[1],r=_slicedToArray2(vd(t),2),s=r[0],l=r[1];a!==s&&a!==t||!i.shiftKey||(l.focus(),i.preventDefault()),a!==l||i.shiftKey||(s.focus(),i.preventDefault())})),i&&th(t,"click").pipe(ch(n),wh(e),B((function(e){return e[1]}))).subscribe((function(e){return e.focus()}))}))})(0,e.location.nativeElement,l._activeWindowCmptHasChanged),l._revertAriaHidden(),l._setAriaHidden(e.location.nativeElement)}}))}return _createClass(e,[{key:"open",value:function(e,t,n,i){var a=this,r=i.container instanceof HTMLElement?i.container:Th(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),o=function(){a._modalRefs.length||(s.removeClass(a._document.body,"modal-open"),a._revertAriaHidden())};if(!r)throw new Error('The specified modal container "'.concat(i.container||"body",'" was not found in the DOM.'));var u=new Md,c=this._getContentRef(e,i.injector||t,n,u,i),h=!1!==i.backdrop?this._attachBackdrop(e,r):void 0,d=this._attachWindowComponent(e,r,c),p=new Td(d,c,h,i.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(d),p.result.then(l,l),p.result.then(o,o),u.close=function(e){p.close(e)},u.dismiss=function(e){p.dismiss(e)},this._applyWindowOptions(d.instance,i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,i),p}},{key:"dismissAll",value:function(e){this._modalRefs.forEach((function(t){return t.dismiss(e)}))}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(Dd).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var i=e.resolveComponentFactory(Ld).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach((function(n){Th(t[n])&&(e[n]=t[n])}))}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach((function(n){Th(t[n])&&(e[n]=t[n])}))}},{key:"_getContentRef",value:function(e,t,n,i,a){return n?n instanceof Ln?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,a):new Od([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Od([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new Od([[t]])}},{key:"_createFromComponent",value:function(e,t,n,i,a){var r=e.resolveComponentFactory(n),s=Nt.create({providers:[{provide:Md,useValue:i}],parent:t}),l=r.create(s),o=l.location.nativeElement;return a.scrollable&&o.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Od([[o]],l.hostView,l)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach((function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&t._modalRefs.splice(n,1)};this._modalRefs.push(e),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy((function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())}))}}]),e}()).\u0275prov=ce({factory:function(){return new Cd(Me(yr),Me(Se),Me(kl),Me(Ad),Me(dn),Me(er))},token:Cd,providedIn:"root"}),Cd),Rd=((kd=function(){function e(t,n,i,a){_classCallCheck(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=i,this._config=a}return _createClass(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}()).\u0275prov=ce({factory:function(){return new kd(Me(sn),Me(Se),Me(Nd),Me(Ed))},token:kd,providedIn:"root"}),kd),Fd=function e(){_classCallCheck(this,e)},Hd=function e(){_classCallCheck(this,e)},Bd=function e(){_classCallCheck(this,e)},Vd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isTitleTemplate",value:function(){return this.title instanceof Ln}}]),e}(),jd=function e(){_classCallCheck(this,e)},zd=function e(){_classCallCheck(this,e)},qd=function e(){_classCallCheck(this,e)},Ud=function e(){_classCallCheck(this,e)},Wd=function e(){_classCallCheck(this,e)},Yd=function e(){_classCallCheck(this,e)},Gd=function e(){_classCallCheck(this,e)},Xd=function e(){_classCallCheck(this,e)},Kd=function(){function e(){_classCallCheck(this,e),this.highlightClass="ngb-highlight"}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=Dh(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map((function(e){return Dh(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).filter((function(e){return e}));this.parts=n.length?t.split(new RegExp("(".concat(n.join("|"),")"),"gmi")):[t]}}]),e}(),$d=function(){function e(){_classCallCheck(this,e),this.activeIdx=0,this.focusFirst=!0,this.formatter=Dh,this.selectEvent=new Ma,this.activeChangeEvent=new Ma}return _createClass(e,[{key:"hasActive",value:function(){return this.activeIdx>-1&&this.activeIdx<this.results.length}},{key:"getActive",value:function(){return this.results[this.activeIdx]}},{key:"markActive",value:function(e){this.activeIdx=e,this._activeChanged()}},{key:"next",value:function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}},{key:"prev",value:function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}},{key:"resetActive",value:function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}},{key:"select",value:function(e){this.selectEvent.emit(e)}},{key:"ngOnInit",value:function(){this.resetActive()}},{key:"_activeChanged",value:function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}]),e}(),Zd=function e(){_classCallCheck(this,e)},Jd=function e(){_classCallCheck(this,e)},Qd=Qn({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function ep(e){return ns(0,[(e()(),Br(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.closeHandler()&&i),i}),null,null)),(e()(),Br(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Qr(-1,null,["\xd7"]))],null,null)}function tp(e){return ns(2,[Kr(null,0),(e()(),Hr(16777216,null,null,1,null,ep)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.component.dismissible)}),null)}var np=Vi("ngb-alert",Fh,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,tp,Qd)),la(1,638976,null,0,Fh,[Rh,fn,cn],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,Zi(t,1).dismissible)}))}),{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),ip=Qn({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function ap(e){return ns(2,[(e()(),Qr(0,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.i18n.getDayNumerals(n.date))}))}var rp=Qn({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function sp(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],(function(e,t,n){var i=!0;return"select"===t&&(i=!1!==e.component.select.emit(n)&&i),i}),mp,dp)),la(1,8437760,null,0,_d,[td,fn],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)}),null)}function lp(e){return ns(0,[(e()(),Br(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function op(e){return ns(0,[(e()(),Br(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function up(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,lp)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),Qr(3,null,[" "," "," "])),(e()(),Hr(16777216,null,null,1,null,op)),la(5,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,t.context.index>0),e(t,5,0,t.context.index!==n.months.length-1)}),(function(e,t){var n=t.component;e(t,3,0,n.i18n.getMonthFullName(t.context.$implicit.number,t.context.$implicit.year),n.i18n.getYearNumerals(t.context.$implicit.year))}))}function cp(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,up)),la(1,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Hr(0,null,null,0))],(function(e,t){e(t,1,0,t.component.months)}),null)}function hp(e){return ns(2,[(e()(),Br(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClickPrev(n)&&i),i}),null,null)),(e()(),Br(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,sp)),la(4,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,cp)),la(6,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(e()(),Br(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClickNext(n)&&i),i}),null,null)),(e()(),Br(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.showSelect),e(t,6,0,!n.showSelect)}),(function(e,t){var n=t.component;e(t,1,0,n.prevDisabled),e(t,8,0,n.nextDisabled)}))}var dp=Qn({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],data:{}});function pp(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[8,null]],{value:[0,"value"]},null),la(2,147456,null,0,ic,[cn,fn,[8,null]],{value:[0,"value"]},null),(e()(),Qr(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){var n=t.component;e(t,0,0,n.i18n.getMonthFullName(t.context.$implicit,null==n.date?null:n.date.year)),e(t,3,0,n.i18n.getMonthShortName(t.context.$implicit,null==n.date?null:n.date.year))}))}function fp(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[8,null]],{value:[0,"value"]},null),la(2,147456,null,0,ic,[cn,fn,[8,null]],{value:[0,"value"]},null),(e()(),Qr(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.component.i18n.getYearNumerals(t.context.$implicit))}))}function mp(e){return ns(2,[Ur(402653184,1,{monthSelect:0}),Ur(402653184,2,{yearSelect:0}),(e()(),Br(2,0,[[1,0],["month",1]],null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeMonth(n.target.value)&&i),i}),null,null)),(e()(),Hr(16777216,null,null,1,null,pp)),la(4,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(5,0,[[2,0],["year",1]],null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeYear(n.target.value)&&i),i}),null,null)),(e()(),Hr(16777216,null,null,1,null,fp)),la(7,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.months),e(t,7,0,n.years)}),(function(e,t){var n=t.component;e(t,2,0,n.disabled),e(t,5,0,n.disabled)}))}var gp=Qn({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function vp(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,ap,ip)),la(1,49152,null,0,wd,[td],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],(function(e,t){e(t,1,0,t.context.currentMonth,t.context.date,t.context.disabled,t.context.focused,t.context.selected)}),(function(e,t){e(t,0,0,Zi(t,1).selected,Zi(t,1).selected,Zi(t,1).isMuted(),Zi(t,1).isMuted(),Zi(t,1).focused)}))}function yp(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),Qr(1,null,[" "," "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.i18n.getMonthFullName(t.parent.context.$implicit.number,t.parent.context.$implicit.year),n.i18n.getYearNumerals(t.parent.context.$implicit.year))}))}function bp(e){return ns(0,[(e()(),Br(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,yp)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(3,0,null,null,1,"ngb-datepicker-month",[["role","grid"]],null,[[null,"keydown"]],(function(e,t,n){var i=!0;return"keydown"===t&&(i=!1!==Zi(e,4).onKeyDown(n)&&i),i}),Rp,Ep)),la(4,49152,null,0,fd,[td,hd,pd,id],{month:[0,"month"]},null)],(function(e,t){var n=t.component;e(t,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),e(t,4,0,t.context.$implicit.firstDate)}),null)}function kp(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,bp)),la(1,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Hr(0,null,null,0))],(function(e,t){e(t,1,0,t.component.model.months)}),null)}function Cp(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],(function(e,t,n){var i=!0,a=e.component;return"navigate"===t&&(i=!1!==a.onNavigateEvent(n)&&i),"select"===t&&(i=!1!==a.onNavigateDateSelect(n)&&i),i}),hp,rp)),la(1,49152,null,0,md,[td],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)}),null)}function wp(e){return ns(0,[(e()(),Hr(0,null,null,0))],null,null)}function _p(e){return ns(0,[(e()(),Hr(0,null,null,0))],null,null)}function xp(e){return ns(2,[Ur(402653184,1,{_defaultDayTemplate:0}),Ur(402653184,2,{_contentEl:0}),(e()(),Hr(0,[[1,2],["defaultDayTemplate",2]],null,0,null,vp)),(e()(),Hr(0,[["defaultContentTemplate",2]],null,0,null,kp)),(e()(),Br(4,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Cp)),la(6,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(7,0,[[2,0],["content",1]],null,2,"div",[["class","ngb-dp-content"]],[[2,"ngb-dp-months",null]],null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,wp)),la(9,540672,null,0,Mo,[Rn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Hr(16777216,null,null,1,null,_p)),la(11,540672,null,0,Mo,[Rn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,6,0,"none"!==n.navigation),e(t,9,0,(null==n.contentTemplate?null:n.contentTemplate.templateRef)||Zi(t,3)),e(t,11,0,n.footerTemplate)}),(function(e,t){e(t,7,0,!t.component.contentTemplate)}))}var Sp=Vi("ngb-datepicker",hd,(function(e){return ns(0,[(e()(),Br(0,0,null,null,4,"ngb-datepicker",[],null,null,null,xp,gp)),ua(5120,null,Iu,(function(e){return[e]}),[hd]),ua(512,null,id,id,[Gh,td]),la(3,4964352,null,1,hd,[id,Gh,td,rd,Mt,cn,ud,er],null,null),Ur(335544320,1,{contentTemplate:0})],(function(e,t){e(t,3,0)}),null)}),{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",dateSelect:"dateSelect",select:"select"},[]),Ep=Qn({encapsulation:2,styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],data:{}});function Op(e){return ns(0,[(e()(),Br(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function Ip(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"],["role","columnheader"]],null,null,null,null,null)),(e()(),Qr(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekdayShortName(t.context.$implicit))}))}function Ap(e){return ns(0,[(e()(),Br(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays"],["role","row"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Op)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,Ip)),la(4,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.datepicker.showWeekNumbers),e(t,4,0,n.viewModel.weekdays)}),null)}function Dp(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(e()(),Qr(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekNumerals(t.parent.parent.context.$implicit.number))}))}function Mp(e){return ns(0,[(e()(),Hr(0,null,null,0))],null,null)}function Tp(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,Mp)),la(1,540672,null,0,Mo,[Rn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),Hr(0,null,null,0))],(function(e,t){e(t,1,0,t.parent.context.$implicit.context,t.component.datepicker.dayTemplate)}),null)}function Pp(e){return ns(0,[(e()(),Br(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.doSelect(e.context.$implicit),i=!1!==n.preventDefault()&&i),i}),null,null)),(e()(),Hr(16777216,null,null,1,null,Tp)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.context.$implicit.hidden)}),(function(e,t){e(t,0,0,t.context.$implicit.context.disabled,t.context.$implicit.tabindex,t.context.$implicit.hidden,t.context.$implicit.context.today,t.context.$implicit.ariaLabel)}))}function Lp(e){return ns(0,[(e()(),Br(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Dp)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,Pp)),la(4,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.datepicker.showWeekNumbers),e(t,4,0,t.parent.context.$implicit.days)}),null)}function Np(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,Lp)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(0,null,null,0))],(function(e,t){e(t,1,0,!t.context.$implicit.collapsed)}),null)}function Rp(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,Ap)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,Np)),la(3,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.datepicker.showWeekdays),e(t,3,0,n.viewModel.weeks)}),null)}var Fp=Qn({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function Hp(e){return ns(0,[(e()(),Qr(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.title)}))}function Bp(e){return ns(0,[(e()(),Hr(0,null,null,0))],null,null)}function Vp(e){return ns(0,[(e()(),Br(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(e()(),Hr(0,[["simpleTitle",2]],null,0,null,Hp)),(e()(),Hr(16777216,null,null,1,null,Bp)),la(3,540672,null,0,Mo,[Rn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.context,n.isTitleTemplate()?n.title:Zi(t,1))}),null)}function jp(e){return ns(2,[(e()(),Br(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Vp)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),Kr(null,0)],(function(e,t){e(t,2,0,null!=t.component.title)}),null)}var zp=Vi("ngb-popover-window",Vd,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,jp,Fp)),la(1,49152,null,0,Vd,[],null,null)],null,(function(e,t){e(t,0,0,"popover"+(Zi(t,1).popoverClass?" "+Zi(t,1).popoverClass:""),Zi(t,1).id)}))}),{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),qp=Qn({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function Up(e){return ns(2,[(e()(),Br(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),Kr(null,0)],null,null)}var Wp=Vi("ngb-tooltip-window",Gd,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,Up,qp)),la(1,49152,null,0,Gd,[],null,null)],null,(function(e,t){e(t,0,0,"tooltip show"+(Zi(t,1).tooltipClass?" "+Zi(t,1).tooltipClass:""),Zi(t,1).id)}))}),{id:"id",tooltipClass:"tooltipClass"},{},["*"]),Yp=Qn({encapsulation:2,styles:[],data:{}});function Gp(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-highlight",[],null,null,null,nf,Jp)),la(1,573440,null,0,Kd,[],{result:[0,"result"],term:[1,"term"]},null)],(function(e,t){var n=t.context.formatter(t.context.result);e(t,1,0,n,t.context.term)}),null)}function Xp(e){return ns(0,[(e()(),Hr(0,null,null,0))],null,null)}function Kp(e){return ns(0,[(e()(),Br(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"mouseenter"===t&&(i=!1!==a.markActive(e.context.index)&&i),"click"===t&&(i=!1!==a.select(e.context.$implicit)&&i),i}),null,null)),(e()(),Hr(16777216,null,null,2,null,Xp)),la(2,540672,null,0,Mo,[Rn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zr(3,{result:0,term:1,formatter:2})],(function(e,t){var n=t.component,i=e(t,3,0,t.context.$implicit,n.term,n.formatter);e(t,2,0,i,n.resultTemplate||Zi(t.parent,0))}),(function(e,t){var n=t.component;e(t,0,0,n.id+"-"+t.context.index,t.context.index===n.activeIdx)}))}function $p(e){return ns(0,[(e()(),Hr(0,[["rt",2]],null,0,null,Gp)),(e()(),Hr(16777216,null,null,1,null,Kp)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.results)}),null)}var Zp=Vi("ngb-typeahead-window",$d,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==n.preventDefault()&&i),i}),$p,Yp)),la(1,114688,null,0,$d,[],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,Zi(t,1).id)}))}),{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),Jp=Qn({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function Qp(e){return ns(0,[(e()(),Br(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(e()(),Qr(1,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.highlightClass),e(t,1,0,t.parent.context.$implicit)}))}function ef(e){return ns(0,[(e()(),Qr(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit)}))}function tf(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,Qp)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Hr(0,[["even",2]],null,0,null,ef))],(function(e,t){e(t,1,0,t.context.odd,Zi(t,2))}),null)}function nf(e){return ns(2,[(e()(),Hr(16777216,null,null,1,null,tf)),la(1,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.parts)}),null)}var af=Qn({encapsulation:2,styles:[],data:{}});function rf(e){return ns(0,[],null,null)}var sf=Vi("ngb-modal-backdrop",Dd,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,rf,af)),la(1,49152,null,0,Dd,[],null,null)],null,(function(e,t){e(t,0,0,"modal-backdrop fade show"+(Zi(t,1).backdropClass?" "+Zi(t,1).backdropClass:""))}))}),{backdropClass:"backdropClass"},{},[]),lf=Qn({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function of(e){return ns(0,[Ur(402653184,1,{_dialogEl:0}),(e()(),Br(1,0,[[1,0],["dialog",1]],null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(e()(),Br(2,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),Kr(null,0)],null,(function(e,t){var n=t.component;e(t,1,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))}))}var uf=Vi("ngb-modal-window",Ld,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],null,null,of,lf)),la(1,4440064,null,0,Ld,[kl,cn,er],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,"modal fade show d-block"+(Zi(t,1).windowClass?" "+Zi(t,1).windowClass:""),!0,Zi(t,1).ariaLabelledBy,Zi(t,1).ariaDescribedBy)}))}),{ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]);function cf(e){return(cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){hf(e,t,n[t])}))}return e}function pf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(o){a=!0,r=o}finally{try{i||null==l.return||l.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ff={},mf={};try{"undefined"!=typeof window&&(ff=window),"undefined"!=typeof document&&(mf=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch($K){}var gf=(ff.navigator||{}).userAgent,vf=void 0===gf?"":gf,yf=ff,bf=mf,kf=!!bf.documentElement&&!!bf.head&&"function"==typeof bf.addEventListener&&"function"==typeof bf.createElement,Cf=(~vf.indexOf("MSIE")||vf.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),wf=Cf.concat([11,12,13,14,15,16,17,18,19,20]),_f={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},xf=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",_f.GROUP,_f.SWAP_OPACITY,_f.PRIMARY,_f.SECONDARY].concat(Cf.map((function(e){return"".concat(e,"x")}))).concat(wf.map((function(e){return"w-".concat(e)}))),yf.FontAwesomeConfig||{});bf&&"function"==typeof bf.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=pf(e,2),n=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=bf.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t[0]));null!=i&&(xf[n]=i)}));var Sf=df({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},xf);Sf.autoReplaceSvg||(Sf.observeMutations=!1);var Ef=df({},Sf);yf.FontAwesomeConfig=Ef;var Of=yf||{};Of.___FONT_AWESOME___||(Of.___FONT_AWESOME___={}),Of.___FONT_AWESOME___.styles||(Of.___FONT_AWESOME___.styles={}),Of.___FONT_AWESOME___.hooks||(Of.___FONT_AWESOME___.hooks={}),Of.___FONT_AWESOME___.shims||(Of.___FONT_AWESOME___.shims=[]);var If=Of.___FONT_AWESOME___,Af=[];kf&&((bf.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(bf.readyState)||bf.addEventListener("DOMContentLoaded",(function e(){bf.removeEventListener("DOMContentLoaded",e),Af.map((function(e){return e()}))})));var Df,Mf=function(){},Tf="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Pf="undefined"==typeof setImmediate?setTimeout:setImmediate,Lf=[];function Nf(){for(var e=0;e<Lf.length;e++)Lf[e][0](Lf[e][1]);Lf=[],Df=!1}function Rf(e,t){Lf.push([e,t]),Df||(Df=!0,Pf(Nf,0))}function Ff(e){var t=e.owner,n=t._state,i=t._data,a=e[n],r=e.then;if("function"==typeof a){n="fulfilled";try{i=a(i)}catch($K){jf(r,$K)}}Hf(r,i)||("fulfilled"===n&&Bf(r,i),"rejected"===n&&jf(r,i))}function Hf(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===cf(t))){var i=t.then;if("function"==typeof i)return i.call(t,(function(i){n||(n=!0,t===i?Vf(e,i):Bf(e,i))}),(function(t){n||(n=!0,jf(e,t))})),!0}}catch($K){return n||jf(e,$K),!0}return!1}function Bf(e,t){e!==t&&Hf(e,t)||Vf(e,t)}function Vf(e,t){"pending"===e._state&&(e._state="settled",e._data=t,Rf(qf,e))}function jf(e,t){"pending"===e._state&&(e._state="settled",e._data=t,Rf(Uf,e))}function zf(e){e._then=e._then.forEach(Ff)}function qf(e){e._state="fulfilled",zf(e)}function Uf(e){e._state="rejected",zf(e),!e._handled&&Tf&&global.process.emit("unhandledRejection",e._data,e)}function Wf(e){global.process.emit("rejectionHandled",e)}function Yf(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof Yf==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){jf(t,e)}try{e((function(e){Bf(t,e)}),n)}catch($K){n($K)}}(e,this)}Yf.prototype={constructor:Yf,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(Mf),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&Tf&&Rf(Wf,this)),"fulfilled"===this._state||"rejected"===this._state?Rf(Ff,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},Yf.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new Yf((function(t,n){var i=[],a=0;function r(e){return a++,function(n){i[e]=n,--a||t(i)}}for(var s,l=0;l<e.length;l++)(s=e[l])&&"function"==typeof s.then?s.then(r(l),n):i[l]=s;a||t(i)}))},Yf.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new Yf((function(t,n){for(var i,a=0;a<e.length;a++)(i=e[a])&&"function"==typeof i.then?i.then(t,n):t(i)}))},Yf.resolve=function(e){return e&&"object"===cf(e)&&e.constructor===Yf?e:new Yf((function(t){t(e)}))},Yf.reject=function(e){return new Yf((function(t,n){n(e)}))};var Gf={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Xf(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Kf(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $f(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function Zf(e){return e.size!==Gf.size||e.x!==Gf.x||e.y!==Gf.y||e.rotate!==Gf.rotate||e.flipX||e.flipY}function Jf(e){var t=e.transform,n=e.iconWidth,i={transform:"translate(".concat(e.containerWidth/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),r="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(r," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var Qf={x:0,y:0,width:"100%",height:"100%"};function em(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function tm(e){var t=e.icons,n=t.main,i=t.mask,a=e.prefix,r=e.iconName,s=e.transform,l=e.symbol,o=e.title,u=e.maskId,c=e.titleId,h=e.extra,d=e.watchable,p=void 0!==d&&d,f=i.found?i:n,m=f.width,g=f.height,v="fa-w-".concat(Math.ceil(m/g*16)),y=[Ef.replacementClass,r?"".concat(Ef.familyPrefix,"-").concat(r):"",v].filter((function(e){return-1===h.classes.indexOf(e)})).concat(h.classes).join(" "),b={children:[],attributes:df({},h.attributes,{"data-prefix":a,"data-icon":r,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})};p&&(b.attributes["data-fa-i2svg"]=""),o&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||Xf())},children:[o]});var k=df({},b,{prefix:a,iconName:r,main:n,mask:i,maskId:u,transform:s,symbol:l,styles:h.styles}),C=i.found&&n.found?function(e){var t,n=e.children,i=e.attributes,a=e.main,r=e.mask,s=e.maskId,l=a.icon,o=r.icon,u=Jf({transform:e.transform,containerWidth:r.width,iconWidth:a.width}),c={tag:"rect",attributes:df({},Qf,{fill:"white"})},h=l.children?{children:l.children.map(em)}:{},d={tag:"g",attributes:df({},u.inner),children:[em(df({tag:l.tag,attributes:df({},l.attributes,u.path)},h))]},p={tag:"g",attributes:df({},u.outer),children:[d]},f="mask-".concat(s||Xf()),m="clip-".concat(s||Xf()),g={tag:"mask",attributes:df({},Qf,{id:f,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[c,p]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:(t=o,"g"===t.tag?t.children:[t])},g]};return n.push(v,{tag:"rect",attributes:df({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(f,")")},Qf)}),{children:n,attributes:i}}(k):function(e){var t=e.children,n=e.attributes,i=e.main,a=e.transform,r=$f(e.styles);if(r.length>0&&(n.style=r),Zf(a)){var s=Jf({transform:a,containerWidth:i.width,iconWidth:i.width});t.push({tag:"g",attributes:df({},s.outer),children:[{tag:"g",attributes:df({},s.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:df({},i.icon.attributes,s.path)}]}]})}else t.push(i.icon);return{children:t,attributes:n}}(k),w=C.attributes;return k.children=C.children,k.attributes=w,l?function(e){var t=e.iconName,n=e.children,i=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:df({},e.attributes,{id:!0===i?"".concat(e.prefix,"-").concat(Ef.familyPrefix,"-").concat(t):i}),children:n}]}]}(k):function(e){var t=e.children,n=e.main,i=e.mask,a=e.attributes,r=e.styles,s=e.transform;if(Zf(s)&&n.found&&!i.found){var l={x:n.width/n.height/2,y:.5};a.style=$f(df({},r,{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(k)}var nm=function(e,t,n,i){var a,r,s,l=Object.keys(e),o=l.length,u=void 0!==i?function(e,t){return function(n,i,a,r){return e.call(t,n,i,a,r)}}(t,i):t;for(void 0===n?(a=1,s=e[l[0]]):(a=0,s=n);a<o;a++)s=u(s,e[r=l[a]],r,e);return s};function im(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,a=void 0!==i&&i,r=Object.keys(t).reduce((function(e,n){var i=t[n];return i.icon?e[i.iconName]=i.icon:e[n]=i,e}),{});"function"!=typeof If.hooks.addPack||a?If.styles[e]=df({},If.styles[e]||{},r):If.hooks.addPack(e,r),"fas"===e&&im("fa",t)}var am=If.styles,rm=If.shims,sm=function(){var e=function(e){return nm(am,(function(t,n,i){return t[i]=nm(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var i=t[2];return e[n]=n,i.forEach((function(t){e[t]=n})),e}));var t="far"in am;nm(rm,(function(e,n){var i=n[1];return"far"!==i||t||(i="fas"),e[n[0]]={prefix:i,iconName:n[2]},e}),{})};function lm(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function om(e){var t=e.tag,n=e.attributes,i=void 0===n?{}:n,a=e.children,r=void 0===a?[]:a;return"string"==typeof e?Kf(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Kf(e[n]),'" ')}),"").trim()}(i),">").concat(r.map(om).join(""),"</").concat(t,">")}function um(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}sm(),(um.prototype=Object.create(Error.prototype)).constructor=um;var cm={fill:"currentColor"},hm={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},dm=(df({},cm,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),df({},hm,{attributeName:"opacity"}));function pm(e){var t=e[0],n=e[1],i=pf(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(Ef.familyPrefix,"-").concat(_f.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ef.familyPrefix,"-").concat(_f.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Ef.familyPrefix,"-").concat(_f.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}function fm(){Ef.autoAddCss&&!wm&&(function(e){if(e&&kf){var t=bf.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=bf.head.childNodes,i=null,a=n.length-1;a>-1;a--){var r=n[a],s=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(i=r)}bf.head.insertBefore(t,i)}}(function(){var e="svg-inline--fa",t=Ef.familyPrefix,n=Ef.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==t||n!==e){var a=new RegExp("\\.".concat("fa","\\-"),"g"),r=new RegExp("\\--".concat("fa","\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(r,"--".concat(t,"-")).replace(s,".".concat(n))}return i}()),wm=!0)}function mm(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return om(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(kf){var t=bf.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function gm(e){var t=e.prefix,n=void 0===t?"fa":t,i=e.iconName;if(i)return lm(Cm.definitions,n,i)||lm(If.styles,n,i)}df({},cm,{cx:"256",cy:"364",r:"28"}),df({},hm,{attributeName:"r",values:"28;14;28;28;14;28;"}),df({},dm,{values:"1;0;1;1;0;1;"}),df({},cm,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),df({},dm,{values:"1;0;0;0;0;1;"}),df({},cm,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),df({},dm,{values:"0;0;1;1;0;0;"});var vm,ym,bm,km,Cm=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t;return(t=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.reduce(this._pullDefinitions,{});Object.keys(a).forEach((function(t){e.definitions[t]=df({},e.definitions[t]||{},a[t]),im(t,a[t]),sm()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var i=n[t],a=i.prefix,r=i.iconName,s=i.icon;e[a]||(e[a]={}),e[a][r]=s})),e}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}()),wm=!1,_m=(vm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?Gf:n,a=t.symbol,r=void 0!==a&&a,s=t.mask,l=void 0===s?null:s,o=t.maskId,u=void 0===o?null:o,c=t.title,h=void 0===c?null:c,d=t.titleId,p=void 0===d?null:d,f=t.classes,m=void 0===f?[]:f,g=t.attributes,v=void 0===g?{}:g,y=t.styles,b=void 0===y?{}:y;if(e){var k=e.prefix,C=e.iconName,w=e.icon;return mm(df({type:"icon"},e),(function(){return fm(),Ef.autoA11y&&(h?v["aria-labelledby"]="".concat(Ef.replacementClass,"-title-").concat(p||Xf()):(v["aria-hidden"]="true",v.focusable="false")),tm({icons:{main:pm(w),mask:l?pm(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:C,transform:df({},Gf,i),symbol:r,title:h,maskId:u,titleId:p,extra:{attributes:v,styles:b,classes:m}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:gm(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:gm(i||{})),vm(n,df({},t,{mask:i}))}),xm=((bm=function e(){_classCallCheck(this,e),this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}).\u0275prov=ce({factory:function(){return new bm},token:bm,providedIn:"root"}),bm),Sm=((ym=function(){function e(){_classCallCheck(this,e),this.definitions={}}return _createClass(e,[{key:"addIcons",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,a=t;i<a.length;i++){var r=a[i];r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}}},{key:"addIconPacks",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=function(){var t=s[r],n=Object.keys(t).map((function(e){return t[e]}));e.addIcons.apply(e,_toConsumableArray(n))},r=0,s=n;r<s.length;r++)a()}},{key:"getIconDefinition",value:function(e,t){return e in this.definitions&&t in this.definitions[e]?this.definitions[e][t]:null}}]),e}()).\u0275prov=ce({factory:function(){return new ym},token:ym,providedIn:"root"}),ym),Em=function(){function e(){_classCallCheck(this,e),this.stackItemSize="1x"}return _createClass(e,[{key:"ngOnChanges",value:function(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}]),e}(),Om=function(){function e(t,n,i,a){_classCallCheck(this,e),this.sanitizer=t,this.config=n,this.iconLibrary=i,this.stackItem=a,this.classes=[]}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(null==this.icon&&null==this.config.fallbackIcon)return function(){throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")}();var t;if(t=null==this.icon?this.config.fallbackIcon:this.icon,e){var n=this.findIconDefinition(t);if(null!=n){var i=this.buildParams();this.renderIcon(n,i)}}}},{key:"render",value:function(){this.ngOnChanges({})}},{key:"findIconDefinition",value:function(e){var t=function(e,t){return void 0!==(n=e).prefix&&void 0!==n.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:t,iconName:e}:void 0;var n}(e,this.config.defaultPrefix);if("icon"in t)return t;var n=this.iconLibrary.getIconDefinition(t.prefix,t.iconName);if(null!=n)return n;var i=gm(t);if(null!=i){var a="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+a);else if(!this.config.globalLibrary)throw new Error(a);return i}return function(e){throw new Error("Could not find icon with iconName=".concat(e.iconName," and prefix=").concat(e.prefix," in the icon library."))}(t),null}},{key:"buildParams",value:function(){var e,t,n,i,a,r={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},s="string"==typeof this.transform?(e=this.transform,t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0},e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),i=n[0],a=n.slice(1).join("-");if(i&&"h"===a)return e.flipX=!0,e;if(i&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(i){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e}),t):t):this.transform;return{title:this.title,transform:s,classes:[].concat(_toConsumableArray((n=r,_defineProperty2(i={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip},"fa-".concat(n.size),null!==n.size),_defineProperty2(i,"fa-rotate-".concat(n.rotate),null!==n.rotate),_defineProperty2(i,"fa-pull-".concat(n.pull),null!==n.pull),_defineProperty2(i,"fa-stack-".concat(n.stackItemSize),null!=n.stackItemSize),a=i,Object.keys(a).map((function(e){return a[e]?e:null})).filter((function(e){return e})))),_toConsumableArray(this.classes)),mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}},{key:"renderIcon",value:function(e,t){var n=_m(e,t);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}]),e}(),Im=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"findIconDefinition",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"findIconDefinition",this).call(this,e);if(null!=t&&"fad"!==t.prefix)throw new Error("The specified icon does not appear to be a Duotone icon. Check that you specified the correct style: "+"<fa-duotone-icon [icon]=\"['fab', '".concat(t.iconName,"']\"></fa-duotone-icon> ")+'or use: <fa-icon icon="'.concat(t.iconName,'"></fa-icon> instead.'));return t}},{key:"buildParams",value:function(){var e=_get(_getPrototypeOf(n.prototype),"buildParams",this).call(this);return!0!==this.swapOpacity&&"true"!==this.swapOpacity||e.classes.push("fa-swap-opacity"),null!=this.primaryOpacity&&(e.styles["--fa-primary-opacity"]=this.primaryOpacity.toString()),null!=this.secondaryOpacity&&(e.styles["--fa-secondary-opacity"]=this.secondaryOpacity.toString()),null!=this.primaryColor&&(e.styles["--fa-primary-color"]=this.primaryColor),null!=this.secondaryColor&&(e.styles["--fa-secondary-color"]=this.secondaryColor),e}}]),n}(Om),Am=function e(){_classCallCheck(this,e)},Dm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Mm||(Mm=document.querySelector("base"))?Mm.getAttribute("href"):null;return null==n?null:(t=n,km||(km=document.createElement("a")),km.setAttribute("href",t),"/"===km.pathname.charAt(0)?km.pathname:"/"+km.pathname)}},{key:"resetBaseElement",value:function(){Mm=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return ko(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,vl||(vl=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),Mm=null,Tm=new xe("TRANSITION_ID"),Pm=[{provide:La,useFactory:function(e,t,n){return function(){n.get(Na).donePromise.then((function(){var n=yl();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Tm,kl,Nt],multi:!0}],Lm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){_e.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},_e.getAllAngularTestabilities=function(){return e.getAllTestabilities()},_e.getAllAngularRootElements=function(){return e.getAllRootElements()},_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push((function(e){var t=_e.getAllAngularTestabilities(),n=t.length,i=!1,a=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(a)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?yl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){!function(e){hr=e}(new e)}}]),e}();function Nm(e,t){"undefined"!=typeof COMPILED&&COMPILED||((_e.ng=_e.ng||{})[e]=t)}var Rm={ApplicationRef:yr,NgZone:er};function Fm(e){return Ar(e)}var Hm=new xe("EventManagerPlugins"),Bm=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=i})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var a=n[i];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}(),Vm=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=yl().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),jm=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),zm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return yl().remove(e)}))}}]),n}(jm),qm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Um=/%COMP%/g;function Wm(e,t,n){for(var i=0;i<t.length;i++){var a=t[i];Array.isArray(a)?Wm(e,a,n):(a=a.replace(Um,e),n.push(a))}return n}function Ym(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Gm,Xm,Km=function(){function e(t,n,i){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $m(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ve.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Zm(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case Ve.Native:case Ve.ShadowDom:return new Jm(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=Wm(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),$m=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(qm[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var a=qm[i];a?e.setAttributeNS(a,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=qm[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&pn.DashCase?e.style.setProperty(t,n,i&pn.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&pn.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ym(n)):this.eventManager.addEventListener(e,t,Ym(n))}}]),e}(),Zm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;_classCallCheck(this,n),(s=t.call(this,e)).component=a;var l,o=Wm(r+"-"+a.id,a.styles,[]);return i.addStyles(o),s.contentAttr="_ngcontent-%COMP%".replace(Um,r+"-"+a.id),s.hostAttr=(l=r+"-"+a.id,"_nghost-%COMP%".replace(Um,l)),s}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}($m),Jm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=a,s.component=r,s.shadowRoot=r.encapsulation===Ve.ShadowDom?a.attachShadow({mode:"open"}):a.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var l=Wm(r.id,r.styles,[]),o=0;o<l.length;o++){var u=document.createElement("style");u.textContent=l[o],s.shadowRoot.appendChild(u)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}($m),Qm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Vm),eg={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tg=new xe("HammerGestureConfig"),ng=new xe("HammerLoader"),ig=function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}(),ag=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this,e))._config=i,s.console=a,s.loader=r,s}return _createClass(n,[{key:"supports",value:function(e){return!(!eg.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(e,t,n){var i=this,a=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var r=!1,s=function(){r=!0};return this.loader().then((function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});r||(s=i.addEventListener(e,t,n))})).catch((function(){i.console.warn('The "'.concat(t,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),s=function(){}})),function(){s()}}return a.runOutsideAngular((function(){var r=i._config.buildHammer(e),s=function(e){a.runGuarded((function(){n(e)}))};return r.on(t,s),function(){r.off(t,s),"function"==typeof r.destroy&&r.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),n}(Vm),rg=["alt","control","meta","shift"],sg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},og={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},ug=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var a=n.parseEventName(t),r=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return yl().onAndCancel(e,a.domEventName,r)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var a=n._normalizeKey(t.pop()),r="";if(rg.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")})),r+=a,0!=t.length||0===a.length)return null;var s={};return s.domEventName=i,s.fullKey=r,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&lg.hasOwnProperty(t)&&(t=lg[t]))}return sg[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),rg.forEach((function(i){i!=n&&(0,og[i])(e)&&(t+=i+".")})),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(a){n.getEventFullKey(a)===e&&i.runGuarded((function(){return t(a)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Vm),cg=((Xm=function e(){_classCallCheck(this,e)}).\u0275prov=ce({factory:function(){return Me(hg)},token:Xm,providedIn:"root"}),Xm),hg=((Gm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case St.NONE:return t;case St.HTML:return Qe(t,"HTML")?Je(t):function(e,t){var n=null;try{ct=ct||new at(e);var i=t?String(t):"";n=ct.getInertBodyElement(i);var a=5,r=i;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,i=r,r=n.innerHTML,n=ct.getInertBodyElement(i)}while(i!==r);var s=new kt,l=s.sanitizeChildren(xt(n)||n);return it()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n)for(var o=xt(n)||n;o.firstChild;)o.removeChild(o.firstChild)}}(this._doc,String(t));case St.STYLE:return Qe(t,"Style")?Je(t):function(e){if(!(e=String(e).trim()))return"";var t=e.match(Ot);return t&&lt(t[1])===t[1]||e.match(Et)&&function(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var a=e.charAt(i);"'"===a&&n?t=!t:'"'===a&&t&&(n=!n)}return t&&n}(e)?e:(it()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t);case St.SCRIPT:if(Qe(t,"Script"))return Je(t);throw new Error("unsafe value used in a script context");case St.URL:return et(t),Qe(t,"URL")?Je(t):lt(String(t));case St.RESOURCE_URL:if(Qe(t,"ResourceURL"))return Je(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return new Ge(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new Xe(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new Ke(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new $e(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Ze(e)}}]),n}(cg)).\u0275prov=ce({factory:function(){return e=Me(Se),new hg(e.get(kl));var e},token:Gm,providedIn:"root"}),Gm);function dg(){return new We}var pg=fr(Tr,"browser",[{provide:Va,useValue:"browser"},{provide:Ba,useValue:function(){Dm.makeCurrent(),Lm.init()},multi:!0},{provide:kl,useFactory:function(){return function(e){e}(document),document},deps:[]}]),fg=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Ra,useValue:t.appId},{provide:Tm,useExisting:Ra},Pm]}}}]),e}();"undefined"!=typeof window&&window;var mg=Qn({encapsulation:2,styles:[],data:{}});function gg(e){return ns(0,[],null,null)}var vg=Vi("fa-icon",Om,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,gg,mg)),la(1,573440,null,0,Om,[cg,xm,Sm,[2,Em]],null,null)],null,(function(e,t){e(t,0,0,Zi(t,1).title,Zi(t,1).renderedIconHTML)}))}),{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},{},[]),yg=Qn({encapsulation:2,styles:[],data:{}});function bg(e){return ns(0,[],null,null)}var kg=Vi("fa-duotone-icon",Im,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"fa-duotone-icon",[],[[8,"innerHTML",1]],null,null,bg,yg)),la(1,573440,null,0,Im,[cg,xm,Sm,[2,Em]],null,null)],null,(function(e,t){e(t,0,0,Zi(t,1).renderedIconHTML)}))}),{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole",swapOpacity:"swapOpacity",primaryOpacity:"primaryOpacity",secondaryOpacity:"secondaryOpacity",primaryColor:"primaryColor",secondaryColor:"secondaryColor"},{},[]);function Cg(e){return null!=e&&"false"!=="".concat(e)}function wg(e){return Array.isArray(e)?e:[e]}function _g(e){return null==e?"":"string"==typeof e?e:"".concat(e,"px")}function xg(e){return e instanceof cn?e.nativeElement:e}var Sg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).scheduler=e,a.work=i,a}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(Xc),Eg=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,a=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<a&&(e=n.shift()));if(this.active=!1,t){for(;++i<a&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}($c))(Sg),Og=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ig(e,this.durationSelector))}}]),e}(),Ig=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).durationSelector=i,a.hasValue=!1,a}return _createClass(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=F(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(H);function Ag(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zc;return t=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Jc(t)?i=Number(t)<1?1:Number(t):D(t)&&(n=t),D(n)||(n=Zc),new w((function(t){var a=Jc(e)?e:+e-n.now();return n.schedule(Qc,a,{index:0,period:i,subscriber:t})}))}(e,n)},function(e){return e.lift(new Og(t))}}var Dg,Mg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).scheduler=e,a.work=i,a}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):e.flush(this)}}]),n}(Xc),Tg=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}($c))(Mg),Pg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Lg(e,this.scheduler,this.delay))}}]),e}(),Lg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(a=t.call(this,e)).scheduler=i,a.delay=r,a}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new Ng(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(Ih.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(Ih.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Ih.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(m),Ng=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},Rg=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=r,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=a<1?1:a,a===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new Fg(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,r=i.length;if(this.closed)throw new S;if(this.isStopped||this.hasError?t=d.EMPTY:(this.observers.push(e),t=new E(this,e)),a&&e.add(e=new Lg(e,a)),n)for(var s=0;s<r&&!e.closed;s++)e.next(i[s]);else for(var l=0;l<r&&!e.closed;l++)e.next(i[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||Tg).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,a=i.length,r=0;r<a&&!(e-i[r].time<n);)r++;return a>t&&(r=Math.max(r,a-t)),r>0&&i.splice(0,r),i}}]),n}(I),Fg=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n};try{Dg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ZK){Dg=!1}var Hg,Bg,Vg,jg,zg=((Bg=function e(t){_classCallCheck(this,e),this._platformId=t,this.isBrowser=this._platformId?Bo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275prov=ce({factory:function(){return new Bg(Me(Va,8))},token:Bg,providedIn:"root"}),Bg),qg=function e(){_classCallCheck(this,e)},Ug=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Wg(){if(Hg)return Hg;if("object"!=typeof document||!document)return Hg=new Set(Ug);var e=document.createElement("input");return Hg=new Set(Ug.filter((function(t){return e.setAttribute("type",t),e.type===t})))}function Yg(e){return function(){if(null==Vg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Vg=!0}}))}finally{Vg=Vg||!1}return Vg}()?e:!!e.capture}var Gg,Xg,Kg,$g=((Kg=function(){function e(){_classCallCheck(this,e),this._listeners=[]}return _createClass(e,[{key:"notify",value:function(e,t){var n,i=_createForOfIteratorHelper(this._listeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(e,t)}catch(a){i.e(a)}finally{i.f()}}},{key:"listen",value:function(e){var t=this;return this._listeners.push(e),function(){t._listeners=t._listeners.filter((function(t){return e!==t}))}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),e}()).\u0275prov=ce({factory:function(){return new Kg},token:Kg,providedIn:"root"}),Kg),Zg=((Xg=function(){function e(t,n,i){_classCallCheck(this,e),this._ngZone=t,this._platform=n,this._scrolled=new I,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return _createClass(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe((function(){return t._scrolled.next(e)})))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new w((function(n){e._globalSubscription||e._addGlobalListener();var i=t>0?e._scrolled.pipe(Ag(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){i.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}})):dl()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(t,n){return e.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(fl((function(e){return!e||n.indexOf(e)>-1})))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach((function(i,a){t._scrollableContainsElement(a,e)&&n.push(a)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return th(e._getWindow().document,"scroll").subscribe((function(){return e._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}()).\u0275prov=ce({factory:function(){return new Xg(Me(er),Me(zg),Me(kl,8))},token:Xg,providedIn:"root"}),Xg),Jg=((Gg=function(){function e(t,n,i){var a=this;_classCallCheck(this,e),this._platform=t,this._document=i,n.runOutsideAngular((function(){var e=a._getWindow();a._change=t.isBrowser?K(th(e,"resize"),th(e,"orientationchange")):dl(),a._invalidateCache=a.change().subscribe((function(){return a._updateViewportSize()}))}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,i=t.height;return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._getDocument(),t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(Ag(e)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}()).\u0275prov=ce({factory:function(){return new Gg(Me(zg),Me(er),Me(kl,8))},token:Gg,providedIn:"root"}),Gg),Qg=function e(){_classCallCheck(this,e)},ev=function e(){_classCallCheck(this,e)};function tv(){throw Error("Host already has a portal attached")}var nv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&tv(),this._attachedHost=e,e.attach(this)}},{key:"detach",value:function(){var e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),e}(),iv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this)).component=e,s.viewContainerRef=i,s.injector=a,s.componentFactoryResolver=r,s}return n}(nv),av=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this)).templateRef=e,r.viewContainerRef=i,r.context=a,r}return _createClass(n,[{key:"attach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=t,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,e)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(nv),rv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e instanceof cn?e.nativeElement:e,i}return n}(nv),sv=function(){function e(){_classCallCheck(this,e),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(e,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&tv(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof iv?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof av?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof rv?(this._attachedPortal=e,this.attachDomPortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),e}(),lv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s){var l;return _classCallCheck(this,n),(l=t.call(this)).outletElement=e,l._componentFactoryResolver=i,l._appRef=a,l._defaultInjector=r,l.attachDomPortal=function(e){if(!l._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");var i=l._document.createComment("dom-portal");t.parentNode.insertBefore(i,t),l.outletElement.appendChild(t),_get(_getPrototypeOf(n.prototype),"setDisposeFn",_assertThisInitialized(l)).call(_assertThisInitialized(l),(function(){i.parentNode&&i.parentNode.replaceChild(t,i)}))},l._document=s,l}return _createClass(n,[{key:"attachComponentPortal",value:function(e){var t,n=this,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn((function(){return t.destroy()}))):(t=i.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn((function(){n._appRef.detachView(t.hostView),t.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(t)),t}},{key:"attachTemplatePortal",value:function(e){var t=this,n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context);return i.detectChanges(),i.rootNodes.forEach((function(e){return t.outletElement.appendChild(e)})),this.setDisposeFn((function(){var e=n.indexOf(i);-1!==e&&n.remove(e)})),i}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(sv),ov=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this))._componentFactoryResolver=e,r._viewContainerRef=i,r._isInitialized=!1,r.attached=new Ma,r.attachDomPortal=function(e){if(!r._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");var i=r._document.createComment("dom-portal");e.setAttachedHost(_assertThisInitialized(r)),t.parentNode.insertBefore(i,t),r._getRootNode().appendChild(t),_get(_getPrototypeOf(n.prototype),"setDisposeFn",_assertThisInitialized(r)).call(_assertThisInitialized(r),(function(){i.parentNode&&i.parentNode.replaceChild(t,i)}))},r._document=a,r}return _createClass(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(e){e.setAttachedHost(this);var t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=t.createComponent(i,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),_get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return a.destroy()})),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}},{key:"attachTemplatePortal",value:function(e){var t=this;e.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return t._viewContainerRef.clear()})),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(n.prototype),"detach",this).call(this),e&&_get(_getPrototypeOf(n.prototype),"attach",this).call(this,e),this._attachedPortal=e)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}(sv),uv=function e(){_classCallCheck(this,e)},cv=function(){function e(t,n){_classCallCheck(this,e),this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(e,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=_g(-this._previousScrollPosition.left),e.style.top=_g(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=i,n.scrollBehavior=a}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}]),e}();function hv(){return Error("Scroll strategy has already been attached.")}var dv=function(){function e(t,n,i,a){var r=this;_classCallCheck(this,e),this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=a,this._scrollSubscription=null,this._detach=function(){r.disable(),r._overlayRef.hasAttached()&&r._ngZone.run((function(){return r._overlayRef.detach()}))}}return _createClass(e,[{key:"attach",value:function(e){if(this._overlayRef)throw hv();this._overlayRef=e}},{key:"enable",value:function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe((function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()}))):this._scrollSubscription=t.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),pv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),e}();function fv(e,t){return t.some((function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right}))}function mv(e,t){return t.some((function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right}))}var gv,vv=function(){function e(t,n,i,a){_classCallCheck(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=a,this._scrollSubscription=null}return _createClass(e,[{key:"attach",value:function(e){if(this._overlayRef)throw hv();this._overlayRef=e}},{key:"enable",value:function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),i=n.width,a=n.height;fv(t,[{width:i,height:a,bottom:a,right:i,top:0,left:0}])&&(e.disable(),e._ngZone.run((function(){return e._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),yv=((gv=function e(t,n,i,a){var r=this;_classCallCheck(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new pv},this.close=function(e){return new dv(r._scrollDispatcher,r._ngZone,r._viewportRuler,e)},this.block=function(){return new cv(r._viewportRuler,r._document)},this.reposition=function(e){return new vv(r._scrollDispatcher,r._viewportRuler,r._ngZone,e)},this._document=a}).\u0275prov=ce({factory:function(){return new gv(Me(Zg),Me(Jg),Me(er),Me(kl))},token:gv,providedIn:"root"}),gv),bv=function e(t){if(_classCallCheck(this,e),this.scrollStrategy=new pv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t)for(var n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];void 0!==t[a]&&(this[a]=t[a])}},kv=function e(t,n,i,a,r){_classCallCheck(this,e),this.offsetX=i,this.offsetY=a,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Cv=function e(t,n){_classCallCheck(this,e),this.connectionPair=t,this.scrollableViewProperties=n};function wv(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid ".concat(e,' "').concat(t,'". ')+'Expected "top", "bottom" or "center".')}function _v(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid ".concat(e,' "').concat(t,'". ')+'Expected "start", "end" or "center".')}var xv,Sv,Ev=((xv=function(){function e(t){var n=this;_classCallCheck(this,e),this._attachedOverlays=[],this._keydownListener=function(e){for(var t=n._attachedOverlays,i=t.length-1;i>-1;i--)if(t[i]._keydownEvents.observers.length>0){t[i]._keydownEvents.next(e);break}},this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(e)}},{key:"remove",value:function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),e}()).\u0275prov=ce({factory:function(){return new xv(Me(kl))},token:xv,providedIn:"root"}),xv),Ov=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),Iv=((Sv=function(){function e(t,n){_classCallCheck(this,e),this._platform=n,this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||Ov)for(var t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);var i=this._document.createElement("div");i.classList.add("cdk-overlay-container"),Ov?i.setAttribute("platform","test"):e||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}]),e}()).\u0275prov=ce({factory:function(){return new Sv(Me(kl),Me(zg))},token:Sv,providedIn:"root"}),Sv),Av=function(){function e(t,n,i,a,r,s,l,o){var u=this;_classCallCheck(this,e),this._portalOutlet=t,this._host=n,this._pane=i,this._config=a,this._ngZone=r,this._keyboardDispatcher=s,this._document=l,this._location=o,this._backdropElement=null,this._backdropClick=new I,this._attachments=new I,this._detachments=new I,this._locationChanges=d.EMPTY,this._backdropClickHandler=function(e){return u._backdropClick.next(e)},this._keydownEvents=new I,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}return _createClass(e,[{key:"attach",value:function(e){var t=this,n=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(gh(1)).subscribe((function(){t.hasAttached()&&t.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return t.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}}},{key:"dispose",value:function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}},{key:"setDirection",value:function(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}},{key:"addPanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!0)}},{key:"removePanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!1)}},{key:"getDirection",value:function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}},{key:"updateScrollStrategy",value:function(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var e=this._pane.style;e.width=_g(this._config.width),e.height=_g(this._config.height),e.minWidth=_g(this._config.minWidth),e.minHeight=_g(this._config.minHeight),e.maxWidth=_g(this._config.maxWidth),e.maxHeight=_g(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(e){this._pane.style.pointerEvents=e?"auto":"none"}},{key:"_attachBackdrop",value:function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var e,t=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",t._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),t._backdropElement==n&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(n,t._config.backdropClass,!1),clearTimeout(e)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",i)})),n.style.pointerEvents="none",e=this._ngZone.runOutsideAngular((function(){return setTimeout(i,500)}))}}},{key:"_toggleClasses",value:function(e,t,n){var i=e.classList;wg(t).forEach((function(e){e&&(n?i.add(e):i.remove(e))}))}},{key:"_detachContentWhenStable",value:function(){var e=this;this._ngZone.runOutsideAngular((function(){var t=e._ngZone.onStable.asObservable().pipe(ch(K(e._attachments,e._detachments))).subscribe((function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),e}(),Dv=/([A-Za-z%]+)$/,Mv=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this._viewportRuler=n,this._document=i,this._platform=a,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new I,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}return _createClass(e,[{key:"attach",value:function(e){var t=this;if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){t._isInitialRender=!0,t.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var e,t,n=this._originRect,i=this._overlayRect,a=this._viewportRect,r=[],s=_createForOfIteratorHelper(this._preferredPositions);try{for(s.s();!(t=s.n()).done;){var l=t.value,o=this._getOriginPoint(n,l),u=this._getOverlayPoint(o,i,l),c=this._getOverlayFit(u,i,a,l);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,o);this._canFitWithFlexibleDimensions(c,u,a)?r.push({position:l,origin:o,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(o,l)}):(!e||e.overlayFit.visibleArea<c.visibleArea)&&(e={overlayFit:c,overlayPoint:u,originPoint:o,position:l,overlayRect:i})}}catch(v){s.e(v)}finally{s.f()}if(r.length){var h,d=null,p=-1,f=_createForOfIteratorHelper(r);try{for(f.s();!(h=f.n()).done;){var m=h.value,g=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);g>p&&(p=g,d=m)}}catch(v){f.e(v)}finally{f.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Tv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}},{key:"withScrollableContainers",value:function(e){return this._scrollables=e,this}},{key:"withPositions",value:function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(e){return this._viewportMargin=e,this}},{key:"withFlexibleDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=e,this}},{key:"withGrowAfterOpen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=e,this}},{key:"withPush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=e,this}},{key:"withLockedPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=e,this}},{key:"setOrigin",value:function(e){return this._origin=e,this}},{key:"withDefaultOffsetX",value:function(e){return this._offsetX=e,this}},{key:"withDefaultOffsetY",value:function(e){return this._offsetY=e,this}},{key:"withTransformOriginOn",value:function(e){return this._transformOriginSelector=e,this}},{key:"_getOriginPoint",value:function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var i=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;n="start"==t.originX?i:a}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}},{key:"_getOverlayPoint",value:function(e,t,n){var i,a;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}},{key:"_getOverlayFit",value:function(e,t,n,i){var a=e.x,r=e.y,s=this._getOffset(i,"x"),l=this._getOffset(i,"y");s&&(a+=s),l&&(r+=l);var o=0-r,u=r+t.height-n.height,c=this._subtractOverflows(t.width,0-a,a+t.width-n.width),h=this._subtractOverflows(t.height,o,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:t.width*t.height===d,fitsInViewportVertically:h===t.height,fitsInViewportHorizontally:c==t.width}}},{key:"_canFitWithFlexibleDimensions",value:function(e,t,n){if(this._hasFlexibleDimensions){var i=n.bottom-t.y,a=n.right-t.x,r=Pv(this._overlayRef.getConfig().minHeight),s=Pv(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportHorizontally||null!=s&&s<=a;return(e.fitsInViewportVertically||null!=r&&r<=i)&&l}return!1}},{key:"_pushOverlayOnScreen",value:function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var i,a,r=this._viewportRect,s=Math.max(e.x+t.width-r.right,0),l=Math.max(e.y+t.height-r.bottom,0),o=Math.max(r.top-n.top-e.y,0),u=Math.max(r.left-n.left-e.x,0);return i=t.width<=r.width?u||-s:e.x<this._viewportMargin?r.left-n.left-e.x:0,a=t.height<=r.height?o||-l:e.y<this._viewportMargin?r.top-n.top-e.y:0,this._previousPushAmount={x:i,y:a},{x:e.x+i,y:e.y+a}}},{key:"_applyPosition",value:function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new Cv(e,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var a=0;a<n.length;a++)n[a].style.transformOrigin="".concat(t," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(e,t){var n,i,a,r,s,l,o=this._viewportRect,u=this._isRtl();if("top"===t.overlayY)i=e.y,n=o.height-i+this._viewportMargin;else if("bottom"===t.overlayY)a=o.height-e.y+2*this._viewportMargin,n=o.height-a+this._viewportMargin;else{var c=Math.min(o.bottom-e.y+o.top,e.y),h=this._lastBoundingBoxSize.height;n=2*c,i=e.y-c,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=e.y-h/2)}if("end"===t.overlayX&&!u||"start"===t.overlayX&&u)l=o.width-e.x+this._viewportMargin,r=e.x-this._viewportMargin;else if("start"===t.overlayX&&!u||"end"===t.overlayX&&u)s=e.x,r=o.right-e.x;else{var d=Math.min(o.right-e.x+o.left,e.x),p=this._lastBoundingBoxSize.width;r=2*d,s=e.x-d,r>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.x-p/2)}return{top:i,left:s,bottom:a,right:l,width:r,height:n}}},{key:"_setBoundingBoxStyles",value:function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var a=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=_g(n.height),i.top=_g(n.top),i.bottom=_g(n.bottom),i.width=_g(n.width),i.left=_g(n.left),i.right=_g(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=_g(a)),r&&(i.maxWidth=_g(r))}this._lastBoundingBoxSize=n,Tv(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){Tv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Tv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(e,t){var n={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(i){var s=this._viewportRuler.getViewportScrollPosition();Tv(n,this._getExactOverlayY(t,e,s)),Tv(n,this._getExactOverlayX(t,e,s))}else n.position="static";var l="",o=this._getOffset(t,"x"),u=this._getOffset(t,"y");o&&(l+="translateX(".concat(o,"px) ")),u&&(l+="translateY(".concat(u,"px)")),n.transform=l.trim(),r.maxHeight&&(i?n.maxHeight=_g(r.maxHeight):a&&(n.maxHeight="")),r.maxWidth&&(i?n.maxWidth=_g(r.maxWidth):a&&(n.maxWidth="")),Tv(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(e,t,n){var i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n));var r=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=r,"bottom"===e.overlayY?i.bottom="".concat(this._document.documentElement.clientHeight-(a.y+this._overlayRect.height),"px"):i.top=_g(a.y),i}},{key:"_getExactOverlayX",value:function(e,t,n){var i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),"right"===(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?i.right="".concat(this._document.documentElement.clientWidth-(a.x+this._overlayRect.width),"px"):i.left=_g(a.x),i}},{key:"_getScrollVisibility",value:function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(e){return e.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:mv(e,n),isOriginOutsideView:fv(e,n),isOverlayClipped:mv(t,n),isOverlayOutsideView:fv(t,n)}}},{key:"_subtractOverflows",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(e,t){return e-Math.max(t,0)}),e)}},{key:"_getNarrowedViewportRect",value:function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(e){_v("originX",e.originX),wv("originY",e.originY),_v("overlayX",e.overlayX),wv("overlayY",e.overlayY)}))}},{key:"_addPanelClasses",value:function(e){var t=this;this._pane&&wg(e).forEach((function(e){""!==e&&-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))}))}},{key:"_clearPanelClasses",value:function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach((function(t){e._pane.classList.remove(t)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var e=this._origin;if(e instanceof cn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();var t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}},{key:"positions",get:function(){return this._preferredPositions}}]),e}();function Tv(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Pv(e){if("number"!=typeof e&&null!=e){var t=_slicedToArray2(e.split(Dv),2),n=t[0],i=t[1];return i&&"px"!==i?null:parseFloat(n)}return e||null}var Lv,Nv=function(){function e(t,n,i,a,r,s,l){_classCallCheck(this,e),this._preferredPositions=[],this._positionStrategy=new Mv(i,a,r,s,l).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,n)}return _createClass(e,[{key:"attach",value:function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(e){this._positionStrategy.withScrollableContainers(e)}},{key:"withFallbackPosition",value:function(e,t,n,i){var a=new kv(e,t,n,i);return this._preferredPositions.push(a),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}},{key:"withOffsetX",value:function(e){return this._positionStrategy.withDefaultOffsetX(e),this}},{key:"withOffsetY",value:function(e){return this._positionStrategy.withDefaultOffsetY(e),this}},{key:"withLockedPosition",value:function(e){return this._positionStrategy.withLockedPosition(e),this}},{key:"withPositions",value:function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(e){return this._positionStrategy.setOrigin(e),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),e}(),Rv=function(){function e(){_classCallCheck(this,e),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(e,[{key:"attach",value:function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}},{key:"left",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}},{key:"right",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}},{key:"width",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}},{key:"centerHorizontally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(e),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(e),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,a=n.height,r=n.maxWidth,s=n.maxHeight,l=!("100%"!==i&&"100vw"!==i||r&&"100%"!==r&&"100vw"!==r),o=!("100%"!==a&&"100vh"!==a||s&&"100%"!==s&&"100vh"!==s);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=o?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=o?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}}]),e}(),Fv=((Lv=function(){function e(t,n,i,a){_classCallCheck(this,e),this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=a}return _createClass(e,[{key:"global",value:function(){return new Rv}},{key:"connectedTo",value:function(e,t,n){return new Nv(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(e){return new Mv(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),e}()).\u0275prov=ce({factory:function(){return new Lv(Me(Jg),Me(kl),Me(zg),Me(Iv))},token:Lv,providedIn:"root"}),Lv),Hv=0,Bv=function(){function e(t,n,i,a,r,s,l,o,u,c){_classCallCheck(this,e),this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=r,this._injector=s,this._ngZone=l,this._document=o,this._directionality=u,this._location=c}return _createClass(e,[{key:"create",value:function(e){var t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),a=new bv(e);return a.direction=a.direction||this._directionality.value,new Av(i,t,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-".concat(Hv++),t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}},{key:"_createHostElement",value:function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}},{key:"_createPortalOutlet",value:function(e){return this._appRef||(this._appRef=this._injector.get(yr)),new lv(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),e}(),Vv=new xe("cdk-connected-overlay-scroll-strategy");function jv(e){return function(){return e.scrollStrategies.reposition()}}var zv,qv=function e(){_classCallCheck(this,e)},Uv=new xe("cdk-dir-doc",{providedIn:"root",factory:function(){return Te(kl)}}),Wv=((zv=function(){function e(t){if(_classCallCheck(this,e),this.value="ltr",this.change=new Ma,t){var n=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).\u0275prov=ce({factory:function(){return new zv(Me(Uv,8))},token:zv,providedIn:"root"}),zv),Yv=function e(){_classCallCheck(this,e)};function Gv(e){return new w((function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?q(n):mh()).subscribe(t)}))}var Xv=function e(){_classCallCheck(this,e)};function Kv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function $v(e){return{type:6,styles:e,offset:null}}function Zv(e){Promise.resolve(null).then(e)}var Jv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Zv((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),Qv=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,a=0,r=0,s=this.players.length;0==s?Zv((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++i==s&&n._onFinish()})),e.onDestroy((function(){++a==s&&n._onDestroy()})),e.onStart((function(){++r==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),ey=function e(){_classCallCheck(this,e),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0};function ty(){throw Error("Attempting to attach dialog content after content is already attached")}var ny=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s){var l;return _classCallCheck(this,n),(l=t.call(this))._elementRef=e,l._focusTrapFactory=i,l._changeDetectorRef=a,l._config=s,l._elementFocusedBeforeDialogWasOpened=null,l._state="enter",l._animationStateChanged=new Ma,l.attachDomPortal=function(e){return l._portalOutlet.hasAttached()&&ty(),l._setupFocusTrap(),l._portalOutlet.attachDomPortal(e)},l._ariaLabelledBy=s.ariaLabelledBy||null,l._document=r,l}return _createClass(n,[{key:"attachComponentPortal",value:function(e){return this._portalOutlet.hasAttached()&&ty(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(e)}},{key:"attachTemplatePortal",value:function(e){return this._portalOutlet.hasAttached()&&ty(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(e)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){var t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||e.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){var e=this;this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return e._elementRef.nativeElement.focus()})))}},{key:"_containsFocus",value:function(){var e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}},{key:"_onAnimationDone",value:function(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}},{key:"_onAnimationStart",value:function(e){this._animationStateChanged.emit(e)}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(sv),iy=0,ay=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-".concat(iy++);_classCallCheck(this,e),this._overlayRef=t,this._containerInstance=n,this.id=a,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new I,this._afterClosed=new I,this._beforeClosed=new I,this._state=0,n._id=a,n._animationStateChanged.pipe(fl((function(e){return"done"===e.phaseName&&"enter"===e.toState})),gh(1)).subscribe((function(){i._afterOpened.next(),i._afterOpened.complete()})),n._animationStateChanged.pipe(fl((function(e){return"done"===e.phaseName&&"exit"===e.toState})),gh(1)).subscribe((function(){clearTimeout(i._closeFallbackTimeout),i._finishDialogClose()})),t.detachments().subscribe((function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()})),t.keydownEvents().pipe(fl((function(e){return 27===e.keyCode&&!i.disableClose&&!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.length?n.some((function(t){return e[t]})):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(e)}))).subscribe((function(e){e.preventDefault(),i.close()})),t.backdropClick().subscribe((function(){i.disableClose?i._containerInstance._recaptureFocus():i.close()}))}return _createClass(e,[{key:"close",value:function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(fl((function(e){return"start"===e.phaseName})),gh(1)).subscribe((function(n){t._beforeClosed.next(e),t._beforeClosed.complete(),t._overlayRef.detachBackdrop(),t._closeFallbackTimeout=setTimeout((function(){return t._finishDialogClose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1}},{key:"afterOpened",value:function(){return this._afterOpened.asObservable()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"beforeClosed",value:function(){return this._beforeClosed.asObservable()}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(e){return this._overlayRef.addPanelClass(e),this}},{key:"removePanelClass",value:function(e){return this._overlayRef.removePanelClass(e),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),e}(),ry=new xe("MatDialogData"),sy=new xe("mat-dialog-default-options"),ly=new xe("mat-dialog-scroll-strategy");function oy(e){return function(){return e.scrollStrategies.block()}}var uy=function(){function e(t,n,i,a,r,s,l){var o=this;_classCallCheck(this,e),this._overlay=t,this._injector=n,this._defaultOptions=a,this._parentDialog=s,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new I,this._afterOpenedAtThisLevel=new I,this._ariaHiddenElements=new Map,this.afterAllClosed=Gv((function(){return o.openDialogs.length?o._afterAllClosed:o._afterAllClosed.pipe(ah(void 0))})),this._scrollStrategy=r}return _createClass(e,[{key:"open",value:function(e,t){var n=this;if((t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new ey)).id&&this.getDialogById(t.id))throw Error('Dialog with id "'.concat(t.id,'" exists already. The dialog id must be unique.'));var i=this._createOverlay(t),a=this._attachDialogContainer(i,t),r=this._attachDialogContent(e,a,i,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe((function(){return n._removeOpenDialog(r)})),this.afterOpened.next(r),r}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(e){return this.openDialogs.find((function(t){return t.id===e}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(e){var t=this._getOverlayConfig(e);return this._overlay.create(t)}},{key:"_getOverlayConfig",value:function(e){var t=new bv({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}},{key:"_attachDialogContainer",value:function(e,t){var n=Nt.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:ey,useValue:t}]}),i=new iv(ny,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}},{key:"_attachDialogContent",value:function(e,t,n,i){var a=new ay(n,t,i.id);if(e instanceof Ln)t.attachTemplatePortal(new av(e,null,{$implicit:i.data,dialogRef:a}));else{var r=this._createInjector(i,a,t),s=t.attachComponentPortal(new iv(e,i.viewContainerRef,r));a.componentInstance=s.instance}return a.updateSize(i.width,i.height).updatePosition(i.position),a}},{key:"_createInjector",value:function(e,t,n){var i=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:ny,useValue:n},{provide:ry,useValue:e.data},{provide:ay,useValue:t}];return!e.direction||i&&i.get(Wv,null)||a.push({provide:Wv,useValue:{value:e.direction,change:dl()}}),Nt.create({parent:i||this._injector,providers:a})}},{key:"_removeOpenDialog",value:function(e){var t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var e=this._overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,n=t.length-1;n>-1;n--){var i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(e){for(var t=e.length;t--;)e[t].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_afterAllClosed",get:function(){var e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}}]),e}(),cy=0,hy=function(){function e(t,n,i){_classCallCheck(this,e),this.dialogRef=t,this._elementRef=n,this._dialog=i,this.type="button"}return _createClass(e,[{key:"ngOnInit",value:function(){this.dialogRef||(this.dialogRef=my(this._elementRef,this._dialog.openDialogs))}},{key:"ngOnChanges",value:function(e){var t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}}]),e}(),dy=function(){function e(t,n,i){_classCallCheck(this,e),this._dialogRef=t,this._elementRef=n,this._dialog=i,this.id="mat-dialog-title-".concat(cy++)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._dialogRef||(this._dialogRef=my(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((function(){var t=e._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=e.id)}))}}]),e}(),py=function e(){_classCallCheck(this,e)},fy=function e(){_classCallCheck(this,e)};function my(e,t){for(var n=e.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find((function(e){return e.id===n.id})):null}var gy=function e(){_classCallCheck(this,e)},vy=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new yy(e,this.dueTime,this.scheduler))}}]),e}(),yy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e)).dueTime=i,r.scheduler=a,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(by,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(m);function by(e){e.debouncedNext()}var ky,Cy=((ky=function(){function e(t){_classCallCheck(this,e),this._platform=t}return _createClass(e,[{key:"isDisabled",value:function(e){return e.hasAttribute("disabled")}},{key:"isVisible",value:function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}},{key:"isTabbable",value:function(e){if(!this._platform.isBrowser)return!1;var t,n=function(e){try{return e.frameElement}catch(ZK){return null}}((t=e).ownerDocument&&t.ownerDocument.defaultView||window);if(n){var i=n&&n.nodeName.toLowerCase();if(-1===_y(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===i)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var a=e.nodeName.toLowerCase(),r=_y(e);if(e.hasAttribute("contenteditable"))return-1!==r;if("iframe"===a)return!1;if("audio"===a){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===a){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==a||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0}},{key:"isFocusable",value:function(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||wy(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)}}]),e}()).\u0275prov=ce({factory:function(){return new ky(Me(zg))},token:ky,providedIn:"root"}),ky);function wy(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function _y(e){if(!wy(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var xy,Sy=function(){function e(t,n,i,a){var r=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this._element=t,this._checker=n,this._ngZone=i,this._document=a,this._hasAttached=!1,this.startAnchorListener=function(){return r.focusLastTabbableElement()},this.endAnchorListener=function(){return r.focusFirstTabbableElement()},this._enabled=!0,s||this.attachAnchors()}return _createClass(e,[{key:"destroy",value:function(){var e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",e.startAnchorListener)),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",e.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-".concat(e,"], ")+"[cdkFocusRegion".concat(e,"], ")+"[cdk-focus-".concat(e,"]")),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-".concat(e))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(e,"', ")+"use 'cdkFocusRegion".concat(e,"' instead. The deprecated ")+"attribute will be removed in 8.0.0.",t[n]):t[n].hasAttribute("cdk-focus-region-".concat(e))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(e,"', ")+"use 'cdkFocusRegion".concat(e,"' instead. The deprecated attribute ")+"will be removed in 8.0.0.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),it()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e}},{key:"focusLastTabbableElement",value:function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var i=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var i=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}},{key:"_toggleAnchorTabIndex",value:function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"_executeOnStable",value:function(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(gh(1)).subscribe(e)}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}}]),e}(),Ey=((xy=function(){function e(t,n,i){_classCallCheck(this,e),this._checker=t,this._ngZone=n,this._document=i}return _createClass(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Sy(e,this._checker,this._ngZone,this._document,t)}}]),e}()).\u0275prov=ce({factory:function(){return new xy(Me(Cy),Me(er),Me(kl))},token:xy,providedIn:"root"}),xy),Oy=function(){function e(t,n,i){_classCallCheck(this,e),this._elementRef=t,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}},{key:"ngAfterContentInit",value:function(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}},{key:"ngDoCheck",value:function(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}},{key:"enabled",get:function(){return this.focusTrap.enabled},set:function(e){this.focusTrap.enabled=Cg(e)}},{key:"autoCapture",get:function(){return this._autoCapture},set:function(e){this._autoCapture=Cg(e)}}]),e}();"undefined"!=typeof Element&&Element;var Iy,Ay=new xe("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Dy=new xe("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),My=((Iy=function(){function e(t,n,i,a){_classCallCheck(this,e),this._ngZone=n,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}return _createClass(e,[{key:"announce",value:function(e){for(var t,n,i,a=this,r=this._defaultOptions,s=arguments.length,l=new Array(s>1?s-1:0),o=1;o<s;o++)l[o-1]=arguments[o];return 1===l.length&&"number"==typeof l[0]?i=l[0]:(n=(t=_slicedToArray2(l,2))[0],i=t[1]),this.clear(),clearTimeout(this._previousTimeout),n||(n=r&&r.politeness?r.politeness:"polite"),null==i&&r&&(i=r.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular((function(){return new Promise((function(t){clearTimeout(a._previousTimeout),a._previousTimeout=setTimeout((function(){a._liveElement.textContent=e,t(),"number"==typeof i&&(a._previousTimeout=setTimeout((function(){return a.clear()}),i))}),100)}))}))}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}]),e}()).\u0275prov=ce({factory:function(){return new Iy(Me(Ay,8),Me(er),Me(kl),Me(Dy,8))},token:Iy,providedIn:"root"}),Iy),Ty=function(){function e(t,n,i,a){_classCallCheck(this,e),this._elementRef=t,this._liveAnnouncer=n,this._contentObserver=i,this._ngZone=a,this._politeness="off"}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}},{key:"politeness",get:function(){return this._politeness},set:function(e){var t=this;this._politeness="polite"===e||"assertive"===e?e:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular((function(){return t._contentObserver.observe(t._elementRef).subscribe((function(){var e=t._elementRef.nativeElement.textContent;e!==t._previousAnnouncedText&&(t._liveAnnouncer.announce(e,t._politeness),t._previousAnnouncedText=e)}))})))}}]),e}();function Py(e){return 0===e.buttons}var Ly,Ny=new xe("cdk-focus-monitor-default-options"),Ry=Yg({passive:!0,capture:!0}),Fy=((Ly=function(){function e(t,n,i,a){var r=this;_classCallCheck(this,e),this._ngZone=t,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){r._lastTouchTarget=null,r._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(e){if(!r._lastTouchTarget){var t=Py(e)?"keyboard":"mouse";r._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=function(e){null!=r._touchTimeoutId&&clearTimeout(r._touchTimeoutId),r._lastTouchTarget=Hy(e),r._touchTimeoutId=setTimeout((function(){return r._lastTouchTarget=null}),650)},this._windowFocusListener=function(){r._windowFocused=!0,r._windowFocusTimeoutId=setTimeout((function(){return r._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(e){for(var t=Hy(e),n="focus"===e.type?r._onFocus:r._onBlur,i=t;i;i=i.parentElement)n.call(r,e,i)},this._document=i,this._detectionMode=(null==a?void 0:a.detectionMode)||0}return _createClass(e,[{key:"monitor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return dl(null);var n=xg(e),i=function(e){if(function(){if(null==jg){var e="undefined"!=typeof document?document.head:null;jg=!(!e||!e.createShadowRoot&&!e.attachShadow)}return jg}()){var t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return t&&(a.checkChildren=!0),a.subject.asObservable();var r={checkChildren:t,subject:new I,rootNode:i};return this._elementInfo.set(n,r),this._registerGlobalListeners(r),r.subject.asObservable()}},{key:"stopMonitoring",value:function(e){var t=xg(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(e,t,n){var i=xg(e);this._setOriginForCurrentEventQueue(t),"function"==typeof i.focus&&i.focus(n)}},{key:"ngOnDestroy",value:function(){var e=this;this._elementInfo.forEach((function(t,n){return e.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(e,t,n){n?e.classList.add(t):e.classList.remove(t)}},{key:"_getFocusOrigin",value:function(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}},{key:"_setClasses",value:function(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}},{key:"_setOriginForCurrentEventQueue",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){t._origin=e,0===t._detectionMode&&(t._originTimeoutId=setTimeout((function(){return t._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(e){var t=Hy(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(e,t){var n=this._elementInfo.get(t);if(n&&(n.checkChildren||t===Hy(e))){var i=this._getFocusOrigin(e);this._setClasses(t,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}}},{key:"_onBlur",value:function(e,t){var n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(e,t){this._ngZone.run((function(){return e.next(t)}))}},{key:"_registerGlobalListeners",value:function(e){var t=this;if(this._platform.isBrowser){var n=e.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",t._rootNodeFocusAndBlurListener,Ry),n.addEventListener("blur",t._rootNodeFocusAndBlurListener,Ry)})),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var e=t._getDocument(),n=t._getWindow();e.addEventListener("keydown",t._documentKeydownListener,Ry),e.addEventListener("mousedown",t._documentMousedownListener,Ry),e.addEventListener("touchstart",t._documentTouchstartListener,Ry),n.addEventListener("focus",t._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(e){var t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){var n=this._rootNodeFocusListenerCount.get(t);n>1?this._rootNodeFocusListenerCount.set(t,n-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ry),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ry),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){var i=this._getDocument(),a=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,Ry),i.removeEventListener("mousedown",this._documentMousedownListener,Ry),i.removeEventListener("touchstart",this._documentTouchstartListener,Ry),a.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),e}()).\u0275prov=ce({factory:function(){return new Ly(Me(er),Me(zg),Me(kl,8),Me(Ny,8))},token:Ly,providedIn:"root"}),Ly);function Hy(e){return e.composedPath?e.composedPath()[0]:e.target}var By,Vy=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._elementRef=t,this._focusMonitor=n,this.cdkFocusChange=new Ma,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe((function(e){return i.cdkFocusChange.emit(e)}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}]),e}(),jy=((By=function(){function e(t,n){_classCallCheck(this,e),this._platform=t,this._document=n}return _createClass(e,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);var t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");var t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}]),e}()).\u0275prov=ce({factory:function(){return new By(Me(zg),Me(kl))},token:By,providedIn:"root"}),By),zy=function e(t){_classCallCheck(this,e),t._applyBodyHighContrastModeCssClasses()},qy=new vn("9.2.4"),Uy=new vn("9.2.4"),Wy=new xe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Yy=function(){function e(t,n,i){_classCallCheck(this,e),this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(e,[{key:"_getDocument",value:function(){var e=this._document||document;return"object"==typeof e&&e?e:null}},{key:"_getWindow",value:function(){var e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return it()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._getWindow();return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(!e&&t&&t.body&&"function"==typeof getComputedStyle){var n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);var i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Uy.full!==qy.full&&console.warn("The Angular Material version ("+Uy.full+") does not match the Angular CDK version ("+qy.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),e}();function Gy(e,t){return function(e){_inherits(i,e);var n=_createSuper(i);function i(){var e;_classCallCheck(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r))).color=t,e}return _createClass(i,[{key:"color",get:function(){return this._color},set:function(e){var n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),n&&this._elementRef.nativeElement.classList.add("mat-".concat(n)),this._color=n)}}]),i}(e)}function Xy(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a)))._disableRipple=!1,e}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(e){this._disableRipple=Cg(e)}}]),n}(e)}var Ky,$y=new xe("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Te(qa)}}),Zy=function(){function e(){_classCallCheck(this,e),this._localeChanges=new I}return _createClass(e,[{key:"deserialize",value:function(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}},{key:"setLocale",value:function(e){this.locale=e,this._localeChanges.next()}},{key:"compareDate",value:function(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}},{key:"sameDate",value:function(e,t){if(e&&t){var n=this.isValid(e),i=this.isValid(t);return n&&i?!this.compareDate(e,t):n==i}return e==t}},{key:"clampDate",value:function(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}},{key:"localeChanges",get:function(){return this._localeChanges}}]),e}(),Jy=new xe("mat-date-formats");try{Ky="undefined"!=typeof Intl}catch(ZK){Ky=!1}var Qy={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},eb=ib(31,(function(e){return String(e+1)})),tb={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},nb=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ib(e,t){for(var n=Array(e),i=0;i<e;i++)n[i]=t(i);return n}var ab,rb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this)).useUtcForDisplay=!0,_get(_getPrototypeOf(n.prototype),"setLocale",_assertThisInitialized(a)).call(_assertThisInitialized(a),e),a.useUtcForDisplay=!i.TRIDENT,a._clampDate=i.TRIDENT||i.EDGE,a}return _createClass(n,[{key:"getYear",value:function(e){return e.getFullYear()}},{key:"getMonth",value:function(e){return e.getMonth()}},{key:"getDate",value:function(e){return e.getDate()}},{key:"getDayOfWeek",value:function(e){return e.getDay()}},{key:"getMonthNames",value:function(e){var t=this;if(Ky){var n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return ib(12,(function(e){return t._stripDirectionalityCharacters(t._format(n,new Date(2017,e,1)))}))}return Qy[e]}},{key:"getDateNames",value:function(){var e=this;if(Ky){var t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ib(31,(function(n){return e._stripDirectionalityCharacters(e._format(t,new Date(2017,0,n+1)))}))}return eb}},{key:"getDayOfWeekNames",value:function(e){var t=this;if(Ky){var n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return ib(7,(function(e){return t._stripDirectionalityCharacters(t._format(n,new Date(2017,0,e+1)))}))}return tb[e]}},{key:"getYearName",value:function(e){if(Ky){var t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}},{key:"clone",value:function(e){return new Date(e.getTime())}},{key:"createDate",value:function(e,t,n){if(t<0||t>11)throw Error('Invalid month index "'.concat(t,'". Month index has to be between 0 and 11.'));if(n<1)throw Error('Invalid date "'.concat(n,'". Date has to be greater than 0.'));var i=this._createDateWithOverflow(e,t,n);if(i.getMonth()!=t)throw Error('Invalid date "'.concat(n,'" for month with index "').concat(t,'".'));return i}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}},{key:"format",value:function(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Ky){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}},{key:"addCalendarYears",value:function(e,t){return this.addCalendarMonths(e,12*t)}},{key:"addCalendarMonths",value:function(e,t){var n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}},{key:"addCalendarDays",value:function(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}},{key:"toIso8601",value:function(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}},{key:"deserialize",value:function(e){if("string"==typeof e){if(!e)return null;if(nb.test(e)){var t=new Date(e);if(this.isValid(t))return t}}return _get(_getPrototypeOf(n.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return e instanceof Date}},{key:"isValid",value:function(e){return!isNaN(e.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(e,t,n){var i=new Date(e,t,n);return e>=0&&e<100&&i.setFullYear(this.getYear(i)-1900),i}},{key:"_2digit",value:function(e){return("00"+e).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(e){return e.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(e,t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(n)}}]),n}(Zy),sb={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},lb=function e(){_classCallCheck(this,e)},ob=function e(){_classCallCheck(this,e)},ub=((ab=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}]),e}()).\u0275prov=ce({factory:function(){return new ab},token:ab,providedIn:"root"}),ab),cb=function e(){_classCallCheck(this,e)},hb=function(){function e(t,n,i){_classCallCheck(this,e),this._renderer=t,this.element=n,this.config=i,this.state=3}return _createClass(e,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),e}(),db={enterDuration:450,exitDuration:400},pb=Yg({passive:!0}),fb=["mousedown","touchstart"],mb=["mouseup","mouseleave","touchend","touchcancel"],gb=function(){function e(t,n,i,a){_classCallCheck(this,e),this._target=t,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=xg(i))}return _createClass(e,[{key:"fadeInRipple",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},db),i.animation);i.centered&&(e=a.left+a.width/2,t=a.top+a.height/2);var s=i.radius||function(e,t,n){var i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),a=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+a*a)}(e,t,a),l=e-a.left,o=t-a.top,u=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left="".concat(l-s,"px"),c.style.top="".concat(o-s,"px"),c.style.height="".concat(2*s,"px"),c.style.width="".concat(2*s,"px"),null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration="".concat(u,"ms"),this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new hb(this,c,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var e=h===n._mostRecentTransientRipple;h.state=1,i.persistent||e&&n._isPointerDown||h.fadeOut()}),u),h}},{key:"fadeOutRipple",value:function(e){var t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),t){var n=e.element,i=Object.assign(Object.assign({},db),e.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone((function(){e.state=3,n.parentNode.removeChild(n)}),i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(e){return e.fadeOut()}))}},{key:"setupTriggerEvents",value:function(e){var t=xg(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(fb))}},{key:"handleEvent",value:function(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mb),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(e){var t=Py(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(e){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var t=e.changedTouches,n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(e){!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(e,t)}))}},{key:"_registerEvents",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){e.forEach((function(e){t._triggerElement.addEventListener(e,t,pb)}))}))}},{key:"_removeTriggerEvents",value:function(){var e=this;this._triggerElement&&(fb.forEach((function(t){e._triggerElement.removeEventListener(t,e,pb)})),this._pointerUpEventsRegistered&&mb.forEach((function(t){e._triggerElement.removeEventListener(t,e,pb)})))}}]),e}(),vb=new xe("mat-ripple-global-options"),yb=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new gb(this,n,t,i)}return _createClass(e,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),e}(),bb=function e(){_classCallCheck(this,e)},kb=function e(){_classCallCheck(this,e)},Cb=new xe("mat-label-global-options"),wb=Qn({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function _b(e){return ns(0,[(e()(),Hr(0,null,null,0))],null,null)}function xb(e){return ns(0,[Ur(402653184,1,{_portalOutlet:0}),(e()(),Hr(16777216,null,null,1,null,_b)),la(2,212992,[[1,4]],0,ov,[sn,Rn,kl],{portal:[0,"portal"]},null)],(function(e,t){e(t,2,0,"")}),null)}var Sb=Vi("mat-dialog-container",ny,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],(function(e,t,n){var i=!0;return"component:@dialogContainer.start"===t&&(i=!1!==Zi(e,1)._onAnimationStart(n)&&i),"component:@dialogContainer.done"===t&&(i=!1!==Zi(e,1)._onAnimationDone(n)&&i),i}),xb,wb)),la(1,49152,null,0,ny,[cn,Ey,Mt,[2,kl],ey],null,null)],null,(function(e,t){e(t,0,0,Zi(t,1)._id,Zi(t,1)._config.role,Zi(t,1)._config.ariaLabel?null:Zi(t,1)._ariaLabelledBy,Zi(t,1)._config.ariaLabel,Zi(t,1)._config.ariaDescribedBy||null,Zi(t,1)._state)}))}),{},{},[]),Eb=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function Ob(e){return function(t){return 0===e?mh():t.lift(new Ib(e))}}var Ib=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new ph}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ab(e,this.total))}}]),e}(),Ab=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).total=i,a.ring=new Array,a.count=0,a}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,a=0;a<n;a++){var r=t++%n;e.next(i[r])}e.complete()}}]),n}(m);function Db(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pb;return function(t){return t.lift(new Mb(e))}}var Mb=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Tb(e,this.errorFactory))}}]),e}(),Tb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).errorFactory=i,a.hasValue=!1,a}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch($K){e=$K}this.destination.error(e)}}]),n}(m);function Pb(){return new Eb}function Lb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Nb(e))}}var Nb=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Rb(e,this.defaultValue))}}]),e}(),Rb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).defaultValue=i,a.isEmpty=!0,a}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(m);function Fb(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?fl((function(t,n){return e(t,n,i)})):y,Ob(1),n?Lb(t):Db((function(){return new Eb})))}}function Hb(e){return function(t){var n=new Bb(e),i=t.lift(n);return n.caught=i}}var Bb=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Vb(e,this.selector,this.caught))}}]),e}(),Vb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e)).selector=i,r.caught=a,r}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(r){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,r)}this._unsubscribeAndRecycle();var i=new M(this,void 0,void 0);this.add(i);var a=F(this,t,void 0,void 0,i);a!==i&&this.add(a)}}}]),n}(H);function jb(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?fl((function(t,n){return e(t,n,i)})):y,gh(1),n?Lb(t):Db((function(){return new Eb})))}}var zb=function(){function e(t,n,i){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new qb(e,this.predicate,this.thisArg,this.source))}}]),e}(),qb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).predicate=i,s.thisArg=a,s.source=r,s.index=0,s.thisArg=a||_assertThisInitialized(s),s}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(m);function Ub(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Wb(e,t,n))}}var Wb=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yb(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Yb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).accumulator=i,s._seed=a,s.hasSeed=r,s.index=0,s}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(m),Gb=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Xb(e,this.callback))}}]),e}(),Xb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).add(new d(i)),a}return n}(m),Kb=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},$b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(a=t.call(this,e,i)).navigationTrigger=r,a.restoredState=s,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Kb),Zb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).urlAfterRedirects=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Kb),Jb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).reason=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Kb),Qb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).error=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Kb),ek=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).urlAfterRedirects=a,s.state=r,s}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Kb),tk=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).urlAfterRedirects=a,s.state=r,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Kb),nk=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s){var l;return _classCallCheck(this,n),(l=t.call(this,e,i)).urlAfterRedirects=a,l.state=r,l.shouldActivate=s,l}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Kb),ik=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).urlAfterRedirects=a,s.state=r,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Kb),ak=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).urlAfterRedirects=a,s.state=r,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Kb),rk=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),sk=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),lk=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ok=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),uk=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ck=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),hk=function(){function e(t,n,i){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),dk=function e(){_classCallCheck(this,e)},pk=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function fk(e){return new pk(e)}function mk(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function gk(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var a={},r=0;r<i.length;r++){var s=i[r],l=e[r];if(s.startsWith(":"))a[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:a}}var vk=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function yk(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];bk(i,kk(t,i))}}function bk(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&yk(e.children,t)}function kk(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Ck(e){var t=e.children&&e.children.map(Ck),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=dk),n}function wk(e,t){var n,i=Object.keys(e),a=Object.keys(t);if(!i||!a||i.length!=a.length)return!1;for(var r=0;r<i.length;r++)if(!_k(e[n=i[r]],t[n]))return!1;return!0}function _k(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function xk(e){return Array.prototype.concat.apply([],e)}function Sk(e){return e.length>0?e[e.length-1]:null}function Ek(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ok(e){return Qt(e)?e:Jt(e)?q(Promise.resolve(e)):dl(e)}function Ik(e,t,n){return n?function(e,t){return wk(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Tk(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return _k(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,a){if(n.segments.length>a.length)return!!Tk(n.segments.slice(0,a.length),a)&&!i.hasChildren();if(n.segments.length===a.length){if(!Tk(n.segments,a))return!1;for(var r in i.children){if(!n.children[r])return!1;if(!e(n.children[r],i.children[r]))return!1}return!0}var s=a.slice(0,n.segments.length),l=a.slice(n.segments.length);return!!Tk(n.segments,s)&&!!n.children.primary&&t(n.children.primary,i,l)}(t,n,n.segments)}(e.root,t.root)}var Ak=function(){function e(t,n,i){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=i}return _createClass(e,[{key:"toString",value:function(){return Rk.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=fk(this.queryParams)),this._queryParamMap}}]),e}(),Dk=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Ek(n,(function(e,t){return e.parent=i}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Fk(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Mk=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return qk(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=fk(this.parameters)),this._parameterMap}}]),e}();function Tk(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Pk(e,t){var n=[];return Ek(e.children,(function(e,i){"primary"===i&&(n=n.concat(t(e,i)))})),Ek(e.children,(function(e,i){"primary"!==i&&(n=n.concat(t(e,i)))})),n}var Lk=function e(){_classCallCheck(this,e)},Nk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Xk(e);return new Ak(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,i;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Fk(t);if(n){var i=t.children.primary?e(t.children.primary,!1):"",a=[];return Ek(t.children,(function(t,n){"primary"!==n&&a.push("".concat(n,":").concat(e(t,!1)))})),a.length>0?"".concat(i,"(").concat(a.join("//"),")"):i}var r=Pk(t,(function(n,i){return"primary"===i?[e(t.children.primary,!1)]:["".concat(i,":").concat(e(n,!1))]}));return"".concat(Fk(t),"/(").concat(r.join("//"),")")}(e.root,!0)),(n=e.queryParams,i=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Bk(e),"=").concat(Bk(t))})).join("&"):"".concat(Bk(e),"=").concat(Bk(t))})),i.length?"?".concat(i.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Rk=new Nk;function Fk(e){return e.segments.map((function(e){return qk(e)})).join("/")}function Hk(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bk(e){return Hk(e).replace(/%3B/gi,";")}function Vk(e){return Hk(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jk(e){return decodeURIComponent(e)}function zk(e){return jk(e.replace(/\+/g,"%20"))}function qk(e){return"".concat(Vk(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Vk(e),"=").concat(Vk(t[e]))})).join("")));var t}var Uk=/^[^\/()?;=#]+/;function Wk(e){var t=e.match(Uk);return t?t[0]:""}var Yk=/^[^=?&#]+/,Gk=/^[^?&#]+/,Xk=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dk([],{}):new Dk([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Dk(e,t)),n}},{key:"parseSegment",value:function(){var e=Wk(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Mk(jk(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Wk(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=Wk(this.remaining);i&&(n=i,this.capture(n))}e[jk(t)]=jk(n)}}},{key:"parseQueryParam",value:function(e){var t,n,i=(t=this.remaining,(n=t.match(Yk))?n[0]:"");if(i){this.capture(i);var a="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Gk);return t?t[0]:""}(this.remaining);r&&(a=r,this.capture(a))}var s=zk(i),l=zk(a);if(e.hasOwnProperty(s)){var o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(l)}else e[s]=l}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Wk(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var a=void 0;n.indexOf(":")>-1?(a=n.substr(0,n.indexOf(":")),this.capture(a),this.capture(":")):e&&(a="primary");var r=this.parseChildren();t[a]=1===Object.keys(r).length?r.primary:new Dk([],r),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Kk=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=$k(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=$k(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Zk(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Zk(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function $k(e,t){if(e===t.value)return t;var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var a=$k(e,n.value);if(a)return a}}catch(r){i.e(r)}finally{i.f()}return null}function Zk(e,t){if(e===t.value)return[t];var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var a=Zk(e,n.value);if(a.length)return a.unshift(t),a}}catch(r){i.e(r)}finally{i.f()}return[]}var Jk=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Qk(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var eC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).snapshot=i,sC(_assertThisInitialized(a),e),a}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Kk);function tC(e,t){var n=function(e,t){var n=new aC([],{},{},"",{},"primary",t,null,e.root,-1,{});return new rC("",new Jk(n,[]))}(e,t),i=new Uc([new Mk("",{})]),a=new Uc({}),r=new Uc({}),s=new Uc({}),l=new Uc(""),o=new nC(i,a,s,l,r,"primary",t,n.root);return o.snapshot=n.root,new eC(new Jk(o,[]),n)}var nC=function(){function e(t,n,i,a,r,s,l,o){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=a,this.data=r,this.outlet=s,this.component=l,this._futureSnapshot=o}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(B((function(e){return fk(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B((function(e){return fk(e)})))),this._queryParamMap}}]),e}();function iC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var a=n[i],r=n[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(r.component)break;i--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var aC=function(){function e(t,n,i,a,r,s,l,o,u,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=a,this.data=r,this.outlet=s,this.component=l,this.routeConfig=o,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=fk(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=fk(this.queryParams)),this._queryParamMap}}]),e}(),rC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,i)).url=e,sC(_assertThisInitialized(a),i),a}return _createClass(n,[{key:"toString",value:function(){return lC(this._root)}}]),n}(Kk);function sC(e,t){t.value._routerState=e,t.children.forEach((function(t){return sC(e,t)}))}function lC(e){var t=e.children.length>0?" { ".concat(e.children.map(lC).join(", ")," } "):"";return"".concat(e.value).concat(t)}function oC(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,wk(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),wk(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!wk(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),wk(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function uC(e,t){var n,i;return wk(e.params,t.params)&&Tk(n=e.url,i=t.url)&&n.every((function(e,t){return wk(e.parameters,i[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||uC(e.parent,t.parent))}function cC(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function hC(e,t,n,i,a){var r={};return i&&Ek(i,(function(e,t){r[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new Ak(n.root===e?t:function e(t,n,i){var a={};return Ek(t.children,(function(t,r){a[r]=t===n?i:e(t,n,i)})),new Dk(t.segments,a)}(n.root,e,t),r,a)}var dC=function(){function e(t,n,i){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&cC(i[0]))throw new Error("Root segment cannot have matrix parameters");var a=i.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(a&&a!==Sk(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),pC=function e(t,n,i){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function fC(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function mC(e,t,n){if(e||(e=new Dk([],{})),0===e.segments.length&&e.hasChildren())return gC(e,t,n);var i=function(e,t,n){for(var i=0,a=t,r={match:!1,pathIndex:0,commandIndex:0};a<e.segments.length;){if(i>=n.length)return r;var s=e.segments[a],l=fC(n[i]),o=i<n.length-1?n[i+1]:null;if(a>0&&void 0===l)break;if(l&&o&&"object"==typeof o&&void 0===o.outlets){if(!kC(l,o,s))return r;i+=2}else{if(!kC(l,{},s))return r;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(e,t,n),a=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var r=new Dk(e.segments.slice(0,i.pathIndex),{});return r.children.primary=new Dk(e.segments.slice(i.pathIndex),e.children),gC(r,0,a)}return i.match&&0===a.length?new Dk(e.segments,{}):i.match&&!e.hasChildren()?vC(e,t,n):i.match?gC(e,0,a):vC(e,t,n)}function gC(e,t,n){if(0===n.length)return new Dk(e.segments,{});var i=function(e){return"object"!=typeof e[0]?{primary:e}:void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),a={};return Ek(i,(function(n,i){null!==n&&(a[i]=mC(e.children[i],t,n))})),Ek(e.children,(function(e,t){void 0===i[t]&&(a[t]=e)})),new Dk(e.segments,a)}function vC(e,t,n){for(var i=e.segments.slice(0,t),a=0;a<n.length;){if("object"==typeof n[a]&&void 0!==n[a].outlets){var r=yC(n[a].outlets);return new Dk(i,r)}if(0===a&&cC(n[0]))i.push(new Mk(e.segments[t].path,n[0])),a++;else{var s=fC(n[a]),l=a<n.length-1?n[a+1]:null;s&&l&&cC(l)?(i.push(new Mk(s,bC(l))),a+=2):(i.push(new Mk(s,{})),a++)}}return new Dk(i,{})}function yC(e){var t={};return Ek(e,(function(e,n){null!==e&&(t[n]=vC(new Dk([],{}),0,e))})),t}function bC(e){var t={};return Ek(e,(function(e,n){return t[n]="".concat(e)})),t}function kC(e,t,n){return e==n.path&&wk(t,n.parameters)}var CC=function(){function e(t,n,i,a){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=a}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),oC(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,a=Qk(t);e.children.forEach((function(e){var t=e.value.outlet;i.deactivateRoutes(e,a[t],n),delete a[t]})),Ek(a,(function(e,t){i.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,a=t?t.value:null;if(i===a)if(i.component){var r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else a&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:a})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,i=t.getContext(e.value.outlet);if(i){var a=Qk(e),r=e.value.component?i.children:t;Ek(a,(function(e,t){return n.deactivateRouteAndItsChildren(e,r)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,a=Qk(t);e.children.forEach((function(e){i.activateRoutes(e,a[e.value.outlet],n),i.forwardEvent(new ck(e.value.snapshot))})),e.children.length&&this.forwardEvent(new ok(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,a=t?t.value:null;if(oC(i),i===a)if(i.component){var r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),wC(l.route)}else{var o=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=o?o.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=u,s.outlet&&s.outlet.activateWith(i,u),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function wC(e){oC(e.value),e.children.forEach(wC)}function _C(e){return"function"==typeof e}function xC(e){return e instanceof Ak}var SC=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},EC=function e(t){_classCallCheck(this,e),this.urlTree=t};function OC(e){return new w((function(t){return t.error(new SC(e))}))}function IC(e){return new w((function(t){return t.error(new EC(e))}))}function AC(e){return new w((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var DC=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=a,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Ne)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(B((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Hb((function(t){if(t instanceof EC)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof SC)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(B((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Hb((function(e){if(e instanceof SC)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new Dk([],{primary:e}):e;return new Ak(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(B((function(e){return new Dk([],e)}))):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){var i=this;return function(n,a){if(0===Object.keys(n).length)return dl({});var r=[],s=[],l={};return Ek(n,(function(n,a){var o,u,c=(o=a,u=n,i.expandSegmentGroup(e,t,u,o)).pipe(B((function(e){return l[a]=e})));"primary"===a?r.push(c):s.push(c)})),dl.apply(null,r.concat(s)).pipe(nh(),Fb(),B((function(){return l})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,i,a,r){var s=this;return dl.apply(void 0,_toConsumableArray(n)).pipe(B((function(l){return s.expandSegmentAgainstRoute(e,t,n,l,i,a,r).pipe(Hb((function(e){if(e instanceof SC)return dl(null);throw e})))})),nh(),jb((function(e){return!!e})),Hb((function(e,n){if(e instanceof Eb||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,i,a))return dl(new Dk([],{}));throw new SC(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,a,r,s){return LC(i)!==r?OC(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,a,r):OC(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,a,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,a,r)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var a=this,r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?IC(r):this.lineralizeSegments(n,r).pipe(U((function(n){var r=new Dk(n,{});return a.expandSegment(e,r,t,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,a,r){var s=this,l=MC(t,i,a),o=l.matched,u=l.consumedSegments,c=l.lastChild,h=l.positionalParamSegments;if(!o)return OC(t);var d=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?IC(d):this.lineralizeSegments(i,d).pipe(U((function(i){return s.expandSegment(e,t,n,i.concat(a.slice(c)),r,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i){var a=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(B((function(e){return n._loadedConfig=e,new Dk(i,{})}))):dl(new Dk(i,{}));var r=MC(t,n,i),s=r.matched,l=r.consumedSegments,o=r.lastChild;if(!s)return OC(t);var u=i.slice(o);return this.getChildConfig(e,n,i).pipe(U((function(e){var n=e.module,i=e.routes,r=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some((function(n){return PC(e,t,n)&&"primary"!==LC(n)}))}(e,n,i)?{segmentGroup:TC(new Dk(t,function(e,t){var n={};n.primary=t;var i,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var r=i.value;""===r.path&&"primary"!==LC(r)&&(n[LC(r)]=new Dk([],{}))}}catch(s){a.e(s)}finally{a.f()}return n}(i,new Dk(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return PC(e,t,n)}))}(e,n,i)?{segmentGroup:TC(new Dk(e.segments,function(e,t,n,i){var a,r={},s=_createForOfIteratorHelper(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;PC(e,t,l)&&!i[LC(l)]&&(r[LC(l)]=new Dk([],{}))}}catch(o){s.e(o)}finally{s.f()}return Object.assign(Object.assign({},i),r)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,l,u,i),s=r.segmentGroup,o=r.slicedSegments;return 0===o.length&&s.hasChildren()?a.expandChildren(n,i,s).pipe(B((function(e){return new Dk(l,e)}))):0===i.length&&0===o.length?dl(new Dk(l,{})):a.expandSegment(n,s,i,o,"primary",!0).pipe(B((function(e){return new Dk(l.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?dl(new vk(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?dl(t._loadedConfig):function(e,t,n){var i,a=t.canLoad;return a&&0!==a.length?q(a).pipe(B((function(i){var a,r=e.get(i);if(function(e){return e&&_C(e.canLoad)}(r))a=r.canLoad(t,n);else{if(!_C(r))throw new Error("Invalid CanLoad guard");a=r(t,n)}return Ok(a)}))).pipe(nh(),(i=function(e){return!0===e},function(e){return e.lift(new zb(i,void 0,e))})):dl(!0)}(e.injector,t,n).pipe(U((function(n){return n?i.configLoader.load(e.injector,t).pipe(B((function(e){return t._loadedConfig=e,e}))):function(e){return new w((function(t){return t.error(mk("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):dl(new vk([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return dl(n);if(i.numberOfChildren>1||!i.children.primary)return AC(e.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var a=this.createSegmentGroup(e,t.root,n,i);return new Ak(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Ek(e,(function(e,i){if("string"==typeof e&&e.startsWith(":")){var a=e.substring(1);n[i]=t[a]}else n[i]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var a=this,r=this.createSegments(e,t.segments,n,i),s={};return Ek(t.children,(function(t,r){s[r]=a.createSegmentGroup(e,t,n,i)})),new Dk(r,s)}},{key:"createSegments",value:function(e,t,n,i){var a=this;return t.map((function(t){return t.path.startsWith(":")?a.findPosParam(e,t,i):a.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r.path===e.path)return t.splice(i),r;i++}}catch(s){a.e(s)}finally{a.f()}return e}}]),e}();function MC(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(t.matcher||gk)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function TC(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Dk(e.segments.concat(t.segments),t.children)}return e}function PC(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function LC(e){return e.outlet||"primary"}var NC=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},RC=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function FC(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function HC(e,t,n){var i=Qk(e),a=e.value;Ek(i,(function(e,i){HC(e,a.component?t?t.children.getContext(i):null:t,n)})),n.canDeactivateChecks.push(new RC(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}var BC=Symbol("INITIAL_VALUE");function VC(){return lh((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=null,a=null;return D(t[t.length-1])&&(a=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&o(t[0])&&(t=t[0]),X(t,a).lift(new Yc(i))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(gh(1),ah(BC))})))).pipe(Ub((function(e,t){var n=!1;return t.reduce((function(e,i,a){if(e!==BC)return e;if(i===BC&&(n=!0),!n){if(!1===i)return i;if(a===t.length-1||xC(i))return i}return e}),e)}),BC),fl((function(e){return e!==BC})),B((function(e){return xC(e)?e:!0===e})),gh(1))}))}function jC(e,t){return null!==e&&t&&t(new uk(e)),dl(!0)}function zC(e,t){return null!==e&&t&&t(new lk(e)),dl(!0)}function qC(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?dl(i.map((function(i){return Gv((function(){var a,r=FC(i,t,n);if(function(e){return e&&_C(e.canActivate)}(r))a=Ok(r.canActivate(t,e));else{if(!_C(r))throw new Error("Invalid CanActivate guard");a=Ok(r(t,e))}return a.pipe(jb())}))}))).pipe(VC()):dl(!0)}function UC(e,t,n){var i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Gv((function(){return dl(t.guards.map((function(a){var r,s=FC(a,t.node,n);if(function(e){return e&&_C(e.canActivateChild)}(s))r=Ok(s.canActivateChild(i,e));else{if(!_C(s))throw new Error("Invalid CanActivateChild guard");r=Ok(s(i,e))}return r.pipe(jb())}))).pipe(VC())}))}));return dl(a).pipe(VC())}var WC=function e(){_classCallCheck(this,e)},YC=function(){function e(t,n,i,a,r,s){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}return _createClass(e,[{key:"recognize",value:function(){try{var e=KC(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new aC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Jk(n,t),a=new rC(this.url,i);return this.inheritParamsAndData(a._root),dl(a)}catch($K){return new w((function(t){return t.error($K)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=iC(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,i=this,a=Pk(t,(function(t,n){return i.processSegmentGroup(e,t,n)}));return n={},a.forEach((function(e){var t=n[e.value.outlet];if(t){var i=t.url.map((function(e){return e.toString()})).join("/"),a=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(a,"'."))}n[e.value.outlet]=e.value})),a.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),a}},{key:"processSegment",value:function(e,t,n,i){var a,r=_createForOfIteratorHelper(e);try{for(r.s();!(a=r.n()).done;){var s=a.value;try{return this.processSegmentAgainstRoute(s,t,n,i)}catch($K){if(!($K instanceof WC))throw $K}}}catch(l){r.e(l)}finally{r.f()}if(this.noLeftoversInUrl(t,n,i))return[];throw new WC}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo)throw new WC;if((e.outlet||"primary")!==i)throw new WC;var a,r=[],s=[];if("**"===e.path){var l=n.length>0?Sk(n).parameters:{};a=new aC(n,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JC(e),i,e.component,e,GC(t),XC(t)+n.length,QC(e))}else{var o=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new WC;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||gk)(n,e,t);if(!i)throw new WC;var a={};Ek(i.posParams,(function(e,t){a[t]=e.path}));var r=i.consumed.length>0?Object.assign(Object.assign({},a),i.consumed[i.consumed.length-1].parameters):a;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:r}}(t,e,n);r=o.consumedSegments,s=n.slice(o.lastChild),a=new aC(r,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JC(e),i,e.component,e,GC(t),XC(t)+r.length,QC(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=KC(t,r,s,u,this.relativeLinkResolution),h=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&h.hasChildren()){var p=this.processChildren(u,h);return[new Jk(a,p)]}if(0===u.length&&0===d.length)return[new Jk(a,[])];var f=this.processSegment(u,h,d,"primary");return[new Jk(a,f)]}}]),e}();function GC(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function XC(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function KC(e,t,n,i,a){if(n.length>0&&function(e,t,n){return n.some((function(n){return $C(e,t,n)&&"primary"!==ZC(n)}))}(e,n,i)){var r=new Dk(t,function(e,t,n,i){var a={};a.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var r,s=_createForOfIteratorHelper(n);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(""===l.path&&"primary"!==ZC(l)){var o=new Dk([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,a[ZC(l)]=o}}}catch(u){s.e(u)}finally{s.f()}return a}(e,t,i,new Dk(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return $C(e,t,n)}))}(e,n,i)){var s=new Dk(e.segments,function(e,t,n,i,a,r){var s,l={},o=_createForOfIteratorHelper(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;if($C(e,n,u)&&!a[ZC(u)]){var c=new Dk([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===r?e.segments.length:t.length,l[ZC(u)]=c}}}catch(h){o.e(h)}finally{o.f()}return Object.assign(Object.assign({},a),l)}(e,t,n,i,e.children,a));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var l=new Dk(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function $C(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ZC(e){return e.outlet||"primary"}function JC(e){return e.data||{}}function QC(e){return e.resolve||{}}function ew(e,t,n,i){var a=FC(e,t,i);return Ok(a.resolve?a.resolve(t,n):a(t,n))}function tw(e){return function(t){return t.pipe(lh((function(t){var n=e(t);return n?q(n).pipe(B((function(){return t}))):q([t])})))}}var nw=function e(){_classCallCheck(this,e)},iw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),aw=new xe("ROUTES"),rw=function(){function e(t,n,i,a){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=a}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(B((function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var a=i.create(e);return new vk(xk(a.injector.get(aw)).map(Ck),a)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?q(this.loader.load(e)):Ok(e()).pipe(U((function(e){return e instanceof Re?dl(e):q(t.compiler.compileModuleAsync(e))})))}}]),e}(),sw=function e(){_classCallCheck(this,e)},lw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function ow(e){throw e}function uw(e,t,n){return t.parse("/")}function cw(e,t){return dl(null)}var hw=function(){function e(t,n,i,a,r,s,l,o){var u=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=a,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=ow,this.malformedUriErrorHandler=uw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cw,afterPreactivation:cw},this.urlHandlingStrategy=new lw,this.routeReuseStrategy=new iw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Ne),this.console=r.get(za);var c=r.get(er);this.isNgZoneEnabled=c instanceof er,this.resetConfig(o),this.currentUrlTree=new Ak(new Dk([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rw(s,l,(function(e){return u.triggerEvent(new rk(e))}),(function(e){return u.triggerEvent(new sk(e))})),this.routerState=tC(this.currentUrlTree,this.rootComponentType),this.transitions=new Uc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(fl((function(e){return 0!==e.id})),B((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),lh((function(e){var i,a,r,s,l=!1,o=!1;return dl(e).pipe(bh((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),lh((function(e){var i,a,r,s,l=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||l)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return dl(e).pipe(lh((function(e){var i=t.transitions.getValue();return n.next(new $b(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?fh:[e]})),lh((function(e){return Promise.resolve(e)})),(i=t.ngModule.injector,a=t.configLoader,r=t.urlSerializer,s=t.config,function(e){return e.pipe(lh((function(e){return function(e,t,n,i,a){return new DC(e,t,n,i,a).apply()}(i,a,r,e.extractedUrl,s).pipe(B((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),bh((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,i,a,r){return function(i){return i.pipe(U((function(i){return function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new YC(e,t,n,i,a,r).recognize()}(e,n,i.urlAfterRedirects,(s=i.urlAfterRedirects,t.serializeUrl(s)),a,r).pipe(B((function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})})));var s})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),bh((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),bh((function(e){var i=new ek(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)})));if(l&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var o=e.id,u=e.extractedUrl,c=e.source,h=e.restoredState,d=e.extras,p=new $b(o,t.serializeUrl(u),c,h);n.next(p);var f=tC(u,t.rootComponentType).snapshot;return dl(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:u,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),fh})),tw((function(e){var n=e.targetSnapshot,i=e.id,a=e.extractedUrl,r=e.rawUrl,s=e.extras,l=s.skipLocationChange,o=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:a,rawUrlTree:r,skipLocationChange:!!l,replaceUrl:!!o})})),bh((function(e){var n=new tk(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),B((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,i=e.currentSnapshot,a=t.rootContexts,r=n._root,function e(t,n,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=Qk(n);return t.children.forEach((function(t){!function(t,n,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=t.value,l=n?n.value:null,o=i?i.getContext(t.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Tk(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Tk(e.url,t.url)||!wk(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uC(e,t)||!wk(e.queryParams,t.queryParams);case"paramsChange":default:return!uC(e,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new NC(a)):(s.data=l.data,s._resolvedData=l._resolvedData),e(t,n,s.component?o?o.children:null:i,a,r),u&&r.canDeactivateChecks.push(new RC(o&&o.outlet&&o.outlet.component||null,l))}else l&&HC(n,o,r),r.canActivateChecks.push(new NC(a)),e(t,null,s.component?o?o.children:null:i,a,r)}(t,s[t.value.outlet],i,a.concat([t.value]),r),delete s[t.value.outlet]})),Ek(s,(function(e,t){return HC(e,i.getContext(t),r)})),r}(r,i?i._root:null,a,[r.value]))});var n,i,a,r})),function(e,t){return function(n){return n.pipe(U((function(n){var i=n.targetSnapshot,a=n.currentSnapshot,r=n.guards,s=r.canActivateChecks,l=r.canDeactivateChecks;return 0===l.length&&0===s.length?dl(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return q(e).pipe(U((function(e){return function(e,t,n,i,a){var r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?dl(r.map((function(r){var s,l=FC(r,t,a);if(function(e){return e&&_C(e.canDeactivate)}(l))s=Ok(l.canDeactivate(e,t,n,i));else{if(!_C(l))throw new Error("Invalid CanDeactivate guard");s=Ok(l(e,t,n,i))}return s.pipe(jb())}))).pipe(VC()):dl(!0)}(e.component,e.route,n,t,i)})),jb((function(e){return!0!==e}),!0))}(l,i,a,e).pipe(U((function(n){return n&&"boolean"==typeof n?function(e,t,n,i){return q(t).pipe(pl((function(t){return q([zC(t.route.parent,i),jC(t.route,i),UC(e,t.path,n),qC(e,t.route,n)]).pipe(nh(),jb((function(e){return!0!==e}),!0))})),jb((function(e){return!0!==e}),!0))}(i,s,e,t):dl(n)})),B((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),bh((function(e){if(xC(e.guardsResult)){var n=mk('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),bh((function(e){var n=new nk(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),fl((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new Jb(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0})),tw((function(e){if(e.guards.canActivateChecks.length)return dl(e).pipe(bh((function(e){var n=new ik(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(U((function(e){var t=e.targetSnapshot,a=e.guards.canActivateChecks;return a.length?q(a).pipe(pl((function(e){return function(e,t,n,i){return function(e,t,n,i){var a=Object.keys(e);if(0===a.length)return dl({});if(1===a.length){var r=a[0];return ew(e[r],t,n,i).pipe(B((function(e){return _defineProperty2({},r,e)})))}var s={};return q(a).pipe(U((function(a){return ew(e[a],t,n,i).pipe(B((function(e){return s[a]=e,e})))}))).pipe(Fb(),B((function(){return s})))}(e._resolve,e,t,i).pipe(B((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),iC(e,n).resolve),null})))}(e.route,t,n,i)})),function(e,t){return arguments.length>=2?function(n){return b(Ub(e,t),Ob(1),Lb(t))(n)}:function(t){return b(Ub((function(t,n,i){return e(t,n,i+1)})),Ob(1))(t)}}((function(e,t){return e})),B((function(t){return e}))):dl(e)})))}),bh((function(e){var n=new ak(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,i})),tw((function(e){var n=e.targetSnapshot,i=e.id,a=e.extractedUrl,r=e.rawUrl,s=e.extras,l=s.skipLocationChange,o=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:a,rawUrlTree:r,skipLocationChange:!!l,replaceUrl:!!o})})),B((function(e){var n=function(e,t,n){var i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){var a=i.value;a._futureSnapshot=n.value;var r=function(t,n,i){return n.children.map((function(n){var a,r=_createForOfIteratorHelper(i.children);try{for(r.s();!(a=r.n()).done;){var s=a.value;if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s)}}catch(l){r.e(l)}finally{r.f()}return e(t,n)}))}(t,n,i);return new Jk(a,r)}var s=t.retrieve(n.value);if(s){var l=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,l),l}var o,u=new nC(new Uc((o=n.value).url),new Uc(o.params),new Uc(o.queryParams),new Uc(o.fragment),new Uc(o.data),o.outlet,o.component,o),c=n.children.map((function(n){return e(t,n)}));return new Jk(u,c)}(e,t._root,n?n._root:void 0);return new eC(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),bh((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(a=t.rootContexts,r=t.routeReuseStrategy,s=function(e){return t.triggerEvent(e)},B((function(e){return new CC(r,e.targetRouterState,e.currentRouterState,s).activate(a),e}))),bh({next:function(){l=!0},complete:function(){l=!0}}),(i=function(){if(!l&&!o){t.resetUrlToCurrentUrlTree();var i=new Jb(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Gb(i))}),Hb((function(i){if(o=!0,(l=i)&&l.ngNavigationCancelingError){var a=xC(i.url);a||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var r=new Jb(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(r),a?setTimeout((function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new Qb(e.id,t.serializeUrl(e.extractedUrl),i);n.next(s);try{e.resolve(t.errorHandler(i))}catch(u){e.reject(u)}}var l;return fh})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),i="popstate"===t.type?"popstate":"hashchange",a=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,i,a,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){yk(e),this.config=e.map(Ck),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,a=t.fragment,r=t.preserveQueryParams,s=t.queryParamsHandling,l=t.preserveFragment;it()&&r&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var o=n||this.routerState.root,u=l?this.currentUrlTree.fragment:a,c=null;if(s)switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=r?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,i,a){if(0===n.length)return hC(t.root,t.root,t,i,a);var r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new dC(!0,0,e);var t=0,n=!1,i=e.reduce((function(e,i,a){if("object"==typeof i&&null!=i){if(i.outlets){var r={};return Ek(i.outlets,(function(e,t){r[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:r}])}if(i.segmentPath)return[].concat(_toConsumableArray(e),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(e),[i]):0===a?(i.split("/").forEach((function(i,a){0==a&&"."===i||(0==a&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))})),e):[].concat(_toConsumableArray(e),[i])}),[]);return new dC(n,t,i)}(n);if(r.toRoot())return hC(t.root,new Dk([],{}),t,i,a);var s=function(e,t,n){if(e.isAbsolute)return new pC(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new pC(n.snapshot._urlSegment,!0,0);var i=cC(e.commands[0])?0:1;return function(e,t,n){for(var i=e,a=t,r=n;r>a;){if(r-=a,!(i=i.parent))throw new Error("Invalid number of '../'");a=i.segments.length}return new pC(i,!1,a-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(r,t,e),l=s.processChildren?gC(s.segmentGroup,s.index,r.commands):mC(s.segmentGroup,s.index,r.commands);return hC(s.segmentGroup,l,t,i,a)}(o,this.currentUrlTree,e,c,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};it()&&this.isNgZoneEnabled&&!er.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=xC(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch($K){t=this.malformedUriErrorHandler($K,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(xC(e))return Ik(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Ik(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return null!=i&&(t[n]=i),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Zb(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,i,a){var r,s,l,o=this.getTransition();if(o&&"imperative"!==t&&"imperative"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"hashchange"==t&&"popstate"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"popstate"==t&&"hashchange"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);a?(r=a.resolve,s=a.reject,l=a.promise):l=new Promise((function(e,t){r=e,s=t}));var u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:r,reject:s,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,i){var a=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(a)||t?this.location.replaceState(a,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(a,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}(),dw=function(){function e(t,n,i){var a=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Zb&&a.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var a={skipLocationChange:pw(this.skipLocationChange),replaceUrl:pw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){it()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:pw(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:pw(this.preserveFragment)})}}]),e}();function pw(e){return""===e||!!e}var fw=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new mw,this.attachRef=null},mw=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new fw,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),gw=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ma,this.deactivateEvents=new Ma,this.name=a||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,a=new vw(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,a),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}(),vw=function(){function e(t,n,i){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=i}return _createClass(e,[{key:"get",value:function(e,t){return e===nC?this.route:e===mw?this.childContexts:this.parent.get(e,t)}}]),e}(),yw=function e(){_classCallCheck(this,e)},bw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Hb((function(){return dl(null)})))}}]),e}(),kw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return dl(null)}}]),e}(),Cw=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this.router=t,this.injector=a,this.preloadingStrategy=r,this.loader=new rw(n,i,(function(e){return t.triggerEvent(new rk(e))}),(function(e){return t.triggerEvent(new sk(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(fl((function(e){return e instanceof Zb})),pl((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(Ne);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r.loadChildren&&!r.canLoad&&r._loadedConfig){var s=r._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else r.loadChildren&&!r.canLoad?i.push(this.preloadConfig(e,r)):r.children&&i.push(this.processRoutes(e,r.children))}}catch(l){a.e(l)}finally{a.f()}return q(i).pipe(G(),B((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(U((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),ww=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof $b?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zb&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof hk&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new hk(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),_w=new xe("ROUTER_CONFIGURATION"),xw=new xe("ROUTER_FORROOT_GUARD"),Sw=[Hl,{provide:Lk,useClass:Nk},{provide:hw,useFactory:Tw,deps:[Lk,mw,Hl,Nt,kr,$a,aw,_w,[sw,new re],[nw,new re]]},mw,{provide:nC,useFactory:Pw,deps:[hw]},{provide:kr,useClass:_r},Cw,kw,bw,{provide:_w,useValue:{enableTracing:!1}}];function Ew(){return new pr("Router",hw)}var Ow=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Sw,Mw(t),{provide:xw,useFactory:Dw,deps:[[hw,new re,new le]]},{provide:_w,useValue:n||{}},{provide:Tl,useFactory:Aw,deps:[Cl,[new ae(Nl),new re],_w]},{provide:ww,useFactory:Iw,deps:[hw,jo,_w]},{provide:yw,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:kw},{provide:pr,multi:!0,useFactory:Ew},[Lw,{provide:La,multi:!0,useFactory:Nw,deps:[Lw]},{provide:Fw,useFactory:Rw,deps:[Lw]},{provide:ja,multi:!0,useExisting:Fw}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Mw(t)]}}}]),e}();function Iw(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ww(e,t,n)}function Aw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Fl(e,t):new Rl(e,t)}function Dw(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Mw(e){return[{provide:Ut,multi:!0,useValue:e},{provide:aw,multi:!0,useValue:e}]}function Tw(e,t,n,i,a,r,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},o=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,c=new hw(null,e,t,n,i,a,r,xk(s));if(o&&(c.urlHandlingStrategy=o),u&&(c.routeReuseStrategy=u),l.errorHandler&&(c.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(c.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var h=yl();c.events.subscribe((function(e){h.logGroup("Router Event: ".concat(e.constructor.name)),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return l.onSameUrlNavigation&&(c.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(c.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(c.relativeLinkResolution=l.relativeLinkResolution),c}function Pw(e){return e.routerState.root}var Lw=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(xl,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),i=e.injector.get(hw),a=e.injector.get(_w);if(e.isLegacyDisabled(a)||e.isLegacyEnabled(a))t(!0);else if("disabled"===a.initialNavigation)i.setUpLocationChangeListener(),t(!0);else{if("enabled"!==a.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(a.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return e.initNavigation?dl(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(_w),n=this.injector.get(Cw),i=this.injector.get(ww),a=this.injector.get(hw),r=this.injector.get(yr);e===r.components[0]&&(this.isLegacyEnabled(t)?a.initialNavigation():this.isLegacyDisabled(t)&&a.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),a.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function Nw(e){return e.appInitializer.bind(e)}function Rw(e){return e.bootstrapListener.bind(e)}var Fw=new xe("Router Initializer"),Hw=Qn({encapsulation:2,styles:[],data:{}});function Bw(e){return ns(0,[(e()(),Br(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),la(1,212992,null,0,gw,[mw,Rn,sn,[8,null],Mt],null,null)],(function(e,t){e(t,1,0)}),null)}var Vw,jw=Vi("ng-component",dk,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"ng-component",[],null,null,null,Bw,Hw)),la(1,49152,null,0,dk,[],null,null)],null,null)}),{},{},[]),zw={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},qw=function e(t){_classCallCheck(this,e),Object.assign(this,t)},Uw=((Vw=function(){function e(){_classCallCheck(this,e),this.spinnerObservable=new Rg(1)}return _createClass(e,[{key:"getSpinner",value:function(e){return this.spinnerObservable.asObservable().pipe(fl((function(t){return t&&t.name===e})))}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary",n=arguments.length>1?arguments[1]:void 0;return new Promise((function(i,a){n&&Object.keys(n).length?(n.name=t,e.spinnerObservable.next(new qw(Object.assign(Object.assign({},n),{show:!0}))),i(!0)):(e.spinnerObservable.next(new qw({name:t,show:!0})),i(!0))}))}},{key:"hide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(i,a){setTimeout((function(){e.spinnerObservable.next(new qw({name:t,show:!1})),i(!0)}),n)}))}}]),e}()).\u0275prov=ce({factory:function(){return new Vw},token:Vw,providedIn:"root"}),Vw),Ww=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.spinnerService=t,this.changeDetector=n,this.spinner=new qw,this.ngUnsubscribe=new I,this.setDefaultOptions=function(){i.spinner=new qw({name:i.name,bdColor:i.bdColor,size:i.size,color:i.color,type:i.type,fullScreen:i.fullScreen,divArray:i.divArray,divCount:i.divCount,show:i.show,zIndex:i.zIndex,template:i.template})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.type="ball-scale-multiple",this.size="large",this.fullScreen=!0,this.name="primary",this.template=null,this.divArray=[],this.divCount=0,this.show=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.setDefaultOptions(),this.spinnerService.getSpinner(this.name).pipe(ch(this.ngUnsubscribe)).subscribe((function(t){e.setDefaultOptions(),Object.assign(e.spinner,t),t.show&&e.onInputChange(),e.changeDetector.markForCheck()}))}},{key:"ngOnChanges",value:function(e){for(var t in e)if(t){var n=e[t];if(n.isFirstChange())return;void 0!==n.currentValue&&n.currentValue!==n.previousValue&&""!==n.currentValue&&(this.spinner[t]=n.currentValue)}}},{key:"getClass",value:function(e,t){this.spinner.divCount=zw[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((function(e,t){return t}));var n="";switch(t.toLowerCase()){case"small":n="la-sm";break;case"medium":n="la-2x";break;case"large":n="la-3x"}return"la-"+e+" "+n}},{key:"onInputChange",value:function(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}(),Yw=function e(){_classCallCheck(this,e)},Gw=Qn({encapsulation:0,styles:['.la-ball-8bits[_ngcontent-%COMP%], .la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-8bits[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:12px;height:12px}.la-ball-8bits.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:4px;height:4px;border-radius:0;opacity:0;-webkit-transform:translate(100%,100%);transform:translate(100%,100%);-webkit-animation:1s infinite ball-8bits;animation:1s infinite ball-8bits}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.9375s;animation-delay:-.9375s;top:-100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.875s;animation-delay:-.875s;top:-100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8125s;animation-delay:-.8125s;top:-66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.75s;animation-delay:-.75s;top:-33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.6875s;animation-delay:-.6875s;top:0;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.625s;animation-delay:-.625s;top:33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.5625s;animation-delay:-.5625s;top:66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.5s;animation-delay:-.5s;top:100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.4375s;animation-delay:-.4375s;top:100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-.375s;animation-delay:-.375s;top:100%;left:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:-.3125s;animation-delay:-.3125s;top:66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:-.25s;animation-delay:-.25s;top:33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:-.1875s;animation-delay:-.1875s;top:0;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:-.125s;animation-delay:-.125s;top:-33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:-.0625s;animation-delay:-.0625s;top:-66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){-webkit-animation-delay:0s;animation-delay:0s;top:-100%;left:-33.3333333333%}.la-ball-8bits.la-sm[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-8bits.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:2px}.la-ball-8bits.la-2x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-8bits.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-8bits.la-3x[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-8bits.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:12px}@-webkit-keyframes ball-8bits{0%,50%{opacity:1}51%{opacity:0}}@keyframes ball-8bits{0%,50%{opacity:1}51%{opacity:0}}.la-ball-atom[_ngcontent-%COMP%], .la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-atom[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-atom.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){position:absolute;top:50%;left:50%;z-index:1;width:60%;height:60%;background:#aaa;border-radius:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:4.5s linear infinite ball-atom-shrink;animation:4.5s linear infinite ball-atom-shrink}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){position:absolute;left:0;z-index:0;width:100%;height:100%;background:0 0;-webkit-animation:1.5s steps(2,end) infinite ball-atom-zindex;animation:1.5s steps(2,end) infinite ball-atom-zindex}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{position:absolute;top:0;left:0;width:10px;height:10px;margin-top:-5px;margin-left:-5px;content:"";background:currentColor;border-radius:50%;opacity:.75;-webkit-animation:1.5s infinite ball-atom-position,1.5s infinite ball-atom-size;animation:1.5s infinite ball-atom-position,1.5s infinite ball-atom-size}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.75s;animation-delay:.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:0s,-1.125s;animation-delay:0s,-1.125s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:rotate(120deg);transform:rotate(120deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-1s,-.75s;animation-delay:-1s,-.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-transform:rotate(240deg);transform:rotate(240deg);-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.5s,-125ms;animation-delay:-.5s,-125ms}.la-ball-atom.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-atom.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-atom.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-atom.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-atom.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-atom.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-atom-position{50%{top:100%;left:100%}}@keyframes ball-atom-position{50%{top:100%;left:100%}}@-webkit-keyframes ball-atom-size{50%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}}@keyframes ball-atom-size{50%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}}@-webkit-keyframes ball-atom-zindex{50%{z-index:10}}@keyframes ball-atom-zindex{50%{z-index:10}}@-webkit-keyframes ball-atom-shrink{50%{-webkit-transform:translate(-50%,-50%) scale(.8,.8);transform:translate(-50%,-50%) scale(.8,.8)}}@keyframes ball-atom-shrink{50%{-webkit-transform:translate(-50%,-50%) scale(.8,.8);transform:translate(-50%,-50%) scale(.8,.8)}}.la-ball-beat[_ngcontent-%COMP%], .la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:.7s linear -.15s infinite ball-beat;animation:.7s linear -.15s infinite ball-beat}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-beat.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-beat.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-beat.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-beat{50%{opacity:.2;-webkit-transform:scale(.75);transform:scale(.75)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-beat{50%{opacity:.2;-webkit-transform:scale(.75);transform:scale(.75)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-circus[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:16px;height:16px}.la-ball-circus.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:-100%;display:block;width:100%;height:100%;border-radius:100%;opacity:.5;-webkit-animation:2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-position,2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-size;animation:2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-position,2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-size}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s,-.5s;animation-delay:0s,-.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s,-1s;animation-delay:-.5s,-1s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s,-1.5s;animation-delay:-1s,-1.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s,-2s;animation-delay:-1.5s,-2s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2s,-2.5s;animation-delay:-2s,-2.5s}.la-ball-circus.la-sm[_ngcontent-%COMP%], .la-ball-circus.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-circus.la-2x[_ngcontent-%COMP%], .la-ball-circus.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-circus.la-3x[_ngcontent-%COMP%], .la-ball-circus.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48px;height:48px}@-webkit-keyframes ball-circus-position{50%{left:100%}}@keyframes ball-circus-position{50%{left:100%}}@-webkit-keyframes ball-circus-size{50%{-webkit-transform:scale(.3,.3);transform:scale(.3,.3)}}@keyframes ball-circus-size{50%{-webkit-transform:scale(.3,.3);transform:scale(.3,.3)}}.la-ball-climbing-dot[_ngcontent-%COMP%], .la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-climbing-dot[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:42px;height:32px}.la-ball-climbing-dot.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){position:absolute;bottom:32%;left:18%;width:14px;height:14px;border-radius:100%;-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation:.6s ease-in-out infinite ball-climbing-dot-jump;animation:.6s ease-in-out infinite ball-climbing-dot-jump}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){position:absolute;top:0;right:0;width:14px;height:2px;border-radius:0;-webkit-transform:translate(60%,0);transform:translate(60%,0);-webkit-animation:1.8s linear infinite ball-climbing-dot-steps;animation:1.8s linear infinite ball-climbing-dot-steps}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(2){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(3){-webkit-animation-delay:-.6s;animation-delay:-.6s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:6px;height:6px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:6px;height:1px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%]{width:84px;height:64px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:28px;height:28px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:28px;height:4px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%]{width:126px;height:96px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:42px;height:42px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:42px;height:6px}@-webkit-keyframes ball-climbing-dot-jump{0%,100%{-webkit-transform:scale(1,.7);transform:scale(1,.7)}20%,80%,90%{-webkit-transform:scale(.7,1.2);transform:scale(.7,1.2)}40%,46%{-webkit-transform:scale(1,1);transform:scale(1,1)}50%{bottom:125%}}@keyframes ball-climbing-dot-jump{0%,100%{-webkit-transform:scale(1,.7);transform:scale(1,.7)}20%,80%,90%{-webkit-transform:scale(.7,1.2);transform:scale(.7,1.2)}40%,46%{-webkit-transform:scale(1,1);transform:scale(1,1)}50%{bottom:125%}}@-webkit-keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}100%{top:100%;right:100%;opacity:0}}@keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}100%{top:100%;right:100%;opacity:0}}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%], .la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;position:absolute;top:50%;left:50%;background:0 0;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-clip-rotate-multiple-rotate;animation:1s ease-in-out infinite ball-clip-rotate-multiple-rotate}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;border-right-color:transparent;border-left-color:transparent}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;border-top-color:transparent;border-bottom-color:transparent;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-direction:reverse;animation-direction:reverse}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-multiple-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@keyframes ball-clip-rotate-multiple-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%], .la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;border-radius:100%}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;background:0 0;border-style:solid;border-width:2px;border-right-color:transparent;border-left-color:transparent;-webkit-animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-rotate;animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-rotate}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;-webkit-animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-scale;animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-scale}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px;border-width:6px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-pulse-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@keyframes ball-clip-rotate-pulse-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@-webkit-keyframes ball-clip-rotate-pulse-scale{0%,100%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;-webkit-transform:translate(-50%,-50%) scale(.15);transform:translate(-50%,-50%) scale(.15)}}@keyframes ball-clip-rotate-pulse-scale{0%,100%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;-webkit-transform:translate(-50%,-50%) scale(.15);transform:translate(-50%,-50%) scale(.15)}}.la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-bottom-color:transparent;border-radius:100%;-webkit-animation:.75s linear infinite ball-clip-rotate;animation:.75s linear infinite ball-clip-rotate}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-clip-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-clip-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-elastic-dots[_ngcontent-%COMP%], .la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-elastic-dots[_ngcontent-%COMP%]{display:block;color:#fff;width:120px;height:10px;font-size:0;text-align:center}.la-ball-elastic-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid currentColor;display:inline-block;width:10px;height:10px;white-space:nowrap;border-radius:100%;-webkit-animation:1s infinite ball-elastic-dots-anim;animation:1s infinite ball-elastic-dots-anim}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%]{width:60px;height:4px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%]{width:240px;height:20px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%]{width:360px;height:30px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-elastic-dots-anim{0%,100%{margin:0;-webkit-transform:scale(1);transform:scale(1)}50%{margin:0 5%;-webkit-transform:scale(.65);transform:scale(.65)}}@keyframes ball-elastic-dots-anim{0%,100%{margin:0;-webkit-transform:scale(1);transform:scale(1)}50%{margin:0 5%;-webkit-transform:scale(.65);transform:scale(.65)}}.la-ball-fall[_ngcontent-%COMP%], .la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fall[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-fall.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;opacity:0;-webkit-animation:1s ease-in-out infinite ball-fall;animation:1s ease-in-out infinite ball-fall}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-fall.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-fall.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-fall.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-fall.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-fall.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-fall.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-fall{0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}10%,90%{opacity:.5}20%,80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}}@keyframes ball-fall{0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}10%,90%{opacity:.5}20%,80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}}.la-ball-fussion[_ngcontent-%COMP%], .la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fussion[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:8px;height:8px}.la-ball-fussion.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:12px;height:12px;border-radius:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:1s infinite ball-fussion-ball1;animation:1s infinite ball-fussion-ball1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:50%;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:50%;left:100%;z-index:2;-webkit-animation-name:ball-fussion-ball2;animation-name:ball-fussion-ball2}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:100%;left:50%;z-index:1;-webkit-animation-name:ball-fussion-ball3;animation-name:ball-fussion-ball3}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:0;z-index:2;-webkit-animation-name:ball-fussion-ball4;animation-name:ball-fussion-ball4}.la-ball-fussion.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-fussion.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-fussion.la-2x[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-fussion.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-ball-fussion.la-3x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-fussion.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@-webkit-keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}.la-ball-grid-beat[_ngcontent-%COMP%], .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:36px;height:36px}.la-ball-grid-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-beat;animation-name:ball-grid-beat;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-beat{0%,100%{opacity:1}50%{opacity:.35}}@keyframes ball-grid-beat{0%,100%{opacity:1}50%{opacity:.35}}.la-ball-grid-pulse[_ngcontent-%COMP%], .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:36px;height:36px}.la-ball-grid-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-pulse;animation-name:ball-grid-pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-pulse{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.35;-webkit-transform:scale(.45);transform:scale(.45)}}@keyframes ball-grid-pulse{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.35;-webkit-transform:scale(.45);transform:scale(.45)}}.la-ball-newton-cradle[_ngcontent-%COMP%], .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-newton-cradle[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:10px}.la-ball-newton-cradle.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;border-radius:100%}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-transform:translateX(0);transform:translateX(0);-webkit-animation:1s ease-out infinite ball-newton-cradle-left;animation:1s ease-out infinite ball-newton-cradle-left}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-transform:translateX(0);transform:translateX(0);-webkit-animation:1s ease-out infinite ball-newton-cradle-right;animation:1s ease-out infinite ball-newton-cradle-right}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%]{width:20px;height:4px}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%]{width:80px;height:20px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%]{width:120px;height:30px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-newton-cradle-left{25%{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes ball-newton-cradle-left{25%{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes ball-newton-cradle-right{100%,50%{-webkit-transform:translateX(0);transform:translateX(0)}75%{-webkit-transform:translateX(100%);transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes ball-newton-cradle-right{100%,50%{-webkit-transform:translateX(0);transform:translateX(0)}75%{-webkit-transform:translateX(100%);transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.la-ball-pulse-rise[_ngcontent-%COMP%], .la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-rise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:70px;height:14px}.la-ball-pulse-rise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:2px;border-radius:100%;-webkit-animation:1s cubic-bezier(.15,.36,.9,.6) infinite ball-pulse-rise-even;animation:1s cubic-bezier(.15,.36,.9,.6) infinite ball-pulse-rise-even}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-name:ball-pulse-rise-odd;animation-name:ball-pulse-rise-odd}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%]{width:34px;height:6px}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%]{width:140px;height:28px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:4px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%]{width:210px;height:42px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:6px}@-webkit-keyframes ball-pulse-rise-even{0%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}25%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}50%{opacity:.35;-webkit-transform:scale(.3);transform:scale(.3)}75%{-webkit-transform:translateY(200%);transform:translateY(200%)}100%{opacity:1;-webkit-transform:translateY(0);-webkit-transform:scale(1);transform:translateY(0);transform:scale(1)}}@keyframes ball-pulse-rise-even{0%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}25%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}50%{opacity:.35;-webkit-transform:scale(.3);transform:scale(.3)}75%{-webkit-transform:translateY(200%);transform:translateY(200%)}100%{opacity:1;-webkit-transform:translateY(0);-webkit-transform:scale(1);transform:translateY(0);transform:scale(1)}}@-webkit-keyframes ball-pulse-rise-odd{0%{opacity:.35;-webkit-transform:scale(.4);transform:scale(.4)}25%{-webkit-transform:translateY(200%);transform:translateY(200%)}50%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}100%{opacity:.35;-webkit-transform:translateY(0);-webkit-transform:scale(.75);transform:translateY(0);transform:scale(.75)}}@keyframes ball-pulse-rise-odd{0%{opacity:.35;-webkit-transform:scale(.4);transform:scale(.4)}25%{-webkit-transform:translateY(200%);transform:translateY(200%)}50%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}100%{opacity:.35;-webkit-transform:translateY(0);-webkit-transform:scale(.75);transform:translateY(0);transform:scale(.75)}}.la-ball-pulse-sync[_ngcontent-%COMP%], .la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-sync[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-pulse-sync.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:.6s ease-in-out infinite ball-pulse-sync;animation:.6s ease-in-out infinite ball-pulse-sync}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.14s;animation-delay:-.14s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.07s;animation-delay:-.07s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse-sync{33%{-webkit-transform:translateY(100%);transform:translateY(100%)}66%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes ball-pulse-sync{33%{-webkit-transform:translateY(100%);transform:translateY(100%)}66%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}.la-ball-pulse[_ngcontent-%COMP%], .la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:1s infinite ball-pulse;animation:1s infinite ball-pulse}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse{0%,100%,60%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}30%{opacity:.1;-webkit-transform:scale(.01);transform:scale(.01)}}@keyframes ball-pulse{0%,100%,60%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}30%{opacity:.1;-webkit-transform:scale(.01);transform:scale(.01)}}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:10px;height:10px}.la-ball-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;border-radius:100%;-webkit-animation:1s cubic-bezier(.7,-.13,.22,.86) infinite ball-rotate-animation;animation:1s cubic-bezier(.7,-.13,.22,.86) infinite ball-rotate-animation}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;width:inherit;height:inherit;margin:inherit;content:"";background:currentColor;border-radius:inherit;opacity:.8}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:0;left:-150%}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{top:0;left:150%}.la-ball-rotate.la-sm[_ngcontent-%COMP%], .la-ball-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-rotate.la-2x[_ngcontent-%COMP%], .la-ball-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-rotate.la-3x[_ngcontent-%COMP%], .la-ball-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-rotate-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-rotate-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-running-dots[_ngcontent-%COMP%], .la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-running-dots[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:10px;height:10px}.la-ball-running-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:10px;height:10px;margin-left:-25px;border-radius:100%;-webkit-animation:2s linear infinite ball-running-dots-animate;animation:2s linear infinite ball-running-dots-animate}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.6s;animation-delay:-1.6s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-2.4s;animation-delay:-2.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2.8s;animation-delay:-2.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-3.2s;animation-delay:-3.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-3.6s;animation-delay:-3.6s}.la-ball-running-dots.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-running-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-left:-12px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:-50px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%]{width:30px;height:30px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:-75px}@-webkit-keyframes ball-running-dots-animate{0%,100%{width:100%;height:100%;-webkit-transform:translateY(0) translateX(500%);transform:translateY(0) translateX(500%)}80%{-webkit-transform:translateY(0) translateX(0);transform:translateY(0) translateX(0)}85%{width:100%;height:100%;-webkit-transform:translateY(-125%) translateX(0);transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;-webkit-transform:translateY(-100%) translateX(500%);transform:translateY(-100%) translateX(500%)}}@keyframes ball-running-dots-animate{0%,100%{width:100%;height:100%;-webkit-transform:translateY(0) translateX(500%);transform:translateY(0) translateX(500%)}80%{-webkit-transform:translateY(0) translateX(0);transform:translateY(0) translateX(0)}85%{width:100%;height:100%;-webkit-transform:translateY(-125%) translateX(0);transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;-webkit-transform:translateY(-100%) translateX(500%);transform:translateY(-100%) translateX(500%)}}.la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:1s linear infinite ball-scale-multiple;animation:1s linear infinite ball-scale-multiple}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}5%{opacity:.75}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}5%{opacity:.75}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-scale-pulse[_ngcontent-%COMP%], .la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:.5;-webkit-animation:2s ease-in-out infinite ball-scale-pulse;animation:2s ease-in-out infinite ball-scale-pulse}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-scale-pulse.la-sm[_ngcontent-%COMP%], .la-ball-scale-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-pulse.la-2x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-pulse.la-3x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-pulse{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale-pulse{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%], .la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-ripple-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;background:0 0;border-radius:100%;opacity:0;-webkit-animation:1.25s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple-multiple;animation:1.25s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple-multiple}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple-multiple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.5;-webkit-transform:scale(1);transform:scale(1)}95%{opacity:0}}@keyframes ball-scale-ripple-multiple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.5;-webkit-transform:scale(1);transform:scale(1)}95%{opacity:0}}.la-ball-scale-ripple[_ngcontent-%COMP%], .la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-ripple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-radius:100%;opacity:0;-webkit-animation:1s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple;animation:1s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.65;-webkit-transform:scale(1);transform:scale(1)}100%{opacity:0}}@keyframes ball-scale-ripple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.65;-webkit-transform:scale(1);transform:scale(1)}100%{opacity:0}}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:1s ease-in-out infinite ball-scale;animation:1s ease-in-out infinite ball-scale}.la-ball-scale.la-sm[_ngcontent-%COMP%], .la-ball-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale.la-2x[_ngcontent-%COMP%], .la-ball-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale.la-3x[_ngcontent-%COMP%], .la-ball-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale{0%{opacity:1;-webkit-transform:scale(0);transform:scale(0)}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale{0%{opacity:1;-webkit-transform:scale(0);transform:scale(0)}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate}.la-ball-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade-rotating;animation:1s linear infinite ball-spin-clockwise-fade-rotating}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade;animation:1s linear infinite ball-spin-clockwise-fade}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-clockwise-fade{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise[_ngcontent-%COMP%], .la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-clockwise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin-clockwise;animation:1s ease-in-out infinite ball-spin-clockwise}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes ball-spin-clockwise{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}.la-ball-spin-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-fade-rotate;animation:6s linear infinite ball-spin-fade-rotate}.la-ball-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-fade-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-spin-fade[_ngcontent-%COMP%], .la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}}@keyframes ball-spin-fade{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}}.la-ball-spin-rotate[_ngcontent-%COMP%], .la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:2s linear infinite ball-spin-rotate;animation:2s linear infinite ball-spin-rotate}.la-ball-spin-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;width:60%;height:60%;border-radius:100%;-webkit-animation:2s ease-in-out infinite ball-spin-bounce;animation:2s ease-in-out infinite ball-spin-bounce}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-spin-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-spin-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes ball-spin-bounce{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-bounce{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin[_ngcontent-%COMP%], .la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin;animation:1s ease-in-out infinite ball-spin}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes ball-spin{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}.la-ball-square-clockwise-spin[_ngcontent-%COMP%], .la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:26px;height:26px}.la-ball-square-clockwise-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-square-clockwise-spin;animation:1s ease-in-out infinite ball-square-clockwise-spin}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:0;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-clockwise-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-square-clockwise-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-square-spin[_ngcontent-%COMP%], .la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:26px;height:26px}.la-ball-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-square-spin;animation:1s ease-in-out infinite ball-square-spin}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:0;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-square-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-square-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-triangle-path[_ngcontent-%COMP%], .la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-triangle-path[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-triangle-path.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:10px;height:10px;border-radius:100%}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-one;animation:2s ease-in-out infinite ball-triangle-path-ball-one}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-two;animation:2s ease-in-out infinite ball-triangle-path-ball-two}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-tree;animation:2s ease-in-out infinite ball-triangle-path-ball-tree}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-triangle-path-ball-one{0%{-webkit-transform:translate(0,220%);transform:translate(0,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}66%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}100%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}}@keyframes ball-triangle-path-ball-one{0%{-webkit-transform:translate(0,220%);transform:translate(0,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}66%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}100%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}}@-webkit-keyframes ball-triangle-path-ball-two{0%{-webkit-transform:translate(110%,0);transform:translate(110%,0)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}66%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}100%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}}@keyframes ball-triangle-path-ball-two{0%{-webkit-transform:translate(110%,0);transform:translate(110%,0)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}66%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}100%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}}@-webkit-keyframes ball-triangle-path-ball-tree{0%{-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}66%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}100%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}}@keyframes ball-triangle-path-ball-tree{0%{-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}66%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}100%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}}.la-ball-zig-zag-deflect[_ngcontent-%COMP%], .la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;position:relative;width:32px;height:32px}.la-ball-zig-zag-deflect.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:1.5s linear infinite ball-zig-deflect;animation:1.5s linear infinite ball-zig-deflect}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:1.5s linear infinite ball-zag-deflect;animation:1.5s linear infinite ball-zag-deflect}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-deflect{17%,84%{-webkit-transform:translate(-80%,-160%);transform:translate(-80%,-160%)}34%,67%{-webkit-transform:translate(80%,-160%);transform:translate(80%,-160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes ball-zig-deflect{17%,84%{-webkit-transform:translate(-80%,-160%);transform:translate(-80%,-160%)}34%,67%{-webkit-transform:translate(80%,-160%);transform:translate(80%,-160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@-webkit-keyframes ball-zag-deflect{17%,84%{-webkit-transform:translate(80%,160%);transform:translate(80%,160%)}34%,67%{-webkit-transform:translate(-80%,160%);transform:translate(-80%,160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes ball-zag-deflect{17%,84%{-webkit-transform:translate(80%,160%);transform:translate(80%,160%)}34%,67%{-webkit-transform:translate(-80%,160%);transform:translate(-80%,160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}.la-ball-zig-zag[_ngcontent-%COMP%], .la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box}.la-ball-zig-zag[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;position:relative;width:32px;height:32px}.la-ball-zig-zag.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:.7s linear infinite ball-zig-effect;animation:.7s linear infinite ball-zig-effect}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:.7s linear infinite ball-zag-effect;animation:.7s linear infinite ball-zag-effect}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(-75%,-150%);transform:translate(-75%,-150%)}66%{-webkit-transform:translate(75%,-150%);transform:translate(75%,-150%)}}@keyframes ball-zig-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(-75%,-150%);transform:translate(-75%,-150%)}66%{-webkit-transform:translate(75%,-150%);transform:translate(75%,-150%)}}@-webkit-keyframes ball-zag-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(75%,150%);transform:translate(75%,150%)}66%{-webkit-transform:translate(-75%,150%);transform:translate(-75%,150%)}}@keyframes ball-zag-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(75%,150%);transform:translate(75%,150%)}66%{-webkit-transform:translate(-75%,150%);transform:translate(-75%,150%)}}.la-cog[_ngcontent-%COMP%], .la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cog[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:31px;height:31px}.la-cog.la-dark[_ngcontent-%COMP%]{color:#333}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px dashed currentColor;width:100%;height:100%;background-color:transparent;border-radius:100%;-webkit-animation:4s linear infinite cog-rotate;animation:4s linear infinite cog-rotate}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border:2px solid currentColor;border-radius:100%}.la-cog.la-sm[_ngcontent-%COMP%]{width:15px;height:15px}.la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:1px}.la-cog.la-2x[_ngcontent-%COMP%]{width:61px;height:61px}.la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:4px}.la-cog.la-3x[_ngcontent-%COMP%]{width:91px;height:91px}.la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:6px}@-webkit-keyframes cog-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cog-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-cube-transition[_ngcontent-%COMP%], .la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cube-transition[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-cube-transition.la-dark[_ngcontent-%COMP%]{color:#333}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:14px;height:14px;margin-top:-7px;margin-left:-7px;border-radius:0;-webkit-animation:1.6s ease-in-out infinite cube-transition;animation:1.6s ease-in-out infinite cube-transition}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-cube-transition.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-cube-transition.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-cube-transition.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-cube-transition.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:28px;height:28px;margin-top:-14px;margin-left:-14px}.la-cube-transition.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-cube-transition.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;margin-top:-21px;margin-left:-21px}@-webkit-keyframes cube-transition{25%{top:0;left:100%;-webkit-transform:scale(.5) rotate(-90deg);transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;-webkit-transform:scale(1) rotate(-180deg);transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;-webkit-transform:scale(.5) rotate(-270deg);transform:scale(.5) rotate(-270deg)}100%{top:0;left:0;-webkit-transform:scale(1) rotate(-360deg);transform:scale(1) rotate(-360deg)}}@keyframes cube-transition{25%{top:0;left:100%;-webkit-transform:scale(.5) rotate(-90deg);transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;-webkit-transform:scale(1) rotate(-180deg);transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;-webkit-transform:scale(.5) rotate(-270deg);transform:scale(.5) rotate(-270deg)}100%{top:0;left:0;-webkit-transform:scale(1) rotate(-360deg);transform:scale(1) rotate(-360deg)}}.la-fire[_ngcontent-%COMP%], .la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-fire[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-fire.la-dark[_ngcontent-%COMP%]{color:#333}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;bottom:0;left:50%;width:12px;height:12px;border-radius:2px;-webkit-transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);-webkit-animation:1.5s linear infinite fire-diamonds;animation:1.5s linear infinite fire-diamonds}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.85s;animation-delay:-.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.85s;animation-delay:-1.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-2.85s;animation-delay:-2.85s}.la-fire.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-fire.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-fire.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-fire.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px}.la-fire.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-fire.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes fire-diamonds{0%{-webkit-transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{-webkit-transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}100%{-webkit-transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}@keyframes fire-diamonds{0%{-webkit-transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{-webkit-transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}100%{-webkit-transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}.la-line-scale-party[_ngcontent-%COMP%], .la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-party[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-party.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation-name:line-scale-party;animation-name:line-scale-party;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.23s;animation-delay:-.23s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:.62s;animation-duration:.62s;-webkit-animation-delay:-.32s;animation-delay:-.32s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.44s;animation-delay:-.44s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-delay:-.31s;animation-delay:-.31s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:.74s;animation-duration:.74s;-webkit-animation-delay:-.24s;animation-delay:-.24s}.la-line-scale-party.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-party.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-party.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-party.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-party.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-party.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-party{0%,100%{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.3);transform:scaleY(.3)}}@keyframes line-scale-party{0%,100%{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.3);transform:scaleY(.3)}}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%], .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-pulse-out-rapid.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:.9s cubic-bezier(.11,.49,.38,.78) infinite line-scale-pulse-out-rapid;animation:.9s cubic-bezier(.11,.49,.38,.78) infinite line-scale-pulse-out-rapid}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out-rapid{0%,90%{-webkit-transform:scaley(1);transform:scaley(1)}80%{-webkit-transform:scaley(.3);transform:scaley(.3)}}@keyframes line-scale-pulse-out-rapid{0%,90%{-webkit-transform:scaley(1);transform:scaley(1)}80%{-webkit-transform:scaley(.3);transform:scaley(.3)}}.la-line-scale-pulse-out[_ngcontent-%COMP%], .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-pulse-out.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:.9s cubic-bezier(.85,.25,.37,.85) infinite line-scale-pulse-out;animation:.9s cubic-bezier(.85,.25,.37,.85) infinite line-scale-pulse-out}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out{0%,100%{-webkit-transform:scaley(1);transform:scaley(1)}50%{-webkit-transform:scaley(.3);transform:scaley(.3)}}@keyframes line-scale-pulse-out{0%,100%{-webkit-transform:scaley(1);transform:scaley(1)}50%{-webkit-transform:scaley(.3);transform:scaley(.3)}}.la-line-scale[_ngcontent-%COMP%], .la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:1.2s infinite line-scale;animation:1.2s infinite line-scale}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-line-scale.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale{0%,100%,40%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}@keyframes line-scale{0%,100%,40%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite line-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite line-spin-clockwise-fade-rotating-rotate}.la-line-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-clockwise-fade-rotating;animation:1s ease-in-out infinite line-spin-clockwise-fade-rotating}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@keyframes line-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@-webkit-keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}100%{opacity:1}}.la-line-spin-clockwise-fade[_ngcontent-%COMP%], .la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-line-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-clockwise-fade;animation:1s ease-in-out infinite line-spin-clockwise-fade}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-clockwise-fade{50%{opacity:.2}100%{opacity:1}}.la-line-spin-fade-rotating[_ngcontent-%COMP%], .la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-fade-rotating-rotate;animation:6s linear infinite ball-spin-fade-rotating-rotate}.la-line-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-fade-rotating;animation:1s ease-in-out infinite line-spin-fade-rotating}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes ball-spin-fade-rotating-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-fade-rotating-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes line-spin-fade-rotating{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-fade-rotating{50%{opacity:.2}100%{opacity:1}}.la-line-spin-fade[_ngcontent-%COMP%], .la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-line-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-fade;animation:1s ease-in-out infinite line-spin-fade}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-fade{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-fade{50%{opacity:.2}100%{opacity:1}}.la-pacman[_ngcontent-%COMP%], .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-pacman[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-pacman.la-dark[_ngcontent-%COMP%]{color:#333}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:0;height:0;background:0 0;border-style:solid;border-width:16px;border-right-color:transparent;border-radius:100%;-webkit-animation:.5s infinite pacman-rotate-half-up;animation:.5s infinite pacman-rotate-half-up}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-32px;-webkit-animation-name:pacman-rotate-half-down;animation-name:pacman-rotate-half-down}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){position:absolute;top:50%;left:200%;width:8px;height:8px;border-radius:100%;opacity:0;-webkit-animation:2s linear infinite pacman-balls;animation:2s linear infinite pacman-balls}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.44s;animation-delay:-1.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.94s;animation-delay:-1.94s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.44s;animation-delay:-2.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2.94s;animation-delay:-2.94s}.la-pacman.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:8px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:4px;height:4px}.la-pacman.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:32px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:16px;height:16px}.la-pacman.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:48px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:24px;height:24px}@-webkit-keyframes pacman-rotate-half-up{0%,100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes pacman-rotate-half-up{0%,100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes pacman-rotate-half-down{0%,100%{-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes pacman-rotate-half-down{0%,100%{-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:rotate(0);transform:rotate(0)}}@-webkit-keyframes pacman-balls{0%{left:200%;opacity:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}100%{left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}}@keyframes pacman-balls{0%{left:200%;opacity:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}100%{left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}}.la-square-jelly-box[_ngcontent-%COMP%], .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-jelly-box[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-jelly-box.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:-25%;z-index:1;height:100%;border-radius:10%;-webkit-animation:.6s linear -.1s infinite square-jelly-box-animate;animation:.6s linear -.1s infinite square-jelly-box-animate}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;-webkit-animation:.6s linear -.1s infinite square-jelly-box-shadow;animation:.6s linear -.1s infinite square-jelly-box-shadow}.la-square-jelly-box.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-jelly-box.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-jelly-box.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{-webkit-transform:translateY(25%) rotate(22.5deg);transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;-webkit-transform:translateY(50%) scale(1,.9) rotate(45deg);transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{-webkit-transform:translateY(25%) rotate(67.5deg);transform:translateY(25%) rotate(67.5deg)}100%{-webkit-transform:translateY(0) rotate(90deg);transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{-webkit-transform:translateY(25%) rotate(22.5deg);transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;-webkit-transform:translateY(50%) scale(1,.9) rotate(45deg);transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{-webkit-transform:translateY(25%) rotate(67.5deg);transform:translateY(25%) rotate(67.5deg)}100%{-webkit-transform:translateY(0) rotate(90deg);transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{-webkit-transform:scale(1.25,1);transform:scale(1.25,1)}}@keyframes square-jelly-box-shadow{50%{-webkit-transform:scale(1.25,1);transform:scale(1.25,1)}}.la-square-loader[_ngcontent-%COMP%], .la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-loader[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-loader.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:100%;height:100%;background:0 0;border-radius:0;-webkit-animation:2s infinite square-loader;animation:2s infinite square-loader}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;-webkit-animation:2s ease-in infinite square-loader-inner;animation:2s ease-in infinite square-loader-inner}.la-square-loader.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-loader.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-square-loader.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-loader.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-square-loader.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-square-loader.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}@-webkit-keyframes square-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%,50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%,75%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes square-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%,50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%,75%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}@keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}.la-square-spin[_ngcontent-%COMP%], .la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:100%;height:100%;border-radius:0;-webkit-animation:3s cubic-bezier(.09,.57,.49,.9) infinite square-spin;animation:3s cubic-bezier(.09,.57,.49,.9) infinite square-spin}.la-square-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}@keyframes square-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-timer[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-timer.la-dark[_ngcontent-%COMP%]{color:#333}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-radius:100%}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;top:14px;left:14px;display:block;width:2px;margin-top:-1px;margin-left:-1px;content:"";background:currentColor;border-radius:2px;-webkit-transform-origin:1px 1px 0;transform-origin:1px 1px 0;-webkit-animation:1.25s linear -625ms infinite timer-loader;animation:1.25s linear -625ms infinite timer-loader}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:12px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:8px;-webkit-animation-duration:15s;animation-duration:15s;-webkit-animation-delay:-7.5s;animation-delay:-7.5s}.la-timer.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:7px;left:7px;width:1px;margin-top:-.5px;margin-left:-.5px;border-radius:1px;-webkit-transform-origin:.5px .5px 0;transform-origin:.5px .5px 0}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:6px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:4px}.la-timer.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:28px;left:28px;width:4px;margin-top:-2px;margin-left:-2px;border-radius:4px;-webkit-transform-origin:2px 2px 0;transform-origin:2px 2px 0}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:24px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:16px}.la-timer.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:42px;left:42px;width:6px;margin-top:-3px;margin-left:-3px;border-radius:6px;-webkit-transform-origin:3px 3px 0;transform-origin:3px 3px 0}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:36px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:24px}@-webkit-keyframes timer-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes timer-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-triangle-skew-spin[_ngcontent-%COMP%], .la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-triangle-skew-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:16px}.la-triangle-skew-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:0 solid currentColor;width:0;height:0;background:0 0;border:solid;border-width:0 16px 16px;border-right-color:transparent;border-left-color:transparent;-webkit-animation:3s cubic-bezier(.09,.57,.49,.9) infinite triangle-skew-spin;animation:3s cubic-bezier(.09,.57,.49,.9) infinite triangle-skew-spin}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:8px}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 8px 8px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:32px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 32px 32px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:48px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 48px 48px}@-webkit-keyframes triangle-skew-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}@keyframes triangle-skew-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;-webkit-transform:translate(-50%,-60%);transform:translate(-50%,-60%)}'],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:300}],options:null},{type:1,expr:":leave",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:200},options:null}],options:{}}]}});function Xw(e){return ns(0,[(e()(),Br(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Kw(e){return ns(0,[(e()(),Br(0,0,null,null,2,"div",[],[[8,"className",0],[4,"color",null]],null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Xw)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.spinner.divArray)}),(function(e,t){var n=t.component;e(t,0,0,n.spinner.class,n.spinner.color)}))}function $w(e){return ns(0,[(e()(),Br(0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.template)}))}function Zw(e){return ns(0,[(e()(),Br(0,0,null,null,6,"div",[["class","overlay"]],[[24,"@fadeIn",0],[4,"background-color",null],[4,"z-index",null],[4,"position",null]],null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Kw)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,$w)),la(4,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(5,0,null,null,1,"div",[["class","loading-text"]],[[4,"z-index",null]],null,null,null,null)),Kr(null,0)],(function(e,t){var n=t.component;e(t,2,0,!n.template),e(t,4,0,n.template)}),(function(e,t){var n=t.component;e(t,0,0,"in",n.spinner.bdColor,n.spinner.zIndex,n.spinner.fullScreen?"fixed":"absolute"),e(t,5,0,n.spinner.zIndex)}))}function Jw(e){return ns(2,[(e()(),Hr(16777216,null,null,1,null,Zw)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.spinner.show)}),null)}var Qw,e_,t_=function(){function e(t,n,i,a){_classCallCheck(this,e),this.router=t,this.authService=n,this.alertify=i,this.spinner=a,this.state="",this.model={}}return _createClass(e,[{key:"ngOnInit",value:function(){this.authService.isLoggedIn()&&this.router.navigate(["outline"])}},{key:"onSubmit",value:function(){var e=this;this.spinner.show(),this.authService.login(this.model).subscribe((function(t){console.log("logged"),e.alertify.success("logged in successfully")}),(function(t){e.alertify.error("Failed to login"),console.log(t)}),(function(){e.spinner.hide(),e.router.navigate(["outline"])}))}}]),e}(),n_=((Qw=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.baseUrl=n,this.jwtHelper=new _u}return _createClass(e,[{key:"login",value:function(e){var t=this;return this.http.post(this.baseUrl+"Auth/login",e).pipe(B((function(e){e&&(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),t.decodedToken=t.jwtHelper.decodeToken(e.token))})))}},{key:"isLoggedIn",value:function(){var e=localStorage.getItem("token");return!this.jwtHelper.isTokenExpired(e)}}]),e}()).\u0275prov=ce({factory:function(){return new Qw(Me(su),Me("BASE_URL"))},token:Qw,providedIn:"root"}),Qw),i_=n("XAfc"),a_=((e_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"confirm",value:function(e,t){i_.confirm(e,(function(e){e&&t()}))}},{key:"success",value:function(e){i_.success(e)}},{key:"warning",value:function(e){i_.warning(e)}},{key:"error",value:function(e){i_.error(e)}},{key:"message",value:function(e){i_.message(e)}}]),e}()).\u0275prov=ce({factory:function(){return new e_},token:e_,providedIn:"root"}),e_),r_=Qn({encapsulation:0,styles:[["#lock[_ngcontent-%COMP%]{width:40%;margin:1.5em auto 4em;display:block}#email[_ngcontent-%COMP%]{background:#ececec url(email.e75a0390ebcf4b02d1bd.svg) no-repeat 25px;background-size:25px}body[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em}@media (max-width:600px){#page[_ngcontent-%COMP%]{padding:1em}#toolbar[_ngcontent-%COMP%]{width:90%;margin-left:-45%}#email[_ngcontent-%COMP%]{background:#ececec}}.form-container[_ngcontent-%COMP%]{background:#fff;padding:3.5em;width:500px;position:fixed;left:50%;margin-left:-250px}button[_ngcontent-%COMP%]{padding:1.2em;width:100%;cursor:pointer;margin-bottom:15px;font-size:1.3em}.alc[_ngcontent-%COMP%]{text-align:center;display:block;margin:15px 0}@media (max-width:600px){.form-container[_ngcontent-%COMP%]{padding:1.2em;width:90%;margin-left:-45%}button[_ngcontent-%COMP%]{font-size:1em}}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}.error[_ngcontent-%COMP%]{background:#f1f0ef;padding:1em;width:100%;display:block;margin-bottom:20px}.basic-btn[_ngcontent-%COMP%]{background:#3b8598;color:#fff}input.txt[_ngcontent-%COMP%]{background:#fff!important;padding:1.3em 1em;font-size:1.3em;border:1px solid #bbb}"]],data:{animation:[{type:7,name:"moveIn",definitions:[{type:0,name:"void",styles:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{opacity:"0",transform:"translateX(100px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:"1",transform:"translateX(0)"},offset:null},timings:".6s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:"1",transform:"translateX(0)"},offset:null},{type:4,styles:{type:6,styles:{opacity:"0",transform:"translateX(-200px)"},offset:null},timings:".3s ease-in-out"}],options:null}],options:{}},{type:7,name:"fallIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:"0",transform:"translateY(40px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:"1",transform:"translateY(0)"},offset:null},timings:".4s .2s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:"1",transform:"translateX(0)"},offset:null},{type:4,styles:{type:6,styles:{opacity:"0",transform:"translateX(-200px)"},offset:null},timings:".3s ease-in-out"}],options:null}],options:{}}]}});function s_(e){return ns(0,[(e()(),Br(0,0,null,null,1,"span",[["class","error"]],[[24,"@fallIn",0]],null,null,null,null)),(e()(),Qr(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.state),e(t,1,0,n.error)}))}function l_(e){return ns(0,[(e()(),Br(0,0,null,null,36,"html",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"head",[],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"link",[["href","https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.0/css/foundation-flex.min.css"],["media","all"],["rel","stylesheet"],["type","text/css"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,33,"body",[],null,null,null,null,null)),(e()(),Br(4,0,null,null,32,"div",[["class","form-container"],["style","width: 500px;   background:#E2E4E6;"]],null,null,null,null,null)),(e()(),Br(5,0,null,null,2,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Br(6,0,null,null,1,"div",[["class","text-center brand_logo_container"],["style","margin-bottom: 25px;"]],null,null,null,null,null)),(e()(),Br(7,0,null,null,0,"img",[["alt","Logo"],["class","brand_logo"],["src","https://upload.wikimedia.org/wikipedia/en/thumb/b/b8/EMU_Cyprus.svg/800px-EMU_Cyprus.svg.png"],["style","width:255px; text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,s_)),la(9,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(10,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,a=e.component;return"submit"===t&&(i=!1!==Zi(e,12).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,12).onReset()&&i),"ngSubmit"===t&&(i=!1!==a.onSubmit()&&i),i}),null,null)),la(11,16384,null,0,Mc,[],null,null),la(12,4210688,[["formData",4]],0,Sc,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ua(2048,null,Tu,null,[Sc]),la(14,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(15,0,null,null,7,"input",[["class","txt"],["name","id"],["placeholder","User Id"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.model.Id=n)&&i),i}),null,null)),la(16,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(17,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(20,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(22,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(23,0,null,null,7,"input",[["class","txt"],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,24)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,24).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,24)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,24)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.model.password=n)&&i),i}),null,null)),la(24,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(25,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(28,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(30,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(31,0,null,null,5,"button",[["class","basic-btn"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Br(32,0,null,null,3,"ngx-spinner",[],null,null,null,Jw,Gw)),la(33,770048,null,0,Ww,[Uw,Mt],null,null),(e()(),Br(34,0,null,0,1,"p",[["style","font-size: 20px; color: white"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Loading..."])),(e()(),Qr(-1,null,[" Log in"]))],(function(e,t){var n=t.component;e(t,9,0,n.error),e(t,17,0,""),e(t,20,0,"id",n.model.Id),e(t,25,0,""),e(t,28,0,"password",n.model.password),e(t,33,0)}),(function(e,t){e(t,10,0,Zi(t,14).ngClassUntouched,Zi(t,14).ngClassTouched,Zi(t,14).ngClassPristine,Zi(t,14).ngClassDirty,Zi(t,14).ngClassValid,Zi(t,14).ngClassInvalid,Zi(t,14).ngClassPending),e(t,15,0,Zi(t,17).required?"":null,Zi(t,22).ngClassUntouched,Zi(t,22).ngClassTouched,Zi(t,22).ngClassPristine,Zi(t,22).ngClassDirty,Zi(t,22).ngClassValid,Zi(t,22).ngClassInvalid,Zi(t,22).ngClassPending),e(t,23,0,Zi(t,25).required?"":null,Zi(t,30).ngClassUntouched,Zi(t,30).ngClassTouched,Zi(t,30).ngClassPristine,Zi(t,30).ngClassDirty,Zi(t,30).ngClassValid,Zi(t,30).ngClassInvalid,Zi(t,30).ngClassPending),e(t,31,0,!Zi(t,12).valid)}))}var o_=Vi("app-login",t_,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"app-login",[],[[40,"@moveIn",0]],null,null,l_,r_)),la(1,114688,null,0,t_,[hw,n_,a_,Uw],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,void 0)}))}),{},{},[]),u_=new xe("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}}),c_=0,h_=function e(t,n){_classCallCheck(this,e),this.source=t,this.value=n},d_=function(){function e(t){_classCallCheck(this,e),this._changeDetector=t,this._value=null,this._name="mat-radio-group-".concat(c_++),this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new Ma}return _createClass(e,[{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var e=this;this._radios&&this._radios.forEach((function(t){t.name=e.name,t._markForCheck()}))}},{key:"_updateSelectedRadioFromValue",value:function(){var e=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach((function(t){t.checked=e.value===t.value,t.checked&&(e._selected=t)})))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new h_(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach((function(e){return e._markForCheck()}))}},{key:"writeValue",value:function(e){this.value=e,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetector.markForCheck()}},{key:"name",get:function(){return this._name},set:function(e){this._name=e,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Cg(e),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(e){this._required=Cg(e),this._markRadiosForCheck()}}]),e}(),p_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s,l,o){var u;return _classCallCheck(this,n),(u=t.call(this,i))._changeDetector=a,u._focusMonitor=r,u._radioDispatcher=s,u._animationMode=l,u._providerOverride=o,u._uniqueId="mat-radio-".concat(++c_),u.id=u._uniqueId,u.change=new Ma,u._checked=!1,u._value=null,u._removeUniqueSelectionListener=function(){},u.radioGroup=e,u._removeUniqueSelectionListener=s.listen((function(e,t){e!==u.id&&t===u.name&&(u.checked=!1)})),u}return _createClass(n,[{key:"focus",value:function(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(t){!t&&e.radioGroup&&e.radioGroup._touch()}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new h_(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(e){e.stopPropagation()}},{key:"_onInputChange",value:function(e){e.stopPropagation();var t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}},{key:"_setDisabled",value:function(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}},{key:"checked",get:function(){return this._checked},set:function(e){var t=Cg(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(e){this._labelPosition=e}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(e){this._setDisabled(Cg(e))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(e){this._required=Cg(e)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(e){this._color=e}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}}]),n}(Xy(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(function(e){_inherits(i,e);var n=_createSuper(i);function i(){var e;_classCallCheck(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r)))._tabIndex=t,e}return _createClass(i,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(e){this._tabIndex=null!=e?e:t}}]),i}(e))}((function e(t){_classCallCheck(this,e),this._elementRef=t}))))),f_=function e(){_classCallCheck(this,e)};function m_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function g_(e){switch(e.length){case 0:return new Jv;case 1:return e[0];default:return new Qv(e)}}function v_(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],l=[],o=-1,u=null;if(i.forEach((function(e){var n=e.offset,i=n==o,c=i&&u||{};Object.keys(e).forEach((function(n){var i=n,l=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),l){case"!":l=a[n];break;case"*":l=r[n];break;default:l=t.normalizeStyleValue(n,i,l,s)}c[i]=l})),i||l.push(c),u=c,o=n})),s.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(s.join(c)))}return l}function y_(e,t,n,i){switch(t){case"start":e.onStart((function(){return i(n&&b_(n,"start",e))}));break;case"done":e.onDone((function(){return i(n&&b_(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return i(n&&b_(n,"destroy",e))}))}}function b_(e,t,n){var i=n.totalTime,a=k_(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),r=e._data;return null!=r&&(a._data=r),a}function k_(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:a,totalTime:r,disabled:!!s}}function C_(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function w_(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var __=function(e,t){return!1},x_=function(e,t){return!1},S_=function(e,t,n){return[]},E_=m_();(E_||"undefined"!=typeof Element)&&(__=function(e,t){return e.contains(t)},x_=function(){if(E_||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:x_}(),S_=function(e,t,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(e.querySelectorAll(t)));else{var a=e.querySelector(t);a&&i.push(a)}return i});var O_=null,I_=!1;function A_(e){O_||(O_=("undefined"!=typeof document?document.body:null)||{},I_=!!O_.style&&"WebkitAppearance"in O_.style);var t=!0;return O_.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in O_.style)&&I_)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in O_.style),t}var D_=x_,M_=__,T_=S_;function P_(e){var t={};return Object.keys(e).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]})),t}var L_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return A_(e)}},{key:"matchesElement",value:function(e,t){return D_(e,t)}},{key:"containsElement",value:function(e,t){return M_(e,t)}},{key:"query",value:function(e,t,n){return T_(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,a){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new Jv(n,i)}}]),e}(),N_=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new L_,e}();function R_(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:F_(parseFloat(t[1]),t[2])}function F_(e,t){switch(t){case"s":return 1e3*e;default:return e}}function H_(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,a=0,r="";if("string"==typeof e){var s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=F_(parseFloat(s[1]),s[2]);var l=s[3];null!=l&&(a=F_(parseFloat(l),s[4]));var o=s[5];o&&(r=o)}else i=e;if(!n){var u=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),a<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:a,easing:r}}(e,t,n)}function B_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function V_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else B_(e,n);return n}function j_(e,t,n){return n?t+":"+n+";":""}function z_(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=j_(0,i,e.style.getPropertyValue(i))}for(var a in e.style)e.style.hasOwnProperty(a)&&!a.startsWith("_")&&(t+=j_(0,a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[a]));e.setAttribute("style",t)}function q_(e,t,n){e.style&&(Object.keys(t).forEach((function(i){var a=Z_(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[a]),e.style[a]=t[i]})),m_()&&z_(e))}function U_(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Z_(t);e.style[n]=""})),m_()&&z_(e))}function W_(e){return Array.isArray(e)?1==e.length?e[0]:Kv(e):e}var Y_=new RegExp("{{\\s*(.+?)\\s*}}","g");function G_(e){var t=[];if("string"==typeof e){for(var n;n=Y_.exec(e);)t.push(n[1]);Y_.lastIndex=0}return t}function X_(e,t,n){var i=e.toString(),a=i.replace(Y_,(function(e,i){var a=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),a=""),a.toString()}));return a==i?e:a}function K_(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var $_=/-+([a-z0-9])/g;function Z_(e){return e.replace($_,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function J_(e,t){return 0===e||0===t}function Q_(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var a=t[0],r=[];if(i.forEach((function(e){a.hasOwnProperty(e)||r.push(e),a[e]=n[e]})),r.length)for(var s=function(){var n=t[l];r.forEach((function(t){n[t]=tx(e,t)}))},l=1;l<t.length;l++)s()}return t}function ex(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function tx(e,t){return window.getComputedStyle(e)[t]}var nx=new Set(["true","1"]),ix=new Set(["false","0"]);function ax(e,t){var n=nx.has(e)||ix.has(e),i=nx.has(t)||ix.has(t);return function(a,r){var s="*"==e||e==a,l="*"==t||t==r;return!s&&n&&"boolean"==typeof a&&(s=a?nx.has(e):ix.has(e)),!l&&i&&"boolean"==typeof r&&(l=r?nx.has(t):ix.has(t)),s&&l}}var rx=new RegExp("s*:selfs*,?","g");function sx(e,t,n){return new lx(e).build(t,n)}var lx=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new ox(t);return this._resetContextStyleTimingState(n),ex(this,W_(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,a=t.depCount=0,r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var l=e,o=l.name;o.toString().split(/\s*,\s*/).forEach((function(e){l.name=e,r.push(n.visitState(l,t))})),l.name=o}else if(1==e.type){var u=n.visitTransition(e,t);i+=u.queryCount,a+=u.depCount,s.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:r,transitions:s,queryCount:i,depCount:a,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var a=new Set,r=i||{};if(n.styles.forEach((function(e){if(ux(e)){var t=e;Object.keys(t).forEach((function(e){G_(t[e]).forEach((function(e){r.hasOwnProperty(e)||a.add(e)}))}))}})),a.size){var s=K_(a.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,i,a,r=ex(this,W_(e.animation),t);return{type:1,matchers:(n=e.expr,i=t.errors,a=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var a=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==a||a.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var r=a[1],s=a[2],l=a[3];t.push(ax(r,l)),"<"!=s[0]||"*"==r&&"*"==l||t.push(ax(l,r))}(e,a,i)})):a.push(n),a),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:cx(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return ex(n,e,t)})),options:cx(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,a=0,r=e.steps.map((function(e){t.currentTime=i;var r=ex(n,e,t);return a=Math.max(a,t.currentTime),r}));return t.currentTime=a,{type:3,steps:r,options:cx(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return hx(H_(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var a=hx(0,0,"");return a.dynamic=!0,a.strValue=i,a}return hx((n=n||H_(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var a=e.styles?e.styles:$v({});if(5==a.type)n=this.visitKeyframes(a,t);else{var r=e.styles,s=!1;if(!r){s=!0;var l={};i.easing&&(l.easing=i.easing),r=$v(l)}t.currentTime+=i.duration+i.delay;var o=this.visitStyle(r,t);o.isEmptyStep=s,n=o}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var i=!1,a=null;return n.forEach((function(e){if(ux(e)){var t=e,n=t.easing;if(n&&(a=n,delete t.easing),!i)for(var r in t)if(t[r].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,a=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(i){if(n._driver.validateStyleProperty(i)){var s,l,o,u,c,h=t.collectedStyles[t.currentQuerySelector],d=h[i],p=!0;d&&(r!=a&&r>=d.startTime&&a<=d.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(r,'ms" and "').concat(a,'ms"')),p=!1),r=d.startTime),p&&(h[i]={startTime:r,endTime:a}),t.options&&(s=e[i],l=t.options,o=t.errors,u=l.params||{},(c=G_(s)).length&&c.forEach((function(e){u.hasOwnProperty(e)||o.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var a=0,r=[],s=!1,l=!1,o=0,u=e.steps.map((function(e){var i=n._makeStyleAst(e,t),u=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(ux(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(ux(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=u&&(a++,c=i.offset=u),l=l||c<0||c>1,s=s||c<o,o=c,r.push(c),i}));l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;a>0&&a<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(h=1/(c-1));var d=c-1,p=t.currentTime,f=t.currentAnimateTimings,m=f.duration;return u.forEach((function(e,a){var s=h>0?a==d?1:h*a:r[a],l=s*m;t.currentTime=p+f.delay+l,f.duration=l,n._validateStyleAst(e,t),e.offset=s,i.styles.push(e)})),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:ex(this,W_(e.animation),t),options:cx(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:cx(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:cx(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var a=_slicedToArray2(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(rx,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),r=a[0],s=a[1];t.currentQuerySelector=n.length?n+" "+r:r,C_(t.collectedStyles,t.currentQuerySelector,{});var l=ex(this,W_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:l,originalSelector:e.selector,options:cx(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:H_(e.timings,t.errors,!0);return{type:12,animation:ex(this,W_(e.animation),t),timings:n,options:null}}}]),e}(),ox=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function ux(e){return!Array.isArray(e)&&"object"==typeof e}function cx(e){var t;return e?(e=B_(e)).params&&(e.params=(t=e.params)?B_(t):null):e={},e}function hx(e,t,n){return{duration:e,delay:t,easing:n}}function dx(e,t,n,i,a,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:a,delay:r,totalTime:a+r,easing:s,subTimeline:l}}var px=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),fx=new RegExp(":enter","g"),mx=new RegExp(":leave","g");function gx(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=arguments.length>7?arguments[7]:void 0,o=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new vx).buildKeyframes(e,t,n,i,a,r,s,l,o,u)}var vx=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,i,a,r,s,l,o){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];o=o||new px;var c=new bx(e,t,o,i,a,u,[]);c.options=l,c.currentTimeline.setStyles([r],null,c.errors,l),ex(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(s).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([s],null,c.errors,l)}return h.length?h.map((function(e){return e.buildKeyframes()})):[dx(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);a!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,a=null!=n.duration?R_(n.duration):null,r=null!=n.delay?R_(n.delay):null;return 0!==a&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,a,r);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),ex(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,a=t,r=e.options;if(r&&(r.params||r.delay)&&((a=t.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=yx);var s=R_(r.delay);a.delayNextStep(s)}e.steps.length&&(e.steps.forEach((function(e){return ex(n,e,a)})),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],a=t.currentTimeline.currentTime,r=e.options&&e.options.delay?R_(e.options.delay):0;e.steps.forEach((function(s){var l=t.createSubContext(e.options);r&&l.delayNextStep(r),ex(n,s,l),a=Math.max(a,l.currentTimeline.currentTime),i.push(l.currentTimeline)})),i.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(a),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return H_(t.params?X_(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(n.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var a=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(a):n.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,a=n.duration,r=t.createSubContext().currentTimeline;r.easing=n.easing,e.styles.forEach((function(e){r.forwardTime((e.offset||0)*a),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(i+a),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,a=e.options||{},r=a.delay?R_(a.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yx);var s=i,l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=l.length;var o=null;l.forEach((function(i,a){t.currentQueryIndex=a;var l=t.createSubContext(e.options,i);r&&l.delayNextStep(r),i===t.element&&(o=l.currentTimeline),ex(n,e.animation,l),l.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,l.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),o&&(t.currentTimeline.mergeTimelineCollectedStyles(o),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,a=e.timings,r=Math.abs(a.duration),s=r*(t.currentQueryTotal-1),l=r*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=s-l;break;case"full":l=n.currentStaggerTime}var o=t.currentTimeline;l&&o.delayNextStep(l);var u=o.currentTime;ex(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),e}(),yx={},bx=function(){function e(t,n,i,a,r,s,l,o){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=r,this.errors=s,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new kx(this._driver,n,0),l.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,a=this.options;null!=i.duration&&(a.duration=R_(i.duration)),null!=i.delay&&(a.delay=R_(i.delay));var r=i.params;if(r){var s=a.params;s||(s=this.options.params={}),Object.keys(r).forEach((function(e){t&&s.hasOwnProperty(e)||(s[e]=X_(r[e],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=n||this.element,r=new e(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=yx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},a=new Cx(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,a,r){var s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(fx,"."+this._enterClassName)).replace(mx,"."+this._leaveClassName);var l=this._driver.query(this.element,e,1!=n);0!==n&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),s.push.apply(s,_toConsumableArray(l))}return a||0!=s.length||r.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),e}(),kx=function(){function e(t,n,i,a){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var a=this;t&&(this._previousKeyframe.easing=t);var r=i&&i.params||{},s=function(e,t){var n,i={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){i[e]="*"})):V_(e,!1,i)})),i}(e,this._globalTimelineStyles);Object.keys(s).forEach((function(e){var t=X_(s[e],r,n);a._pendingStyles[e]=t,a._localTimelineStyles.hasOwnProperty(e)||(a._backFill[e]=a._globalTimelineStyles.hasOwnProperty(e)?a._globalTimelineStyles[e]:"*"),a._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var i=t._styleSummary[n],a=e._styleSummary[n];(!i||a.time>i.time)&&t._updateStyle(n,a.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,a=[];this._keyframes.forEach((function(r,s){var l=V_(r,!0);Object.keys(l).forEach((function(e){var i=l[e];"!"==i?t.add(e):"*"==i&&n.add(e)})),i||(l.offset=s/e.duration),a.push(l)}));var r=t.size?K_(t.values()):[],s=n.size?K_(n.values()):[];if(i){var l=a[0],o=B_(l);l.offset=0,o.offset=1,a=[l,o]}return dx(this.element,a,r,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),Cx=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s,l){var o,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(o=t.call(this,e,i,l.delay)).element=i,o.keyframes=a,o.preStyleProps=r,o.postStyleProps=s,o._stretchStartingKeyframe=u,o.timings={duration:l.duration,delay:l.delay,easing:l.easing},o}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,a=t.easing;if(this._stretchStartingKeyframe&&n){var r=[],s=i+n,l=n/s,o=V_(e[0],!1);o.offset=0,r.push(o);var u=V_(e[0],!1);u.offset=wx(l),r.push(u);for(var c=e.length-1,h=1;h<=c;h++){var d=V_(e[h],!1);d.offset=wx((n+d.offset*i)/s),r.push(d)}i=s,n=0,a="",e=r}return dx(this.element,e,this.preStyleProps,this.postStyleProps,i,n,a,!0)}}]),n}(kx);function wx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var _x=function e(){_classCallCheck(this,e)},xx=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return Z_(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var a="",r=n.toString().trim();if(Sx[t]&&0!==n&&"0"!==n)if("number"==typeof n)a="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return r+a}}]),n}(_x),Sx=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Ex(e,t,n,i,a,r,s,l,o,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:a,fromState:n,fromStyles:r,toState:i,toStyles:s,timelines:l,queriedElements:o,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}var Ox={},Ix=function(){function e(t,n,i){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return _createClass(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,a){return e.some((function(e){return e(t,n,i,a)}))}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],a=this._stateStyles[e],r=i?i.buildStyles(t,n):{};return a?a.buildStyles(t,n):r}},{key:"build",value:function(e,t,n,i,a,r,s,l,o,u){var c=[],h=this.ast.options&&this.ast.options.params||Ox,d=this.buildStyles(n,s&&s.params||Ox,c),p=l&&l.params||Ox,f=this.buildStyles(i,p,c),m=new Set,g=new Map,v=new Map,y="void"===i,b={params:Object.assign(Object.assign({},h),p)},k=u?[]:gx(e,t,this.ast.animation,a,r,d,f,b,o,c),C=0;if(k.forEach((function(e){C=Math.max(e.duration+e.delay,C)})),c.length)return Ex(t,this._triggerName,n,i,y,d,f,[],[],g,v,C,c);k.forEach((function(e){var n=e.element,i=C_(g,n,{});e.preStyleProps.forEach((function(e){return i[e]=!0}));var a=C_(v,n,{});e.postStyleProps.forEach((function(e){return a[e]=!0})),n!==t&&m.add(n)}));var w=K_(m.values());return Ex(t,this._triggerName,n,i,y,d,f,k,w,g,v,C)}}]),e}(),Ax=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},i=B_(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(i[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var a=e;Object.keys(a).forEach((function(e){var r=a[e];r.length>1&&(r=X_(r,i,t)),n[e]=r}))}})),n}}]),e}(),Dx=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){i.states[e.name]=new Ax(e.style,e.options&&e.options.params||{})})),Mx(this.states,"true","1"),Mx(this.states,"false","0"),n.transitions.forEach((function(e){i.transitionFactories.push(new Ix(t,e,i.states))})),this.fallbackTransition=new Ix(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find((function(a){return a.match(e,t,n,i)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function Mx(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Tx=new px,Px=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],i=sx(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,a=v_(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],s=this._animations[e],l=new Map;if(s?(n=gx(this._driver,t,s,"ng-enter","ng-leave",{},{},a,Tx,r)).forEach((function(e){var t=C_(l,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(r.push("The requested animation doesn't exist or has already been destroyed"),n=[]),r.length)throw new Error("Unable to create the animation due to the following errors: ".concat(r.join("\n")));l.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=i._driver.computeStyle(t,n,"*")}))}));var o=g_(n.map((function(e){var t=l.get(e.element);return i._buildPlayer(e,{},t)})));return this._playersById[e]=o,o.onDestroy((function(){return i.destroy(e)})),this.players.push(o),o}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,i){var a=k_(t,"","","");return y_(this._getPlayer(e),n,a,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var a=this._getPlayer(e);switch(n){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),Lx=[],Nx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rx={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var i,a=t&&t.hasOwnProperty("value");if(this.value=null!=(i=a?t.value:t)?i:null,a){var r=B_(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),Hx=new Fx("void"),Bx=function(){function e(t,n,i){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Yx(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,i){var a,r=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(a=n)&&"done"!=a)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var s=C_(this._elementListeners,e,[]),l={name:t,phase:n,callback:i};s.push(l);var o=C_(this._engine.statesByElement,e,{});return o.hasOwnProperty(t)||(Yx(e,"ng-trigger"),Yx(e,"ng-trigger-"+t),o[t]=Hx),function(){r._engine.afterFlush((function(){var e=s.indexOf(l);e>=0&&s.splice(e,1),r._triggers[t]||delete o[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this._getTrigger(t),s=new jx(this.id,t,e),l=this._engine.statesByElement.get(e);l||(Yx(e,"ng-trigger"),Yx(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,l={}));var o=l[t],u=new Fx(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&o&&u.absorbOptions(o.options),l[t]=u,o||(o=Hx),"void"===u.value||o.value!==u.value){var c=C_(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=r.matchTransition(o.value,u.value,e,u.params),d=!1;if(!h){if(!a)return;h=r.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:o,toState:u,player:s,isFallbackTransition:d}),d||(Yx(e,"ng-animate-queued"),s.onStart((function(){Gx(e,"ng-animate-queued")}))),s.onDone((function(){var t=i.players.indexOf(s);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var a=n.indexOf(s);a>=0&&n.splice(a,1)}})),this.players.push(s),c.push(s),s}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var a=0;a<n.length;a++){var r=n[a];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(o.params,u.params)){var p=[],f=r.matchStyles(o.value,o.params,p),m=r.matchStyles(u.value,u.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){U_(e,f),q_(e,m)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,i){t._elementListeners.set(i,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach((function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var a=this,r=this._engine.statesByElement.get(e);if(r){var s=[];if(Object.keys(r).forEach((function(t){if(a._triggers[t]){var n=a.trigger(e,t,"void",i);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&g_(s).onDone((function(){return a._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach((function(n){var a=n.name;if(!i.has(a)){i.add(a);var r=t._triggers[a].fallbackTransition,s=t._engine.statesByElement.get(e)[a]||Hx,l=new Fx("void"),o=new jx(t.id,a,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:a,transition:r,fromState:s,toState:l,player:o,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var a=!1;if(i.totalAnimations){var r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)a=!0;else for(var s=e;s=s.parentNode;)if(i.statesByElement.get(s)){a=!0;break}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,t);else{var l=e.__ng_removed;l&&l!==Nx||(i.afterFlush((function(){return n.clearElementCache(e)})),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Yx(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(i){var a=i.player;if(!a.destroyed){var r=i.element,s=t._elementListeners.get(r);s&&s.forEach((function(t){if(t.name==i.triggerName){var n=k_(r,i.triggerName,i.fromState.value,i.toState.value);n._data=e,y_(i.player,t.phase,n,t.callback)}})),a.markedForDestroy?t._engine.afterFlush((function(){a.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(e,n){var i=e.transition.ast.depCount,a=n.transition.ast.depCount;return 0==i||0==a?i-a:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),Vx=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new Bx(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,a=n;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),a=0;a<i.length;a++){var r=n[i[a]].namespaceId;if(r){var s=this._fetchNamespace(r);s&&t.add(s)}}return t}},{key:"trigger",value:function(e,t,n,i){if(zx(t)){var a=this._fetchNamespace(e);if(a)return a.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(zx(t)){var a=t.__ng_removed;if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;var r=this.collectedLeaveElements.indexOf(t);r>=0&&this.collectedLeaveElements.splice(r,1)}if(e){var s=this._fetchNamespace(e);s&&s.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yx(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gx(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(zx(t)){var a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,a){return zx(t)?this._fetchNamespace(e).listen(t,n,i,a):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,a)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return g_(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Nx,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Yx(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var a=[];try{n=this._flushAnimations(a,t)}finally{for(var r=0;r<a.length;r++)a[r]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var l=this._whenQuietFns;this._whenQuietFns=[],n.length?g_(n).onDone((function(){l.forEach((function(e){return e()}))})):l.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new px,a=[],r=new Map,s=[],l=new Map,o=new Map,u=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)c.add(t[i])}));var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Wx(d,this.collectedEnterElements),f=new Map,m=0;p.forEach((function(e,t){var n="ng-enter"+m++;f.set(t,n),e.forEach((function(e){return Yx(e,n)}))}));for(var g=[],v=new Set,y=new Set,b=0;b<this.collectedLeaveElements.length;b++){var k=this.collectedLeaveElements[b],C=k.__ng_removed;C&&C.setForRemoval&&(g.push(k),v.add(k),C.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach((function(e){return v.add(e)})):y.add(k))}var w=new Map,_=Wx(d,Array.from(v));_.forEach((function(e,t){var n="ng-leave"+m++;w.set(t,n),e.forEach((function(e){return Yx(e,n)}))})),e.push((function(){p.forEach((function(e,t){var n=f.get(t);e.forEach((function(e){return Gx(e,n)}))})),_.forEach((function(e,t){var n=w.get(t);e.forEach((function(e){return Gx(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var x=[],S=[],E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach((function(e){var t=e.player,r=e.element;if(x.push(t),n.collectedEnterElements.length){var c=r.__ng_removed;if(c&&c.setForMove)return void t.destroy()}var d=!h||!n.driver.containsElement(h,r),p=w.get(r),m=f.get(r),g=n._buildInstruction(e,i,m,p,d);if(!g.errors||!g.errors.length)return d?(t.onStart((function(){return U_(r,g.fromStyles)})),t.onDestroy((function(){return q_(r,g.toStyles)})),void a.push(t)):e.isFallbackTransition?(t.onStart((function(){return U_(r,g.fromStyles)})),t.onDestroy((function(){return q_(r,g.toStyles)})),void a.push(t)):(g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),i.append(r,g.timelines),s.push({instruction:g,player:t,element:r}),g.queriedElements.forEach((function(e){return C_(l,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var i=o.get(t);i||o.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}})),void g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),i=u.get(t);i||u.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))})));S.push(g)}));if(S.length){var O=[];S.forEach((function(e){O.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return O.push("- ".concat(e,"\n"))}))})),x.forEach((function(e){return e.destroy()})),this.reportError(O)}var I=new Map,A=new Map;s.forEach((function(e){var t=e.element;i.has(t)&&(A.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))})),a.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){C_(I,t,[]).push(e),e.destroy()}))}));var D=g.filter((function(e){return Kx(e,o,u)})),M=new Map;Ux(M,this.driver,y,u,"*").forEach((function(e){Kx(e,o,u)&&D.push(e)}));var T=new Map;p.forEach((function(e,t){Ux(T,n.driver,new Set(e),o,"!")})),D.forEach((function(e){var t=M.get(e),n=T.get(e);M.set(e,Object.assign(Object.assign({},t),n))}));var P=[],L=[],N={};s.forEach((function(e){var t=e.element,s=e.player,l=e.instruction;if(i.has(t)){if(c.has(t))return s.onDestroy((function(){return q_(t,l.toStyles)})),s.disabled=!0,s.overrideTotalTime(l.totalTime),void a.push(s);var o=N;if(A.size>1){for(var u=t,h=[];u=u.parentNode;){var d=A.get(u);if(d){o=d;break}h.push(u)}h.forEach((function(e){return A.set(e,o)}))}var p=n._buildAnimation(s.namespaceId,l,I,r,T,M);if(s.setRealPlayer(p),o===N)P.push(s);else{var f=n.playersByElement.get(o);f&&f.length&&(s.parentPlayer=g_(f)),a.push(s)}}else U_(t,l.fromStyles),s.onDestroy((function(){return q_(t,l.toStyles)})),L.push(s),c.has(t)&&a.push(s)})),L.forEach((function(e){var t=r.get(e.element);if(t&&t.length){var n=g_(t);e.setRealPlayer(n)}})),a.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var R=0;R<g.length;R++){var F=g[R],H=F.__ng_removed;if(Gx(F,"ng-leave"),!H||!H.hasAnimation){var B=[];if(l.size){var V=l.get(F);V&&V.length&&B.push.apply(B,_toConsumableArray(V));for(var j=this.driver.query(F,".ng-animating",!0),z=0;z<j.length;z++){var q=l.get(j[z]);q&&q.length&&B.push.apply(B,_toConsumableArray(q))}}var U=B.filter((function(e){return!e.destroyed}));U.length?Xx(this,F,U):this.processLeaveNode(F)}}return g.length=0,P.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),P}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,a){var r=[];if(t){var s=this.playersByQueriedElement.get(e);s&&(r=s)}else{var l=this.playersByElement.get(e);if(l){var o=!a||"void"==a;l.forEach((function(e){e.queued||(o||e.triggerName==i)&&r.push(e)}))}}return(n||i)&&(r=r.filter((function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)}))),r}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,a=this,r=t.element,s=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName,o=_createForOfIteratorHelper(t.timelines);try{var u=function(){var e=i.value.element,o=e!==r,u=C_(n,e,[]);a._getPreviousPlayers(e,o,s,l,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)}))};for(o.s();!(i=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}U_(r,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,a,r){var s=this,l=t.triggerName,o=t.element,u=[],c=new Set,h=new Set,d=t.timelines.map((function(t){var d=t.element;c.add(d);var p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new Jv(t.duration,t.delay);var f,m,g=d!==o,v=(f=(n.get(d)||Lx).map((function(e){return e.getRealPlayer()})),m=[],function e(t,n){for(var i=0;i<t.length;i++){var a=t[i];a instanceof Qv?e(a.players,n):n.push(a)}}(f,m),m).filter((function(e){return!!e.element&&e.element===d})),y=a.get(d),b=r.get(d),k=v_(0,s._normalizer,0,t.keyframes,y,b),C=s._buildPlayer(t,k,v);if(t.subTimeline&&i&&h.add(d),g){var w=new jx(e,l,d);w.setRealPlayer(C),u.push(w)}return C}));u.forEach((function(e){C_(s.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var a=i.indexOf(n);i.splice(a,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&delete e[t]}return i}(s.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return Yx(e,"ng-animating")}));var p=g_(d);return p.onDestroy((function(){c.forEach((function(e){return Gx(e,"ng-animating")})),q_(o,t.toStyles)})),h.forEach((function(e){C_(i,e,[]).push(p)})),p}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Jv(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),jx=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new Jv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return y_(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){C_(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function zx(e){return e&&1===e.nodeType}function qx(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ux(e,t,n,i,a){var r=[];n.forEach((function(e){return r.push(qx(e))}));var s=[];i.forEach((function(n,i){var r={};n.forEach((function(e){var n=r[e]=t.computeStyle(i,e,a);n&&0!=n.length||(i.__ng_removed=Rx,s.push(i))})),e.set(i,r)}));var l=0;return n.forEach((function(e){return qx(e,r[l++])})),s}function Wx(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var i=new Set(t),a=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var r=a.get(t);if(r)return r;var s=t.parentNode;return r=n.has(s)?s:i.has(s)?1:e(s),a.set(t,r),r}(e);1!==t&&n.get(t).push(e)})),n}function Yx(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Gx(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Xx(e,t,n){g_(n).onDone((function(){return e.processLeaveNode(t)}))}function Kx(e,t,n){var i=n.get(e);if(!i)return!1;var a=t.get(e);return a?i.forEach((function(e){return a.add(e)})):t.set(e,i),n.delete(e),!0}var $x=function(){function e(t,n,i){var a=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Vx(t,n,i),this._timelineEngine=new Px(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return a.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,i,a){var r=e+"-"+i,s=this._triggerCache[r];if(!s){var l=[],o=sx(this._driver,a,l);if(l.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(l.join("\n - ")));s=function(e,t){return new Dx(e,t)}(i,o),this._triggerCache[r]=s}this._transitionEngine.registerTrigger(t,i,s)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var a=_slicedToArray2(w_(n),2),r=a[0],s=a[1];this._timelineEngine.command(r,t,s,i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,a){if("@"==n.charAt(0)){var r=_slicedToArray2(w_(n),2),s=r[0],l=r[1];return this._timelineEngine.listen(s,t,l,a)}return this._transitionEngine.listen(e,t,n,i,a)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function Zx(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=Qx(t[0]),t.length>1&&(i=Qx(t[t.length-1]))):t&&(n=Qx(t)),n||i?new Jx(e,n,i):null}var Jx=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var a=e.initialStylesByElement.get(t);a||e.initialStylesByElement.set(t,a={}),this._initialStyles=a}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&q_(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(q_(this._element,this._initialStyles),this._endStyles&&(q_(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(U_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(U_(this._element,this._endStyles),this._endStyles=null),q_(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Qx(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var a=n[i];eS(a)&&((t=t||{})[a]=e[a])}return t}function eS(e){return"display"===e||"position"===e}var tS=function(){function e(t,n,i,a,r,s,l){var o=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=i,this._delay=a,this._easing=r,this._fillMode=s,this._onDoneFn=l,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return o._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=lS(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),sS(e,"",t),rS(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){nS(this._element,this._name,"paused")}},{key:"resume",value:function(){nS(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=iS(this._element,this._name);this._position=e*this._duration,sS(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),rS(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=lS(e,"").split(","),i=aS(n,t);i>=0&&(n.splice(i,1),sS(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function nS(e,t,n){sS(e,"PlayState",n,iS(e,t))}function iS(e,t){var n=lS(e,"");return n.indexOf(",")>0?aS(n.split(","),t):aS([n],t)}function aS(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function rS(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function sS(e,t,n,i){var a="animation"+t;if(null!=i){var r=e.style[a];if(r.length){var s=r.split(",");s[i]=n,n=s.join(",")}}e.style[a]=n}function lS(e,t){return e.style["animation"+t]}var oS=function(){function e(t,n,i,a,r,s,l,o){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=a,this._delay=r,this._finalStyles=l,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=a+r,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new tS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:tx(e.element,i))}))}this.currentSnapshot=t}}]),e}(),uS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this)).element=e,a._startingStyles={},a.__initialized=!1,a._styles=P_(i),a}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Jv),cS=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return A_(e)}},{key:"matchesElement",value:function(e,t){return D_(e,t)}},{key:"containsElement",value:function(e,t){return M_(e,t)}},{key:"query",value:function(e,t,n){return T_(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return P_(e)}));var i="@keyframes ".concat(t," {\n"),a="";n.forEach((function(e){a=" ";var t=parseFloat(e.offset);i+="".concat(a).concat(100*t,"% {\n"),a+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(a,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(a).concat(t,": ").concat(n,";\n"))}})),i+="".concat(a,"}\n")})),i+="}\n";var r=document.createElement("style");return r.innerHTML=i,r}},{key:"animate",value:function(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var l=r.filter((function(e){return e instanceof oS})),o={};J_(n,i)&&l.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return o[e]=t[e]}))}));var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=Q_(e,t,o));if(0==n)return new uS(e,u);var c="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var d=Zx(e,t),p=new oS(e,t,c,n,i,a,u,d);return p.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),p}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),hS=function(){function e(t,n,i,a){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:tx(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),dS=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pS().toString()),this._cssKeyframesDriver=new cS}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return A_(e)}},{key:"matchesElement",value:function(e,t){return D_(e,t)}},{key:"containsElement",value:function(e,t){return M_(e,t)}},{key:"query",value:function(e,t,n){return T_(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,a,r);var l={duration:n,delay:i,fill:0==i?"both":"forwards"};a&&(l.easing=a);var o={},u=r.filter((function(e){return e instanceof hS}));J_(n,i)&&u.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return o[e]=t[e]}))}));var c=Zx(e,t=Q_(e,t=t.map((function(e){return V_(e,!1)})),o));return new hS(e,t,l,c)}}]),e}();function pS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var fS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this))._nextAnimationId=0,a._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ve.None,styles:[],data:{animation:[]}}),a}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Kv(e):e;return vS(this._renderer,null,t,"register",[n]),new mS(t,this._renderer)}}]),n}(Xv),mS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this))._id=e,a._renderer=i,a}return _createClass(n,[{key:"create",value:function(e,t){return new gS(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),gS=function(){function e(t,n,i,a){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return vS(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function vS(e,t,n,i,a){return e.setProperty(t,"@@".concat(n,":").concat(i),a)}var yS=function(){function e(t,n,i){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var a=this._rendererCache.get(i);return a||(a=new bS("",i,this.engine),this._rendererCache.set(i,a)),a}var r=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);return t.data.animation.forEach((function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(r,s,e,i.name,i)})),new kS(this,s,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray2(e,2);(0,t[0])(t[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}(),bS=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),kS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;return _classCallCheck(this,n),(s=t.call(this,i,a,r)).factory=e,s.namespaceId=i,s}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,a,r=this;if("@"==t.charAt(0)){var s,l=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),o=t.substr(1),u="";return"@"!=o.charAt(0)&&(a=(i=o).indexOf("."),o=(s=_slicedToArray2([i.substring(0,a),i.substr(a+1)],2))[0],u=s[1]),this.engine.listen(this.namespaceId,l,o,u,(function(e){r.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(bS),CS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){return _classCallCheck(this,n),t.call(this,e.body,i,a)}return n}($x);function wS(){return"function"==typeof pS()?new dS:new cS}function _S(){return new xx}function xS(e,t,n){return new yS(e,t,n)}var SS=new xe("AnimationModuleType"),ES=function e(){_classCallCheck(this,e)},OS=Qn({encapsulation:2,styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],data:{}});function IS(e){return ns(2,[Ur(671088640,1,{_inputElement:0}),(e()(),Br(1,0,[["label",1]],null,12,"label",[["class","mat-radio-label"]],[[1,"for",0]],null,null,null,null)),(e()(),Br(2,0,null,null,7,"div",[["class","mat-radio-container"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"div",[["class","mat-radio-outer-circle"]],null,null,null,null,null)),(e()(),Br(4,0,null,null,0,"div",[["class","mat-radio-inner-circle"]],null,null,null,null,null)),(e()(),Br(5,0,[[1,0],["input",1]],null,0,"input",[["class","mat-radio-input cdk-visually-hidden"],["type","radio"]],[[8,"id",0],[8,"checked",0],[8,"disabled",0],[8,"tabIndex",0],[1,"name",0],[1,"value",0],[8,"required",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"change"],[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==a._onInputChange(n)&&i),"click"===t&&(i=!1!==a._onInputClick(n)&&i),i}),null,null)),(e()(),Br(6,0,null,null,3,"div",[["class","mat-radio-ripple mat-focus-indicator mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),la(7,212992,null,0,yb,[cn,er,zg,[2,vb],[2,SS]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),Zr(8,{enterDuration:0}),(e()(),Br(9,0,null,null,0,"div",[["class","mat-ripple-element mat-radio-persistent-ripple"]],null,null,null,null,null)),(e()(),Br(10,0,null,null,3,"div",[["class","mat-radio-label-content"]],[[2,"mat-radio-label-before",null]],null,null,null,null)),(e()(),Br(11,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(e()(),Qr(-1,null,["\xa0"])),Kr(null,0)],(function(e,t){var n=t.component,i=e(t,8,0,150);e(t,7,0,!0,20,i,n._isRippleDisabled(),Zi(t,1))}),(function(e,t){var n=t.component;e(t,1,0,n.inputId),e(t,5,0,n.inputId,n.checked,n.disabled,n.tabIndex,n.name,n.value,n.required,n.ariaLabel,n.ariaLabelledby,n.ariaDescribedby),e(t,6,0,Zi(t,7).unbounded),e(t,10,0,"before"==n.labelPosition)}))}var AS=function e(){_classCallCheck(this,e)};function DS(e){return Error("A hint was already declared for 'align=\"".concat(e,"\"'."))}var MS,TS,PS=function e(){_classCallCheck(this,e)},LS=0,NS=Gy((function e(t){_classCallCheck(this,e),this._elementRef=t}),"primary"),RS=new xe("MAT_FORM_FIELD_DEFAULT_OPTIONS"),FS=new xe("MatFormField"),HS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s,l,o,u){var c;return _classCallCheck(this,n),(c=t.call(this,e))._elementRef=e,c._changeDetectorRef=i,c._dir=r,c._defaults=s,c._platform=l,c._ngZone=o,c._outlineGapCalculationNeededImmediately=!1,c._outlineGapCalculationNeededOnStable=!1,c._destroyed=new I,c._showAlwaysAnimate=!1,c._subscriptAnimationState="",c._hintLabel="",c._hintLabelId="mat-hint-".concat(LS++),c._labelId="mat-form-field-label-".concat(LS++),c._labelOptions=a||{},c.floatLabel=c._getDefaultFloatLabelState(),c._animationsEnabled="NoopAnimations"!==u,c.appearance=s&&s.appearance?s.appearance:"legacy",c._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker,c}return _createClass(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var e=this;this._validateControlChild();var t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(t.controlType)),t.stateChanges.pipe(ah(null)).subscribe((function(){e._validatePlaceholders(),e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ch(this._destroyed)).subscribe((function(){return e._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.asObservable().pipe(ch(e._destroyed)).subscribe((function(){e._outlineGapCalculationNeededOnStable&&e.updateOutlineGap()}))})),K(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){e._outlineGapCalculationNeededOnStable=!0,e._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(ah(null)).subscribe((function(){e._processHints(),e._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(ah(null)).subscribe((function(){e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(ch(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?e._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return e.updateOutlineGap()}))})):e.updateOutlineGap()}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(e){var t=this._control?this._control.ngControl:null;return t&&t[e]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var e=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,th(this._label.nativeElement,"transitionend").pipe(gh(1)).subscribe((function(){e._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var e,t,n=this;this._hintChildren&&this._hintChildren.forEach((function(i){if("start"===i.align){if(e||n.hintLabel)throw DS("start");e=i}else if("end"===i.align){if(t)throw DS("end");t=i}}))}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var e=[];if("hint"===this._getDisplayedMessages()){var t=this._hintChildren?this._hintChildren.find((function(e){return"start"===e.align})):null,n=this._hintChildren?this._hintChildren.find((function(e){return"end"===e.align})):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&(e=this._errorChildren.map((function(e){return e.id})));this._control.setDescribedByIds(e)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var e=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var t=0,n=0,i=this._connectionContainerRef.nativeElement,a=i.querySelectorAll(".mat-form-field-outline-start"),r=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var s=i.getBoundingClientRect();if(0===s.width&&0===s.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var l,o=this._getStartEnd(s),u=this._getStartEnd(e.children[0].getBoundingClientRect()),c=0,h=_createForOfIteratorHelper(e.children);try{for(h.s();!(l=h.n()).done;){c+=l.value.offsetWidth}}catch(f){h.e(f)}finally{h.f()}t=Math.abs(u-o)-5,n=c>0?.75*c+10:0}for(var d=0;d<a.length;d++)a[d].style.width="".concat(t,"px");for(var p=0;p<r.length;p++)r[p].style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}},{key:"_isAttachedToDOM",value:function(){var e=this._elementRef.nativeElement;if(e.getRootNode){var t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}},{key:"appearance",get:function(){return this._appearance},set:function(e){var t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(e){this._hideRequiredMarker=Cg(e)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(e){this._hintLabel=e,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(e){this._explicitFormFieldControl=e}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(NS),BS=function e(){_classCallCheck(this,e)},VS=((TS=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}]),e}()).\u0275prov=ce({factory:function(){return new TS},token:TS,providedIn:"root"}),TS),jS=((MS=function(){function e(t){_classCallCheck(this,e),this._mutationObserverFactory=t,this._observedElements=new Map}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=this;this._observedElements.forEach((function(t,n){return e._cleanupObserver(n)}))}},{key:"observe",value:function(e){var t=this,n=xg(e);return new w((function(e){var i=t._observeElement(n).subscribe(e);return function(){i.unsubscribe(),t._unobserveElement(n)}}))}},{key:"_observeElement",value:function(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{var t=new I,n=this._mutationObserverFactory.create((function(e){return t.next(e)}));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}},{key:"_unobserveElement",value:function(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}},{key:"_cleanupObserver",value:function(e){if(this._observedElements.has(e)){var t=this._observedElements.get(e),n=t.observer,i=t.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(e)}}}]),e}()).\u0275prov=ce({factory:function(){return new MS(Me(VS))},token:MS,providedIn:"root"}),MS),zS=function(){function e(t,n,i){_classCallCheck(this,e),this._contentObserver=t,this._elementRef=n,this._ngZone=i,this.event=new Ma,this._disabled=!1,this._currentSubscription=null}return _createClass(e,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var e=this;this._unsubscribe();var t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){e._currentSubscription=(e.debounce?t.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zc;return function(n){return n.lift(new vy(e,t))}}(e.debounce)):t).subscribe(e.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Cg(e),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(e){this._debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}(e),this._subscribe()}}]),e}(),qS=function e(){_classCallCheck(this,e)},US=Qn({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function WS(e){return ns(0,[(e()(),Br(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),Br(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(e()(),Br(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(e()(),Br(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(e()(),Br(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(e()(),Br(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(e()(),Br(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function YS(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Kr(null,0)],null,null)}function GS(e){return ns(0,[(e()(),Br(0,0,null,null,3,null,null,null,null,null,null,null)),Kr(null,2),(e()(),Br(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Qr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.component._control.placeholder)}))}function XS(e){return ns(0,[Kr(null,3),(e()(),Hr(0,null,null,0))],null,null)}function KS(e){return ns(0,[(e()(),Br(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(e()(),Qr(-1,null,[" *"]))],null,null)}function $S(e){return ns(0,[(e()(),Br(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(e,t,n){var i=!0;return"cdkObserveContent"===t&&(i=!1!==e.component.updateOutlineGap()&&i),i}),null,null)),la(1,16384,null,0,Ao,[],{ngSwitch:[0,"ngSwitch"]},null),la(2,1196032,null,0,zS,[jS,cn,er],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(e()(),Hr(16777216,null,null,1,null,GS)),la(4,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,XS)),la(6,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,KS)),la(8,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n._hasLabel()),e(t,2,0,"outline"!=n.appearance),e(t,4,0,!1),e(t,6,0,!0),e(t,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(e,t){var n=t.component;e(t,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function ZS(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Kr(null,4)],null,null)}function JS(e){return ns(0,[(e()(),Br(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,1,0,"accent"==n.color,"warn"==n.color)}))}function QS(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Kr(null,5)],null,(function(e,t){e(t,0,0,t.component._subscriptAnimationState)}))}function eE(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(e()(),Qr(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n._hintLabelId),e(t,1,0,n.hintLabel)}))}function tE(e){return ns(0,[(e()(),Br(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,eE)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),Kr(null,6),(e()(),Br(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Kr(null,7)],(function(e,t){e(t,2,0,t.component.hintLabel)}),(function(e,t){e(t,0,0,t.component._subscriptAnimationState)}))}function nE(e){return ns(2,[Ur(671088640,1,{underlineRef:0}),Ur(402653184,2,{_connectionContainerRef:0}),Ur(671088640,3,{_inputContainerRef:0}),Ur(671088640,4,{_label:0}),(e()(),Br(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(e()(),Br(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==(a._control.onContainerClick&&a._control.onContainerClick(n))&&i),i}),null,null)),(e()(),Hr(16777216,null,null,1,null,WS)),la(7,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,YS)),la(9,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Kr(null,1),(e()(),Br(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,$S)),la(14,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,ZS)),la(16,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,JS)),la(18,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),la(20,16384,null,0,Ao,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),Hr(16777216,null,null,1,null,QS)),la(22,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,tE)),la(24,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,7,0,"outline"==n.appearance),e(t,9,0,n._prefixChildren.length),e(t,14,0,n._hasFloatingLabel()),e(t,16,0,n._suffixChildren.length),e(t,18,0,"outline"!=n.appearance),e(t,20,0,n._getDisplayedMessages()),e(t,22,0,"error"),e(t,24,0,"hint")}),null)}function iE(e){return Error("MatDatepicker: No provider found for ".concat(e,". You must import one of the following ")+"modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}var aE,rE=((aE=function(){function e(){_classCallCheck(this,e),this.changes=new I,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return _createClass(e,[{key:"formatYearRange",value:function(e,t){return"".concat(e," \u2013 ").concat(t)}}]),e}()).\u0275prov=ce({factory:function(){return new aE},token:aE,providedIn:"root"}),aE),sE=function e(t,n,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};_classCallCheck(this,e),this.value=t,this.displayValue=n,this.ariaLabel=i,this.enabled=a,this.cssClasses=r},lE=function(){function e(t,n){_classCallCheck(this,e),this._elementRef=t,this._ngZone=n,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new Ma}return _createClass(e,[{key:"_cellClicked",value:function(e){e.enabled&&this.selectedValueChange.emit(e.value)}},{key:"ngOnChanges",value:function(e){var t=e.numCols,n=this.rows,i=this.numCols;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding="".concat(50*this.cellAspectRatio/i,"%")),!t&&this._cellWidth||(this._cellWidth="".concat(100/i,"%"))}},{key:"_isActiveCell",value:function(e,t){var n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}},{key:"_focusActiveCell",value:function(){var e=this;this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.asObservable().pipe(gh(1)).subscribe((function(){var t=e._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&t.focus()}))}))}}]),e}(),oE=function(){function e(t,n,i,a){if(_classCallCheck(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=d.EMPTY,this.selectedChange=new Ma,this._userSelection=new Ma,this.activeDateChange=new Ma,!this._dateAdapter)throw iE("DateAdapter");if(!this._dateFormats)throw iE("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ah(null)).subscribe((function(){return e._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_dateSelected",value:function(e){if(this._selectedDate!=e){var t=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(t,n,e);this.selectedChange.emit(i)}this._userSelection.emit()}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),e.preventDefault()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_initWeekdays",value:function(){var e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map((function(e,n){return{long:e,narrow:t[n]}}));this._weekdays=n.slice(e).concat(n.slice(0,e))}},{key:"_createWeekCells",value:function(){var e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(var n=0,i=this._firstWeekOffset;n<e;n++,i++){7==i&&(this._weeks.push([]),i=0);var a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),r=this._shouldEnableDate(a),s=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),l=this.dateClass?this.dateClass(a):void 0;this._weeks[this._weeks.length-1].push(new sE(n+1,t[n],s,r,l))}}},{key:"_shouldEnableDate",value:function(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}},{key:"_getDateInCurrentMonth",value:function(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}},{key:"_hasSameMonthAndYear",value:function(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}}]),e}(),uE=function(){function e(t,n,i){if(_classCallCheck(this,e),this._changeDetectorRef=t,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=d.EMPTY,this.selectedChange=new Ma,this.yearSelected=new Ma,this.activeDateChange=new Ma,!this._dateAdapter)throw iE("DateAdapter");this._activeDate=this._dateAdapter.today()}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ah(null)).subscribe((function(){return e._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_init",value:function(){var e=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var t=this._dateAdapter.getYear(this._activeDate)-hE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(var n=0,i=[];n<24;n++)i.push(t+n),4==i.length&&(this._years.push(i.map((function(t){return e._createCellForYear(t)}))),i=[]);this._changeDetectorRef.markForCheck()}},{key:"_yearSelected",value:function(e){this.yearSelected.emit(this._dateAdapter.createDate(e,0,1));var t=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));this.selectedChange.emit(this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-hE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-hE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_getActiveCell",value:function(){return hE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_createCellForYear",value:function(e){var t=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return new sE(e,t,t,this._shouldEnableYear(e))}},{key:"_shouldEnableYear",value:function(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),cE(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}}]),e}();function cE(e,t,n,i,a){var r=e.getYear(t),s=e.getYear(n),l=dE(e,i,a);return Math.floor((r-l)/24)===Math.floor((s-l)/24)}function hE(e,t,n,i){return((e.getYear(t)-dE(e,n,i))%24+24)%24}function dE(e,t,n){var i=0;return n?i=e.getYear(n)-24+1:t&&(i=e.getYear(t)),i}var pE=function(){function e(t,n,i,a){if(_classCallCheck(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=d.EMPTY,this.selectedChange=new Ma,this.monthSelected=new Ma,this.activeDateChange=new Ma,!this._dateAdapter)throw iE("DateAdapter");if(!this._dateFormats)throw iE("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ah(null)).subscribe((function(){return e._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_monthSelected",value:function(e){var t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(t);var n=this._dateAdapter.getNumDaysInMonth(t);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){var e=this;this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map((function(n){return n.map((function(n){return e._createCellForMonth(n,t[n])}))})),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_getMonthInCurrentYear",value:function(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}},{key:"_createCellForMonth",value:function(e,t){var n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new sE(e,t.toLocaleUpperCase(),n,this._shouldEnableMonth(e))}},{key:"_shouldEnableMonth",value:function(e){var t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}},{key:"_isYearAndMonthAfterMaxDate",value:function(e,t){if(this.maxDate){var n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>i}return!1}},{key:"_isYearAndMonthBeforeMinDate",value:function(e,t){if(this.minDate){var n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<i}return!1}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}}]),e}(),fE=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this._intl=t,this.calendar=n,this._dateAdapter=i,this._dateFormats=a,this.calendar.stateChanges.subscribe((function(){return r.markForCheck()}))}return _createClass(e,[{key:"currentPeriodClicked",value:function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}},{key:"previousClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}},{key:"nextClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}},{key:"previousEnabled",value:function(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}},{key:"nextEnabled",value:function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}},{key:"_isSameView",value:function(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):cE(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}},{key:"periodButtonText",get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var e=this._dateAdapter.getYear(this.calendar.activeDate)-hE(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),i=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(n,i)}},{key:"periodButtonLabel",get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}},{key:"prevButtonLabel",get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}},{key:"nextButtonLabel",get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}}]),e}(),mE=function(){function e(t,n,i,a){var r=this;if(_classCallCheck(this,e),this._dateAdapter=n,this._dateFormats=i,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Ma,this.yearSelected=new Ma,this.monthSelected=new Ma,this._userSelection=new Ma,this.stateChanges=new I,!this._dateAdapter)throw iE("DateAdapter");if(!this._dateFormats)throw iE("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe((function(){a.markForCheck(),r.stateChanges.next()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){this._calendarHeaderPortal=new iv(this.headerComponent||fE),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}},{key:"ngAfterViewChecked",value:function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}},{key:"ngOnChanges",value:function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var n=this._getCurrentViewComponent();n&&(this._changeDetectorRef.detectChanges(),n._init())}this.stateChanges.next()}},{key:"focusActiveCell",value:function(){this._getCurrentViewComponent()._focusActiveCell()}},{key:"updateTodaysDate",value:function(){var e=this.currentView;("month"===e?this.monthView:"year"===e?this.yearView:this.multiYearView)._init()}},{key:"_dateSelected",value:function(e){e&&!this._dateAdapter.sameDate(e,this.selected)&&this.selectedChange.emit(e)}},{key:"_yearSelectedInMultiYearView",value:function(e){this.yearSelected.emit(e)}},{key:"_monthSelectedInYearView",value:function(e){this.monthSelected.emit(e)}},{key:"_userSelected",value:function(){this._userSelection.emit()}},{key:"_goToDateInView",value:function(e,t){this.activeDate=e,this.currentView=t}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"_getCurrentViewComponent",value:function(){return this.monthView||this.yearView||this.multiYearView}},{key:"startAt",get:function(){return this._startAt},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"activeDate",get:function(){return this._clampedActiveDate},set:function(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}},{key:"currentView",get:function(){return this._currentView},set:function(e){this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}}]),e}(),gE=0,vE=new xe("mat-datepicker-scroll-strategy");function yE(e){return function(){return e.scrollStrategies.reposition()}}var bE,kE=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e))._changeDetectorRef=i,a._animationState="enter",a._animationDone=new I,a}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._calendar.focusActiveCell()}},{key:"ngOnDestroy",value:function(){this._animationDone.complete()}},{key:"_startExitAnimation",value:function(){this._animationState="void",this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}]),n}(Gy((function e(t){_classCallCheck(this,e),this._elementRef=t}))),CE=function(){function e(t,n,i,a,r,s,l,o){if(_classCallCheck(this,e),this._dialog=t,this._overlay=n,this._ngZone=i,this._viewContainerRef=a,this._dateAdapter=s,this._dir=l,this._document=o,this.startView="month",this._touchUi=!1,this.yearSelected=new Ma,this.monthSelected=new Ma,this.openedStream=new Ma,this.closedStream=new Ma,this._opened=!1,this.id="mat-datepicker-".concat(gE++),this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=d.EMPTY,this._disabledChange=new I,this._selectedChanged=new I,!this._dateAdapter)throw iE("DateAdapter");this._scrollStrategy=r}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._destroyPopup(),this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete()}},{key:"select",value:function(e){var t=this._selected;this._selected=e,this._dateAdapter.sameDate(t,this._selected)||this._selectedChanged.next(e)}},{key:"_selectYear",value:function(e){this.yearSelected.emit(e)}},{key:"_selectMonth",value:function(e){this.monthSelected.emit(e)}},{key:"_registerInput",value:function(e){var t=this;if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=e,this._inputSubscription=this._datepickerInput._valueChange.subscribe((function(e){return t._selected=e}))}},{key:"open",value:function(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}},{key:"close",value:function(){var e=this;if(this._opened){if(this._popupComponentRef&&this._popupRef){var t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe(gh(1)).subscribe((function(){return e._destroyPopup()}))}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);var n=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(n)):n()}}},{key:"_openAsDialog",value:function(){var e=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(kE,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe((function(){return e.close()})),this._dialogRef.componentInstance.datepicker=this,this._dialogRef.componentInstance.color=this.color}},{key:"_openAsPopup",value:function(){var e=this,t=new iv(kE,this._viewContainerRef);this._destroyPopup(),this._createPopup();var n=this._popupComponentRef=this._popupRef.attach(t);n.instance.datepicker=this,n.instance.color=this.color,this._ngZone.onStable.asObservable().pipe(gh(1)).subscribe((function(){e._popupRef.updatePosition()}))}},{key:"_createPopup",value:function(){var e=this,t=new bv({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),K(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(fl((function(t){return 27===t.keyCode||e._datepickerInput&&t.altKey&&38===t.keyCode})))).subscribe((function(t){t&&t.preventDefault(),e.close()}))}},{key:"_destroyPopup",value:function(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}},{key:"_createPopupPositionStrategy",value:function(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"startAt",get:function(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"color",get:function(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)},set:function(e){this._color=e}},{key:"touchUi",get:function(){return this._touchUi},set:function(e){this._touchUi=Cg(e)}},{key:"disabled",get:function(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled},set:function(e){var t=Cg(e);t!==this._disabled&&(this._disabled=t,this._disabledChange.next(t))}},{key:"opened",get:function(){return this._opened},set:function(e){e?this.open():this.close()}},{key:"_selected",get:function(){return this._validSelected},set:function(e){this._validSelected=e}},{key:"_minDate",get:function(){return this._datepickerInput&&this._datepickerInput.min}},{key:"_maxDate",get:function(){return this._datepickerInput&&this._datepickerInput.max}},{key:"_dateFilter",get:function(){return this._datepickerInput&&this._datepickerInput._dateFilter}}]),e}(),wE=function e(t,n){_classCallCheck(this,e),this.target=t,this.targetElement=n,this.value=this.target.value},_E=function(){function e(t,n,i,a){var r=this;if(_classCallCheck(this,e),this._elementRef=t,this._dateAdapter=n,this._dateFormats=i,this._formField=a,this.dateChange=new Ma,this.dateInput=new Ma,this._valueChange=new Ma,this._disabledChange=new Ma,this._onTouched=function(){},this._cvaOnChange=function(){},this._validatorOnChange=function(){},this._datepickerSubscription=d.EMPTY,this._localeSubscription=d.EMPTY,this._parseValidator=function(){return r._lastValueValid?null:{matDatepickerParse:{text:r._elementRef.nativeElement.value}}},this._minValidator=function(e){var t=r._getValidDateOrNull(r._dateAdapter.deserialize(e.value));return!r.min||!t||r._dateAdapter.compareDate(r.min,t)<=0?null:{matDatepickerMin:{min:r.min,actual:t}}},this._maxValidator=function(e){var t=r._getValidDateOrNull(r._dateAdapter.deserialize(e.value));return!r.max||!t||r._dateAdapter.compareDate(r.max,t)>=0?null:{matDatepickerMax:{max:r.max,actual:t}}},this._filterValidator=function(e){var t=r._getValidDateOrNull(r._dateAdapter.deserialize(e.value));return r._dateFilter&&t&&!r._dateFilter(t)?{matDatepickerFilter:!0}:null},this._validator=ju.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw iE("DateAdapter");if(!this._dateFormats)throw iE("MAT_DATE_FORMATS");this._localeSubscription=n.localeChanges.subscribe((function(){r.value=r.value}))}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}},{key:"registerOnValidatorChange",value:function(e){this._validatorOnChange=e}},{key:"validate",value:function(e){return this._validator?this._validator(e):null}},{key:"getPopupConnectionElementRef",value:function(){return this.getConnectedOverlayOrigin()}},{key:"getConnectedOverlayOrigin",value:function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this._cvaOnChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_onKeydown",value:function(e){this._datepicker&&e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),e.preventDefault())}},{key:"_onInput",value:function(e){var t=this._lastValueValid,n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!n||this._dateAdapter.isValid(n),n=this._getValidDateOrNull(n),this._dateAdapter.sameDate(n,this._value)?t!==this._lastValueValid&&this._validatorOnChange():(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new wE(this,this._elementRef.nativeElement)))}},{key:"_onChange",value:function(){this.dateChange.emit(new wE(this,this._elementRef.nativeElement))}},{key:"_getThemePalette",value:function(){return this._formField?this._formField.color:void 0}},{key:"_onBlur",value:function(){this.value&&this._formatValue(this.value),this._onTouched()}},{key:"_formatValue",value:function(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"matDatepicker",set:function(e){var t=this;e&&(this._datepicker=e,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe((function(e){t.value=e,t._cvaOnChange(e),t._onTouched(),t.dateInput.emit(new wE(t,t._elementRef.nativeElement)),t.dateChange.emit(new wE(t,t._elementRef.nativeElement))})))}},{key:"matDatepickerFilter",set:function(e){this._dateFilter=e,this._validatorOnChange()}},{key:"value",get:function(){return this._value},set:function(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);var t=this.value;this._value=e,this._formatValue(e),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)}},{key:"min",get:function(){return this._min},set:function(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}},{key:"max",get:function(){return this._max},set:function(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}},{key:"disabled",get:function(){return!!this._disabled},set:function(e){var t=Cg(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t)),t&&this._isInitialized&&n.blur&&n.blur()}}]),e}(),xE=function(){function e(t,n,i){_classCallCheck(this,e),this._intl=t,this._changeDetectorRef=n,this._stateChanges=d.EMPTY;var a=Number(i);this.tabIndex=a||0===a?a:null}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.datepicker&&this._watchStateChanges()}},{key:"ngOnDestroy",value:function(){this._stateChanges.unsubscribe()}},{key:"ngAfterContentInit",value:function(){this._watchStateChanges()}},{key:"_open",value:function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}},{key:"_watchStateChanges",value:function(){var e=this,t=this.datepicker?this.datepicker._disabledChange:dl(),n=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:dl(),i=this.datepicker?K(this.datepicker.openedStream,this.datepicker.closedStream):dl();this._stateChanges.unsubscribe(),this._stateChanges=K(this._intl.changes,t,n,i).subscribe((function(){return e._changeDetectorRef.markForCheck()}))}},{key:"disabled",get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(e){this._disabled=Cg(e)}}]),e}(),SE=function e(){_classCallCheck(this,e)},EE=Yg({passive:!0}),OE=((bE=function(){function e(t,n){_classCallCheck(this,e),this._platform=t,this._ngZone=n,this._monitoredElements=new Map}return _createClass(e,[{key:"monitor",value:function(e){var t=this;if(!this._platform.isBrowser)return fh;var n=xg(e),i=this._monitoredElements.get(n);if(i)return i.subject.asObservable();var a=new I,r="cdk-text-field-autofilled",s=function(e){"cdk-text-field-autofill-start"!==e.animationName||n.classList.contains(r)?"cdk-text-field-autofill-end"===e.animationName&&n.classList.contains(r)&&(n.classList.remove(r),t._ngZone.run((function(){return a.next({target:e.target,isAutofilled:!1})}))):(n.classList.add(r),t._ngZone.run((function(){return a.next({target:e.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",s,EE),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:a,unlisten:function(){n.removeEventListener("animationstart",s,EE)}}),a.asObservable()}},{key:"stopMonitoring",value:function(e){var t=xg(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}},{key:"ngOnDestroy",value:function(){var e=this;this._monitoredElements.forEach((function(t,n){return e.stopMonitoring(n)}))}}]),e}()).\u0275prov=ce({factory:function(){return new bE(Me(zg),Me(er))},token:bE,providedIn:"root"}),bE),IE=function e(){_classCallCheck(this,e)},AE=new xe("MAT_INPUT_VALUE_ACCESSOR"),DE=["button","checkbox","file","hidden","image","radio","range","reset","submit"],ME=0,TE=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s,l,o,u,c){var h;_classCallCheck(this,n),(h=t.call(this,l,r,s,a))._elementRef=e,h._platform=i,h.ngControl=a,h._autofillMonitor=u,h._uid="mat-input-".concat(ME++),h.focused=!1,h.stateChanges=new I,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(e){return Wg().has(e)}));var d=h._elementRef.nativeElement,p=d.nodeName.toLowerCase();return h._inputValueAccessor=o||d,h._previousNativeValue=h.value,h.id=h.id,i.IOS&&c.runOutsideAngular((function(){e.nativeElement.addEventListener("keyup",(function(e){var t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===p,h._isTextarea="textarea"===p,h._isNativeSelect&&(h.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(t){e.autofilled=t.isAutofilled,e.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_focusChanged",value:function(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}},{key:"_validateType",value:function(){if(DE.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var e=this._elementRef.nativeElement.validity;return e&&e.badInput}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=Cg(e),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(e){this._id=e||this._uid}},{key:"required",get:function(){return this._required},set:function(e){this._required=Cg(e)}},{key:"type",get:function(){return this._type},set:function(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Wg().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(e){this._readonly=Cg(e)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).errorState=!1,e.stateChanges=new I,e}return _createClass(n,[{key:"updateErrorState",value:function(){var e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}]),n}((function e(t,n,i,a){_classCallCheck(this,e),this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=a}))),PE=function e(){_classCallCheck(this,e)},LE=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],NE=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;_classCallCheck(this,n),(r=t.call(this,e))._focusMonitor=i,r._animationMode=a,r.isRoundButton=r._hasHostAttributes("mat-fab","mat-mini-fab"),r.isIconButton=r._hasHostAttributes("mat-icon-button");var s,l=_createForOfIteratorHelper(LE);try{for(l.s();!(s=l.n()).done;){var o=s.value;r._hasHostAttributes(o)&&r._getHostElement().classList.add(o)}}catch(u){l.e(u)}finally{l.f()}return e.nativeElement.classList.add("mat-button-base"),r._focusMonitor.monitor(r._elementRef,!0),r.isRoundButton&&(r.color="accent"),r}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",t=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),e,t)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.some((function(t){return e._getHostElement().hasAttribute(t)}))}}]),n}(Gy(function(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a)))._disabled=!1,e}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Cg(e)}}]),n}(e)}(Xy((function e(t){_classCallCheck(this,e),this._elementRef=t}))))),RE=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){return _classCallCheck(this,n),t.call(this,i,e,a)}return _createClass(n,[{key:"_haltDisabledEvents",value:function(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}]),n}(NE),FE=function e(){_classCallCheck(this,e)},HE=Qn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],data:{}});function BE(e){return ns(2,[Ur(671088640,1,{ripple:0}),(e()(),Br(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Kr(null,0),(e()(),Br(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),la(4,212992,[[1,4]],0,yb,[cn,er,zg,[2,vb],[2,SS]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(e()(),Br(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(e,t){var n=t.component;e(t,3,0,n.isRoundButton||n.isIconButton,Zi(t,4).unbounded)}))}var VE=Qn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],data:{}});function jE(e){return ns(2,[Ur(671088640,1,{ripple:0}),(e()(),Br(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Kr(null,0),(e()(),Br(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),la(4,212992,[[1,4]],0,yb,[cn,er,zg,[2,vb],[2,SS]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(e()(),Br(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(e,t){var n=t.component;e(t,3,0,n.isRoundButton||n.isIconButton,Zi(t,4).unbounded)}))}var zE=Qn({encapsulation:2,styles:[],data:{}});function qE(e){return ns(2,[(e()(),Br(0,0,null,null,12,"div",[["class","mat-calendar-header"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,11,"div",[["class","mat-calendar-controls"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,4,"button",[["cdkAriaLive","polite"],["class","mat-calendar-period-button mat-focus-indicator"],["mat-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.currentPeriodClicked()&&i),i}),BE,HE)),la(3,180224,null,0,NE,[cn,Fy,[2,SS]],null,null),la(4,147456,null,0,Ty,[cn,My,jS,er],{politeness:[0,"politeness"]},null),(e()(),Qr(5,0,[" "," "])),(e()(),Br(6,0,null,0,0,"div",[["class","mat-calendar-arrow"]],[[2,"mat-calendar-invert",null]],null,null,null,null)),(e()(),Br(7,0,null,null,0,"div",[["class","mat-calendar-spacer"]],null,null,null,null,null)),Kr(null,0),(e()(),Br(9,0,null,null,1,"button",[["class","mat-calendar-previous-button mat-focus-indicator"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.previousClicked()&&i),i}),BE,HE)),la(10,180224,null,0,NE,[cn,Fy,[2,SS]],{disabled:[0,"disabled"]},null),(e()(),Br(11,0,null,null,1,"button",[["class","mat-calendar-next-button mat-focus-indicator"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.nextClicked()&&i),i}),BE,HE)),la(12,180224,null,0,NE,[cn,Fy,[2,SS]],{disabled:[0,"disabled"]},null)],(function(e,t){var n=t.component;e(t,4,0,"polite"),e(t,10,0,!n.previousEnabled()),e(t,12,0,!n.nextEnabled())}),(function(e,t){var n=t.component;e(t,2,0,n.periodButtonLabel,Zi(t,3).disabled||null,"NoopAnimations"===Zi(t,3)._animationMode),e(t,5,0,n.periodButtonText),e(t,6,0,"month"!=n.calendar.currentView),e(t,9,0,n.prevButtonLabel,Zi(t,10).disabled||null,"NoopAnimations"===Zi(t,10)._animationMode),e(t,11,0,n.nextButtonLabel,Zi(t,12).disabled||null,"NoopAnimations"===Zi(t,12)._animationMode)}))}var UE=Vi("mat-calendar-header",fE,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"mat-calendar-header",[],null,null,null,qE,zE)),la(1,49152,null,0,fE,[rE,mE,[2,Zy],[2,Jy],Mt],null,null)],null,null)}),{},{},["*"]),WE=Qn({encapsulation:2,styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],data:{}});function YE(e){return ns(0,[(e()(),Hr(0,null,null,0))],null,null)}function GE(e){return ns(0,[(e()(),Br(0,0,null,null,1,"mat-month-view",[],null,[[null,"activeDateChange"],[null,"selectedChange"],[null,"_userSelection"]],(function(e,t,n){var i=!0,a=e.component;return"activeDateChange"===t&&(i=!1!==(a.activeDate=n)&&i),"selectedChange"===t&&(i=!1!==a._dateSelected(n)&&i),"_userSelection"===t&&(i=!1!==a._userSelected()&&i),i}),pO,hO)),la(1,1228800,[[1,4]],0,oE,[Mt,[2,Jy],[2,Zy],[2,Wv]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"],dateClass:[5,"dateClass"]},{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"})],(function(e,t){var n=t.component;e(t,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter,n.dateClass)}),null)}function XE(e){return ns(0,[(e()(),Br(0,0,null,null,1,"mat-year-view",[],null,[[null,"activeDateChange"],[null,"monthSelected"],[null,"selectedChange"]],(function(e,t,n){var i=!0,a=e.component;return"activeDateChange"===t&&(i=!1!==(a.activeDate=n)&&i),"monthSelected"===t&&(i=!1!==a._monthSelectedInYearView(n)&&i),"selectedChange"===t&&(i=!1!==a._goToDateInView(n,"month")&&i),i}),mO,fO)),la(1,1228800,[[2,4]],0,pE,[Mt,[2,Jy],[2,Zy],[2,Wv]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"})],(function(e,t){var n=t.component;e(t,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter)}),null)}function KE(e){return ns(0,[(e()(),Br(0,0,null,null,1,"mat-multi-year-view",[],null,[[null,"activeDateChange"],[null,"yearSelected"],[null,"selectedChange"]],(function(e,t,n){var i=!0,a=e.component;return"activeDateChange"===t&&(i=!1!==(a.activeDate=n)&&i),"yearSelected"===t&&(i=!1!==a._yearSelectedInMultiYearView(n)&&i),"selectedChange"===t&&(i=!1!==a._goToDateInView(n,"year")&&i),i}),vO,gO)),la(1,1228800,[[3,4]],0,uE,[Mt,[2,Zy],[2,Wv]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"})],(function(e,t){var n=t.component;e(t,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter)}),null)}function $E(e){return ns(2,[Ur(671088640,1,{monthView:0}),Ur(671088640,2,{yearView:0}),Ur(671088640,3,{multiYearView:0}),(e()(),Hr(16777216,null,null,1,null,YE)),la(4,212992,null,0,ov,[sn,Rn,kl],{portal:[0,"portal"]},null),(e()(),Br(5,0,null,null,8,"div",[["cdkMonitorSubtreeFocus",""],["class","mat-calendar-content"],["tabindex","-1"]],null,null,null,null,null)),la(6,16384,null,0,Ao,[],{ngSwitch:[0,"ngSwitch"]},null),la(7,147456,null,0,Vy,[cn,Fy],null,null),(e()(),Hr(16777216,null,null,1,null,GE)),la(9,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,XE)),la(11,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,KE)),la(13,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,4,0,n._calendarHeaderPortal),e(t,6,0,n.currentView),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,"multi-year")}),null)}var ZE=Qn({encapsulation:2,styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n"],data:{}});function JE(e){return ns(0,[(e()(),Br(0,0,null,null,2,"tr",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"td",[["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(e()(),Qr(2,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.numCols,n._cellPadding,n._cellPadding),e(t,2,0,n.label)}))}function QE(e){return ns(0,[(e()(),Br(0,0,null,null,1,"td",[["aria-hidden","true"],["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(e()(),Qr(1,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,n._firstRowOffset,n._cellPadding,n._cellPadding),e(t,1,0,n._firstRowOffset>=n.labelMinRequiredCells?n.label:"")}))}function eO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"td",[["class","mat-calendar-body-cell mat-focus-indicator"],["role","gridcell"]],[[8,"tabIndex",0],[2,"mat-calendar-body-disabled",null],[2,"mat-calendar-body-active",null],[1,"aria-label",0],[1,"aria-disabled",0],[1,"aria-selected",0],[4,"width",null],[4,"paddingTop",null],[4,"paddingBottom",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component._cellClicked(e.context.$implicit)&&i),i}),null,null)),la(1,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Br(2,0,null,null,1,"div",[["class","mat-calendar-body-cell-content"]],[[2,"mat-calendar-body-selected",null],[2,"mat-calendar-body-today",null]],null,null,null,null)),(e()(),Qr(3,null,[" "," "]))],(function(e,t){e(t,1,0,"mat-calendar-body-cell mat-focus-indicator",t.context.$implicit.cssClasses)}),(function(e,t){var n=t.component;e(t,0,0,n._isActiveCell(t.parent.context.index,t.context.index)?0:-1,!t.context.$implicit.enabled,n._isActiveCell(t.parent.context.index,t.context.index),t.context.$implicit.ariaLabel,!t.context.$implicit.enabled||null,n.selectedValue===t.context.$implicit.value,n._cellWidth,n._cellPadding,n._cellPadding),e(t,2,0,n.selectedValue===t.context.$implicit.value,n.todayValue===t.context.$implicit.value),e(t,3,0,t.context.$implicit.displayValue)}))}function tO(e){return ns(0,[(e()(),Br(0,0,null,null,4,"tr",[["role","row"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,QE)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,eO)),la(4,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,0===t.context.index&&t.component._firstRowOffset),e(t,4,0,t.context.$implicit)}),null)}function nO(e){return ns(2,[(e()(),Hr(16777216,null,null,1,null,JE)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,tO)),la(3,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n._firstRowOffset<n.labelMinRequiredCells),e(t,3,0,n.rows)}),null)}var iO=Qn({encapsulation:2,styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],data:{animation:[{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(1, 0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1, 1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms linear"},options:null}],options:{}},{type:7,name:"fadeInCalendar",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"},options:null}],options:{}}]}});function aO(e){return ns(2,[Ur(671088640,1,{_calendar:0}),(e()(),Br(1,0,null,null,3,"mat-calendar",[["cdkTrapFocus",""],["class","mat-calendar"]],[[8,"id",0],[24,"@fadeInCalendar",0]],[[null,"selectedChange"],[null,"yearSelected"],[null,"monthSelected"],[null,"_userSelection"]],(function(e,t,n){var i=!0,a=e.component;return"selectedChange"===t&&(i=!1!==a.datepicker.select(n)&&i),"yearSelected"===t&&(i=!1!==a.datepicker._selectYear(n)&&i),"monthSelected"===t&&(i=!1!==a.datepicker._selectMonth(n)&&i),"_userSelection"===t&&(i=!1!==a.datepicker.close()&&i),i}),$E,WE)),la(2,278528,null,0,Co,[An,Dn,cn,fn],{ngClass:[0,"ngClass"]},null),la(3,1458176,null,0,Oy,[cn,Ey,kl],{enabled:[0,"enabled"]},null),la(4,10141696,[[1,4]],0,mE,[rE,[2,Zy],[2,Jy],Mt],{headerComponent:[0,"headerComponent"],startAt:[1,"startAt"],startView:[2,"startView"],selected:[3,"selected"],minDate:[4,"minDate"],maxDate:[5,"maxDate"],dateFilter:[6,"dateFilter"],dateClass:[7,"dateClass"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"})],(function(e,t){var n=t.component;e(t,2,0,n.datepicker.panelClass),e(t,3,0,""),e(t,4,0,n.datepicker.calendarHeaderComponent,n.datepicker.startAt,n.datepicker.startView,n.datepicker._selected,n.datepicker._minDate,n.datepicker._maxDate,n.datepicker._dateFilter,n.datepicker.dateClass)}),(function(e,t){e(t,1,0,t.component.datepicker.id,"enter")}))}var rO=Vi("mat-datepicker-content",kE,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"mat-datepicker-content",[["class","mat-datepicker-content"]],[[40,"@transformPanel",0],[2,"mat-datepicker-content-touch",null]],[["component","@transformPanel.done"]],(function(e,t,n){var i=!0;return"component:@transformPanel.done"===t&&(i=!1!==Zi(e,1)._animationDone.next()&&i),i}),aO,iO)),la(1,4374528,null,0,kE,[cn,Mt],null,null)],null,(function(e,t){e(t,0,0,Zi(t,1)._animationState,Zi(t,1).datepicker.touchUi)}))}),{color:"color"},{},[]),sO=Qn({encapsulation:2,styles:[],data:{}});function lO(e){return ns(2,[],null,null)}var oO=Qn({encapsulation:2,styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],data:{}});function uO(e){return ns(0,[(e()(),Br(0,0,null,null,1,":svg:svg",[["class","mat-datepicker-toggle-default-icon"],["fill","currentColor"],["focusable","false"],["height","24px"],["viewBox","0 0 24 24"],["width","24px"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,0,":svg:path",[["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],null,null,null,null,null))],null,null)}function cO(e){return ns(2,[Ur(671088640,1,{_button:0}),(e()(),Br(1,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""],["type","button"]],[[1,"aria-haspopup",0],[1,"aria-label",0],[1,"tabindex",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component._open(n)&&i),i}),BE,HE)),la(2,180224,[[1,4],["button",4]],0,NE,[cn,Fy,[2,SS]],{disabled:[0,"disabled"],disableRipple:[1,"disableRipple"]},null),(e()(),Hr(16777216,null,0,1,null,uO)),la(4,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),Kr(0,0)],(function(e,t){var n=t.component;e(t,2,0,n.disabled,n.disableRipple),e(t,4,0,!n._customIcon)}),(function(e,t){var n=t.component;e(t,1,0,n.datepicker?"dialog":null,n._intl.openCalendarLabel,n.disabled?-1:n.tabIndex,Zi(t,2).disabled||null,"NoopAnimations"===Zi(t,2)._animationMode)}))}var hO=Qn({encapsulation:2,styles:[],data:{}});function dO(e){return ns(0,[(e()(),Br(0,0,null,null,1,"th",[["scope","col"]],[[1,"aria-label",0]],null,null,null,null)),(e()(),Qr(1,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.long),e(t,1,0,t.context.$implicit.narrow)}))}function pO(e){return ns(2,[Ur(671088640,1,{_matCalendarBody:0}),(e()(),Br(1,0,null,null,8,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,5,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,dO)),la(5,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(6,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Br(7,0,null,null,0,"th",[["aria-hidden","true"],["class","mat-calendar-table-header-divider"],["colspan","7"]],null,null,null,null,null)),(e()(),Br(8,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,n){var i=!0,a=e.component;return"selectedValueChange"===t&&(i=!1!==a._dateSelected(n)&&i),"keydown"===t&&(i=!1!==a._handleCalendarBodyKeydown(n)&&i),i}),nO,ZE)),la(9,573440,[[1,4]],0,lE,[cn,er],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],activeCell:[5,"activeCell"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var n=t.component;e(t,5,0,n._weekdays),e(t,9,0,n._monthLabel,n._weeks,n._todayDate,n._selectedDate,3,n._dateAdapter.getDate(n.activeDate)-1)}),null)}var fO=Qn({encapsulation:2,styles:[],data:{}});function mO(e){return ns(2,[Ur(671088640,1,{_matCalendarBody:0}),(e()(),Br(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Br(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(e()(),Br(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,n){var i=!0,a=e.component;return"selectedValueChange"===t&&(i=!1!==a._monthSelected(n)&&i),"keydown"===t&&(i=!1!==a._handleCalendarBodyKeydown(n)&&i),i}),nO,ZE)),la(6,573440,[[1,4]],0,lE,[cn,er],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],numCols:[5,"numCols"],activeCell:[6,"activeCell"],cellAspectRatio:[7,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var n=t.component;e(t,6,0,n._yearLabel,n._months,n._todayMonth,n._selectedMonth,2,4,n._dateAdapter.getMonth(n.activeDate),4/7)}),null)}var gO=Qn({encapsulation:2,styles:[],data:{}});function vO(e){return ns(2,[Ur(671088640,1,{_matCalendarBody:0}),(e()(),Br(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Br(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(e()(),Br(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,n){var i=!0,a=e.component;return"selectedValueChange"===t&&(i=!1!==a._yearSelected(n)&&i),"keydown"===t&&(i=!1!==a._handleCalendarBodyKeydown(n)&&i),i}),nO,ZE)),la(6,573440,[[1,4]],0,lE,[cn,er],{rows:[0,"rows"],todayValue:[1,"todayValue"],selectedValue:[2,"selectedValue"],numCols:[3,"numCols"],activeCell:[4,"activeCell"],cellAspectRatio:[5,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var n=t.component;e(t,6,0,n._years,n._todayYear,n._selectedYear,4,n._getActiveCell(),4/7)}),null)}var yO,bO=n("5RHE"),kO=function(){function e(t,n,i){_classCallCheck(this,e),this.dialogRef=t,this.data=n,this.sanitized=i}return _createClass(e,[{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"ngOnInit",value:function(){}},{key:"convertToPDF",value:function(){var e=new bO,t=document.getElementById("contentToConvert");e.fromHTML(t,15,15,{width:500,elementHandlers:{"#editor":function(e,t){return!0}}}),e.setFontSize(9),e.save("Outline.pdf")}},{key:"print",value:function(){var e,t;e=this.sanitized.bypassSecurityTrustHtml(document.getElementById("contentToConvert").innerHTML),(t=window.open("","_blank","top=0,left=0,height=100%,width=auto")).document.open(),t.document.write('\n      <html>\n        <head>\n          <title>Print tab</title>\n          <style>\n\n          table, th, td {\n            border: 1px solid black;\n            border-collapse: collapse;\n          }\n\n          </style>\n        </head>\n    <body onload="window.print();window.close()">'.concat(e,"</body>\n      </html>")),t.document.close()}}]),e}(),CO=function(){function e(t,n,i,a){_classCallCheck(this,e),this.outlineService=t,this.dialog=n,this.authService=i,this.modalService=a,this.closeResult="",this.days=["Monday","TuesDay","Wednesday","Thursday","Friday"],this.times=["8:30 - 10:30","10:30 - 12:30","12:30 - 14:30","14:30 - 16:30","16:30 - 18:30"],this.yearSemesters=["Fall/2020","Spring/2020","Fall/2021","Spring/2021","Fall/2022","Spring/2022","Fall/2023","Spring/2023"],this.fieldArray=[],this.newAttribute={},this.learningOutcomeArray=[],this.newLearningOutcome={},this.labArray=[],this.newLab={},this.assessments=["Midterm-1","Midterm-2","Final","Labs","Attendance","Project"],this.assessmentArray=[],this.newAssesment={},this.studentOutcomes=[{id:1,outcome:" An ability to identify, formulate, and solve complex engineering problems by applying principles of engineering, science, and mathematics",checked:!1},{id:2,outcome:" An ability to apply engineering design to produce solutions that meet specified needs with consideration of public health, safety, and welfare, as well as global, cultural, social, environmental, and economic factors",checked:!1},{id:3,outcome:" An ability to communicate effectively with a range of audiences",checked:!1},{id:4,outcome:" An ability to recognize ethical and professional responsibilities in engineering situations and make informed judgments, which must consider the impact of engineering solutions in global, economic, environmental, and societal contexts",checked:!1},{id:5,outcome:" An ability to function effectively on a team whose members together provide leadership, create a collaborative and inclusive environment, establish goals, plan tasks, and meet objectives ",checked:!1},{id:6,outcome:" An ability to develop and conduct appropriate experimentation, analyze and interpret data, and use engineering judgment to draw conclusions"},{id:7,outcome:" An ability to acquire and apply new knowledge as needed, using appropriate learning strategies.",checked:!1}],this.selectedStudentOutcomes=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.outlineService.getStudyPrograms().subscribe((function(t){e.studyPrograms=t,console.log(e.studyPrograms)})),this.outlineService.getAssistants().subscribe((function(t){e.assistants=t,console.log(e.assistants)})),this.outlineService.getUser(this.authService.decodedToken.nameid).subscribe((function(t){e.instructor=t,console.log(e.instructor)})),this.lectureFormGroup=new wc({day1:new Cc,time1:new Cc,room1:new Cc,day2:new Cc,time2:new Cc,room2:new Cc},ju.required),this.labFormGroup=new wc({day:new Cc,time:new Cc,labRoom:new Cc}),this.yearSemesterForm=new wc({yearSemester:new Cc}),this.assessmentForm=new wc({type:new Cc,percentage:new Cc}),this.dateGroup=new wc({date:new Cc(new Date)}),this.datePre=new Date}},{key:"selectChangeStudyProgram",value:function(e){var t=Number(e),n=this.studyPrograms.findIndex((function(e){return Number(e.programCode)===t}));this.selectedProg=this.studyPrograms[n],this.courses=this.studyPrograms[n].courses}},{key:"selectChangeCourse",value:function(e){var t=this.courses.findIndex((function(t){return t.courseCode.valueOf()===e}));this.selectedCourse=this.courses[t],console.log(this.selectedCourse)}},{key:"selectChangeAssistant",value:function(e){var t=this.assistants.findIndex((function(t){return t.id===Number(e)}));this.selectedAssistant=this.assistants[t],console.log(this.selectedCourse.prerequisites)}},{key:"selectChangeLectureTime",value:function(e){}},{key:"addMidFieldValue",value:function(e){this.fieldArray.splice(e,0,this.newAttribute),this.newAttribute={}}},{key:"addFieldValue",value:function(){this.fieldArray.push(this.newAttribute),this.newAttribute={}}},{key:"deleteFieldValue",value:function(e){this.fieldArray.splice(e,1)}},{key:"addMidAssessmentValue",value:function(e){this.assessmentArray.splice(e,0,this.newAssesment),this.newAssesment={}}},{key:"addAssessmentValue",value:function(){this.assessmentArray.push(this.newAssesment),this.newAssesment={}}},{key:"deleteAssessmentValue",value:function(e){this.assessmentArray.splice(e,1)}},{key:"addMidLabValue",value:function(e){this.labArray.splice(e,0,this.newLab),this.newAttribute={}}},{key:"addLabValue",value:function(){this.labArray.push(this.newLab),console.log(this.newLab),this.newAttribute={}}},{key:"deleteLabValue",value:function(e){this.labArray.splice(e,1)}},{key:"addMidOutcomeValue",value:function(e){this.learningOutcomeArray.splice(e,0,this.newLearningOutcome),this.newLearningOutcome={}}},{key:"addOutcomeValue",value:function(){this.learningOutcomeArray.push(this.newLearningOutcome),this.newLearningOutcome={}}},{key:"deleteOutcomeValue",value:function(e){this.learningOutcomeArray.splice(e,1)}},{key:"openDialog",value:function(){var e=this;console.log(this.authService.decodedToken.nameid),this.dialog.open(kO,{width:"842px",maxWidth:"842px",data:{selectedProg:this.selectedProg,selectedCourse:this.selectedCourse,instructor:this.instructor,selectedAssistant:this.selectedAssistant,lectureFormGroup:this.lectureFormGroup,labFormGroup:this.labFormGroup,yearSemesterForm:this.yearSemesterForm,reOrElec:this.reqOrElec,courseDesc:this.courseDesc,courseWeb:this.courseWeb,textBooks:this.textBooks,readingList:this.readingList,fieldArray:this.fieldArray,learningOutcomeArray:this.learningOutcomeArray,labArray:this.labArray,assessmentArray:this.assessmentArray,attendanceGrade:this.attendanceGrade,makeupPolicy:this.makeupPolicy,missedLabs:this.missedLabs,NGPolicy:this.NGPolicy,selectedStudentOutcomes:this.selectedStudentOutcomes,datePre:this.datePre,dateGroup:this.dateGroup}}).afterClosed().subscribe((function(t){console.log("The dialog was closed"),e.animal=t}))}},{key:"open",value:function(e){var t=this;this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then((function(e){t.closeResult="Closed with: ".concat(e)}),(function(e){t.closeResult="Dismissed ".concat(t.getDismissReason(e))}))}},{key:"getDismissReason",value:function(e){return e===Pd.ESC?"by pressing ESC":e===Pd.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}},{key:"checkCheckBoxvalue",value:function(e){if(!1===e.checked)this.selectedStudentOutcomes.push(e),this.studentOutcomes[this.studentOutcomes.findIndex((function(t){return t.id===e.id}))].checked=!0;else{var t=this.selectedStudentOutcomes.findIndex((function(t){return t.id===e.id}));this.studentOutcomes[this.studentOutcomes.findIndex((function(t){return t.id===e.id}))].checked=!1,this.selectedStudentOutcomes.splice(t,1)}}},{key:"onDateChange",value:function(e){console.log(e)}}]),e}(),wO=((yO=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.baseUrl=n}return _createClass(e,[{key:"getStudyPrograms",value:function(){return this.http.get(this.baseUrl+"Outline/studyprograms")}},{key:"getAssistants",value:function(){return this.http.get(this.baseUrl+"Outline/assistants")}},{key:"getUser",value:function(e){return this.http.get(this.baseUrl+"Outline/User/"+e)}},{key:"getCourses",value:function(e){return this.http.get(this.baseUrl+"Outline/Courses/"+e)}},{key:"getStudentLO",value:function(){return this.http.get(this.baseUrl+"Outline/StudentLO")}}]),e}()).\u0275prov=ce({factory:function(){return new yO(Me(su),Me("BASE_URL"))},token:yO,providedIn:"root"}),yO),_O=Qn({encapsulation:0,styles:[["#st[_ngcontent-%COMP%]{display:inline-block}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}#bt[_ngcontent-%COMP%]{display:inline-block}.inline-flex-parent[_ngcontent-%COMP%]{display:inline-flex}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{height:100vh;width:100%}hr[_ngcontent-%COMP%]{display:block;margin:.5em auto;border-style:inset;border-width:1px}p[_ngcontent-%COMP%]{margin:0}"]],data:{}});function xO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],{value:[0,"value"]},null),la(2,147456,null,0,ic,[cn,fn,[8,null]],{value:[0,"value"]},null),(e()(),Qr(3,null,[""," "]))],(function(e,t){e(t,1,0,t.context.$implicit.programCode),e(t,2,0,t.context.$implicit.programCode)}),(function(e,t){e(t,3,0,t.context.$implicit.programName)}))}function SO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],{value:[0,"value"]},null),la(2,147456,null,0,ic,[cn,fn,[8,null]],{value:[0,"value"]},null),(e()(),Qr(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.courseCode),e(t,2,0,t.context.$implicit.courseCode)}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function EO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],{value:[0,"value"]},null),la(2,147456,null,0,ic,[cn,fn,[8,null]],{value:[0,"value"]},null),(e()(),Qr(3,null,[" ",""]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.title+". "+t.context.$implicit.name+" "+t.context.$implicit.surName)}))}function OO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,[""," "]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function IO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function AO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function DO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function MO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function TO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function PO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function LO(e){return ns(0,[(e()(),Br(0,0,null,null,26,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Br(2,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,3)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.week=n)&&i),i}),null,null)),la(3,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(5,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(7,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(8,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Br(9,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,10)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,10).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,10)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,10)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.date=n)&&i),i}),null,null)),la(10,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(12,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(14,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(15,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Br(16,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,17)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,17).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,17)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,17)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.topic=n)&&i),i}),null,null)),la(17,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(19,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(21,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(22,0,null,null,4,"td",[["style","flex-direction: row; "]],null,null,null,null,null)),(e()(),Br(23,0,null,null,1,"i",[["class","fa fa-minus-circle"],["style","color: red;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteFieldValue(e.context.index)&&i),i}),null,null)),(e()(),Qr(-1,null,["remove"])),(e()(),Br(25,0,null,null,1,"i",[["class","fa fa-plus-circle"],["style","color: green;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addMidFieldValue(e.context.index)&&i),i}),null,null)),(e()(),Qr(-1,null,[" add"]))],(function(e,t){e(t,5,0,Oi(1,"",t.context.$implicit.week,""),t.context.$implicit.week),e(t,12,0,Oi(1,"",t.context.$implicit.date,""),t.context.$implicit.date),e(t,19,0,Oi(1,"",t.context.$implicit.topic,""),t.context.$implicit.topic)}),(function(e,t){e(t,2,0,Zi(t,7).ngClassUntouched,Zi(t,7).ngClassTouched,Zi(t,7).ngClassPristine,Zi(t,7).ngClassDirty,Zi(t,7).ngClassValid,Zi(t,7).ngClassInvalid,Zi(t,7).ngClassPending),e(t,9,0,Zi(t,14).ngClassUntouched,Zi(t,14).ngClassTouched,Zi(t,14).ngClassPristine,Zi(t,14).ngClassDirty,Zi(t,14).ngClassValid,Zi(t,14).ngClassInvalid,Zi(t,14).ngClassPending),e(t,16,0,Zi(t,21).ngClassUntouched,Zi(t,21).ngClassTouched,Zi(t,21).ngClassPristine,Zi(t,21).ngClassDirty,Zi(t,21).ngClassValid,Zi(t,21).ngClassInvalid,Zi(t,21).ngClassPending)}))}function NO(e){return ns(0,[(e()(),Br(0,0,null,null,26,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,6,"td",[["style","width: 50px;"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,3)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.lab=n)&&i),i}),null,null)),la(3,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(5,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(7,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(8,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Br(9,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,10)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,10).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,10)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,10)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.week=n)&&i),i}),null,null)),la(10,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(12,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(14,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(15,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Br(16,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,17)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,17).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,17)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,17)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.desc=n)&&i),i}),null,null)),la(17,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(19,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(21,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(22,0,null,null,4,"td",[["style","flex-direction: row; "]],null,null,null,null,null)),(e()(),Br(23,0,null,null,1,"i",[["class","fa fa-minus-circle"],["style","color: red;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteLabValue(e.context.index)&&i),i}),null,null)),(e()(),Qr(-1,null,["remove"])),(e()(),Br(25,0,null,null,1,"i",[["class","fa fa-plus-circle"],["style","color: green;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addMidLabValue(e.context.index)&&i),i}),null,null)),(e()(),Qr(-1,null,[" add"]))],(function(e,t){e(t,5,0,Oi(1,"",t.context.$implicit.lab,""),t.context.$implicit.lab),e(t,12,0,Oi(1,"",t.context.$implicit.week,""),t.context.$implicit.week),e(t,19,0,Oi(1,"",t.context.$implicit.desc,""),t.context.$implicit.desc)}),(function(e,t){e(t,2,0,Zi(t,7).ngClassUntouched,Zi(t,7).ngClassTouched,Zi(t,7).ngClassPristine,Zi(t,7).ngClassDirty,Zi(t,7).ngClassValid,Zi(t,7).ngClassInvalid,Zi(t,7).ngClassPending),e(t,9,0,Zi(t,14).ngClassUntouched,Zi(t,14).ngClassTouched,Zi(t,14).ngClassPristine,Zi(t,14).ngClassDirty,Zi(t,14).ngClassValid,Zi(t,14).ngClassInvalid,Zi(t,14).ngClassPending),e(t,16,0,Zi(t,21).ngClassUntouched,Zi(t,21).ngClassTouched,Zi(t,21).ngClassPristine,Zi(t,21).ngClassDirty,Zi(t,21).ngClassValid,Zi(t,21).ngClassInvalid,Zi(t,21).ngClassPending)}))}function RO(e){return ns(0,[(e()(),Br(0,0,null,null,18,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,5,"td",[],null,null,null,null,null)),(e()(),Br(2,0,null,null,4,"h6",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.context.$implicit.number=n)&&i),i}),null,null)),la(3,671744,null,0,Dc,[[8,null],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(5,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Qr(6,null,["",""])),(e()(),Br(7,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Br(8,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,9)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,9).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,9)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,9)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.outcome=n)&&i),i}),null,null)),la(9,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(11,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(13,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(14,0,null,null,4,"td",[["style","flex-direction: column; "]],null,null,null,null,null)),(e()(),Br(15,0,null,null,1,"i",[["class","fa fa-minus-circle"],["style","color: rgb(235, 38, 38);"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteOutcomeValue(e.context.index)&&i),i}),null,null)),(e()(),Qr(-1,null,["remove"])),(e()(),Br(17,0,null,null,1,"i",[["class","fa fa-plus-circle"],["style","color: rgb(33, 172, 33);"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addMidOutcomeValue(e.context.index)&&i),i}),null,null)),(e()(),Qr(-1,null,[" add"]))],(function(e,t){e(t,3,0,Oi(1,"",t.context.$implicit.number,""),t.context.$implicit.number),e(t,11,0,Oi(1,"",t.context.$implicit.outcome,""),t.context.$implicit.outcome)}),(function(e,t){e(t,2,0,Zi(t,5).ngClassUntouched,Zi(t,5).ngClassTouched,Zi(t,5).ngClassPristine,Zi(t,5).ngClassDirty,Zi(t,5).ngClassValid,Zi(t,5).ngClassInvalid,Zi(t,5).ngClassPending),e(t,6,0,t.context.index+1),e(t,8,0,Zi(t,13).ngClassUntouched,Zi(t,13).ngClassTouched,Zi(t,13).ngClassPristine,Zi(t,13).ngClassDirty,Zi(t,13).ngClassValid,Zi(t,13).ngClassInvalid,Zi(t,13).ngClassPending)}))}function FO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,[""," "]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function HO(e){return ns(0,[(e()(),Br(0,0,null,null,22,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,8,"td",[],null,null,null,null,null)),(e()(),Br(2,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","type"],["id","inlineFormCustomSelectPref"],["name","assessments"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Zi(e,3).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,3).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.type=n)&&i),i}),null,null)),la(3,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(5,671744,null,0,Hc,[[8,null],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Hc]),la(7,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,FO)),la(9,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(10,0,null,null,7,"td",[],null,null,null,null,null)),(e()(),Br(11,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,12)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,12).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,12)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,12)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==Zi(e,13).onChange(n.target.value)&&i),"input"===t&&(i=!1!==Zi(e,13).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,13).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.percentage=n)&&i),i}),null,null)),la(12,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(13,16384,null,0,Gu,[fn,cn],null,null),ua(1024,null,Iu,(function(e,t){return[e,t]}),[Du,Gu]),la(15,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(17,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(18,0,null,null,4,"td",[["style","flex-direction: column; "]],null,null,null,null,null)),(e()(),Br(19,0,null,null,1,"i",[["class","fa fa-minus-circle"],["style","color: rgb(235, 38, 38);"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteAssessmentValue(e.context.index)&&i),i}),null,null)),(e()(),Qr(-1,null,["remove"])),(e()(),Br(21,0,null,null,1,"i",[["class","fa fa-plus-circle"],["style","color: rgb(33, 172, 33);"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addMidAssessmentValue(e.context.index)&&i),i}),null,null)),(e()(),Qr(-1,null,[" add"]))],(function(e,t){var n=t.component;e(t,5,0,"type",t.context.$implicit.type),e(t,9,0,n.assessments),e(t,15,0,Oi(1,"",t.context.$implicit.percentage,""),t.context.$implicit.percentage)}),(function(e,t){e(t,2,0,Zi(t,7).ngClassUntouched,Zi(t,7).ngClassTouched,Zi(t,7).ngClassPristine,Zi(t,7).ngClassDirty,Zi(t,7).ngClassValid,Zi(t,7).ngClassInvalid,Zi(t,7).ngClassPending),e(t,11,0,Zi(t,17).ngClassUntouched,Zi(t,17).ngClassTouched,Zi(t,17).ngClassPristine,Zi(t,17).ngClassDirty,Zi(t,17).ngClassValid,Zi(t,17).ngClassInvalid,Zi(t,17).ngClassPending)}))}function BO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],null,null),la(2,147456,null,0,ic,[cn,fn,[8,null]],null,null),(e()(),Qr(3,null,[""," "]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function VO(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","form-check"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,0,"input",[["class","form-check-input"],["type","checkbox"],["value",""]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.checkCheckBoxvalue(e.context.$implicit)&&i),i}),null,null)),(e()(),Br(2,0,null,null,1,"label",[["class","form-check-label"],["for","defaultCheck1"]],null,null,null,null,null)),(e()(),Qr(3,null,[" ",": ",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit.id,t.context.$implicit.outcome)}))}function jO(e){return ns(0,[(e()(),Br(0,0,null,null,5,"div",[["class","modal-header ml-5"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Select Outcomes"])),(e()(),Br(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.context.$implicit.dismiss("Cross click")&&i),i}),null,null)),(e()(),Br(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Qr(-1,null,["\xd7"])),(e()(),Br(6,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Br(7,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,9).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,9).onReset()&&i),i}),null,null)),la(8,16384,null,0,Mc,[],null,null),la(9,4210688,null,0,Sc,[[8,null],[8,null]],null,null),ua(2048,null,Tu,null,[Sc]),la(11,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Hr(16777216,null,null,1,null,VO)),la(13,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(14,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Br(15,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.context.$implicit.close("Save click")&&i),i}),null,null)),(e()(),Qr(-1,null,["Save"]))],(function(e,t){e(t,13,0,t.component.studentOutcomes)}),(function(e,t){e(t,7,0,Zi(t,11).ngClassUntouched,Zi(t,11).ngClassTouched,Zi(t,11).ngClassPristine,Zi(t,11).ngClassDirty,Zi(t,11).ngClassValid,Zi(t,11).ngClassInvalid,Zi(t,11).ngClassPending)}))}function zO(e){return ns(0,[(e()(),Br(0,0,null,null,459,"div",[["class","row"],["style","height: 100vb;"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,457,"div",[["class","column "],["style","flex: 63%;"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,56,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,4).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,4).onReset()&&i),i}),null,null)),la(3,16384,null,0,Mc,[],null,null),la(4,4210688,null,0,Sc,[[8,null],[8,null]],null,null),ua(2048,null,Tu,null,[Sc]),la(6,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(7,0,null,null,51,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),Br(8,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(9,0,null,null,10,"div",[["class","form-group ml-5 mt-5"],["style","width: 200px;"]],null,null,null,null,null)),(e()(),Br(10,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Study Program"])),(e()(),Br(12,0,[["mySelect",1]],null,7,"select",[["class","custom-select my-1 mr-sm-2"],["id","inlineFormCustomSelectPref"],["name","studyPrograms"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==Zi(e,13).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,13).onTouched()&&i),"ngModel"===t&&(i=!1!==a.studyPrograms&&i),"ngModelChange"===t&&(i=!1!==a.selectChangeStudyProgram(n)&&i),i}),null,null)),la(13,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(15,671744,null,0,Dc,[[2,Tu],[8,null],[8,null],[6,Iu]],{name:[0,"name"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(17,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,xO)),la(19,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(20,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(21,0,null,null,10,"div",[["class","form-group mt-5"],["style","width: 200px;"]],null,null,null,null,null)),(e()(),Br(22,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Course"])),(e()(),Br(24,0,[["mySelect",1]],null,7,"select",[["class","custom-select my-1 mr-sm-2"],["id","inlineFormCustomSelectPref"],["name","courses"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==Zi(e,25).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,25).onTouched()&&i),"ngModel"===t&&(i=!1!==a.courses&&i),"ngModelChange"===t&&(i=!1!==a.selectChangeCourse(n)&&i),i}),null,null)),la(25,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(27,671744,null,0,Dc,[[2,Tu],[8,null],[8,null],[6,Iu]],{name:[0,"name"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(29,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,SO)),la(31,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(32,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(33,0,null,null,10,"div",[["class","form-group mt-5"],["style","width: 200px;"]],null,null,null,null,null)),(e()(),Br(34,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Assistants"])),(e()(),Br(36,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["id","inlineFormCustomSelectPref"],["name","assistants"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==Zi(e,37).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,37).onTouched()&&i),"ngModel"===t&&(i=!1!==a.assistants&&i),"ngModelChange"===t&&(i=!1!==a.selectChangeAssistant(n)&&i),i}),null,null)),la(37,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(39,671744,null,0,Dc,[[2,Tu],[8,null],[8,null],[6,Iu]],{name:[0,"name"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(41,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,EO)),la(43,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(44,0,null,null,14,"div",[["class","col-auto"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,45).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,45).onReset()&&i),i}),null,null)),la(45,540672,null,0,Pc,[[8,null],[8,null]],{form:[0,"form"]},null),ua(2048,null,Tu,null,[Pc]),la(47,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(48,0,null,null,10,"div",[["class","form-group mt-5"],["style","width: 140px;"]],null,null,null,null,null)),(e()(),Br(49,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Year/Semster"])),(e()(),Br(51,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","yearSemester"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Zi(e,52).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,52).onTouched()&&i),i}),null,null)),la(52,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(54,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(56,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,OO)),la(58,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(59,0,null,null,73,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,61).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,61).onReset()&&i),i}),null,null)),la(60,16384,null,0,Mc,[],null,null),la(61,540672,null,0,Pc,[[8,null],[8,null]],{form:[0,"form"]},null),ua(2048,null,Tu,null,[Pc]),la(63,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(64,0,null,null,68,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),Br(65,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(66,0,null,null,10,"div",[["class","form-group ml-5 "],["style","width: 130px;"]],null,null,null,null,null)),(e()(),Br(67,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Qr(-1,null,["1st LECTURE Day"])),(e()(),Br(69,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","day1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Zi(e,70).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,70).onTouched()&&i),i}),null,null)),la(70,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(72,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(74,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,IO)),la(76,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(77,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(78,0,null,null,10,"div",[["class","form-group ml-1 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Br(79,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Lecture Time"])),(e()(),Br(81,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","time1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Zi(e,82).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,82).onTouched()&&i),i}),null,null)),la(82,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(84,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(86,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,AO)),la(88,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(89,0,null,null,9,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(90,0,null,null,8,"div",[["class","form-group ml-1 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Br(91,0,null,null,1,"label",[["class","my-1"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Room"])),(e()(),Br(93,0,null,null,5,"input",[["formControlName","room1"],["style","width: 80px; margin-top: 5px; height: 35px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,94)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,94).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,94)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,94)._compositionEnd(n.target.value)&&i),i}),null,null)),la(94,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(96,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(98,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(99,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(100,0,null,null,10,"div",[["class","form-group "],["style","width: 138px;"]],null,null,null,null,null)),(e()(),Br(101,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Qr(-1,null,["2nd LECTURE Day"])),(e()(),Br(103,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","day2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Zi(e,104).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,104).onTouched()&&i),i}),null,null)),la(104,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(106,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(108,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,DO)),la(110,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(111,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(112,0,null,null,10,"div",[["class","form-group ml-1 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Br(113,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Lecture Time"])),(e()(),Br(115,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","time2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Zi(e,116).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,116).onTouched()&&i),i}),null,null)),la(116,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(118,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(120,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,MO)),la(122,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(123,0,null,null,9,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(124,0,null,null,8,"div",[["class","form-group ml-1 "],["style","width: 100px;"]],null,null,null,null,null)),(e()(),Br(125,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Room"])),(e()(),Br(127,0,null,null,5,"input",[["formControlName","room2"],["style","width: 80px; margin-top: 5px; height: 35px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,128)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,128).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,128)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,128)._compositionEnd(n.target.value)&&i),i}),null,null)),la(128,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(130,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(132,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(133,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,135).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,135).onReset()&&i),i}),null,null)),la(134,16384,null,0,Mc,[],null,null),la(135,540672,null,0,Pc,[[8,null],[8,null]],{form:[0,"form"]},null),ua(2048,null,Tu,null,[Pc]),la(137,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(138,0,null,null,34,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),Br(139,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(140,0,null,null,10,"div",[["class","form-group ml-5 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Br(141,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Lab Hour Day"])),(e()(),Br(143,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","day"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Zi(e,144).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,144).onTouched()&&i),i}),null,null)),la(144,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(146,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(148,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,TO)),la(150,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(151,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(152,0,null,null,10,"div",[["class","form-group ml-1 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Br(153,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Lab Time"])),(e()(),Br(155,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","time"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Zi(e,156).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,156).onTouched()&&i),i}),null,null)),la(156,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(158,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(160,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,PO)),la(162,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(163,0,null,null,9,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(164,0,null,null,8,"div",[["class","form-group ml-1 "],["style","width: 100px;"]],null,null,null,null,null)),(e()(),Br(165,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Room"])),(e()(),Br(167,0,null,null,5,"input",[["formControlName","labRoom"],["style","width: 80px; margin-top: 5px; height: 35px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,168)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,168).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,168)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,168)._compositionEnd(n.target.value)&&i),i}),null,null)),la(168,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(170,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(172,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(173,0,null,null,62,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,175).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,175).onReset()&&i),i}),null,null)),la(174,16384,null,0,Mc,[],null,null),la(175,4210688,null,0,Sc,[[8,null],[8,null]],null,null),ua(2048,null,Tu,null,[Sc]),la(177,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(178,0,null,null,13,"div",[["class","form-row ml-5"]],null,null,null,null,null)),(e()(),Br(179,0,null,null,12,"mat-radio-group",[["class","example-radio-group mat-radio-group"],["name","csType"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.reqOrElec=n)&&i),i}),null,null)),la(180,1064960,null,1,d_,[Mt],{name:[0,"name"]},null),Ur(603979776,1,{_radios:1}),ua(1024,null,Iu,(function(e){return[e]}),[d_]),la(183,671744,null,0,Dc,[[2,Tu],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(185,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(186,0,null,null,2,"mat-radio-button",[["class","example-radio-button mat-radio-button"],["name","crType"],["ng-style","{'display':'inline'}"],["value","Required"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==Zi(e,187)._inputElement.nativeElement.focus()&&i),i}),IS,OS)),la(187,4440064,[[1,4]],0,p_,[[2,d_],cn,Mt,Fy,$g,[2,SS],[2,u_]],{name:[0,"name"],value:[1,"value"]},null),(e()(),Qr(-1,0,[" Required Course "])),(e()(),Br(189,0,null,null,2,"mat-radio-button",[["class","example-radio-button mat-radio-button"],["name","crType"],["ng-style","{'display':'inline'}"],["value","Elective"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==Zi(e,190)._inputElement.nativeElement.focus()&&i),i}),IS,OS)),la(190,4440064,[[1,4]],0,p_,[[2,d_],cn,Mt,Fy,$g,[2,SS],[2,u_]],{name:[0,"name"],value:[1,"value"]},null),(e()(),Qr(-1,0,[" Elective Course "])),(e()(),Br(192,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(193,0,null,null,1,"label",[["for","CourseDecription"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Course Description"])),(e()(),Br(195,0,null,null,7,"textarea",[["class","span6"],["id","CourseDescription"],["name","courseDesc"],["placeholder","Enter Description?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,196)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,196).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,196)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,196)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.courseDesc=n)&&i),i}),null,null)),la(196,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(197,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(200,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(202,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(203,0,null,null,10,"div",[["class","form-row ml-5 mt-1 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(204,0,null,null,1,"label",[["for","CourseWebpage"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Course Webpage"])),(e()(),Br(206,0,null,null,7,"textarea",[["class","span6"],["id","CourseWebpage"],["name","courseWeb"],["placeholder","Webpage?"],["required",""],["rows","1"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,207)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,207).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,207)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,207)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.courseWeb=n)&&i),i}),null,null)),la(207,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(208,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(211,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(213,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(214,0,null,null,10,"div",[["class","form-row ml-5 mt-1 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(215,0,null,null,1,"label",[["for","Textbook"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Textbook(s)"])),(e()(),Br(217,0,null,null,7,"textarea",[["class","span6"],["id","Textbook"],["name","textBooks"],["placeholder","Textbook(s)?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,218)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,218).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,218)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,218)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.textBooks=n)&&i),i}),null,null)),la(218,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(219,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(222,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(224,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(225,0,null,null,10,"div",[["class","form-row ml-5  mt-1"],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(226,0,null,null,1,"label",[["for","ReadingList"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Indicative Basic Reading List"])),(e()(),Br(228,0,null,null,7,"textarea",[["class","span6"],["id","ReadingList"],["name","readingList"],["placeholder","ReadingList ?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,229)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,229).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,229)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,229)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.readingList=n)&&i),i}),null,null)),la(229,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(230,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(233,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(235,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(236,0,null,null,36,"table",[["class","table table-striped table-bordered ml-5 mt-3"]],null,null,null,null,null)),(e()(),Br(237,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),Br(238,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Br(239,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Week"])),(e()(),Br(241,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Date"])),(e()(),Br(243,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Topics"])),(e()(),Br(245,0,null,null,27,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,LO)),la(247,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(248,0,null,null,24,"tr",[],null,null,null,null,null)),(e()(),Br(249,0,null,null,6,"td",[["style","width: 50px;"]],null,null,null,null,null)),(e()(),Br(250,0,null,null,5,"input",[["class","form-control"],["id","newAttributeCode"],["name","newAttributeCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,251)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,251).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,251)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,251)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.newAttribute.week=n)&&i),i}),null,null)),la(251,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(253,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(255,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(256,0,null,null,6,"td",[["style","width: 160px;"]],null,null,null,null,null)),(e()(),Br(257,0,null,null,5,"input",[["class","form-control"],["id","newAttributeName"],["name","newAttributeName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,258)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,258).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,258)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,258)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.newAttribute.date=n)&&i),i}),null,null)),la(258,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(260,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(262,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(263,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Br(264,0,null,null,5,"input",[["class","form-control"],["id","newAttributePrice"],["name","newAttributePrice"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,265)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,265).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,265)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,265)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.newAttribute.topic=n)&&i),i}),null,null)),la(265,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(267,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(269,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(270,0,null,null,2,"td",[["style","width:50px;"]],null,null,null,null,null)),(e()(),Br(271,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addFieldValue()&&i),i}),null,null)),(e()(),Qr(-1,null,["Add"])),(e()(),Br(273,0,null,null,36,"table",[["class","table table-striped table-bordered ml-5 mt-3"]],null,null,null,null,null)),(e()(),Br(274,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),Br(275,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Br(276,0,null,null,1,"th",[["style","width: 66px;"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Lab"])),(e()(),Br(278,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Week"])),(e()(),Br(280,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Description"])),(e()(),Br(282,0,null,null,27,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,NO)),la(284,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(285,0,null,null,24,"tr",[],null,null,null,null,null)),(e()(),Br(286,0,null,null,6,"td",[["style","width: 50px;"]],null,null,null,null,null)),(e()(),Br(287,0,null,null,5,"input",[["class","form-control"],["id","newLabCode"],["name","newLabCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,288)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,288).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,288)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,288)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.newLab.lab=n)&&i),i}),null,null)),la(288,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(290,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(292,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(293,0,null,null,6,"td",[["style","width: 160px;"]],null,null,null,null,null)),(e()(),Br(294,0,null,null,5,"input",[["class","form-control"],["id","newLabName"],["name","newLabName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,295)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,295).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,295)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,295)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.newLab.week=n)&&i),i}),null,null)),la(295,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(297,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(299,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(300,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Br(301,0,null,null,5,"input",[["class","form-control"],["id","newLabPrice"],["name","newLabPrice"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,302)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,302).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,302)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,302)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.newLab.desc=n)&&i),i}),null,null)),la(302,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(304,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(306,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(307,0,null,null,2,"td",[["style","width:50px;"]],null,null,null,null,null)),(e()(),Br(308,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addLabValue()&&i),i}),null,null)),(e()(),Qr(-1,null,["Add"])),(e()(),Br(310,0,null,null,21,"table",[["class","table table-striped table-bordered ml-5 mt-3"],["style","border: none;"]],null,null,null,null,null)),(e()(),Br(311,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Br(312,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(313,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Number"])),(e()(),Br(315,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Learning Outcome"])),(e()(),Br(317,0,null,null,14,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,RO)),la(319,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(320,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),Br(321,0,null,null,0,"td",[["style","width: 10%;"]],null,null,null,null,null)),(e()(),Br(322,0,null,null,6,"td",[["style","width: 70%;"]],null,null,null,null,null)),(e()(),Br(323,0,null,null,5,"input",[["class","form-control"],["id","newOutcomeCode"],["name","newOutcomeCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,324)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,324).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,324)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,324)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.newLearningOutcome.outcome=n)&&i),i}),null,null)),la(324,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(326,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(328,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(329,0,null,null,2,"td",[["style","width:20%;"]],null,null,null,null,null)),(e()(),Br(330,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addOutcomeValue()&&i),i}),null,null)),(e()(),Qr(-1,null,["Add"])),(e()(),Br(332,0,null,null,29,"table",[["class","table table-striped table-bordered ml-5 mt-3"],["style","border: none; width: 50%;"]],null,null,null,null,null)),(e()(),Br(333,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Br(334,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(335,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Assessment"])),(e()(),Br(337,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Percentage"])),(e()(),Br(339,0,null,null,22,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,HO)),la(341,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(342,0,null,null,19,"tr",[],null,null,null,null,null)),(e()(),Br(343,0,null,null,8,"td",[["style","width: 40%;"]],null,null,null,null,null)),(e()(),Br(344,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["id","inlineFormCustomSelectPref"],["name","assessments"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==Zi(e,345).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,345).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(a.newAssesment.type=n)&&i),i}),null,null)),la(345,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(347,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(349,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,BO)),la(351,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(352,0,null,null,6,"td",[["style","width: 30%;"]],null,null,null,null,null)),(e()(),Br(353,0,null,null,5,"input",[["class","form-control"],["id","newAssCode"],["name","newAssessmentCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,354)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,354).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,354)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,354)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.newAssesment.percentage=n)&&i),i}),null,null)),la(354,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(356,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(358,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(359,0,null,null,2,"td",[["style","width:20%;"]],null,null,null,null,null)),(e()(),Br(360,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addAssessmentValue()&&i),i}),null,null)),(e()(),Qr(-1,null,["Add"])),(e()(),Br(362,0,null,null,48,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,364).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,364).onReset()&&i),i}),null,null)),la(363,16384,null,0,Mc,[],null,null),la(364,4210688,null,0,Sc,[[8,null],[8,null]],null,null),ua(2048,null,Tu,null,[Sc]),la(366,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(367,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(368,0,null,null,1,"label",[["for","CourseDecription"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Attendance grade:"])),(e()(),Br(370,0,null,null,7,"textarea",[["class","span6"],["id","attendanceGrade"],["name","attendanceGrade"],["placeholder","Enter attendance grade policy?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,371)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,371).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,371)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,371)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.attendanceGrade=n)&&i),i}),null,null)),la(371,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(372,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(375,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(377,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(378,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(379,0,null,null,1,"label",[["for","makeupPolicy"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Policy on makeups: "])),(e()(),Br(381,0,null,null,7,"textarea",[["class","span6"],["id","makeupPolicy"],["name","makeupPolicy"],["placeholder","Enter makeup policy?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,382)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,382).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,382)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,382)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.makeupPolicy=n)&&i),i}),null,null)),la(382,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(383,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(386,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(388,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(389,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(390,0,null,null,1,"label",[["for","NGPolicy"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Policy on the NG grade: "])),(e()(),Br(392,0,null,null,7,"textarea",[["class","span6"],["id","NGPolicy"],["name","NGPolicy"],["placeholder","Enter NG Grade policy?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,393)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,393).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,393)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,393)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.NGPolicy=n)&&i),i}),null,null)),la(393,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(394,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(397,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(399,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(400,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(401,0,null,null,1,"label",[["for","missedLabs"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Policy on missed labs: "])),(e()(),Br(403,0,null,null,7,"textarea",[["class","span6"],["id","missedLabs"],["name","missedLabs"],["placeholder","Enter Missed Labs policy?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==Zi(e,404)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,404).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,404)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,404)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.missedLabs=n)&&i),i}),null,null)),la(404,16384,null,0,Du,[fn,cn,[2,Au]],null,null),la(405,16384,null,0,Bc,[],{required:[0,"required"]},null),ua(1024,null,Bu,(function(e){return[e]}),[Bc]),ua(1024,null,Iu,(function(e){return[e]}),[Du]),la(408,671744,null,0,Dc,[[2,Tu],[6,Bu],[8,null],[6,Iu]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ua(2048,null,Lu,null,[Dc]),la(410,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Br(411,0,null,null,3,"div",[["class","ml-5 mt-2"]],null,null,null,null,null)),(e()(),Hr(0,[["content",2]],null,0,null,jO)),(e()(),Br(413,0,null,null,1,"button",[["class","btn btn-lg btn-outline-primary"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.open(Zi(e,412))&&i),i}),null,null)),(e()(),Qr(-1,null,["Select Course Student Outcomes"])),(e()(),Br(415,0,null,null,43,"div",[["class","form-row ml-5  mt-3"],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Br(416,0,null,null,38,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,418).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,418).onReset()&&i),i}),null,null)),la(417,16384,null,0,Mc,[],null,null),la(418,4210688,null,0,Sc,[[8,null],[8,null]],null,null),ua(2048,null,Tu,null,[Sc]),la(420,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(421,0,null,null,33,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Br(422,0,null,null,32,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,423).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,423).onReset()&&i),i}),null,null)),la(423,540672,null,0,Pc,[[8,null],[8,null]],{form:[0,"form"]},null),ua(2048,null,Tu,null,[Pc]),la(425,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(426,0,null,null,28,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nE,US)),la(427,7520256,null,9,HS,[cn,Mt,[2,Cb],[2,Wv],[2,RS],zg,er,[2,SS]],null,null),Ur(603979776,2,{_controlNonStatic:0}),Ur(335544320,3,{_controlStatic:0}),Ur(603979776,4,{_labelChildNonStatic:0}),Ur(335544320,5,{_labelChildStatic:0}),Ur(603979776,6,{_placeholderChild:0}),Ur(603979776,7,{_errorChildren:1}),Ur(603979776,8,{_hintChildren:1}),Ur(603979776,9,{_prefixChildren:1}),Ur(603979776,10,{_suffixChildren:1}),ua(2048,null,FS,null,[HS]),(e()(),Br(438,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","date"],["matInput",""],["placeholder","Preparation Date?"],["readonly",""]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"change"],[null,"blur"],[null,"keydown"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,439)._onInput(n.target.value)&&i),"change"===t&&(i=!1!==Zi(e,439)._onChange()&&i),"blur"===t&&(i=!1!==Zi(e,439)._onBlur()&&i),"keydown"===t&&(i=!1!==Zi(e,439)._onKeydown(n)&&i),"input"===t&&(i=!1!==Zi(e,441)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,441).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,441)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,441)._compositionEnd(n.target.value)&&i),"focus"===t&&(i=!1!==Zi(e,446)._focusChanged(!0)&&i),"blur"===t&&(i=!1!==Zi(e,446)._focusChanged(!1)&&i),"input"===t&&(i=!1!==Zi(e,446)._onInput()&&i),i}),null,null)),la(439,4341760,null,0,_E,[cn,[2,Zy],[2,Jy],[2,FS]],{matDatepicker:[0,"matDatepicker"]},null),ua(1024,null,Bu,(function(e){return[e]}),[_E]),la(441,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e,t){return[e,t]}),[Du,_E]),la(443,671744,null,0,Hc,[[3,Tu],[6,Bu],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),ua(2048,null,AE,null,[_E]),la(446,999424,null,0,TE,[cn,zg,[6,Lu],[2,Sc],[2,Pc],ub,[6,AE],OE,er],{placeholder:[0,"placeholder"],readonly:[1,"readonly"]},null),la(447,16384,null,0,Ru,[[4,Lu]],null,null),ua(2048,[[2,4],[3,4]],AS,null,[TE]),(e()(),Br(449,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[1,"tabindex",0],[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==Zi(e,451)._button.focus()&&i),i}),cO,oO)),la(450,16384,[[10,4]],0,PS,[],null,null),la(451,1753088,null,1,xE,[rE,Mt,[8,null]],{datepicker:[0,"datepicker"]},null),Ur(603979776,11,{_customIcon:0}),(e()(),Br(453,16777216,null,1,1,"mat-datepicker",[],null,null,null,lO,sO)),la(454,180224,[["picker",4]],0,CE,[uy,Bv,er,Rn,vE,[2,Zy],[2,Wv],[2,kl]],null,null),(e()(),Br(455,0,null,null,2,"button",[["class","btn btn-primary mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.openDialog()&&i),i}),BE,HE)),la(456,180224,null,0,NE,[cn,Fy,[2,SS]],null,null),(e()(),Qr(-1,0,["Preview"])),(e()(),Br(458,0,null,null,0,"p",[["class","mt-5"]],null,null,null,null,null)),(e()(),Br(459,0,null,null,0,"div",[["class","column right-side"],["style","flex: 10%;"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,15,0,"studyPrograms"),e(t,19,0,n.studyPrograms),e(t,27,0,"courses"),e(t,31,0,n.courses),e(t,39,0,"assistants"),e(t,43,0,n.assistants),e(t,45,0,n.yearSemesterForm),e(t,54,0,"yearSemester"),e(t,58,0,n.yearSemesters),e(t,61,0,n.lectureFormGroup),e(t,72,0,"day1"),e(t,76,0,n.days),e(t,84,0,"time1"),e(t,88,0,n.times),e(t,96,0,"room1"),e(t,106,0,"day2"),e(t,110,0,n.days),e(t,118,0,"time2"),e(t,122,0,n.times),e(t,130,0,"room2"),e(t,135,0,n.labFormGroup),e(t,146,0,"day"),e(t,150,0,n.days),e(t,158,0,"time"),e(t,162,0,n.times),e(t,170,0,"labRoom"),e(t,180,0,"csType"),e(t,183,0,"csType",n.reqOrElec),e(t,187,0,"crType","Required"),e(t,190,0,"crType","Elective"),e(t,197,0,""),e(t,200,0,"courseDesc",n.courseDesc),e(t,208,0,""),e(t,211,0,"courseWeb",n.courseWeb),e(t,219,0,""),e(t,222,0,"textBooks",n.textBooks),e(t,230,0,""),e(t,233,0,"readingList",n.readingList),e(t,247,0,n.fieldArray),e(t,253,0,"newAttributeCode",n.newAttribute.week),e(t,260,0,"newAttributeName",n.newAttribute.date),e(t,267,0,"newAttributePrice",n.newAttribute.topic),e(t,284,0,n.labArray),e(t,290,0,"newLabCode",n.newLab.lab),e(t,297,0,"newLabName",n.newLab.week),e(t,304,0,"newLabPrice",n.newLab.desc),e(t,319,0,n.learningOutcomeArray),e(t,326,0,"newOutcomeCode",n.newLearningOutcome.outcome),e(t,341,0,n.assessmentArray),e(t,347,0,"assessments",n.newAssesment.type),e(t,351,0,n.assessments),e(t,356,0,"newAssessmentCode",n.newAssesment.percentage),e(t,372,0,""),e(t,375,0,"attendanceGrade",n.attendanceGrade),e(t,383,0,""),e(t,386,0,"makeupPolicy",n.makeupPolicy),e(t,394,0,""),e(t,397,0,"NGPolicy",n.NGPolicy),e(t,405,0,""),e(t,408,0,"missedLabs",n.missedLabs),e(t,423,0,n.dateGroup),e(t,439,0,Zi(t,454)),e(t,443,0,"date"),e(t,446,0,"Preparation Date?",""),e(t,451,0,Zi(t,454))}),(function(e,t){e(t,2,0,Zi(t,6).ngClassUntouched,Zi(t,6).ngClassTouched,Zi(t,6).ngClassPristine,Zi(t,6).ngClassDirty,Zi(t,6).ngClassValid,Zi(t,6).ngClassInvalid,Zi(t,6).ngClassPending),e(t,12,0,Zi(t,17).ngClassUntouched,Zi(t,17).ngClassTouched,Zi(t,17).ngClassPristine,Zi(t,17).ngClassDirty,Zi(t,17).ngClassValid,Zi(t,17).ngClassInvalid,Zi(t,17).ngClassPending),e(t,24,0,Zi(t,29).ngClassUntouched,Zi(t,29).ngClassTouched,Zi(t,29).ngClassPristine,Zi(t,29).ngClassDirty,Zi(t,29).ngClassValid,Zi(t,29).ngClassInvalid,Zi(t,29).ngClassPending),e(t,36,0,Zi(t,41).ngClassUntouched,Zi(t,41).ngClassTouched,Zi(t,41).ngClassPristine,Zi(t,41).ngClassDirty,Zi(t,41).ngClassValid,Zi(t,41).ngClassInvalid,Zi(t,41).ngClassPending),e(t,44,0,Zi(t,47).ngClassUntouched,Zi(t,47).ngClassTouched,Zi(t,47).ngClassPristine,Zi(t,47).ngClassDirty,Zi(t,47).ngClassValid,Zi(t,47).ngClassInvalid,Zi(t,47).ngClassPending),e(t,51,0,Zi(t,56).ngClassUntouched,Zi(t,56).ngClassTouched,Zi(t,56).ngClassPristine,Zi(t,56).ngClassDirty,Zi(t,56).ngClassValid,Zi(t,56).ngClassInvalid,Zi(t,56).ngClassPending),e(t,59,0,Zi(t,63).ngClassUntouched,Zi(t,63).ngClassTouched,Zi(t,63).ngClassPristine,Zi(t,63).ngClassDirty,Zi(t,63).ngClassValid,Zi(t,63).ngClassInvalid,Zi(t,63).ngClassPending),e(t,69,0,Zi(t,74).ngClassUntouched,Zi(t,74).ngClassTouched,Zi(t,74).ngClassPristine,Zi(t,74).ngClassDirty,Zi(t,74).ngClassValid,Zi(t,74).ngClassInvalid,Zi(t,74).ngClassPending),e(t,81,0,Zi(t,86).ngClassUntouched,Zi(t,86).ngClassTouched,Zi(t,86).ngClassPristine,Zi(t,86).ngClassDirty,Zi(t,86).ngClassValid,Zi(t,86).ngClassInvalid,Zi(t,86).ngClassPending),e(t,93,0,Zi(t,98).ngClassUntouched,Zi(t,98).ngClassTouched,Zi(t,98).ngClassPristine,Zi(t,98).ngClassDirty,Zi(t,98).ngClassValid,Zi(t,98).ngClassInvalid,Zi(t,98).ngClassPending),e(t,103,0,Zi(t,108).ngClassUntouched,Zi(t,108).ngClassTouched,Zi(t,108).ngClassPristine,Zi(t,108).ngClassDirty,Zi(t,108).ngClassValid,Zi(t,108).ngClassInvalid,Zi(t,108).ngClassPending),e(t,115,0,Zi(t,120).ngClassUntouched,Zi(t,120).ngClassTouched,Zi(t,120).ngClassPristine,Zi(t,120).ngClassDirty,Zi(t,120).ngClassValid,Zi(t,120).ngClassInvalid,Zi(t,120).ngClassPending),e(t,127,0,Zi(t,132).ngClassUntouched,Zi(t,132).ngClassTouched,Zi(t,132).ngClassPristine,Zi(t,132).ngClassDirty,Zi(t,132).ngClassValid,Zi(t,132).ngClassInvalid,Zi(t,132).ngClassPending),e(t,133,0,Zi(t,137).ngClassUntouched,Zi(t,137).ngClassTouched,Zi(t,137).ngClassPristine,Zi(t,137).ngClassDirty,Zi(t,137).ngClassValid,Zi(t,137).ngClassInvalid,Zi(t,137).ngClassPending),e(t,143,0,Zi(t,148).ngClassUntouched,Zi(t,148).ngClassTouched,Zi(t,148).ngClassPristine,Zi(t,148).ngClassDirty,Zi(t,148).ngClassValid,Zi(t,148).ngClassInvalid,Zi(t,148).ngClassPending),e(t,155,0,Zi(t,160).ngClassUntouched,Zi(t,160).ngClassTouched,Zi(t,160).ngClassPristine,Zi(t,160).ngClassDirty,Zi(t,160).ngClassValid,Zi(t,160).ngClassInvalid,Zi(t,160).ngClassPending),e(t,167,0,Zi(t,172).ngClassUntouched,Zi(t,172).ngClassTouched,Zi(t,172).ngClassPristine,Zi(t,172).ngClassDirty,Zi(t,172).ngClassValid,Zi(t,172).ngClassInvalid,Zi(t,172).ngClassPending),e(t,173,0,Zi(t,177).ngClassUntouched,Zi(t,177).ngClassTouched,Zi(t,177).ngClassPristine,Zi(t,177).ngClassDirty,Zi(t,177).ngClassValid,Zi(t,177).ngClassInvalid,Zi(t,177).ngClassPending),e(t,179,0,Zi(t,185).ngClassUntouched,Zi(t,185).ngClassTouched,Zi(t,185).ngClassPristine,Zi(t,185).ngClassDirty,Zi(t,185).ngClassValid,Zi(t,185).ngClassInvalid,Zi(t,185).ngClassPending),e(t,186,1,[Zi(t,187).checked,Zi(t,187).disabled,"NoopAnimations"===Zi(t,187)._animationMode,"primary"===Zi(t,187).color,"accent"===Zi(t,187).color,"warn"===Zi(t,187).color,-1,Zi(t,187).id,null,null,null]),e(t,189,1,[Zi(t,190).checked,Zi(t,190).disabled,"NoopAnimations"===Zi(t,190)._animationMode,"primary"===Zi(t,190).color,"accent"===Zi(t,190).color,"warn"===Zi(t,190).color,-1,Zi(t,190).id,null,null,null]),e(t,195,0,Zi(t,197).required?"":null,Zi(t,202).ngClassUntouched,Zi(t,202).ngClassTouched,Zi(t,202).ngClassPristine,Zi(t,202).ngClassDirty,Zi(t,202).ngClassValid,Zi(t,202).ngClassInvalid,Zi(t,202).ngClassPending),e(t,206,0,Zi(t,208).required?"":null,Zi(t,213).ngClassUntouched,Zi(t,213).ngClassTouched,Zi(t,213).ngClassPristine,Zi(t,213).ngClassDirty,Zi(t,213).ngClassValid,Zi(t,213).ngClassInvalid,Zi(t,213).ngClassPending),e(t,217,0,Zi(t,219).required?"":null,Zi(t,224).ngClassUntouched,Zi(t,224).ngClassTouched,Zi(t,224).ngClassPristine,Zi(t,224).ngClassDirty,Zi(t,224).ngClassValid,Zi(t,224).ngClassInvalid,Zi(t,224).ngClassPending),e(t,228,0,Zi(t,230).required?"":null,Zi(t,235).ngClassUntouched,Zi(t,235).ngClassTouched,Zi(t,235).ngClassPristine,Zi(t,235).ngClassDirty,Zi(t,235).ngClassValid,Zi(t,235).ngClassInvalid,Zi(t,235).ngClassPending),e(t,250,0,Zi(t,255).ngClassUntouched,Zi(t,255).ngClassTouched,Zi(t,255).ngClassPristine,Zi(t,255).ngClassDirty,Zi(t,255).ngClassValid,Zi(t,255).ngClassInvalid,Zi(t,255).ngClassPending),e(t,257,0,Zi(t,262).ngClassUntouched,Zi(t,262).ngClassTouched,Zi(t,262).ngClassPristine,Zi(t,262).ngClassDirty,Zi(t,262).ngClassValid,Zi(t,262).ngClassInvalid,Zi(t,262).ngClassPending),e(t,264,0,Zi(t,269).ngClassUntouched,Zi(t,269).ngClassTouched,Zi(t,269).ngClassPristine,Zi(t,269).ngClassDirty,Zi(t,269).ngClassValid,Zi(t,269).ngClassInvalid,Zi(t,269).ngClassPending),e(t,287,0,Zi(t,292).ngClassUntouched,Zi(t,292).ngClassTouched,Zi(t,292).ngClassPristine,Zi(t,292).ngClassDirty,Zi(t,292).ngClassValid,Zi(t,292).ngClassInvalid,Zi(t,292).ngClassPending),e(t,294,0,Zi(t,299).ngClassUntouched,Zi(t,299).ngClassTouched,Zi(t,299).ngClassPristine,Zi(t,299).ngClassDirty,Zi(t,299).ngClassValid,Zi(t,299).ngClassInvalid,Zi(t,299).ngClassPending),e(t,301,0,Zi(t,306).ngClassUntouched,Zi(t,306).ngClassTouched,Zi(t,306).ngClassPristine,Zi(t,306).ngClassDirty,Zi(t,306).ngClassValid,Zi(t,306).ngClassInvalid,Zi(t,306).ngClassPending),e(t,323,0,Zi(t,328).ngClassUntouched,Zi(t,328).ngClassTouched,Zi(t,328).ngClassPristine,Zi(t,328).ngClassDirty,Zi(t,328).ngClassValid,Zi(t,328).ngClassInvalid,Zi(t,328).ngClassPending),e(t,344,0,Zi(t,349).ngClassUntouched,Zi(t,349).ngClassTouched,Zi(t,349).ngClassPristine,Zi(t,349).ngClassDirty,Zi(t,349).ngClassValid,Zi(t,349).ngClassInvalid,Zi(t,349).ngClassPending),e(t,353,0,Zi(t,358).ngClassUntouched,Zi(t,358).ngClassTouched,Zi(t,358).ngClassPristine,Zi(t,358).ngClassDirty,Zi(t,358).ngClassValid,Zi(t,358).ngClassInvalid,Zi(t,358).ngClassPending),e(t,362,0,Zi(t,366).ngClassUntouched,Zi(t,366).ngClassTouched,Zi(t,366).ngClassPristine,Zi(t,366).ngClassDirty,Zi(t,366).ngClassValid,Zi(t,366).ngClassInvalid,Zi(t,366).ngClassPending),e(t,370,0,Zi(t,372).required?"":null,Zi(t,377).ngClassUntouched,Zi(t,377).ngClassTouched,Zi(t,377).ngClassPristine,Zi(t,377).ngClassDirty,Zi(t,377).ngClassValid,Zi(t,377).ngClassInvalid,Zi(t,377).ngClassPending),e(t,381,0,Zi(t,383).required?"":null,Zi(t,388).ngClassUntouched,Zi(t,388).ngClassTouched,Zi(t,388).ngClassPristine,Zi(t,388).ngClassDirty,Zi(t,388).ngClassValid,Zi(t,388).ngClassInvalid,Zi(t,388).ngClassPending),e(t,392,0,Zi(t,394).required?"":null,Zi(t,399).ngClassUntouched,Zi(t,399).ngClassTouched,Zi(t,399).ngClassPristine,Zi(t,399).ngClassDirty,Zi(t,399).ngClassValid,Zi(t,399).ngClassInvalid,Zi(t,399).ngClassPending),e(t,403,0,Zi(t,405).required?"":null,Zi(t,410).ngClassUntouched,Zi(t,410).ngClassTouched,Zi(t,410).ngClassPristine,Zi(t,410).ngClassDirty,Zi(t,410).ngClassValid,Zi(t,410).ngClassInvalid,Zi(t,410).ngClassPending),e(t,416,0,Zi(t,420).ngClassUntouched,Zi(t,420).ngClassTouched,Zi(t,420).ngClassPristine,Zi(t,420).ngClassDirty,Zi(t,420).ngClassValid,Zi(t,420).ngClassInvalid,Zi(t,420).ngClassPending),e(t,422,0,Zi(t,425).ngClassUntouched,Zi(t,425).ngClassTouched,Zi(t,425).ngClassPristine,Zi(t,425).ngClassDirty,Zi(t,425).ngClassValid,Zi(t,425).ngClassInvalid,Zi(t,425).ngClassPending),e(t,426,1,["standard"==Zi(t,427).appearance,"fill"==Zi(t,427).appearance,"outline"==Zi(t,427).appearance,"legacy"==Zi(t,427).appearance,Zi(t,427)._control.errorState,Zi(t,427)._canLabelFloat,Zi(t,427)._shouldLabelFloat(),Zi(t,427)._hasFloatingLabel(),Zi(t,427)._hideControlPlaceholder(),Zi(t,427)._control.disabled,Zi(t,427)._control.autofilled,Zi(t,427)._control.focused,"accent"==Zi(t,427).color,"warn"==Zi(t,427).color,Zi(t,427)._shouldForward("untouched"),Zi(t,427)._shouldForward("touched"),Zi(t,427)._shouldForward("pristine"),Zi(t,427)._shouldForward("dirty"),Zi(t,427)._shouldForward("valid"),Zi(t,427)._shouldForward("invalid"),Zi(t,427)._shouldForward("pending"),!Zi(t,427)._animationsEnabled]),e(t,438,1,[Zi(t,439)._datepicker?"dialog":null,(null==Zi(t,439)._datepicker?null:Zi(t,439)._datepicker.opened)&&Zi(t,439)._datepicker.id||null,Zi(t,439).min?Zi(t,439)._dateAdapter.toIso8601(Zi(t,439).min):null,Zi(t,439).max?Zi(t,439)._dateAdapter.toIso8601(Zi(t,439).max):null,Zi(t,439).disabled,Zi(t,446)._isServer,Zi(t,446).id,Zi(t,446).placeholder,Zi(t,446).disabled,Zi(t,446).required,Zi(t,446).readonly&&!Zi(t,446)._isNativeSelect||null,Zi(t,446)._ariaDescribedby||null,Zi(t,446).errorState,Zi(t,446).required.toString(),Zi(t,447).ngClassUntouched,Zi(t,447).ngClassTouched,Zi(t,447).ngClassPristine,Zi(t,447).ngClassDirty,Zi(t,447).ngClassValid,Zi(t,447).ngClassInvalid,Zi(t,447).ngClassPending]),e(t,449,0,Zi(t,451).disabled?null:-1,Zi(t,451).datepicker&&Zi(t,451).datepicker.opened,Zi(t,451).datepicker&&"accent"===Zi(t,451).datepicker.color,Zi(t,451).datepicker&&"warn"===Zi(t,451).datepicker.color),e(t,455,0,Zi(t,456).disabled||null,"NoopAnimations"===Zi(t,456)._animationMode)}))}var qO=Vi("app-outline",CO,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"app-outline",[],null,null,null,zO,_O)),la(1,114688,null,0,CO,[wO,uy,n_,Rd],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),UO=0;function WO(e,t){var n=t;return n.unshift(void 0),new(Function.prototype.bind.apply(e,n))}function YO(e,t){for(var n=t,i=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=0;a<i.length&&!QO(n);a++)n=n[i[a]];return n}function GO(e,t,n){var i,a,r=e.replace(/\[/g,".").replace(/\]/g,"").split("."),s=n||{},l=s,o=r.length;for(i=0;i<o;i++)a=r[i],i+1===o?l[a]=void 0===t?{}:t:JO(l[a])&&(l[a]={}),l=l[a];return s}function XO(e,t){delete e[t]}function KO(e){return!JO(e)&&e.constructor==={}.constructor}function $O(e,t){if(!JO(t))for(var n=e,i=t,a=0,r=Object.keys(t);a<r.length;a++){var s=r[a];JO(n.deepMerge)||-1===n.deepMerge.indexOf(s)||!KO(i[s])&&!Array.isArray(i[s])?n[s]=i[s]:ZO(n[s],n[s],i[s],!0)}}function ZO(e,t,n,i){var a=arguments,r=e&&"object"==typeof e?e:{},s=arguments.length;i&&(s-=1);for(var l=function(e){if(!a[e])return"continue";var t=a[e];Object.keys(t).forEach((function(e){var n,a=r[e],s=t[e];Array.isArray(s)&&Array.isArray(a),i&&(KO(s)||Array.isArray(s))?KO(s)?(n=a||{},Array.isArray(n)&&n.hasOwnProperty("isComplexArray")?ZO(n,{},s,i):r[e]=ZO(n,{},s,i)):(n=a||[],r[e]=ZO([],n,s,i)):r[e]=s}))},o=1;o<s;o++)l(o);return r}function JO(e){return null==e}function QO(e){return void 0===e}function eI(e){return e+"_"+UO++}function tI(e,t){var n;return function(){var i=this,a=arguments,r=function(){return n=null,e.apply(i,a)};clearTimeout(n),n=setTimeout(r,t)}}function nI(e,t){return e===t||!(e===document||!e)&&nI(e.parentNode,t)}function iI(e){try{throw new Error(e)}catch($K){throw $K.message+"\n"+$K.stack}}function aI(e){var t=e+"";return"auto"===t||-1!==t.indexOf("%")||-1!==t.indexOf("px")?t:t+"px"}function rI(){return!1}function sI(e){return Node,e}function lI(e,t){var n="string"==typeof e?document.querySelector(e):e;if(n.ej2_instances){var i,a=_createForOfIteratorHelper(n.ej2_instances);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(r instanceof t)return r}}catch(s){a.e(s)}finally{a.f()}}return null}var oI,uI={latn:{_digits:"0123456789",_type:"numeric"}},cI={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},hI=[0,1,2,3,4,5,6,7,8,9],dI=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getMainObject",value:function(e,t){return YO("main."+t,e)}},{key:"getNumberingSystem",value:function(e){return YO("supplemental.numberingSystems",e)||this.numberingSystems}},{key:"reverseObject",value:function(e,t){var n,i={},a=_createForOfIteratorHelper(t||Object.keys(e));try{for(a.s();!(n=a.n()).done;){var r=n.value;i.hasOwnProperty(e[r])||(i[e[r]]=r)}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"getSymbolRegex",value:function(e){var t=e.map((function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")})).join("|");return new RegExp(t,"g")}},{key:"getSymbolMatch",value:function(e){for(var t={},n=0,i=Object.keys(cI);n<i.length;n++){var a=i[n];t[e[a]]=cI[a]}return t}},{key:"constructRegex",value:function(e){for(var t=e.length,n="",i=0;i<t;i++)n+=i!==t-1?e[i]+"|":e[i];return n}},{key:"convertValueParts",value:function(e,t,n){return e.replace(t,(function(e){return n[e]}))}},{key:"getDefaultNumberingSystem",value:function(e){var t={};return t.obj=YO("numbers",e),t.nSystem=YO("defaultNumberingSystem",t.obj),t}},{key:"getCurrentNumericOptions",value:function(e,t,n,i){var a={},r=this.getDefaultNumberingSystem(e);if(!QO(r.nSystem)||i){var s=i?YO("obj.mapperDigits",r):YO(r.nSystem+"._digits",t);QO(s)||(a.numericPair=this.reverseObject(s,hI),a.numberParseRegex=new RegExp(this.constructRegex(s),"g"),a.numericRegex="["+s[0]+"-"+s[9]+"]",n&&(a.numericRegex=s[0]+"-"+s[9],a.symbolNumberSystem=YO(i?"numberSymbols":"symbols-numberSystem-"+r.nSystem,r.obj),a.symbolMatch=this.getSymbolMatch(a.symbolNumberSystem),a.numberSystem=r.nSystem))}return a}},{key:"getNumberMapper",value:function(e,t,n){var i={mapper:{}},a=this.getDefaultNumberingSystem(e);if(!QO(a.nSystem)){i.numberSystem=a.nSystem,i.numberSymbols=YO("symbols-numberSystem-"+a.nSystem,a.obj),i.timeSeparator=YO("timeSeparator",i.numberSymbols);var r=YO(a.nSystem+"._digits",t);if(!QO(r)){var s,l=_createForOfIteratorHelper(hI);try{for(l.s();!(s=l.n()).done;){var o=s.value;i.mapper[o]=r[o]}}catch(u){l.e(u)}finally{l.f()}}}return i}}]),e}();return e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=uI,e}();!function(e){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){var n=e.getDate(),i=e.getMonth(),a=e.getFullYear(),r=i+1,s=a;r<3&&(s-=1,r+=12);var l=Math.floor(s/100),o=l-Math.floor(l/4)-2,u=Math.floor(365.25*(s+4716))+Math.floor(30.6001*(r+1))+n-o-1524,c=u+(o=(l=Math.floor((u-1867216.25)/36524.25))-Math.floor(l/4)+1)+1524,h=Math.floor((c-122.1)/365.25),d=Math.floor(365.25*h),p=Math.floor((c-d)/30.6001);n=c-d-Math.floor(30.6001*p),(i=Math.floor((c-d)/20.6001))>13&&(h+=1,i-=12),i-=1,a=h-4716;var f=u-24e5,m=u-1948084,g=Math.floor(m/10631);m-=10631*g;var v=Math.floor((m-.1335)/(10631/30)),y=30*g+v;m-=Math.floor(v*(10631/30)+.1335);var b=Math.floor((m+28.5001)/29.5);13===b&&(b=12);for(var k=m-Math.floor(29.5001*b-29),C=0;C<t.length&&!(t[C]>f);C++);var w=C+16260,_=Math.floor((w-1)/12),x=_+1,S=w-12*_,E=f-t[C-1]+1;return(E+"").length>2&&(E=k,S=b,x=y),{year:x,month:S,date:E}},e.toGregorian=function(e,n,i){var a=Math.floor(i+t[12*(e-1)+1+(n-1)-16260-1]-1+24e5+.5),r=Math.floor((a-1867216.25)/36524.25),s=(r=a+1+r-Math.floor(r/4))+1524,l=Math.floor((s-122.1)/365.25),o=Math.floor(365.25*l),u=Math.floor((s-o)/30.6001),c=s-o-Math.floor(30.6001*u),h=u-(u>13.5?13:1),d=l-(h>2.5?4716:4715);return d<=0&&h--,new Date(d+"/"+h+"/"+c)}}(oI||(oI={}));var pI=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,fI=["sun","mon","tue","wed","thu","fri","sat"],mI={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},gI={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},vI=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"dateFormat",value:function(e,t,n){var i=this,a=RI.getDependables(n,e,t.calendar),r=(YO("parserObject.numbers",a),a.dateObject),s={isIslamic:RI.islamicRegex.test(t.calendar)},l=t.format||RI.getResultantPattern(t.skeleton,a.dateObject,t.type,!1,"");if(s.dateSeperator=RI.getDateSeparator(a.dateObject),QO(l))iI("Format options or type given must be invalid");else{l=RI.ConvertDateToWeekFormat(l),s.pattern=l,s.numMapper=dI.getNumberMapper(a.parserObject,dI.getNumberingSystem(n));var o,u=_createForOfIteratorHelper(l.match(pI)||[]);try{for(u.s();!(o=u.n()).done;){var c=o.value,h=c.length,d=c[0];switch("K"===d&&(d="h"),d){case"E":case"c":s.weekday=a.dateObject[RI.days]["stand-alone"][RI.monthIndex[h]];break;case"M":case"L":s.month=a.dateObject[RI.month]["stand-alone"][RI.monthIndex[h]];break;case"a":s.designator=YO("dayPeriods.format.wide",r);break;case"G":s.era=YO("eras."+(h<=3?"eraAbbr":4===h?"eraNames":"eraNarrow"),a.dateObject);break;case"z":s.timeZone=YO("dates.timeZoneNames",a.parserObject)}}}catch(p){u.e(p)}finally{u.f()}}return function(e){return isNaN(e.getDate())?null:i.intDateFormatter(e,s)}}},{key:"intDateFormatter",value:function(e,t){var n,i="",a=t.pattern.match(RI.dateParseRegex),r=this.getCurrentDateValue(e,t.isIslamic),s=_createForOfIteratorHelper(a);try{for(s.s();!(n=s.n()).done;){var l=n.value,o=void 0,u=l.length,c=l[0];"K"===c&&(c="h");var h=void 0,d=void 0,p="",f="";switch(c){case"M":case"L":o=r.month,u>2?i+=t.month[o]:h=!0;break;case"E":case"c":i+=t.weekday[fI[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(h=!0,"d"===c)o=r.date;else if("f"===c){h=!1,d=!0;var m=(p=(p=e[mI[c]]().toString()).substring(0,u)).length;if(u!==m){if(u>3)continue;for(var g=0;g<u-m;g++)p="0"+p.toString()}f+=p}else o=e[mI[c]]();"h"===c&&(o=o%12||12);break;case"y":d=!0,f+=r.year,2===u&&(f=f.substr(f.length-2));break;case"a":var v=e.getHours()<12?"am":"pm";i+=t.designator[v];break;case"G":var y=e.getFullYear()<0?0:1,b=t.era[y];JO(b)&&(b=t.era[y?0:1]),i+=b||"";break;case"'":i+="''"===l?"'":l.replace(/\'/g,"");break;case"z":var k=e.getTimezoneOffset(),C=u<4?"+H;-H":t.timeZone.hourFormat;C=C.replace(/:/g,t.numMapper.timeSeparator),0===k?i+=t.timeZone.gmtZeroFormat:(d=!0,f=this.getTimeZoneValue(k,C)),f=t.timeZone.gmtFormat.replace(/\{0\}/,f);break;case":":i+=t.numMapper.numberSymbols.timeSeparator;break;case"/":i+=t.dateSeperator;break;case"W":h=!0,o=RI.getWeekOfYear(e);break;default:i+=l}h&&(d=!0,f=this.checkTwodigitNumber(o,u)),d&&(i+=dI.convertValueParts(f,RI.latnParseRegex,t.numMapper.mapper))}}catch(w){s.e(w)}finally{s.f()}return i}},{key:"getCurrentDateValue",value:function(e,t){return t?oI.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}}},{key:"checkTwodigitNumber",value:function(e,t){var n=e+"";return 2===t&&2!==n.length?"0"+n:n}},{key:"getTimeZoneValue",value:function(e,t){var n=this,i=t.split(";")[e>0?1:0],a=Math.abs(e);return i.replace(/HH?|mm/g,(function(e){var t=e.length,i=-1!==e.indexOf("H");return n.checkTwodigitNumber(Math.floor(i?a/60:a%60),t)}))}}]),e}(),yI={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},bI=["infinity","nan","group","decimal","exponential"],kI=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"numberFormatter",value:function(e,t,n){var i,a=this,r=ZO({},t),s={},l={},o=RI.getDependables(n,e,"",!0);l.numberMapper=dI.getNumberMapper(o.parserObject,dI.getNumberingSystem(n),!0),l.currencySymbol=RI.getCurrencySymbol(o.numericObject,r.currency||DI,t.altSymbol),l.percentSymbol=l.numberMapper.numberSymbols.percentSign,l.minusSymbol=l.numberMapper.numberSymbols.minusSign;var u=l.numberMapper.numberSymbols;if(t.format&&!RI.formatRegex.test(t.format))s=RI.customFormat(t.format,l,o.numericObject);else{ZO(r,RI.getProperNumericSkeleton(t.format||"N")),r.isCurrency="currency"===r.type,r.isPercent="percent"===r.type,i=RI.getSymbolPattern(r.type,l.numberMapper.numberSystem,o.numericObject,r.isAccount),r.groupOne=this.checkValueRange(r.maximumSignificantDigits,r.minimumSignificantDigits,!0),this.checkValueRange(r.maximumFractionDigits,r.minimumFractionDigits,!1,!0),QO(r.fractionDigits)||(r.minimumFractionDigits=r.maximumFractionDigits=r.fractionDigits),QO(r.useGrouping)&&(r.useGrouping=!0),r.isCurrency&&(i=i.replace(/\u00A4/g,RI.defaultCurrency));var c=i.split(";");if(s.nData=RI.getFormatData(c[1]||"-"+c[0],!0,l.currencySymbol),s.pData=RI.getFormatData(c[0],!1,l.currencySymbol),r.useGrouping&&(r.groupSeparator=u[bI[2]],r.groupData=this.getGroupingDetails(c[0])),QO(r.minimumFractionDigits)&&(r.minimumFractionDigits=s.nData.minimumFraction),QO(r.maximumFractionDigits)){var h=s.nData.maximumFraction;r.maximumFractionDigits=QO(h)&&r.isPercent?0:h}var d=r.minimumFractionDigits,p=r.maximumFractionDigits;QO(d)||QO(p)||d>p&&(r.maximumFractionDigits=d)}return ZO(s.nData,r),ZO(s.pData,r),function(e){return isNaN(e)?u[bI[1]]:isFinite(e)?a.intNumberFormatter(e,s,l):u[bI[0]]}}},{key:"getGroupingDetails",value:function(e){var t={},n=e.match(RI.negativeDataRegex);if(n&&n[4]){var i=n[4],a=i.lastIndexOf(",");if(-1!==a){var r=i.split(".")[0];t.primary=r.length-a-1;var s=i.lastIndexOf(",",a-1);-1!==s&&(t.secondary=a-1-s)}}return t}},{key:"checkValueRange",value:function(e,t,n,i){var a=i?"f":"s",r=0,s=yI["l"+a],l=yI["m"+a];if(QO(e)||(this.checkRange(e,s,i),r++),QO(t)||(this.checkRange(t,l,i),r++),2===r){if(!(e<t))return!0;iI(l+"specified must be less than the"+s)}else n&&1===r&&iI("Both"+l+"and"+l+"must be present");return!1}},{key:"checkRange",value:function(e,t,n){var i=n?[0,20]:[1,21];(e<i[0]||e>i[1])&&iI(t+"value must be within the range"+i[0]+"to"+i[1])}},{key:"intNumberFormatter",value:function(e,t,n){var i;if(!QO(t.nData.type)){e<0?(e*=-1,i=t.nData):i=0===e&&t.zeroData||t.pData;var a="";return i.isPercent&&(e*=100),i.groupOne?a=this.processSignificantDigits(e,i.minimumSignificantDigits,i.maximumSignificantDigits):(a=this.processFraction(e,i.minimumFractionDigits,i.maximumFractionDigits),i.minimumIntegerDigits&&(a=this.processMinimumIntegers(a,i.minimumIntegerDigits))),"scientific"===i.type&&(a=(a=e.toExponential(i.maximumFractionDigits)).replace("e",n.numberMapper.numberSymbols[bI[4]])),a=a.replace(".",n.numberMapper.numberSymbols[bI[3]]),i.useGrouping&&(a=this.groupNumbers(a,i.groupData.primary,i.groupSeparator||",",n.numberMapper.numberSymbols[bI[3]]||".",i.groupData.secondary)),a=dI.convertValueParts(a,RI.latnParseRegex,n.numberMapper.mapper),"N/A"===i.nlead?i.nlead:i.nlead+a+i.nend}}},{key:"processSignificantDigits",value:function(e,t,n){var i=e+"";return i.length<t?e.toPrecision(t):+(i=e.toPrecision(n))+""}},{key:"groupNumbers",value:function(e,t,n,i,a){for(var r=!JO(a)&&0!==a,s=e.split(i),l=s[0],o=l.length,u="";o>t;)u=l.slice(o-t,o)+(u.length?n+u:""),o-=t,r&&(t=a,r=!1);return s[0]=l.slice(0,o)+(u.length?n:"")+u,s.join(i)}},{key:"processFraction",value:function(e,t,n){var i=(e+"").split(".")[1],a=i?i.length:0;if(t&&a<t){var r="";if(0!==a){r+=e;for(var s=0;s<t-a;s++)r+="0";return r}return r=e.toFixed(t),e.toFixed(t)}return!JO(n)&&(a>n||0===n)?e.toFixed(n):e+""}},{key:"processMinimumIntegers",value:function(e,t){var n=e.split("."),i=n[0],a=i.length;if(a<t){for(var r=0;r<t-a;r++)i="0"+i;n[0]=i}return n.join(".")}}]),e}(),CI=/^[0-9]*$/,wI={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},_I=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,xI=/,/g,SI=["minusSign","infinity"],EI=function(){function e(t){_classCallCheck(this,e),this.ranArray=[],this.boundedEvents={},JO(t)||(this.context=t)}return _createClass(e,[{key:"on",value:function(e,t,n,i){if(!JO(t)){var a=n||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:a}]:JO(i)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:a}):-1===this.ranArray.indexOf(i)&&(this.ranArray.push(i),this.boundedEvents[e].push({handler:t,context:a,id:i}))}}},{key:"off",value:function(e,t,n){if(!this.notExist(e)){var i=YO(e,this.boundedEvents);if(t){for(var a=0;a<i.length;a++)if(n){if(i[a].id===n){i.splice(a,1);var r=this.ranArray.indexOf(n);-1!==r&&this.ranArray.splice(r,1);break}}else if(t===i[a].handler){i.splice(a,1);break}}else delete this.boundedEvents[e]}}},{key:"notify",value:function(e,t,n,i){if(this.notExist(e))n&&n.call(this,t);else{t&&(t.name=e);var a=YO(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(a,t,n,i,0);var r,s=_createForOfIteratorHelper(a);try{for(s.s();!(r=s.n()).done;){var l=r.value;l.handler.call(l.context,t)}}catch(o){s.e(o)}finally{s.f()}n&&n.call(this,t)}}},{key:"blazorCallback",value:function(e,t,n,i,a){var r=this,s=a===e.length-1;if(a<e.length){var l=e[a],o=l.handler.call(l.context,t);if(o&&"function"==typeof o.then){if(!n)return o;o.then((function(o){if(o="string"==typeof o&&r.isJson(o)?JSON.parse(o,r.dateReviver):o,ZO(t,t,o,!0),!n||!s)return r.blazorCallback(e,t,n,i,a+1);n.call(l.context,t)})).catch((function(e){i&&i.call(l.context,"string"==typeof e&&r.isJson(e)?JSON.parse(e,r.dateReviver):e)}))}else{if(!n||!s)return this.blazorCallback(e,t,n,i,a+1);n.call(l.context,t)}}}},{key:"dateReviver",value:function(e,t){return rI&&"string"==typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t}},{key:"isJson",value:function(e){try{JSON.parse(e)}catch($K){return!1}return!0}},{key:"destroy",value:function(){this.boundedEvents=this.context=void 0}},{key:"notExist",value:function(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0}},{key:"isHandlerPresent",value:function(e,t){var n,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){if(n.value.handler===t)return!0}}catch(a){i.e(a)}finally{i.f()}return!1}}]),e}(),OI=new EI,II={},AI="en-US",DI="USD",MI=["numericObject","dateObject"],TI=function(){function e(t){_classCallCheck(this,e),t&&(this.culture=t)}return _createClass(e,[{key:"getDateFormat",value:function(e){return vI.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},II)}},{key:"getNumberFormat",value:function(e){return e&&!e.currency&&(e.currency=DI),kI.numberFormatter(this.getCulture(),e||{},II)}},{key:"getDateParser",value:function(e){return function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"dateParser",value:function(e,t,n){var i,a=this,r=RI.getDependables(n,e,t.calendar),s=dI.getCurrentNumericOptions(r.parserObject,dI.getNumberingSystem(n),!1,!1),l={},o=t.format||RI.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,""),u="";if(QO(o))iI("Format options or type given must be invalid");else{o=RI.ConvertDateToWeekFormat(o),l={isIslamic:RI.islamicRegex.test(t.calendar),pattern:o,evalposition:{}};for(var c=o.match(RI.dateParseRegex)||[],h=c.length,d=0,p=0,f=!1,m=s.numericRegex,g=dI.getNumberMapper(r.parserObject,dI.getNumberingSystem(n)),v=0;v<h;v++){var y=void 0,b=void 0,k=c[v],C=k.length,w="K"===k[0]?"h":k[0],_=gI[w],x=2===C?"":"?";switch(f&&(d=p,f=!1),w){case"E":case"c":var S;S=r.dateObject[RI.days]["stand-alone"][RI.monthIndex[C]];var E=dI.reverseObject(S);u+="("+Object.keys(E).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(b=!0,("M"===w||"L"===w)&&C>2){var O;O=r.dateObject.months["stand-alone"][RI.monthIndex[C]],l[_]=dI.reverseObject(O),u+="("+Object.keys(l[_]).join("|")+")"}else if("f"===w){if(C>3)continue;y=!0,u+="("+m+m+"?"+m+"?)"}else y=!0,u+="("+m+m+x+")";"h"===w&&(l.hour12=!0);break;case"W":u+="("+m+(1===C?"?":"")+m+")";break;case"y":b=y=!0,u+=2===C?"("+m+m+")":"("+m+"{"+C+",})";break;case"a":b=!0;var I=YO("dayPeriods.format.wide",r.dateObject);l[_]=dI.reverseObject(I),u+="("+Object.keys(l[_]).join("|")+")";break;case"G":b=!0,l[_]=dI.reverseObject(YO("eras."+(C<=3?"eraAbbr":4===C?"eraNames":"eraNarrow"),r.dateObject)),u+="("+Object.keys(l[_]).join("|")+"?)";break;case"z":b=0!==(new Date).getTimezoneOffset(),l[_]=YO("dates.timeZoneNames",r.parserObject);var A=l[_],D=(i=C<4)?"+H;-H":A.hourFormat;D=D.replace(/:/g,g.timeSeparator),u+="("+this.parseTimeZoneRegx(D,A,m)+")?",f=!0,p=i?6:12;break;case"'":u+="("+k.replace(/\'/g,"")+")?";break;default:u+="([\\D])"}b&&(l.evalposition[_]={isNumber:y,pos:v+1+d,hourOnly:i}),v!==h-1||JO(u)||(l.parserRegex=new RegExp("^"+u+"$","i"))}}return function(e){var t=a.internalDateParse(e,l,s);if(JO(t)||!Object.keys(t).length)return null;if(l.isIslamic){var n={},i=t.year,r=t.day,o=t.month,u=i?i+"":"",c=2===u.length;i&&o&&r&&!c||(n=oI.getHijriDate(new Date)),c&&(i=parseInt((n.year+"").slice(0,2)+u,10));var h=oI.toGregorian(i||n.year,o||n.month,r||n.date);t.year=h.getFullYear(),t.month=h.getMonth()+1,t.day=h.getDate()}return a.getDateObject(t)}}},{key:"getDateObject",value:function(e,t){var n=t||new Date;n.setMilliseconds(0);var i=e.year,a=e.designator,r=e.timeZone;QO(i)||((i+"").length<=2&&(i+=100*Math.floor(n.getFullYear()/100)),n.setFullYear(i));for(var s=0,l=["hour","minute","second","milliseconds","month","day"];s<l.length;s++){var o=l[s],u=e[o];if(QO(u)&&"day"===o&&n.setDate(1),!QO(u))if("month"===o){if((u-=1)<0||u>11)return new Date("invalid");var c=n.getDate();n.setDate(1),n[wI[o]](u);var h=new Date(n.getFullYear(),u+1,0).getDate();n.setDate(c<h?c:h)}else{if("day"===o){var d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();if(u<1||u>d)return null}n[wI[o]](u)}}if(!QO(a)){var p=n.getHours();"pm"===a?n.setHours(p+(12===p?0:12)):12===p&&n.setHours(0)}if(!QO(r)){var f=r-n.getTimezoneOffset();0!==f&&n.setMinutes(n.getMinutes()+f)}return n}},{key:"internalDateParse",value:function(e,t,n){var i=e.match(t.parserRegex),a={hour:0,minute:0,second:0};if(JO(i))return null;for(var r=0,s=Object.keys(t.evalposition);r<s.length;r++){var l=s[r],o=t.evalposition[l],u=i[o.pos];if(o.isNumber)a[l]=this.internalNumberParser(u,n);else if("timeZone"!==l||QO(u))a[l]=t[l][u];else{var c=void 0,h=o.pos,d=i[h+1],p=!QO(d);o.hourOnly?c=60*this.getZoneValue(p,d,i[h+4],n):(c=60*this.getZoneValue(p,d,i[h+7],n),c+=this.getZoneValue(p,i[h+4],i[h+10],n)),JO(c)||(a[l]=c)}}return t.hour12&&(a.hour12=!0),a}},{key:"internalNumberParser",value:function(e,t){return e=dI.convertValueParts(e,t.numberParseRegex,t.numericPair),CI.test(e)?+e:null}},{key:"parseTimeZoneRegx",value:function(e,t,n){var i,a,r=t.gmtFormat,s="("+n+")("+n+")";return i=e.replace("+","\\+"),a=(i=-1!==e.indexOf("HH")?i.replace(/HH|mm/g,"("+s+")"):i.replace(/H|m/g,"("+s+"?)")).split(";").map((function(e){return r.replace("{0}",e)})),i=a.join("|")+"|"+t.gmtZeroFormat}},{key:"getZoneValue",value:function(e,t,n,i){var a=e?t:n;if(!a)return 0;var r=this.internalNumberParser(a,i);return e?-r:r}}]),e}().dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},II)}},{key:"getNumberParser",value:function(e){return function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"numberParser",value:function(e,t,n){var i,a,r=this,s=RI.getDependables(n,e,"",!0),l={custom:!0};if(RI.formatRegex.test(t.format)||!t.format?(ZO(l,RI.getProperNumericSkeleton(t.format||"N")),l.custom=!1):ZO(l,RI.customFormat(t.format,null,null)),YO("numbers",s.parserObject),i=dI.getCurrentNumericOptions(s.parserObject,dI.getNumberingSystem(n),!0,!1),l.symbolRegex=dI.getSymbolRegex(Object.keys(i.symbolMatch)),l.infinity=i.symbolNumberSystem[SI[1]],a=RI.getSymbolPattern(l.type,i.numberSystem,s.numericObject,l.isAccount)){var o=(a=a.replace(/\u00A4/g,RI.defaultCurrency)).split(";");l.nData=RI.getFormatData(o[1]||"-"+o[0],!0,""),l.pData=RI.getFormatData(o[0],!0,"")}return function(e){return r.getParsedNumber(e,l,i)}}},{key:"getParsedNumber",value:function(e,t,n){var i,a,r,s,l,o;if(-1!==e.indexOf(t.infinity))return 1/0;e=dI.convertValueParts(e,t.symbolRegex,n.symbolMatch),0===(e=dI.convertValueParts(e,n.numberParseRegex,n.numericPair)).indexOf(".")&&(e="0"+e);var u=e.match(_I);if(JO(u))return NaN;s=u[1],r=u[2];var c=u[5];return l=u[6],a=(i=t.custom?s===t.nData.nlead&&l===t.nData.nend:-1!==s.indexOf(t.nData.nlead)&&-1!==l.indexOf(t.nData.nend))?t.nData.isPercent:t.pData.isPercent,r=r.replace(xI,""),c&&(r+=c),o=+r,("percent"===t.type||a)&&(o/=100),(t.custom||t.fractionDigits)&&(o=parseFloat(o.toFixed(t.custom?i?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),i&&(o*=-1),o}}]),e}().numberParser(this.getCulture(),e||{format:"N"},II)}},{key:"formatNumber",value:function(e,t){return this.getNumberFormat(t)(e)}},{key:"formatDate",value:function(e,t){return this.getDateFormat(t)(e)}},{key:"parseDate",value:function(e,t){return this.getDateParser(t)(e)}},{key:"parseNumber",value:function(e,t){return this.getNumberParser(t)(e)}},{key:"getDatePattern",value:function(e,t){return RI.getActualDateTimeFormat(this.getCulture(),e,II,t)}},{key:"getNumberPattern",value:function(e){return RI.getActualNumberFormat(this.getCulture(),e,II)}},{key:"getFirstDayOfWeek",value:function(){return RI.getWeekData(this.getCulture(),II)}},{key:"getCulture",value:function(){return this.culture||AI}}]),e}();function PI(e,t){var n=RI.getDependables(II,e,"",!0)[MI[0]],i=RI.getDependables(II,e,"")[MI[1]],a=YO("defaultNumberingSystem",n),r=YO("symbols-numberSystem-"+a,n),s=RI.getSymbolPattern(t||"decimal",a,n,!1);return ZO(r,RI.getFormatData(s,!0,"",!0),{dateSeparator:RI.getDateSeparator(i)})}function LI(e,t){var n=RI.getDependables(II,e,"",!0);return RI.getCurrencySymbol(n.numericObject,t)}function NI(e){return RI.getDependables(II,"",e,!1)[MI[1]]}var RI,FI={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;e.defaultCurrency="$";var n=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,a={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi,e.islamicRegex=/^islamic/;var r={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,e.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,e.curWithoutNumberRegex=/(c|a)$/gi;var s={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function l(t,n,i,a,r){var s,l=i||"date";if(r)s=h({skeleton:t},r).format||h({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(s=YO(l+"Formats."+t,n),"dateTime"===l){var o=YO("dateFormats."+t,n),u=YO("timeFormats."+t,n);s=s.replace("{1}",o).replace("{0}",u)}}else s=YO("dateTimeFormats.availableFormats."+t,n);QO(s)&&"yMd"===t&&(s="M/d/y")}return s}function o(t,n,i,a){var r={},s=i||"gregorian";return r.parserObject=dI.getMainObject(t,n)||e.defaultObject,a?r.numericObject=YO("numbers",r.parserObject):r.dateObject=YO("dates.calendars."+s,r.parserObject),r}function u(e,t,n,i){return YO(e+"Formats-numberSystem-"+t+(i?".accounting":".standard"),n)||(i?YO(e+"Formats-numberSystem-"+t+".standard",n):"")}function c(t){return t.match(e.dateConverterMapper),t}function h(e,t){var n=e.format||e.skeleton,i=YO((t||"en-US")+"."+n,FI);return i||(i=YO("en-US."+n,FI)),i&&(i=c(i),e.format=i.replace(/tt/,"a")),e}function d(t){var n=t.match(e.formatRegex),i={},a=n[1].toUpperCase();return i.isAccount="A"===a,i.type=e.patternMatcher[a],t.length>1&&(i.fractionDigits=parseInt(n[2],10)),i}function p(n,i,a,r){var s=r?{}:{nlead:"",nend:""},l=n.match(e.customRegex);if(l){r||(s.nlead=f(l[1],a),s.nend=f(l[10],a),s.groupPattern=l[4]);var o=l[7];if(o&&i){var u=o.match(t);s.minimumFraction=JO(u)?0:u.length,s.maximumFraction=o.length-1}}return s}function f(t,n){return t?t.replace(e.defaultCurrency,n):""}function m(e,t,n){return YO("currencies."+t+(n?"."+n:".symbol"),e)||YO("currencies."+t+".symbol-alt-narrow",e)||"$"}function g(t,i,a){var r={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},s=t.match(e.customRegex);if(JO(s)||""===s[5]&&"N/A"!==t)return r.type=void 0,r;r.nlead=s[1],r.nend=s[10];var l=s[6];r.useGrouping=-1!==l.indexOf(","),l=l.replace(/,/g,"");var o=s[7];if(-1!==l.indexOf("0")&&(r.minimumIntegerDigits=l.length-l.indexOf("0")),JO(o)||(r.minimumFractionDigits=o.lastIndexOf("0"),r.maximumFractionDigits=o.lastIndexOf("#"),-1===r.minimumFractionDigits&&(r.minimumFractionDigits=0),(-1===r.maximumFractionDigits||r.maximumFractionDigits<r.minimumFractionDigits)&&(r.maximumFractionDigits=r.minimumFractionDigits)),JO(i)?ZO(r,v([r.nlead,r.nend],"%","%")):(ZO(r,v([r.nlead,r.nend],"$",i.currencySymbol)),r.isCurrency||ZO(r,v([r.nlead,r.nend],"%",i.percentSymbol))),!JO(a)){var c=u(r.type,i.numberMapper.numberSystem,a,!1);r.useGrouping&&(r.groupSeparator=i.numberMapper.numberSymbols[n[2]],r.groupData=kI.getGroupingDetails(c.split(";")[0])),r.nlead=r.nlead.replace(/\'/g,""),r.nend=r.nend.replace(/\'/g,"")}return r}function v(e,t,n){for(var i={nlead:e[0],nend:e[1]},a=0;a<2;a++){var r=e[a],l=r.indexOf(t);if(-1!==l&&(l<r.indexOf("'")||l>r.lastIndexOf("'"))){i[s[a]]=r.substr(0,l)+n+r.substr(l+1),i[s[t]]=!0,i.type=i.isCurrency?"currency":"percent";break}}return i}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=l,e.getDependables=o,e.getSymbolPattern=u,e.ConvertDateToWeekFormat=c,e.compareBlazorDateFormats=h,e.getProperNumericSkeleton=d,e.getFormatData=p,e.getCurrencySymbol=m,e.customFormat=function(e,t,n){for(var i={},a=e.split(";"),r=["pData","nData","zeroData"],s=0;s<a.length;s++)i[r[s]]=g(a[s],t,n);return JO(i.nData)&&(i.nData=ZO({},i.pData),i.nData.nlead=JO(t)?"-"+i.nData.nlead:t.minusSymbol+i.nData.nlead),i},e.isCurrencyPercent=v,e.getDateSeparator=function(e){var t=(YO("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,n,r){var s=o(n,e,t.calendar),u=t.format||l(t.skeleton,s.dateObject,t.type);if(r){if(-1!==(u=u.replace(i,(function(e){return a[e]}))).indexOf("z")){var c,h=u.match(/z/g).length,d={timeZone:{}};d.numMapper=dI.getNumberMapper(s.parserObject,dI.getNumberingSystem(n)),d.timeZone=YO("dates.timeZoneNames",s.parserObject);var p=(new Date).getTimezoneOffset(),f=h<4?"+H;-H":d.timeZone.hourFormat;f=f.replace(/:/g,d.numMapper.timeSeparator),0===p?c=d.timeZone.gmtZeroFormat:(c=vI.getTimeZoneValue(p,f),c=d.timeZone.gmtFormat.replace(/\{0\}/,c)),u=u.replace(/[z]+/,'"'+c+'"')}u=u.replace(/ $/,"")}return u},e.getActualNumberFormat=function(t,n,i){var a,r,s=o(i,t,"",!0),l={custom:!0},c={},h=(n.format||"").match(e.currencyFormatRegex),f=(e.formatRegex.test(n.format)&&d(n.format||"N"),{});if(h){f.numberMapper=dI.getNumberMapper(s.parserObject,dI.getNumberingSystem(i),!0);var g=m(s.numericObject,n.currency||DI,n.altSymbol),v=u("currency",f.numberMapper.numberSystem,s.numericObject,/a/i.test(n.format)),y=(v=v.replace(/\u00A4/g,g)).split(";");c.hasNegativePattern=y.length>1,c.nData=p(y[1]||"-"+y[0],!0,g),c.pData=p(y[0],!1,g),h[2]||n.minimumFractionDigits||n.maximumFractionDigits||(a=p(v.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(n.format)||!n.format){if(ZO(l,d(n.format||"N")),l.custom=!1,r="###0",l.fractionDigits||n.minimumFractionDigits||n.maximumFractionDigits||a){l.fractionDigits&&(n.minimumFractionDigits=n.maximumFractionDigits=l.fractionDigits),r=function(e,t,n){e+=".";for(var i=0;i<t;i++)e+="0";if(t<n)for(var a=n-t,r=0;r<a;r++)e+="#";return e}(r,a||l.fractionDigits||n.minimumFractionDigits||0,n.maximumFractionDigits||0)}if(n.minimumIntegerDigits&&(r=function(e,t){for(var n=e.split("."),i="",a=0;a<t;a++)i+="0";return n[1]?i+"."+n[1]:i}(r,n.minimumIntegerDigits)),n.useGrouping&&(r=function(e){var t=e.split("."),n=t[0],i=3-n.length%3;e="";for(var a=(n=(i&&1===i?"#":2===i?"##":"")+n).length-1;a>0;a-=3)e=","+n[a-2]+n[a-1]+n[a]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}(r)),"currency"===l.type){var b=r;r=c.pData.nlead+b+c.pData.nend,c.hasNegativePattern&&(r+=";"+c.nData.nlead+b+c.nData.nend)}"percent"!==l.type||(r+=" %")}else r=n.format.replace(/\'/g,'"');return Object.keys(f).length>0&&(r=function(e,t){if(-1!==e.indexOf(",")){var n=e.split(",");e=n[0]+YO("numberMapper.numberSymbols.group",t)+n[1].replace(".",YO("numberMapper.numberSymbols.decimal",t))}else e=e.replace(".",YO("numberMapper.numberSymbols.decimal",t));return e}(r,f)),r},e.getWeekData=function(e,t){var n="sun",i=YO("supplemental.weekData.firstDay",t),a=e;return/en-/.test(a)&&(a=a.slice(3)),a=a.slice(0,2).toUpperCase()+a.substr(2),i&&(n=i[a]||"sun"),r[n]},e.getWeekOfYear=function(e){var t,n=new Date(e.getFullYear(),0,1),i=n.getDay();i=i>=0?i:i+7;var a=Math.floor((e.getTime()-n.getTime()-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1;if(i<4){if((t=Math.floor((a+i-1)/7)+1)>52){var r=new Date(this.getFullYear()+1,0,1).getDay();t=(r=r>=0?r:r+7)<4?1:53}}else t=Math.floor((a+i-1)/7);return t}}(RI||(RI={}));var HI=/^(.*?):[ \t]*([^\r\n]*)$/gm,BI=function(){function e(t,n,i,a){_classCallCheck(this,e),this.mode=!0,this.emitError=!0,this.options={},"string"==typeof t?(this.url=t,this.type=n?n.toUpperCase():"GET",this.mode=!!JO(i)||i):"object"==typeof t&&(this.options=t,$O(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:a}return _createClass(e,[{key:"send",value:function(e){var t=this;this.data=JO(e)?this.data:e;var n={cancel:!1,httpRequest:null};return new Promise((function(e,i){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,i)},JO(t.onLoad)||(t.httpRequest.onload=t.onLoad),JO(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),JO(t.onAbort)||(t.httpRequest.onabort=t.onAbort),JO(t.onError)||(t.httpRequest.onerror=t.onError),JO(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),JO(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(n.httpRequest=t.httpRequest,t.beforeSend(n)),n.cancel||t.httpRequest.send(JO(t.data)?null:t.data)}))}},{key:"successHandler",value:function(e){return this.onSuccess&&this.onSuccess(e,this),e}},{key:"failureHandler",value:function(e){return this.onFailure&&this.onFailure(this.httpRequest),e}},{key:"stateChange",value:function(e,t){var n=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===n)n=void 0;else try{n=JSON.parse(n)}catch(i){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(n)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())}},{key:"getResponseHeader",value:function(e){var t,n;t={};for(var i=HI.exec(this.httpRequest.getAllResponseHeaders());i;)t[i[1].toLowerCase()]=i[2],i=HI.exec(this.httpRequest.getAllResponseHeaders());return JO(n=t[e.toLowerCase()])?null:n}}]),e}(),VI=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,jI=/msie|trident/i,zI=/Trident\/7\./,qI=/(ipad|iphone|ipod touch)/i,UI=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,WI=/android/i,YI=/trident|windows phone|edge/i,GI=/(version)[ \/]([\w.]+)/i,XI={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});var KI=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"extractBrowserDetail",value:function(){for(var t={culture:{}},n=[],i=0,a=Object.keys(XI);i<a.length;i++){var r=a[i];if(n=e.userAgent.match(XI[r])){if(t.name="opr"===n[1].toLowerCase()?"opera":n[1].toLowerCase(),t.name="crios"===n[1].toLowerCase()?"chrome":t.name,t.version=n[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(zI)){t.name="msie";break}var s=e.userAgent.match(GI);"safari"===t.name&&s&&(t.version=s[2]);break}}return t}},{key:"getEvent",value:function(t){var n={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?n[t].isPointer:e.isTouch?n[t].isTouch+(e.isDevice?"":" "+n[t].isDevice):n[t].isDevice}},{key:"getTouchStartEvent",value:function(){return e.getEvent("start")}},{key:"getTouchEndEvent",value:function(){return e.getEvent("end")}},{key:"getTouchMoveEvent",value:function(){return e.getEvent("move")}},{key:"getTouchCancelEvent",value:function(){return e.getEvent("cancel")}},{key:"getValue",value:function(t,n){var i=window.browserDetails;return void 0===i[t]?i[t]=n.test(e.userAgent):i[t]}},{key:"userAgent",set:function(t){e.uA=t,window.browserDetails={}},get:function(){return e.uA}},{key:"info",get:function(){return QO(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info}},{key:"isIE",get:function(){return e.getValue("isIE",jI)}},{key:"isTouch",get:function(){return QO(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch}},{key:"isPointer",get:function(){return QO(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer}},{key:"isMSPointer",get:function(){return QO(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer}},{key:"isDevice",get:function(){return e.getValue("isDevice",VI)}},{key:"isIos",get:function(){return e.getValue("isIos",qI)}},{key:"isIos7",get:function(){return e.getValue("isIos7",UI)}},{key:"isAndroid",get:function(){return e.getValue("isAndroid",WI)}},{key:"isWebView",get:function(){return QO(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(QO(window.cordova)&&QO(window.PhoneGap)&&QO(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView}},{key:"isWindows",get:function(){return e.getValue("isWindows",YI)}},{key:"touchStartEvent",get:function(){return QO(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent}},{key:"touchMoveEvent",get:function(){return QO(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent}},{key:"touchEndEvent",get:function(){return QO(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent}},{key:"touchCancelEvent",get:function(){return QO(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent}}]),e}();return e.uA="undefined"!=typeof navigator?navigator.userAgent:"",e}(),$I=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"addOrGetEventData",value:function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])}},{key:"add",value:function(t,n,i,a,r){var s,l=e.addOrGetEventData(t);s=r?tI(i,r):i,a&&(s=s.bind(a));for(var o=n.split(" "),u=0;u<o.length;u++)l.push({name:o[u],listener:i,debounce:s}),KI.isIE?t.addEventListener(o[u],s):t.addEventListener(o[u],s,{passive:!1});return s}},{key:"remove",value:function(t,n,i){for(var a=e.addOrGetEventData(t),r=n.split(" "),s=function(e){var n=void 0,s=-1;a&&0!==a.length&&a.some((function(t,a){return t.name===r[e]&&t.listener===i&&(s=a,n=t.debounce,!0)})),-1!==s&&a.splice(s,1),n&&t.removeEventListener(r[e],n)},l=0;l<r.length;l++)s(l)}},{key:"clearEvents",value:function(t){var n,i;i=ZO([],i,n=e.addOrGetEventData(t));for(var a=0;a<i.length;a++)t.removeEventListener(i[a].name,i[a].debounce),n.shift()}},{key:"trigger",value:function(t,n,i){var a,r=_createForOfIteratorHelper(e.addOrGetEventData(t));try{for(r.s();!(a=r.n()).done;){var s=a.value;s.name===n&&s.debounce.call(this,i)}}catch(l){r.e(l)}finally{r.f()}}}]),e}(),ZI=new RegExp("\\n|\\r|\\s\\s+","g"),JI=new RegExp(/'|"/g),QI=new RegExp("if ?\\("),eA=new RegExp("else if ?\\("),tA=new RegExp("else"),nA=new RegExp("for ?\\("),iA=new RegExp("(/if|/for)"),aA=new RegExp("\\((.*)\\)",""),rA=new RegExp("^[0-9]+$","g"),sA=new RegExp("[\\w\"'.\\s+]+","g"),lA=new RegExp('"(.*?)"',"g"),oA=new RegExp("[\\w\"'@#$.\\s+]+","g"),uA=new RegExp("\\${([^}]*)}","g"),cA=/^\..*/gm,hA=/\\/gi,dA=/\\\\/gi,pA=new RegExp("[\\w\"'@#$.\\s+]+","g"),fA=/\window\./gm;function mA(e,t,n,i){return t&&!rA.test(e)&&-1===i.indexOf(e.split(".")[0])?n+"."+e:e}function gA(e,t,n,i){return t&&!rA.test(e)&&-1===i.indexOf(e.split(".")[0])?n+'["'+e:e}function vA(e){return e.match(dA)?e:e.replace(hA,"\\\\")}function yA(e,t,n){if(e=e.trim(),/\window\./gm.test(e))return e;var i=/'|"/gm;return/\@|\$|\#/gm.test(e)&&(e=gA(e,-1===n.indexOf(e),t,n)+'"]'),cA.test(e)?function(e,t,n,i){return!t||rA.test(e)||-1!==i.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:n+"."+e}(e,!i.test(e)&&-1===n.indexOf(e),t,n):mA(e,!i.test(e)&&-1===n.indexOf(e),t,n)}var bA=/^[\n\r.]+\<tr|^\<tr/,kA=/^[\n\r.]+\<svg|^\<path|^\<g/,CA={};function wA(){return"-"+Math.random().toString(36).substr(2,5)}function _A(e,t){var n=EA.compile(e,t);return function(e,t,i,a,r,s){var l=n(e,t,i);return"string"==typeof l?kA.test(l)?qA("svg",{innerHTML:l}).childNodes:qA(bA.test(l)?"table":"div",{innerHTML:l}).childNodes:l}}function xA(e,t,n){var i=document.getElementById(e);if(i)for(var a=i.getElementsByClassName("blazor-inner-template"),r=0;r<a.length;r++){var s;s=JO(n)?a[r].getAttribute("data-templateId"):a[n].getAttribute("data-templateId");var l=document.getElementById(s);if(l)for(var o=l.childNodes.length,u=0;u<o;u++)JO(n)?a[r].appendChild(l.childNodes[0]):(a[n].appendChild(l.childNodes[0]),r=a.length)}}var SA,EA={compile:(new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"compile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){var n=function(e,t,n){var i=0,a=[],r=e.match(/class="([^\"]+|)\s{2}/g),s="";return r&&r.forEach((function(t){s=t.replace(/\s\s+/g," "),e=e.replace(t,s)})),e.replace(ZI,"").replace(lA,"'$1'").replace(uA,(function(e,t,r,s){var l=t.match(aA);if(l){var o=l[1];if(eA.test(t))t='";} '+t.replace(l[1],o.replace(sA,(function(e){return mA(e=e.trim(),!JI.test(e)&&-1===a.indexOf(e),"data",a)})))+'{ \n str = str + "';else if(QI.test(t))t='"; '+t.replace(l[1],o.replace(oA,(function(e){return yA(e,"data",a)})))+'{ \n str = str + "';else if(nA.test(t)){var u=l[1].split(" of ");t='"; '+t.replace(l[1],(function(e){return a.push(u[0]),a.push(u[0]+"Index"),"var i"+(i+=1)+"=0; i"+i+" < "+mA(u[1],!0,"data",a)+".length; i"+i+"++"}))+"{ \n "+u[0]+"= "+mA(u[1],!0,"data",a)+"[i"+i+"]; \n var "+u[0]+"Index=i"+i+'; \n str = str + "'}else{var c=t.split("("),h=n&&n.hasOwnProperty(c[0])?"this.":"global";h=/\./.test(c[0])?"":h;var d=l[1].split(",");0===l[1].length||/data/.test(d[0])||/window./.test(d[0])||(l[1]="global"===h?"data."+l[1]:l[1]);fA.test(t)&&/\]\./gm.test(t)||/\@|\$|\#/gm.test(t)?/\@|\$|\#|\]\./gm.test(t)&&(t='"+ '+("global"===h?"":h)+t.replace(l[1],o.replace(pA,(function(e){return yA(e,"data",a)})))+'+ "'):t='" + '+("global"===h?"":h)+t.replace(o,mA(l[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==h,"data",a))+'+"'}}else tA.test(t)?t='"; '+t.replace(tA,'} else { \n str = str + "'):t.match(iA)?t=t.replace(iA,'"; \n } \n str = str + "'):/\@|\#|\$/gm.test(t)?(t.match(hA)&&(t=vA(t)),t='"+'+gA(t,-1===a.indexOf(t),"data",a)+'"]+"'):t=t.match(hA)?'"+'+gA(t=vA(t),-1===a.indexOf(t),"data",a)+'"]+"':'"+'+mA(t.replace(/\,/gi,"+data."),-1===a.indexOf(t),"data",a)+'+"';return t}))}(e,0,t);return new Function("data",'var str="'.concat(n,'"; return str;')).bind(t)}(e,t)}}]),e}())).compile},OA=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,IA=/(?:#([\w-]+)|(\w+)|\.([\w-]+))/g,AA=/^(\.|#)/,DA={".":"className","#":"id"},MA={className:"attributes.className",id:"attributes.id",tagName:"tagName"},TA=["area","base","basefont","br","col","frame","hr","img","input","link","meta","param","embed","command","keygen","source","track","wbr"],PA=["a","address","article","applet","aside","audio","blockquote","button","canvas","center","dd","del","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","ins","isindex","li","map","menu","noframes","noscript","object","ol","output","p","pre","section","script","table","tbody","td","tfoot","th","thead","tr","ul","video"],LA=["abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","script","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],NA=["colgroup","dd","dt","li","options","p","td","tfoot","th","thead","tr"],RA=["checked","compact","declare","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","readonly","selected"],FA=["Script","style"],HA={tabindex:"tabIndex"},BA=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,VA=/^<\/([-A-Za-z0-9_]+)[^>]*>/,jA=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;!function(e){function t(e,t){t&&e&&e.forEach((function(e){return KO(e)&&(e.parent&&n(e),e.parent=t),e}))}function n(e){var t=e.parent;if(t){var n=t.children.indexOf(e);-1!==n&&t.children.splice(n)}return t}function i(e,t){var n=e.match(AA),i={};if(n){var a=DA[n[0]];if("className"===a){var r=t.filter((function(e){return e.hasOwnProperty("className")}))[0],s=!1;r||(s=!0,r={}),r[a]=(r[a]||"")+"(?=.*?\\b{value}\\b)".replace("{value}",e.replace(".","")),s&&t.push(r)}else i[a]=e.replace(n[0],""),t.push(i)}else t.push({tagName:e})}function a(e,t,n,i){if(e.children){var r=e.children.filter((function(e){if("string"!=typeof e){var n,i=!0,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var r=n.value,s=Object.keys(r)[0],l=r[s],o=YO(MA[s],e);if("className"===s){if(!new RegExp("^"+l+".*$").test(o)){i=!1;break}}else if(o!==l){i=!1;break}}}catch(u){a.e(u)}finally{a.f()}return i}return!1}));return i||r.length&&!n||e.children.forEach((function(e){KO(e)&&(r=r.concat(a(e,t,n)))})),r}return[]}function r(e){for(var t,n=[],i=[],a=[];e;){t=!0;var r=s(i);if(r&&l(FA,r))e=e.replace(new RegExp("([\\s\\S]*?)</"+s(a)+"[^>]*>"),(function(e,t){return f(t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2")),""})),p(0,s(i));else{if(0===e.indexOf("</")){var o=e.match(VA);o&&(e=e.substring(o[0].length),o[0].replace(VA,p)),t=!1}else if(0===e.indexOf("<")){var u=e.match(BA);u&&(e=e.substring(u[0].length),u[0].replace(BA,d)),t=!1}if(t){var c=e.indexOf("<"),h=c<0?e:e.substring(0,c);e=c<0?"":e.substring(c),f(h)}}}function d(e,t,r){if(t=t.toLowerCase(),l(PA,t))for(;s(i)&&l(LA,s(i));)p(0,s(i));l(NA,t)&&s(i)&&p(0,t);var o=l(TA,t);o||i.push(t);var u={};r.replace(jA,(function(e,t){var n=(arguments.length<=4?void 0:arguments[4])?arguments.length<=4?void 0:arguments[4]:(arguments.length<=5?void 0:arguments[5])?arguments.length<=5?void 0:arguments[5]:(arguments.length<=6?void 0:arguments[6])?arguments.length<=6?void 0:arguments[6]:l(RA,t)?t:"";if("style"===t){for(var i=n.split(";"),a={},r=0,s=i.length;r<s;r++){var o=i[r].split(":");a[o[0]]=o[1]}n=a}u[t=HA[t]||t]=n})),u["data-id"]=wA();var c={tagName:t,attributes:u};if(o){var h=a[0]||n;void 0===h.children&&(h.children=[]),c.parent=h,h.children.push(c)}else a.unshift(c)}function p(e,t){var r;if(t)for(r=i.length-1;r>=0&&i[r]!==t;r--);else r=0;if(r>=0){for(var s=a.length-1;s>=r;s--){var l=a.shift();if(0===a.length)n.push(l);else{var o=a[0];void 0===o.children&&(o.children=[]),l.parent=o,o.children.push(l)}}i.length=r}}function f(e){if(0===a.length)n.push(e);else{var t=a[0];void 0===t.children&&(t.children=[]),t.children.push(e)}}return n}function s(e){return e[e.length-1]}function l(e,t){return-1!==e.indexOf(t)}e.createElement=function(e,t){var n=[],i=ZO({},{},t,!0);if(!JO(t)&&Object.keys(t).length&&(i.innerHTML&&(n=r(i.innerHTML),delete i.innerHTML),i.attrs&&(ZO(i,i.attrs),delete i.attrs),i.styles)){for(var a=i.styles.split(";"),s={},l=0,o=a.length;l<o;l++){var u=a[l].split(":");s[u[0]]=u[1]}delete i.styles,i.style=s}return{tagName:e,attributes:i||{},children:n}},e.assignParent=t,e.append=function(e,n){t(e,n),n.children=n.children?n.children.concat(e):[].concat(e)},e.prepend=function(e,n){if(t(e,n),n.children&&n.children.length)for(var i=e.length-1;i>=0;i--)n.children.unshift(e[i]);else n.children=[],n.children.concat(e)},e.detach=n,e.vDomSelector=function e(t){for(var n=t.ele,r=t.selector,s=t.selectAll,l=t.immediateParent,o=r.split(" "),u=n,c=0,h=o.length;c<h;c++){var d=!1,p=u,f=o[c],m=[];if(OA.test(f))i(f,m);else if(-1===f.indexOf(">")){var g,v=_createForOfIteratorHelper(f.match(IA));try{for(v.s();!(g=v.n()).done;){i(g.value,m)}}catch(T){v.e(T)}finally{v.f()}}else if(-1!==f.indexOf(">")){d=!0;var y,b=void 0,k=n,C=0,w=_createForOfIteratorHelper(f.split(">"));try{for(w.s();!(y=w.n()).done;){var _=y.value;if(!k)break;if(k.length){var x,S=[],E=_createForOfIteratorHelper(k);try{for(E.s();!(x=E.n()).done;){var O=x.value;S=S.concat(e({ele:O,selector:_,selectAll:s,immediateParent:!!C}))}}catch(T){E.e(T)}finally{E.f()}b=S}else b=e({ele:k,selector:_,selectAll:s,immediateParent:!!C});C++,k=b}}catch(T){w.e(T)}finally{w.f()}b&&(u=b)}if(!d)if(p.length){var I,A=[],D=_createForOfIteratorHelper(p);try{for(D.s();!(I=D.n()).done;){var M=I.value;A=A.concat(a(M,m,s,l))}}catch(T){D.e(T)}finally{D.f()}u=A}else u=a(p,m,s,l)}return s?u:u[0]||null},e.accessElement=a,e.ConvertHTMLToJSon=r,e.cloneNode=function(e,t){return KO(e)?t?ZO({},{},e,!0):{tagName:e.tagName,attributes:e.attributes}:e.cloneNode(t)},e.setStyleAttribute=function(e,t){e.attributes.style=ZO(e.attributes.style?{}:e.attributes.style,t)}}(SA||(SA={}));var zA=/^svg|^path|^g/;function qA(e,t){var n=zA.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return void 0===t?n:(n.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(n.className=t.className),void 0!==t.id&&(n.id=t.id),void 0!==t.styles&&n.setAttribute("style",t.styles),void 0!==t.attrs&&QA(n,t.attrs),n)}function UA(e,t){var n,i=YA(t),a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var r,s=n.value,l=_createForOfIteratorHelper(i);try{for(l.s();!(r=l.n()).done;){var o=r.value;if(KO(s)){var u=YO("attributes.className",s);JO(u)?GO("attributes.className",o,s):new RegExp("\\b"+o+"\\b","i").test(u)||GO("attributes.className",u+" "+o,s)}else s.classList.contains(o)||s.classList.add(o)}}catch(c){l.e(c)}finally{l.f()}}}catch(c){a.e(c)}finally{a.f()}return e}function WA(e,t){var n,i=YA(t),a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var r=n.value,s=KO(r);if(s?YO("attributes.className",r):""!==r.className){var l,o=_createForOfIteratorHelper(i);try{for(o.s();!(l=o.n()).done;){var u=l.value;if(s){var c=YO("attributes.className",r).split(" "),h=c.indexOf(u);-1!==h&&c.splice(h,1),GO("attributes.className",c.join(" "),r)}else r.classList.remove(u)}}catch(d){o.e(d)}finally{o.f()}}}}catch(d){a.e(d)}finally{a.f()}return e}function YA(e){var t=[];return"string"==typeof e?t.push(e):t=e,t}function GA(e){return""===e.style.visibility&&e.offsetWidth>0}function XA(e,t,n){if(KO(t))SA.prepend(e,t);else{var i,a=document.createDocumentFragment(),r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;a.appendChild(s)}}catch(l){r.e(l)}finally{r.f()}t.insertBefore(a,t.firstElementChild),n&&$A(t)}return e}function KA(e,t,n){if(KO(t))SA.append(e,t);else{var i,a=document.createDocumentFragment(),r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;a.appendChild(s)}}catch(l){r.e(l)}finally{r.f()}t.appendChild(a),n&&$A(t)}return e}function $A(e){e.querySelectorAll("script").forEach((function(e){var t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),ZA(t)}))}function ZA(e){return KO(e)?SA.detach(e):e.parentNode.removeChild(e)}function JA(e){if(KO(e))SA.detach(e);else{var t=e.parentNode;$I.clearEvents(e),t.removeChild(e)}}function QA(e,t){for(var n=e,i=0,a=Object.keys(t);i<a.length;i++){var r=a[i];if(KO(n)){var s=r;"tabindex"===r&&(s="tabIndex"),n.attributes[s]=t[r]}else n.setAttribute(r,t[r])}return n}function eD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2?arguments[2]:void 0;return KO(t)&&n?SA.vDomSelector({ele:t,selector:e,selectAll:!1}):t.querySelector(e)}function tD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2?arguments[2]:void 0;return KO(t)&&!n?SA.vDomSelector({ele:t,selector:e,selectAll:!0}):t.querySelectorAll(e)}function nD(e,t){var n=e;if("function"==typeof n.closest)return n.closest(t);for(;n&&1===n.nodeType;){if(rD(n,t))return n;n=n.parentNode}return null}function iD(e,t){void 0!==t&&(KO(e)?SA.setStyleAttribute(e,t):Object.keys(t).forEach((function(n){e.style[n]=t[n]})))}function aD(e,t,n){UA([e],t),WA([e],n)}function rD(e,t){var n=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return n?n.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}var sD=new RegExp("]"),lD=function(){function e(t,n){_classCallCheck(this,e),this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new EI(this),QO(n)||(this.element="string"==typeof n?document.querySelector(n):n,JO(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),QO(t)||this.setProperties(t,!0),this.isDestroyed=!1}return _createClass(e,[{key:"setProperties",value:function(e,t){var n=this.isProtectedOnChange;this.isProtectedOnChange=!!t,$O(this,e),!0!==t&&($O(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=n}},{key:"clearChanges",value:function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}}},{key:"dataBind",value:function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,n=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(n,i),this.isProtectedOnChange=t}}},{key:"serverDataBind",value:function(e){}},{key:"saveChanges",value:function(e,t,n){this.isProtectedOnChange||(this.oldProperties[e]=n,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(e){var t,n=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(n);var i="ej2"+function(e){for(var t="",n=0;n<5;n++)t+=(n?",":"")+e[n];return t}(n),a=function(n){n.source===window&&"string"==typeof n.data&&n.data.length<=32&&n.data===i&&(e(),t())};return window.addEventListener("message",a,!1),window.postMessage(i,"*"),t=function(){window.removeEventListener("message",a),e=a=i=void 0}}(this.dataBind.bind(this)))}},{key:"addEventListener",value:function(e,t){this.modelObserver.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.modelObserver.off(e,t)}},{key:"trigger",value:function(e,t,n,i){var a=this;if(!0!==this.isDestroyed){var r=this.isProtectedOnChange;this.isProtectedOnChange=!1;var s=this.modelObserver.notify(e,t,n,i);if(sD.test(e)){var l=YO(e,this);if(l)if(window.Blazor){var o=l.call(this,t);o&&"function"==typeof o.then?n?o.then((function(e){n&&(e="string"==typeof e&&a.modelObserver.isJson(e)?JSON.parse(e):e,n.call(a,e))})).catch((function(e){i&&(e="string"==typeof e&&a.modelObserver.isJson(e)?JSON.parse(e):e,i.call(a,e))})):s=o:n&&n.call(this,t)}else l.call(this,t),n&&n.call(this,t);else n&&n.call(this,t)}return this.isProtectedOnChange=r,s}}},{key:"addInstance",value:function(){var e="e-"+this.getModuleName().toLowerCase();UA([this.element],["e-lib",e]),JO(this.element.ej2_instances)?GO("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)}},{key:"destroy",value:function(){var e=this;this.element.ej2_instances=this.element.ej2_instances.filter((function(t){return t!==e})),WA([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&WA([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0}}],[{key:"callChildDataBind",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];if(t[a]instanceof Array){var r,s=_createForOfIteratorHelper(t[a]);try{for(s.s();!(r=s.n()).done;){var l=r.value;void 0!==l.dataBind&&l.dataBind()}}catch(o){s.e(o)}finally{s.f()}}else t[a].dataBind()}}}]),e}();function oD(e,t){var n,i,a="string"==typeof e?document.getElementById(e):e;for(i=0;i<a.ej2_instances.length;i++)if(n=a.ej2_instances[i],"string"==typeof t){if(t===n.getModuleName())return n}else if(n instanceof t)return n}function uD(e,t,n,i){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof i||(e.properties[t]=WO(i,[e,t,n])),e.properties[t]}function cD(e,t,n,i,a,r){for(var s=[],l=n?n.length:0,o=0;o<l;o++){var u=i;if(r&&(u=i(n[o],e)),a){var c=WO(u,[e,t,{},!0]);c.setProperties(n[o],!0),s.push(c)}else s.push(WO(u,[e,t,n[o],!1]))}return s}function hD(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function dD(e,t){return function(n){if(this.properties[t]!==n){var i=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,n,i),this.properties[t]=n}}}function pD(e,t,n){return function(){return uD(this,t,e,n)}}function fD(e,t,n){return function(i){uD(this,t,e,n).setProperties(i)}}function mD(e,t,n){return function(){var i=this;if(!this.properties.hasOwnProperty(t)){var a=cD(this,t,e,n,!1);this.properties[t]=a}var r=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||r||["push","pop"].forEach((function(e){var n={value:vD(e,t,0,i.properties[t]).bind(i),configurable:!0};Object.defineProperty(i.properties[t],e,n)})),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[t],"isComplexArray",{value:!0}),this.properties[t]}}function gD(e,t,n){return function(i){this.isComplexArraySetter=!0;var a=cD(this,t,e,n,!1),r=cD(this,t,i,n,!0);this.isComplexArraySetter=!1,this.saveChanges(t,r,a),this.properties[t]=r}}function vD(e,t,n,i){return function(){var n=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(var a=0;a<arguments.length;a++){Array.prototype[e].apply(i,[a<0||arguments.length<=a?void 0:arguments[a]]);var r=yD(n+(i.length-1),a<0||arguments.length<=a?void 0:arguments[a],!this.controlParent,e);this.serverDataBind(r,a<0||arguments.length<=a?void 0:arguments[a],!1,e)}break;case"pop":Array.prototype[e].apply(i);var s=yD(n+i.length,null,!this.controlParent,e);this.serverDataBind(s,{ejsAction:"pop"},!1,e)}return i}}function yD(e,t,n,i){var a=e;return n&&((a={})[e]=t,t&&"object"==typeof t)&&(a[e].ejsAction=i),a}function bD(e){return function(t,n){var i={set:dD(e,n),get:hD(e,n),enumerable:!0,configurable:!0};Object.defineProperty(t,n,i),xD(t,n,"prop",e)}}function kD(e,t){return function(n,i){var a={set:fD(e,i,t),get:pD(e,i,t),enumerable:!0,configurable:!0};Object.defineProperty(n,i,a),xD(n,i,"complexProp",e,t)}}function CD(e,t){return function(n,i){var a={set:gD(e,i,t),get:mD(e,i,t),enumerable:!0,configurable:!0};Object.defineProperty(n,i,a),xD(n,i,"colProp",e,t)}}function wD(){return function(e,t){var n={set:function(e){var n=this.properties[t];if(n!==e){var i=function e(t,n){if(!1===t.hasOwnProperty("parentObj"))return{context:t,prefix:n};var i=YO("propName",t);return i&&(n=i+"-"+n),e(YO("parentObj",t),n)}(this,t);!1===QO(n)&&i.context.removeEventListener(i.prefix,n),i.context.addEventListener(i.prefix,e),this.properties[t]=e}},get:hD(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,n),xD(e,t,"event")}}function _D(e){}function xD(e,t,n,i,a){QO(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[n+"s"].push({propertyName:t,defaultValue:i,type:a}),e.propList[n+"Names"].push(t)}var SD,ED,OD=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ID=(ED=SD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,void 0)).easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},i}return _createClass(n,[{key:"animate",value:function(e,t){var n=this.getModel(t=t||{});if("string"==typeof e){var i,a=_createForOfIteratorHelper(Array.prototype.slice.call(tD(e,document)));try{for(a.s();!(i=a.n()).done;){var r=i.value;n.element=r,SD.delayAnimation(n)}}catch(s){a.e(s)}finally{a.f()}}else n.element=e,SD.delayAnimation(n)}},{key:"getModel",value:function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}}},{key:"onPropertyChanged",value:function(e,t){}},{key:"getModuleName",value:function(){return"animation"}},{key:"destroy",value:function(){}}],[{key:"stop",value:function(e,t){e.style.animation="",e.removeAttribute("e-animate");var n=e.getAttribute("e-animation-id");if(n){var i=parseInt(n,10);cancelAnimationFrame(i),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)}},{key:"delayAnimation",value:function(e){e.delay?setTimeout((function(){SD.applyAnimation(e)}),e.delay):SD.applyAnimation(e)}},{key:"applyAnimation",value:function(e){var t=this;e.timeStamp=0;var n=0,i=0,a=0,r=e.duration;e.element.setAttribute("e-animate","true"),function s(l){try{if(l){a=0===a?l:a,e.timeStamp=l+e.timeStamp-a,a=l,!n&&e.begin&&e.begin.call(t,e),n+=1;var o=e.timeStamp/n;e.timeStamp<r&&e.timeStamp+o<r&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(s)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else performance.now(),i=requestAnimationFrame(s),e.element.setAttribute("e-animation-id",i.toString())}catch($K){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,$K)}}()}}]),n}(lD),OD([bD("FadeIn")],ED.prototype,"name",void 0),OD([bD(400)],ED.prototype,"duration",void 0),OD([bD("ease")],ED.prototype,"timingFunction",void 0),OD([bD(0)],ED.prototype,"delay",void 0),OD([wD()],ED.prototype,"progress",void 0),OD([wD()],ED.prototype,"begin",void 0),OD([wD()],ED.prototype,"end",void 0),OD([wD()],ED.prototype,"fail",void 0),ED=SD=OD([_D],ED));function AD(e,t,n){var i=function(e){return{selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350}}(t);return!1===i.rippleFlag||void 0===i.rippleFlag&&!RD?Function:(e.setAttribute("data-ripple","true"),$I.add(e,"mousedown",DD,{parent:e,rippleOptions:i}),$I.add(e,"mouseup",MD,{parent:e,rippleOptions:i,done:n}),$I.add(e,"mouseleave",TD,{parent:e,rippleOptions:i}),KI.isPointer&&$I.add(e,"transitionend",TD,{parent:e,rippleOptions:i}),function(){e.removeAttribute("data-ripple"),$I.remove(e,"mousedown",DD),$I.remove(e,"mouseup",MD),$I.remove(e,"mouseleave",TD),$I.remove(e,"transitionend",TD)})}function DD(e){var t=e.target,n=this.rippleOptions.selector,i=n?nD(t,n):t;if(!(!i||this.rippleOptions&&nD(t,this.rippleOptions.ignore))){var a=i.getBoundingClientRect(),r=e.pageX-document.body.scrollLeft,s=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),l=Math.max(Math.abs(r-a.left),Math.abs(r-a.right)),o=Math.max(Math.abs(s-a.top),Math.abs(s-a.bottom)),u=Math.sqrt(l*l+o*o),c=2*u+"px",h=r-a.left-u,d=s-a.top-u;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(h=0,d=0,c="100%"),i.classList.add("e-ripple");var p=qA("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+h+"px;top: "+d+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(p),window.getComputedStyle(p).getPropertyValue("opacity"),p.style.transform="scale(1)",i!==this.parent&&$I.add(i,"mouseleave",TD,{parent:this.parent,rippleOptions:this.rippleOptions})}}function MD(e){PD(e,this)}function TD(e){PD(e,this)}function PD(e,t){var n=t.rippleOptions.duration,i=e.target,a=t.rippleOptions.selector,r=a?nD(i,a):i;if(r&&(!r||-1!==r.className.indexOf("e-ripple"))){var s=tD(".e-ripple-element",r),l=s[s.length-1];l&&(l.style.opacity="0.5"),t.parent!==r&&$I.remove(r,"mouseleave",TD),setTimeout((function(){l&&l.parentNode&&l.parentNode.removeChild(l),r.getElementsByClassName("e-ripple-element").length||r.classList.remove("e-ripple"),t.done&&t.done(e)}),n)}}var LD,ND,RD=!1,FD=function(){function e(t){_classCallCheck(this,e),this.loadedModules=[],this.parent=t}return _createClass(e,[{key:"inject",value:function(e,t){var n=e.length;if(0!==n){this.loadedModules.length&&this.clearUnusedModule(e);for(var i=0;i<n;i++){var a,r=e[i],s=_createForOfIteratorHelper(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,o=r.member;if(l.prototype.getModuleName()===r.member&&!this.isModuleLoaded(o)){var u=WO(l,r.args),c=this.getMemberName(o);GO(c,r.isProperty?l:u,this.parent);var h=r;h.member=c,this.loadedModules.push(h)}}}catch(d){s.e(d)}finally{s.f()}}}else this.clean()}},{key:"clean",value:function(){var e,t=_createForOfIteratorHelper(this.loadedModules);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isProperty||YO(n.member,this.parent).destroy()}}catch(i){t.e(i)}finally{t.f()}this.loadedModules=[]}},{key:"clearUnusedModule",value:function(e){var t,n=this,i=e.map((function(e){return n.getMemberName(e.member)})),a=_createForOfIteratorHelper(this.loadedModules.filter((function(e){return-1===i.indexOf(e.member)})));try{for(a.s();!(t=a.n()).done;){var r=t.value;r.isProperty||YO(r.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(r),1),XO(this.parent,r.member)}}catch(s){a.e(s)}finally{a.f()}}},{key:"getMemberName",value:function(e){return e[0].toLowerCase()+e.substring(1)+"Module"}},{key:"isModuleLoaded",value:function(e){var t,n=_createForOfIteratorHelper(this.loadedModules);try{for(n.s();!(t=n.n()).done;){if(t.value.member===this.getMemberName(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}}]),e}(),HD=function(){function e(t,n,i,a){_classCallCheck(this,e),this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=YO("callChildDataBind",lD),this.parentObj=t,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=n,this.isParentArray=a,this.setProperties(i,!0)}return _createClass(e,[{key:"updateChange",value:function(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)}},{key:"updateTimeOut",value:function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(e)}}}},{key:"clearChanges",value:function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}}},{key:"setProperties",value:function(e,t){!0===t?($O(this,e),this.updateChange(!1,this.propName),this.clearChanges()):$O(this,e)}},{key:"dataBind",value:function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(GO(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),GO(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()}},{key:"saveChanges",value:function(e,t,n,i){this.controlParent.isProtectedOnChange||(i||this.serverDataBind(e,t,!0),this.oldProperties[e]=n,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())}},{key:"serverDataBind",value:function(e,t,n,i){}},{key:"getParentKey",value:function(e){var t="",n=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var i=this.parentObj[this.propName].length;i=e?i:i>0?i-1:0,n+=t=-1!==t?"-"+t:"-"+i}return this.controlParent!==this.parentObj&&(n=this.parentObj.getParentKey()+"."+this.propName+t),n}}]),e}(),BD=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},VD=0,jD=0,zD=(ND=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).randomId=function(){if("undefined"!=typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}(),a.isStringTemplate=!1,a.needsID=!1,a.isReactHybrid=!1,JO(a.enableRtl)&&a.setProperties({enableRtl:!1},!0),JO(a.locale)&&a.setProperties({locale:AI},!0),a.moduleLoader=new FD(_assertThisInitialized(a)),a.localObserver=new EI(_assertThisInitialized(a)),OI.on("notifyExternalChange",a.detectFunction,_assertThisInitialized(a),a.randomId),QO(i)||a.appendTo(),a}return _createClass(n,[{key:"requiredModules",value:function(){return[]}},{key:"destroy",value:function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(WA([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.moduleLoader.clean(),OI.off("notifyExternalChange",this.detectFunction,this.randomId)))}},{key:"refresh",value:function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new EI(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1}},{key:"accessMount",value:function(){this.mount&&!this.isReactHybrid&&this.mount()}},{key:"getRootElement",value:function(){return this.isReactHybrid?this.actualElement:this.element}},{key:"appendTo",value:function(e){if(JO(e)||"string"!=typeof e?JO(e)||(this.element=e):this.element=document.querySelector(e),!JO(this.element)){var t="e-"+this.getModuleName().toLowerCase();UA([this.element],["e-control",t]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var i=YO("ej2_instances",this.element);i&&-1!==i.indexOf(this)||_get(_getPrototypeOf(n.prototype),"addInstance",this).call(this),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}}},{key:"renderComplete",value:function(e){this.isRendered=!0}},{key:"dataBind",value:function(){this.injectModules(),_get(_getPrototypeOf(n.prototype),"dataBind",this).call(this)}},{key:"on",value:function(e,t,n){if("string"==typeof e)this.localObserver.on(e,t,n);else{var i,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var r=i.value;this.localObserver.on(r.event,r.handler,r.context)}}catch(s){a.e(s)}finally{a.f()}}}},{key:"off",value:function(e,t){if("string"==typeof e)this.localObserver.off(e,t);else{var n,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.localObserver.off(a.event,a.handler)}}catch(r){i.e(r)}finally{i.f()}}}},{key:"notify",value:function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)}},{key:"getInjectedModules",value:function(){return this.injectedModules}},{key:"createElement",value:function(e,t,n){return n&&this.isReactHybrid?(t&&(t={}),t["data-id"]=wA(),SA.createElement(e,t)):qA(e,t)}},{key:"triggerStateChange",value:function(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})}},{key:"injectModules",value:function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)}},{key:"detectFunction",value:function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])}},{key:"mergePersistData",value:function(){var e=window.localStorage.getItem(this.getModuleName()+this.element.id);JO(e)||""===e||this.setProperties(JSON.parse(e),!0)}},{key:"setPersistData",value:function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())}},{key:"clearTemplate",value:function(e,t){}},{key:"getUniqueID",value:function(e){return this.isHistoryChanged()&&(VD=0),LD=this.pageID(location.href),jD=history.length,e+"_"+LD+"_"+VD++}},{key:"pageID",value:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)}},{key:"isHistoryChanged",value:function(){return LD!==this.pageID(location.href)||jD!==history.length}},{key:"addOnPersist",value:function(e){var t,n=this,i={},a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var r,s=t.value;QO(r=YO(s,this))||GO(s,this.getActualProperties(r),i)}}catch(l){a.e(l)}finally{a.f()}return JSON.stringify(i,(function(e,t){return n.getActualProperties(t)}))}},{key:"getActualProperties",value:function(e){return e instanceof HD?YO("properties",e):e}},{key:"ignoreOnPersist",value:function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))}},{key:"iterateJsonProperties",value:function(e,t){for(var n=this,i={},a=function(){var a=s[r];if(-1===t.indexOf(a)){var l=e[a];if("object"!=typeof l||l instanceof Array)i[a]=l;else{var o=t.filter((function(e){return new RegExp(a+".").test(e)})).map((function(e){return e.replace(a+".","")}));i[a]=n.iterateJsonProperties(n.getActualProperties(l),o)}}},r=0,s=Object.keys(e);r<s.length;r++)a();return i}}],[{key:"Inject",value:function(){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0;i<t.length;i++)-1===this.prototype.injectedModules.indexOf(t[i])&&this.prototype.injectedModules.push(t[i])}}]),n}(lD),BD([bD(!1)],ND.prototype,"enablePersistence",void 0),BD([bD()],ND.prototype,"enableRtl",void 0),BD([bD()],ND.prototype,"locale",void 0),ND=BD([_D],ND));"undefined"!=typeof window&&window.addEventListener("popstate",(function(){VD=0}));var qD,UD,WD=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},YD={left:0,top:0,bottom:0,right:0},GD={isDragged:!1},XD=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD);return WD([bD(0)],e.prototype,"left",void 0),WD([bD(0)],e.prototype,"top",void 0),e}(),KD=function(){var e=qD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,i,e)).dragLimit=qD.getDefaultPosition(),a.borderWidth=qD.getDefaultPosition(),a.padding=qD.getDefaultPosition(),a.diffX=0,a.prevLeft=0,a.prevTop=0,a.dragProcessStarted=!1,a.tapHoldTimer=0,a.externalInitialize=!1,a.diffY=0,a.parentScrollX=0,a.parentScrollY=0,a.droppables={},a.bind(),a}return _createClass(n,[{key:"bind",value:function(){this.toggleEvents(),KI.isIE&&UA([this.element],"e-block-touch"),this.droppables[this.scope]={}}},{key:"toggleEvents",value:function(e){var t;QO(this.handle)||(t=eD(this.handle,this.element));var n=this.enableTapHold&&KI.isDevice&&KI.isTouch?this.mobileInitialize:this.initialize;e?$I.remove(t||this.element,KI.touchStartEvent,n):$I.add(t||this.element,KI.touchStartEvent,n,this)}},{key:"mobileInitialize",value:function(e){var t=this,n=e.currentTarget;this.tapHoldTimer=setTimeout((function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,n)}),this.tapHoldThreshold),$I.add(document,KI.touchMoveEvent,this.removeTapholdTimer,this),$I.add(document,KI.touchEndEvent,this.removeTapholdTimer,this)}},{key:"removeTapholdTimer",value:function(){clearTimeout(this.tapHoldTimer),$I.remove(document,KI.touchMoveEvent,this.removeTapholdTimer),$I.remove(document,KI.touchEndEvent,this.removeTapholdTimer)}},{key:"getScrollableParent",value:function(e,t){return JO(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY):this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),JO(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)}},{key:"getScrollableValues",value:function(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")}},{key:"initialize",value:function(e,t){if(this.currentStateTarget=e.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){var n=this.abort;"string"==typeof n&&(n=[n]);for(var i=0;i<n.length;i++)if(!JO(nD(e.target,n[i])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!QO(e.changedTouches)&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var a=this.getCoordinates(e);if(this.initialPosition={x:a.pageX,y:a.pageY},!this.clone){var r=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=a.pageX-(r.left+this.parentScrollX),this.relativeYPosition=a.pageY-(r.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):($I.add(document,KI.touchMoveEvent,this.intDragStart,this),$I.add(document,KI.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,$I.trigger(document.documentElement,KI.touchStartEvent,e)}}},{key:"intDragStart",value:function(e){this.removeTapholdTimer();var t=!QO(e.changedTouches);if(!t||1===e.changedTouches.length){t&&e.preventDefault();var n,i=this.getCoordinates(e),a=getComputedStyle(this.element);this.margin={left:parseInt(a.marginLeft,10),top:parseInt(a.marginTop,10),right:parseInt(a.marginRight,10),bottom:parseInt(a.marginBottom,10)};var r=this.element;if(this.clone&&this.dragTarget){var s=nD(e.target,this.dragTarget);JO(s)||(r=s)}this.offset=this.calculateParentPosition(r),this.position=this.getMousePosition(e,this.isDragScroll);var l=this.initialPosition.x-i.pageX,o=this.initialPosition.y-i.pageY;if(Math.sqrt(l*l+o*o)>=this.distance||this.externalInitialize){var u=this.getHelperElement(e);if(!u||JO(u))return;var c=this.helperElement=u;if(this.parentClientRect=this.calculateParentPosition(c.offsetParent),this.dragStart){var h={event:e,element:r,target:this.getProperTargetElement(e),bindEvents:null,dragElement:c};this.trigger("dragStart",h)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),n={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var d=this.getProcessedPositionValue({top:n.top-this.diffY+"px",left:n.left-this.diffX+"px"});this.dragElePosition={top:n.top,left:n.left},iD(c,this.getDragPosition({position:"absolute",left:d.left,top:d.top})),$I.remove(document,KI.touchMoveEvent,this.intDragStart),$I.remove(document,KI.touchEndEvent,this.intDestroy),this.bindDragEvents(c)}}}},{key:"bindDragEvents",value:function(e){GA(e)?($I.add(document,KI.touchMoveEvent,this.intDrag,this),$I.add(document,KI.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}},{key:"elementInViewport",value:function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)this.top+=(e=e.offsetParent).offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth}},{key:"getProcessedPositionValue",value:function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e}},{key:"calculateParentPosition",value:function(e){if(JO(e))return{left:0,top:0};var t=e.getBoundingClientRect(),n=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(n.marginLeft,10),top:t.top+window.pageYOffset-parseInt(n.marginTop,10)}}},{key:"intDrag",value:function(e){if(QO(e.changedTouches)||1===e.changedTouches.length){var t,n;this.position=this.getMousePosition(e,this.isDragScroll);var i=this.getDocumentWidthHeight("Height");i<this.position.top&&(this.position.top=i);var a=this.getDocumentWidthHeight("Width");if(a<this.position.left&&(this.position.left=a),this.drag){var r=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:r})}var s=this.checkTargetElement(e);if(s.target&&s.instance){var l=!0;this.hoverObject&&(this.hoverObject.instance!==s.instance?this.triggerOutFunction(e,s):l=!1),l&&(s.instance.dragData[this.scope]=this.droppables[this.scope],s.instance.intOver(e,s.target),this.hoverObject=s)}else this.hoverObject&&this.triggerOutFunction(e,s);var o=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var u=this.parentClientRect.left,c=this.parentClientRect.top,h=this.getCoordinates(e),d=h.pageX,p=h.pageY,f=this.position.left-this.diffX,m=this.position.top-this.diffY;if(this.dragArea){var g=getComputedStyle(o);if(this.pageX!==d||this.skipDistanceCheck){var v=o.offsetWidth+(parseFloat(g.marginLeft)+parseFloat(g.marginRight));t=this.dragLimit.left>f&&f>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<f+v&&f>0?f-(f-this.dragLimit.right)+window.pageXOffset-v:f<0?this.dragLimit.left:f}if(this.pageY!==p||this.skipDistanceCheck){var y=o.offsetHeight+(parseFloat(g.marginTop)+parseFloat(g.marginBottom));n=this.dragLimit.top>m&&m>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<m+y&&m>0?m-(m-this.dragLimit.bottom)+window.pageYOffset-y:m<0?this.dragLimit.top:m}}else t=f,n=m;var b,k,C=c+this.borderWidth.top,w=u+this.borderWidth.left;this.dragProcessStarted&&(JO(n)&&(n=this.prevTop),JO(t)&&(t=this.prevLeft)),this.dragArea?(b=n-C<0?this.dragLimit.top:n-C,k=t-w<0?this.dragElePosition.left:t-w):(b=n-C,k=t-w);var _=this.getProcessedPositionValue({top:b+"px",left:k+"px"});iD(o,this.getDragPosition(_)),!this.elementInViewport(o)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=n,this.position.left=t,this.position.top=n,this.pageX=d,this.pageY=p}}},{key:"triggerOutFunction",value:function(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null}},{key:"getDragPosition",value:function(e){var t=ZO({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t}},{key:"getDocumentWidthHeight",value:function(e){var t=document.body,n=document.documentElement;return Math.max(t["scroll"+e],n["scroll"+e],t["offset"+e],n["offset"+e],n["client"+e])}},{key:"intDragStop",value:function(e){if(this.dragProcessStarted=!1,QO(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var n=this.checkTargetElement(e);n.target&&n.instance&&(n.instance.dragStopCalled=!0,n.instance.dragData[this.scope]=this.droppables[this.scope],n.instance.intDrop(e,n.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}}},{key:"intDestroy",value:function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),$I.remove(document,KI.touchMoveEvent,this.intDragStart),$I.remove(document,KI.touchEndEvent,this.intDragStop),$I.remove(document,KI.touchEndEvent,this.intDestroy),$I.remove(document,KI.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)}},{key:"onPropertyChanged",value:function(e,t){}},{key:"getModuleName",value:function(){return"draggable"}},{key:"isDragStarted",value:function(e){return e&&(GD.isDragged=!GD.isDragged),GD.isDragged}},{key:"setDragArea",value:function(){var e,t,n,i=0,a=0;if(n="string"==typeof this.dragArea?eD(this.dragArea):this.dragArea){var r=n.getBoundingClientRect();e=n.scrollWidth?n.scrollWidth:r.right-r.left,t=n.scrollHeight?n.scrollHeight:r.bottom-r.top;for(var s=["Top","Left","Bottom","Right"],l=getComputedStyle(n),o=0;o<s.length;o++){var u=s[o],c=l["border"+u+"Width"],h=l["padding"+u],d=u.toLowerCase();this.borderWidth[d]=isNaN(parseFloat(c))?0:parseFloat(c),this.padding[d]=isNaN(parseFloat(h))?0:parseFloat(h)}i=r.top,a=r.left,this.dragLimit.left=a+this.borderWidth.left+this.padding.left,this.dragLimit.top=n.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=a+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}}},{key:"getProperTargetElement",value:function(e){var t,n=this.getCoordinates(e),i=this.helperElement.style.pointerEvents||"";return nI(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=i):t=e.target,t}},{key:"getMousePosition",value:function(e,t){var n,i,a=void 0!==e.srcElement?e.srcElement:e.target,r=this.getCoordinates(e),s=JO(a.offsetParent);return t?(n=this.clone?r.pageX:r.pageX+(s?0:a.offsetParent.scrollLeft)-this.relativeXPosition,i=this.clone?r.pageY:r.pageY+(s?0:a.offsetParent.scrollTop)-this.relativeYPosition):(n=this.clone?r.pageX:r.pageX+window.pageXOffset-this.relativeXPosition,i=this.clone?r.pageY:r.pageY+window.pageYOffset-this.relativeYPosition),{left:n-(this.margin.left+this.cursorAt.left),top:i-(this.margin.top+this.cursorAt.top)}}},{key:"getCoordinates",value:function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e}},{key:"getHelperElement",value:function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=qA("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t}},{key:"setGlobalDroppables",value:function(e,t,n){this.droppables[this.scope]=e?null:{draggable:t,helper:n,draggedElement:this.element}}},{key:"checkTargetElement",value:function(e){var t=this.getProperTargetElement(e),n=this.getDropInstance(t);if(!n&&t&&!JO(t.parentNode)){var i=nD(t.parentNode,".e-droppable")||t.parentElement;i&&(n=this.getDropInstance(i))}return{target:t,instance:n}}},{key:"getDropInstance",value:function(e){var t,n=e&&e.ej2_instances;if(n){var i,a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;if("droppable"===r.getModuleName()){t=r;break}}}catch(s){a.e(s)}finally{a.f()}}return t}},{key:"destroy",value:function(){this.toggleEvents(!0),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}],[{key:"getDefaultPosition",value:function(){return ZO({},YD)}}]),n}(lD);return WD([kD({},XD)],e.prototype,"cursorAt",void 0),WD([bD(!0)],e.prototype,"clone",void 0),WD([bD()],e.prototype,"dragArea",void 0),WD([bD()],e.prototype,"isDragScroll",void 0),WD([wD()],e.prototype,"drag",void 0),WD([wD()],e.prototype,"dragStart",void 0),WD([wD()],e.prototype,"dragStop",void 0),WD([bD(1)],e.prototype,"distance",void 0),WD([bD()],e.prototype,"handle",void 0),WD([bD()],e.prototype,"abort",void 0),WD([bD()],e.prototype,"helper",void 0),WD([bD("default")],e.prototype,"scope",void 0),WD([bD("")],e.prototype,"dragTarget",void 0),WD([bD()],e.prototype,"axis",void 0),WD([bD()],e.prototype,"queryPositionInfo",void 0),WD([bD(!1)],e.prototype,"enableTailMode",void 0),WD([bD(!1)],e.prototype,"skipDistanceCheck",void 0),WD([bD(!0)],e.prototype,"preventDefault",void 0),WD([bD(!1)],e.prototype,"enableAutoScroll",void 0),WD([bD(!1)],e.prototype,"enableTapHold",void 0),WD([bD(750)],e.prototype,"tapHoldThreshold",void 0),e=qD=WD([_D],e)}(),$D=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ZD=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,i,e)).mouseOver=!1,a.dragData={},a.dragStopCalled=!1,a.bind(),a}return _createClass(n,[{key:"bind",value:function(){this.wireEvents()}},{key:"wireEvents",value:function(){$I.add(this.element,KI.touchEndEvent,this.intDrop,this)}},{key:"onPropertyChanged",value:function(e,t){}},{key:"getModuleName",value:function(){return"droppable"}},{key:"intOver",value:function(e,t){this.mouseOver||(this.trigger("over",{event:e,target:t,dragData:this.dragData[this.scope]}),this.mouseOver=!0)}},{key:"intOut",value:function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)}},{key:"intDrop",value:function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var n,i=!0,a=this.dragData[this.scope],r=!!a&&a.helper&&GA(a.helper);r&&(n=this.isDropArea(e,a.helper,t),this.accept&&(i=rD(a.helper,this.accept))),r&&this.drop&&n.canDrop&&i&&this.trigger("drop",{event:e,target:n.target,droppedElement:a.helper,dragData:a}),this.mouseOver=!1}}},{key:"isDropArea",value:function(e,t,n){var i={canDrop:!0,target:n||e.target},a="touchend"===e.type;if(a||i.target===t){t.style.display="none";var r=a?e.changedTouches[0]:e,s=document.elementFromPoint(r.clientX,r.clientY);i.canDrop=!1,i.canDrop=nI(s,this.element),i.canDrop&&(i.target=s),t.style.display=""}return i}},{key:"destroy",value:function(){$I.remove(this.element,KI.touchEndEvent,this.intDrop),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(lD);return $D([bD()],e.prototype,"accept",void 0),$D([bD("default")],e.prototype,"scope",void 0),$D([wD()],e.prototype,"drop",void 0),$D([wD()],e.prototype,"over",void 0),$D([wD()],e.prototype,"out",void 0),e=$D([_D],e)}(),JD=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},QD={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},eM=function(){var e=UD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,i,e)).keyPressHandler=function(e){for(var t=e.altKey,n=e.ctrlKey,i=e.shiftKey,r=e.which,s=0,l=Object.keys(a.keyConfigs);s<l.length;s++){var o,u=l[s],c=_createForOfIteratorHelper(a.keyConfigs[u].split(","));try{for(c.s();!(o=c.n()).done;){var h=o.value,d=UD.getKeyConfigData(h.trim());t===d.altKey&&n===d.ctrlKey&&i===d.shiftKey&&r===d.keyCode&&(e.action=u,a.keyAction&&a.keyAction(e))}}catch(p){c.e(p)}finally{c.f()}}},a.bind(),a}return _createClass(n,[{key:"destroy",value:function(){this.unwireEvents(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"onPropertyChanged",value:function(e,t){}},{key:"bind",value:function(){this.wireEvents()}},{key:"getModuleName",value:function(){return"keyboard"}},{key:"wireEvents",value:function(){this.element.addEventListener(this.eventName,this.keyPressHandler)}},{key:"unwireEvents",value:function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)}}],[{key:"getKeyConfigData",value:function(e){if(e in this.configCache)return this.configCache[e];var t=e.toLowerCase().split("+"),n={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return n.keyCode=t[t.length-1].length>1&&Number(t[t.length-1])?Number(t[t.length-1]):UD.getKeyCode(t[t.length-1]),UD.configCache[e]=n,n}},{key:"getKeyCode",value:function(e){return QD[e]||e.toUpperCase().charCodeAt(0)}}]),n}(lD);return e.configCache={},JD([bD({})],e.prototype,"keyConfigs",void 0),JD([bD("keyup")],e.prototype,"eventName",void 0),JD([wD()],e.prototype,"keyAction",void 0),e=UD=JD([_D],e)}(),tM=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.controlName=t,this.localeStrings=n,this.setLocale(i||AI)}return _createClass(e,[{key:"setLocale",value:function(t){var n=this.intGetControlConstant(e.locale,t);this.currentLocale=n||this.localeStrings}},{key:"getConstant",value:function(e){return JO(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]}},{key:"intGetControlConstant",value:function(e,t){return e[t]?e[t][this.controlName]:null}}],[{key:"load",value:function(e){this.locale=ZO(this.locale,e,{},!0)}}]),e}();return e.locale={},e}(),nM=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},iM=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD);return nM([bD(50)],e.prototype,"swipeThresholdDistance",void 0),e}(),aM=/(Up|Down)/,rM=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,i,e)).touchAction=!0,a.tapCount=0,a.startEvent=function(e){if(!0===a.touchAction){var t=a.updateChangeTouches(e);void 0!==e.changedTouches&&(a.touchAction=!1),a.isTouchMoved=!1,a.movedDirection="",a.startPoint=a.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},a.startEventData=t,a.hScrollLocked=a.vScrollLocked=!1,a.tStampStart=Date.now(),a.timeOutTapHold=setTimeout((function(){a.tapHoldEvent(e)}),a.tapHoldThreshold),$I.add(a.element,KI.touchMoveEvent,a.moveEvent,_assertThisInitialized(a)),$I.add(a.element,KI.touchEndEvent,a.endEvent,_assertThisInitialized(a)),$I.add(a.element,KI.touchCancelEvent,a.cancelEvent,_assertThisInitialized(a))}},a.moveEvent=function(e){var t=a.updateChangeTouches(e);a.movedPoint=t,a.isTouchMoved=!(t.clientX===a.startPoint.clientX&&t.clientY===a.startPoint.clientY);var n={};a.isTouchMoved&&(clearTimeout(a.timeOutTapHold),a.calcScrollPoints(e),n=ZO(n,{},{startEvents:a.startEventData,originalEvent:e,startX:a.startPoint.clientX,startY:a.startPoint.clientY,distanceX:a.distanceX,distanceY:a.distanceY,scrollDirection:a.scrollDirection,velocity:a.getVelocity(t)}),a.trigger("scroll",n),a.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},a.cancelEvent=function(e){clearTimeout(a.timeOutTapHold),clearTimeout(a.timeOutTap),a.tapCount=0,a.swipeFn(e),$I.remove(a.element,KI.touchCancelEvent,a.cancelEvent)},a.endEvent=function(e){a.swipeFn(e),a.isTouchMoved||"function"==typeof a.tap&&(a.trigger("tap",{originalEvent:e,tapCount:++a.tapCount}),a.timeOutTap=setTimeout((function(){a.tapCount=0}),a.tapThreshold)),a.modeclear()},a.swipeFn=function(e){clearTimeout(a.timeOutTapHold),clearTimeout(a.timeOutTap);var t=a.updateChangeTouches(e),n=t.clientX-a.startPoint.clientX,i=t.clientY-a.startPoint.clientY;n=Math.floor(n<0?-1*n:n),i=Math.floor(i<0?-1*i:n),a.isTouchMoved=n>1||i>1,a.endPoint=t,a.calcPoints(e);var r={originalEvent:e,startEvents:a.startEventData,startX:a.startPoint.clientX,startY:a.startPoint.clientY,distanceX:a.distanceX,distanceY:a.distanceY,swipeDirection:a.movedDirection,velocity:a.getVelocity(t)};if(a.isTouchMoved){var s,l=a.swipeSettings.swipeThresholdDistance;s=ZO(s,a.defaultArgs,r);var o=!1,u=a.element,c=a.isScrollable(u),h=aM.test(a.movedDirection);(l<a.distanceX&&!h||l<a.distanceY&&h)&&(o=!c||a.checkSwipe(u,h)),o&&a.trigger("swipe",s)}a.modeclear()},a.modeclear=function(){a.modeClear=setTimeout((function(){a.touchAction=!0}),"function"!=typeof a.tap?0:20),a.lastTapTime=(new Date).getTime(),$I.remove(a.element,KI.touchMoveEvent,a.moveEvent),$I.remove(a.element,KI.touchEndEvent,a.endEvent),$I.remove(a.element,KI.touchCancelEvent,a.cancelEvent)},a.bind(),a}return _createClass(n,[{key:"onPropertyChanged",value:function(e,t){}},{key:"bind",value:function(){this.wireEvents(),KI.isIE&&this.element.classList.add("e-block-touch")}},{key:"destroy",value:function(){this.unwireEvents(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"wireEvents",value:function(){$I.add(this.element,KI.touchStartEvent,this.startEvent,this)}},{key:"unwireEvents",value:function(){$I.remove(this.element,KI.touchStartEvent,this.startEvent)}},{key:"getModuleName",value:function(){return"touch"}},{key:"isScrollable",value:function(e){var t=getComputedStyle(e);return!!/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}},{key:"tapHoldEvent",value:function(e){var t;this.tapCount=0,this.touchAction=!0,$I.remove(this.element,KI.touchMoveEvent,this.moveEvent),$I.remove(this.element,KI.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),$I.remove(this.element,KI.touchCancelEvent,this.cancelEvent)}},{key:"calcPoints",value:function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"}},{key:"calcScrollPoints",value:function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)}},{key:"getVelocity",value:function(e){var t=e.clientX,n=e.clientY,i=Date.now(),a=t-this.startPoint.clientX,r=n-this.startPoint.clientX,s=i-this.tStampStart;return Math.sqrt(a*a+r*r)/s}},{key:"checkSwipe",value:function(e,t){var n=["scroll","offset"],i=t?["Height","Top"]:["Width","Left"];return e[n[0]+i[0]]<=e[n[1]+i[0]]||0===e[n[0]+i[1]]||e[n[1]+i[0]]+e[n[0]+i[1]]>=e[n[0]+i[0]]}},{key:"updateChangeTouches",value:function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e}}]),n}(lD);return nM([wD()],e.prototype,"tap",void 0),nM([wD()],e.prototype,"tapHold",void 0),nM([wD()],e.prototype,"swipe",void 0),nM([wD()],e.prototype,"scroll",void 0),nM([bD(350)],e.prototype,"tapThreshold",void 0),nM([bD(750)],e.prototype,"tapHoldThreshold",void 0),nM([kD({},iM)],e.prototype,"swipeSettings",void 0),e=nM([_D],e)}(),sM=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],lM=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],oM=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"],uM=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"beforeSanitize",value:function(){return{selectors:{tags:sM,attributes:lM}}}},{key:"sanitize",value:function(e){var t=this.beforeSanitize();return this.serializeValue(t,e)}},{key:"serializeValue",value:function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var n=this.wrapElement.innerHTML;return this.removeElement(),n}},{key:"removeElement",value:function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var n=e[t].attributes,i=0;i<n.length;i++)this.wrapElement.children[t].removeAttribute(n[i].localName)}},{key:"removeXssTags",value:function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach((function(e){ZA(e)}))}},{key:"removeJsEvents",value:function(){var e=this.wrapElement.querySelectorAll("["+oM.join("],[")+"]");e.length>0&&e.forEach((function(e){oM.forEach((function(t){e.hasAttribute(t)&&e.removeAttribute(t)}))}))}},{key:"removeXssAttrs",value:function(){var e=this;this.removeAttrs.forEach((function(t,n){var i=e.wrapElement.querySelectorAll(t.selector);i.length>0&&i.forEach((function(e){e.removeAttribute(t.attribute)}))}))}}]),e}();function cM(e,t,n){var i={};if(e&&e.length){for(var a=0,r=e;a<r.length;a++){var s=r[a];!0===n?(t.propCollection[s]=new Ma(!1),t[s]=t.propCollection[s]):i[s]=new Ma(!1)}!0!==n&&t.setProperties(i,!0)}}function hM(e,t,n){var i=Object.keys(e.registeredTemplate);if(i.length)for(var a=t&&t.filter((function(e){return!/\./g.test(e)})),r=0,s=a&&a||i;r<s.length;r++){var l=s[r];if(n&&n.length)for(var o=0;o<n.length;o++)for(var u=0;u<e.registeredTemplate.template.length;u++)e.registeredTemplate.template[u].rootNodes[0]===n[o]&&(d=e.registeredTemplate[l])[u].destroy();else for(var c=0,h=e.registeredTemplate[l];c<h.length;c++){var d;if(!(d=h[c]).destroyed){if(d._view){var p=d._view.renderer.parentNode(d.rootNodes[0]);for(u=0;u<d.rootNodes.length;u++)p.appendChild(d.rootNodes[u])}d.destroy()}}delete e.registeredTemplate[l]}for(var f=function(e){e.instance&&e.instance.clearTemplate(t&&t.filter((function(t){return!!new RegExp(e.name).test(t)})))},m=0,g=e.tagObjects;m<g.length;m++)f(g[m])}function dM(e,t,n){for(var i=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=n||{},r=0;r<i.length;r++){var s=i[r];r+1===i.length?a[s]=void 0===t?{}:t:void 0===a[s]&&(a[s]={}),a=a[s]}return a}var pM=function(){function e(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return e.prototype.ngOnInit=function(){this.registeredTemplate={};for(var e=0,t=this.tags;e<t.length;e++){var n=t[e],i=YO("child"+n.substring(0,1).toUpperCase()+n.substring(1),this);i&&this.tagObjects.push({instance:i,name:n})}for(var a=Object.keys(this),r=0,s=a=a.filter((function(e){return/Ref$/i.test(e)}));r<s.length;r++){var l=s[r].replace("Ref","");GO(l.replace("_","."),YO(l,this),this.propCollection)}var o=Object.keys(this);if(this.directivePropList){for(var u=0;u<this.directivePropList.length;u++){var c=this.directivePropList[u];-1!==o.indexOf(c)&&GO(c,YO(c,this),this.propCollection)}this.hasChanges=!0}},e.prototype.registerEvents=function(e){cM(e,this,!0)},e.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this.propCollection[i]=e[i].currentValue}this.isUpdated=!1,this.hasChanges=!0},e.prototype.clearTemplate=function(e){hM(this,e)},e.prototype.getProperties=function(){for(var e=0,t=this.tagObjects;e<t.length;e++){var n=t[e];this.propCollection[n.name]=n.instance.getProperties()}return this.propCollection},e.prototype.isChanged=function(){for(var e=this.hasChanges,t=0,n=this.tagObjects;t<n.length;t++)e=e||n[t].instance.hasChanges;return e},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=Object.keys(this),t=0,n=e=e.filter((function(e){return/Ref$/i.test(e)}));t<n.length;t++){var i=n[t].replace("Ref","");GO(i.replace("_","."),YO(i,this),this.propCollection)}},e.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},e}(),fM=function(){function e(e){this.list=[],this.hasChanges=!1,this.propertyName=e}return e.prototype.ngOnInit=function(){this.isInitChanges=!0},e.prototype.ngAfterContentInit=function(){var e=this,t=0;this.list=this.children.map((function(n){return n.index=t++,n.property=e.propertyName,n})),this.hasChanges=!0},e.prototype.getProperties=function(){for(var e=[],t=0,n=this.list;t<n.length;t++)e.push(n[t].getProperties());return e},e.prototype.isChanged=function(){var e=this,t=!1,n=0,i=!1,a=this.children.map((function(e){return e}));if(this.list.length===this.children.length)for(var r=0;r<this.list.length;r++)if(this.list[r].propCollection.dataSource)this.list[r].dataSource&&this.list[r].propCollection.dataSource!==this.list[r].dataSource&&(this.list[r].propCollection.dataSource=this.list[r].dataSource,this.list[r].hasChanges=!0),i=JSON.stringify(this.list[r].propCollection.dataSource)!==JSON.stringify(a[r].propCollection.dataSource);else for(var s=Object.keys(this.list[r].propCollection),l=0;l<s.length;l++)if(this.list[r].propCollection[s[l]]&&"TemplateRef_"===this.list[r].propCollection[s[l]].constructor.name){i=!0;break}this.hasNewChildren=!(this.list.length===this.children.length&&!i)||null,this.hasNewChildren&&(this.list=this.children.map((function(t){return t.index=n++,t.property=e.propertyName,t})));for(var o=0,u=this.list;o<u.length;o++)t=t||u[o].hasChanges;return!!this.list.length&&t},e.prototype.clearTemplate=function(e){for(var t=this,n=0,i=this.list;n<i.length;n++)i[n].clearTemplate(e&&e.map((function(e){return new RegExp(t.propertyName).test(e)?e.replace(t.propertyName+".",""):e})))},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=0;e<this.list.length;e++)this.list[e].isUpdated=!0},e.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},e}(),mM=function(){function e(){this.isProtectedOnChange=!0}return e.prototype.saveChanges=function(e,t,n){if(!this.isProtectedOnChange){this.oldProperties[e]=n,this.changedProperties[e]=t,this.finalUpdate();var i=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(i)}}},e.prototype.ngOnInit=function(e){var t=e||this;t.registeredTemplate={},t.ngBoundedEvents={},t.isAngular=!0,e&&(this.tags=e.tags),t.tags=this.tags||[],t.complexTemplate=this.complexTemplate||[],t.tagObjects=[],t.ngAttr=this.getAngularAttr(t.element),t.createElement=function(e,n){var i=t.srenderer?t.srenderer.createElement(e):qA(e);return void 0===n?i:(i.innerHTML=n.innerHTML?n.innerHTML:"",void 0!==n.className&&(i.className=n.className),void 0!==n.id&&(i.id=n.id),void 0!==n.styles&&i.setAttribute("style",n.styles),void 0!==t.ngAttr&&i.setAttribute(t.ngAttr,""),void 0!==n.attrs&&QA(i,n.attrs),i)};for(var n=0,i=t.tags;n<i.length;n++){var a=i[n],r={instance:YO("child"+a.substring(0,1).toUpperCase()+a.substring(1),t),name:a};t.tagObjects.push(r)}for(var s=Object.keys(t),l=0,o=s=s.filter((function(e){return/Ref$/i.test(e)&&/\_/i.test(e)}));l<o.length;l++){var u=o[l].replace("Ref",""),c={};GO(u.replace("_","."),YO(u,t),c),t.setProperties(c,!0)}},e.prototype.getAngularAttr=function(e){for(var t,n=e.attributes,i=n.length,a=0;a<i;a++)/_ngcontent/g.test(n[a].name)&&(t=n[a].name);return t},e.prototype.ngAfterViewInit=function(e){var t=e||this;/ejs-tab|ejs-accordion/g.test(t.ngEle.nativeElement.outerHTML)&&(t.ngEle.nativeElement.style.visibility="hidden");for(var n=Object.keys(t),i=0,a=n=n.filter((function(e){return/Ref$/i.test(e)}));i<a.length;i++){var r=a[i].replace("Ref","");GO(r.replace("_","."),YO(r+"Ref",t),t)}setTimeout((function(){"undefined"!=typeof window&&(t.appendTo(t.element),t.ngEle.nativeElement.style.visibility="")}))},e.prototype.ngOnDestroy=function(e){var t=e||this;"undefined"!=typeof window&&t.element.classList.contains("e-control")&&(t.destroy(),t.clearTemplate(null))},e.prototype.clearTemplate=function(e,t){hM(this,e,t)},e.prototype.ngAfterContentChecked=function(e){for(var t=e||this,n=0,i=t.tagObjects;n<i.length;n++){var a=i[n];if(!QO(a.instance)&&(a.instance.isInitChanges||a.instance.hasChanges||a.instance.hasNewChildren))if(a.instance.isInitChanges){var r={},s=void 0;(w=YO("instance.list",a))&&w.length&&(s=w[0].directivePropList);var l=!0;if(t.getModuleName&&"gantt"===t.getModuleName()&&(l=!1),s&&l&&-1===s.indexOf(a.instance.propertyName))for(var o=Object.keys(a.instance.list[0].propCollection),u=0;u<a.instance.list.length;u++){a.instance.list[u].propCollection[a.instance.propertyName]=[];for(var c={},h=0;h<o.length;h++){var d=o[h];c[d]=a.instance.list[u].propCollection[d]}for(var p=0;p<a.instance.list[u].tags.length;p++){var f=a.instance.list[u].tags[p],m=YO("child"+f.substring(0,1).toUpperCase()+f.substring(1),a.instance.list[u]);if(m){var g=a.instance.list[u]["child"+f.substring(0,1).toUpperCase()+f.substring(1)];if(g)for(var v=0;v<g.list.length;v++){var y=g.list[0].tags[0];if(y){var b=YO("child"+y.substring(0,1).toUpperCase()+y.substring(1),g.list[v]);g.list[v].tagObjects.push({instance:b,name:y})}}a.instance.list[u].tagObjects.push({instance:m,name:f})}}a.instance.list[u].propCollection[a.instance.propertyName].push(c)}r[a.name]=a.instance.getProperties(),t.setProperties(r,a.instance.isInitChanges)}else{t[a.name].length!==a.instance.list.length&&(t[a.name]=a.instance.list);for(var k=0,C=a.instance.list;k<C.length;k++){var w,_=a.instance.list.indexOf(w=C[k]),x=YO(a.name,t)[_];void 0!==x&&void 0!==x.setProperties&&x.setProperties(w.getProperties()),w.isUpdated=!0}}}},e.prototype.registerEvents=function(e){cM(e,this)},e.prototype.twoWaySetter=function(e,t){var n=YO(t,this.properties);n!==e&&(this.saveChanges(t,e,n),GO(t,JO(e)?null:e,this.properties),YO(t+"Change",this).emit(e))},e.prototype.addTwoWay=function(e){for(var t=this,n=function(e){YO(e,i),Object.defineProperty(i,e,{get:function(){return YO(e,t.properties)},set:function(n){return t.twoWaySetter(n,e)}}),GO(e+"Change",new Ma,i)},i=this,a=0,r=e;a<r.length;a++)n(r[a])},e.prototype.addEventListener=function(e,t){var n=YO(e,this);QO(n)||(this.ngBoundedEvents[e]||(this.ngBoundedEvents[e]=new Map),this.ngBoundedEvents[e].set(t,n.subscribe(t)))},e.prototype.removeEventListener=function(e,t){QO(YO(e,this))||this.ngBoundedEvents[e].get(t).unsubscribe()},e.prototype.trigger=function(e,t,n){var i=YO(e,this),a=this.isProtectedOnChange;this.isProtectedOnChange=!1,t&&(t.name=e),QO(i)||i.next(t);var r=YO("local"+e.charAt(0).toUpperCase()+e.slice(1),this);QO(r)||r.call(this,t),this.isProtectedOnChange=a,n&&n.call(this,t)},e}(),gM=EA.compile;function vM(e){return function(t){void 0!==t&&(GO(e+"Ref",t,this),"string"!=typeof t?(t.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,t.elementRef.nativeElement.propName=e):this.saveChanges&&(this.saveChanges(e,t,void 0),this.dataBind()))}}function yM(e,t){return function(){return YO(e+"Ref",this)||t}}EA.compile=function(e,t){if("string"==typeof e)return gM(e,t);var n=e.elementRef.nativeElement._viewContainerRef,i=e.elementRef.nativeElement.propName;return function(t,a,r){var s=n||a.viewContainerRef,l=s.createEmbeddedView(e,{$implicit:t});l.markForCheck();var o=a?a.registeredTemplate:YO("currentInstance.registeredTemplate",s);return void 0===o[r=r||i]&&(o[r]=[]),o[r].push(l),l.rootNodes}};var bM,kM=function(){function e(t){return _classCallCheck(this,e),this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof t?this.fromTable=t:t&&t instanceof Array&&(this.lookups=t),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}return _createClass(e,[{key:"setKey",value:function(e){return this.key=e,this}},{key:"using",value:function(e){return this.dataManager=e,this}},{key:"execute",value:function(e,t,n,i){return(e=e||this.dataManager)?e.executeQuery(this,t,n,i):wM.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')}},{key:"executeLocal",value:function(e){return(e=e||this.dataManager)?e.executeLocal(this):wM.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')}},{key:"clone",value:function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t}},{key:"from",value:function(e){return this.fromTable=e,this}},{key:"addParams",value:function(e,t){return this.params.push("function"==typeof t?{key:e,fn:t}:{key:e,value:t}),this}},{key:"distinct",value:function(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this}},{key:"expand",value:function(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this}},{key:"where",value:function(e,t,n,i,a){t=t?t.toLowerCase():null;var r=null;return"string"==typeof e?r=new CM(e,t,n,i,a):e instanceof CM&&(r=e),this.queries.push({fn:"onWhere",e:r}),this}},{key:"search",value:function(e,t,n,i,a){return"string"==typeof t&&(t=[t]),n&&"none"!==n||(n="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:n,searchKey:e,ignoreCase:i,ignoreAccent:a,comparer:wM.fnOperators[n]}}),this}},{key:"sortBy",value:function(t,n,i){var a,r,s="ascending";if("string"==typeof t&&wM.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),n="descending"),n&&"string"!=typeof n||(s=n?n.toLowerCase():"ascending",n=wM.fnSort(n)),i){a=e.filterQueries(this.queries,"onSortBy");for(var l=0;l<a.length;l++)if("string"==typeof(r=a[l].e.fieldName)){if(r===t)return this}else if(r instanceof Array)for(var o=0;o<r.length;o++)if(r[o]===t||t.toLowerCase()===r[o]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:n,direction:s}}),this}},{key:"sortByDesc",value:function(e){return this.sortBy(e,"descending")}},{key:"group",value:function(e,t,n){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:n||null}}),this}},{key:"page",value:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this}},{key:"range",value:function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this}},{key:"take",value:function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this}},{key:"skip",value:function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this}},{key:"select",value:function(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this}},{key:"hierarchy",value:function(e,t){return this.subQuerySelector=t,this.subQuery=e,this}},{key:"foreignKey",value:function(e){return this.fKey=e,this}},{key:"requiresCount",value:function(){return this.isCountRequired=!0,this}},{key:"aggregate",value:function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this}}],[{key:"filterQueries",value:function(e,t){return e.filter((function(e){return e.fn===t}))}},{key:"filterQueryLists",value:function(e,t){for(var n=e.filter((function(e){return-1!==t.indexOf(e.fn)})),i={},a=0;a<n.length;a++)i[n[a].fn]||(i[n[a].fn]=n[a].e);return i}}]),e}(),CM=function(){function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;return _classCallCheck(this,e),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof t?(this.field=t,this.operator=n.toLowerCase(),this.value=i,this.ignoreCase=a,this.ignoreAccent=r,this.isComplex=!1,this.comparer=wM.fnOperators.processOperator(this.operator)):(t instanceof e&&i instanceof e||i instanceof Array)&&(this.isComplex=!0,this.condition=n.toLowerCase(),this.predicates=[t],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return _createClass(e,[{key:"and",value:function(t,n,i,a,r){return e.combine(this,t,n,i,"and",a,r)}},{key:"or",value:function(t,n,i,a,r){return e.combine(this,t,n,i,"or",a,r)}},{key:"validate",value:function(e){var t,n,i=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,wM.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(var a=0;a<i.length;a++)if(n=i[a].validate(e),t){if(!n)return!1}else if(n)return!0;return t}},{key:"toJson",value:function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var n=0;n<t.length;n++)e.push(t[n].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}}}],[{key:"and",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.combinePredicates([].slice.call(n,0),"and")}},{key:"or",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.combinePredicates([].slice.call(n,0),"or")}},{key:"fromJson",value:function(e){if(e instanceof Array){for(var t=[],n=0,i=e.length;n<i;n++)t.push(this.fromJSONData(e[n]));return t}return this.fromJSONData(e)}},{key:"combinePredicates",value:function(t,n){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],n,t.slice(1))}},{key:"combine",value:function(t,n,i,a,r,s,l){return n instanceof e?e[r](t,n):"string"==typeof n?e[r](t,new e(n,i,a,s,l)):wM.throwError("Predicate - "+r+" : invalid arguments")}},{key:"fromJSONData",value:function(t){for(var n=t.predicates||[],i=n.length,a=[],r=0;r<i;r++)a.push(this.fromJSONData(n[r]));return t.isComplex?new e(a[0],t.condition,a.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)}}]),e}(),wM=((bM=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getValue",value:function(e,t){return"function"==typeof e?e.call(t||{}):e}},{key:"endsWith",value:function(e,t){return e.slice&&e.slice(-t.length)===t}},{key:"startsWith",value:function(e,t){return e.slice(0,t.length)===t}},{key:"fnSort",value:function(t){return"ascending"===(t=t?e.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending}},{key:"fnAscending",value:function(e,t){return JO(e)&&JO(t)?-1:null==t?-1:"string"==typeof e?e.localeCompare(t):null==e?1:e-t}},{key:"fnDescending",value:function(e,t){return JO(e)&&JO(t)?-1:null==t?1:"string"==typeof e?-1*e.localeCompare(t):null==e?-1:t-e}},{key:"extractFields",value:function(e,t){for(var n={},i=0;i<t.length;i++)n=this.setValue(t[i],this.getObject(t[i],e),n);return n}},{key:"select",value:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(this.extractFields(e[i],t));return n}},{key:"group",value:function(t,n,i,a,r,s){var l=this;a=a||1;var o=t;if("{271bbba0-1ee7}"===o.GroupGuid){for(var u=function(e){if(JO(r))o[e].items=l.group(o[e].items,n,i,o.level+1,null,s),o[e].count=o[e].items.length;else{var t,a=r.filter((function(t){return t.key===o[e].key}));t=r.indexOf(a[0]),o[e].items=l.group(o[e].items,n,i,o.level+1,r[t].items,s),o[e].count=r[t].count}},c=0;c<o.length;c++)u(c);return o.childLevels+=1,o}var h={},d=[];d.GroupGuid="{271bbba0-1ee7}",d.level=a,d.childLevels=0,d.records=o;for(var p=function(e){var t=l.getVal(o,e,n);if(JO(s)||(t=s(t,n)),!h[t]&&(h[t]={key:t,count:0,items:[],aggregates:{},field:n},d.push(h[t]),!JO(r))){var i=r.filter((function(e){return e.key===h[t].key}));h[t].count=i[0].count}h[t].count=JO(r)?h[t].count+=1:h[t].count,h[t].items.push(o[e])},f=0;f<o.length;f++)p(f);if(i&&i.length)for(var m=function(t){for(var n=void 0,a={},s=i,l=0;l<i.length;l++)if(n=e.aggregates[i[l].type],JO(r))n&&(a[s[l].field+" - "+s[l].type]=n(d[t].items,s[l].field));else{var o=r.filter((function(e){return e.key===d[t].key}));n&&(a[s[l].field+" - "+s[l].type]=n(o[0].items,s[l].field))}d[t].aggregates=a},g=0;g<d.length;g++)m(g);return o.length&&d||o}},{key:"buildHierarchy",value:function(e,t,n,i,a){var r,s={};for(i.result&&(i=i.result),i.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),r=0;r<i.length;r++){var l=this.getObject(e,i[r]);(s[l]||(s[l]=[])).push(i[r])}for(r=0;r<n.length;r++){var o=this.getObject(a||e,n[r]);n[r][t]=s[o]}}},{key:"getFieldList",value:function(e,t,n){if(void 0===n&&(n=""),null==t)return this.getFieldList(e,[],n);for(var i=e,a=0,r=Object.keys(e);a<r.length;a++){var s=r[a];"object"!=typeof i[s]||i[s]instanceof Array?t.push(n+s):this.getFieldList(i[s],t,n+s+".")}return t}},{key:"getObject",value:function(e,t){if(!e)return t;if(t){if(-1===e.indexOf("."))return t[e];for(var n=t,i=e.split("."),a=0;a<i.length&&null!=n;a++)n=n[i[a]];return n}}},{key:"setValue",value:function(e,t,n){var i,a,r=e.toString().split("."),s=n||{},l=s,o=r.length;for(i=0;i<o;i++)a=r[i],i+1===o?l[a]=void 0===t?void 0:t:JO(l[a])&&(l[a]={}),l=l[a];return s}},{key:"sort",value:function(e,t,n){if(e.length<=1)return e;var i=parseInt((e.length/2).toString(),10),a=e.slice(0,i),r=e.slice(i);return a=this.sort(a,t,n),r=this.sort(r,t,n),this.merge(a,r,t,n)}},{key:"ignoreDiacritics",value:function(t){return"string"!=typeof t?t:t.split("").map((function(t){return t in e.diacritics?e.diacritics[t]:t})).join("")}},{key:"merge",value:function(e,t,n,i){for(var a,r=[];e.length>0||t.length>0;)a=e.length>0&&t.length>0?i?i(this.getVal(e,0,n),this.getVal(t,0,n),e[0],t[0])<=0?e:t:e[0][n]<e[0][n]?e:t:e.length>0?e:t,r.push(a.shift());return r}},{key:"getVal",value:function(e,t,n){return n?this.getObject(n,e[t]):e[t]}},{key:"toLowerCase",value:function(e){return e?"string"==typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""}},{key:"callAdaptorFunction",value:function(e,t,n,i){if(t in e){var a=e[t](n,i);JO(a)||(n=a)}return n}},{key:"getAddParams",value:function(t,n,i){var a={};return e.callAdaptorFunction(t,"addParams",{dm:n,query:i,params:i.params,reqParams:a}),a}},{key:"isPlainObject",value:function(e){return!!e&&e.constructor===Object}},{key:"isCors",value:function(){var e=null;try{e=new window.XMLHttpRequest}catch($K){}return!!e&&"withCredentials"in e}},{key:"getGuid",value:function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(function(e,n){if("crypto"in window&&"getRandomValues"in crypto){var i=new Uint8Array(1);window.crypto.getRandomValues(i),t=i[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===n?3&t|8:t]}))}},{key:"isNull",value:function(e){return null==e}},{key:"getItemFromComparer",value:function(t,n,i){var a,r,s,l=0,o="string"==typeof e.getVal(t,0,n);if(t.length)for(;JO(a)&&l<t.length;)a=e.getVal(t,l,n),s=t[l++];for(;l<t.length;l++)JO(r=e.getVal(t,l,n))||(o&&(a=+a,r=+r),i(a,r)>0&&(a=r,s=t[l]));return s}},{key:"distinct",value:function(t,n,i){i=!JO(i)&&i;var a,r=[],s={};return t.forEach((function(l,o){(a="object"==typeof t[o]?e.getVal(t,o,n):t[o])in s||(r.push(i?t[o]:a),s[a]=1)})),r}}]),e}()).serverTimezoneOffset=null,bM.timeZoneHandling=!0,bM.throwError=function(e){try{throw new Error(e)}catch($K){throw $K.message+"\n"+$K.stack}},bM.aggregates={sum:function(e,t){for(var n,i=0,a="number"!=typeof bM.getVal(e,0,t),r=0;r<e.length;r++)n=bM.getVal(e,r,t),isNaN(n)||null===n||(a&&(n=+n),i+=n);return i},average:function(e,t){return bM.aggregates.sum(e,t)/e.length},min:function(e,t){var n;return"function"==typeof t&&(n=t,t=null),bM.getObject(t,bM.getItemFromComparer(e,t,n||bM.fnAscending))},max:function(e,t){var n;return"function"==typeof t&&(n=t,t=null),bM.getObject(t,bM.getItemFromComparer(e,t,n||bM.fnDescending))},truecount:function(e,t){return new AM(e).executeLocal((new kM).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new AM(e).executeLocal((new kM).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},bM.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},bM.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},bM.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},bM.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},bM.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},bM.fnOperators={equal:function(e,t,n,i){return i&&(e=bM.ignoreDiacritics(e),t=bM.ignoreDiacritics(t)),n?bM.toLowerCase(e)===bM.toLowerCase(t):e===t},notequal:function(e,t,n,i){return i&&(e=bM.ignoreDiacritics(e),t=bM.ignoreDiacritics(t)),!bM.fnOperators.equal(e,t,n)},lessthan:function(e,t,n){return n?bM.toLowerCase(e)<bM.toLowerCase(t):e<t},greaterthan:function(e,t,n){return n?bM.toLowerCase(e)>bM.toLowerCase(t):e>t},lessthanorequal:function(e,t,n){return n?bM.toLowerCase(e)<=bM.toLowerCase(t):e<=t},greaterthanorequal:function(e,t,n){return n?bM.toLowerCase(e)>=bM.toLowerCase(t):e>=t},contains:function(e,t,n,i){return i&&(e=bM.ignoreDiacritics(e),t=bM.ignoreDiacritics(t)),n?!JO(e)&&!JO(t)&&-1!==bM.toLowerCase(e).indexOf(bM.toLowerCase(t)):!JO(e)&&!JO(t)&&-1!==e.toString().indexOf(t)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,t,n,i){return i&&(e=bM.ignoreDiacritics(e),t=bM.ignoreDiacritics(t)),n?e&&t&&bM.startsWith(bM.toLowerCase(e),bM.toLowerCase(t)):e&&t&&bM.startsWith(e,t)},endswith:function(e,t,n,i){return i&&(e=bM.ignoreDiacritics(e),t=bM.ignoreDiacritics(t)),n?e&&t&&bM.endsWith(bM.toLowerCase(e),bM.toLowerCase(t)):e&&t&&bM.endsWith(e,t)},processSymbols:function(e){var t=bM.operatorSymbols[e];return t?bM.fnOperators[t]:bM.throwError("Query - Process Operator : Invalid operator")},processOperator:function(e){return bM.fnOperators[e]||bM.fnOperators.processSymbols(e)}},bM.parse={parseJson:function(e){return"string"==typeof e?e=JSON.parse(e,bM.parse.jsonReviver):e instanceof Array?bM.parse.iterateAndReviveArray(e):"object"==typeof e&&null!==e&&bM.parse.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]&&null!==e[t]?bM.parse.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(e[t])?bM.parse.parseJson(e[t]):bM.parse.jsonReviver("",e[t])},iterateAndReviveJson:function(e){for(var t,n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];bM.startsWith(a,"__")||("object"==typeof(t=e[a])?t instanceof Array?bM.parse.iterateAndReviveArray(t):t&&bM.parse.iterateAndReviveJson(t):e[a]=bM.parse.jsonReviver(e[a],t))}},jsonReviver:function(e,t){if("string"==typeof t){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),i=bM.timeZoneHandling?bM.serverTimezoneOffset:null;if(n)return bM.dateParse.toTimeZone(new Date(parseInt(n[1],10)),i,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){var a=t.indexOf("Z")>-1||t.indexOf("z")>-1,r=t.split(/[^0-9.]/);if(a)t=bM.dateParse.toTimeZone(new Date(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10),parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10)),bM.serverTimezoneOffset,!1);else{var s=new Date(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10),parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10)),l=parseInt(r[6],10),o=parseInt(r[7],10);if(isNaN(l)&&isNaN(o))return s;t.indexOf("+")>-1?s.setHours(s.getHours()-l,s.getMinutes()-o):s.setHours(s.getHours()+l,s.getMinutes()+o),t=bM.dateParse.toTimeZone(s,bM.serverTimezoneOffset,!1)}null==bM.serverTimezoneOffset&&(t=bM.dateParse.addSelfOffset(t))}}return t},isJson:function(e){return"string"==typeof e[0]?e:bM.parse.parseJson(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e,t){return bM.isPlainObject(e)?bM.parse.jsonReplacer(e,t):e instanceof Array?bM.parse.arrayReplacer(e):e instanceof Date?bM.parse.jsonReplacer({val:e},t).val:e},jsonReplacer:function(e,t){for(var n,i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];if((n=e[r])instanceof Date){var s=n;null==bM.serverTimezoneOffset?e[r]=bM.dateParse.toTimeZone(s,null).toJSON():(s=new Date(+s+36e5*bM.serverTimezoneOffset),e[r]=bM.dateParse.toTimeZone(bM.dateParse.addSelfOffset(s),null).toJSON())}}return e},arrayReplacer:function(e){for(var t=0;t<e.length;t++)bM.isPlainObject(e[t])?e[t]=bM.parse.jsonReplacer(e[t]):e[t]instanceof Date&&(e[t]=bM.parse.jsonReplacer({date:e[t]}).date);return e},jsonDateReplacer:function(e,t){if("value"===e&&t){if("string"==typeof t){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t);if(n)t=bM.dateParse.toTimeZone(new Date(parseInt(n[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){var i=t.split(/[^0-9]/);t=bM.dateParse.toTimeZone(new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10),parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)),null,!0)}}if(t instanceof Date)return t=bM.dateParse.addSelfOffset(t),null===bM.serverTimezoneOffset?bM.dateParse.toTimeZone(bM.dateParse.addSelfOffset(t),null).toJSON():(t=bM.dateParse.toTimeZone(t,t.getTimezoneOffset()/60*2-bM.serverTimezoneOffset,!1)).toJSON()}return t}},bM.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(e,t,n){if(null===t)return e;var i=n?bM.dateParse.toUTC(e):e;return new Date(+i-36e5*t)},toLocalTime:function(e){var t=e,n=-t.getTimezoneOffset(),i=n>=0?"+":"-",a=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+a(t.getMonth()+1)+"-"+a(t.getDate())+"T"+a(t.getHours())+":"+a(t.getMinutes())+":"+a(t.getSeconds())+i+a(n/60)+":"+a(n%60)}},bM),_M=function(){function e(t){_classCallCheck(this,e),this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=e,this.dataSource=t,this.pvt={}}return _createClass(e,[{key:"processResponse",value:function(e,t,n,i){return e}}]),e}(),xM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"processQuery",value:function(e,t){for(var n,i,a=e.dataSource.json.slice(0),r=a.length,s=!0,l={},o=0;o<t.queries.length;o++)n=this[(i=t.queries[o]).fn].call(this,a,i.e,t),"onAggregates"===i.fn?l[i.e.field+" - "+i.e.type]=n:a=void 0!==n?n:a,"onPage"!==i.fn&&"onSkip"!==i.fn&&"onTake"!==i.fn&&"onRange"!==i.fn||(s=!1),s&&(r=a.length);return t.isCountRequired&&(a={result:a,count:r,aggregates:l}),a}},{key:"batchRequest",value:function(e,t,n){var i,a=t.deletedRecords.length;for(i=0;i<t.addedRecords.length;i++)this.insert(e,t.addedRecords[i]);for(i=0;i<t.changedRecords.length;i++)this.update(e,n.key,t.changedRecords[i]);for(i=0;i<a;i++)this.remove(e,n.key,t.deletedRecords[i]);return t}},{key:"onWhere",value:function(e,t){return e&&e.length?e.filter((function(e){if(t)return t.validate(e)})):e}},{key:"onAggregates",value:function(e,t){var n=wM.aggregates[t.type];return e&&n&&0!==e.length?n(e,t.field):null}},{key:"onSearch",value:function(e,t){return e&&e.length?(0===t.fieldNames.length&&wM.getFieldList(e[0],t.fieldNames),e.filter((function(e){for(var n=0;n<t.fieldNames.length;n++)if(t.comparer.call(e,wM.getObject(t.fieldNames[n],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1}))):e}},{key:"onSortBy",value:function(e,t,n){if(!e||!e.length)return e;var i,a=wM.getValue(t.fieldName,n);if(!a)return e.sort(t.comparer);if(a instanceof Array){for(var r=(a=a.slice(0)).length-1;r>=0;r--)a[r]&&(i=t.comparer,wM.endsWith(a[r]," desc")&&(i=wM.fnSort("descending"),a[r]=a[r].replace(" desc","")),e=wM.sort(e,a[r],i));return e}return wM.sort(e,a,t.comparer)}},{key:"onGroup",value:function(e,t,n){if(!e||!e.length)return e;var i=kM.filterQueries(n.queries,"onAggregates"),a=[];if(i.length)for(var r,s=0;s<i.length;s++)r=i[s].e,a.push({type:r.type,field:wM.getValue(r.field,n)});return wM.group(e,wM.getValue(t.fieldName,n),a,null,null,t.comparer)}},{key:"onPage",value:function(e,t,n){var i=wM.getValue(t.pageSize,n),a=(wM.getValue(t.pageIndex,n)-1)*i;return e&&e.length?e.slice(a,a+i):e}},{key:"onRange",value:function(e,t){return e&&e.length?e.slice(wM.getValue(t.start),wM.getValue(t.end)):e}},{key:"onTake",value:function(e,t){return e&&e.length?e.slice(0,wM.getValue(t.nos)):e}},{key:"onSkip",value:function(e,t){return e&&e.length?e.slice(wM.getValue(t.nos)):e}},{key:"onSelect",value:function(e,t){return e&&e.length?wM.select(e,wM.getValue(t.fieldNames)):e}},{key:"insert",value:function(e,t,n,i,a){return JO(a)?e.dataSource.json.push(t):e.dataSource.json.splice(a,0,t)}},{key:"remove",value:function(e,t,n,i){var a,r=e.dataSource.json;for("object"!=typeof n||n instanceof Date||(n=wM.getObject(t,n)),a=0;a<r.length&&wM.getObject(t,r[a])!==n;a++);return a!==r.length?r.splice(a,1):null}},{key:"update",value:function(e,t,n,i){var a,r,s=e.dataSource.json;for(JO(t)||(r=YO(t,n)),a=0;a<s.length&&(JO(t)||YO(t,s[a])!==r);a++);return a<s.length?$O(s[a],n):null}}]),n}(_M),SM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"processQuery",value:function(e,t,n){var i,a,r=this.getQueryRequest(t),s=kM.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),l=t.params,o=e.dataSource.url,u=null,c=this.options,h={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in s?(i=s.onPage,a=((a=wM.getValue(i.pageIndex,t))-1)*(u=wM.getValue(i.pageSize,t))):"onRange"in s&&(a=(i=s.onRange).start,u=i.end-i.start);for(var d=0;d<r.sorts.length;d++)i=wM.getValue(r.sorts[d].e.fieldName,t),h.sorts.push(wM.callAdaptorFunction(this,"onEachSort",{name:i,direction:r.sorts[d].e.direction},t));n&&((i=this.getFiltersFrom(n,t))&&h.filters.push(wM.callAdaptorFunction(this,"onEachWhere",i.toJson(),t)));for(var p=0;p<r.filters.length;p++){h.filters.push(wM.callAdaptorFunction(this,"onEachWhere",r.filters[p].e.toJson(),t));var f,m=_createForOfIteratorHelper("object"==typeof h.filters[p]?Object.keys(h.filters[p]):[]);try{for(m.s();!(f=m.n()).done;){var g=f.value;wM.isNull(h[g])&&delete h[g]}}catch(S){m.e(S)}finally{m.f()}}for(var v=0;v<r.searches.length;v++)i=r.searches[v].e,h.searches.push(wM.callAdaptorFunction(this,"onEachSearch",{fields:i.fieldNames,operator:i.operator,key:i.searchKey,ignoreCase:i.ignoreCase},t));for(var y=0;y<r.groups.length;y++)h.groups.push(wM.getValue(r.groups[y].e.fieldName,t));for(var b=0;b<r.aggregates.length;b++)i=r.aggregates[b].e,h.aggregates.push({type:i.type,field:wM.getValue(i.field,t)});var k={};this.getRequestQuery(c,t,s,h,k),wM.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:l,reqParams:k});for(var C=0,w=Object.keys(k);C<w.length;C++){var _=w[C];(wM.isNull(k[_])||""===k[_]||0===k[_].length)&&delete k[_]}c.skip in k&&c.take in k||null===u||(k[c.skip]=wM.callAdaptorFunction(this,"onSkip",a,t),k[c.take]=wM.callAdaptorFunction(this,"onTake",u,t));var x=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(k,wM.parse.jsonDateReplacer),url:o,pvtData:x,type:"POST",contentType:"application/json; charset=utf-8"}:(i=this.convertToQueryString(k,t,e),{type:"GET",url:(i=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+i).length?o.replace(/\/*$/,i):o,pvtData:x})}},{key:"getRequestQuery",value:function(e,t,n,i,a){var r=a;r[e.from]=t.fromTable,e.apply&&t.distincts.length&&(r[e.apply]="onDistinct"in this?wM.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(r[e.expand]="onExpand"in this&&"onSelect"in n?wM.callAdaptorFunction(this,"onExpand",{selects:wM.getValue(n.onSelect.fieldNames,t),expands:t.expands},t):t.expands),r[e.select]="onSelect"in n&&!t.distincts.length?wM.callAdaptorFunction(this,"onSelect",wM.getValue(n.onSelect.fieldNames,t),t):"",r[e.count]=t.isCountRequired?wM.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",r[e.search]=i.searches.length?wM.callAdaptorFunction(this,"onSearch",i.searches,t):"",r[e.skip]="onSkip"in n?wM.callAdaptorFunction(this,"onSkip",wM.getValue(n.onSkip.nos,t),t):"",r[e.take]="onTake"in n?wM.callAdaptorFunction(this,"onTake",wM.getValue(n.onTake.nos,t),t):"",r[e.where]=i.filters.length||i.searches.length?wM.callAdaptorFunction(this,"onWhere",i.filters,t):"",r[e.sortBy]=i.sorts.length?wM.callAdaptorFunction(this,"onSortBy",i.sorts,t):"",r[e.group]=i.groups.length?wM.callAdaptorFunction(this,"onGroup",i.groups,t):"",r[e.aggregates]=i.aggregates.length?wM.callAdaptorFunction(this,"onAggregates",i.aggregates,t):"",r.param=[]}},{key:"convertToQueryString",value:function(e,t,n){return""}},{key:"processResponse",value:function(e,t,n,i,a,r){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("application/json")){var s=wM.timeZoneHandling;t&&!t.timeZoneHandling&&(wM.timeZoneHandling=!1),e=wM.parse.parseJson(e),wM.timeZoneHandling=s}var l=a,o=l.pvtData||{},u=e?e.groupDs:[];if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];var c=JSON.parse(l.data);if(c&&"batch"===c.action&&e&&e.addedRecords)return r.addedRecords=e.addedRecords,r;e&&e.d&&(e=e.d);var h={};return e&&"count"in e&&(h.count=e.count),h.result=e&&e.result?e.result:e,this.getAggregateResult(o,e,h,u,n),wM.isNull(h.count)?h.result:{result:h.result,count:h.count,aggregates:h.aggregates}}},{key:"onGroup",value:function(e){return this.pvt.groups=e,e}},{key:"onAggregates",value:function(e){this.pvt.aggregates=e}},{key:"batchRequest",value:function(e,t,n,i,a){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(ZO({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},wM.getAddParams(this,e,i)))}}},{key:"beforeSend",value:function(e,t){}},{key:"insert",value:function(e,t,n,i){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ZO({},{value:t,table:n,action:"insert"},wM.getAddParams(this,e,i)))}}},{key:"remove",value:function(e,t,n,i,a){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ZO({},{key:n,keyColumn:t,table:i,action:"remove"},wM.getAddParams(this,e,a)))}}},{key:"update",value:function(e,t,n,i,a){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ZO({},{value:n,action:"update",keyColumn:t,key:wM.getObject(t,n),table:i},wM.getAddParams(this,e,a)))}}},{key:"getFiltersFrom",value:function(e,t){var n,i=t.fKey,a=i,r=t.key,s=[];"object"!=typeof e[0]&&(a=null);for(var l=0;l<e.length;l++)n="object"==typeof e[0]?wM.getObject(r||a,e[l]):e[l],s.push(new CM(i,"equal",n));return CM.or(s)}},{key:"getAggregateResult",value:function(e,t,n,i,a){var r=t;if(t&&t.result&&(r=t.result),e&&e.aggregates&&e.aggregates.length){var s,l=e.aggregates,o=r,u={};t.aggregate&&(o=t.aggregate);for(var c=0;c<l.length;c++)(s=wM.aggregates[l[c].type])&&(u[l[c].field+" - "+l[c].type]=s(o,l[c].field));n.aggregates=u}if(e&&e.groups&&e.groups.length){for(var h=e.groups,d=0;d<h.length;d++){JO(i)||(i=wM.group(i,h[d]));var p=kM.filterQueries(a.queries,"onGroup")[d].e;r=wM.group(r,h[d],e.aggregates,null,i,p.comparer)}n.result=r}return n}},{key:"getQueryRequest",value:function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=kM.filterQueries(e.queries,"onSortBy"),t.groups=kM.filterQueries(e.queries,"onGroup"),t.filters=kM.filterQueries(e.queries,"onWhere"),t.searches=kM.filterQueries(e.queries,"onSearch"),t.aggregates=kM.filterQueries(e.queries,"onAggregates"),t}},{key:"addParams",value:function(e){var t=e.reqParams;e.params.length&&(t.params={});var n,i=_createForOfIteratorHelper(e.params);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(t[a.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[a.key]=a.value,a.fn&&(t[a.key]=a.fn.call(e.query,a.key,e.query,e.dm)),t.params[a.key]=t[a.key]}}catch(r){i.e(r)}finally{i.f()}}}]),n}(_M),EM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).options=ZO({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),ZO(i.options,e||{}),i}return _createClass(n,[{key:"getModuleName",value:function(){return"ODataAdaptor"}},{key:"onPredicate",value:function(e,t,i){var a,r,s="",l=e.value,o=typeof l,u=e.field?n.getField(e.field):null;if(l instanceof Date&&(l="datetime'"+wM.parse.replacer(l)+"'"),"string"===o&&(l="'"+(l=encodeURIComponent(l))+"'",i&&(u="cast("+u+", 'Edm.String')"),wM.parse.isGuid(l)&&(r="guid"),e.ignoreCase&&(r||(u="tolower("+u+")"),l=l.toLowerCase())),a=wM.odBiOperator[e.operator])return s+=u,s+=a,r&&(s+=r),s+l;if("substringof"===(a=JO(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?wM.odUniOperator[e.operator]:wM.odv4UniOperator[e.operator])){var c=l;l=u,u=c}return s+=a+"(",s+=u+",",r&&(s+=r),s+=l+")"}},{key:"addParams",value:function(e){_get(_getPrototypeOf(n.prototype),"addParams",this).call(this,e),delete e.reqParams.params}},{key:"onComplexPredicate",value:function(e,t,n){for(var i=[],a=0;a<e.predicates.length;a++)i.push("("+this.onEachWhere(e.predicates[a],t,n)+")");return i.join(" "+e.condition+" ")}},{key:"onEachWhere",value:function(e,t,n){return e.isComplex?this.onComplexPredicate(e,t,n):this.onPredicate(e,t,n)}},{key:"onWhere",value:function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")}},{key:"onEachSearch",value:function(e){e.fields&&0===e.fields.length&&wM.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],n=0;n<e.fields.length;n++)t.push(new CM(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.search=t}},{key:"onSearch",value:function(e){return this.pvt.search=CM.or(this.pvt.search),""}},{key:"onEachSort",value:function(e){var t=[];if(e.name instanceof Array)for(var i=0;i<e.name.length;i++)t.push(n.getField(e.name[i])+("descending"===e.direction?" desc":""));else t.push(n.getField(e.name)+("descending"===e.direction?" desc":""));return t.join(",")}},{key:"onSortBy",value:function(e){return e.reverse().join(",")}},{key:"onGroup",value:function(e){return this.pvt.groups=e,[]}},{key:"onSelect",value:function(e){for(var t=0;t<e.length;t++)e[t]=n.getField(e[t]);return e.join(",")}},{key:"onAggregates",value:function(e){return this.pvt.aggregates=e,""}},{key:"onCount",value:function(e){return!0===e?"allpages":""}},{key:"beforeSend",value:function(e,t,n){wM.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")}},{key:"processResponse",value:function(e,t,n,i,a,r){if(a&&"GET"===a.type&&!this.rootUrl&&e["odata.metadata"]){var s=e["odata.metadata"].split("/$metadata#");this.rootUrl=s[0],this.resourceTableName=s[1]}if(!JO(e.d)){var l=n&&n.isCountRequired?e.d.results:e.d;if(!JO(l))for(var o=0;o<l.length;o++)JO(l[o].__metadata)||delete l[o].__metadata}var u=a&&a.pvtData,c=this.processBatchResponse(e,n,i,a,r);if(c)return c;var h=i&&a.getResponseHeader("DataServiceVersion"),d=null,p=h&&parseInt(h,10)||2;if(n&&n.isCountRequired){(e.__count||e["odata.count"])&&(d=e.__count||e["odata.count"]),e.d&&(e=e.d),(e.__count||e["odata.count"])&&(d=e.__count||e["odata.count"])}3===p&&e.value&&(e=e.value),e.d&&(e=e.d),p<3&&e.results&&(e=e.results);var f={};return f.count=d,f.result=e,this.getAggregateResult(u,e,f,null,n),wM.isNull(d)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}}},{key:"convertToQueryString",value:function(e,t,n){var i=[],a=e.table||"";delete e.table,n.dataSource.requiresFormat&&(e.$format="json");for(var r=0,s=Object.keys(e);r<s.length;r++){var l=s[r];i.push(l+"="+e[l])}return i=i.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!a?i:i.length?a+"?"+i:a||""}},{key:"localTimeReplacer",value:function(e,t){var n,i=_createForOfIteratorHelper(JO(t)?[]:Object.keys(t));try{for(i.s();!(n=i.n()).done;){var a=n.value;t[a]instanceof Date&&(t[a]=wM.dateParse.toLocalTime(t[a]))}}catch(r){i.e(r)}finally{i.f()}return t}},{key:"insert",value:function(e,t,n){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}}},{key:"remove",value:function(e,t,n,i){var a;return a="string"!=typeof n||wM.parse.isGuid(n)?"(".concat(n,")"):"('".concat(n,"')"),{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:"")+a}}},{key:"update",value:function(e,t,n,i,a,r){var s;return"PATCH"!==this.options.updateType||JO(r)||(n=this.compareAndRemove(n,r,t)),s="string"!=typeof n[t]||wM.parse.isGuid(n[t])?"(".concat(n[t],")"):"('".concat(n[t],"')"),{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:"")+s,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}}},{key:"batchRequest",value:function(e,t,n,i,a){var r=n.guid=wM.getGuid(this.options.batchPre),s=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var l={url:n.url,key:n.key,cid:1,cSet:wM.getGuid(this.options.changeSet)},o="--"+r+"\n";return o+="Content-Type: multipart/mixed; boundary="+l.cSet.replace("--","")+"\n",this.pvt.changeSet=0,o+=this.generateInsertRequest(t.addedRecords,l,e),o+=this.generateUpdateRequest(t.changedRecords,l,e,a?a.changedRecords:[]),o+=this.generateDeleteRequest(t.deletedRecords,l,e),o+=l.cSet+"--\n",{type:"POST",url:s,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+r,data:o+="--"+r+"--"}}},{key:"generateDeleteRequest",value:function(e,t,n){if(!e)return"";return this.generateBodyContent(e,t,{method:"DELETE ",url:function(e,t,n){var i=wM.getObject(n,e[t]);return"number"==typeof i||wM.parse.isGuid(i)?"("+i+")":i instanceof Date?"("+e[t][n].toJSON()+")":"('".concat(i,"')")},data:function(e,t){return""}},n)+"\n"}},{key:"generateInsertRequest",value:function(e,t,n){if(!e)return"";return this.generateBodyContent(e,t,{method:"POST ",url:function(e,t,n){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}},n)}},{key:"generateUpdateRequest",value:function(e,t,n,i){var a=this;if(!e)return"";return e.forEach((function(e){return e=a.compareAndRemove(e,i.filter((function(n){return wM.getObject(t.key,n)===wM.getObject(t.key,e)}))[0],t.key)})),this.generateBodyContent(e,t,{method:this.options.updateType+" ",url:function(e,t,n){return"number"==typeof e[t][n]||wM.parse.isGuid(e[t][n])?"("+e[t][n]+")":e[t][n]instanceof Date?"("+e[t][n].toJSON()+")":"('".concat(e[t][n],"')")},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}},n)}},{key:"generateBodyContent",value:function(e,t,n,i){for(var a="",r=0;r<e.length;r++)a+="\n"+t.cSet+"\n",a+=this.options.changeSetContent+"\n\n",a+=n.method,"POST "===n.method?a+=(i.dataSource.insertUrl||i.dataSource.crudUrl||t.url)+n.url(e,r,t.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?a+=(i.dataSource.updateUrl||i.dataSource.crudUrl||t.url)+n.url(e,r,t.key)+" HTTP/1.1\n":"DELETE "===n.method&&(a+=(i.dataSource.removeUrl||i.dataSource.crudUrl||t.url)+n.url(e,r,t.key)+" HTTP/1.1\n"),a+="Accept: "+this.options.accept+"\n",a+="Content-Id: "+this.pvt.changeSet+++"\n",a+=this.options.batchChangeSetContentType+"\n",JO(e[r]["@odata.etag"])?a+="\n":(a+="If-Match: "+e[r]["@odata.etag"]+"\n\n",delete e[r]["@odata.etag"]),a+=n.data(e,r);return a}},{key:"processBatchResponse",value:function(e,t,n,i,a){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(i&&this.options.batch&&wM.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()){var r,s,l=n.getResponseHeader("Content-Type"),o=e+"";if(l=l.substring(l.indexOf("=batchresponse")+1),(o=o.split(l)).length<2)return{};o=o[1];var u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(o);u&&o.replace(u[0],"");for(var c=(o=o.split(u?u[1]:"")).length;c>-1;c--)/\bContent-ID:/i.test(o[c])&&/\bHTTP.+201/.test(o[c])&&(r=parseInt(/\bContent-ID: (\d+)/i.exec(o[c])[1],10),a.addedRecords[r]&&(s=wM.parse.parseJson(/^\{.+\}/m.exec(o[c])[0]),ZO({},a.addedRecords[r],this.processResponse(s))));return a}return null}},{key:"compareAndRemove",value:function(e,t,n){var i=this;return JO(t)?e:(Object.keys(e).forEach((function(a){a!==n&&"@odata.etag"!==a&&(wM.isPlainObject(e[a])?(i.compareAndRemove(e[a],t[a]),0===Object.keys(e[a]).filter((function(e){return"@odata.etag"!==e})).length&&delete e[a]):e[a]===t[a]?delete e[a]:e[a]&&t[a]&&e[a].valueOf()===t[a].valueOf()&&delete e[a])})),e)}}],[{key:"getField",value:function(e){return e.replace(/\./g,"/")}}]),n}(SM),OM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.call(this),GO("beforeSend",SM.prototype.beforeSend,_assertThisInitialized(e)),e}return _createClass(n,[{key:"insert",value:function(e,t,n,i,a){return this.pvt.position=a,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ZO({},{value:t,table:n,action:"insert"},wM.getAddParams(this,e,i)))}}},{key:"remove",value:function(e,t,i,a,r){return _get(_getPrototypeOf(n.prototype),"remove",this).call(this,e,t,i),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ZO({},{key:i,keyColumn:t,table:a,action:"remove"},wM.getAddParams(this,e,r)))}}},{key:"update",value:function(e,t,n,i,a){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ZO({},{value:n,action:"update",keyColumn:t,key:n[t],table:i},wM.getAddParams(this,e,a)))}}},{key:"processResponse",value:function(e,t,i,a,r,s,l){var o;if("add"===this.updateType&&_get(_getPrototypeOf(n.prototype),"insert",this).call(this,t,e,null,null,this.pvt.position),"update"===this.updateType&&_get(_getPrototypeOf(n.prototype),"update",this).call(this,t,this.updateKey,e),this.updateType=void 0,e.added)for(o=0;o<e.added.length;o++)_get(_getPrototypeOf(n.prototype),"insert",this).call(this,t,e.added[o]);if(e.changed)for(o=0;o<e.changed.length;o++)_get(_getPrototypeOf(n.prototype),"update",this).call(this,t,l.key,e.changed[o]);if(e.deleted)for(o=0;o<e.deleted.length;o++)_get(_getPrototypeOf(n.prototype),"remove",this).call(this,t,l.key,e.deleted[o]);return e}},{key:"batchRequest",value:function(e,t,n,i,a){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(ZO({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:n.url,key:n.key},wM.getAddParams(this,e,i)))}}},{key:"addParams",value:function(e){(new SM).addParams(e)}}]),n}(xM),IM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;_classCallCheck(this,n),(r=t.call(this)).isCrudAction=!1,r.isInsertAction=!1,JO(e)||(r.cacheAdaptor=e),r.pageSize=a,r.guidId=wM.getGuid("cacheAdaptor"),window.localStorage.setItem(r.guidId,JSON.stringify({keys:[],results:[]}));var s=r.guidId;return JO(i)||setInterval((function(){var e;e=wM.parse.parseJson(window.localStorage.getItem(s));for(var t=[],n=0;n<e.results.length;n++){var a=+new Date,r=+new Date(e.results[n].timeStamp);e.results[n].timeStamp=a-r,a-r>i&&t.push(n)}for(var l=0;l<t.length;l++)e.results.splice(t[l],1),e.keys.splice(t[l],1);window.localStorage.removeItem(s),window.localStorage.setItem(s,JSON.stringify(e))}),i),r}return _createClass(n,[{key:"generateKey",value:function(e,t){var n=this.getQueryRequest(t),i=kM.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=e;"onPage"in i&&(a+=i.onPage.pageIndex),n.sorts.forEach((function(e){a+=e.e.direction+e.e.fieldName})),n.groups.forEach((function(e){a+=e.e.fieldName})),n.searches.forEach((function(e){a+=e.e.searchKey}));for(var r=0;r<n.filters.length;r++){var s=n.filters[r];if(s.e.isComplex){var l=t.clone();l.queries=[];for(var o=0;o<s.e.predicates.length;o++)l.queries.push({fn:"onWhere",e:s.e.predicates[o],filter:t.queries.filter});a+=s.e.condition+this.generateKey(e,l)}else a+=s.e.field+s.e.operator+s.e.value}return a}},{key:"processQuery",value:function(e,t,n){var i,a=this.generateKey(e.dataSource.url,t),r=(i=wM.parse.parseJson(window.localStorage.getItem(this.guidId)))?i.results[i.keys.indexOf(a)]:null;return null==r||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):r}},{key:"processResponse",value:function(e,t,n,i,a,r){if(this.isInsertAction||a&&this.cacheAdaptor.options.batch&&wM.endsWith(a.url,this.cacheAdaptor.options.batch)&&"post"===a.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,n,i,a,r);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var s=n?this.generateKey(t.dataSource.url,n):t.dataSource.url,l={},o=(l=wM.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(s);for(-1!==o&&(l.results.splice(o,1),l.keys.splice(o,1)),l.results[l.keys.push(s)-1]={keys:s,result:e.result,timeStamp:new Date,count:e.count};l.results.length>this.pageSize;)l.results.splice(0,1),l.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(l)),e}},{key:"beforeSend",value:function(e,t,n){!JO(this.cacheAdaptor.options.batch)&&wM.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)}},{key:"update",value:function(e,t,n,i){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,n,i)}},{key:"insert",value:function(e,t,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,n)}},{key:"remove",value:function(e,t,n,i){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,n,i)}},{key:"batchRequest",value:function(e,t,n){return this.cacheAdaptor.batchRequest(e,t,n)}}]),n}(SM),AM=function(){function e(t,n,i){var a,r=this;return _classCallCheck(this,e),this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],t||this.dataSource||(t=[]),i=i||t.adaptor,t&&!1===t.timeZoneHandling&&(this.timeZoneHandling=t.timeZoneHandling),t instanceof Array?a={json:t,offline:!0}:"object"==typeof t?(t.json||(t.json=[]),a={url:t.url,insertUrl:t.insertUrl,removeUrl:t.removeUrl,updateUrl:t.updateUrl,crudUrl:t.crudUrl,batchUrl:t.batchUrl,json:t.json,headers:t.headers,accept:t.accept,data:t.data,timeTillExpiration:t.timeTillExpiration,cachingPageSize:t.cachingPageSize,enableCaching:t.enableCaching,requestType:t.requestType,key:t.key,crossDomain:t.crossDomain,jsonp:t.jsonp,dataType:t.dataType,offline:void 0!==t.offline?t.offline:!(t.adaptor instanceof OM||t.url),requiresFormat:t.requiresFormat}):wM.throwError("DataManager: Invalid arguments"),void 0!==a.requiresFormat||wM.isCors()||(a.requiresFormat=!!JO(a.crossDomain)||a.crossDomain),void 0===a.dataType&&(a.dataType="json"),this.dataSource=a,this.defaultQuery=n,a.url&&a.offline&&!a.json.length?(this.isDataAvailable=!1,this.adaptor=i||new EM,this.dataSource.offline=!1,this.ready=this.executeQuery(n||new kM),this.ready.then((function(e){r.dataSource.offline=!0,r.isDataAvailable=!0,a.json=e.result,r.adaptor=new xM}))):this.adaptor=a.offline?new xM:new EM,!a.jsonp&&this.adaptor instanceof EM&&(a.jsonp="callback"),this.adaptor=i||this.adaptor,a.enableCaching&&(this.adaptor=new IM(this.adaptor,a.timeTillExpiration,a.cachingPageSize)),this}return _createClass(e,[{key:"setDefaultQuery",value:function(e){return this.defaultQuery=e,this}},{key:"executeLocal",value:function(t){this.defaultQuery||t instanceof kM||wM.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||wM.throwError("DataManager - executeLocal() : Json data is required to execute");var n=this.adaptor.processQuery(this,t=t||this.defaultQuery);if(t.subQuery){var i=t.subQuery.fromTable,a=t.subQuery.lookups,r=t.isCountRequired?n.result:n;a&&a instanceof Array&&wM.buildHierarchy(t.subQuery.fKey,i,r,a,t.subQuery.key);for(var s=0;s<r.length;s++)r[s][i]instanceof Array&&(r[s]=ZO({},{},r[s]),r[s][i]=this.adaptor.processResponse(t.subQuery.using(new e(r[s][i].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(n,this,t)}},{key:"executeQuery",value:function(t,n,i,a){var r=this;"function"==typeof t&&(a=i,i=n,n=t,t=null),t||(t=this.defaultQuery),t instanceof kM||wM.throwError("DataManager - executeQuery() : A query is required to execute");var s=new DM,l={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!JO(this.adaptor.makeRequest)){var o=this.adaptor.processQuery(this,t);JO(this.adaptor.makeRequest)?JO(o.url)?(l=e.getDeferedArgs(t,o,l),s.resolve(l)):this.makeRequest(o,s,l,t):this.adaptor.makeRequest(o,s,l,t)}else e.nextTick((function(){var n=r.executeLocal(t);l=e.getDeferedArgs(t,n,l),s.resolve(l)}));return(n||i)&&s.promise.then(n,i),a&&s.promise.then(a,a),s.promise}},{key:"extendRequest",value:function(e,t,n){return ZO({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:n},e)}},{key:"makeRequest",value:function(e,t,n,i){var a=this,r=!!i.subQuerySelector,s=function(e){n.error=e,t.reject(n)},l=function(e,i,a,r,s,l,o){n.xhr=a,n.count=i?parseInt(i.toString(),10):0,n.result=e,n.request=r,n.aggregates=l,n.actual=s,n.virtualSelectRecords=o,t.resolve(n)},o=function(e,t){var o=new DM,u={parent:n};i.subQuery.isChild=!0;var c=a.adaptor.processQuery(a,i.subQuery,e?a.adaptor.processResponse(e):t),h=a.makeRequest(c,o,u,i.subQuery);return r||o.then((function(t){e&&(wM.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,e,t,i.subQuery.key),l(e,t.count,t.xhr))}),s),h},u=this.extendRequest(e,(function(e,t){-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&a.dateParse&&(e=wM.parse.parseJson(e));var n=a.adaptor.processResponse(e,a,i,t.httpRequest,t),s=0,u=null,c=e.virtualSelectRecords;i.isCountRequired&&(s=n.count,u=n.aggregates,n=n.result),i.subQuery?r||o(n,t):l(n,s,t.httpRequest,t.type,e,u,c)}),s),c=new BI(u);if(c.beforeSend=function(){a.beforeSend(c.httpRequest,c)},(u=c.send()).catch((function(e){return!0})),this.requests.push(c),r){var h=i.subQuerySelector.call(this,{query:i.subQuery,parent:i});h&&h.length?Promise.all([u,o(null,h)]).then((function(){var e=arguments.length<=0?void 0:arguments[0],t=a.adaptor.processResponse(e[0],a,i,a.requests[0].httpRequest,a.requests[0]),n=0;i.isCountRequired&&(n=t.count,t=t.result);var s=a.adaptor.processResponse(e[1],a,i.subQuery,a.requests[1].httpRequest,a.requests[1]);n=0,i.subQuery.isCountRequired&&(n=s.count,s=s.result),wM.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,t,s,i.subQuery.key),r=!1,l(t,n,a.requests[0].httpRequest)})):r=!1}return u}},{key:"beforeSend",value:function(e,t){this.adaptor.beforeSend(this,e,t);for(var n,i=this.dataSource.headers,a=0;i&&a<i.length;a++){n=[];for(var r=0,s=Object.keys(i[a]);r<s.length;r++){var l=s[r];n.push(l),e.setRequestHeader(l,i[a][l])}}}},{key:"saveChanges",value:function(e,t,n,i,a){var r=this;n instanceof kM&&(i=n,n=null);var s={url:n,key:t||this.dataSource.key},l=this.adaptor.batchRequest(this,e,s,i||new kM,a);if(this.dataSource.offline)return l;if(JO(this.adaptor.doAjaxRequest)){var o=new DM,u=new BI(l);return u.beforeSend=function(){r.beforeSend(u.httpRequest,u)},u.onSuccess=function(t,n){o.resolve(r.adaptor.processResponse(t,r,null,n.httpRequest,n,e,s))},u.onFailure=function(e){o.reject([{error:e}])},u.send().catch((function(e){return!0})),o.promise}return this.adaptor.doAjaxRequest(l)}},{key:"insert",value:function(e,t,n,i){t instanceof kM&&(n=t,t=null);var a=this.adaptor.insert(this,e,t,n,i);return this.dataSource.offline?a:JO(this.adaptor.doAjaxRequest)?this.doAjaxRequest(a):this.adaptor.doAjaxRequest(a)}},{key:"remove",value:function(e,t,n,i){"object"==typeof t&&(t=wM.getObject(e,t)),n instanceof kM&&(i=n,n=null);var a=this.adaptor.remove(this,e,t,n,i);return this.dataSource.offline?a:JO(this.adaptor.doAjaxRequest)?this.doAjaxRequest(a):this.adaptor.doAjaxRequest(a)}},{key:"update",value:function(e,t,n,i,a){n instanceof kM&&(i=n,n=null);var r=this.adaptor.update(this,e,t,n,i,a);return this.dataSource.offline?r:JO(this.adaptor.doAjaxRequest)?this.doAjaxRequest(r):this.adaptor.doAjaxRequest(r)}},{key:"doAjaxRequest",value:function(e){var t=this,n=new DM;e=ZO({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e);var i=new BI(e);return i.beforeSend=function(){t.beforeSend(i.httpRequest,i)},i.onSuccess=function(e,i){try{wM.parse.parseJson(e)}catch($K){e=[]}e=t.adaptor.processResponse(wM.parse.parseJson(e),t,null,i.httpRequest,i),n.resolve(e)},i.onFailure=function(e){n.reject([{error:e}])},i.send().catch((function(e){return!0})),n.promise}}],[{key:"getDeferedArgs",value:function(e,t,n){return e.isCountRequired?(n.result=t.result,n.count=t.count,n.aggregates=t.aggregates):n.result=t,n}},{key:"nextTick",value:function(e){(window.setImmediate||window.setTimeout)(e,0)}}]),e}(),DM=function e(){var t=this;_classCallCheck(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)};function MM(e,t,n,i,a,r){var s=i;if(i.tagName===t){var l=YO("ej2_instances",i);s=e("input",{attrs:{type:n}});for(var o=["change","cssClass","label","labelPosition","id"],u=0,c=i.attributes.length;u<c;u++)-1===o.indexOf(i.attributes[u].nodeName)&&s.setAttribute(i.attributes[u].nodeName,i.attributes[u].nodeValue);QA(i,{class:a,role:r,"aria-checked":"false"}),i.appendChild(s),GO("ej2_instances",l,s),XO(i,"ej2_instances")}return s}function TM(e){for(var t,n=e.childNodes,i=0;i<n.length;i++)if(3===(t=n[i]).nodeType)return t;return null}function PM(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e("div",{className:"e-checkbox-wrapper e-css"});if(n.cssClass&&UA([i],n.cssClass.split(" ")),n.enableRtl&&i.classList.add("e-rtl"),t){var a=e("span",{className:"e-ripple-container"});AD(a,{isCenterRipple:!0,duration:400}),i.appendChild(a)}var r=e("span",{className:"e-frame e-icons"});if(n.checked&&r.classList.add("e-check"),i.appendChild(r),n.label){var s=e("span",{className:"e-label",innerHTML:n.label});i.appendChild(s)}return i}function LM(e,t){if(t){var n=document.createEvent("MouseEvents");n.initEvent(e.type,!1,!0),t.dispatchEvent(n)}}var NM,RM,FM,HM,BM,VM=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},jM=new EI,zM=(NM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"preRender",value:function(){}},{key:"render",value:function(){this.initialize(),this.removeRippleEffect=AD(this.element,{selector:".e-btn"}),this.renderComplete()}},{key:"initialize",value:function(){if(this.cssClass&&UA([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content){var e=this.enableHtmlSanitizer?uM.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss(),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled?this.controlStatus(this.disabled):this.wireEvents()}},{key:"controlStatus",value:function(e){this.element.disabled=e}},{key:"setIconCss",value:function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),"Top"!==this.iconPosition&&"Bottom"!==this.iconPosition||this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");var t=this.element.childNodes[0];!t||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,t)}}},{key:"wireEvents",value:function(){this.isToggle&&$I.add(this.element,"click",this.btnClickHandler,this)}},{key:"unWireEvents",value:function(){this.isToggle&&$I.remove(this.element,"click",this.btnClickHandler)}},{key:"btnClickHandler",value:function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")}},{key:"destroy",value:function(){var e,t=["e-primary","e-rtl","e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),WA([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,"")),(e=this.element.querySelector("span.e-btn-icon"))&&ZA(e),this.unWireEvents(),RD&&this.removeRippleEffect()}},{key:"getModuleName",value:function(){return"btn"}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"isPrimary":e.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":var a=this.element.querySelector("span.e-btn-icon");a?e.iconCss?(a.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&a.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):ZA(a):this.setIconCss();break;case"iconPosition":WA([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),(a=this.element.querySelector("span.e-btn-icon"))&&ZA(a),this.setIconCss();break;case"cssClass":t.cssClass&&WA([this.element],t.cssClass.split(" ")),e.cssClass&&UA([this.element],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl");break;case"content":TM(this.element)||this.element.classList.remove("e-icon-btn"),this.enableHtmlSanitizer&&(e.content=uM.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss();break;case"isToggle":e.isToggle?$I.add(this.element,"click",this.btnClickHandler,this):($I.remove(this.element,"click",this.btnClickHandler),WA([this.element],["e-active"]))}}},{key:"click",value:function(){this.element.click()}},{key:"focusIn",value:function(){this.element.focus()}}],[{key:"Inject",value:function(){}}]),n}(zD),VM([bD("Left")],NM.prototype,"iconPosition",void 0),VM([bD("")],NM.prototype,"iconCss",void 0),VM([bD(!1)],NM.prototype,"disabled",void 0),VM([bD(!1)],NM.prototype,"isPrimary",void 0),VM([bD("")],NM.prototype,"cssClass",void 0),VM([bD("")],NM.prototype,"content",void 0),VM([bD(!1)],NM.prototype,"isToggle",void 0),VM([bD()],NM.prototype,"locale",void 0),VM([bD(!1)],NM.prototype,"enableHtmlSanitizer",void 0),VM([wD()],NM.prototype,"created",void 0),NM=VM([_D],NM)),qM=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},UM="e-frame",WM="e-ripple-container",YM=["title","class","style","disabled","readonly","name","value"],GM=(RM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).isFocused=!1,a.isMouseClick=!1,a}return _createClass(n,[{key:"changeState",value:function(e){var t,n,i=this.getWrapper().getElementsByClassName(UM)[0];RD&&(n=this.getWrapper().getElementsByClassName(WM)[0]),"check"===e?(i.classList.remove("e-stop"),i.classList.add("e-check"),n&&(n.classList.remove("e-ripple-stop"),n.classList.add("e-ripple-check")),t="true",this.element.checked=!0):"uncheck"===e?(WA([i],["e-check","e-stop"]),n&&WA([n],["e-ripple-check","e-ripple-stop"]),t="false",this.element.checked=!1):(i.classList.remove("e-check"),i.classList.add("e-stop"),n&&(n.classList.remove("e-ripple-check"),n.classList.add("e-ripple-stop")),t="mixed",this.element.indeterminate=!0),this.getWrapper().setAttribute("aria-checked",t)}},{key:"clickHandler",value:function(e){this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0),this.trigger("change",{checked:this.element.checked,event:e})}},{key:"destroy",value:function(){var e=this,t=this.getWrapper();_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(t.parentNode.insertBefore(this.element,t),ZA(t),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach((function(t){e.element.removeAttribute(t)}))):(["role","aria-checked","class"].forEach((function(e){t.removeAttribute(e)})),t.innerHTML="")}},{key:"focusHandler",value:function(){this.isFocused=!0}},{key:"focusOutHandler",value:function(){this.getWrapper().classList.remove("e-focus"),this.isFocused=!1}},{key:"getModuleName",value:function(){return"checkbox"}},{key:"getPersistData",value:function(){return this.addOnPersist(["checked","indeterminate"])}},{key:"getWrapper",value:function(){return this.element.parentElement.parentElement}},{key:"initialize",value:function(){JO(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState("check"),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()}},{key:"initWrapper",value:function(){var e=this.element.parentElement;e.classList.contains("e-checkbox-wrapper")||(e=this.createElement("div",{className:"e-checkbox-wrapper",attrs:{role:"checkbox","aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));var t,n,i=this.createElement("label",{attrs:{for:this.element.id}}),a=this.createElement("span",{className:"e-icons "+UM});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&UA([e],this.cssClass.split(" ")),e.appendChild(i),i.appendChild(this.element),n=i,(t=this).element.getAttribute("ejs-for")&&n.appendChild(t.createElement("input",{attrs:{name:t.name||t.element.name,value:"false",type:"hidden"}})),i.appendChild(a),RD){var r=this.createElement("span",{className:WM});"Before"===this.labelPosition?i.appendChild(r):i.insertBefore(r,a),AD(r,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)}},{key:"keyUpHandler",value:function(){this.isFocused&&this.getWrapper().classList.add("e-focus")}},{key:"labelMouseHandler",value:function(e){this.isMouseClick=!0,LM(e,this.getWrapper().getElementsByClassName(WM)[0])}},{key:"onPropertyChanged",value:function(e,t){for(var n=this.getWrapper(),i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,n.classList.remove("e-checkbox-disabled"),n.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&WA([n],t.cssClass.split(" ")),e.cssClass&&UA([n],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?n.classList.add("e-rtl"):n.classList.remove("e-rtl");break;case"label":this.setText(e.label);break;case"labelPosition":var r=n.getElementsByClassName("e-label")[0],s=n.getElementsByTagName("label")[0];ZA(r),"After"===e.labelPosition?s.appendChild(r):s.insertBefore(r,n.getElementsByClassName(UM)[0]);break;case"name":this.element.setAttribute("name",e.name);break;case"value":this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}}},{key:"preRender",value:function(){var e=this.element;this.formElement=nD(this.element,"form"),this.tagName=this.element.tagName,e=MM(this.createElement,"EJS-CHECKBOX","checkbox",e,"e-checkbox-wrapper","checkbox"),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=eI("e-"+this.getModuleName()))}},{key:"render",value:function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.renderComplete()}},{key:"setDisabled",value:function(){var e=this.getWrapper();this.element.disabled=!0,e.classList.add("e-checkbox-disabled"),e.setAttribute("aria-disabled","true")}},{key:"setText",value:function(e){var t=this.getWrapper().getElementsByClassName("e-label")[0];if(t)t.textContent=e;else{e=this.enableHtmlSanitizer?uM.sanitize(e):e,t=this.createElement("span",{className:"e-label",innerHTML:e});var n=this.getWrapper().getElementsByTagName("label")[0];"Before"===this.labelPosition?n.insertBefore(t,this.getWrapper().getElementsByClassName(UM)[0]):n.appendChild(t)}}},{key:"changeHandler",value:function(e){e.stopPropagation()}},{key:"formResetHandler",value:function(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue}},{key:"unWireEvents",value:function(){var e=this.getWrapper();$I.remove(this.element,"click",this.clickHandler),$I.remove(this.element,"keyup",this.keyUpHandler),$I.remove(this.element,"focus",this.focusHandler),$I.remove(this.element,"focusout",this.focusOutHandler);var t=e.getElementsByTagName("label")[0];$I.remove(t,"mousedown",this.labelMouseHandler),$I.remove(t,"mouseup",this.labelMouseHandler),this.formElement&&$I.remove(this.formElement,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&$I.remove(this.element,"change",this.changeHandler)}},{key:"wireEvents",value:function(){var e=this.getWrapper();$I.add(this.element,"click",this.clickHandler,this),$I.add(this.element,"keyup",this.keyUpHandler,this),$I.add(this.element,"focus",this.focusHandler,this),$I.add(this.element,"focusout",this.focusOutHandler,this);var t=e.getElementsByTagName("label")[0];$I.add(t,"mousedown",this.labelMouseHandler,this),$I.add(t,"mouseup",this.labelMouseHandler,this),this.formElement&&$I.add(this.formElement,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&$I.add(this.element,"change",this.changeHandler,this)}},{key:"updateHtmlAttributeToWrapper",value:function(){if(!JO(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];if(YM.indexOf(n)>-1){var i=this.getWrapper();"class"===n?UA([i],this.htmlAttributes[n].split(" ")):"title"===n?i.setAttribute(n,this.htmlAttributes[n]):"style"===n?this.getWrapper().getElementsByClassName(UM)[0].setAttribute(n,this.htmlAttributes[n]):this.element.setAttribute(n,this.htmlAttributes[n])}}}},{key:"click",value:function(){this.element.click()}},{key:"focusIn",value:function(){this.element.focus()}}]),n}(zD),qM([wD()],RM.prototype,"change",void 0),qM([wD()],RM.prototype,"created",void 0),qM([bD(!1)],RM.prototype,"checked",void 0),qM([bD("")],RM.prototype,"cssClass",void 0),qM([bD(!1)],RM.prototype,"disabled",void 0),qM([bD(!1)],RM.prototype,"indeterminate",void 0),qM([bD("")],RM.prototype,"label",void 0),qM([bD("After")],RM.prototype,"labelPosition",void 0),qM([bD("")],RM.prototype,"name",void 0),qM([bD("")],RM.prototype,"value",void 0),qM([bD(!1)],RM.prototype,"enableHtmlSanitizer",void 0),qM([bD({})],RM.prototype,"htmlAttributes",void 0),RM=qM([_D],RM)),XM=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},KM=(HM=FM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).isFocused=!1,a}return _createClass(n,[{key:"changeHandler",value:function(e){this.checked=!0,this.dataBind(),this.trigger("change",{value:this.value,event:e}),"EJS-RADIOBUTTON"===this.tagName&&e.stopPropagation()}},{key:"updateChange",value:function(e){for(var t,n,i=this.getRadioGroup(),a=0;a<i.length;a++)(t=i[a])!==this.element&&((n=lI(t,FM)).checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(n.angularValue=this.value))}},{key:"destroy",value:function(){var e=this,t=this.element.parentElement;_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(t.parentNode.insertBefore(this.element,t),ZA(t),this.element.checked=!1,["name","value","disabled"].forEach((function(t){e.element.removeAttribute(t)}))):(["role","aria-checked","class"].forEach((function(e){t.removeAttribute(e)})),t.innerHTML="")}},{key:"focusHandler",value:function(){this.isFocused=!0}},{key:"focusOutHandler",value:function(){this.getLabel().classList.remove("e-focus")}},{key:"getModuleName",value:function(){return"radio"}},{key:"getSelectedValue",value:function(){for(var e,t=this.getRadioGroup(),n=0,i=t.length;n<i;n++)if((e=t[n]).checked)return e.value;return""}},{key:"getRadioGroup",value:function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')}},{key:"getPersistData",value:function(){return this.addOnPersist(["checked"])}},{key:"getLabel",value:function(){return this.element.nextElementSibling}},{key:"initialize",value:function(){JO(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()}},{key:"initWrapper",value:function(){var e,t=this.element.parentElement;t.classList.contains("e-radio-wrapper")||(t=this.createElement("div",{className:"e-radio-wrapper"}),this.element.parentNode.insertBefore(t,this.element));var n=this.createElement("label",{attrs:{for:this.element.id}});t.appendChild(this.element),t.appendChild(n),RD&&(e=this.createElement("span",{className:"e-ripple-container"}),n.appendChild(e),AD(e,{duration:400,isCenterRipple:!0})),t.classList.add("e-wrapper"),this.enableRtl&&n.classList.add("e-rtl"),this.cssClass&&UA([n],this.cssClass.split(" ")),this.label&&this.setText(this.label)}},{key:"keyUpHandler",value:function(){this.isFocused&&this.getLabel().classList.add("e-focus")}},{key:"labelRippleHandler",value:function(e){LM(e,this.getLabel().getElementsByClassName("e-ripple-container")[0])}},{key:"formResetHandler",value:function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&QA(this.element,{checked:"true"})}},{key:"onPropertyChanged",value:function(e,t){for(var n=this.getLabel(),i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"checked":e.checked&&this.updateChange(e.checked),this.element.checked=e.checked;break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&WA([n],t.cssClass.split(" ")),e.cssClass&&UA([n],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?n.classList.add("e-rtl"):n.classList.remove("e-rtl");break;case"label":this.setText(e.label);break;case"labelPosition":"Before"===e.labelPosition?n.classList.add("e-right"):n.classList.remove("e-right");break;case"name":this.element.setAttribute("name",e.name);break;case"value":this.element.setAttribute("value",e.value)}}},{key:"preRender",value:function(){var e=this.element;if(this.formElement=nD(this.element,"form"),this.tagName=this.element.tagName,e=MM(this.createElement,"EJS-RADIOBUTTON","radio",e,"e-radio-wrapper","radio"),this.element=e,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=eI("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){var t=this.element.getAttribute("formcontrolname");t&&(this.setProperties({name:t},!0),this.element.setAttribute("name",t))}}},{key:"render",value:function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}},{key:"setDisabled",value:function(){this.element.disabled=!0}},{key:"setText",value:function(e){var t=this.getLabel(),n=t.getElementsByClassName("e-label")[0];n?n.textContent=e:(e=this.enableHtmlSanitizer?uM.sanitize(e):e,n=this.createElement("span",{className:"e-label",innerHTML:e}),t.appendChild(n)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")}},{key:"unWireEvents",value:function(){var e=this.getLabel();$I.remove(this.element,"change",this.changeHandler),$I.remove(this.element,"focus",this.focusHandler),$I.remove(this.element,"focusout",this.focusOutHandler),$I.remove(this.element,"keyup",this.keyUpHandler);var t=e.getElementsByClassName("e-label")[0];t&&($I.remove(t,"mousedown",this.labelRippleHandler),$I.remove(t,"mouseup",this.labelRippleHandler)),this.formElement&&$I.remove(this.formElement,"reset",this.formResetHandler)}},{key:"wireEvents",value:function(){var e=this.getLabel();$I.add(this.element,"change",this.changeHandler,this),$I.add(this.element,"keyup",this.keyUpHandler,this),$I.add(this.element,"focus",this.focusHandler,this),$I.add(this.element,"focusout",this.focusOutHandler,this);var t=e.getElementsByClassName("e-label")[0];t&&($I.add(t,"mousedown",this.labelRippleHandler,this),$I.add(t,"mouseup",this.labelRippleHandler,this)),this.formElement&&$I.add(this.formElement,"reset",this.formResetHandler,this)}},{key:"click",value:function(){this.element.click()}},{key:"focusIn",value:function(){this.element.focus()}}]),n}(zD),XM([wD()],HM.prototype,"change",void 0),XM([wD()],HM.prototype,"created",void 0),XM([bD(!1)],HM.prototype,"checked",void 0),XM([bD("")],HM.prototype,"cssClass",void 0),XM([bD(!1)],HM.prototype,"disabled",void 0),XM([bD("")],HM.prototype,"label",void 0),XM([bD("After")],HM.prototype,"labelPosition",void 0),XM([bD("")],HM.prototype,"name",void 0),XM([bD("")],HM.prototype,"value",void 0),XM([bD(!1)],HM.prototype,"enableHtmlSanitizer",void 0),HM=FM=XM([_D],HM)),$M={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};function ZM(e,t){var n={};if(JO(e)||"string"==typeof e||"number"==typeof e||!JO(e.isHeader))return e;for(var i=0,a=Object.keys(t);i<a.length;i++){var r=t[a[i]],s=JO(r)||"string"!=typeof r?void 0:YO(r,e);JO(s)||(n[r]=s)}return n}!function(e){e.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},n={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:e.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function i(e,t,n,i){return b(e,a(e,t,n,i),null,i)}function a(e,t,i,a){var r=[],s=ZO({},n,a);$M=g(s.moduleName);for(var l=p(),o=0;o<t.length;o++)if(!JO(t[o])){var u;s.itemCreating&&"function"==typeof s.itemCreating&&s.itemCreating({dataSource:t,curData:t[o],text:t[o],options:s}),u=i?m(e,t[o],void 0,null,null,[],null,l,o,a):y(e,t[o],void 0,null,null,a),s.itemCreated&&"function"==typeof s.itemCreated&&s.itemCreated({dataSource:t,curData:t[o],text:t[o],item:u,options:s}),r.push(u)}return r}function r(i,a,r,s,l){var o=ZO({},n,r);$M=g(o.moduleName);var u,d=ZO({},e.defaultMappedFields,o.fields),v=ZO({},t,o.ariaAttributes),b=[];s&&(v.level=s);var k,C,w=[];a&&a.length&&!JO(c(a).item)&&!c(a).item.hasOwnProperty(d.id)&&(u=p());for(var _=0;_<a.length;_++){var x=ZM(a[_],d);if(!JO(a[_])){o.itemCreating&&"function"==typeof o.itemCreating&&o.itemCreating({dataSource:a,curData:a[_],text:x[d.text],options:o,fields:d});var S=a[_];o.itemCreating&&"function"==typeof o.itemCreating&&(x=ZM(a[_],d)),x.hasOwnProperty(d.id)&&!JO(x[d.id])&&(u=x[d.id]);var E=[];if(o.showCheckBox&&(o.itemNavigable&&(x[d.url]||x[d.urlAttributes])?b.push(i("input",{className:$M.check,attrs:{type:"checkbox"}})):E.push(i("input",{className:$M.check,attrs:{type:"checkbox"}}))),!0===l)o.showIcon&&x.hasOwnProperty(d.iconCss)&&!JO(x[d.iconCss])&&E.push(i("span",{className:$M.icon+" "+x[d.iconCss]})),C=(k=m(i,S,x,d,o.itemClass,E,!(!S.hasOwnProperty("isHeader")||!S.isHeader),u,_,r)).querySelector("."+$M.anchorWrap),o.itemNavigable&&b.length&&XA(b,k.firstElementChild);else{if((k=y(i,S,x,d,o.itemClass,r)).classList.add($M.level+"-"+v.level),k.setAttribute("aria-level",v.level.toString()),C=k.querySelector("."+$M.anchorWrap),x.hasOwnProperty(d.tooltip)&&k.setAttribute("title",x[d.tooltip]),x.hasOwnProperty(d.htmlAttributes)&&x[d.htmlAttributes]&&h(k,x[d.htmlAttributes]),x.hasOwnProperty(d.enabled)&&!1===x[d.enabled]&&k.classList.add($M.disabled),x.hasOwnProperty(d.isVisible)&&!1===x[d.isVisible]&&(k.style.display="none"),x.hasOwnProperty(d.imageUrl)&&!JO(x[d.imageUrl])&&!o.template){var O={src:x[d.imageUrl]};$O(O,x[d.imageAttributes]);var I=i("img",{className:$M.image,attrs:O});C?C.insertAdjacentElement("afterbegin",I):XA([I],k.firstElementChild)}if(o.showIcon&&x.hasOwnProperty(d.iconCss)&&!JO(x[d.iconCss])&&!o.template){var A;A=i("div",{className:$M.icon+" "+x[d.iconCss]}),C?C.insertAdjacentElement("afterbegin",A):XA([A],k.firstElementChild)}E.length&&XA(E,k.firstElementChild),o.itemNavigable&&b.length&&XA(b,k.firstElementChild),f(i,x,d,0,o,k,v.level)}C&&UA([k],[$M.navigable]),o.itemCreated&&"function"==typeof o.itemCreated&&o.itemCreated({dataSource:a,curData:a[_],text:x[d.text],item:k,options:o,fields:d}),b=[],w.push(k)}}return w}function s(e,t,i,a,s){var l=ZO({},n,i);return b(e,r(e,t,i,a,s),l.listClass,i)}function l(e,t){if(t&&e){return Array.prototype.slice.call(t).indexOf(e)}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new kM;if("Ascending"===e)n.sortBy(t,"ascending",!0);else if("Descending"===e)n.sortBy(t,"descending",!0);else for(var i=0;i<n.queries.length;i++)"onSortBy"===n.queries[i].fn&&n.queries.splice(i,1);return n}function u(e,t){return new AM(e).executeLocal(t)}function c(e){for(var t=0;t<e.length;t++)if(!JO(e[t]))return{typeof:typeof e[t],item:e[t]};return{typeof:null,item:null}}function h(e,t){var n={};$O(n,t),n.class&&(UA([e],n.class.split(" ")),delete n.class),QA(e,n)}function d(e){for(var t={},n=e.attributes,i=0;i<n.length;i++)t[n[i].nodeName]=n[i].nodeValue;return t}function p(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function f(e,t,n,i,a,r,l){var o=t[n.child]||[],u=t[n.hasChildren];if(o.length&&(u=!0,r.classList.add($M.hasChild),a.processSubChild)){var c=s(e,o,a,++l);r.appendChild(c)}a.expandCollapse&&u&&!a.template&&(r.firstElementChild.classList.add($M.iconWrapper),("Left"===a.expandIconPosition?XA:KA)([e("div",{className:"e-icons "+a.expandIconClass})],r.querySelector("."+$M.textContent)))}function m(e,i,a,r,s,l,o,u,c,d){var p,f,m=ZO({},n,d),g=ZO({},t,m.ariaAttributes),y=i,b=i;"string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i&&(p=i,y="boolean"==typeof a[r.text]||"number"==typeof a[r.text]?a[r.text]:a[r.text]||"",b=a[r.value]),f=JO(p)||JO(a[r.id])||""===a[r.id]?u+"-"+c:u;var k=e("li",{className:(!0===o?$M.group:$M.li)+" "+(JO(s)?"":s),id:f,attrs:""!==g.groupItemRole&&""!==g.itemRole?{role:!0===o?g.groupItemRole:g.itemRole}:{}});return p&&a.hasOwnProperty(r.enabled)&&"false"===a[r.enabled].toString()&&k.classList.add($M.disabled),o?k.innerText=y:(k.setAttribute("data-value",JO(b)?"null":b),k.setAttribute("role","option"),p&&a.hasOwnProperty(r.htmlAttributes)&&a[r.htmlAttributes]&&h(k,a[r.htmlAttributes]),l.length&&!m.itemNavigable&&KA(l,k),p&&(a[r.url]||a[r.urlAttributes]&&a[r.urlAttributes].href)?k.appendChild(v(e,p,r,y,l,m.itemNavigable)):(l.length&&m.itemNavigable&&KA(l,k),k.appendChild(document.createTextNode(y)))),k}function g(e){return{li:"e-".concat(e,"-item"),ul:"e-".concat(e,"-parent e-ul"),group:"e-".concat(e,"-group-item"),icon:"e-".concat(e,"-icon"),text:"e-".concat(e,"-text"),check:"e-".concat(e,"-check"),checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-".concat(e,"-url"),collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-".concat(e,"-img"),iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function v(e,t,n,i,a,r){var s,l=ZM(t,n),o={href:l[n.url]};if(l.hasOwnProperty(n.urlAttributes)&&l[n.urlAttributes]&&($O(o,l[n.urlAttributes]),o.href=l[n.url]?l[n.url]:l[n.urlAttributes].href),r){s=e("a",{className:$M.text+" "+$M.url});var u=e("div",{className:$M.anchorWrap});a&&a.length&&KA(a,u),u.appendChild(document.createTextNode(i)),KA([u],s)}else s=e("a",{className:$M.text+" "+$M.url,innerHTML:i});return h(s,o),s}function y(e,i,a,r,s,l){var o,u,c,h=ZO({},n,l),d=ZO({},t,h.ariaAttributes),f=i;"string"!=typeof i&&"number"!=typeof i&&(c=i,f=a[r.text]||"",o=a[r.id],u=!(!i.hasOwnProperty("isHeader")||!i.isHeader)),l&&l.enableHtmlSanitizer&&(f=uM.sanitize(f));var m=e("li",{className:(!0===u?$M.group:$M.li)+" "+(JO(s)?"":s),attrs:""!==d.groupItemRole&&""!==d.itemRole?{role:!0===u?d.groupItemRole:d.itemRole}:{}});if(JO(o)?m.setAttribute("data-uid",p()):m.setAttribute("data-uid",o),l&&l.removeBlazorID&&"object"==typeof i&&i.hasOwnProperty("BlazId")&&delete i.BlazId,u&&l&&l.groupTemplate)KA(_A(l.groupTemplate)(i,null,null,h.groupTemplateID,!!h.isStringTemplate),m);else if(!u&&l&&l.template)KA(_A(l.template)(i,null,null,h.templateID,!!h.isStringTemplate),m);else{var g=e("div",{className:$M.textContent,attrs:""!==d.wrapperRole?{role:d.wrapperRole}:{}});if(c&&(a[r.url]||a[r.urlAttributes]&&a[r.urlAttributes].href))g.appendChild(v(e,c,r,f,null,h.itemNavigable));else{var y=e("span",{className:$M.text,attrs:""!==d.itemText?{role:d.itemText}:{}});l&&l.enableHtmlSanitizer?y.innerText=uM.sanitize(f):y.innerHTML=f,g.appendChild(y)}m.appendChild(g)}return m}function b(e,i,a,r){var s=ZO({},n,r),l=ZO({},t,s.ariaAttributes),o=e("ul",{className:($M=g(s.moduleName)).ul+" "+(JO(a)?"":a),attrs:""!==l.listRole?{role:l.listRole}:{}});return KA(i,o),o}e.createList=function(e,a,r,l){var o=ZO({},n,r),u=ZO({},t,o.ariaAttributes),h=c(a).typeof;return"string"===h||"number"===h?i(e,a,l,r):s(e,a,r,u.level,l)},e.createListFromArray=i,e.createListItemFromArray=a,e.createListItemFromJson=r,e.createListFromJson=s,e.getSiblingLI=function(e,t,i){if($M=g(n.moduleName),e&&e.length){var a,r,s=Array.prototype.slice.call(e);for(a=s[(r=t?l(t,s):!0===i?s.length:-1)+(!0===i?-1:1)];a&&(!GA(a)||a.classList.contains($M.disabled));)a=s[r+=!0===i?-1:1];return a}},e.indexOf=l,e.groupDataSource=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"None",a=ZO({},e.defaultMappedFields,n),r=(new kM).group(a.groupBy),s=u(t,r=o(i,"key",r));t=[];for(var l=0;l<s.length;l++){var c=s[l].items,h={},d="isHeader";h[a.text]=s[l].key,h[d]=!0,h.id="group-list-item-"+(s[l].key?s[l].key.toString().trim():"undefined"),h.items=c,t.push(h);for(var p=0;p<c.length;p++)t.push(c[p])}return t},e.addSorting=o,e.getDataSource=u,e.createJsonFromElement=function t(i,a){var r=ZO({},n,a),s=ZO({},e.defaultMappedFields,r.fields),l=i.cloneNode(!0),o=[];l.classList.add("json-parent");var u=l.querySelectorAll(".json-parent>li");l.classList.remove("json-parent");for(var c=0;c<u.length;c++){for(var h=u[c],f=h.querySelector("a"),m=h.querySelector("ul"),g={},v=f?f.childNodes:h.childNodes,y=Object.keys(v),b=0;b<v.length;b++)v[Number(y[b])].hasChildNodes()||(g[s.text]=v[Number(y[b])].textContent);var k=d(h);k.id?(g[s.id]=k.id,delete k.id):g[s.id]=p(),Object.keys(k).length&&(g[s.htmlAttributes]=k),f&&(k=d(f),Object.keys(k).length&&(g[s.urlAttributes]=k)),m&&(g[s.child]=t(m,a)),o.push(g)}return o},e.renderContentTemplate=function(t,i,a,r,s){for(var l=t("ul",{className:($M=g(n.moduleName)).ul,attrs:{role:"presentation"}}),o=ZO({},n,s),u=ZO({},e.defaultMappedFields,r),c=_A(i),h=[],d=p(),f=0;f<a.length;f++){var m=ZM(a[f],u),v=a[f],y=v.isHeader,b=m[u.value];o.itemCreating&&"function"==typeof o.itemCreating&&o.itemCreating({dataSource:a,curData:v,text:b,options:o,fields:u}),o.itemCreating&&"function"==typeof o.itemCreating&&(b=(m=ZM(a[f],u))[u.value]);var k=t("li",{id:d+"-"+f,className:y?$M.group:$M.li,attrs:{role:"presentation"}});y?k.innerText=m[u.text]:(KA(c(v,null,null,y?o.groupTemplateID:o.templateID,!!o.isStringTemplate),k),k.setAttribute("data-value",JO(b)?"null":b),k.setAttribute("role","option")),o.itemCreated&&"function"==typeof o.itemCreated&&o.itemCreated({dataSource:a,curData:v,text:b,item:k,options:o,fields:u}),h.push(k)}return KA(h,l),l},e.renderGroupTemplate=function(t,i,a,r,s){var l,o=_A(t),u=ZO({},e.defaultMappedFields,a),c=ZO({},n,s),h=u.groupBy,d=_createForOfIteratorHelper(r);try{for(d.s();!(l=d.n()).done;){var p=l.value,f={};f[h]=p.textContent,p.innerHTML="",KA(o(f,null,null,c.groupTemplateID,!!c.isStringTemplate),p)}}catch(m){d.e(m)}finally{d.f()}return r},e.generateId=p,e.generateUL=b,e.generateIcon=function(e,t,i,a){var r=ZO({},n,a);return $M=g(r.moduleName),("Left"===r.expandIconPosition?XA:KA)([e("div",{className:"e-icons "+r.expandIconClass+" "+(JO(i)?"":i)})],t.querySelector("."+$M.textContent)),t}}(BM||(BM={}));var JM,QM,eT,tT,nT,iT,aT,rT,sT=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},lT={None:[],SlideLeft:["SlideRightOut","SlideLeftOut","SlideLeftIn","SlideRightIn"],SlideDown:["SlideTopOut","SlideBottomOut","SlideBottomIn","SlideTopIn"],Zoom:["FadeOut","FadeZoomOut","FadeZoomIn","FadeIn"],Fade:["FadeOut","FadeOut","FadeIn","FadeIn"]},oT={None:[],SlideLeft:["SlideLeftOut","SlideRightOut","SlideRightIn","SlideLeftIn"],SlideDown:["SlideBottomOut","SlideTopOut","SlideTopIn","SlideBottomIn"],Zoom:["FadeZoomOut","FadeOut","FadeIn","FadeZoomIn"],Fade:["FadeOut","FadeOut","FadeIn","FadeIn"]},uT={root:"e-listview",hover:"e-hover",selected:"e-active",focused:"e-focused",parentItem:"e-list-parent",listItem:"e-list-item",listIcon:"e-list-icon",textContent:"e-text-content",listItemText:"e-list-text",groupListItem:"e-list-group-item",hasChild:"e-has-child",view:"e-view",header:"e-list-header",headerText:"e-headertext",headerTemplateText:"e-headertemplate-text",text:"e-text",disable:"e-disabled",content:"e-content",icon:"e-icons",backIcon:"e-icon-back",checkboxWrapper:"e-checkbox-wrapper",checkbox:"e-checkbox",checked:"e-check",checklist:"e-checklist",checkboxIcon:"e-frame",checkboxRight:"e-checkbox-right",checkboxLeft:"e-checkbox-left",listviewCheckbox:"e-listview-checkbox",itemCheckList:"e-checklist"},cT=(rT=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),sT([bD("id")],rT.prototype,"id",void 0),sT([bD("text")],rT.prototype,"text",void 0),sT([bD("isChecked")],rT.prototype,"isChecked",void 0),sT([bD("isVisible")],rT.prototype,"isVisible",void 0),sT([bD("enabled")],rT.prototype,"enabled",void 0),sT([bD("iconCss")],rT.prototype,"iconCss",void 0),sT([bD("child")],rT.prototype,"child",void 0),sT([bD("tooltip")],rT.prototype,"tooltip",void 0),sT([bD("groupBy")],rT.prototype,"groupBy",void 0),sT([bD("text")],rT.prototype,"sortBy",void 0),sT([bD("htmlAttributes")],rT.prototype,"htmlAttributes",void 0),sT([bD("tableName")],rT.prototype,"tableName",void 0),rT),hT=(aT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).itemReRender=!1,a}return _createClass(n,[{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"htmlAttributes":this.setHTMLAttribute();break;case"cssClass":this.setCSSClass(t.cssClass);break;case"enable":this.setEnable();break;case"width":case"height":this.setSize();break;case"enableRtl":this.setEnableRTL();break;case"fields":this.listBaseOption.fields=this.fields.properties,this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"headerTitle":this.curDSLevel.length||this.header(this.headerTitle,!1);break;case"query":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"showHeader":this.header(this.headerTitle,!1);break;case"enableVirtualization":JO(this.contentContainer)||ZA(this.contentContainer),this.refresh();break;case"showCheckBox":case"checkBoxPosition":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.setCheckbox();break;case"dataSource":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"sortOrder":case"showIcon":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():(this.listBaseOption.showIcon=this.showIcon,this.curViewDS=this.getSubDS(),this.resetCurrentList())}}},{key:"setHTMLAttribute",value:function(){Object.keys(this.htmlAttributes).length&&QA(this.element,this.htmlAttributes)}},{key:"setCSSClass",value:function(e){this.cssClass&&UA([this.element],this.cssClass.split(" ").filter((function(e){return e}))),e&&WA([this.element],e.split(" ").filter((function(e){return e})))}},{key:"setSize",value:function(){this.element.style.height=aI(this.height),this.element.style.width=aI(this.width),this.isWindow=!this.element.clientHeight}},{key:"setEnable",value:function(){this.enableElement(this.element,this.enable)}},{key:"setEnableRTL",value:function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}},{key:"enableElement",value:function(e,t){t?e.classList.remove(uT.disable):e.classList.add(uT.disable)}},{key:"header",value:function(e,t){if(void 0===this.headerEle&&this.showHeader){this.enableHtmlSanitizer&&this.setProperties({headerTitle:uM.sanitize(this.headerTitle)},!0),this.headerEle=this.createElement("div",{className:uT.header});var n=this.createElement("span",{className:uT.headerText,innerHTML:this.headerTitle}),i=this.createElement("div",{className:uT.text,innerHTML:n.outerHTML}),a=this.createElement("div",{className:uT.icon+" "+uT.backIcon+" e-but-back",attrs:{style:"display:none;"}});if(this.headerEle.appendChild(a),this.headerEle.appendChild(i),this.headerTemplate){var r=_A(this.headerTemplate),s=this.createElement("div",{className:uT.headerTemplateText});KA(r({},null,null,this.LISTVIEW_HEADERTEMPLATE_ID),s),KA([s],this.headerEle),this.updateBlazorTemplates(!1,!0,!0)}this.headerTemplate&&this.headerTitle&&i.classList.add("header"),this.element.classList.add("e-has-header"),XA([this.headerEle],this.element)}else if(this.headerEle)if(this.showHeader){this.headerEle.style.display="";var l=this.headerEle.querySelector("."+uT.headerText),o=this.headerEle.querySelector("."+uT.backIcon);this.enableHtmlSanitizer&&(e=uM.sanitize(e)),l.innerHTML=e,this.headerTemplate&&t&&(l.parentElement.classList.remove("header"),this.headerEle.querySelector("."+uT.headerTemplateText).classList.add("nested-header")),this.headerTemplate&&!t&&(l.parentElement.classList.add("header"),this.headerEle.querySelector("."+uT.headerTemplateText).classList.remove("nested-header"),this.headerEle.querySelector("."+uT.headerTemplateText).classList.add("header")),o.style.display=!0===t?"":"none"}else this.headerEle.style.display="none"}},{key:"switchView",value:function(e,t,n){var i=this;if(e&&t){var a,r=e.style.position,s="hidden"!==this.element.style.overflow?this.element.style.overflow:"";e.style.position="absolute",e.classList.add("e-view");var l=this.animation.duration;this.animation.effect?a=this.enableRtl?oT[this.animation.effect]:lT[this.animation.effect]:(a=lT.SlideLeft,n=this.enableRtl,l=0),this.element.style.overflow="hidden",this.aniObj.animate(e,{name:!0===n?a[0]:a[1],duration:l,timingFunction:this.animation.easing,end:function(t){e.style.display="none",i.element.style.overflow=s,e.style.position=r,e.classList.remove("e-view")}}),t.style.display="",this.aniObj.animate(t,{name:!0===n?a[2]:a[3],duration:l,timingFunction:this.animation.easing,end:function(){i.trigger("actionComplete")}}),this.curUL=t}}},{key:"preRender",value:function(){this.listBaseOption={template:this.template,headerTemplate:this.headerTemplate,groupTemplate:this.groupTemplate,expandCollapse:!0,listClass:"",ariaAttributes:{itemRole:"option",listRole:"presentation",itemText:"",groupItemRole:"group",wrapperRole:"presentation"},fields:this.fields.properties,sortOrder:this.sortOrder,showIcon:this.showIcon,itemCreated:this.renderCheckbox.bind(this),templateID:"".concat(this.element.id,"Template"),groupTemplateID:"".concat(this.element.id,"GroupTemplate"),enableHtmlSanitizer:this.enableHtmlSanitizer,removeBlazorID:!0},this.initialization()}},{key:"initialization",value:function(){this.curDSLevel=[],this.animateOptions={},this.curViewDS=[],this.currentLiElements=[],this.isNestedList=!1,this.selectedData=[],this.selectedId=[],this.LISTVIEW_TEMPLATE_ID="".concat(this.element.id,"Template"),this.LISTVIEW_GROUPTEMPLATE_ID="".concat(this.element.id,"GroupTemplate"),this.LISTVIEW_HEADERTEMPLATE_ID="".concat(this.element.id,"HeaderTemplate"),this.aniObj=new ID(this.animateOptions),this.removeElement(this.curUL),this.removeElement(this.ulElement),this.removeElement(this.headerEle),this.removeElement(this.contentContainer),this.curUL=this.ulElement=this.liCollection=this.headerEle=this.contentContainer=void 0}},{key:"renderCheckbox",value:function(e){if(e.item.classList.contains(uT.hasChild)&&(this.isNestedList=!0),this.showCheckBox&&this.isValidLI(e.item)){var t;(t=PM(this.createElement,!1,{checked:!1,enableRtl:this.enableRtl,cssClass:uT.listviewCheckbox})).setAttribute("role","checkbox");var n=t.querySelector("."+uT.checkboxIcon);e.item.classList.add(uT.itemCheckList),e.item.firstElementChild.classList.add(uT.checkbox),"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]?ZM(e.curData,this.listBaseOption.fields)[this.listBaseOption.fields.isChecked]&&this.checkInternally(e,t):"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]||-1===this.selectedData.indexOf(e.text)||this.checkInternally(e,t),t.setAttribute("aria-checked",n.classList.contains(uT.checked)?"true":"false"),"Left"===this.checkBoxPosition?(t.classList.add(uT.checkboxLeft),e.item.firstElementChild.classList.add(uT.checkboxLeft),e.item.firstElementChild.insertBefore(t,e.item.firstElementChild.childNodes[0])):(t.classList.add(uT.checkboxRight),e.item.firstElementChild.classList.add(uT.checkboxRight),e.item.firstElementChild.appendChild(t)),this.currentLiElements.push(e.item),this.virtualCheckBox="Left"==this.checkBoxPosition?e.item.firstElementChild.children[0]:e.item.firstElementChild.lastElementChild}}},{key:"checkInternally",value:function(e,t){e.item.classList.add(uT.selected),e.item.setAttribute("aria-selected","true"),t.querySelector("."+uT.checkboxIcon).classList.add(uT.checked),t.setAttribute("aria-checked","true")}},{key:"checkItem",value:function(e){this.toggleCheckBase(e,!0)}},{key:"toggleCheckBase",value:function(e,t){if(this.showCheckBox){var n=e;if(e instanceof Object&&e.constructor!==HTMLLIElement&&(n=this.getLiFromObjOrElement(e)),!JO(n)){var i=n.querySelector("."+uT.checkboxIcon);t?n.classList.add(uT.selected):n.classList.remove(uT.selected),n.setAttribute("aria-selected",t?"true":"false"),t?i.classList.add(uT.checked):i.classList.remove(uT.checked),i.parentElement.setAttribute("aria-checked",t?"true":"false")}this.setSelectedItemData(n)}}},{key:"uncheckItem",value:function(e){this.toggleCheckBase(e,!1)}},{key:"checkAllItems",value:function(){this.toggleAllCheckBase(!0)}},{key:"uncheckAllItems",value:function(){this.toggleAllCheckBase(!1)}},{key:"toggleAllCheckBase",value:function(e){if(this.showCheckBox){for(var t=0;t<this.liCollection.length;t++){var n=this.liCollection[t].querySelector("."+uT.checkboxIcon);n&&(e?n.classList.contains(uT.checked)||this.checkItem(this.liCollection[t]):n.classList.contains(uT.checked)&&this.uncheckItem(this.liCollection[t]))}this.enableVirtualization&&this.virtualizationModule.checkedItem(e)}}},{key:"setCheckbox",value:function(){if(this.showCheckBox)for(var e=Array.prototype.slice.call(this.element.querySelectorAll("."+uT.listItem)),t={item:void 0,curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:""},n=0;n<e.length;n++){var i=e[n];t.item=i,t.curData=this.getItemData(i),i.querySelector("."+uT.checkboxWrapper)&&this.removeElement(i.querySelector("."+uT.checkboxWrapper)),this.renderCheckbox(t),t.item.classList.contains(uT.selected)&&this.checkInternally(t,t.item.querySelector("."+uT.checkboxWrapper))}else{for(var a=Array.prototype.slice.call(this.element.querySelectorAll("."+uT.itemCheckList)),r=0;r<a.length;r++){var s=a[r];s.classList.remove(uT.selected),s.firstElementChild.classList.remove(uT.checkbox),this.removeElement(s.querySelector("."+uT.checkboxWrapper))}this.selectedItems&&this.selectedItems.item.classList.add(uT.selected)}}},{key:"refreshItemHeight",value:function(){this.virtualizationModule.refreshItemHeight()}},{key:"clickHandler",value:function(e){var t=e.target,n=t.classList;if(n.contains(uT.backIcon)||n.contains(uT.headerText))this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back();else{var i=nD(t.parentNode,"."+uT.listItem);if(null===i&&(i=t),this.removeFocus(),this.enable&&this.showCheckBox&&this.isValidLI(i))if(e.target.classList.contains(uT.checkboxIcon)){if(i.classList.add(uT.focused),JO(i.querySelector("."+uT.checked))){var a={curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:void 0,item:i};this.checkInternally(a,a.item.querySelector("."+uT.checkboxWrapper))}else this.uncheckItem(i),i.classList.add(uT.focused);if(this.enableVirtualization&&this.virtualizationModule.setCheckboxLI(i,e),e){var r=this.selectEventData(i,e);$O(r,{isChecked:i.querySelector("."+uT.checkboxIcon).classList.contains(uT.checked)}),this.trigger("select",r)}}else i.classList.contains(uT.hasChild)?(this.removeHover(),this.removeSelect(),this.removeSelect(i),this.setSelectLI(i,e),i.classList.remove(uT.selected)):this.setCheckboxLI(i,e);else this.setSelectLI(i,e);e.target.closest("li")&&e.target.closest("li").classList.contains("e-has-child")&&!e.target.parentElement.classList.contains("e-listview-checkbox")&&e.target.closest("li").classList.add(uT.disable)}}},{key:"removeElement",value:function(e){return e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"hoverHandler",value:function(e){var t=nD(e.target.parentNode,"."+uT.listItem);this.setHoverLI(t)}},{key:"leaveHandler",value:function(e){this.removeHover()}},{key:"homeKeyHandler",value:function(e,t){if(Object.keys(this.dataSource).length&&this.curUL){this.selectedItems&&this.selectedItems.item.setAttribute("aria-selected","false");var n=this.curUL.querySelectorAll("."+uT.listItem),i=this.curUL.querySelector("."+uT.focused)||this.curUL.querySelector("."+uT.selected);i&&(i.classList.remove(uT.focused),this.showCheckBox||i.classList.remove(uT.selected));var a=t?n.length-1:0;n[a].classList.contains(uT.hasChild)||this.showCheckBox?n[a].classList.add(uT.focused):this.setSelectLI(n[a],e),n[a]?this.element.setAttribute("aria-activedescendant",n[a].id.toString()):this.element.removeAttribute("aria-activedescendant")}}},{key:"onArrowKeyDown",value:function(e,t){var n,i;return!JO(this.curUL.querySelector("."+uT.hasChild))||this.showCheckBox?(i=this.curUL.querySelector("."+uT.focused)||this.curUL.querySelector("."+uT.selected),JO(n=BM.getSiblingLI(this.curUL.querySelectorAll("."+uT.listItem),i,t))||(i&&(i.classList.remove(uT.focused),this.showCheckBox||i.classList.remove(uT.selected)),n.classList.contains(uT.hasChild)||this.showCheckBox?n.classList.add(uT.focused):this.setSelectLI(n,e))):(i=this.curUL.querySelector("."+uT.selected),n=BM.getSiblingLI(this.curUL.querySelectorAll("."+uT.listItem),i,t),this.setSelectLI(n,e)),n?this.element.setAttribute("aria-activedescendant",n.id.toString()):this.element.removeAttribute("aria-activedescendant"),n}},{key:"arrowKeyHandler",value:function(e,t){var n=this;if(e.preventDefault(),Object.keys(this.dataSource).length&&this.curUL){var i,a,r=this.onArrowKeyDown(e,t),s=this.element.getBoundingClientRect().top,l=this.element.getBoundingClientRect().height,o=this.curUL.querySelector("."+uT.listItem).getBoundingClientRect();if(this.fields.groupBy&&(a=this.curUL.querySelector("."+uT.groupListItem).getBoundingClientRect()),r){var u=r.getBoundingClientRect().top,c=r.getBoundingClientRect().height;if(t)(i=this.isWindow?u:u-s)<0&&(this.isWindow?window.scroll(0,pageYOffset+i):this.element.scrollTop=this.element.scrollTop+i);else{var h=this.isWindow?window.innerHeight:l;(i=this.isWindow?u+c:u-s+c)>h&&(this.isWindow?window.scroll(0,pageYOffset+(i-h)):this.element.scrollTop=this.element.scrollTop+(i-h))}}else if(this.enableVirtualization&&t&&this.virtualizationModule.uiFirstIndex)this.onUIScrolled=function(){n.onArrowKeyDown(e,t),n.onUIScrolled=void 0},i=this.virtualizationModule.listItemHeight,this.isWindow?window.scroll(0,pageYOffset-i):this.element.scrollTop=this.element.scrollTop-i;else if(t)if(this.showHeader&&this.headerEle){var d=a?a.top:o.top,p=this.headerEle.getBoundingClientRect();i=p.top<0?p.height-d:0,this.isWindow?window.scroll(0,pageYOffset-i):this.element.scrollTop=0}else this.fields.groupBy&&(i=this.isWindow?a.top<0?a.top:0:s-o.top+a.height,this.isWindow?window.scroll(0,pageYOffset+i):this.element.scrollTop=this.element.scrollTop-i)}}},{key:"enterKeyHandler",value:function(e){if(Object.keys(this.dataSource).length&&this.curUL){var t=!JO(this.curUL.querySelector("."+uT.hasChild)),n=this.curUL.querySelector("."+uT.focused);t&&n&&(n.classList.remove(uT.focused),this.showCheckBox&&(this.removeSelect(),this.removeSelect(n),this.removeHover()),this.setSelectLI(n,e))}}},{key:"spaceKeyHandler",value:function(e){if(this.enable&&this.showCheckBox&&Object.keys(this.dataSource).length&&this.curUL){var t=this.curUL.querySelector("."+uT.focused);if(!JO(t)&&JO(t.querySelector("."+uT.checked))){var n={curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:void 0,item:t};this.checkInternally(n,n.item.querySelector("."+uT.checkboxWrapper))}else this.uncheckItem(t)}}},{key:"keyActionHandler",value:function(e){switch(e.keyCode){case 36:this.homeKeyHandler(e);break;case 35:this.homeKeyHandler(e,!0);break;case 40:this.arrowKeyHandler(e);break;case 38:this.arrowKeyHandler(e,!0);break;case 13:this.enterKeyHandler(e);break;case 8:this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back();break;case 32:this.spaceKeyHandler(e)}}},{key:"swipeActionHandler",value:function(e){"Right"===e.swipeDirection&&e.velocity>.5&&"touchend"==e.originalEvent.type&&(this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back())}},{key:"focusout",value:function(){if(Object.keys(this.dataSource).length&&this.curUL){var e=this.curUL.querySelector("."+uT.focused),t=this.curUL.querySelector("[aria-selected = true]");e&&(e.classList.remove(uT.focused),t&&!this.showCheckBox&&t.classList.add(uT.selected))}}},{key:"wireEvents",value:function(){$I.add(this.element,"keydown",this.keyActionHandler,this),$I.add(this.element,"click",this.clickHandler,this),this.enableVirtualization||($I.add(this.element,"mouseover",this.hoverHandler,this),$I.add(this.element,"mouseout",this.leaveHandler,this)),$I.add(this.element,"focusout",this.focusout,this),this.touchModule=new rM(this.element,{swipe:this.swipeActionHandler.bind(this)})}},{key:"unWireEvents",value:function(){$I.remove(this.element,"click",this.clickHandler),this.enableVirtualization||($I.remove(this.element,"mouseover",this.hoverHandler),$I.remove(this.element,"mouseout",this.leaveHandler)),$I.remove(this.element,"mouseover",this.hoverHandler),$I.remove(this.element,"mouseout",this.leaveHandler),this.touchModule.destroy()}},{key:"removeFocus",value:function(){var e,t=_createForOfIteratorHelper(this.element.querySelectorAll("."+uT.focused));try{for(t.s();!(e=t.n()).done;)e.value.classList.remove(uT.focused)}catch(n){t.e(n)}finally{t.f()}}},{key:"removeHover",value:function(){var e=this.element.querySelector("."+uT.hover);e&&e.classList.remove(uT.hover)}},{key:"removeSelect",value:function(e){if(JO(e)){var t,n=_createForOfIteratorHelper(this.element.querySelectorAll("."+uT.selected));try{for(n.s();!(t=n.n()).done;){var i=t.value;this.showCheckBox&&i.querySelector("."+uT.checked)||(i.setAttribute("aria-selected","false"),i.classList.remove(uT.selected))}}catch(a){n.e(a)}finally{n.f()}}else e.classList.remove(uT.selected),e.setAttribute("aria-selected","false")}},{key:"isValidLI",value:function(e){return e&&e.classList.contains(uT.listItem)&&!e.classList.contains(uT.groupListItem)&&!e.classList.contains(uT.disable)}},{key:"setCheckboxLI",value:function(e,t){if(this.isValidLI(e)&&this.enable&&this.showCheckBox){this.curUL.querySelector("."+uT.focused)&&this.curUL.querySelector("."+uT.focused).classList.remove(uT.focused),e.classList.add(uT.focused);var n=e.querySelector("."+uT.checkboxWrapper),i=n.querySelector("."+uT.checkboxIcon+"."+uT.icon);this.removeHover(),i.classList.contains(uT.checked)?(i.classList.remove(uT.checked),e.classList.remove(uT.selected),e.setAttribute("aria-selected","false")):(i.classList.add(uT.checked),e.classList.add(uT.selected),e.setAttribute("aria-selected","true")),n.setAttribute("aria-checked",i.classList.contains(uT.checked)?"true":"false");var a=this.selectEventData(e,t);$O(a,{isChecked:i.classList.contains(uT.checked)}),this.enableVirtualization&&this.virtualizationModule.setCheckboxLI(e,t),this.trigger("select",a),this.setSelectedItemData(e),this.renderSubList(e)}}},{key:"selectEventData",value:function(e,t){var n=this.getItemData(e),i=ZM(n,this.listBaseOption.fields),a={};return $O(a,!JO(n)&&"string"==typeof this.dataSource[0]||"number"==typeof this.dataSource[0]?{item:e,text:e&&e.innerText.trim(),data:this.dataSource}:{item:e,text:i&&i[this.listBaseOption.fields.text],data:n}),t&&$O(a,{isInteracted:!0,event:t,index:this.curUL&&Array.prototype.indexOf.call(this.curUL.children,e)}),a}},{key:"setSelectedItemData",value:function(e){var t=this.getItemData(e),n=ZM(t,this.listBaseOption.fields);this.selectedItems=JO(t)||"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]?{item:e,text:n&&n[this.listBaseOption.fields.text],data:t}:{item:e,text:e&&e.innerText.trim(),data:this.dataSource}}},{key:"setSelectLI",value:function(e,t){if(this.isValidLI(e)&&!e.classList.contains(uT.selected)&&this.enable){this.showCheckBox||this.removeSelect(),e.classList.add(uT.selected),e.setAttribute("aria-selected","true"),this.removeHover(),this.setSelectedItemData(e),this.enableVirtualization&&this.virtualizationModule.setSelectLI(e,t);var n=this.selectEventData(e,t);this.trigger("select",n),this.selectedLI=e,this.renderSubList(e)}}},{key:"setHoverLI",value:function(e){if(this.isValidLI(e)&&!e.classList.contains(uT.hover)&&this.enable){var t=this.element.querySelectorAll("."+uT.hover);t&&t.length&&WA(t,uT.hover),e.classList.contains(uT.selected)&&!this.showCheckBox||e.classList.add(uT.hover)}}},{key:"getSubDS",value:function(){var e=this.curDSLevel;if(e.length){var t,n=this.localData,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,r={};r[this.fields.id]=a,this.curDSJSON=this.findItemFromDS(n,r);var s=ZM(this.curDSJSON,this.listBaseOption.fields);n=this.curDSJSON?s[this.fields.child]:n}}catch(l){i.e(l)}finally{i.f()}return n}return this.localData}},{key:"getItemData",value:function(e){var t,n=this.dataSource instanceof AM?this.localData:this.dataSource,i=this.getElementUID(e);return t=JO(this.element.querySelector("."+uT.hasChild))&&this.fields.groupBy?this.curViewDS:n,this.findItemFromDS(t,i)}},{key:"findItemFromDS",value:function(e,t,n){var i,a=this;return e&&e.length&&t?e.some((function(r){var s=ZM(r,a.listBaseOption.fields);if(!t[a.fields.id]&&!t[a.fields.text]||t[a.fields.id]&&(!JO(s[a.fields.id])&&s[a.fields.id].toString())!==t[a.fields.id].toString()||t[a.fields.text]&&s[a.fields.text]!==t[a.fields.text])if("object"!=typeof r&&-1!==e.indexOf(r))i=n?e:r;else if(!JO(t[a.fields.id])&&JO(s[a.fields.id])){var l=a.element.querySelector('[data-uid="'+t[a.fields.id]+'"]');l&&l.innerText.trim()===s[a.fields.text]&&(i=r)}else s.hasOwnProperty(a.fields.child)&&s[a.fields.child].length&&(i=a.findItemFromDS(s[a.fields.child],t,n));else i=n?e:r;return!!i})):i=e,i}},{key:"getQuery",value:function(){var e=[],t=this.query?this.query:new kM;if(!this.query){for(var n=0,i=Object.keys(this.fields.properties);n<i.length;n++){var a=i[n];"tableName"!==a&&this.fields[a]&&this.fields[a]!==BM.defaultMappedFields[a]&&-1===e.indexOf(this.fields[a])&&e.push(this.fields[a])}t.select(e),this.fields.properties.hasOwnProperty("tableName")&&t.from(this.fields.tableName)}return t}},{key:"setViewDataSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localData;this.curViewDS=e&&this.fields.groupBy?BM.groupDataSource("None"!==this.sortOrder?BM.getDataSource(e,BM.addSorting(this.sortOrder,this.fields.sortBy)):e,this.listBaseOption.fields,this.sortOrder):e&&"None"!==this.sortOrder?BM.getDataSource(e,BM.addSorting(this.sortOrder,this.fields.sortBy)):e}},{key:"isInAnimation",value:function(){return this.curUL.classList.contains(".e-animate")}},{key:"setLocalData",value:function(){var e=this;this.trigger("actionBegin");var t=this;if(this.dataSource instanceof AM)this.dataSource.executeQuery(this.getQuery()).then((function(n){e.isDestroyed||(e.localData=n.result,t.removeElement(t.contentContainer),e.renderList(),e.trigger("actionComplete",n))})).catch((function(t){e.isDestroyed||e.trigger("actionFailure",t)}));else if(this.dataSource&&this.dataSource.length)this.localData=this.dataSource,this.renderList(),this.trigger("actionComplete",{data:this.localData});else{var n=this.element.querySelector("ul");n&&(JA(n),this.setProperties({dataSource:BM.createJsonFromElement(n)},!0),this.localData=this.dataSource,this.renderList(),this.trigger("actionComplete",{data:this.localData}))}}},{key:"reRender",value:function(){this.resetBlazorTemplates(),this.removeElement(this.headerEle),this.removeElement(this.ulElement),this.removeElement(this.contentContainer),-1===Object.keys(window).indexOf("ejsInterop")&&(this.element.innerHTML=""),this.headerEle=this.ulElement=this.liCollection=void 0,this.header(),this.setLocalData()}},{key:"resetCurrentList",value:function(){this.resetBlazorTemplates(),this.setViewDataSource(this.curViewDS),this.contentContainer.innerHTML="",this.createList(),this.renderIntoDom(this.curUL)}},{key:"setAttributes",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.classList.contains("e-list-item")&&(n.setAttribute("id",this.element.id+"_"+n.getAttribute("data-uid")),n.setAttribute("aria-selected","false"),n.setAttribute("tabindex","-1"))}}},{key:"createList",value:function(){this.currentLiElements=[],this.isNestedList=!1,this.ulElement=this.curUL=BM.createList(this.createElement,this.curViewDS,this.listBaseOption),this.liCollection=this.curUL.querySelectorAll("."+uT.listItem),this.setAttributes(this.liCollection),this.updateBlazorTemplates(!0)}},{key:"resetBlazorTemplates",value:function(){var e=CA;this.template&&(e[this.LISTVIEW_TEMPLATE_ID]=[],xA(this.LISTVIEW_TEMPLATE_ID)),this.groupTemplate&&(e[this.LISTVIEW_GROUPTEMPLATE_ID]=[],xA(this.LISTVIEW_GROUPTEMPLATE_ID)),this.headerTemplate&&xA(this.LISTVIEW_HEADERTEMPLATE_ID)}},{key:"updateBlazorTemplates",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},{key:"exceptionEvent",value:function(e){this.trigger("actionFailure",e)}},{key:"UpdateCurrentUL",value:function(){this.ulElement=this.curUL=this.element.querySelector("."+uT.parentItem),this.curUL&&(this.liCollection=this.curUL.querySelectorAll("."+uT.listItem))}},{key:"renderingNestedList",value:function(){var e=nD(this.liElement.parentNode,"."+uT.parentItem),t=document.getElementById(this.element.id),n=t.getElementsByTagName("UL")[t.getElementsByTagName("UL").length-1];this.switchView(e,n),this.liElement=null}},{key:"renderSubList",value:function(e){this.liElement=e;var t=e.getAttribute("data-uid");if(e.classList.contains(uT.hasChild)&&t){var n=nD(e.parentNode,"."+uT.parentItem),i=this.element.querySelector("[pid='"+t+"']");if(this.curDSLevel.push(t),this.setViewDataSource(this.getSubDS()),!i){var a=(i=BM.createListFromJson(this.createElement,this.curViewDS,this.listBaseOption,this.curDSLevel.length)).querySelectorAll("."+uT.listItem);this.setAttributes(a),i.setAttribute("pID",t),i.style.display="none",this.renderIntoDom(i),this.updateBlazorTemplates(!0)}if(this.switchView(n,i),this.liCollection=this.curUL.querySelectorAll("."+uT.listItem),this.selectedItems){var r=ZM(this.selectedItems.data,this.listBaseOption.fields);this.header(r[this.listBaseOption.fields.text],!0)}this.selectedLI=void 0}}},{key:"renderIntoDom",value:function(e){this.contentContainer.appendChild(e)}},{key:"renderList",value:function(e){this.setViewDataSource(e),this.enableVirtualization?Object.keys(this.dataSource).length&&(!this.template&&!this.groupTemplate||this.virtualizationModule.isNgTemplate()||(this.listBaseOption.template=null,this.listBaseOption.groupTemplate=null,this.listBaseOption.itemCreated=this.virtualizationModule.createUIItem.bind(this.virtualizationModule)),this.virtualizationModule.uiVirtualization()):(this.createList(),this.contentContainer=this.createElement("div",{className:uT.content}),this.element.appendChild(this.contentContainer),this.renderIntoDom(this.ulElement))}},{key:"getElementUID",value:function(e){var t={};return e instanceof Element?t[this.fields.id]=e.getAttribute("data-uid"):t=e,t}},{key:"render",value:function(){this.element.classList.add(uT.root),QA(this.element,{role:"list",tabindex:"0"}),this.setCSSClass(),this.setEnableRTL(),this.setEnable(),this.setSize(),this.wireEvents(),this.header(),this.setLocalData(),this.setHTMLAttribute(),this.rippleFn=AD(this.element,{selector:"."+uT.listItem}),this.renderComplete()}},{key:"initBlazor",value:function(e){null===e&&(e=!1),this.setLocalData(),this.setViewDataSource(this.localData),this.contentContainer=this.element.querySelector("."+uT.content),e&&this.wireEvents()}},{key:"destroy",value:function(){this.resetBlazorTemplates(),this.unWireEvents();var e=[uT.root,uT.disable,"e-rtl","e-has-header","e-lib"].concat(this.cssClass.split(" ").filter((function(e){return e})));WA([this.element],e),this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"),this.curUL=this.ulElement=this.liCollection=this.headerEle=void 0,this.element.innerHTML="",_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"back",value:function(){var e=this.curDSLevel[this.curDSLevel.length-1];if(void 0!==e&&!this.isInAnimation()){this.curDSLevel.pop(),this.setViewDataSource(this.getSubDS());var t=this.element.querySelector("[data-uid='"+e+"']"),n=this.curUL;t?t=t.parentElement:(this.createList(),this.renderIntoDom(this.ulElement),t=this.curUL);var i=ZM(this.curDSJSON,this.listBaseOption.fields)[this.fields.text];this.switchView(n,t,!0),this.removeFocus();var a=this.element.querySelector("[data-uid='"+e+"']");a.classList.remove(uT.disable),a.classList.add(uT.focused),this.showCheckBox&&a.querySelector("."+uT.checkboxIcon).classList.contains(uT.checked)?a.setAttribute("aria-selected","true"):(a.classList.remove(uT.selected),a.setAttribute("aria-selected","false")),this.liCollection=this.curUL.querySelectorAll("."+uT.listItem),this.enableHtmlSanitizer&&this.setProperties({headerTitle:uM.sanitize(this.headerTitle)},!0),this.header(this.curDSLevel.length?i:this.headerTitle,!!this.curDSLevel.length)}}},{key:"selectItem",value:function(e){this.enableVirtualization?this.virtualizationModule.selectItem(e):this.showCheckBox?this.setCheckboxLI(this.getLiFromObjOrElement(e)):JO(e)?this.removeSelect():this.setSelectLI(this.getLiFromObjOrElement(e))}},{key:"getLiFromObjOrElement",value:function(e){var t,n=this.dataSource instanceof AM?this.localData:this.dataSource;if(!JO(e))if("string"==typeof n[0]||"number"==typeof n[0])if(e instanceof Element){for(var i=e.getAttribute("data-uid").toString(),a=0;a<this.liCollection.length;a++)if(this.liCollection[a].getAttribute("data-uid").toString()===i){t=this.liCollection[a];break}}else Array.prototype.some.call(this.curUL.querySelectorAll("."+uT.listItem),(function(n){return n.innerText.trim()===e.toString()&&(t=n,!0)}));else{var r=this.getItemData(e),s=ZM(r,this.listBaseOption.fields);if(r&&(t=this.element.querySelector('[data-uid="'+s[this.fields.id]+'"]'),!this.enableVirtualization&&JO(t)))for(var l=this.element.querySelectorAll("."+uT.listItem),o=0;o<l.length;o++)l[o].innerText.trim()===s[this.fields.text]&&(t=l[o])}return t}},{key:"selectMultipleItems",value:function(e){if(!JO(e))for(var t=0;t<e.length;t++)JO(e[t])||this.selectItem(e[t])}},{key:"getParentId",value:function(){var e=[];if(this.isNestedList)for(var t=this.curDSLevel.length-1;t>=0;t--)e.push(this.curDSLevel[t]);return e}},{key:"getSelectedItems",value:function(){var e,t=!1;this.selectedId=[];var n=this.dataSource instanceof AM?this.localData:this.dataSource;if(this.enableVirtualization&&!t)e=this.virtualizationModule.getSelectedItems(),t=!0;else if(this.showCheckBox&&!t){var i=this.curUL.getElementsByClassName(uT.selected),a=[],r=[];this.selectedId=[];for(var s=[],l=0;l<i.length;l++)if("string"==typeof n[0]||"number"==typeof n[0])a.push(i[l].innerText.trim());else{var o=this.getItemData(i[l]),u=ZM(o,this.listBaseOption.fields);this.isNestedList?s.push({data:o,parentId:this.getParentId()}):r.push(o),u?(a.push(u[this.listBaseOption.fields.text]),this.selectedId.push(u[this.listBaseOption.fields.id])):(a.push(void 0),this.selectedId.push(void 0))}"string"!=typeof n[0]&&"number"!=typeof n[0]||t||(e={item:i,data:n,text:a},t=!0),this.isNestedList&&!t?(e={item:i,data:s,text:a},t=!0):t||(e={item:i,data:r,text:a},t=!0)}else if(!t){var c=this.element.getElementsByClassName(uT.selected)[0],h=ZM(this.getItemData(c),this.listBaseOption.fields);"string"!=typeof n[0]&&"number"!=typeof n[0]||t?t||(JO(h)||JO(c)?(e=void 0,t=!0):(this.selectedId.push(h[this.listBaseOption.fields.id]),e={text:h[this.listBaseOption.fields.text],item:c,data:this.getItemData(c)},t=!0)):(e=JO(c)?void 0:{item:c,data:n,text:c.innerText.trim()},t=!0)}return e}},{key:"blazorGetSelectedItems",value:function(e){var t={data:[],index:[],parentId:[],text:[]};if(!JO(e)){if(!JO(e.data))if(this.showCheckBox&&this.isNestedList){for(var n=0;n<e.data.length;n++)t.data.push(e.data[n].data);JO(e.data[0])||JO(e.data[0].parentId)||(t.parentId=e.data[0].parentId)}else t.data=this.convertItemsToArray(e.data);JO(e.text)||(t.text=this.convertItemsToArray(e.text)),JO(e.index)||(t.index=this.convertItemsToArray(e.index))}return t}},{key:"convertItemsToArray",value:function(e){return Array.isArray(e)?_toConsumableArray(e):[e]}},{key:"findItem",value:function(e){return this.getItemData(e)}},{key:"enableItem",value:function(e){this.setItemState(e,!0),this.enableVirtualization&&this.virtualizationModule.enableItem(e)}},{key:"disableItem",value:function(e){this.setItemState(e,!1),this.enableVirtualization&&this.virtualizationModule.disableItem(e)}},{key:"setItemState",value:function(e,t){var n=this.getItemData(e),i=ZM(n,this.listBaseOption.fields);if(n){var a=this.element.querySelector('[data-uid="'+i[this.fields.id]+'"]');t?(a&&a.classList.remove(uT.disable),delete n[this.fields.enabled]):t||(a&&a.classList.add(uT.disable),n[this.fields.enabled]=!1)}}},{key:"showItem",value:function(e){this.showHideItem(e,!1,""),this.enableVirtualization&&this.virtualizationModule.showItem(e)}},{key:"hideItem",value:function(e){this.showHideItem(e,!0,"none"),this.enableVirtualization&&this.virtualizationModule.hideItem(e)}},{key:"showHideItem",value:function(e,t,n){var i=this.getItemData(e),a=ZM(i,this.listBaseOption.fields);if(i){var r=this.element.querySelector('[data-uid="'+a[this.fields.id]+'"]');r&&(r.style.display=n),t?i[this.fields.isVisible]=!1:delete i[this.fields.isVisible]}}},{key:"addItem",value:function(e,t){this.addItemInternally(e,t,this.dataSource instanceof AM?this.localData:this.dataSource)}},{key:"addItemInternally",value:function(e,t,n){if(e instanceof Array)if(this.enableVirtualization)this.virtualizationModule.addItem(e,t,n);else{var i,a=this.findItemFromDS(n,t);if(a&&((i=ZM(a,this.listBaseOption.fields)[this.fields.child])||(i=[]),i=i.concat(e)),a instanceof Array){for(var r=0;r<e.length;r++){n.push(e[r]),this.setViewDataSource(n);var s=this.contentContainer?this.contentContainer.children[0]:null;this.contentContainer&&s?this.addItemIntoDom(e[r],s,this.curViewDS):this.reRender()}this.curUL&&this.updateBlazorTemplates(!0),this.liCollection=this.curUL.querySelectorAll("."+uT.listItem)}else a&&(a[this.fields.child]=i,this.addItemInNestedList(a,e))}}},{key:"addItemInNestedList",value:function(e,t){var n=e[this.fields.id],i=e[this.fields.child],a=this.element.querySelector("[pid='"+n+"']"),r=this.element.querySelector("[data-uid='"+n+"']"),s=a||(r?nD(r,"ul"):null),l=a?i:[e],o=!1;if(r&&!r.classList.contains(uT.hasChild)){var u=BM.createListItemFromJson(this.createElement,l,this.listBaseOption);this.setAttributes(u),s.insertBefore(u[0],r),ZA(r),o=!0}if(a&&t){for(var c=0;c<t.length;c++)l.push(t[c]),this.addItemIntoDom(t[c],s,l);o=!0}o&&this.updateBlazorTemplates(!0)}},{key:"addItemIntoDom",value:function(e,t,n){var i=n.indexOf(e);this.addListItem(e,i,t,n);var a=n[i-1];a&&a.isHeader&&1===a.items.length&&this.addListItem(a,i-1,t,n)}},{key:"addListItem",value:function(e,t,n,i){var a=this.getLiFromObjOrElement(i[t+1])||this.getLiFromObjOrElement(i[t+2])||null,r=BM.createListItemFromJson(this.createElement,[e],this.listBaseOption);this.setAttributes(r),n.insertBefore(r[0],a)}},{key:"removeItem",value:function(e){var t=this.dataSource instanceof AM?this.localData:this.dataSource;this.enableVirtualization?this.virtualizationModule.removeItem(e):(this.removeItemFromList(e,t),this.updateBlazorTemplates(!0))}},{key:"removeItemFromList",value:function(e,t){var n,i=this,a=this.curViewDS,r=e instanceof Element?this.getElementUID(e):e;if(n=this.findItemFromDS(t,r,!0)){var s;s=this.findItemFromDS(n,r);var l,o=a.indexOf(s),u=this.getLiFromObjOrElement(e);this.validateNestedView(u),this.fields.groupBy&&this.curViewDS[o-1]&&a[o-1].isHeader&&1===a[o-1].items.length&&u&&u.previousElementSibling.classList.contains(uT.groupListItem)&&(JO(u.nextElementSibling)||u.nextElementSibling&&u.nextElementSibling.classList.contains(uT.groupListItem))&&(l=u.previousElementSibling),u&&ZA(u),l&&ZA(l);var c=n.length-1<=0?this.findParent(this.localData,this.fields.id,(function(e){return e===s[i.fields.id]}),null):null,h=n.indexOf(s);if(n.splice(h,1),this.setViewDataSource(t),c&&c.parent&&Array.isArray(c.parent[this.fields.child])&&c.parent[this.fields.child].length<=0){var d=this.getLiFromObjOrElement(c.parent);if(d){var p=BM.createListItemFromJson(this.createElement,[c.parent],this.listBaseOption);this.setAttributes(p),d.parentElement.insertBefore(p[0],d),d.parentElement.removeChild(d)}}n.length<=0&&this.back(),this.liCollection=Array.prototype.slice.call(this.element.querySelectorAll("."+uT.listItem))}}},{key:"validateNestedView",value:function(e){var t=e?e.getAttribute("data-uid").toString().toLowerCase():null;if(t&&this.curDSLevel&&this.curDSLevel.length>0)for(;this.curDSLevel.some((function(e){return e.toString().toLowerCase()===t}));)this.back()}},{key:"removeMultipleItems",value:function(e){if(e.length){for(var t=0;t<e.length;t++)this.removeItem(e[t]);this.updateBlazorTemplates(!0)}}},{key:"findParent",value:function(e,t,n,i){if(e.hasOwnProperty(t)&&!0===n(e[t]))return ZO({},e);for(var a=0;a<Object.keys(e).length;a++)if(e[Object.keys(e)[a]]&&"object"==typeof e[Object.keys(e)[a]]){var r=this.findParent(e[Object.keys(e)[a]],t,n,e);if(null!=r)return r.parent||(r.parent=i),r}return null}},{key:"getModuleName",value:function(){return"listview"}},{key:"requiredModules",value:function(){var e=[];return this.enableVirtualization&&e.push({args:[this],member:"virtualization"}),e}},{key:"getPersistData",value:function(){return this.addOnPersist(["cssClass","enableRtl","htmlAttributes","enable","fields","animation","headerTitle","sortOrder","showIcon","height","width","showCheckBox","checkBoxPosition"])}}]),n}(zD),sT([bD("")],aT.prototype,"cssClass",void 0),sT([bD(!1)],aT.prototype,"enableVirtualization",void 0),sT([bD({})],aT.prototype,"htmlAttributes",void 0),sT([bD(!0)],aT.prototype,"enable",void 0),sT([bD([])],aT.prototype,"dataSource",void 0),sT([bD()],aT.prototype,"query",void 0),sT([kD(BM.defaultMappedFields,cT)],aT.prototype,"fields",void 0),sT([bD({effect:"SlideLeft",duration:400,easing:"ease"})],aT.prototype,"animation",void 0),sT([bD("None")],aT.prototype,"sortOrder",void 0),sT([bD(!1)],aT.prototype,"showIcon",void 0),sT([bD(!1)],aT.prototype,"showCheckBox",void 0),sT([bD("Left")],aT.prototype,"checkBoxPosition",void 0),sT([bD("")],aT.prototype,"headerTitle",void 0),sT([bD(!1)],aT.prototype,"showHeader",void 0),sT([bD(!1)],aT.prototype,"enableHtmlSanitizer",void 0),sT([bD("")],aT.prototype,"height",void 0),sT([bD("")],aT.prototype,"width",void 0),sT([bD(null)],aT.prototype,"template",void 0),sT([bD(null)],aT.prototype,"headerTemplate",void 0),sT([bD(null)],aT.prototype,"groupTemplate",void 0),sT([wD()],aT.prototype,"select",void 0),sT([wD()],aT.prototype,"actionBegin",void 0),sT([wD()],aT.prototype,"actionComplete",void 0),sT([wD()],aT.prototype,"actionFailure",void 0),aT=sT([_D],aT)),dT=!1;function pT(e,t){var n=!1,i={left:0,top:0},a=e;if(!e||!t)return i;for(JO(t.offsetParent)&&"fixed"===t.style.position&&(n=!0);(t.offsetParent||n)&&e&&t.offsetParent!==e;)i.left+=e.offsetLeft,i.top+=e.offsetTop,e=e.offsetParent;for(e=a;(t.offsetParent||n)&&e&&t.offsetParent!==e;)i.left-=e.scrollLeft,i.top-=e.scrollTop,e=e.parentElement;return i}function fT(e,t,n,i,a){return QM=n+t==="topright"?void 0:a,QM=a,dT=!!i,e?(t||(t="left"),n||(n="top"),tT=e.ownerDocument,eT=e,function(e,t,n){switch(JM=eT.getBoundingClientRect(),t+e){case"topcenter":mT(xT(),n),gT(CT(),n);break;case"topright":mT(_T(),n),gT(CT(),n);break;case"centercenter":mT(xT(),n),gT(kT(),n);break;case"centerright":mT(_T(),n),gT(kT(),n);break;case"centerleft":mT(wT(),n),gT(kT(),n);break;case"bottomcenter":mT(xT(),n),gT(bT(),n);break;case"bottomright":mT(_T(),n),gT(bT(),n);break;case"bottomleft":mT(wT(),n),gT(bT(),n);break;default:case"topleft":mT(wT(),n),gT(CT(),n)}return n}(t.toLowerCase(),n.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function mT(e,t){t.left=e}function gT(e,t){t.top=e}function vT(){return tT.documentElement.scrollTop||tT.body.scrollTop}function yT(){return tT.documentElement.scrollLeft||tT.body.scrollLeft}function bT(){return dT?JM.bottom:JM.bottom+vT()}function kT(){return CT()+JM.height/2}function CT(){return dT?JM.top:JM.top+vT()}function wT(){return JM.left+yT()}function _T(){return JM.right+yT()-(QM?QM.width:0)}function xT(){return wT()+JM.width/2}function ST(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{X:!1,Y:!1},i=arguments.length>3?arguments[3]:void 0;if(!n.Y&&!n.X)return{left:0,top:0};var a=e.getBoundingClientRect();if(iT=t,nT=e.ownerDocument,i||(i=fT(e,"left","top")),n.X){var r=iT?DT():jT(),s=NT(),l=RT(),o=s-i.left,u=i.left+a.width-l;a.width>r?i.left=o>0&&u<=0?l-a.width:u>0&&o<=0?s:o>u?l-a.width:s:o>0?i.left+=o:u>0&&(i.left-=u)}if(n.Y){var c=iT?MT():VT(),h=LT(),d=FT(),p=h-i.top,f=i.top+a.height-d;a.height>c?i.top=p>0&&f<=0?d-a.height:f>0&&p<=0?h:p>f?d-a.height:h:p>0?i.top+=p:f>0&&(i.top-=f)}return i}function ET(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=fT(e,"left","top");n&&(a.left=n),i&&(a.top=i);var r=[];iT=t,nT=e.ownerDocument;var s=e.getBoundingClientRect(),l=a.left,o=a.left+s.width,u=AT(a.top,a.top+s.height),c=IT(l,o);return u.topSide&&r.push("top"),c.rightSide&&r.push("right"),c.leftSide&&r.push("left"),u.bottomSide&&r.push("bottom"),r}function OT(e,t,n){e.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},e.TR={top:e.TL.top,left:e.TL.left+n.width},e.BL={top:e.TL.top+n.height,left:e.TL.left},e.BR={top:e.TL.top+n.height,left:e.TL.left+n.width}}function IT(e,t){var n=!1,i=!1;return e-BT()<NT()&&(n=!0),t>RT()&&(i=!0),{leftSide:n,rightSide:i}}function AT(e,t){var n=!1,i=!1;return e-HT()<LT()&&(n=!0),t>FT()&&(i=!0),{topSide:n,bottomSide:i}}function DT(){return iT.getBoundingClientRect().width}function MT(){return iT.getBoundingClientRect().height}function TT(){return iT.getBoundingClientRect().left}function PT(){return iT.getBoundingClientRect().top}function LT(){return iT?PT():0}function NT(){return iT?TT():0}function RT(){return iT?BT()+TT()+DT():BT()+jT()}function FT(){return iT?HT()+PT()+MT():HT()+VT()}function HT(){return nT.documentElement.scrollTop||nT.body.scrollTop}function BT(){return nT.documentElement.scrollLeft||nT.body.scrollLeft}function VT(){return window.innerHeight}function jT(){var e=window.innerWidth;return e-(e-(JO(document.documentElement)?0:document.documentElement.offsetWidth))}var zT,qT,UT=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},WT=(qT=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),UT([bD("left")],qT.prototype,"X",void 0),UT([bD("top")],qT.prototype,"Y",void 0),qT),YT=(zT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,i,e)}return _createClass(n,[{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"width":iD(this.element,{width:aI(e.width)});break;case"height":iD(this.element,{height:aI(e.height)});break;case"zIndex":iD(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var a=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+a).toString()+"px";break;case"offsetY":var r=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+r).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}},{key:"getModuleName",value:function(){return"popup"}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"destroy",value:function(){this.element.classList.remove("e-popup","e-rtl","e-popup-open","e-popup-close"),this.unwireEvents(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"render",value:function(){this.element.classList.add("e-popup");var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=aI(this.width)),"auto"!==this.height&&(e.height=aI(this.height)),iD(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()}},{key:"wireEvents",value:function(){KI.isDevice&&$I.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()}},{key:"wireScrollEvents",value:function(){if(this.getRelateToElement()){var e,t=_createForOfIteratorHelper(this.getScrollableParent(this.getRelateToElement()));try{for(t.s();!(e=t.n()).done;){var n=e.value;$I.add(n,"scroll",this.scrollRefresh,this)}}catch(i){t.e(i)}finally{t.f()}}}},{key:"unwireEvents",value:function(){KI.isDevice&&$I.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()}},{key:"unwireScrollEvents",value:function(){if(this.getRelateToElement()){var e,t=_createForOfIteratorHelper(this.getScrollableParent(this.getRelateToElement()));try{for(t.s();!(e=t.n()).done;){var n=e.value;$I.remove(n,"scroll",this.scrollRefresh)}}catch(i){t.e(i)}finally{t.f()}}}},{key:"getRelateToElement",value:function(){var e=""===this.relateTo||JO(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo}},{key:"scrollRefresh",value:function(e){if("reposition"===this.actionOnScroll?this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}}},{key:"isElementOnViewport",value:function(e,t){for(var n=this.getScrollableParent(e),i=0;i<n.length;i++)if(!this.isElementVisible(e,n[i]))return!1;return!0}},{key:"isElementVisible",value:function(e,t){var n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(JO(this.checkGetBoundingClientRect(t))){var i=window,a={top:i.pageYOffset,left:i.pageXOffset,right:i.pageXOffset+i.outerWidth,bottom:i.pageYOffset+i.outerHeight},r=fT(e),s={top:r.top,left:r.left,right:r.left+n.width,bottom:r.top+n.height},l={top:a.bottom-s.top,left:a.right-s.left,bottom:s.bottom-a.top,right:s.right-a.left};return l.top>0&&l.left>0&&l.right>0&&l.bottom>0}var o=t.getBoundingClientRect();return!(n.bottom<o.top||n.bottom>o.bottom||n.right>o.right||n.left<o.left)}},{key:"preRender",value:function(){}},{key:"setEnableRtl",value:function(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}},{key:"setContent",value:function(){JO(this.content)||(this.element.innerHTML="","string"==typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))}},{key:"orientationOnChange",value:function(){var e=this;setTimeout((function(){e.refreshPosition()}),200)}},{key:"refreshPosition",value:function(e,t){JO(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()}},{key:"reposition",value:function(){var e,t,n=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){var i,a=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(i=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),e="string"==typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=a,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=i)}else if(n){var r=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=r}else e={left:0,top:0};JO(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")}},{key:"checkGetBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return null}}},{key:"getAnchorPosition",value:function(e,t,n,i,a){var r=this.checkGetBoundingClientRect(t),s=this.checkGetBoundingClientRect(e);if(JO(r)||JO(s))return null;var l=e,o={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?o=fT(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==l.tagName&&(t=t.parentElement),o=pT(l,t)),n.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===l.tagName&&"container"===this.targetType?o.left+=window.innerWidth/2-r.width/2:o.left+="container"===this.targetType?s.width/2-r.width/2:s.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===l.tagName&&"container"===this.targetType?o.left+=window.innerWidth-r.width:o.left+="container"===this.targetType?s.width-r.width:s.width}switch(n.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===l.tagName&&"container"===this.targetType?o.top+=window.innerHeight/2-r.height/2:o.top+="container"===this.targetType?s.height/2-r.height/2:s.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===l.tagName&&"container"===this.targetType?o.top+=window.innerHeight-r.height:o.top+="container"===this.targetType?s.height-r.height:s.height}return o.left+=i,o.top+=a,o}},{key:"callFlip",value:function(e){var t=this.getRelateToElement();!function(e,t,n,i,a,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{X:!0,Y:!0},o=arguments.length>8?arguments[8]:void 0;if(t&&e&&a&&r&&(l.X||l.Y)){var u={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null},h=e.getBoundingClientRect(),d={posX:a,posY:r,offsetX:n,offsetY:i,position:{left:0,top:0}};iT=s,nT=t.ownerDocument,function(e,t,n,i,a){n.position=fT(e,n.posX,n.posY,i,a),t.TL=fT(e,"left","top",i,a),t.TR=fT(e,"right","top",i,a),t.BR=fT(e,"left","bottom",i,a),t.BL=fT(e,"right","bottom",i,a)}(t,u,d,o,h),OT(c,d,h),l.X&&function e(t,n,i,a,r,s){var l=IT(n.TL.left,n.TR.left);i.TL.left-BT()<=NT()&&(l.leftSide=!1),i.TR.left>=RT()&&(l.rightSide=!1),(l.leftSide&&!l.rightSide||!l.leftSide&&l.rightSide)&&(a.posX="right"===a.posX?"left":"right",a.offsetX=a.offsetX+r.width,a.offsetX=-1*a.offsetX,a.position=fT(t,a.posX,a.posY,!1),OT(n,a,r),s&&e(t,n,i,a,r,!1))}(t,c,u,d,h,!0),l.Y&&u.TL.top>-1&&function e(t,n,i,a,r,s){var l=AT(n.TL.top,n.BL.top);i.TL.top-HT()<=LT()&&(l.topSide=!1),i.BL.top>=FT()&&(l.bottomSide=!1),(l.topSide&&!l.bottomSide||!l.topSide&&l.bottomSide)&&(a.posY="top"===a.posY?"bottom":"top",a.offsetY=a.offsetY+r.height,a.offsetY=-1*a.offsetY,a.position=fT(t,a.posX,a.posY,!1,r),OT(n,a,r),s&&e(t,n,i,a,r,!1))}(t,c,u,d,h,!0),function(e,t,n){var i=0,a=0;if(null!=e.offsetParent&&("absolute"===getComputedStyle(e.offsetParent).position||"relative"===getComputedStyle(e.offsetParent).position)){var r=fT(e.offsetParent,"left","top",!1,n);i=r.left,a=r.top}e.style.top=t.position.top+t.offsetY-a+"px",e.style.left=t.position.left+t.offsetX-i+"px"}(e,d,h)}}(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)}},{key:"callFit",value:function(e){if(0!==ET(this.element,this.viewPortElement).length)if(JO(this.viewPortElement)){var t=ST(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),i=this.checkGetBoundingClientRect(this.viewPortElement);if(JO(n)||JO(i))return null;e&&!0===e.Y&&(i.top>n.top?this.element.style.top="0px":i.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-i.bottom)+"px")),e&&!0===e.X&&(i.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-i.right)+"px":i.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(i.left-n.left)+"px"))}}},{key:"checkCollision",value:function(){var e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))}},{key:"show",value:function(e,t){var n=this;if(this.wireEvents(),1e3===this.zIndex||!JO(t)){var i=JO(t)?this.element:t;this.zIndex=XT(i),iD(this.element,{zIndex:this.zIndex})}e=JO(e)||"object"!=typeof e?this.showAnimation:e,"none"===this.collision.X&&"none"===this.collision.Y||(WA([this.element],"e-popup-close"),UA([this.element],"e-popup-open"),this.checkCollision(),WA([this.element],"e-popup-open"),UA([this.element],"e-popup-close")),JO(e)?(WA([this.element],"e-popup-close"),UA([this.element],"e-popup-open"),this.trigger("open")):(e.begin=function(){n.isDestroyed||(WA([n.element],"e-popup-close"),UA([n.element],"e-popup-open"))},e.end=function(){n.isDestroyed||n.trigger("open")},new ID(e).animate(this.element))}},{key:"hide",value:function(e){var t=this;e=JO(e)||"object"!=typeof e?this.hideAnimation:e,JO(e)?(WA([this.element],"e-popup-open"),UA([this.element],"e-popup-close"),this.trigger("close")):(e.end=function(){t.isDestroyed||(WA([t.element],"e-popup-open"),UA([t.element],"e-popup-close"),t.trigger("close"))},new ID(e).animate(this.element)),this.unwireEvents()}},{key:"getScrollableParent",value:function(e){return this.checkFixedParent(e),GT(e,this.fixedParent)}},{key:"checkFixedParent",value:function(e){for(var t=e.parentElement;t&&"HTML"!==t.tagName;){var n=getComputedStyle(t);"fixed"===n.position&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,JO(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}}}]),n}(zD),UT([bD("auto")],zT.prototype,"height",void 0),UT([bD("auto")],zT.prototype,"width",void 0),UT([bD(null)],zT.prototype,"content",void 0),UT([bD("container")],zT.prototype,"targetType",void 0),UT([bD(null)],zT.prototype,"viewPortElement",void 0),UT([bD({X:"none",Y:"none"})],zT.prototype,"collision",void 0),UT([bD("")],zT.prototype,"relateTo",void 0),UT([kD({},WT)],zT.prototype,"position",void 0),UT([bD(0)],zT.prototype,"offsetX",void 0),UT([bD(0)],zT.prototype,"offsetY",void 0),UT([bD(1e3)],zT.prototype,"zIndex",void 0),UT([bD(!1)],zT.prototype,"enableRtl",void 0),UT([bD("reposition")],zT.prototype,"actionOnScroll",void 0),UT([bD(null)],zT.prototype,"showAnimation",void 0),UT([bD(null)],zT.prototype,"hideAnimation",void 0),UT([wD()],zT.prototype,"open",void 0),UT([wD()],zT.prototype,"close",void 0),UT([wD()],zT.prototype,"targetExitViewport",void 0),zT=UT([_D],zT));function GT(e,t){for(var n=getComputedStyle(e),i=[],a=/(auto|scroll)/,r=e.parentElement;r&&"HTML"!==r.tagName;){var s=getComputedStyle(r);"absolute"===n.position&&"static"===s.position||!a.test(s.overflow+s.overflowY+s.overflowX)||i.push(r),r=r.parentElement}return t||i.push(document),i}function XT(e){for(var t=e.parentElement,n=[];t&&"BODY"!==t.tagName;){var i=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),a=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==i&&"static"!==a&&n.push(i),t=t.parentElement}for(var r=[],s=0;s<document.body.children.length;s++)if(!e.isEqualNode(document.body.children[s])){var l=document.defaultView.getComputedStyle(document.body.children[s],null).getPropertyValue("z-index"),o=document.defaultView.getComputedStyle(document.body.children[s],null).getPropertyValue("position");"auto"!==l&&"static"!==o&&r.push(l)}r.push("999");var u=[];if(!JO(e.parentElement)&&"BODY"!==e.parentElement.tagName)for(var c=[].slice.call(e.parentElement.children),h=0;h<c.length;h++){var d=document.defaultView.getComputedStyle(c[h],null).getPropertyValue("z-index"),p=document.defaultView.getComputedStyle(c[h],null).getPropertyValue("position");"auto"!==d&&"static"!==p&&u.push(d)}var f=n.concat(r,u),m=Math.max.apply(Math,f)+1;return m>2147483647?2147483647:m}var KT,$T,ZT,JT,QT,eP,tP,nP,iP=["north-west","north","north-east","west","east","south-west","south","south-east"],aP=0,rP=0,sP=0,lP=0,oP=0,uP=0,cP=["e-restrict-left"],hP=null,dP=null,pP=null,fP=!0,mP=0,gP=!0;function vP(e){var t;return JO(e)||(t="string"==typeof e?document.querySelector(e):e),t}function yP(e){JO(e)&&(e=this);for(var t=KT.querySelectorAll(".e-resize-handle"),n=0;n<t.length;n++)$T=t[n],$I.add($T,"mousedown",kP,e),$I.add($T,"msie"===KI.info.name?"pointerdown":"touchstart",_P,e)}function bP(e){return e.indexOf("mouse")>-1?"mouse":"touch"}function kP(e){if(e.preventDefault(),KT=e.target.parentElement,wP(),oP=e.pageX,uP=e.pageY,e.target.classList.add("e-focused-handle"),JO(hP)||!0!==hP(e,this)){var t=JO(tP)?document:tP;$I.add(t,"mousemove",xP,this),$I.add(document,"mouseup",CP,this);for(var n=0;n<cP.length;n++)fP=!KT.classList.contains(cP[n])}}function CP(e){var t="msie"===KI.info.name?"pointermove":"touchmove",n="msie"===KI.info.name?"pointerup":"touchend",i=JO(tP)?document:tP;$I.remove(i,"mousemove",xP),$I.remove(i,t,xP),$I.remove(i,"msie"===KI.info.name?"pointerdown":"touchstart",xP),JO(document.body.querySelector(".e-focused-handle"))||document.body.querySelector(".e-focused-handle").classList.remove("e-focused-handle"),JO(pP)||pP(e,this),$I.remove(document,"mouseup",CP),$I.remove(document,n,CP)}function wP(){aP=parseFloat(getComputedStyle(KT,null).getPropertyValue("width").replace("px","")),rP=parseFloat(getComputedStyle(KT,null).getPropertyValue("height").replace("px","")),sP=KT.getBoundingClientRect().left,lP=KT.getBoundingClientRect().top}function _P(e){KT=e.target.parentElement,wP();var t=e.touches?e.changedTouches[0]:e;if(oP=t.pageX,uP=t.pageY,JO(hP)||!0!==hP(e,this)){var n="msie"===KI.info.name?"pointermove":"touchmove",i="msie"===KI.info.name?"pointerup":"touchend",a=JO(tP)?document:tP;$I.add(a,n,xP,this),$I.add(document,i,CP)}}function xP(e){if(e.target.classList.contains("e-resize-handle")&&e.target.classList.contains("e-focused-handle")?$T=e.target:JO(document.body.querySelector(".e-focused-handle"))||($T=document.body.querySelector(".e-focused-handle")),!JO($T)){for(var t="",n=0;n<iP.length;n++)$T.classList.contains("e-"+iP[n])&&(t=iP[n]);switch(JO(dP)||dP(e,this),t){case"south":EP(e);break;case"north":OP(e);break;case"west":IP(e);break;case"east":AP(e);break;case"south-east":EP(e),AP(e);break;case"south-west":EP(e),IP(e);break;case"north-east":OP(e),AP(e);break;case"north-west":OP(e),IP(e)}}}function SP(e){return e.getBoundingClientRect()}function EP(e){var t,n=document.documentElement.clientHeight,i=!1,a=(e.touches?e.changedTouches[0]:e).pageY,r=SP(KT);JO(tP)||(t=SP(tP)),JO(tP)?JO(tP)&&(n-a>=0||r.top<0)&&(i=!0):i=!0;var s=rP+(a-uP);s=s>ZT?s:ZT;var l=0;JO(tP)||(l=t.top);var o=JO(tP)?0:tP.offsetHeight-tP.clientHeight,u=r.top-l-o/2;if(u=u<0?0:u,r.top>0&&u+s>JT){if(i=!1,KT.classList.contains("e-resize-viewport"))return;KT.style.height=JT-parseInt(u.toString(),10)+"px"}else{var c=0;if(i){r.top<0&&n+(r.height+r.top)>0&&(s+(c=r.top)<=30&&(s=r.height-(r.height+r.top)+30)),s+r.top>=JT&&(KT.style.height=r.height+(n-(r.height+r.top))+"px");var h=JO(tP)?c:u;s>=ZT&&s+h<=JT&&(KT.style.height=s+"px")}}}function OP(e){var t,n=!1,i="mouse"===bP(e.type)?e.pageY:e.touches[0].pageY,a=SP(KT);JO(tP)||(t=SP(tP)),!JO(tP)&&a.top-t.top>0?n=!0:JO(tP)&&i>0&&(n=!0);var r=rP-(i-uP);if(SP(KT).bottom+r>JT&&(n=!1,KT.style.height=JT-SP(KT).bottom+"px"),n&&r>=ZT&&r<=JT){var s=0;JO(tP)||(s=t.top);var l=lP-s+(i-uP);l=l>0?l:1,KT.style.height=r+"px",KT.style.top=l+"px"}}function IP(e){var t,n=document.documentElement.clientWidth,i=!1;JO(tP)||(t=SP(tP));var a="mouse"===bP(e.type)?e.pageX:e.touches[0].pageX,r=SP(KT),s=JO(tP)?0:tP.offsetWidth-tP.clientWidth,l=JO(tP)?0:t.left,o=JO(tP)?0:t.width;JO(nP)&&(JO(tP)?nP=n:(nP=r.left-l-s/2+r.width,nP+=o-s-nP)),!JO(tP)&&r.left-t.left+r.width+(t.right-r.right)-s<=eP?i=!0:JO(tP)&&a>=0&&(i=!0);var u=aP-(a-oP);if(fP&&(u=u>nP?nP:u),i&&u>=QT&&u<=eP){var c=0;JO(tP)||(c=t.left);var h=sP-c+(a-oP);h=h>0?h:1,u!==mP&&gP&&(KT.style.width=u+"px"),fP&&(KT.style.left=h+"px",gP=1!==h)}mP=u}function AP(e){var t,n=document.documentElement.clientWidth,i=!1;JO(tP)||(t=SP(tP));var a=(e.touches?e.changedTouches[0]:e).pageX,r=SP(KT);!JO(tP)&&(r.left-t.left+r.width<eP||r.right-t.left>r.width)?i=!0:JO(tP)&&n-a>0&&(i=!0);var s=aP+(a-oP),l=0;if(JO(tP)||(l=t.left),r.left-l+s>eP){if(i=!1,KT.classList.contains("e-resize-viewport"))return;KT.style.width=eP-(r.left-l)+"px"}i&&s>=QT&&s<=eP&&(KT.style.width=s+"px")}function DP(){for(var e=KT.querySelectorAll(".e-resize-handle"),t=0;t<e.length;t++)ZA(e[t])}var MP,TP,PP,LP,NP=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},RP=(TP=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),NP([bD()],TP.prototype,"buttonModel",void 0),NP([bD("Button")],TP.prototype,"type",void 0),NP([wD()],TP.prototype,"click",void 0),TP),FP=(MP=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),NP([bD("Fade")],MP.prototype,"effect",void 0),NP([bD(400)],MP.prototype,"duration",void 0),NP([bD(0)],MP.prototype,"delay",void 0),MP),HP="e-dialog",BP="e-dlg-target",VP="e-scroll-disabled",jP="e-dlg-fullscreen",zP=(PP=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"render",value:function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=this.minHeight.toString()),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()}},{key:"preRender",value:function(){var e=this;if(this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(t){e.hide(t)},this.dlgOverlayClickEventHandler=function(t){e.trigger("overlayClick",t),e.focusContent()},this.l10n=new tM("dialog",{close:"Close"},this.locale),this.checkPositionData(),JO(this.target)){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=t}}},{key:"isNumberValue",value:function(e){return/^[-+]?\d*\.?\d+$/.test(e)}},{key:"checkPositionData",value:function(){if(!JO(this.position)){if(!JO(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){var e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=e}if(!JO(this.position.Y)&&"number"!=typeof this.position.Y&&this.isNumberValue(this.position.Y)){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=t}}}},{key:"getEle",value:function(e,t){for(var n=void 0,i=0;i<e.length;i++)if(e[i].classList.contains(t)){n=e[i];break}return n}},{key:"getMinHeight",value:function(){var e="0px",t="0px";JO(this.element.querySelector(".e-dlg-header-content"))||(e=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.children,"e-footer-content");JO(n)||(t=getComputedStyle(n).height);var i=parseInt(e.slice(0,e.indexOf("p")),10),a=parseInt(t.slice(0,t.indexOf("p")),10);return ZT=i+30+a,i+30+a}},{key:"onResizeStart",value:function(e,t){return t.trigger("resizeStart",e),e.cancel}},{key:"onResizing",value:function(e,t){t.trigger("resizing",e)}},{key:"onResizeComplete",value:function(e,t){t.trigger("resizeStop",e)}},{key:"setResize",value:function(){if(this.enableResize){if(this.isBlazorServerRender()&&!JO(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add("e-dlg-resizable");var e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth,n=this.enableRtl?"south-west":"south-east";this.isModal&&this.enableRtl?this.element.classList.add("e-restrict-left"):this.isModal&&this.target===document.body&&this.element.classList.add("e-resize-viewport"),function(e){hP=e.resizeBegin,dP=e.resizing,pP=e.resizeComplete,KT=vP(e.element),tP=vP(e.boundary);for(var t=e.direction.split(" "),n=0;n<t.length;n++){var i=qA("div",{className:"e-icons e-resize-handle e-"+t[n]});KT.appendChild(i)}ZT=e.minHeight,QT=e.minWidth,eP=e.maxWidth,JT=e.maxHeight,e.proxy&&e.proxy.element&&e.proxy.element.classList.contains("e-dialog")?yP(e.proxy):yP()}({element:this.element,direction:n,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this})}else DP(),this.element.classList.remove(this.isModal?"e-restrict-left":"e-resize-viewport"),this.element.classList.remove("e-dlg-resizable")}},{key:"keyDown",value:function(e){var t=this;if(9===e.keyCode&&this.isModal){var n;if(JO(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),JO(this.btnObj)&&!JO(this.ftrTemplateContent)){var i=this.ftrTemplateContent.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');n={element:i[i.length-1]}}JO(n)||document.activeElement!==n.element||e.shiftKey||(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),JO(n)||n.element.focus())}var a,r=document.activeElement,s=["input","textarea"].indexOf(r.tagName.toLowerCase())>-1,l=!1;s||(l=r.hasAttribute("contenteditable")&&"true"===r.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape&&this.hide(e),(13===e.keyCode&&!e.ctrlKey&&"textarea"!==r.tagName.toLowerCase()&&s&&!JO(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===r.tagName.toLowerCase()||l)&&!JO(this.primaryButtonEle))&&this.buttons.some((function(e,t){a=t;var n=e.buttonModel;return!JO(n)&&!0===n.isPrimary}))&&"function"==typeof this.buttons[a].click&&setTimeout((function(){t.buttons[a].click.call(t,e)}))}},{key:"initialize",value:function(){JO(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||UA([this.element],HP),KI.isDevice&&UA([this.element],"e-device"),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()}},{key:"initRender",value:function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||QA(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&JO(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&JO(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""===this.header||JO(this.header)||this.setHeader(),this.showCloseIcon&&this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||JO(this.footerTemplate)?JO(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&(JO(this.buttons[0].buttonModel)||""!==this.footerTemplate||this.setButton()),this.allowDragging&&!JO(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(QA(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&JO(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var t=0,n=this.dlgContainer.children;t<n.length;t++)n[t].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=n[t])}if(!0!==this.element.classList.contains("e-alert-dialog")&&!0!==this.element.classList.contains("e-confirm-dialog")&&!JO(this.element.parentElement)){var i=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),i.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}JO(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new YT(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(t){var n={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",n,(function(t){t.preventFocus||e.focusContent()}))},close:function(t){e.isModal&&UA([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var n=document.activeElement;JO(n)||JO(n.blur)||n.blur(),JO(e.storeActiveElement)||JO(e.storeActiveElement.focus)||e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(UA([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1}},{key:"resetResizeIcon",value:function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var t=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));JO(t)||(t.style.bottom="-"+e.toString()+"px")}}},{key:"setOverlayZindex",value:function(e){var t;t=JO(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()}},{key:"positionChange",value:function(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()}},{key:"setPopupPosition",value:function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})}},{key:"setAllowDragging",value:function(){var e=this;this.dragObj=new KD(this.element,{clone:!1,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:function(t){e.trigger("dragStart",t,(function(e){}))},dragStop:function(t){e.isModal&&(JO(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y),e.element.style.position="relative"),e.trigger("dragStop",t),e.element.classList.remove("e-restrict-left")},drag:function(t){e.trigger("drag",t)}}),JO(this.targetEle)||(this.dragObj.dragArea=this.targetEle)}},{key:"setButton",value:function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++){var t=JO(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),n=this.createElement("button",{attrs:{type:t}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}for(var i,a=0,r=this.element.children;a<r.length;a++)r[a].classList.contains("e-footer-content")&&(i=r[a].querySelectorAll("button"));for(var s=0;s<this.buttons.length;s++)this.isBlazorServerRender()||(this.btnObj[s]=new zM(this.buttons[s].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector(".e-footer-content")),!JO(this.ftrTemplateContent)&&"function"==typeof this.buttons[s].click&&i.length>0&&$I.add(i[s],"click",this.buttons[s].click,this),this.isBlazorServerRender()||JO(this.ftrTemplateContent)||(this.btnObj[s].appendTo(this.ftrTemplateContent.children[s]),this.btnObj[s].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])}},{key:"setContent",value:function(){QA(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(JO(this.content)||""===this.content)&&this.initialRender||("string"!=typeof this.content?this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle):this.contentEle.innerHTML=this.sanitizeHelper(this.content)),JO(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(this.isBlazorServerRender()||!KI.isIE||""!==this.element.style.width||JO(this.width)||(this.element.style.width=aI(this.width)),this.setMaxHeight())}},{key:"setTemplate",value:function(e,t){var n,i;i=t.classList.contains("e-dlg-header")?this.element.id+"header":t.classList.contains("e-footer-content")?this.element.id+"footerTemplate":this.element.id+"content",JO(e.outerHTML)?"string"!=typeof e?n=_A(e):t.innerHTML=this.sanitizeHelper(e):t.appendChild(e);var a=[];if(!JO(n)){var r,s=_createForOfIteratorHelper(n({},null,null,i,!0));try{for(s.s();!(r=s.n()).done;){var l=r.value;a.push(l)}}catch(o){s.e(o)}finally{s.f()}KA([].slice.call(a),t)}}},{key:"sanitizeHelper",value:function(e){if(this.enableHtmlSanitizer){var t=uM.beforeSanitize();ZO(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!JO(t.helper)?e=t.helper(e):t.cancel||(e=uM.serializeValue(t,e))}return e}},{key:"setMaxHeight",value:function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!JO(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,KI.isIE&&"auto"===this.height&&!JO(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}}},{key:"setEnableRTL",value:function(){this.isBlazorServerRender()||(this.enableRtl?UA([this.element],"e-rtl"):WA([this.element],"e-rtl")),JO(this.element.querySelector(".e-resize-handle"))||(DP(),this.setResize())}},{key:"setTargetContent",value:function(){var e=this;if(JO(this.content)||""===this.content){var t=""!==this.element.innerHTML.replace(/\s|<(\/?|\!?)(!--!--)>/g,"");(this.element.children.length>0||t)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach((function(t){8!==t.nodeType&&e.innerContentElement.appendChild(t)})))}}},{key:"setHeader",value:function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:"e-dlg-header"}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle),QA(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0])}},{key:"setFooterTemplate",value:function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:"e-footer-content"}),""===this.footerTemplate||JO(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent),this.element.appendChild(this.ftrTemplateContent)}},{key:"createHeaderContent",value:function(){JO(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:"e-dlg-header-content"}))}},{key:"renderCloseIcon",value:function(){this.closeIcon=this.createElement("button",{className:"e-dlg-closeicon-btn",attrs:{type:"button"}}),this.closeIconBtnObj=new zM({cssClass:"e-flat",iconCss:"e-icon-dlg-close e-icons"}),this.closeIconTitle(),JO(this.headerContent)?(this.createHeaderContent(),XA([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):XA([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon)}},{key:"closeIconTitle",value:function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)}},{key:"setCSSClass",value:function(e){this.cssClass&&UA([this.element],this.cssClass.split(" ")),e&&WA([this.element],e.split(" "))}},{key:"setIsModal",value:function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove("e-popup-open"),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),UA([this.element],"e-dlg-modal"),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)}},{key:"getValidFocusNode",value:function(e){for(var t,n=0;n<e.length;n++)if(((t=e[n]).clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;return t}},{key:"focusableElements",value:function(e){if(!JO(e)){var t=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(t)}return null}},{key:"getAutoFocusNode",value:function(e){var t=e.querySelector(".e-dlg-closeicon-btn"),n=e.querySelectorAll("[autofocus]"),i=this.getValidFocusNode(n);if(JO(i)){if(!JO(i=this.focusableElements(this.contentEle)))return i;if(!JO(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=i;return t}},{key:"disableElement",value:function(e,t){var n=e?e.matches||e.webkitMatchesSelector||e.msMatchesSelector:null;if(n)for(;e;e=e.parentNode)if(e instanceof Element&&n.call(e,t))return e;return null}},{key:"focusContent",value:function(){var e=this.getAutoFocusNode(this.element);(JO(e)?this.element:e).focus(),this.bindEvent(this.element)}},{key:"bindEvent",value:function(e){$I.add(e,"keydown",this.keyDown,this)}},{key:"unBindEvent",value:function(e){$I.remove(e,"keydown",this.keyDown)}},{key:"updateSanitizeContent",value:function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))}},{key:"isBlazorServerRender",value:function(){return!1}},{key:"getModuleName",value:function(){return"dialog"}},{key:"onPropertyChanged",value:function(e,t){if(this.element.classList.contains(HP))for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"content":JO(this.content)||""===this.content?JO(this.contentEle)||(ZA(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),JO(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?this.isBlazorServerRender()&&!JO(this.element.querySelector(".e-dlg-content"))||this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||JO(this.header)?this.headerEle&&(ZA(this.headerEle),this.headerEle=null):this.isBlazorServerRender()&&!JO(this.element.querySelector(".e-dlg-header-content"))||this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||JO(this.footerTemplate)){if(!this.ftrTemplateContent)return;ZA(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.isBlazorServerRender()&&!JO(this.element.querySelector(".e-footer-content"))||this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName("e-icon-dlg-close").length>0?this.showCloseIcon||""!==this.header&&!JO(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():ZA(this.closeIcon):(ZA(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":iD(this.element,{height:aI(e.height)});break;case"width":iD(this.element,{width:aI(e.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":var a=this.buttons.length;JO(this.ftrTemplateContent)||this.isBlazorServerRender()||(ZA(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var r=0;r<a;r++)JO(this.buttons[r].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!JO(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var s=JO(t.position.X)?this.position.X:t.position.X,l=JO(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+s+"-"+l)&&this.dlgContainer.classList.remove("e-dlg-"+s+"-"+l)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}}},{key:"setTarget",value:function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()}},{key:"updateIsModal",value:function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",JO(this.targetEle)||this.targetEle.appendChild(this.dlgContainer);else{for(WA([this.element],"e-dlg-modal"),WA([document.body],[BP,VP]),ZA(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&$I.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}},{key:"setzIndex",value:function(e,t){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=XT(e),this.isProtectedOnChange=n,t&&(this.popupObj.zIndex=this.zIndex)}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"destroy",value:function(){if(!this.isDestroyed){var e=["e-rtl","e-dlg-modal","e-dlg-resizable","e-restrict-left",jP,"e-device"],t=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(WA([this.targetEle],[BP,VP]),this.element.classList.contains(jP)&&WA([document.body],[BP,VP]),this.isModal&&WA([JO(this.targetEle)?document.body:this.targetEle],VP),this.unWireEvents(),!JO(this.btnObj))for(var i=0;i<this.btnObj.length;i++)this.btnObj[i].destroy();if(JO(this.dragObj)||this.dragObj.destroy(),this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),WA([this.element],e),JO(this.cssClass)||""===this.cssClass||WA([this.element],this.cssClass.split(" ")),JO(this.refElement)||JO(this.refElement.parentElement)||(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),ZA(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(ZA(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),ZA(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!JO(this.element.children))for(var a=0;a<=this.element.children.length;a++)a-=a,ZA(this.element.children[a]);for(var r=0;r<t.length;r++)this.element.removeAttribute(t[r]);this.isBlazorServerRender()?this.isDestroyed=!0:_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}},{key:"wireEvents",value:function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&$I.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&$I.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}},{key:"unWireEvents",value:function(){if(this.showCloseIcon&&$I.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&$I.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!JO(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(var e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&$I.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)}},{key:"refreshPosition",value:function(){this.popupObj.refreshPosition()}},{key:"show",value:function(e){var t=this;if(this.element.classList.contains(HP)&&(!this.element.classList.contains("e-popup-open")||!JO(e))){JO(e)||this.fullScreen(e);var n={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",n,(function(e){if(!e.cancel){t.element.style.maxHeight!==n.maxHeight&&(t.allowMaxHeight=!1,t.element.style.maxHeight=n.maxHeight),t.storeActiveElement=document.activeElement,t.element.tabIndex=-1,t.isModal&&!JO(t.dlgOverlay)&&(t.dlgOverlay.style.display="block",t.dlgContainer.style.display="flex",WA([t.dlgOverlay],"e-fade"),JO(t.targetEle)?UA([document.body],[BP,VP]):(t.dlgContainer.style.position=t.targetEle===document.body?"fixed":"absolute",t.dlgOverlay.style.position="absolute",t.element.style.position="relative",UA([t.targetEle],[BP,VP])));var i={name:t.animationSettings.effect+"In",duration:t.animationSettings.duration,delay:t.animationSettings.delay},a=t.isModal?t.element.parentElement:t.element;t.calculatezIndex&&(t.setzIndex(a,!0),iD(t.element,{zIndex:t.zIndex}),t.isModal&&t.setOverlayZindex(t.zIndex)),"None"===t.animationSettings.effect?t.popupObj.show():t.popupObj.show(i),t.dialogOpen=!0;var r=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!0,t.preventVisibility=!0,t.isProtectedOnChange=r}}))}}},{key:"hide",value:function(e){var t=this;if(this.element.classList.contains(HP)&&this.preventVisibility){var n={cancel:!1,isInteraction:!!e,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e};this.closeArgs=n,this.trigger("beforeClose",n,(function(e){if(!e.cancel){t.isModal&&(JO(t.targetEle)?WA([document.body],[BP,VP]):WA([t.targetEle],[BP,VP]));var n={name:t.animationSettings.effect+"Out",duration:t.animationSettings.duration,delay:t.animationSettings.delay};"None"===t.animationSettings.effect?t.popupObj.hide():t.popupObj.hide(n),t.dialogOpen=!1;var i=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!1,t.preventVisibility=!1,t.isProtectedOnChange=i}}))}}},{key:"fullScreen",value:function(e){if(e){UA([this.element],jP);var t=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=JO(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=t,UA([document.body],[BP,VP]),this.allowDragging&&!JO(this.dragObj)&&this.dragObj.destroy()}else WA([this.element],jP),WA([document.body],[BP,VP]),this.allowDragging&&!JO(this.headerContent)&&this.setAllowDragging();return e}},{key:"getButtons",value:function(e){return JO(e)?this.btnObj:this.btnObj[e]}}]),n}(zD),NP([bD("")],PP.prototype,"content",void 0),NP([bD(!0)],PP.prototype,"enableHtmlSanitizer",void 0),NP([bD(!1)],PP.prototype,"showCloseIcon",void 0),NP([bD(!1)],PP.prototype,"isModal",void 0),NP([bD("")],PP.prototype,"header",void 0),NP([bD(!0)],PP.prototype,"visible",void 0),NP([bD(!1)],PP.prototype,"enableResize",void 0),NP([bD("auto")],PP.prototype,"height",void 0),NP([bD("")],PP.prototype,"minHeight",void 0),NP([bD("100%")],PP.prototype,"width",void 0),NP([bD("")],PP.prototype,"cssClass",void 0),NP([bD(1e3)],PP.prototype,"zIndex",void 0),NP([bD(null)],PP.prototype,"target",void 0),NP([bD("")],PP.prototype,"footerTemplate",void 0),NP([bD(!1)],PP.prototype,"allowDragging",void 0),NP([CD([{}],RP)],PP.prototype,"buttons",void 0),NP([bD(!0)],PP.prototype,"closeOnEscape",void 0),NP([kD({},FP)],PP.prototype,"animationSettings",void 0),NP([kD({X:"center",Y:"center"},WT)],PP.prototype,"position",void 0),NP([wD()],PP.prototype,"created",void 0),NP([wD()],PP.prototype,"open",void 0),NP([wD()],PP.prototype,"beforeSanitizeHtml",void 0),NP([wD()],PP.prototype,"beforeOpen",void 0),NP([wD()],PP.prototype,"close",void 0),NP([wD()],PP.prototype,"beforeClose",void 0),NP([wD()],PP.prototype,"dragStart",void 0),NP([wD()],PP.prototype,"dragStop",void 0),NP([wD()],PP.prototype,"drag",void 0),NP([wD()],PP.prototype,"overlayClick",void 0),NP([wD()],PP.prototype,"resizeStart",void 0),NP([wD()],PP.prototype,"resizing",void 0),NP([wD()],PP.prototype,"resizeStop",void 0),NP([wD()],PP.prototype,"destroyed",void 0),PP=NP([_D],PP));!function(e){function t(e,t){var n=new zP(e);return n.appendTo(t),n}function n(e,t){return e.header=JO(t.title)?"Information":t.title,e.content=JO(t.content)?"":t.content,e.isModal=!!JO(t.isModal)||t.isModal,e.showCloseIcon=!JO(t.showCloseIcon)&&t.showCloseIcon,e.allowDragging=!JO(t.isDraggable)&&t.isDraggable,e.closeOnEscape=!JO(t.closeOnEscape)&&t.closeOnEscape,e.position=JO(t.position)?{X:"center",Y:"top"}:t.position,e.animationSettings=JO(t.animationSettings)?{effect:"Fade",duration:400,delay:0}:t.animationSettings,e.cssClass=JO(t.cssClass)?"":t.cssClass,e.zIndex=JO(t.zIndex)?1e3:t.zIndex,e.open=JO(t.open)?null:t.open,e}function i(e,t,n){var i=n;return JO(t.text)||(i.buttonModel.content=t.text),JO(t.icon)||(i.buttonModel.iconCss=t.icon),JO(t.cssClass)||(i.buttonModel.cssClass=t.cssClass),JO(t.click)||(i.click=t.click),i}e.alert=function(e){var a,r,s=qA("div",{className:"e-alert-dialog"});return document.body.appendChild(s),(a=t("string"==typeof e?{content:e,position:{X:"center",Y:"top"},isModal:!0,header:"Information",buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(e,t){var n=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return JO(t.okButton)?e.buttons=n:e.buttons[0]=i(0,t.okButton,n[0]),e}(n({buttons:[]},r=e),r),s)).close=function(){e&&e.close&&e.close.apply(a),a.destroy(),a.element.classList.contains("e-dlg-modal")?(a.element.parentElement.remove(),a.target.classList.remove("e-scroll-disabled")):a.element.remove()},a},e.confirm=function(e){var a,r,s=qA("div",{className:"e-confirm-dialog"});return document.body.appendChild(s),(a=t("string"==typeof e?{position:{X:"center",Y:"top"},content:e,isModal:!0,header:"Information",buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(e,t){var n={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},a={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return e.buttons[0]=JO(t.okButton)?n:i(0,t.okButton,n),e.buttons[1]=JO(t.cancelButton)?a:i(0,t.cancelButton,a),e}(n({buttons:[]},r=e),r),s)).close=function(){e&&e.close&&e.close.apply(a),a.destroy(),a.element.classList.contains("e-dlg-modal")?(a.element.parentElement.remove(),a.target.classList.remove("e-scroll-disabled")):a.element.remove()},a}}(LP||(LP={}));var qP,UP,WP=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},YP=(UP=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),WP([bD({effect:"FadeIn",duration:150,delay:0})],UP.prototype,"open",void 0),WP([bD({effect:"FadeOut",duration:150,delay:0})],UP.prototype,"close",void 0),UP),GP=(qP=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).isBlazorTooltip=!1,a.contentTargetValue=null,a.contentEvent=null,a.contentAnimation=null,a}return _createClass(n,[{key:"initialize",value:function(){this.formatPosition(),this.isServerRender()||UA([this.element],"e-tooltip")}},{key:"isServerRender",value:function(){return!1}},{key:"formatPosition",value:function(){var e,t;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=_slicedToArray2(this.position.split(/(?=[A-Z])/),2),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=_slicedToArray2(this.position.split(/(?=[A-Z])/),2),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1])}},{key:"renderArrow",value:function(){if(this.setTipClass(this.position),this.isServerRender()){var e=this.tooltipEle.querySelector(".e-arrow-tip");UA([e.querySelector(".e-arrow-tip-outer")],this.tipClass),UA([e.querySelector(".e-arrow-tip-inner")],this.tipClass),this.tooltipEle.appendChild(e)}else{var t=this.createElement("div",{className:"e-arrow-tip "+this.tipClass});t.appendChild(this.createElement("div",{className:"e-arrow-tip-outer "+this.tipClass})),t.appendChild(this.createElement("div",{className:"e-arrow-tip-inner "+this.tipClass})),this.tooltipEle.appendChild(t)}}},{key:"setTipClass",value:function(e){this.tipClass=0===e.indexOf("Right")?"e-tip-left":0===e.indexOf("Bottom")?"e-tip-top":0===e.indexOf("Left")?"e-tip-right":"e-tip-bottom"}},{key:"renderPopup",value:function(e){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove("e-lib"),this.popupObj=new YT(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})}},{key:"getTooltipPosition",value:function(e){this.tooltipEle.style.display="block";var t=fT(e,this.tooltipPositionX,this.tooltipPositionY),n=this.calculateTooltipOffset(this.position),i=this.collisionFlipFit(e,t.left+n.left,t.top+n.top);return this.tooltipEle.style.display="",i}},{key:"reposition",value:function(e){var t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}},{key:"openPopupHandler",value:function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs)}},{key:"closePopupHandler",value:function(){xA(this.element.id+"content"),this.clear(),this.trigger("afterClose",this.tooltipEventArgs)}},{key:"calculateTooltipOffset",value:function(e){var t={top:0,left:0},n=this.tooltipEle.offsetWidth,i=this.tooltipEle.offsetHeight,a=this.tooltipEle.querySelector(".e-arrow-tip"),r=a?a.offsetWidth:0,s=a?a.offsetHeight:0,l=this.showTipPointer?0:8,o=s/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),u=r/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(l+=2),e){case"RightTop":t.left+=r+l,t.top-=i-o;break;case"RightCenter":t.left+=r+l,t.top-=i/2;break;case"RightBottom":t.left+=r+l,t.top-=o;break;case"BottomRight":t.top+=s+l,t.left-=u;break;case"BottomCenter":t.top+=s+l,t.left-=n/2;break;case"BottomLeft":t.top+=s+l,t.left-=n-u;break;case"LeftBottom":t.left-=r+n+l,t.top-=o;break;case"LeftCenter":t.left-=r+n+l,t.top-=i/2;break;case"LeftTop":t.left-=r+n+l,t.top-=i-o;break;case"TopLeft":t.top-=i+s+l,t.left-=n-u;break;case"TopRight":t.top-=i+s+l,t.left-=u;break;default:t.top-=i+s+l,t.left-=n/2}return t.left+=this.offsetX,t.top+=this.offsetY,t}},{key:"updateTipPosition",value:function(e){var t=this.tooltipEle.querySelectorAll(".e-arrow-tip,.e-arrow-tip-outer,.e-arrow-tip-inner");WA(t,["e-tip-bottom","e-tip-top","e-tip-left","e-tip-right"]),this.setTipClass(e),UA(t,this.tipClass)}},{key:"adjustArrow",value:function(e,t,n,i){if(!1!==this.showTipPointer){var a,r;this.updateTipPosition(t),this.tooltipEle.style.display="block";var s=this.tooltipEle.clientWidth,l=this.tooltipEle.clientHeight,o=this.tooltipEle.querySelector(".e-arrow-tip"),u=this.tooltipEle.querySelector(".e-arrow-tip-inner"),c=o.offsetWidth,h=o.offsetHeight;if(this.tooltipEle.style.display="","e-tip-bottom"===this.tipClass||"e-tip-top"===this.tipClass){if("e-tip-bottom"===this.tipClass?(r="99.9%",u.style.top="-"+(h-2)+"px"):(r=-(h-1)+"px",u.style.top="-"+(h-6)+"px"),e){var d="Center"!==n||s>e.offsetWidth||this.mouseTrail;a=d&&"Left"===n||!d&&"End"===this.tipPointerPosition?s-c-2+"px":d&&"Right"===n||!d&&"Start"===this.tipPointerPosition?"2px":s/2-c/2+"px"}}else{"e-tip-right"===this.tipClass?(a="99.9%",u.style.left="-"+(c-2)+"px"):(a=-(c-1)+"px",u.style.left=c-2-c+"px");var p="Center"!==i||l>e.offsetHeight||this.mouseTrail;r=p&&"Top"===i||!p&&"End"===this.tipPointerPosition?l-h-2+"px":p&&"Bottom"===i||!p&&"Start"===this.tipPointerPosition?"2px":l/2-h/2+"px"}o.style.top=r,o.style.left=a}}},{key:"renderContent",value:function(e){var t=this.tooltipEle.querySelector(".e-tip-content");this.cssClass&&UA([this.tooltipEle],this.cssClass.split(" ")),e&&!JO(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),JO(this.content)?e&&!JO(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content")):!this.isBlazorTooltip&&this.isServerRender()||(t.innerHTML="",this.content instanceof HTMLElement?t.appendChild(this.content):"string"==typeof this.content&&this.content.indexOf("<div>Blazor")<0?(this.enableHtmlSanitizer&&this.setProperties({content:uM.sanitize(this.content)},!0),t.innerHTML=this.content):(KA(_A(this.content)({},null,null,this.element.id+"content"),t),"string"==typeof this.content&&this.content.indexOf("<div>Blazor")>=0&&(this.isBlazorTemplate=!0)))}},{key:"renderCloseIcon",value:function(){if(this.isSticky){var e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),$I.add(e,KI.touchStartEvent,this.onStickyClose,this)}}},{key:"addDescribedBy",value:function(e,t){var n=(e.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(t)<0&&n.push(t),QA(e,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":t})}},{key:"removeDescribedBy",value:function(e){var t=e.getAttribute("data-tooltip-id"),n=(e.getAttribute("aria-describedby")||"").split(/\s+/),i=n.indexOf(t);-1!==i&&n.splice(i,1),e.removeAttribute("data-tooltip-id");var a=n.join(" ").trim();a?e.setAttribute("aria-describedby",a):e.removeAttribute("aria-describedby")}},{key:"tapHoldHandler",value:function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)}},{key:"touchEndHandler",value:function(e){var t=this;this.isSticky||(this.autoCloseTimer=setTimeout((function(){t.close()}),1500))}},{key:"targetClick",value:function(e){var t;JO(t=this.target?nD(e.target,this.target):this.element)||(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))}},{key:"targetHover",value:function(e){var t;if(!JO(t=this.target?nD(e.target,this.target):this.element)&&null===t.getAttribute("data-tooltip-id")){var n,i=_createForOfIteratorHelper([].slice.call(document.querySelectorAll("[data-tooltip-id= "+this.ctrlId+"_content]")));try{for(i.s();!(n=i.n()).done;){var a=n.value;this.restoreElement(a)}}catch(r){i.e(r)}finally{i.f()}this.showTooltip(t,this.animation.open,e)}}},{key:"showTooltip",value:function(e,t,n){var i=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!JO(n)},this.trigger("beforeRender",this.tooltipEventArgs,(function(a){i.beforeRenderCallback(a,e,n,t)}).bind(this))}},{key:"beforeRenderCallback",value:function(e,t,n,i){var a=!1;e.cancel?(this.isHidden=!0,this.clear()):(this.isHidden=!1,JO(this.tooltipEle)?(this.isServerRender()?(this.contentTargetValue=t,this.contentEvent=n,this.contentAnimation=i,this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{enableTooltip:"true"}),a=!0):(this.ctrlId=this.element.getAttribute("id")?eI(this.element.getAttribute("id")):eI("tooltip"),this.tooltipEle=this.createElement("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+aI(this.width)+";height:"+aI(this.height)+";position:absolute;"}),this.beforeRenderBlazor(t,this)),a||this.afterRenderBlazor(t,n,i,this)):(this.isServerRender()&&(UA([this.tooltipEle],"e-popup-open"),document.body.appendChild(this.tooltipEle),this.renderCloseIcon(),this.renderPopup(t)),t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),ID.stop(this.tooltipEle),this.reposition(t),this.afterRenderBlazor(t,n,i,this))))}},{key:"contentUpdated",value:function(e){JO(this.tooltipEle)&&this.isServerRender()&&(this.ctrlId=this.element.id,this.tooltipEle=document.querySelector("#"+this.ctrlId+"_content"),this.tooltipEle&&(this.tooltipEle.setAttribute("style","width:"+aI(this.width)+";height:"+aI(this.height)+";position:absolute;"),this.beforeRenderBlazor(this.contentTargetValue,this),this.afterRenderBlazor(this.contentTargetValue,this.contentEvent,this.contentAnimation,this),this.contentTargetValue=this.contentEvent=this.contentAnimation=null))}},{key:"beforeRenderBlazor",value:function(e,t){e&&(KI.isDevice&&UA([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=aI(t.width)),this.isServerRender()||t.tooltipEle.appendChild(t.createElement("div",{className:"e-tip-content"})),document.body.appendChild(t.tooltipEle),WA([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),UA([t.tooltipEle],"e-popup-open"),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),ID.stop(t.tooltipEle),t.reposition(e))}},{key:"afterRenderBlazor",value:function(e,t,n,i){e&&(WA([i.tooltipEle],"e-popup-open"),UA([i.tooltipEle],"e-popup-close"),i.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:i.tooltipEle,isInteracted:!JO(t)},i.needTemplateReposition()&&!i.mouseTrail&&(i.tooltipEle.style.display="none"),i.trigger("beforeOpen",i.tooltipEventArgs,(function(a){i.beforeOpenCallback(a,e,n,t)}).bind(i)))}},{key:"beforeOpenCallback",value:function(e,t,n,i){var a=this;if(e.cancel)this.isHidden=!0,this.clear(),this.restoreElement(t);else{var r={name:n.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};"None"===n.effect&&(r=void 0),this.openDelay>0?this.showTimer=setTimeout((function(){a.popupObj&&a.popupObj.show(r,t)}),this.openDelay):this.popupObj&&this.popupObj.show(r,t)}i&&this.wireMouseEvents(i,t)}},{key:"needTemplateReposition",value:function(){return!JO(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef||this.isServerRender()&&this.isBlazorTemplate}},{key:"checkCollision",value:function(e,t,n){var i={left:t,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},a=ET(this.tooltipEle,this.target?this.element:null,t,n);return a.length>0&&(i.horizontal=a.indexOf("left")>=0?"Right":a.indexOf("right")>=0?"Left":this.tooltipPositionX,i.vertical=a.indexOf("top")>=0?"Bottom":a.indexOf("bottom")>=0?"Top":this.tooltipPositionY),i}},{key:"collisionFlipFit",value:function(e,t,n){var i=this.checkCollision(e,t,n),a=i.position;if(this.tooltipPositionY!==i.vertical&&(a=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?i.vertical+this.tooltipPositionX:this.tooltipPositionX+i.vertical),this.tooltipPositionX!==i.horizontal&&(0===a.indexOf("Left")&&(i.vertical="LeftTop"===a||"LeftCenter"===a?"Top":"Bottom",a=i.vertical+"Left"),0===a.indexOf("Right")&&(i.vertical="RightTop"===a||"RightCenter"===a?"Top":"Bottom",a=i.vertical+"Right"),i.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:a},this.trigger("beforeCollision",this.tooltipEventArgs),i.position!==a){var r=fT(e,i.horizontal,i.vertical);this.adjustArrow(e,a,i.horizontal,i.vertical);var s=this.calculateTooltipOffset(a);s.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(a.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,s.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(a.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,i.position=a,i.left=r.left+s.left,i.top=r.top+s.top}else this.adjustArrow(e,a,i.horizontal,i.vertical);var l={left:i.left,top:i.top},o=ST(this.tooltipEle,this.target?this.element:null,{X:!0,Y:!1},l).left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===a.indexOf("Bottom")||0===a.indexOf("Top"))){var u=this.tooltipEle.querySelector(".e-arrow-tip"),c=parseInt(u.style.left,10)-(o-i.left);c<0?c=0:c+u.offsetWidth>this.tooltipEle.clientWidth&&(c=this.tooltipEle.clientWidth-u.offsetWidth),u.style.left=c.toString()+"px"}return this.tooltipEle.style.display="",l.left=o,l}},{key:"hideTooltip",value:function(e,t,n){var i,a=this;i=t?this.target?n||t.target:this.element:document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]"),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:i,event:t||null,element:this.tooltipEle,isInteracted:!JO(t)},this.trigger("beforeClose",this.tooltipEventArgs,(function(t){t.cancel?a.isHidden=!1:a.isServerRender()?a.blazorHide(e,i):a.popupHide(e,i)}))}},{key:"blazorHide",value:function(e,t){var n=this;this.popupObj?this.popupHide(e,t):setTimeout((function(){n.popupHide(e,t)}),200)}},{key:"popupHide",value:function(e,t){var n=this;this.clearTemplate(),t&&this.restoreElement(t),this.isHidden=!0;var i={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(i=void 0),this.closeDelay>0?this.hideTimer=setTimeout((function(){n.popupObj&&n.popupObj.hide(i)}),this.closeDelay):this.popupObj&&this.popupObj.hide(i)}},{key:"restoreElement",value:function(e){this.unwireMouseEvents(e),JO(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)}},{key:"clear",value:function(){this.tooltipEle&&(WA([this.tooltipEle],"e-popup-close"),UA([this.tooltipEle],"e-popup-open")),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.isServerRender()&&this.tooltipEle?(this.tooltipEle.style.display="none",this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{enableTooltip:"false"}),JA(this.tooltipEle)):this.tooltipEle&&JA(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)}},{key:"onMouseOut",value:function(e){var t=e.relatedTarget;if(t&&!this.mouseTrail){var n=nD(t,".e-tooltip-wrap.e-lib.e-popup");n?($I.add(n,"mouseleave",this.tooltipElementMouseOut,this),this.unwireMouseEvents(e.target)):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()}},{key:"tooltipElementMouseOut",value:function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),$I.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()}},{key:"onStickyClose",value:function(e){this.close()}},{key:"onMouseMove",value:function(e){var t=0,n=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),ID.stop(this.tooltipEle),WA([this.tooltipEle],"e-popup-close"),UA([this.tooltipEle],"e-popup-open"),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var i=this.calculateTooltipOffset(this.position),a=this.checkCollision(e.target,t+i.left+this.offsetX,n+i.top+this.offsetY);if(this.tooltipPositionX!==a.horizontal||this.tooltipPositionY!==a.vertical){var r=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?a.vertical+a.horizontal:a.horizontal+a.vertical;a.position=r,this.adjustArrow(e.target,a.position,a.horizontal,a.vertical);var s=this.calculateTooltipOffset(a.position);a.left=t+s.left-this.offsetX,a.top=n+s.top-this.offsetY}this.tooltipEle.style.left=a.left+"px",this.tooltipEle.style.top=a.top+"px"}},{key:"keyDown",value:function(e){this.tooltipEle&&27===e.keyCode&&this.close()}},{key:"touchEnd",value:function(e){this.tooltipEle&&null===nD(e.target,".e-tooltip")&&this.close()}},{key:"scrollHandler",value:function(e){this.tooltipEle&&(nD(e.target,".e-tooltip-wrap.e-lib.e-popup")||this.close())}},{key:"render",value:function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()}},{key:"preRender",value:function(){this.tipClass="e-tip-bottom",this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0}},{key:"wireEvents",value:function(e){var t,n=_createForOfIteratorHelper(this.getTriggerList(e));try{for(n.s();!(t=n.n()).done;){var i=t.value;if("Custom"===i)return;"Focus"===i&&this.wireFocusEvents(),"Click"===i&&$I.add(this.element,KI.touchStartEvent,this.targetClick,this),"Hover"===i&&(KI.isDevice?(this.touchModule=new rM(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),$I.add(this.element,KI.touchEndEvent,this.touchEndHandler,this)):($I.add(this.element,"mouseover",this.targetHover,this),this.isServerRender()&&!this.isSticky&&$I.add(this.element,"mouseleave",this.onMouseOut,this)))}}catch(a){n.e(a)}finally{n.f()}$I.add(document,"touchend",this.touchEnd,this),$I.add(document,"scroll wheel",this.scrollHandler,this),$I.add(document,"keydown",this.keyDown,this)}},{key:"getTriggerList",value:function(e){return"Auto"===e&&(e=KI.isDevice?"Hover":"Hover Focus"),e.split(" ")}},{key:"wireFocusEvents",value:function(){if(JO(this.target))$I.add(this.element,"focus",this.targetHover,this);else{var e,t=_createForOfIteratorHelper([].slice.call(this.element.querySelectorAll(this.target)));try{for(t.s();!(e=t.n()).done;){var n=e.value;$I.add(n,"focus",this.targetHover,this)}}catch(i){t.e(i)}finally{t.f()}}}},{key:"wireMouseEvents",value:function(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&$I.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&(this.isServerRender()||$I.add(t,"mouseleave",this.onMouseOut,this))),this.mouseTrail&&$I.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))}},{key:"unwireEvents",value:function(e){var t,n=_createForOfIteratorHelper(this.getTriggerList(e));try{for(n.s();!(t=n.n()).done;){var i=t.value;if("Custom"===i)return;"Focus"===i&&this.unwireFocusEvents(),"Click"===i&&$I.remove(this.element,KI.touchStartEvent,this.targetClick),"Hover"===i&&(KI.isDevice?(this.touchModule&&this.touchModule.destroy(),$I.remove(this.element,KI.touchEndEvent,this.touchEndHandler)):($I.remove(this.element,"mouseover",this.targetHover),this.isServerRender()&&!this.isSticky&&$I.remove(this.element,"mouseleave",this.onMouseOut)))}}catch(a){n.e(a)}finally{n.f()}$I.remove(document,"touchend",this.touchEnd),$I.remove(document,"scroll wheel",this.scrollHandler),$I.remove(document,"keydown",this.keyDown)}},{key:"unwireFocusEvents",value:function(){if(JO(this.target))$I.remove(this.element,"focus",this.targetHover);else{var e,t=_createForOfIteratorHelper([].slice.call(this.element.querySelectorAll(this.target)));try{for(t.s();!(e=t.n()).done;){var n=e.value;$I.remove(n,"focus",this.targetHover)}}catch(i){t.e(i)}finally{t.f()}}}},{key:"unwireMouseEvents",value:function(e){if(!this.isSticky){var t,n=_createForOfIteratorHelper(this.getTriggerList(this.opensOn));try{for(n.s();!(t=n.n()).done;){var i=t.value;"Focus"===i&&$I.remove(e,"blur",this.onMouseOut),"Hover"!==i||KI.isDevice||this.isServerRender()||$I.remove(e,"mouseleave",this.onMouseOut)}}catch(a){n.e(a)}finally{n.f()}}this.mouseTrail&&$I.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)}},{key:"findTarget",value:function(){return document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]")}},{key:"getModuleName",value:function(){return"tooltip"}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"onPropertyChanged",value:function(e,t){for(var n=this.findTarget(),i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=aI(e.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=aI(e.height),this.reposition(n));break;case"content":this.tooltipEle?(this.isServerRender()&&(this.isBlazorTooltip=!0),this.renderContent()):this.isServerRender()&&this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{content:e.content});break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var r=this.tooltipEle.querySelector(".e-arrow-tip-inner");r.style.top=r.style.left=null,this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var s=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+s).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var l=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+l).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&WA([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&UA([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?UA([this.tooltipEle],"e-rtl"):WA([this.tooltipEle],"e-rtl"))}}},{key:"open",value:function(e,t){JO(t)&&(t=this.animation.open),JO(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)}},{key:"close",value:function(e){e||(e=this.animation.close),this.hideTooltip(e)}},{key:"refresh",value:function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)}},{key:"destroy",value:function(){if(this.isServerRender()||(_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.tooltipEle&&JA(this.tooltipEle)),this.isServerRender()&&this.tooltipEle){var e=document.querySelector("#"+this.ctrlId+"_content_placeholder");e&&e.appendChild(this.tooltipEle)}this.popupObj&&this.popupObj.destroy(),WA([this.element],"e-tooltip"),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null}}]),n}(zD),WP([bD("auto")],qP.prototype,"width",void 0),WP([bD("auto")],qP.prototype,"height",void 0),WP([bD()],qP.prototype,"content",void 0),WP([bD()],qP.prototype,"target",void 0),WP([bD("TopCenter")],qP.prototype,"position",void 0),WP([bD(0)],qP.prototype,"offsetX",void 0),WP([bD(0)],qP.prototype,"offsetY",void 0),WP([bD(!0)],qP.prototype,"showTipPointer",void 0),WP([bD("Auto")],qP.prototype,"tipPointerPosition",void 0),WP([bD("Auto")],qP.prototype,"opensOn",void 0),WP([bD(!1)],qP.prototype,"mouseTrail",void 0),WP([bD(!1)],qP.prototype,"isSticky",void 0),WP([kD({},YP)],qP.prototype,"animation",void 0),WP([bD(0)],qP.prototype,"openDelay",void 0),WP([bD(0)],qP.prototype,"closeDelay",void 0),WP([bD()],qP.prototype,"cssClass",void 0),WP([bD(!1)],qP.prototype,"enableHtmlSanitizer",void 0),WP([wD()],qP.prototype,"beforeRender",void 0),WP([wD()],qP.prototype,"beforeOpen",void 0),WP([wD()],qP.prototype,"afterOpen",void 0),WP([wD()],qP.prototype,"beforeClose",void 0),WP([wD()],qP.prototype,"afterClose",void 0),WP([wD()],qP.prototype,"beforeCollision",void 0),WP([wD()],qP.prototype,"created",void 0),WP([wD()],qP.prototype,"destroyed",void 0),qP=WP([_D],qP)),XP={};function KP(e,t){var n,i=JO(t)?qA:t,a=function(e,t){var n=t("div",{});n.classList.add("e-spinner-pane");var i=t("div",{});return i.classList.add("e-spinner-inner"),e.appendChild(n),n.appendChild(i),{wrap:n,inner_wrap:i}}(e.target,i);if(JO(e.cssClass)||a.wrap.classList.add(e.cssClass),JO(e.template)&&JO(null)){var r=JO(e.type)?function(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")}(a.wrap):e.type;n=function(e,t){var n;switch(t){case"Material":case"Fabric":n=30;break;case"Bootstrap4":n=36;break;default:n=30}return e=e?parseFloat(e+""):n,"Bootstrap"===t?e:e/2}(JO(e.width)?void 0:e.width,r),function(e,t,n,i){var a=t.querySelector(".e-spinner-inner"),r=a.querySelector("svg");switch(JO(r)||a.removeChild(r),e){case"Material":!function(e,t,n){var i=$P();XP[i]={timeOut:0,type:"Material",radius:t},JP(e,i,0,"e-spin-material"),QP(t,e,"Material","e-spin-material")}(a,n);break;case"Fabric":!function(e,t,n){var i=$P();XP[i]={timeOut:0,type:"Fabric",radius:t},ZP(e,i,"e-spin-fabric"),iL(t,e,"e-spin-fabric")}(a,n);break;case"Bootstrap":!function(e,t,n){var i=$P();XP[i]={timeOut:0,type:"Bootstrap",radius:t},function(e,t,n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id",t),i.setAttribute("class","e-spin-bootstrap"),i.setAttribute("viewBox","0 0 64 64"),e.insertBefore(i,e.firstChild);for(var a=0;a<=7;a++){var r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("class","e-path-circle_"+a),r.setAttribute("r","2"),r.setAttribute("transform","translate(32,32)"),i.appendChild(r)}}(e,i),function(e,t){var n=e.querySelector("svg.e-spin-bootstrap");n.style.width=n.style.height=t+"px";for(var i=90,a=0;a<=7;a++){var r=aL(0,0,24,i),s=n.querySelector(".e-path-circle_"+a);s.setAttribute("cx",r.x+""),s.setAttribute("cy",r.y+""),i=i>=360?0:i,i+=45}}(e,t)}(a,n);break;case"HighContrast":!function(e,t,n){var i=$P();XP[i]={timeOut:0,type:"HighContrast",radius:t},ZP(e,i,"e-spin-high-contrast"),iL(t,e,"e-spin-high-contrast")}(a,n);break;case"Bootstrap4":!function(e,t,n){var i=$P();XP[i]={timeOut:0,type:"Bootstrap4",radius:t},JP(e,i,0,"e-spin-bootstrap4"),QP(t,e,"Bootstrap4","e-spin-bootstrap4")}(a,n)}}(r,a.wrap,n),JO(e.label)||function(e,t,n){var i=n("div",{});i.classList.add("e-spin-label"),i.textContent=t,e.appendChild(i)}(a.inner_wrap,e.label,i)}else{var s=JO(e.template)?null:e.template;a.wrap.classList.add("e-spin-template"),function(e,t,n){JO(null)||e.classList.add(null),e.querySelector(".e-spinner-inner").innerHTML=t}(a.wrap,s)}a.wrap.classList.add("e-spin-hide"),a=null}function $P(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function ZP(e,t,n,i){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("id",t),a.setAttribute("class",n);var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class","e-path-circle");var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class","e-path-arc"),e.insertBefore(a,e.firstChild),a.appendChild(r),a.appendChild(s)}function JP(e,t,n,i){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("class",i),a.setAttribute("id",t);var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class","e-path-circle"),e.insertBefore(a,e.firstChild),a.appendChild(r)}function QP(e,t,n,i){var a=2*e,r=t.querySelector("svg."+i),s=r.querySelector("path.e-path-circle"),l=eL(a),o=a/2+"px";r.setAttribute("viewBox","0 0 "+a+" "+a),r.style.width=r.style.height=a+"px",r.style.transformOrigin=o+" "+o+" "+o,s.setAttribute("d",function(e,t){var n=e/2,i=t/2;return"M"+n+","+i+"A"+(n-i)+","+(n-i)+" 0 1 1 "+i+","+n}(a,l)),"Material"===n&&(s.setAttribute("stroke-width",l+""),s.setAttribute("stroke-dasharray",(a-l)*Math.PI*.75+""),s.setAttribute("stroke-dashoffset",tL(a,l,1,75)+""))}function eL(e){return.1*e}function tL(e,t,n,i){return(e-t)*Math.PI*(3*i/100-n/100)}function nL(e,t,n,i){var a=(e/=i)*e,r=a*e;return t+n*(6*r*a+-15*a*a+10*r)}function iL(e,t,n){var i=e,a=e,r=2*e,s=t.querySelector("."+n),l=s.querySelector(".e-path-circle"),o=s.querySelector(".e-path-arc"),u=r/2+"px";l.setAttribute("d",function(e,t,n){return["M",e,t,"m",-n,0,"a",n,n,0,1,0,2*n,0,"a",n,n,0,1,0,2*-n,0].join(" ")}(i,a,e)),o.setAttribute("d",function(e,t,n,i,a){var r=aL(e,t,n,45),s=aL(e,t,n,315);return["M",r.x,r.y,"A",n,n,0,0,0,s.x,s.y].join(" ")}(i,a,e)),s.setAttribute("viewBox","0 0 "+r+" "+r),s.style.transformOrigin=u+" "+u+" "+u,s.style.width=s.style.height=r+"px"}function aL(e,t,n,i){var a=(i-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}}function rL(e){sL(e,!1),e=null}function sL(e,t){var n=e.classList.contains("e-spinner-pane")?e:e.querySelector(".e-spinner-pane"),i=n.querySelector(".e-spinner-inner");if(t?!n.classList.contains("e-spin-template")&&!n.classList.contains("e-spin-hide"):!n.classList.contains("e-spin-template")&&!n.classList.contains("e-spin-show")){var a=n.querySelector("svg");if(JO(a))return;var r=a.getAttribute("id");switch(XP[r].isAnimate=!t,XP[r].type){case"Material":t?clearTimeout(XP[r].timeOut):function(e,t,n){var i={};XP[t].timeOut=0,i[t]=function(e,t,n,i){return{radius:t,count:0,previousId:0}}(0,n),function e(t){!function(t,n,i,a,r,s,l){var o=++l.globalInfo[l.uniqueID].previousId,u=(new Date).getTime(),c=parseFloat(2*l.globalInfo[l.uniqueID].radius+""),h=eL(c),d=-90*(l.globalInfo[l.uniqueID].count||0);!function t(n){var a=Math.max(0,Math.min((new Date).getTime()-u,1333));!function(e,t){if(!JO(t.querySelector("svg.e-spin-material"))&&!JO(t.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))){var n=t.querySelector("svg.e-spin-material").querySelector("path.e-path-circle");n.setAttribute("stroke-dashoffset",tL(c,h,e,75)+""),n.setAttribute("transform","rotate("+d+" "+c/2+" "+c/2+")")}}(i(a,1,148,1333),n.container),o===n.globalInfo[n.uniqueID].previousId&&a<1333?XP[n.uniqueID].timeOut=setTimeout(t.bind(null,n),1):e(n)}(l)}(0,0,nL,0,0,0,t),t.globalInfo[t.uniqueID].count=++t.globalInfo[t.uniqueID].count%4}({uniqueID:t,container:e,globalInfo:i,timeOutVar:0})}(i,r,XP[r].radius);break;case"Bootstrap":t?clearTimeout(XP[r].timeOut):function(e){for(var t,n,i,a,r,s=e.querySelector("svg.e-spin-bootstrap").getAttribute("id"),l=1;l<=8;l++)o(e.getElementsByClassName("e-path-circle_"+(8===l?0:l))[0],l,0,(t=void 0,n=void 0,i=void 0,a=void 0,r=void 0,t=[],i=l,a=!1,r=1,function e(s){t.push(s),(s!==i||1===r)&&(s<=n&&s>1&&!a?s=parseFloat((s-.2).toFixed(2)):1===s?(s=7,s=parseFloat((s+.2).toFixed(2)),a=!0):s<8&&a?8===(s=parseFloat((s+.2).toFixed(2)))&&(a=!1):s<=8&&!a&&(s=parseFloat((s-.2).toFixed(2))),++r,e(s))}(n=l),t),s);function o(e,t,n,i,a){var r=0;!function t(n){XP[a].isAnimate&&(++r,e.setAttribute("r",n+""),r>=i.length&&(r=0),XP[a].timeOut=setTimeout(t.bind(null,i[r]),18))}(t)}}(i)}}t?aD(n,["e-spin-hide"],["e-spin-show"]):aD(n,["e-spin-show"],["e-spin-hide"]),e=null}function lL(e){sL(e,!0),e=null}var oL=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};function uL(e,t){for(var n=ZO({},e),i=0,a=Object.keys(n);i<a.length;i++){var r=a[i];t.indexOf(r)<0&&XO(n,r)}return n}var cL,hL,dL,pL,fL=(cL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),oL([bD("")],cL.prototype,"iconCss",void 0),oL([bD("")],cL.prototype,"id",void 0),oL([bD(!1)],cL.prototype,"separator",void 0),oL([bD("")],cL.prototype,"text",void 0),oL([bD("")],cL.prototype,"url",void 0),cL),mL=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},gL=new EI,vL=(hL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"preRender",value:function(){}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"toggle",value:function(){this.canOpen()?this.openPopUp():this.closePopup()}},{key:"render",value:function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}},{key:"buttonRendered",value:function(e){this.element.id===e.instance.element.id&&(this.button=e.instance,jM.off("component-rendered",this.buttonRendered,this.element.id))}},{key:"addItems",value:function(e,t){for(var n,i=this.items.length,a=0,r=this.items.length;a<r;a++)if(t===this.items[a].text){i=a;break}for(var s=e.length-1;s>=0;s--)n=new fL(this,"items",e[s],!0),this.items.splice(i,0,n);this.canOpen()||this.createItems()}},{key:"removeItems",value:function(e){for(var t=0,n=e.length;t<n;t++)for(var i=0,a=this.items.length;i<a;i++)if(e[t]===this.items[i].text){this.items.splice(i,1);break}this.canOpen()||this.createItems()}},{key:"createPopup",value:function(){var e=this.createElement("div",{className:"e-dropdown-popup",id:this.element.id+"-popup"});document.body.appendChild(e),this.dropDown=new YT(e,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),QA(this.element,{"aria-haspopup":this.items.length||this.target?"true":"false","aria-expanded":"false","aria-owns":this.getPopUpElement().id,type:"button","aria-label":this.element.textContent+" dropdownbutton"}),this.cssClass&&UA([e],this.cssClass.split(" "))}},{key:"getTargetElement",value:function(){return"string"==typeof this.target?eD(this.target):this.target}},{key:"createItems",value:function(e){var t,n,i,a,r=this.items,s=this.hasIcon(this.items,"iconCss"),l=this.getULElement();l?l.innerHTML="":l=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(var o=0;o<r.length;o++){n=r[o];var u=this.enableHtmlSanitizer?uM.sanitize(n.text):n.text;i=this.createElement("li",{innerHTML:n.url?"":u,className:n.separator?"e-item e-separator":"e-item",attrs:{role:"menuItem",tabindex:"-1"},id:n.id?n.id:eI("e-"+this.getModuleName()+"-item")}),n.url&&(i.appendChild(this.createAnchor(n)),i.classList.add("e-url")),n.iconCss?(t=this.createElement("span",{className:"e-menu-icon "+n.iconCss}),n.url?i.childNodes[0].appendChild(t):i.insertBefore(t,i.childNodes[0])):s&&!n.separator&&i.classList.add("e-blank-icon"),a={item:n,element:i},this.trigger("beforeItemRender",a),l.appendChild(i)}if(e&&this.getPopUpElement().appendChild(l),s){var c,h=[].slice.call(this.getPopUpElement().getElementsByClassName("e-blank-icon")),d=this.getPopUpElement().querySelector(".e-item:not(.e-blank-icon)"),p=d.querySelector(".e-menu-icon");c=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};var f="".concat(parseInt(getComputedStyle(p).fontSize,10)+parseInt(getComputedStyle(p)[c.margin],10)+parseInt(getComputedStyle(d).paddingLeft,10),"px");h.forEach((function(e){e.style[c.padding]=f}))}}},{key:"hasIcon",value:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n][t])return!0;return!1}},{key:"createAnchor",value:function(e){var t=this.enableHtmlSanitizer?uM.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t,attrs:{href:e.url}})}},{key:"initialize",value:function(){this.button=new zM({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=eI("e-"+this.getModuleName())),this.appendArrowSpan(),this.createPopup(),this.setActiveElem([this.element])}},{key:"appendArrowSpan",value:function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf("e-vertical")>-1?"bottom":"right")+" e-caret"}))}},{key:"setActiveElem",value:function(e){this.activeElem=e}},{key:"getModuleName",value:function(){return"dropdown-btn"}},{key:"canOpen",value:function(){return this.getPopUpElement().classList.contains("e-popup-close")}},{key:"destroy",value:function(){var e=this;if(_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),"dropdown-btn"===this.getModuleName()){var t;this.element.querySelector("span.e-caret")&&ZA(this.element.querySelector("span.e-caret")),this.cssClass&&(t=this.cssClass.split(" ")),this.button.destroy(),t&&WA([this.element],t),WA(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach((function(t){e.element.removeAttribute(t)})),this.dropDown.destroy();var i=document.getElementById(this.getPopUpElement().id);i&&(WA([i],["e-popup-open","e-popup-close"]),ZA(i)),this.disabled||this.unWireEvents()}}},{key:"getPopUpElement",value:function(){return this.dropDown.element}},{key:"getULElement",value:function(){return this.getPopUpElement().children[0]}},{key:"wireEvents",value:function(){var e=this.getPopUpElement();this.delegateMousedownHandler=this.mousedownHandler.bind(this),$I.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),$I.add(this.element,"click",this.clickHandler,this),$I.add(e,"click",this.clickHandler,this),$I.add(this.element,"keydown",this.keyBoardHandler,this),$I.add(e,"keydown",this.keyBoardHandler,this),this.rippleFn=AD(e,{selector:".e-item"})}},{key:"keyBoardHandler",value:function(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}}},{key:"upDownKeyHandler",value:function(e){if(!this.target||38!==e.keyCode&&40!==e.keyCode){e.preventDefault();var t=this.getULElement(),n=40===e.keyCode?0:t.childElementCount-1,i=n,a=null;this.removeCustomSelection();for(var r=0,s=t.children.length;r<s;r++)t.children[r].classList.contains("e-focused")&&(i=r,(a=t.children[r]).classList.remove("e-focused"),40===e.keyCode?i++:i--,i===(40===e.keyCode?t.childElementCount:-1)&&(i=n));a=t.children[i],-1!==(i=this.isValidLI(a,i,e.keyCode))&&(UA([t.children[i]],"e-focused"),t.children[i].focus())}}},{key:"removeCustomSelection",value:function(){var e=this.getULElement().querySelector(".e-selected");e&&e.classList.remove("e-selected")}},{key:"isValidLI",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if((e.classList.contains("e-separator")||e.classList.contains("e-disabled"))&&(t===(40===n?this.items.length-1:0)?t=40===n?0:this.items.length-1:40===n?t++:t--),(e=this.getULElement().children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")){if(++i===this.items.length)return-1;t=this.isValidLI(e,t,n,i)}return t}},{key:"keyEventHandler",value:function(e){(!this.target||13!==e.keyCode&&9!==e.keyCode)&&(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))}},{key:"getLI",value:function(e){return"LI"===e.tagName?e:nD(e,"li")}},{key:"mousedownHandler",value:function(e){var t=e.target;this.canOpen()||nD(t,"#"+this.getPopUpElement().id)||nD(t,"#"+this.element.id)||this.closePopup(e)}},{key:"clickHandler",value:function(e){var t=e.target,n=this.canOpen();if(nD(t,"#"+this.element.id))n?this.openPopUp(e):this.closePopup(e,this.activeElem[0]);else if(nD(t,"#"+this.getPopUpElement().id)){var i,a,r,s=this.getLI(t);s&&(a=Array.prototype.indexOf.call(this.getULElement().children,s),(r=this.items[a])&&(i={element:s,item:r},this.trigger("select",i)),this.closePopup(e,this.activeElem[0]))}}},{key:"openPopUp",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.target||this.createItems(!0);var n=this.getULElement();this.trigger("beforeOpen",{element:n,items:this.items,event:t,cancel:!1},(function(t){if(!t.cancel){var n=e.getULElement();e.dropDown.show(null,e.element),UA([e.element],"e-active"),e.element.setAttribute("aria-expanded","true"),n.focus(),e.trigger("open",{element:n,items:e.items})}}))}},{key:"closePopup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=this.getULElement();this.trigger("beforeClose",{element:i,items:this.items,event:t,cancel:!1},(function(t){if(!t.cancel){var i=e.getULElement();e.removeCustomSelection(),e.dropDown.hide(),WA(e.activeElem,"e-active"),e.element.setAttribute("aria-expanded","false"),n&&n.focus(),e.trigger("close",{element:i,items:e.items}),!e.target&&i&&ZA(i)}}))}},{key:"unWireEvents",value:function(){$I.remove(document,"mousedown touchstart",this.delegateMousedownHandler),$I.remove(this.element,"click",this.clickHandler),$I.remove(this.getPopUpElement(),"click",this.clickHandler),$I.remove(this.element,"keydown",this.keyBoardHandler),$I.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.rippleFn()}},{key:"onPropertyChanged",value:function(e,t){this.button.setProperties(uL(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.dropDown.setProperties(uL(e,["enableRtl"]));for(var n=this.getPopUpElement(),i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.canOpen()||this.closePopup()):this.wireEvents();break;case"cssClass":e.cssClass.indexOf("e-vertical")>-1&&aD(this.element.querySelector("span.e-caret"),["e-icon-bottom"],["e-icon-right"]),t.cssClass&&WA([n],t.cssClass.split(" ")),e.cssClass&&UA([n],e.cssClass.split(" "));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.canOpen()||this.createItems()}}},{key:"focusIn",value:function(){this.element.focus()}}]),n}(zD),mL([bD("")],hL.prototype,"content",void 0),mL([bD("")],hL.prototype,"cssClass",void 0),mL([bD(!1)],hL.prototype,"disabled",void 0),mL([bD("")],hL.prototype,"iconCss",void 0),mL([bD("Left")],hL.prototype,"iconPosition",void 0),mL([bD(!1)],hL.prototype,"enableHtmlSanitizer",void 0),mL([CD([],fL)],hL.prototype,"items",void 0),mL([bD("")],hL.prototype,"target",void 0),mL([wD()],hL.prototype,"beforeItemRender",void 0),mL([wD()],hL.prototype,"beforeOpen",void 0),mL([wD()],hL.prototype,"beforeClose",void 0),mL([wD()],hL.prototype,"close",void 0),mL([wD()],hL.prototype,"open",void 0),mL([wD()],hL.prototype,"select",void 0),mL([wD()],hL.prototype,"created",void 0),hL=mL([_D],hL)),yL=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},bL="EJS-SPLITBUTTON",kL=(dL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"preRender",value:function(){var e=this.element;if(e.tagName===bL){for(var t=YO("ej2_instances",e),n=this.createElement("button",{attrs:{type:"button"}}),i=this.createElement(bL,{className:"e-"+this.getModuleName()+"-wrapper"}),a=0,r=e.attributes.length;a<r;a++)n.setAttribute(e.attributes[a].nodeName,e.attributes[a].nodeValue);e.parentNode.insertBefore(i,e),ZA(e),e=n,i.appendChild(e),GO("ej2_instances",t,e),this.wrapper=i,this.element=e}this.element.id||(this.element.id=eI("e-"+this.getModuleName()))}},{key:"render",value:function(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()}},{key:"buttonInstance",value:function(e){this.element.id===e.instance.element.id&&(this.primaryBtnObj=e.instance,jM.off("component-rendered",this.buttonInstance,this.element.id))}},{key:"dropDownButtonInstance",value:function(e){e.instance.element.id.indexOf(this.element.id)>-1&&(this.secondaryBtnObj=e.instance,this.renderControl(),gL.off("component-rendered",this.dropDownButtonInstance,this.element.id))}},{key:"renderControl",value:function(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()}},{key:"addItems",value:function(e,t){_get(_getPrototypeOf(n.prototype),"addItems",this).call(this,e,t),this.secondaryBtnObj.items=this.items}},{key:"removeItems",value:function(e){_get(_getPrototypeOf(n.prototype),"removeItems",this).call(this,e),this.secondaryBtnObj.items=this.items}},{key:"initWrapper",value:function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add("e-rtl"),this.cssClass&&UA([this.wrapper],this.cssClass.split(" "))}},{key:"createPrimaryButton",value:function(){this.primaryBtnObj=new zM({cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled}),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)}},{key:"createSecondaryButton",value:function(){var e,t,n=this;t=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"}),this.wrapper.appendChild(t),(e={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target}).beforeItemRender=function(e){n.trigger("beforeItemRender",e)},e.open=function(e){n.trigger("open",e)},e.close=function(e){n.trigger("close",e)},e.select=function(e){n.trigger("select",e)},e.beforeOpen=function(e){var t=new CL;return n.trigger("beforeOpen",e,(function(e){t.resolve(e)})),t},e.beforeClose=function(e){var t=new CL;return n.trigger("beforeClose",e,(function(e){t.resolve(e)})),t},this.secondaryBtnObj=new vL(e),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(t),this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown,this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],$I.remove(this.getPopUpElement(),"keydown",this.secondaryBtnObj.keyBoardHandler),this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")}},{key:"setAria",value:function(){QA(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.secondaryBtnObj.dropDown.element.id})}},{key:"getModuleName",value:function(){return"split-btn"}},{key:"toggle",value:function(){this.secondaryBtnObj.toggle()}},{key:"destroy",value:function(){var e=this,t=["e-rtl"],i=document.getElementById(this.element.id);this.cssClass&&(t=t.concat(this.cssClass.split(" "))),i&&i.parentElement===this.wrapper&&(this.wrapper.tagName===bL?(this.wrapper.innerHTML="",WA([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),WA([this.wrapper],this.cssClass.split(" "))):(WA([this.element],t),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach((function(t){e.element.removeAttribute(t)})),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),JA(this.wrapper)),this.unWireEvents()),this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.element.getAttribute("class")||this.element.removeAttribute("class")}},{key:"wireEvents",value:function(){$I.add(this.element,"click",this.primaryBtnClickHandler,this),$I.add(this.getPopUpElement(),"keydown",this.keyBoardHandler,this),new eM(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})}},{key:"unWireEvents",value:function(){$I.remove(this.element,"click",this.primaryBtnClickHandler),lI(this.element,eM).destroy()}},{key:"primaryBtnClickHandler",value:function(){this.trigger("click",{element:this.element})}},{key:"btnKeyBoardHandler",value:function(e){switch(e.action){case"altdownarrow":this.clickHandler(e)}}},{key:"onPropertyChanged",value:function(e,t){var n=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(uL(e,n)),n=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(uL(e,n));for(var i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"cssClass":t.cssClass&&WA([this.wrapper],t.cssClass.split(" ")),UA([this.wrapper],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?UA([this.wrapper],"e-rtl"):WA([this.wrapper],"e-rtl")}}},{key:"focusIn",value:function(){this.element.focus()}}]),n}(vL),yL([bD("")],dL.prototype,"content",void 0),yL([bD("")],dL.prototype,"cssClass",void 0),yL([bD(!1)],dL.prototype,"disabled",void 0),yL([bD("")],dL.prototype,"iconCss",void 0),yL([bD("Left")],dL.prototype,"iconPosition",void 0),yL([CD([],fL)],dL.prototype,"items",void 0),yL([bD("")],dL.prototype,"target",void 0),yL([wD()],dL.prototype,"beforeItemRender",void 0),yL([wD()],dL.prototype,"beforeOpen",void 0),yL([wD()],dL.prototype,"beforeClose",void 0),yL([wD()],dL.prototype,"click",void 0),yL([wD()],dL.prototype,"close",void 0),yL([wD()],dL.prototype,"open",void 0),yL([wD()],dL.prototype,"select",void 0),yL([wD()],dL.prototype,"created",void 0),dL=yL([_D],dL)),CL=function e(){var t=this;_classCallCheck(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)};!function(e){var t;function n(e){i(e.floatLabelType,e.element),e.element.addEventListener("focus",(function(){var e=h(this);(e.classList.contains("e-input-group")||e.classList.contains("e-outline")||e.classList.contains("e-filled"))&&e.classList.add("e-input-focus")})),e.element.addEventListener("blur",(function(){var e=h(this);(e.classList.contains("e-input-group")||e.classList.contains("e-outline")||e.classList.contains("e-filled"))&&e.classList.remove("e-input-focus")})),e.element.addEventListener("input",(function(){i(t,e.element)}))}function i(e,t){var n=t.value;""===n||JO(n)?"Always"!==e&&t.parentElement&&t.parentElement.classList.remove("e-valid-input"):t.parentElement.classList.add("e-valid-input")}function a(){var e=h(this).getElementsByClassName("e-float-text")[0];JO(e)||(UA([e],"e-label-top"),e.classList.contains("e-label-bottom")&&WA([e],"e-label-bottom"))}function r(){var e=h(this);if(e.getElementsByTagName("textarea")[0]?""===e.getElementsByTagName("textarea")[0].value:""===e.getElementsByTagName("input")[0].value){var t=e.getElementsByClassName("e-float-text")[0];JO(t)||(t.classList.contains("e-label-top")&&WA([t],"e-label-top"),UA([t],"e-label-bottom"))}}function s(e){e.addEventListener("focus",a),e.addEventListener("blur",r)}function l(e,t,n){var i,a,r=JO(n)?qA:n;if("Auto"===e.floatLabelType&&s(e.element),JO(t.container)?(t.container=f(e,"e-float-input","e-float-custom-tag","div",r),e.element.parentNode.insertBefore(t.container,e.element)):(JO(e.customTag)||t.container.classList.add("e-float-custom-tag"),t.container.classList.add("e-float-input")),i=r("span",{className:"e-float-line"}),a=r("label",{className:"e-float-text"}),JO(e.element.id)||""===e.element.id||(a.id="label_"+e.element.id.replace(/ /g,"_"),QA(e.element,{"aria-labelledby":a.id})),JO(e.element.placeholder)||""===e.element.placeholder||(a.innerHTML=e.element.placeholder,e.element.removeAttribute("placeholder")),JO(e.properties)||JO(e.properties.placeholder)||""===e.properties.placeholder||(a.innerHTML=e.properties.placeholder),a.innerHTML||t.container.classList.add("e-no-float-label"),t.container.classList.contains("e-float-icon-left")){var l=t.container.querySelector(".e-input-in-wrap");l.appendChild(e.element),l.appendChild(i),l.appendChild(a)}else t.container.appendChild(e.element),t.container.appendChild(i),t.container.appendChild(a);c(e.element.value,a),"Always"===e.floatLabelType&&(a.classList.contains("e-label-bottom")&&WA([a],"e-label-bottom"),UA([a],"e-label-top")),"Auto"===e.floatLabelType&&(e.element.addEventListener("input",(function(t){c(e.element.value,a)})),e.element.addEventListener("blur",(function(t){c(e.element.value,a)}))),JO(e.element.getAttribute("id"))||a.setAttribute("for",e.element.getAttribute("id"))}function o(e,t){"Always"===e&&t.classList.contains("e-outline")&&t.classList.add("e-valid-input")}function u(e,t){e?WA([t],"e-clear-icon-hide"):UA([t],"e-clear-icon-hide")}function c(e,t){e?(UA([t],"e-label-top"),t.classList.contains("e-label-bottom")&&WA([t],"e-label-bottom")):(t.classList.contains("e-label-top")&&WA([t],"e-label-top"),UA([t],"e-label-bottom"))}function h(e){var t=JO(e.parentNode)?e:e.parentNode;return t&&t.classList.contains("e-input-in-wrap")&&(t=t.parentNode),t}function d(e,t,n){t.addEventListener("click",(function(n){e.classList.contains("e-disabled")||e.readOnly||(n.preventDefault(),e!==document.activeElement&&e.focus(),e.value="",UA([t],"e-clear-icon-hide"))})),e.addEventListener("input",(function(n){u(e.value,t)})),e.addEventListener("focus",(function(n){u(e.value,t)})),e.addEventListener("blur",(function(e){setTimeout((function(){UA([t],"e-clear-icon-hide")}),200)}))}function p(e,t){if(h(e).classList.contains("e-float-input")&&"Auto"===t){var n=h(e).getElementsByClassName("e-float-text")[0];c(e.value,n)}}function f(e,t,n,i,a){var r,s=JO(a)?qA:a;return JO(e.customTag)?r=s(i,{className:t}):(r=s(e.customTag,{className:t})).classList.add(n),r.classList.add("e-control-wrapper"),r}function m(e,t,n){JO(n)||""===n||WA(t,n.split(" ")),JO(e)||""===e||UA(t,e.split(" "))}function g(e,t){var n;e=function(e){var t="";if(!JO(e)&&""!==e){var n=document.createElement("span");n.innerHTML='<input  placeholder="'+e+'"/>',t=n.children[0].placeholder}return t}(e),(n=h(t)).classList.contains("e-float-input")?JO(e)||""===e?(n.classList.add("e-no-float-label"),n.getElementsByClassName("e-float-text")[0].textContent=""):(n.getElementsByClassName("e-float-text")[0].textContent=e,n.classList.remove("e-no-float-label"),t.removeAttribute("placeholder")):JO(e)||""===e?(t.removeAttribute("placeholder"),t.removeAttribute("aria-placeholder")):QA(t,{placeholder:e,"aria-placeholder":e})}function v(e,t,n){e?QA(t,{readonly:""}):t.removeAttribute("readonly"),JO(n)||p(t,n)}function y(e,t){e?UA(t,"e-rtl"):WA(t,"e-rtl")}function b(e,t,n,i){var a={disabled:"disabled","aria-disabled":"true"},r=!JO(i);e?(t.classList.remove("e-disabled"),C(a,t),r&&WA([i],"e-disabled")):(t.classList.add("e-disabled"),w(a,t),r&&UA([i],"e-disabled")),JO(n)||p(t,n)}function k(e,t,n,i,a){var r=JO(a)?qA:a;e?n.clearButton=function(e,t,n,i){var a=(JO(i)?qA:i)("span",{className:"e-clear-icon"}),r=t.container;return JO(n)?(t.container.classList.contains("e-float-input")?t.container.querySelector(".e-float-text"):e).insertAdjacentElement("afterend",a):r.appendChild(a),!JO(r)&&r.classList.contains("e-float-input")&&UA([r],"e-input-group"),UA([a],"e-clear-icon-hide"),d(e,a),a.setAttribute("aria-label","close"),a}(t,n,i,r):(n.clearButton.remove(),n.clearButton=null)}function C(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n],r=void 0;r=h(t),"disabled"===a&&t.classList.remove("e-disabled"),"disabled"===a&&r.classList.contains("e-input-group")&&r.classList.remove("e-disabled"),"placeholder"===a&&r.classList.contains("e-float-input")?r.getElementsByClassName("e-float-text")[0].textContent="":t.removeAttribute(a)}}function w(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n],r=void 0;r=h(t),"disabled"===a&&t.classList.add("e-disabled"),"disabled"===a&&r.classList.contains("e-input-group")&&r.classList.add("e-disabled"),"placeholder"===a&&r.classList.contains("e-float-input")?r.getElementsByClassName("e-float-text")[0].textContent=e[a]:t.setAttribute(a,e[a])}}function _(e,t,n){var i=[];i.push(n);var a=JO(n)?t.querySelectorAll(".e-input-group-icon"):i;if(e&&a.length>0)for(var r=0;r<a.length;r++)a[r].addEventListener("mousedown",x,!1),a[r].addEventListener("mouseup",S,!1);else if(a.length>0)for(var s=0;s<a.length;s++)a[s].removeEventListener("mousedown",x,this),a[s].removeEventListener("mouseup",S,this)}function x(){for(var e,t=this.parentElement;!t.classList.contains("e-input-group");)t=t.parentElement;(e=t).classList.contains("e-disabled")||e.querySelector("input").readOnly||this.classList.add("e-input-btn-ripple")}function S(){var e=this;setTimeout((function(){e.classList.remove("e-input-btn-ripple")}),500)}function E(e,t){var n=t("span",{className:e});return n.classList.add("e-input-group-icon"),n}function O(e,t,n,i){var a=JO(i)?qA:i,r=E(e,a);t.classList.add("e-float-icon-left");var s=t.querySelector(".e-input-in-wrap");if(JO(s)){s=a("span",{className:"e-input-in-wrap"}),n.parentNode.insertBefore(s,n);var l=t.querySelectorAll(n.tagName+" ~ *");s.appendChild(n);for(var o=0;o<l.length;o++)s.appendChild(l[o])}return s.parentNode.insertBefore(r,s),t.classList.contains("e-input-group")||t.classList.add("e-input-group"),_(!0,t,r),r}function I(e,t,n){var i=E(e,JO(n)?qA:n);return t.classList.contains("e-input-group")||t.classList.add("e-input-group"),(t.classList.contains("e-float-icon-left")?t.querySelector(".e-input-in-wrap"):t).appendChild(i),_(!0,t,i),i}e.createInput=function(e,i){var a=JO(i)?qA:i,r={container:null,buttons:[],clearButton:null};if(t=e.floatLabelType,JO(e.floatLabelType)||"Never"===e.floatLabelType?(r.container=f(e,"e-input-group","e-input-custom-tag","span",a),e.element.parentNode.insertBefore(r.container,e.element),UA([e.element],"e-input"),r.container.appendChild(e.element)):l(e,r,a),n(e),JO(e.properties)||JO(e.properties.showClearButton)||!e.properties.showClearButton||"TEXTAREA"===e.element.tagName||(k(e.properties.showClearButton,e.element,r,!0,a),r.clearButton.setAttribute("role","button"),r.container.classList.contains("e-float-input")&&UA([r.container],"e-input-group")),!JO(e.buttons)&&"TEXTAREA"!==e.element.tagName)for(var s=0;s<e.buttons.length;s++)r.buttons.push(I(e.buttons[s],r.container,a));return JO(e.element)||"TEXTAREA"!==e.element.tagName||UA([r.container],"e-multi-line-input"),r=function(e,t){if(!JO(e.properties))for(var n=0,i=Object.keys(e.properties);n<i.length;n++){switch(i[n]){case"cssClass":m(e.properties.cssClass,[t.container]),o(e.floatLabelType,t.container);break;case"enabled":b(e.properties.enabled,e.element,e.floatLabelType,t.container);break;case"enableRtl":y(e.properties.enableRtl,[t.container]);break;case"placeholder":g(e.properties.placeholder,e.element);break;case"readonly":v(e.properties.readonly,e.element)}}return t}(e,r)},e.bindInitialEvent=n,e.wireFloatingEvents=s,e.wireClearBtnEvents=d,e.setValue=function(e,t,n,a){if(t.value=e,JO(n)||"Auto"!==n||p(t,n),!JO(a)&&a){var r=h(t);if(!JO(r)){var s=r.getElementsByClassName("e-clear-icon")[0];t.value&&r.classList.contains("e-input-focus")?WA([s],"e-clear-icon-hide"):UA([s],"e-clear-icon-hide")}}i(n,t)},e.setCssClass=m,e.setWidth=function(e,t){"number"==typeof e?t.style.width=aI(e):"string"==typeof e&&(t.style.width=e.match(/px|%|em/)?e:aI(e))},e.setPlaceholder=g,e.setReadonly=v,e.setEnableRtl=y,e.setEnabled=b,e.setClearButton=k,e.removeAttributes=C,e.addAttributes=w,e.removeFloating=function(e){var t,n=e.container;if(!JO(n)&&n.classList.contains("e-float-input")){var i=n.querySelector("textarea")?n.querySelector("textarea"):n.querySelector("input"),s=n.querySelector(".e-float-text").textContent,l=null!==n.querySelector(".e-clear-icon");ZA(n.querySelector(".e-float-line")),ZA(n.querySelector(".e-float-text")),aD(n,["e-input-group"],["e-float-input"]),(t=i).removeEventListener("focus",a),t.removeEventListener("blur",r),QA(i,{placeholder:s}),i.classList.add("e-input"),l||"INPUT"!==i.tagName||i.removeAttribute("required")}},e.addFloating=function(e,n,i,a){var r=JO(a)?qA:a,s=nD(e,".e-input-group");if(t=n,"Never"!==n){var u=s.tagName,c={element:e,floatLabelType:n,customTag:u="DIV"!==u&&"SPAN"!==u?u:null,properties:{placeholder:i}},h=s.querySelector(".e-clear-icon"),d={container:s};e.classList.remove("e-input"),l(c,d,r);var p=s.classList.contains("e-float-icon-left");if(JO(h)&&(h=p?s.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):s.querySelector(".e-input-group-icon")),JO(h))p&&(h=s.querySelector(".e-input-group-icon")),JO(h)&&s.classList.remove("e-input-group");else{var f=s.querySelector(".e-float-line"),m=s.querySelector(".e-float-text"),g=p?s.querySelector(".e-input-in-wrap"):s;g.insertBefore(e,h),g.insertBefore(f,h),g.insertBefore(m,h)}}o(n,e.parentElement)},e.setRipple=function(e,t){for(var n=0;n<t.length;n++)_(e,t[n].container)},e.addIcon=function(e,t,n,i,a){var r="string"==typeof t?t.split(","):t;if("append"===e.toLowerCase()){var s,l=_createForOfIteratorHelper(r);try{for(l.s();!(s=l.n()).done;){I(s.value,n,a)}}catch(c){l.e(c)}finally{l.f()}}else{var o,u=_createForOfIteratorHelper(r);try{for(u.s();!(o=u.n()).done;){O(o.value,n,i,a)}}catch(c){u.e(c)}finally{u.f()}}},e.prependSpan=O,e.appendSpan=I}(pL||(pL={}));var wL,_L,xL,SL,EL,OL,IL,AL,DL,ML,TL,PL,LL,NL,RL,FL,HL,BL,VL,jL,zL,qL,UL,WL,YL,GL,XL,KL,$L=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ZL="e-input-group-icon",JL=new RegExp("^(-)?(\\d*)$"),QL=["title","style","class"],eN=(wL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).isVue=!1,a.preventChange=!1,a.numericOptions=e,a}return _createClass(n,[{key:"preRender",value:function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var e=YO("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),WA([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=nD(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;for(var t=this.createElement("input"),n=0;n<this.element.attributes.length;n++)"id"!==this.element.attributes[n].nodeName&&(t.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),t.innerHTML=this.element.innerHTML);this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(t),this.element=t,GO("ej2_instances",e,this.element)}QA(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off","aria-live":"assertive"}),this.l10n=new tM("numerictextbox",{incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null!==this.placeholder||this.updatePlaceholder()}},{key:"render",value:function(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null===this.value||isNaN(this.value)||this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.renderComplete())}},{key:"checkAttributes",value:function(e){var t,n=_createForOfIteratorHelper(e?JO(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"]);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!JO(this.element.getAttribute(i)))switch(i){case"disabled":if(JO(this.numericOptions)||void 0===this.numericOptions.enabled||e){var a="disabled"!==this.element.getAttribute(i)&&""!==this.element.getAttribute(i)&&"true"!==this.element.getAttribute(i);this.setProperties({enabled:a},!e)}break;case"readonly":if(JO(this.numericOptions)||void 0===this.numericOptions.readonly||e){var r="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:r},!e)}break;case"placeholder":(JO(this.numericOptions)||void 0===this.numericOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if(JO(this.numericOptions)||void 0===this.numericOptions.value||e){var s=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));this.setProperties(GO(i,s,{}),!e)}break;case"min":if(JO(this.numericOptions)||void 0===this.numericOptions.min||e){var l=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));null===l||isNaN(l)||this.setProperties(GO(i,l,{}),!e)}break;case"max":if(JO(this.numericOptions)||void 0===this.numericOptions.max||e){var o=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));null===o||isNaN(o)||this.setProperties(GO(i,o,{}),!e)}break;case"step":if(JO(this.numericOptions)||void 0===this.numericOptions.step||e){var u=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));null===u||isNaN(u)||this.setProperties(GO(i,u,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(i);break;case"name":this.inputName=this.element.getAttribute(i);break;default:var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));(null!==c&&!isNaN(c)||"value"===i)&&this.setProperties(GO(i,c,{}),!0)}}}catch(h){n.e(h)}finally{n.f()}}},{key:"updatePlaceholder",value:function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)}},{key:"initCultureFunc",value:function(){this.instance=new TI(this.locale)}},{key:"initCultureInfo",value:function(){this.cultureInfo.format=this.format,null!==YO("currency",this)&&(GO("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))}},{key:"createWrapper",value:function(){var e=this.cssClass;JO(this.cssClass)||""===this.cssClass||(e=this.getNumericValidClassList(this.cssClass));var t=pL.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=t,this.container=t.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&QA(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),QA(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&QA(this.container,{style:this.inputStyle})}},{key:"updateDataAttribute",value:function(e){var t={};if(e)t=this.htmlAttributes;else for(var n=0;n<this.element.attributes.length;n++)t[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(var i=0,a=Object.keys(t);i<a.length;i++){var r=a[i];0===r.indexOf("data")&&this.hiddenInput.setAttribute(r,t[r])}}},{key:"updateHTMLAttrToElement",value:function(){if(!JO(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];QL.indexOf(n)<0&&this.element.setAttribute(n,this.htmlAttributes[n])}}},{key:"updateCssClass",value:function(e,t){pL.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(t))}},{key:"getNumericValidClassList",value:function(e){var t=e;return JO(e)||""===e||(t=e.replace(/\s+/g," ").trim()),t}},{key:"updateHTMLAttrToWrapper",value:function(){if(!JO(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];if(QL.indexOf(n)>-1)if("class"===n){var i=this.getNumericValidClassList(this.htmlAttributes[n]);""!==i&&UA([this.container],i.split(" "))}else if("style"===n){var a=this.container.getAttribute(n);a=JO(a)?this.htmlAttributes[n]:a+this.htmlAttributes[n],this.container.setAttribute(n,a)}else this.container.setAttribute(n,this.htmlAttributes[n])}}},{key:"setElementWidth",value:function(e){JO(e)||("number"==typeof e?this.container.style.width=aI(e):"string"==typeof e&&(this.container.style.width=e.match(/px|%|em/)?e:aI(e)))}},{key:"spinBtnCreation",value:function(){this.spinDown=pL.appendSpan(ZL+" e-spin-down",this.container,this.createElement),QA(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),this.spinUp=pL.appendSpan(ZL+" e-spin-up",this.container,this.createElement),QA(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()}},{key:"validateMinMax",value:function(){("number"!=typeof this.min||isNaN(this.min))&&this.setProperties({min:-Number.MAX_VALUE},!0),("number"!=typeof this.max||isNaN(this.max))&&this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),QA(this.element,{"aria-valuemin":this.min.toString(),"aria-valuemax":this.max.toString()})}},{key:"formattedValue",value:function(e,t){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(t)}},{key:"validateStep",value:function(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)}},{key:"action",value:function(e,t){this.isInteract=!0;var n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,e)),this.raiseChangeEvent(t)}},{key:"checkErrorClass",value:function(){this.isValidState?WA([this.container],"e-error"):UA([this.container],"e-error"),QA(this.element,{"aria-invalid":this.isValidState?"false":"true"})}},{key:"bindClearEvent",value:function(){this.showClearButton&&$I.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}},{key:"resetHandler",value:function(e){e.preventDefault(),this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)}},{key:"clear",value:function(e){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",nD(this.element,"form")){var t=this.element.nextElementSibling,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),t.dispatchEvent(n)}}},{key:"resetFormHandler",value:function(){this.updateValue("EJS-NUMERICTEXTBOX"===this.element.tagName?null:this.inputEleValue)}},{key:"setSpinButton",value:function(){JO(this.spinDown)||QA(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),JO(this.spinUp)||QA(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})}},{key:"wireEvents",value:function(){$I.add(this.element,"focus",this.focusHandler,this),$I.add(this.element,"blur",this.focusOutHandler,this),$I.add(this.element,"keydown",this.keyDownHandler,this),$I.add(this.element,"keyup",this.keyUpHandler,this),$I.add(this.element,"input",this.inputHandler,this),$I.add(this.element,"keypress",this.keyPressHandler,this),$I.add(this.element,"change",this.changeHandler,this),$I.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&$I.add(this.formEle,"reset",this.resetFormHandler,this))}},{key:"wireSpinBtnEvents",value:function(){$I.add(this.spinUp,KI.touchStartEvent,this.mouseDownOnSpinner,this),$I.add(this.spinDown,KI.touchStartEvent,this.mouseDownOnSpinner,this),$I.add(this.spinUp,KI.touchEndEvent,this.mouseUpOnSpinner,this),$I.add(this.spinDown,KI.touchEndEvent,this.mouseUpOnSpinner,this),$I.add(this.spinUp,KI.touchMoveEvent,this.touchMoveOnSpinner,this),$I.add(this.spinDown,KI.touchMoveEvent,this.touchMoveOnSpinner,this)}},{key:"unwireEvents",value:function(){$I.remove(this.element,"focus",this.focusHandler),$I.remove(this.element,"blur",this.focusOutHandler),$I.remove(this.element,"keyup",this.keyUpHandler),$I.remove(this.element,"input",this.inputHandler),$I.remove(this.element,"keydown",this.keyDownHandler),$I.remove(this.element,"keypress",this.keyPressHandler),$I.remove(this.element,"change",this.changeHandler),$I.remove(this.element,"paste",this.pasteHandler),this.formEle&&$I.remove(this.formEle,"reset",this.resetFormHandler)}},{key:"unwireSpinBtnEvents",value:function(){$I.remove(this.spinUp,KI.touchStartEvent,this.mouseDownOnSpinner),$I.remove(this.spinDown,KI.touchStartEvent,this.mouseDownOnSpinner),$I.remove(this.spinUp,KI.touchEndEvent,this.mouseUpOnSpinner),$I.remove(this.spinDown,KI.touchEndEvent,this.mouseUpOnSpinner),$I.remove(this.spinUp,KI.touchMoveEvent,this.touchMoveOnSpinner),$I.remove(this.spinDown,KI.touchMoveEvent,this.touchMoveOnSpinner)}},{key:"changeHandler",value:function(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var t=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(t,e)}},{key:"raiseChangeEvent",value:function(e){if(this.prevValue!==this.value){var t={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),$O(t,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",t)}}},{key:"pasteHandler",value:function(){var e=this;if(this.enabled&&!this.readonly){var t=this.element.value;setTimeout((function(){e.numericRegex().test(e.element.value)||e.setElementValue(t)}))}}},{key:"preventHandler",value:function(){var e=this,t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout((function(){if(e.element.selectionStart>0){var n,i=e.element.selectionStart,a=e.element.selectionStart-1,r=e.element.value.split("");n=YO("decimal",PI(e.locale)).charCodeAt(0)," "===e.element.value[a]&&e.element.selectionStart>0&&!t?(JO(e.prevVal)?e.element.value=e.element.value.trim():0!==a?e.element.value=e.prevVal:0===a&&(e.element.value=e.element.value.trim()),e.element.setSelectionRange(a,a)):isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&45!==e.element.value[e.element.selectionStart-1].charCodeAt(0)?(r.indexOf(e.element.value[e.element.selectionStart-1])!==r.lastIndexOf(e.element.value[e.element.selectionStart-1])&&e.element.value[e.element.selectionStart-1].charCodeAt(0)===n||e.element.value[e.element.selectionStart-1].charCodeAt(0)!==n)&&(e.element.value=e.element.value.substring(0,a)+e.element.value.substring(i,e.element.value.length),e.element.setSelectionRange(a,a),isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.selectionStart>0&&e.element.value.length&&e.preventHandler()):isNaN(parseFloat(e.element.value[e.element.selectionStart-2]))&&e.element.selectionStart>1&&45!==e.element.value[e.element.selectionStart-2].charCodeAt(0)&&(r.indexOf(e.element.value[e.element.selectionStart-2])!==r.lastIndexOf(e.element.value[e.element.selectionStart-2])&&e.element.value[e.element.selectionStart-2].charCodeAt(0)===n||e.element.value[e.element.selectionStart-2].charCodeAt(0)!==n)&&(e.element.setSelectionRange(a,a),e.nextEle=e.element.value[e.element.selectionStart],e.cursorPosChanged=!0,e.preventHandler()),!0===e.cursorPosChanged&&e.element.value[e.element.selectionStart]===e.nextEle&&isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&(e.element.setSelectionRange(e.element.selectionStart+1,e.element.selectionStart+1),e.cursorPosChanged=!1,e.nextEle=null),""===e.element.value.trim()&&e.element.setSelectionRange(0,0),e.element.selectionStart>0&&45===e.element.value[e.element.selectionStart-1].charCodeAt(0)&&e.element.selectionStart>1&&(e.element.value=JO(e.prevVal)?e.element.value:e.prevVal,e.element.setSelectionRange(e.element.selectionStart,e.element.selectionStart)),e.prevVal=e.element.value}}))}},{key:"keyUpHandler",value:function(e){if(this.enabled&&!this.readonly){(!navigator.platform||!/iPad|iPhone|iPod/.test(navigator.platform))&&KI.isDevice&&this.preventHandler();var t=this.instance.getNumberParser({format:"n"})(this.element.value);if(t=null===t||isNaN(t)?null:t,this.hiddenInput.value=t||0===t?t.toString():null,nD(this.element,"form")){var n=this.element.nextElementSibling,i=document.createEvent("KeyboardEvent");i.initEvent("keyup",!1,!0),n.dispatchEvent(i)}}}},{key:"inputHandler",value:function(e){if(this.enabled&&!this.readonly){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||t)&&KI.isDevice&&this.preventHandler(),this.isVue){var n=this.instance.getNumberParser({format:"n"})(this.element.value),i=this.instance.getNumberParser({format:"n"})(this.elementPrevValue),a={event:e,value:null===n||isNaN(n)?null:n,previousValue:null===i||isNaN(i)?null:i};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",a)}}}},{key:"keyDownHandler",value:function(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action("increment",e);break;case 40:e.preventDefault(),this.action("decrement",e)}}},{key:"performAction",value:function(e,t,n){(null===e||isNaN(e))&&(e=0);var i="increment"===n?e+t:e-t;return i=this.correctRounding(e,t,i),this.strictMode?this.trimValue(i):i}},{key:"correctRounding",value:function(e,t,n){var i=new RegExp("[,.](.*)"),a=(e.toString(),t.toString(),i.test(e.toString())),r=i.test(t.toString());if(a||r){var s=a?i.exec(e.toString())[0].length:0,l=r?i.exec(t.toString())[0].length:0,o=Math.max(s,l);return this.roundValue(n,o)}return n}},{key:"roundValue",value:function(e,t){t=t||0;var n=Math.pow(10,t);return Math.round(e*=n)/n}},{key:"updateValue",value:function(e,t){t&&(this.isInteract=!0),null===e||isNaN(e)||this.decimals&&(e=this.roundNumber(e,this.decimals)),this.changeValue(null===e||isNaN(e)?null:this.strictMode?this.trimValue(e):e),(!this.isVue||this.isVue&&!this.preventChange)&&this.raiseChangeEvent(t)}},{key:"updateCurrency",value:function(e,t){GO(e,t,this.cultureInfo),this.updateValue(this.value)}},{key:"changeValue",value:function(e){var t;e||0===e?(t=this.getNumberOfDecimals(e),this.setProperties({value:this.roundNumber(e,t)},!0)):this.setProperties({value:e=null},!0),this.modifyText(),this.strictMode||this.validateState()}},{key:"modifyText",value:function(){if(this.value||0===this.value){var e=this.formatNumber(),t=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(t),QA(this.element,{"aria-valuenow":e}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null}},{key:"setElementValue",value:function(e,t){pL.setValue(e,t||this.element,this.floatLabelType,this.showClearButton)}},{key:"validateState",value:function(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()}},{key:"getNumberOfDecimals",value:function(e){var t,n=new RegExp("[eE][-+]?([0-9]+)"),i=e.toString();if(n.test(i)){var a=n.exec(i);JO(a)||(i=e.toFixed(Math.min(parseInt(a[1],10),20)))}var r=i.split(".")[1];return t=r&&r.length?r.length:0,null!==this.decimals&&(t=t<this.decimals?t:this.decimals),t}},{key:"formatNumber",value:function(){var e;return e=this.getNumberOfDecimals(this.value),this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)}},{key:"trimValue",value:function(e){return e>this.max?this.max:e<this.min?this.min:e}},{key:"roundNumber",value:function(e,t){var n=e,i=t||0,a=n.toString().split("e"),r=(n=Math.round(Number(a[0]+"e"+(a[1]?Number(a[1])+i:i)))).toString().split("e");return n=Number(r[0]+"e"+(r[1]?Number(r[1])-i:-i)),Number(n.toFixed(i))}},{key:"cancelEvent",value:function(e){return e.preventDefault(),!1}},{key:"keyPressHandler",value:function(e){if(!this.enabled||this.readonly)return!0;if(!KI.isDevice&&"11.0"===KI.info.version&&13===e.keyCode){var t=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(t,e),!0}if(0===e.which||e.metaKey||e.ctrlKey||8===e.keyCode||13===e.keyCode)return!0;var n=String.fromCharCode(e.which),i=this.element.value;return i=i.substring(0,this.element.selectionStart)+n+i.substring(this.element.selectionEnd),!!this.numericRegex().test(i)||(e.preventDefault(),e.stopPropagation(),!1)}},{key:"numericRegex",value:function(){var e=YO("decimal",PI(this.locale)),t="*";return"."===e&&(e="\\"+e),0===this.decimals&&this.validateDecimalOnType?JL:(this.decimals&&this.validateDecimalOnType&&(t="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+e+"\\d"+t+")?)|("+e+"\\d"+t+")))?$"))}},{key:"mouseWheel",value:function(e){var t;e.preventDefault(),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t>0?this.action("increment",e):t<0&&this.action("decrement",e),this.cancelEvent(e)}},{key:"focusHandler",value:function(e){var t=this;if(this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,WA([this.container],"e-error"),this.prevValue=this.value,this.value||0===this.value){var n=this.formatNumber();this.setElementValue(n),this.isPrevFocused||(KI.isDevice||"11.0"!==KI.info.version?setTimeout((function(){t.element.setSelectionRange(0,n.length)}),KI.isDevice&&KI.isIos?600:0):this.element.setSelectionRange(0,n.length))}KI.isDevice||$I.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}}},{key:"focusOutHandler",value:function(e){var t=this;if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(e.preventDefault(),KI.isDevice){var n=this.element.value;this.element.focus(),this.isPrevFocused=!1;var i=this.element;setTimeout((function(){t.setElementValue(n,i)}),200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var a=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(a),KI.isDevice||$I.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(nD(this.element,"form")){var r=this.element.nextElementSibling,s=document.createEvent("FocusEvent");s.initEvent("focusout",!1,!0),r.dispatchEvent(s)}}}},{key:"mouseDownOnSpinner",value:function(e){var t=this;if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),this.getElementData(e)){this.getElementData(e);var n=e.currentTarget,i=n.classList.contains("e-spin-up")?"increment":"decrement";$I.add(n,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval((function(){t.isCalled=!0,t.action(i,e)}),150),$I.add(document,"mouseup",this.mouseUpClick,this)}}},{key:"touchMoveOnSpinner",value:function(e){document.elementFromPoint(e.clientX,e.clientY).classList.contains(ZL)||clearInterval(this.timeOut)}},{key:"mouseUpOnSpinner",value:function(e){if(this.isPrevFocused&&(this.element.focus(),KI.isDevice||(this.isPrevFocused=!1)),KI.isDevice||e.preventDefault(),this.getElementData(e)){var t=e.currentTarget,n=t.classList.contains("e-spin-up")?"increment":"decrement";if($I.remove(t,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,e),this.isCalled=!1,$I.remove(document,"mouseup",this.mouseUpClick),nD(this.element,"form")){var i=this.element.nextElementSibling,a=document.createEvent("KeyboardEvent");a.initEvent("keyup",!1,!0),i.dispatchEvent(a)}}}},{key:"getElementData",value:function(e){return!(e.which&&3===e.which||e.button&&2===e.button||!this.enabled||this.readonly||(clearInterval(this.timeOut),0))}},{key:"floatLabelTypeUpdate",value:function(){pL.removeFloating(this.inputWrapper);var e=this.hiddenInput;this.hiddenInput.remove(),pL.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])}},{key:"mouseUpClick",value:function(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,$I.remove(this.spinUp,"mouseleave",this.mouseUpClick),$I.remove(this.spinDown,"mouseleave",this.mouseUpClick)}},{key:"increment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;this.isInteract=!1,this.changeValue(this.performAction(this.value,e,"increment")),this.raiseChangeEvent()}},{key:"decrement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;this.isInteract=!1,this.changeValue(this.performAction(this.value,e,"decrement")),this.raiseChangeEvent()}},{key:"destroy",value:function(){this.unwireEvents(),ZA(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),ZA(this.spinUp),ZA(this.spinDown));for(var e=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-live","aria-valuenow","aria-invalid"],t=0;t<e.length;t++)this.element.removeAttribute(e[t]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),ZA(this.container),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getText",value:function(){return this.element.value}},{key:"focusIn",value:function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),UA([this.container],["e-input-focus"]))}},{key:"focusOut",value:function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),WA([this.container],["e-input-focus"]))}},{key:"getPersistData",value:function(){return this.addOnPersist(["value"])}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];switch(a){case"width":this.setElementWidth(e.width);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":pL.setEnabled(e.enabled,this.element);break;case"enableRtl":pL.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":pL.setReadonly(e.readonly,this.element),this.readonly?QA(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0);break;case"placeholder":pL.setPlaceholder(e.placeholder,this.element);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.updateValue(e.value),this.isVue&&this.preventChange&&(this.preventChange=!1);break;case"min":case"max":GO(a,YO(a,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),pL.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":var r=YO(a,e);this.setProperties({currencyCode:r},!0),this.updateCurrency(a,r);break;case"currencyCode":var s=YO(a,e);this.setProperties({currency:s},!0),this.updateCurrency("currency",s);break;case"format":GO(a,YO(a,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}}},{key:"updateClearButton",value:function(e){pL.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()}},{key:"updateSpinButton",value:function(e){e.showSpinButton?this.spinBtnCreation():(ZA(this.spinUp),ZA(this.spinDown))}},{key:"getModuleName",value:function(){return"numerictextbox"}}]),n}(zD),$L([bD("")],wL.prototype,"cssClass",void 0),$L([bD(null)],wL.prototype,"value",void 0),$L([bD(-Number.MAX_VALUE)],wL.prototype,"min",void 0),$L([bD(Number.MAX_VALUE)],wL.prototype,"max",void 0),$L([bD(1)],wL.prototype,"step",void 0),$L([bD(null)],wL.prototype,"width",void 0),$L([bD(null)],wL.prototype,"placeholder",void 0),$L([bD({})],wL.prototype,"htmlAttributes",void 0),$L([bD(!0)],wL.prototype,"showSpinButton",void 0),$L([bD(!1)],wL.prototype,"readonly",void 0),$L([bD(!0)],wL.prototype,"enabled",void 0),$L([bD(!1)],wL.prototype,"showClearButton",void 0),$L([bD(!1)],wL.prototype,"enablePersistence",void 0),$L([bD("n2")],wL.prototype,"format",void 0),$L([bD(null)],wL.prototype,"decimals",void 0),$L([bD(null)],wL.prototype,"currency",void 0),$L([bD(null)],wL.prototype,"currencyCode",void 0),$L([bD(!0)],wL.prototype,"strictMode",void 0),$L([bD(!1)],wL.prototype,"validateDecimalOnType",void 0),$L([bD("Never")],wL.prototype,"floatLabelType",void 0),$L([wD()],wL.prototype,"created",void 0),$L([wD()],wL.prototype,"destroyed",void 0),$L([wD()],wL.prototype,"change",void 0),$L([wD()],wL.prototype,"focus",void 0),$L([wD()],wL.prototype,"blur",void 0),wL=$L([_D],wL)),tN=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},nN=(OL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),tN([bD("None")],OL.prototype,"placement",void 0),tN([bD(10)],OL.prototype,"largeStep",void 0),tN([bD(1)],OL.prototype,"smallStep",void 0),tN([bD(!1)],OL.prototype,"showSmallTicks",void 0),tN([bD(null)],OL.prototype,"format",void 0),OL),iN=(EL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),tN([bD(null)],EL.prototype,"color",void 0),tN([bD(null)],EL.prototype,"start",void 0),tN([bD(null)],EL.prototype,"end",void 0),EL),aN=(SL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),tN([bD(!1)],SL.prototype,"enabled",void 0),tN([bD(null)],SL.prototype,"minStart",void 0),tN([bD(null)],SL.prototype,"minEnd",void 0),tN([bD(null)],SL.prototype,"maxStart",void 0),tN([bD(null)],SL.prototype,"maxEnd",void 0),tN([bD(!1)],SL.prototype,"startHandleFixed",void 0),tN([bD(!1)],SL.prototype,"endHandleFixed",void 0),SL),rN=(xL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),tN([bD("")],xL.prototype,"cssClass",void 0),tN([bD("Before")],xL.prototype,"placement",void 0),tN([bD("Focus")],xL.prototype,"showOn",void 0),tN([bD(!1)],xL.prototype,"isVisible",void 0),tN([bD(null)],xL.prototype,"format",void 0),xL),sN=(_L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).horDir="left",a.verDir="bottom",a.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},a.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},a.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",a.customAriaText=null,a.drag=!0,a}return _createClass(n,[{key:"preRender",value:function(){this.l10n=new tM("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()}},{key:"formChecker",value:function(){var e=nD(this.element,"form");e?(this.isForm=!0,JO(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!JO(this.formResetValue)&&"object"==typeof this.formResetValue?JO(this.formResetValue)&&(this.formResetValue=parseFloat(aI(this.min))):this.formResetValue=[parseFloat(aI(this.min)),parseFloat(aI(this.max))],this.formElement=e):this.isForm=!1}},{key:"initCultureFunc",value:function(){this.internationalization=new TI(this.locale)}},{key:"initCultureInfo",value:function(){this.tooltipFormatInfo.format=JO(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=JO(this.ticks.format)?null:this.ticks.format}},{key:"formatString",value:function(e,t){var n=null,i=null;if(e||0===e){n=this.formatNumber(e);var a=this.numberOfDecimals(e);i=this.internationalization.getNumberFormat(t)(this.makeRoundNumber(e,a))}return{elementVal:n,formatString:i}}},{key:"formatNumber",value:function(e){var t=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(e)}},{key:"numberOfDecimals",value:function(e){var t=e.toString().split(".")[1];return t&&t.length?t.length:0}},{key:"makeRoundNumber",value:function(e,t){return Number(e.toFixed(t||0))}},{key:"fractionalToInteger",value:function(e){e=0===this.numberOfDecimals(e)?Number(e).toFixed(this.noOfDecimals):e;for(var t=1,n=0;n<this.noOfDecimals;n++)t*=10;return Number((e*t).toFixed(0))}},{key:"render",value:function(){this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete()}},{key:"initialize",value:function(){UA([this.element],"e-slider"),this.setCSSClass()}},{key:"setElementWidth",value:function(e){JO(e)||("number"==typeof e?this.sliderContainer.style.width=aI(e):"string"==typeof e&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:aI(e)))}},{key:"setCSSClass",value:function(e){e&&WA([this.element],e.split(" ")),this.cssClass&&UA([this.element],this.cssClass.split(" "))}},{key:"setEnabled",value:function(){this.enabled?(WA([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove("e-disabled"),this.wireEvents()):(UA([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add("e-disabled"),this.unwireEvents())}},{key:"getTheme",value:function(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")}},{key:"initRender",value:function(){this.sliderContainer=this.createElement("div",{className:"e-slider-container e-control-wrapper"}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:"e-slider-track"}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:JO(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:"e-slider-input"}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=JO(this.value)?parseFloat(aI(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat(aI(this.value.toString()))):[this.checkHandleValue(parseFloat(aI(this.value[0].toString()))),this.checkHandleValue(parseFloat(aI(this.value[1].toString())))],this.previousChanged=this.previousVal,JO(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?WA([this.sliderContainer],["e-disabled"]):UA([this.sliderContainer],["e-disabled"]),this.readonly?UA([this.sliderContainer],["e-read-only"]):WA([this.sliderContainer],["e-read-only"])}},{key:"getThemeInitialization",value:function(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=this.isMaterial&&"Range"!==this.type&&this.tooltip.isVisible}},{key:"createRangeBar",value:function(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:"e-range"}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&this.rangeBar.classList.add("Horizontal"===this.orientation?"e-drag-horizontal":"e-drag-vertical"))}},{key:"createLimitBar",value:function(){var e="Range"!==this.type?"e-limit-bar":"e-limit-first";e+=" e-limits",this.limitBarFirst=this.createElement("div",{attrs:{class:e}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:"e-limit-second e-limits"}}),this.element.appendChild(this.limitBarSecond))}},{key:"setOrientClass",value:function(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove("e-vertical"),this.sliderContainer.classList.add("e-horizontal"),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove("e-horizontal"),this.sliderContainer.classList.add("e-vertical"),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))}},{key:"setAriaAttributes",value:function(e){var t=this,n=this.min,i=this.max;!JO(this.customValues)&&this.customValues.length>0&&(n=this.customValues[0],i=this.customValues[this.customValues.length-1]),"Range"!==this.type?QA(e,{"aria-valuemin":n.toString(),"aria-valuemax":i.toString()}):(!JO(this.customValues)&&this.customValues.length>0?[[n.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),i.toString()]]:[[n.toString(),this.value[1].toString()],[this.value[0].toString(),i.toString()]]).forEach((function(e,n){var i=0===n?t.firstHandle:t.secondHandle;i&&QA(i,{"aria-valuemin":e[0],"aria-valuemax":e[1]})}))}},{key:"createSecondHandle",value:function(){this.secondHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.secondHandle.classList.add("e-handle-second"),this.element.appendChild(this.secondHandle)}},{key:"createFirstHandle",value:function(){this.firstHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.firstHandle.classList.add("e-handle-first"),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:"e-handle e-material-handle"}}),this.element.appendChild(this.materialHandle))}},{key:"wireFirstHandleEvt",value:function(e){e?($I.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),$I.remove(this.firstHandle,"transitionend",this.transitionEnd),$I.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),$I.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):($I.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),$I.add(this.firstHandle,"transitionend",this.transitionEnd,this),$I.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),$I.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))}},{key:"wireSecondHandleEvt",value:function(e){e?($I.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),$I.remove(this.secondHandle,"transitionend",this.transitionEnd),$I.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),$I.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):($I.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),$I.add(this.secondHandle,"transitionend",this.transitionEnd,this),$I.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),$I.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))}},{key:"handleStart",value:function(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"]("e-material-tooltip-start")))}},{key:"transitionEnd",value:function(e){"transform"!==e.propertyName&&(this.handleStart(),this.getHandle().style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),this.isMaterial&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())}},{key:"handleFocusOut",value:function(){this.firstHandle.classList.contains("e-handle-focused")&&this.firstHandle.classList.remove("e-handle-focused"),"Range"===this.type&&this.secondHandle.classList.contains("e-handle-focused")&&this.secondHandle.classList.remove("e-handle-focused")}},{key:"handleFocus",value:function(e){e.currentTarget===this.firstHandle?this.firstHandle.classList.add("e-handle-focused"):this.secondHandle.classList.add("e-handle-focused")}},{key:"handleOver",value:function(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(e.currentTarget)}},{key:"handleLeave",value:function(e){!this.tooltip.isVisible||"Hover"!==this.tooltip.showOn||e.currentTarget.classList.contains("e-handle-focused")||e.currentTarget.classList.contains("e-tab-handle")||this.closeTooltip()}},{key:"setHandler",value:function(){this.min>this.max&&(this.min=this.max),this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()}},{key:"setEnableRTL",value:function(){this.enableRtl&&"Vertical"!==this.orientation?UA([this.sliderContainer],"e-rtl"):WA([this.sliderContainer],"e-rtl");var e="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),e!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&(iD(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&iD(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()}},{key:"tooltipValue",value:function(){var e,t=this,n={value:this.value,text:""};this.setTooltipContent(),n.text=e=this.tooltipObj.content,this.trigger("tooltipChange",n,(function(n){t.addTooltipClass(n.text),e!==n.text&&(t.customAriaText=n.text,t.tooltipObj.content=n.text,t.setAriaAttrValue(t.firstHandle),"Range"===t.type&&t.setAriaAttrValue(t.secondHandle))}))}},{key:"setTooltipContent",value:function(){var e;e=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=e}},{key:"formatContent",value:function(e,t){var n="",i=this.handleVal1,a=this.handleVal2;return!JO(this.customValues)&&this.customValues.length>0&&(i=this.customValues[this.handleVal1],a=this.customValues[this.handleVal2]),t?("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?JO(this.tooltip)||JO(this.tooltip.format)?a.toString()+" - "+i.toString():this.formatString(a,e).elementVal+" - "+this.formatString(i,e).elementVal:JO(this.tooltip)||JO(this.tooltip.format)?i.toString()+" - "+a.toString():this.formatString(i,e).elementVal+" - "+this.formatString(a,e).elementVal:JO(i)||(n=JO(this.tooltip)||JO(this.tooltip.format)?i.toString():this.formatString(i,e).elementVal),n):("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?JO(e.format)?a.toString()+" - "+i.toString():this.formatString(a,e).formatString+" - "+this.formatString(i,e).formatString:JO(e.format)?i.toString()+" - "+a.toString():this.formatString(i,e).formatString+" - "+this.formatString(a,e).formatString:JO(i)||(n=JO(e.format)?i.toString():this.formatString(i,e).formatString),n)}},{key:"addTooltipClass",value:function(e){if(this.isMaterialTooltip){var t=e.toString().length;if(this.tooltipElement){var n=t>4?{oldCss:"e-material-default",newCss:"e-material-range"}:{oldCss:"e-material-range",newCss:"e-material-default"};this.tooltipElement.classList.remove(n.oldCss),this.tooltipElement.classList.contains(n.newCss)||(this.tooltipElement.classList.add(n.newCss),this.tooltipElement.style.transform=t>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else this.tooltipObj.cssClass="e-slider-tooltip "+(t>4?"e-material-range":"e-material-default")}}},{key:"tooltipPlacement",value:function(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"}},{key:"tooltipBeforeOpen",value:function(e){this.tooltipElement=e.element,this.tooltip.cssClass&&UA([this.tooltipElement],this.tooltip.cssClass.split(" ").filter((function(e){return e}))),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add("e-material-tooltip-hide"),this.handleStart(),this.setTooltipTransform())}},{key:"tooltipCollision",value:function(e){if(this.isBootstrap||this.isBootstrap4||this.isMaterial&&!this.isMaterialTooltip){var t=this.isBootstrap4?3:6;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-t},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:t},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-t},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:t},!1)}}}},{key:"wireMaterialTooltipEvent",value:function(e){this.isMaterialTooltip&&(e?$I.remove(this.tooltipElement,"mousedown touchstart",this.sliderDown):$I.add(this.tooltipElement,"mousedown touchstart",this.sliderDown,this))}},{key:"tooltipPositionCalculation",value:function(e){var t;switch(e){case"TopCenter":t="e-slider-horizontal-before";break;case"BottomCenter":t="e-slider-horizontal-after";break;case"LeftCenter":t="e-slider-vertical-before";break;case"RightCenter":t="e-slider-vertical-after"}return t}},{key:"getTooltipTransformProperties",value:function(e){var t;if(this.tooltipElement){var n="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;t="Horizontal"===this.orientation?"e-slider-horizontal-before"===e?{rotate:"rotate(45deg)",translate:"translateY(".concat(n,"px)")}:{rotate:"rotate(225deg)",translate:"translateY(".concat(-n,"px)")}:"e-slider-vertical-before"===e?{rotate:"rotate(-45deg)",translate:"translateX(".concat(n,"px)")}:{rotate:"rotate(-225deg)",translate:"translateX(".concat(-n,"px)")}}return t}},{key:"openMaterialTooltip",value:function(){var e=this;if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);var t=this.tooltipElement.firstElementChild;t.classList.remove("e-material-tooltip-hide"),t.classList.add("e-material-tooltip-show"),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add("e-material-tooltip-open"),this.materialHandle.style.transform="scale(0)",this.tooltipElement.style.transform=t.innerText.length>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout((function(){e.tooltipElement.style.transition=e.transition.handle}),2500):setTimeout((function(){e.tooltipElement.style.transition="none"}),2500)}}},{key:"closeMaterialTooltip",value:function(){var e=this;if(this.isMaterialTooltip){var t=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,t.classList.remove("e-material-tooltip-show"),t.classList.add("e-material-tooltip-hide"),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove("e-material-tooltip-open"),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout((function(){e.tooltipElement.style.transition="none"}),2500)}}},{key:"checkTooltipPosition",value:function(e){if(void 0===this.tooltipCollidedPosition||this.tooltipCollidedPosition!==e.collidedPosition){if(this.isMaterialTooltip){var t=this.tooltipPositionCalculation(e.collidedPosition);void 0!==t&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(t),this.previousTooltipClass=t),e.element.style.transform&&e.element.classList.contains("e-material-tooltip-open")&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}this.tooltipCollidedPosition=e.collidedPosition}this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()}},{key:"setTooltipTransform",value:function(){var e=this.getTooltipTransformProperties(this.previousTooltipClass);this.tooltipElement.style.transform=this.tooltipElement.firstElementChild.innerText.length>4?"".concat(e.translate," scale(0.01)"):"".concat(e.translate," ").concat(e.rotate," scale(0.01)")}},{key:"renderTooltip",value:function(){this.tooltipObj=new GP({showTipPointer:this.isBootstrap||this.isMaterial||this.isBootstrap4,cssClass:"e-slider-tooltip",height:this.isMaterial?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()}},{key:"initializeTooltipProps",value:function(){this.setProperties({tooltip:{showOn:this.isMaterialTooltip?"Always":"Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach((function(e){JO(e)||(e.style.transition="none")})),this.isMaterialTooltip&&(this.sliderContainer.classList.add("e-material-slider"),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))}},{key:"tooltipBeforeClose",value:function(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0}},{key:"setButtons",value:function(){this.firstBtn=this.createElement("div",{className:"e-slider-button e-first-button"}),this.firstBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:"e-slider-button e-second-button"}),this.secondBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add("e-slider-btn"),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()}},{key:"buttonTitle",value:function(){var e=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);var t=this.l10n.getConstant("decrementTitle"),n=this.l10n.getConstant("incrementTitle");QA(e?this.secondBtn:this.firstBtn,{"aria-label":t,title:t}),QA(e?this.firstBtn:this.secondBtn,{"aria-label":n,title:n})}},{key:"buttonFocusOut",value:function(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")}},{key:"repeatButton",value:function(e){var t,n=this.handleValueUpdate(),i=this.enableRtl&&"Vertical"!==this.orientation;e.target.parentElement.classList.contains("e-first-button")||e.target.classList.contains("e-first-button")?t=this.add(n,parseFloat(this.step.toString()),!!i):(e.target.parentElement.classList.contains("e-second-button")||e.target.classList.contains("e-second-button"))&&(t=this.add(n,parseFloat(this.step.toString()),!i)),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),t>=this.min&&t<=this.max&&(this.changeHandleValue(t),this.tooltipToggle(this.getHandle()))}},{key:"repeatHandlerMouse",value:function(e){e.preventDefault(),"mousedown"!==e.type&&"touchstart"!==e.type||(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))}},{key:"materialChange",value:function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")}},{key:"repeatHandlerUp",value:function(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()}},{key:"customTickCounter",value:function(e){var t=4;return!JO(this.customValues)&&this.customValues.length>0&&(e>4&&(t=3),e>7&&(t=2),e>14&&(t=1),e>28&&(t=0)),t}},{key:"renderScale",value:function(){var e="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:"e-scale e-"+e+"-scale e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",KI.isAndroid&&"h"===e&&this.ul.classList.add("e-tick-pos");var t=this.ticks.smallStep;this.ticks.showSmallTicks?t<=0&&(t=parseFloat(aI(this.step))):t=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat(aI(this.max))-parseFloat(aI(this.min));var n,i=this.fractionalToInteger(this.min),a=this.fractionalToInteger(this.max),r=this.fractionalToInteger(t),s=!JO(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,l=this.customTickCounter(s),o=!JO(this.customValues)&&this.customValues.length>0?s*l+s:Math.abs((a-i)/r);this.element.appendChild(this.ul);var u=parseFloat(this.min.toString());"v"===e&&(u=parseFloat(this.max.toString()));var c,h=0,d=100/o;d===1/0&&(d=5);for(var p=0,f=!JO(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,m=0;p<=o;p++){if(n=this.createElement("li",{attrs:{class:"e-tick",role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!JO(this.customValues)&&this.customValues.length>0)(c=p%(l+1)==0)&&("h"===e?(u=this.customValues[m],m++):(u=this.customValues[f],f--),n.setAttribute("title",u.toString()));else if(n.setAttribute("title",u.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))c="h"===e?(u-parseFloat(this.min.toString()))%this.ticks.largeStep==0:Math.abs(u-parseFloat(this.max.toString()))%this.ticks.largeStep==0;else{var g=this.fractionalToInteger(this.ticks.largeStep),v=this.fractionalToInteger(u);c="h"===e?(v-i)%g==0:Math.abs(v-parseFloat(a.toString()))%g==0}c&&n.classList.add("e-large"),"h"===e?n.style.width=d+"%":n.style.height=d+"%";var y=void 0,b=c?"Both"===this.ticks.placement?2:1:0;if(c)for(var k=0;k<b;k++)this.createTick(n,u,d);else JO(this.customValues)&&this.formatTicksValue(n,u);this.ul.appendChild(n),this.tickElementCollection.push(n),JO(this.customValues)&&(y=this.numberOfDecimals(t)>this.numberOfDecimals(u)?this.numberOfDecimals(t):this.numberOfDecimals(u),u=this.makeRoundNumber("h"===e?u+t:u-t,y),h=this.makeRoundNumber(h+t,y))}this.ticksAlignment(e,d)}},{key:"updateTicksValues",value:function(e,t){if(t.childElementCount>0)for(var n=0;n<t.childElementCount;n++)this.blazortTicksValue(t,e,t.children[n]);else this.blazortTicksValue(t,e,null)}},{key:"blazortTicksValue",value:function(e,t,n){var i=this,a=this.formatNumber(t),r=JO(this.ticks)||JO(this.ticks.format)?a:this.formatString(t,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:t,text:r,tickElement:e},(function(t){e.setAttribute("title",t.text.toString()),n&&(n.innerHTML=i.enableHtmlSanitizer?uM.sanitize(t.text.toString()):t.text.toString())}))}},{key:"ticksAlignment",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add("e-first-tick"),this.lastChild.classList.add("e-last-tick"),this.sliderContainer.classList.add("e-scale-"+this.ticks.placement.toLowerCase()),"h"===e?(this.firstChild.style.width=t/2+"%",this.lastChild.style.width=t/2+"%"):(this.firstChild.style.height=t/2+"%",this.lastChild.style.height=t/2+"%"),n&&this.trigger("renderedTicks",{ticksWrapper:this.ul,tickElements:this.tickElementCollection}),this.scaleAlignment()}},{key:"createTick",value:function(e,t,n){var i=this.createElement("span",{className:"e-tick-value e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(i),JO(this.customValues)?this.formatTicksValue(e,t,i,n):i.innerHTML=this.enableHtmlSanitizer?uM.sanitize(t.toString()):t.toString()}},{key:"formatTicksValue",value:function(e,t,n,i){var a=this,r=this.formatNumber(t),s=JO(this.ticks)||JO(this.ticks.format)?r:this.formatString(t,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:t,text:s,tickElement:e},(function(t){e.setAttribute("title",t.text.toString()),n&&(n.innerHTML=a.enableHtmlSanitizer?uM.sanitize(t.text.toString()):t.text.toString()),JO(a.renderingTicks)}))}},{key:"scaleAlignment",value:function(){this.tickValuePosition(),"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size"):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size")}},{key:"tickValuePosition",value:function(){this.firstChild=this.element.querySelector("ul").children[0];var e,t,n=this.firstChild.getBoundingClientRect(),i=this.ticks.smallStep,a=Math.abs(parseFloat(aI(this.max))-parseFloat(aI(this.min)))/i;this.firstChild.children.length>0&&(e=this.firstChild.children[0].getBoundingClientRect());var r,s=[this.sliderContainer.querySelectorAll(".e-tick.e-large .e-tick-value")];r=[].slice.call(s[0],"Both"===this.ticks.placement?2:1);for(var l="Vertical"===this.orientation?2*n.height:2*n.width,o=0;o<this.firstChild.children.length;o++)"Vertical"===this.orientation?this.firstChild.children[o].style.top=-e.height/2+"px":this.firstChild.children[o].style.left=this.enableRtl?(l-this.firstChild.children[o].getBoundingClientRect().width)/2+"px":-e.width/2+"px";for(var u=0;u<r.length;u++)t=r[u].getBoundingClientRect(),iD(r[u],"Vertical"===this.orientation?{top:(l-t.height)/2+"px"}:{left:(l-t.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==a&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===a&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove("e-last-tick"))}},{key:"setAriaAttrValue",value:function(e){var t,n=!JO(this.ticks)&&!JO(this.ticks.format),i=this.formatContent(n?this.tooltipFormatInfo:this.ticksFormatInfo,!1),a=this.formatContent(n?this.ticksFormatInfo:this.tooltipFormatInfo,!0);t=2===(i=this.customAriaText?this.customAriaText:i).split(" - ").length?i.split(" - "):[i,i],this.setAriaAttributes(e),QA(e,"Range"!==this.type?{"aria-valuenow":a,"aria-valuetext":i}:this.enableRtl?e===this.firstHandle?{"aria-valuenow":a.split(" - ")[1],"aria-valuetext":t[1]}:{"aria-valuenow":a.split(" - ")[0],"aria-valuetext":t[0]}:e===this.firstHandle?{"aria-valuenow":a.split(" - ")[0],"aria-valuetext":t[0]}:{"aria-valuenow":a.split(" - ")[1],"aria-valuetext":t[1]})}},{key:"handleValueUpdate",value:function(){return"Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1}},{key:"getLimitCorrectedValues",value:function(e){return"MinRange"===this.type||"Default"===this.type?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:1===this.activeHandle?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0]}},{key:"focusSliderElement",value:function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)}},{key:"buttonClick",value:function(e){var t;this.focusSliderElement();var n=this.enableRtl&&"Vertical"!==this.orientation,i=this.handleValueUpdate();40===e.keyCode||37===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(i,parseFloat(this.step.toString()),!!n):38===e.keyCode||39===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(i,parseFloat(this.step.toString()),!n):33===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(i,parseFloat(this.ticks.largeStep.toString()),!n):34===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(i,parseFloat(this.ticks.largeStep.toString()),!!n):36===e.keyCode?t=parseFloat(this.min.toString()):35===e.keyCode&&(t=parseFloat(this.max.toString())),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),this.changeHandleValue(t),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains("e-tab-handle")||this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),e.currentTarget.classList.contains("e-first-button")&&$I.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains("e-second-button")&&$I.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)}},{key:"tooltipToggle",value:function(e){this.isMaterialTooltip?this.tooltipElement.classList.contains("e-material-tooltip-open")?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)}},{key:"buttonUp",value:function(e){e.currentTarget.classList.contains("e-first-button")&&$I.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains("e-second-button")&&$I.remove(this.secondBtn,"mouseup touchend",this.buttonUp)}},{key:"setRangeBar",value:function(){"Horizontal"===this.orientation?"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",iD(this.rangeBar,{width:JO(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",iD(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):"MinRange"===this.type?(this.rangeBar.style.bottom="0px",iD(this.rangeBar,{height:JO(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",iD(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))}},{key:"checkValidValueAndPos",value:function(e){return e=this.checkHandleValue(e),this.checkHandlePosition(e)}},{key:"setLimitBarPositions",value:function(e,t,n,i){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.bottom=e+"px",this.limitBarFirst.style.height=t-e+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=n+"px",this.limitBarSecond.style.width=i-n+"px"):(this.limitBarSecond.style.left=n+"px",this.limitBarSecond.style.width=i-n+"px"):(this.limitBarSecond.style.bottom=n+"px",this.limitBarSecond.style.height=i-n+"px"))}},{key:"setLimitBar",value:function(){if("Default"===this.type||"MinRange"===this.type){var e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);var t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t),this.setLimitBarPositions(e,t)}else if("Range"===this.type){var n=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];n=this.checkValidValueAndPos(n);var i=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];i=this.checkValidValueAndPos(i);var a=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];a=this.checkValidValueAndPos(a);var r=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];r=this.checkValidValueAndPos(r),this.setLimitBarPositions(n,i,a,r)}}},{key:"getLimitValueAndPosition",value:function(e,t,n,i){return JO(t)&&(t=this.min,JO(e)&&i&&(e=t)),JO(n)&&(n=this.max,JO(e)&&i&&(e=n)),e<t&&(e=t),e>n&&(e=n),[e,this.checkHandlePosition(e)]}},{key:"setValue",value:function(){if(!JO(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=JO(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,this.activeHandle=JO(this.activeHandle)?"Range"===this.type?2:1:this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){var e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()}},{key:"rangeValueUpdate",value:function(){null!==this.value&&"object"==typeof this.value||(this.value=[parseFloat(aI(this.min)),parseFloat(aI(this.max))])}},{key:"validateRangeValue",value:function(){this.rangeValueUpdate(),this.setRangeValue()}},{key:"modifyZindex",value:function(){"Range"===this.type?1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=XT(this.element)+"")}},{key:"setHandlePosition",value:function(e){var t,n=this,i=1===this.activeHandle?this.handlePos1:this.handlePos2;t=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),t.forEach((function(e){"Horizontal"===n.orientation?n.enableRtl?e.style.right="".concat(i,"px"):e.style.left="".concat(i,"px"):e.style.bottom="".concat(i,"px")})),this.changeEvent("change",e)}},{key:"getHandle",value:function(){return 1===this.activeHandle?this.firstHandle:this.secondHandle}},{key:"setRangeValue",value:function(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1}},{key:"changeEvent",value:function(e,t){var n="change"===e?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),n!==this.value&&(this.trigger(e,this.changeEventArgs(e,t)),this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{var i=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:i},!0),(n.length===this.value.length&&this.value[0]!==n[0]||this.value[1]!==n[1])&&(this.trigger(e,this.changeEventArgs(e,t)),this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()}},{key:"changeEventArgs",value:function(e,t){var n;return this.tooltip.isVisible&&this.tooltipObj?(this.tooltipValue(),n={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:this.tooltipObj.content,isInteracted:!JO(t)}):n={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:JO(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!JO(t)},n}},{key:"setPreviousVal",value:function(e,t){"change"===e?this.previousVal=t:this.previousChanged=t}},{key:"updateRangeValue",value:function(){var e=this.value.toString().split(",").map(Number);if(this.value=this.enableRtl&&"Vertical"!==this.orientation||this.rtl?[e[1],e[0]]:[e[0],e[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;var t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,t=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=t[0],this.handlePos2=t[1],this.preHandlePos2=this.handlePos2}}},{key:"checkHandlePosition",value:function(e){var t;return e=100*(e-parseFloat(aI(this.min)))/(parseFloat(aI(this.max))-parseFloat(aI(this.min))),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(e/100):this.element.getBoundingClientRect().height*(e/100),parseFloat(aI(this.max))===parseFloat(aI(this.min))&&(t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),t}},{key:"checkHandleValue",value:function(e){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat(aI(this.max));var t=this.tempStartEnd();return e<t.start?e=t.start:e>t.end&&(e=t.end),e}},{key:"reposition",value:function(){var e=this;this.firstHandle.style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),"Range"===this.type&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right="".concat(this.handlePos1,"px"):this.firstHandle.style.left="".concat(this.handlePos1,"px"),this.isMaterialTooltip&&(this.enableRtl?this.materialHandle.style.right="".concat(this.handlePos1,"px"):this.materialHandle.style.left="".concat(this.handlePos1,"px")),"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",iD(this.rangeBar,{width:JO(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.enableRtl?this.secondHandle.style.right="".concat(this.handlePos2,"px"):this.secondHandle.style.left="".concat(this.handlePos2,"px"),this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",iD(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom="".concat(this.handlePos1,"px"),this.isMaterialTooltip&&(this.materialHandle.style.bottom="".concat(this.handlePos1,"px")),"MinRange"===this.type?(this.rangeBar.style.bottom="0px",iD(this.rangeBar,{height:JO(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom="".concat(this.handlePos2,"px"),this.rangeBar.style.bottom=this.handlePos1+"px",iD(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout((function(){e.firstHandle.style.transition=e.scaleTransform,"Range"===e.type&&(e.secondHandle.style.transition=e.scaleTransform)})),this.refreshTooltip(this.tooltipTarget),this.setBarColor()}},{key:"changeHandleValue",value:function(e){var t=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(t=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(t=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==t&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))}},{key:"tempStartEnd",value:function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}}},{key:"xyToPosition",value:function(e){if(this.min===this.max)return 100;if("Horizontal"===this.orientation){var t=e.x-this.element.getBoundingClientRect().left;this.val=t/(this.element.offsetWidth/100)}else{var n=e.y-this.element.getBoundingClientRect().top;this.val=100-n/(this.element.offsetHeight/100)}var i=this.stepValueCalculation(this.val);return i<0?i=0:i>100&&(i=100),this.enableRtl&&"Vertical"!==this.orientation&&(i=100-i),"Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(i/100):this.element.getBoundingClientRect().height*(i/100)}},{key:"stepValueCalculation",value:function(e){0===this.step&&(this.step=1);var t=parseFloat(aI(this.step))/((parseFloat(aI(this.max))-parseFloat(aI(this.min)))/100),n=e%Math.abs(t);return 0!==n&&(t/2>n?e-=n:e+=Math.abs(t)-n),e}},{key:"add",value:function(e,t,n){var i=Math.pow(10,3);return n?(Math.round(e*i)+Math.round(t*i))/i:(Math.round(e*i)-Math.round(t*i))/i}},{key:"positionToValue",value:function(e){var t,n=parseFloat(aI(this.max))-parseFloat(aI(this.min));return t="Horizontal"===this.orientation?e/this.element.getBoundingClientRect().width*n:e/this.element.getBoundingClientRect().height*n,this.add(t,parseFloat(this.min.toString()),!0)}},{key:"sliderBarClick",value:function(e){var t;e.preventDefault(),"mousedown"===e.type||"click"===e.type?t={x:e.clientX,y:e.clientY}:"touchstart"===e.type&&(t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});var n=this.xyToPosition(t),i=this.positionToValue(n);if("Range"===this.type&&this.handlePos2-n<n-this.handlePos1){if(this.activeHandle=2,!this.limits.enabled||!this.limits.endHandleFixed){if(this.limits.enabled){var a=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd);i=a[0],n=a[1]}this.secondHandle.classList.add("e-handle-active"),this.handlePos2=this.preHandlePos2=n,this.handleVal2=i}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){var r=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);i=r[0],n=r[1]}this.firstHandle.classList.add("e-handle-active"),this.handlePos1=this.preHandlePos1=n,this.handleVal1=i}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add("e-tooltip-active");var s=this.element.querySelector(".e-tab-handle");if(s&&this.getHandle()!==s&&s.classList.remove("e-tab-handle"),e.target===(1===this.activeHandle?this.firstHandle:this.secondHandle))return!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains("e-tab-handle")||this.materialChange(),void this.tooltipToggle(this.getHandle());if(this.checkRepeatedValue(i)){var l=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=l.handle,"Default"!==this.type&&(this.rangeBar.style.transition=l.rangeBar),this.setHandlePosition(e),"Default"!==this.type&&this.setRangeBar()}}},{key:"sliderDown",value:function(e){if(e.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&e.target===this.rangeBar){var t,n,i,a;"mousedown"===e.type?(i=(t=[e.clientX,e.clientY])[0],a=t[1]):"touchstart"===e.type&&(i=(n=[e.changedTouches[0].clientX,e.changedTouches[0].clientY])[0],a=n[1]),"Horizontal"===this.orientation?(this.firstPartRemain=i-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-i):(this.firstPartRemain=a-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-a),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);var r=this.element.querySelector(".e-tab-handle");r&&r.classList.remove("e-tab-handle"),$I.add(document,"mousemove touchmove",this.dragRangeBarMove,this),$I.add(document,"mouseup touchend",this.dragRangeBarUp,this)}else this.sliderBarClick(e),$I.add(document,"mousemove touchmove",this.sliderBarMove,this),$I.add(document,"mouseup touchend",this.sliderBarUp,this)}},{key:"handleValueAdjust",value:function(e,t,n){1===n?(this.handleVal1=t,this.handleVal2=this.handleVal1+this.minDiff):2===n&&(this.handleVal2=t,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)}},{key:"dragRangeBarMove",value:function(e){var t,n,i,a;if("touchmove"!==e.type&&e.preventDefault(),this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none",i=(t=_slicedToArray2("mousemove"===e.type?[e.clientX,e.clientY]:[e.changedTouches[0].clientX,e.changedTouches[0].clientY],2))[0],a=t[1],!(this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed)){if(n=this.enableRtl?{x:i+this.secondPartRemain,y:a+this.secondPartRemain}:{x:i-this.firstPartRemain,y:a+this.secondPartRemain},this.handlePos1=this.xyToPosition(n),this.handleVal1=this.positionToValue(this.handlePos1),n=this.enableRtl?{x:i-this.firstPartRemain,y:a-this.firstPartRemain}:{x:i+this.secondPartRemain,y:a-this.firstPartRemain},this.handlePos2=this.xyToPosition(n),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled){var r=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=r[0],this.handlePos1=r[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),r=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=r[0],this.handlePos2=r[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()}},{key:"sliderBarUp",value:function(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove("e-handle-active"),"Range"===this.type&&this.secondHandle.classList.remove("e-handle-active"),this.closeTooltip(),this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove("e-tooltip-active")),$I.remove(document,"mousemove touchmove",this.sliderBarMove),$I.remove(document,"mouseup touchend",this.sliderBarUp)}},{key:"sliderBarMove",value:function(e){var t;"touchmove"!==e.type&&e.preventDefault(),t="mousemove"===e.type?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};var n=this.xyToPosition(t),i=this.positionToValue(n);if(n=Math.round(n),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){var a=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);n=a[1],i=a[0]}this.handlePos1=n,this.handleVal1=i}this.firstHandle.classList.add("e-handle-active")}if("Range"===this.type)if(1===this.activeHandle){if(this.firstHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.startHandleFixed||(n>this.handlePos2&&(n=this.handlePos2,i=this.handleVal2),n===this.preHandlePos1))){if(this.limits.enabled){var r=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);i=r[0],n=r[1]}this.handlePos1=this.preHandlePos1=n,this.handleVal1=i,this.activeHandle=1}}else if(2===this.activeHandle&&(this.secondHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.endHandleFixed||(n<this.handlePos1&&(n=this.handlePos1,i=this.handleVal1),n===this.preHandlePos2)))){if(this.limits.enabled){var s=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd);i=s[0],n=s[1]}this.handlePos2=this.preHandlePos2=n,this.handleVal2=i,this.activeHandle=2}this.checkRepeatedValue(i)&&(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains("e-tab-handle")||this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())}},{key:"dragRangeBarUp",value:function(e){this.changeEvent("changed",e),this.closeTooltip(),$I.remove(document,"mousemove touchmove",this.dragRangeBarMove),$I.remove(document,"mouseup touchend",this.dragRangeBarUp)}},{key:"checkRepeatedValue",value:function(e){if("Range"===this.type){if(e===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(e===this.previousVal)return 0;return 1}},{key:"refreshTooltip",value:function(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))}},{key:"openTooltip",value:function(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)}},{key:"closeTooltip",value:function(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)}},{key:"keyDown",value:function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e)}}},{key:"wireButtonEvt",value:function(e){e?($I.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),$I.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),$I.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),$I.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),$I.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),$I.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),$I.remove(this.firstBtn,"focusout",this.sliderFocusOut),$I.remove(this.secondBtn,"focusout",this.sliderFocusOut)):($I.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),$I.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),$I.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),$I.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),$I.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),$I.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),$I.add(this.firstBtn,"focusout",this.sliderFocusOut,this),$I.add(this.secondBtn,"focusout",this.sliderFocusOut,this))}},{key:"wireEvents",value:function(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&($I.add(this.element,"mousedown touchstart",this.sliderDown,this),$I.add(this.sliderContainer,"keydown",this.keyDown,this),$I.add(this.sliderContainer,"keyup",this.keyUp,this),$I.add(this.element,"focusout",this.sliderFocusOut,this),$I.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&$I.add(this.formElement,"reset",this.formResetHandler,this))}},{key:"unwireEvents",value:function(){$I.remove(this.element,"mousedown touchstart",this.sliderDown),$I.remove(this.sliderContainer,"keydown",this.keyDown),$I.remove(this.sliderContainer,"keyup",this.keyUp),$I.remove(this.element,"focusout",this.sliderFocusOut),$I.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),$I.remove(this.element,"reset",this.formResetHandler)}},{key:"formResetHandler",value:function(){this.setProperties({value:this.formResetValue},!0),this.setValue()}},{key:"keyUp",value:function(e){if(9===e.keyCode&&e.target.classList.contains("e-handle")&&(this.focusSliderElement(),!e.target.classList.contains("e-tab-handle"))){this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),e.target.classList.add("e-tab-handle");var t=e.target.parentElement;t===this.element&&(t.querySelector(".e-slider-track").classList.add("e-tab-track"),"Range"!==this.type&&"MinRange"!==this.type||t.querySelector(".e-range").classList.add("e-tab-range")),"Range"===this.type&&(this.activeHandle=e.target.previousSibling.classList.contains("e-handle")?2:1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)}},{key:"hover",value:function(e){JO(e)||("mouseover"===e.type||"touchmove"===e.type||"mousemove"===e.type||"pointermove"===e.type||"touchstart"===e.type?this.sliderContainer.classList.add("e-slider-hover"):this.sliderContainer.classList.remove("e-slider-hover"))}},{key:"sliderFocusOut",value:function(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),this.element.querySelector(".e-tab-track")&&(this.element.querySelector(".e-tab-track").classList.remove("e-tab-track"),"Range"!==this.type&&"MinRange"!==this.type||!this.element.querySelector(".e-tab-range")||this.element.querySelector(".e-tab-range").classList.remove("e-tab-range")),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)}},{key:"removeElement",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"changeSliderType",value:function(e,t){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove("e-material-slider"),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==e&&("Range"===e&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!JO(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===e||"Default"===e?JO(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):JO(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),this.isServerRendered&&"tooltip"===t||this.updateConfig()}},{key:"changeRtl",value:function(){if(this.enableRtl||"Range"!==this.type||(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){var e=this.enableRtl&&"Vertical"!==this.orientation;QA(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),QA(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}}},{key:"changeOrientation",value:function(){this.changeSliderType(this.type,"null")}},{key:"updateConfig",value:function(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()}},{key:"limitsPropertyChange",value:function(){this.limits.enabled?(JO(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),JO(this.limitBarFirst)&&JO(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(JO(this.limitBarFirst)||ZA(this.limitBarFirst),JO(this.limitBarSecond)||ZA(this.limitBarSecond))}},{key:"getPersistData",value:function(){return this.addOnPersist(["value"])}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.unwireEvents(),window.removeEventListener("resize",this.onresize),WA([this.sliderContainer],["e-disabled"]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.isServerRendered||(this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),ZA(this.sliderContainer)),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.isServerRendered||(this.element.innerHTML="")}},{key:"onPropertyChanged",value:function(e,t){for(var n=this,i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];switch(r){case"cssClass":this.setCSSClass(t.cssClass);break;case"value":if(e&&t){var s=JO(e.value)?"Range"===this.type?[this.min,this.max]:this.min:e.value;this.setProperties({value:s},!0),JO(t.value)||t.value.toString()===s.toString()||(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(this.activeHandle=JO(e.value)||t.value[1]===s[1]?1:2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":JO(e.tooltip)||JO(t.tooltip)||this.setTooltip(r);break;case"type":JO(t)||!Object.keys(t).length||JO(t.type)||(this.changeSliderType(t.type,r),this.setZindex());break;case"enableRtl":t.enableRtl!==e.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=t.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":JO(this.sliderContainer.querySelector(".e-scale"))||(ZA(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,(function(e){e.match(/e-scale-/)&&n.sliderContainer.classList.remove(e)}))),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove("e-slider-btn"),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}}},{key:"setReadOnly",value:function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add("e-read-only")):(this.wireEvents(),this.sliderContainer.classList.remove("e-read-only"))}},{key:"setMinMaxValue",value:function(){var e=this;this.setValue(),this.refreshTooltip(this.tooltipTarget),JO(this.sliderContainer.querySelector(".e-scale"))||this.ul&&(ZA(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,(function(t){t.match(/e-scale-/)&&e.sliderContainer.classList.remove(t)}))),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())}},{key:"setZindex",value:function(){this.zIndex=6,JO(this.ticks)||"None"===this.ticks.placement||(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),this.isMaterial||JO(this.ticks)||"Both"!==this.ticks.placement||(this.element.style.zIndex=this.zIndex+2+""),this.firstHandle.style.zIndex=this.zIndex+3+"","Range"===this.type&&(this.secondHandle.style.zIndex=this.zIndex+4+"")}},{key:"setTooltip",value:function(e){this.changeSliderType(this.type,e)}},{key:"setBarColor",value:function(){for(var e,t,n=this.sliderTrack.lastElementChild;n;)this.sliderTrack.removeChild(n),n=this.sliderTrack.lastElementChild;for(var i=0;i<this.colorRange.length;i++)if(!JO(this.colorRange[i].start)&&!JO(this.colorRange[i].end)&&this.colorRange[i].end>this.colorRange[i].start){this.colorRange[i].start<this.min&&(this.colorRange[i].start=this.min),this.colorRange[i].end>this.max&&(this.colorRange[i].end=this.max);var a=this.checkHandlePosition(this.colorRange[i].start),r=this.checkHandlePosition(this.colorRange[i].end),s=this.createElement("div");s.style.backgroundColor=this.colorRange[i].color,s.style.border="1px solid "+this.colorRange[i].color,"Horizontal"===this.orientation?(t="e-slider-horizantal-color",e=this.enableRtl?JO(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[i].end):this.checkHandlePosition(this.customValues.length-this.colorRange[i].end-1):this.checkHandlePosition(this.colorRange[i].start),s.style.width=r-a+"px",s.style.left=e+"px"):(t="e-slider-vertical-color",e=this.checkHandlePosition(this.colorRange[i].start),s.style.height=r-a+"px",s.style.bottom=e+"px"),s.classList.add(t),this.sliderTrack.appendChild(s)}}},{key:"getModuleName",value:function(){return"slider"}}]),n}(zD),tN([bD(null)],_L.prototype,"value",void 0),tN([bD(null)],_L.prototype,"customValues",void 0),tN([bD(1)],_L.prototype,"step",void 0),tN([bD(null)],_L.prototype,"width",void 0),tN([bD(0)],_L.prototype,"min",void 0),tN([bD(100)],_L.prototype,"max",void 0),tN([bD(!1)],_L.prototype,"readonly",void 0),tN([bD("Default")],_L.prototype,"type",void 0),tN([CD([{}],iN)],_L.prototype,"colorRange",void 0),tN([kD({},nN)],_L.prototype,"ticks",void 0),tN([kD({},aN)],_L.prototype,"limits",void 0),tN([bD(!0)],_L.prototype,"enabled",void 0),tN([kD({},rN)],_L.prototype,"tooltip",void 0),tN([bD(!1)],_L.prototype,"showButtons",void 0),tN([bD(!0)],_L.prototype,"enableAnimation",void 0),tN([bD("Horizontal")],_L.prototype,"orientation",void 0),tN([bD("")],_L.prototype,"cssClass",void 0),tN([bD(!1)],_L.prototype,"enableHtmlSanitizer",void 0),tN([wD()],_L.prototype,"created",void 0),tN([wD()],_L.prototype,"change",void 0),tN([wD()],_L.prototype,"changed",void 0),tN([wD()],_L.prototype,"renderingTicks",void 0),tN([wD()],_L.prototype,"renderedTicks",void 0),tN([wD()],_L.prototype,"tooltipChange",void 0),_L=tN([_D],_L)),lN=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},oN={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")},uN=function(e){return e[e.Message=0]="Message",e[e.Label=1]="Label",e}({}),cN=((AL=IL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,i,e)).validated=[],a.errorRules=[],a.allowSubmit=!1,a.required="required",a.infoElement=null,a.inputElement=null,a.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",a.localyMessage={},a.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},void 0===a.rules&&(a.rules={}),a.l10n=new tM("formValidator",a.defaultMessages,a.locale),a.locale&&a.localeFunc(),OI.on("notifyExternalChange",a.afterLocalization,_assertThisInitialized(a)),e="string"==typeof e?eD(e,document):e,null!=a.element&&(a.element.setAttribute("novalidate",""),a.inputElements=tD(a.selectQuery,a.element),a.createHTML5Rules(),a.wireEvents()),a}return _createClass(n,[{key:"addRules",value:function(e,t){e&&(this.rules.hasOwnProperty(e)?ZO(this.rules[e],t,{}):this.rules[e]=t)}},{key:"removeRules",value:function(e,t){if(e||t)if(this.rules[e]&&!t)delete this.rules[e];else{if(JO(this.rules[e]&&t))return;for(var n=0;n<t.length;n++)delete this.rules[e][t[n]]}else this.rules={}}},{key:"validate",value:function(e){var t=Object.keys(this.rules);if(e&&t.length)return this.validateRules(e),-1!==t.indexOf(e)&&0===this.errorRules.filter((function(t){return t.name===e})).length;this.errorRules=[];for(var n=0,i=t;n<i.length;n++){var a=i[n];this.validateRules(a)}return 0===this.errorRules.length}},{key:"reset",value:function(){this.element.reset(),this.clearForm()}},{key:"getInputElement",value:function(e){return this.inputElement=eD('[name="'+e+'"]',this.element),this.inputElement}},{key:"destroy",value:function(){this.reset(),this.unwireEvents(),this.rules={};var e,t=_createForOfIteratorHelper(tD("."+this.errorClass+", ."+this.validClass,this.element));try{for(t.s();!(e=t.n()).done;)ZA(e.value)}catch(i){t.e(i)}finally{t.f()}_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),OI.off("notifyExternalChange",this.afterLocalization)}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"locale":this.localeFunc()}}},{key:"localeFunc",value:function(){for(var e=0,t=Object.keys(this.defaultMessages);e<t.length;e++){var n=t[e];this.l10n.setLocale(this.locale);var i=this.l10n.getConstant(n);this.localyMessage[n]=i}}},{key:"getModuleName",value:function(){return"formValidator"}},{key:"afterLocalization",value:function(e){this.locale=e.locale,this.localeFunc()}},{key:"refresh",value:function(){this.unwireEvents(),this.inputElements=tD(this.selectQuery,this.element),this.wireEvents()}},{key:"clearForm",value:function(){this.errorRules=[],this.validated=[];var e,t=_createForOfIteratorHelper(tD(this.selectQuery,this.element));try{for(t.s();!(e=t.n()).done;){var n=e.value;n.removeAttribute("aria-invalid"),n.classList.remove(this.errorClass),n.name.length>0&&(this.getInputElement(n.name),this.getErrorElement(n.name),this.hideMessage(n.name)),n.classList.remove(this.validClass)}}catch(i){t.e(i)}finally{t.f()}}},{key:"createHTML5Rules",value:function(){var e,t=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],n=["hidden","email","url","date","number","tel"],i=_createForOfIteratorHelper(this.inputElements);try{for(i.s();!(e=i.n()).done;){var a,r=e.value,s={},l=_createForOfIteratorHelper(t);try{for(l.s();!(a=l.n()).done;){var o=a.value;if(null!==r.getAttribute(o))switch(o){case"required":this.defRule(r,s,o,r.required);break;case"data-validation":o=r.getAttribute(o),this.defRule(r,s,o,!0);break;case"type":-1!==n.indexOf(r.type)&&this.defRule(r,s,r.type,!0);break;case"rangeLength":case"range":this.defRule(r,s,o,JSON.parse(r.getAttribute(o)));break;case"equalTo":var u=r.getAttribute(o);this.defRule(r,s,o,u);break;default:"true"===r.getAttribute("data-val")?this.annotationRule(r,s,o,r.getAttribute(o)):this.defRule(r,s,o,r.getAttribute(o))}}}catch(c){l.e(c)}finally{l.f()}0!==Object.keys(s).length&&this.addRules(r.name,s)}}catch(c){i.e(c)}finally{i.f()}}},{key:"annotationRule",value:function(e,t,n,i){var a=n.split("-"),r=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],s=a[a.length-1],l=a[a.length-2];if(-1!==r.indexOf(s))switch(s){case"required":this.defRule(e,t,"required",i);break;case"creditcard":this.defRule(e,t,"creditcard",i);break;case"phone":this.defRule(e,t,"tel",i)}else if(-1!==r.indexOf(l))switch(l){case"maxlength":this.defRule(e,t,"maxLength",i);break;case"minlength":this.defRule(e,t,"minLength",i);break;case"range":var o=e.getAttribute("data-val-range-min"),u=e.getAttribute("data-val-range-max");this.defRule(e,t,"range",[o,u]);break;case"equalto":var c=e.getAttribute(n).split(".");this.defRule(e,t,"equalTo",c[c.length-1]);break;case"regex":this.defRule(e,t,"regex",i)}}},{key:"defRule",value:function(e,t,n,i){var a,r=e.getAttribute("data-"+n+"-message"),s=e.getAttribute("data-val-"+n);this.rules[e.name]&&"validateHidden"!==n&&"hidden"!==n&&(this.getInputElement(e.name),a=this.getErrorMessage(this.rules[e.name][n],n)),r?i=[i,r]:s?i=[i,s]:a&&(i=[i,a]),t[n]=i}},{key:"wireEvents",value:function(){var e,t=_createForOfIteratorHelper(this.inputElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;IL.isCheckable(n)?$I.add(n,"click",this.clickHandler,this):"SELECT"===n.tagName?$I.add(n,"change",this.changeHandler,this):($I.add(n,"focusout",this.focusOutHandler,this),$I.add(n,"keyup",this.keyUpHandler,this))}}catch(i){t.e(i)}finally{t.f()}$I.add(this.element,"submit",this.submitHandler,this),$I.add(this.element,"reset",this.resetHandler,this)}},{key:"unwireEvents",value:function(){var e,t=_createForOfIteratorHelper(this.inputElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;$I.clearEvents(n)}}catch(i){t.e(i)}finally{t.f()}$I.remove(this.element,"submit",this.submitHandler),$I.remove(this.element,"reset",this.resetHandler)}},{key:"focusOutHandler",value:function(e){this.trigger("focusout",e);var t=e.target;this.rules[t.name]&&(this.rules[t.name][this.required]||t.value.length>0?this.validate(t.name):-1===this.validated.indexOf(t.name)&&this.validated.push(t.name))}},{key:"keyUpHandler",value:function(e){this.trigger("keyup",e);var t=e.target;(9!==e.which||this.rules[t.name]&&(!this.rules[t.name]||this.rules[t.name][this.required]))&&-1!==this.validated.indexOf(t.name)&&this.rules[t.name]&&-1===[16,17,18,20,35,36,37,38,39,40,45,144,225].indexOf(e.which)&&this.validate(t.name)}},{key:"clickHandler",value:function(e){this.trigger("click",e);var t=e.target;"submit"!==t.type?this.validate(t.name):null!==t.getAttribute("formnovalidate")&&(this.allowSubmit=!0)}},{key:"changeHandler",value:function(e){this.trigger("change",e),this.validate(e.target.name)}},{key:"submitHandler",value:function(e){this.trigger("submit",e),this.allowSubmit||this.validate()?this.allowSubmit=!1:e.preventDefault()}},{key:"resetHandler",value:function(){this.clearForm()}},{key:"validateRules",value:function(e){if(this.rules[e]){var t=Object.keys(this.rules[e]),n=!1,i=!1,a=t.indexOf("validateHidden"),r=t.indexOf("hidden");if(this.getInputElement(e),-1!==r&&(n=!0),-1!==a&&(i=!0),!n||n&&i){-1!==a&&t.splice(a,1),-1!==r&&t.splice(r-1,1),this.getErrorElement(e);var s,l=_createForOfIteratorHelper(t);try{for(l.s();!(s=l.n()).done;){var o=s.value,u=this.getErrorMessage(this.rules[e][o],o),c={name:e,message:u},h={inputName:e,element:this.inputElement,message:u};if(!this.isValid(e,o)&&!this.inputElement.classList.contains(this.ignore)){this.removeErrorRules(e),this.errorRules.push(c),this.inputElement.setAttribute("aria-invalid","true"),this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info"),this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.infoElement?this.showMessage(c):this.createErrorElement(e,c.message,this.inputElement),h.errorElement=this.infoElement,h.status="failure",this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.optionalValidationStatus(e,h),this.trigger("validationComplete",h),"required"===o&&this.inputElement.setAttribute("aria-required","true");break}this.hideMessage(e),h.status="success",this.trigger("validationComplete",h)}}catch(d){l.e(d)}finally{l.f()}}}}},{key:"optionalValidationStatus",value:function(e,t){this.rules[e][this.required]||this.inputElement.value.length||JO(this.infoElement)||(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),t.status="",this.hideMessage(e))}},{key:"isValid",value:function(e,t){var n=this.rules[e][t],i=this.rules[e][t],a={value:this.inputElement.value,param:n instanceof Array&&"string"==typeof n[1]?n[0]:n,element:this.inputElement,formElement:this.element};return this.trigger("validationBegin",a),i&&"function"==typeof i[0]?i[0].call(this,{element:this.inputElement,value:this.inputElement.value}):IL.isCheckable(this.inputElement)?"required"!==t||tD("input[name="+e+"]:checked",this.element).length>0:IL.checkValidator[t](a)}},{key:"getErrorMessage",value:function(e,t){var n=this.inputElement.getAttribute("data-"+t+"-message")?this.inputElement.getAttribute("data-"+t+"-message"):e instanceof Array&&"string"==typeof e[1]?e[1]:0!==Object.keys(this.localyMessage).length?this.localyMessage[t]:this.defaultMessages[t],i=n.match(/{(\d)}/g);if(!JO(i))for(var a=0;a<i.length;a++)n=n.replace(i[a],e instanceof Array?e[a]:e);return n}},{key:"createErrorElement",value:function(e,t,n){var i=qA(this.errorElement,{className:this.errorClass,innerHTML:t,attrs:{for:e}});if(this.errorOption===uN.Message&&(i.classList.remove(this.errorClass),i.classList.add("e-message"),i=qA(this.errorContainer,{className:this.errorClass,innerHTML:i.outerHTML})),i.id=this.inputElement.name+"-info",this.element.querySelector('[data-valmsg-for="'+n.id+'"]'))this.element.querySelector('[data-valmsg-for="'+n.id+'"]').appendChild(i);else if(!0===n.hasAttribute("data-msg-containerid")){var a=n.getAttribute("data-msg-containerid");this.element.querySelector("#"+a).appendChild(i)}else null!=this.customPlacement?this.customPlacement.call(this,this.inputElement,i):this.inputElement.parentNode.insertBefore(i,this.inputElement.nextSibling);i.style.display="block",this.getErrorElement(e),this.validated.push(e),this.checkRequired(e)}},{key:"getErrorElement",value:function(e){return this.infoElement=eD(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=eD(this.errorElement+"."+this.errorClass+'[for="'+e+'"]',this.element)),this.infoElement}},{key:"removeErrorRules",value:function(e){for(var t=0;t<this.errorRules.length;t++)this.errorRules[t].name===e&&this.errorRules.splice(t,1)}},{key:"showMessage",value:function(e){this.infoElement.style.display="block",this.infoElement.innerHTML=e.message,this.checkRequired(e.name)}},{key:"hideMessage",value:function(e){this.infoElement&&(this.infoElement.style.display="none",this.removeErrorRules(e),this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass),this.inputElement.setAttribute("aria-invalid","false"))}},{key:"checkRequired",value:function(e){this.rules[e][this.required]||this.inputElement.value.length||JO(this.infoElement)||(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(e))}}],[{key:"isCheckable",value:function(e){var t=e.getAttribute("type");return t&&("checkbox"===t||"radio"===t||"submit"===t)}}]),n}(lD)).checkValidator={required:function(e){return e.value.length>0},email:function(e){return oN.EMAIL.test(e.value)},url:function(e){return oN.URL.test(e.value)},dateIso:function(e){return oN.DATE_ISO.test(e.value)},tel:function(e){return oN.PHONE.test(e.value)},creditcard:function(e){return oN.CREDITCARD.test(e.value)},number:function(e){return!isNaN(Number(e.value))&&-1===e.value.indexOf(" ")},digits:function(e){return oN.DIGITS.test(e.value)},maxLength:function(e){return e.value.length<=e.param},minLength:function(e){return e.value.length>=e.param},rangeLength:function(e){var t=e.param;return e.value.length>=t[0]&&e.value.length<=t[1]},range:function(e){var t=e.param;return!isNaN(Number(e.value))&&Number(e.value)>=t[0]&&Number(e.value)<=t[1]},date:function(e){return!isNaN(new Date(e.value).getTime())},max:function(e){return isNaN(Number(e.value))?new Date(e.value).getTime()<=new Date(JSON.parse(JSON.stringify(e.param))).getTime():+e.value<=e.param},min:function(e){if(isNaN(Number(e.value))){if(-1!==e.value.indexOf(",")){var t=e.value.replace(/,/g,"");return parseFloat(t)>=e.param}return new Date(e.value).getTime()>=new Date(JSON.parse(JSON.stringify(e.param))).getTime()}return+e.value>=e.param},regex:function(e){return new RegExp(e.param).test(e.value)},equalTo:function(e){var t=e.formElement.querySelector("#"+e.param);return e.param=t.value,e.param===e.value}},lN([bD("")],AL.prototype,"locale",void 0),lN([bD("e-hidden")],AL.prototype,"ignore",void 0),lN([bD()],AL.prototype,"rules",void 0),lN([bD("e-error")],AL.prototype,"errorClass",void 0),lN([bD("e-valid")],AL.prototype,"validClass",void 0),lN([bD("label")],AL.prototype,"errorElement",void 0),lN([bD("div")],AL.prototype,"errorContainer",void 0),lN([bD(uN.Label)],AL.prototype,"errorOption",void 0),lN([wD()],AL.prototype,"focusout",void 0),lN([wD()],AL.prototype,"keyup",void 0),lN([wD()],AL.prototype,"click",void 0),lN([wD()],AL.prototype,"change",void 0),lN([wD()],AL.prototype,"submit",void 0),lN([wD()],AL.prototype,"validationBegin",void 0),lN([wD()],AL.prototype,"validationComplete",void 0),lN([wD()],AL.prototype,"customPlacement",void 0),AL=IL=lN([_D],AL)),hN=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},dN="e-switch-ctrl-btn",pN="e-hide-hex-value",fN="e-hide-switchable-value",mN="e-hide-value",gN="e-hsv-color",vN="e-selected-value",yN="e-mode-switch-btn",bN="e-nocolor-item",kN="e-opacity-value",CN="e-preview-container",wN="e-show-value",_N="e-selected",xN="e-tile",SN=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"],EN=(DL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"preRender",value:function(){var e=this.element;this.formElement=nD(this.element,"form"),this.formElement&&$I.add(this.formElement,"reset",this.formResetHandler,this),this.l10n=new tM("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)}},{key:"render",value:function(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||UA([this.container.parentElement],"e-hide-opacity"),this.renderComplete()}},{key:"initWrapper",value:function(){var e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),QA(this.element,{tabindex:"-1",spellcheck:"false"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);var t=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(t="");var n=t.slice(0,7);JO(this.initialInputValue)&&(this.initialInputValue=n),this.element.value=n,this.setProperties(this.enableOpacity?{value:t}:{value:n},!0),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&UA([e],this.cssClass.split(" ")),this.tileRipple=AD(this.container,{selector:"."+xN}),this.ctrlBtnRipple=AD(this.container,{selector:".e-btn"})}},{key:"getWrapper",value:function(){return this.element.parentElement}},{key:"createWidget",value:function(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),KI.isDevice&&this.refreshPopupPos()}},{key:"createSplitBtn",value:function(){var e=this,t=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(t),this.splitBtn=new kL({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,open:this.onOpen.bind(this),click:function(t){e.trigger("change",{currentValue:{hex:e.value.slice(0,7),rgba:e.convertToRgbString(e.hexToRgb(e.value))},previousValue:{hex:null,rgba:null},value:e.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(t);var n=this.createElement("span",{className:"e-split-preview"});eD(".e-selected-color",t).appendChild(n),n.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));var i=this.getPopupEle();if(UA([i],"e-colorpicker-popup"),this.cssClass&&UA([i],this.cssClass.split(" ")),KI.isDevice){var a=this.getPopupInst();a.relateTo=document.body,a.position={X:"center",Y:"center"},a.targetType="container",a.collision={X:"fit",Y:"fit"},a.offsetY=4,i.style.zIndex=XT(this.splitBtn.element).toString()}this.bindCallBackEvent()}},{key:"onOpen",value:function(e){this.trigger("open",{element:this.container})}},{key:"getPopupInst",value:function(){return lI(this.getPopupEle(),YT)}},{key:"bindCallBackEvent",value:function(){var e=this;this.splitBtn.beforeOpen=function(t){var n=new CL;return e.trigger("beforeOpen",t,(function(i){if(!i.cancel){var a=e.getPopupEle();a.style.top=aI(0+pageYOffset),a.style.left=aI(0+pageXOffset),a.style.display="block",e.createWidget(),a.style.display="",KI.isDevice&&(e.modal=e.createElement("div"),e.modal.className="e-"+e.getModuleName()+" e-modal",e.modal.style.display="none",document.body.insertBefore(e.modal,a),document.body.className+=" e-colorpicker-overflow",e.modal.style.display="block",e.modal.style.zIndex=(Number(a.style.zIndex)-1).toString())}t.cancel=i.cancel,n.resolve(i)})),n},this.splitBtn.beforeClose=function(t){var n=new CL;return JO(t.event)?n.resolve(t):e.trigger("beforeClose",{element:e.container,event:t.event,cancel:!1},(function(i){KI.isDevice&&t.event.target===e.modal&&(i.cancel=!0),i.cancel||e.onPopupClose(),t.cancel=i.cancel,n.resolve(i)})),n}}},{key:"onPopupClose",value:function(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",eD(".e-split-preview",this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",WA([this.container],["e-color-picker","e-color-palette"]),KI.isDevice&&this.modal&&(WA([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}},{key:"createPalette",value:function(){if(aD(this.container,["e-color-palette"],["e-color-picker"]),this.presetColors){var e=this.createElement("div",{className:"e-custom-palette"});this.appendElement(e);var t=Object.keys(this.presetColors);if(1===t.length)this.appendPalette(this.presetColors[t[0]],t[0],e);else for(var n=0,i=t.length;n<i;n++)this.appendPalette(this.presetColors[t[n]],t[n],e);tD(".e-row",e).length>10&&UA([e],"e-palette-group")}else this.appendPalette(SN,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();var a=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=aI(this.container.children[0].offsetWidth+a+a),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)}},{key:"firstPaletteFocus",value:function(){eD("."+_N,this.container.children[0])||tD(".e-palette",this.container)[0].focus()}},{key:"appendPalette",value:function(e,t,n){var i,a,r,s=this.createElement("div",{className:"e-palette",attrs:{tabindex:"0"}});n?n.appendChild(s):this.appendElement(s);for(var l=0,o=e.length;l<o;l++)0!==l&&l%this.columns!=0||(i=this.createElement("div",{className:"e-row",attrs:{role:"row"}}),s.appendChild(i)),r=this.roundValue(e[l]).toLowerCase(),a=this.createElement("span",{className:xN,attrs:{role:"gridcell","aria-label":r,"aria-selected":"false"}}),this.trigger("beforeTileRender",{element:a,presetName:t,value:e[l]}),i.appendChild(a),this.value===r&&(this.addTileSelection(a),s.focus()),a.style.backgroundColor=this.convertToRgbString(this.hexToRgb(r))}},{key:"setNoColor",value:function(){var e=this.container.querySelector(".e-row").children[0];e.classList.add(bN),this.value||(e.classList.add(_N),nD(e,".e-palette").focus()),["aria-selected","aria-label"].forEach((function(t){e.removeAttribute(t)})),e.style.backgroundColor=""}},{key:"appendElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.container.children[t];n?this.container.insertBefore(e,n):this.container.appendChild(e)}},{key:"addTileSelection",value:function(e){e.classList.add(_N),e.setAttribute("aria-selected","true")}},{key:"createPicker",value:function(){aD(this.container,["e-color-picker"],["e-color-palette"]);var e=this.createElement("div",{className:"e-hsv-container"});this.appendElement(e),e.appendChild(this.createElement("div",{className:gN}));var t=this.createElement("span",{className:"e-handler",attrs:{tabindex:"0"}});e.appendChild(t),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()}},{key:"setHsvContainerBg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hsv[0];this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))}},{key:"getHsvContainer",value:function(){return eD(".e-hsv-container",this.container)}},{key:"setHandlerPosition",value:function(){var e=this.getDragHandler(),t=eD("."+gN,this.container);e.style.left=aI(this.enableRtl?t.offsetWidth*Math.abs(100-this.hsv[1])/100:t.offsetWidth*this.hsv[1]/100),e.style.top=aI(t.offsetHeight*(100-this.hsv[2])/100)}},{key:"createSlider",value:function(){var e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);var t=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(t,e.children[0]);var n=this.createElement("div",{className:"e-hue-slider"});t.appendChild(n),this.hueSlider=new sN({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(n),this.enableOpacity&&(n=this.createElement("div",{className:"e-opacity-slider"}),t.appendChild(n),this.createOpacitySlider(n))}},{key:"createOpacitySlider",value:function(e){this.opacitySlider=new sN({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);var t=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(t),this.updateOpacitySliderBg()}},{key:"updateOpacitySliderBg",value:function(){var e=this.enableRtl?"to left":"to right";eD(".e-slider-track",this.opacitySlider.element).style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)"}},{key:"hueChange",value:function(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()}},{key:"opacityChange",value:function(e){var t=e.value,n=this.rgbToHex(this.rgb);this.hsv[3]=t/100,this.rgb[3]=t/100;var i=this.rgbToHex(this.rgb);this.updateOpacityInput(t);var a=this.convertToRgbString(this.rgb);this.updatePreview(a),this.triggerEvent(i,n,a)}},{key:"updateOpacityInput",value:function(e){if(!this.getWrapper().classList.contains(mN)){var t=lI(eD("."+kN,this.container),eN);t.value=e,t.dataBind()}}},{key:"createPreview",value:function(e){var t=this.createElement("div",{className:CN});e.appendChild(t);var n=this.createElement("span",{className:"e-preview e-current"});t.appendChild(n);var i=this.convertToRgbString(this.rgb);n.style.backgroundColor=i,n=this.createElement("span",{className:"e-preview e-previous"}),t.appendChild(n),n.style.backgroundColor=i}},{key:"isPicker",value:function(){return!this.container.classList.contains("e-color-palette")}},{key:"getPopupEle",value:function(){return this.container.parentElement}},{key:"createNumericInput",value:function(e,t,n,i){var a=this,r=new eN({value:t,placeholder:n,min:0,max:i,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:function(e){e.event&&a.inputHandler(e.event)}});r.createElement=this.createElement,r.appendTo(e)}},{key:"createInput",value:function(){var e=this.isPicker(),t=this.getWrapper();if(e&&!t.classList.contains(mN)||!e&&t.classList.contains(wN)){var n=this.createElement("div",{className:vN});this.appendElement(n,e?2:1);var i=this.createElement("div",{className:"e-input-container"});if(n.appendChild(i),t.classList.contains("e-hide-valueswitcher")||this.appendValueSwitchBtn(n),!t.classList.contains(pN)){var a=this.createElement("input",{className:"e-hex",attrs:{maxlength:"7",spellcheck:"false"}});i.appendChild(a),pL.createInput({element:a,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),pL.setValue(this.value.slice(0,7),a),a.addEventListener("input",this.inputHandler.bind(this))}if(!t.classList.contains(fN)){var r,s;this.isRgb?(r="RGB",s=this.rgb):(r="HSV",s=this.hsv);for(var l=["rh","gs","bv"],o=0;o<3;o++)this.createNumericInput(i.appendChild(this.createElement("input",{className:"e-"+l[o]+"-value"})),s[o],r[o],255);this.enableOpacity&&this.appendOpacityValue(i)}}}},{key:"appendOpacityValue",value:function(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:kN})),100*this.rgb[3],"A",100)}},{key:"appendValueSwitchBtn",value:function(e){var t=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn e-value-switch-btn"});e.appendChild(t),this.isPicker()&&!this.getWrapper().classList.contains(fN)&&t.addEventListener("click",this.formatSwitchHandler.bind(this))}},{key:"createCtrlBtn",value:function(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);var e=this.createElement("div",{className:dN});if(this.container.appendChild(e),this.showButtons){var t=this.createElement("div",{className:"e-ctrl-btn"});e.appendChild(t);var n=this.l10n.getConstant("Apply");t.appendChild(this.createElement("button",{innerHTML:n,className:"e-btn e-css e-flat e-primary e-small e-apply",attrs:{title:n}}));var i=this.l10n.getConstant("Cancel");t.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-css e-flat e-small e-cancel",attrs:{title:i}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}}},{key:"appendModeSwitchBtn",value:function(){var e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+yN,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});eD("."+dN,this.container).insertBefore(e,eD(".e-ctrl-btn",this.container))}},{key:"createDragTooltip",value:function(){var e=this,t=new GP({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:function(t){e.tooltipEle=t.element},animation:{open:{effect:"None"},close:{effect:"None"}}});t.createElement=this.createElement,t.appendTo(this.container),t.open(this.container),this.tooltipEle.style.zIndex=XT(this.tooltipEle).toString(),eD(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))}},{key:"getTooltipInst",value:function(){return lI(this.container,GP)}},{key:"setTooltipOffset",value:function(e){this.getTooltipInst().offsetY=e}},{key:"toggleDisabled",value:function(e){e?this.getWrapper().classList.add("e-disabled"):this.getWrapper().classList.remove("e-disabled"),this.showButtons&&[].slice.call(tD(".e-btn",this.container)).forEach((function(t){e?QA(t,{disabled:""}):t.removeAttribute("disabled")}))}},{key:"convertToRgbString",value:function(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""}},{key:"convertToHsvString",value:function(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"}},{key:"updateHsv",value:function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()}},{key:"convertToOtherFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);var n=this.rgbToHex(this.rgb),i=this.convertToRgbString(this.rgb);this.updatePreview(i),this.updateInput(n),this.triggerEvent(n,t,i,e)}},{key:"updateInput",value:function(e){var t=this.getWrapper();t.classList.contains(mN)||(t.classList.contains(pN)||pL.setValue(e.substr(0,7),eD(".e-hex",this.container)),t.classList.contains(fN)||this.updateValue(this.isRgb?this.rgb:this.hsv,!1))}},{key:"updatePreview",value:function(e){this.enableOpacity&&this.updateOpacitySliderBg(),eD(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,eD("."+CN+" .e-current",this.container).style.backgroundColor=e,eD("."+CN+" .e-previous",this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))}},{key:"getDragHandler",value:function(){return eD(".e-handler",this.container)}},{key:"removeTileSelection",value:function(){[].slice.call(tD("."+_N,this.container.children[0])).forEach((function(e){e.classList.remove(_N),e.setAttribute("aria-selected","false")}))}},{key:"convertRgbToNumberArray",value:function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((function(e,t){return 3!==t?parseInt(e,10):parseFloat(e)}))}},{key:"getValue",value:function(e,t){if(e||(e=this.value),t=t?t.toLowerCase():"hex","r"===e[0]){var n=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){var i=this.rgbToHex(n);return"hex"===t?i.slice(0,7):i}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"null"}if("h"===e[0]){var a=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if("rgba"===t)return this.convertToRgbString(a);if("hex"===t||"hexa"===t){var r=this.rgbToHex(a);return"hex"===t?r.slice(0,7):r}return"rgb"===t?this.convertToRgbString(a.slice(0,3)):"null"}e=this.roundValue(e);var s=this.hexToRgb(e);return"rgb"!==t&&"hsv"!==t||(s=s.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(s):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,s)):"hex"===t?e.slice(0,7):"a"===t?s[3].toString():"null"}},{key:"toggle",value:function(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)}},{key:"getModuleName",value:function(){return"colorpicker"}},{key:"getPersistData",value:function(){return this.addOnPersist(["value"])}},{key:"wireEvents",value:function(){if(this.isPicker()){var e=this.getDragHandler();$I.add(e,"keydown",this.pickerKeyDown,this),$I.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),$I.add(eD(".e-previous",this.container),"click",this.previewHandler,this)}else $I.add(this.container,"click",this.paletteClickHandler,this),$I.add(this.container,"keydown",this.paletteKeyDown,this)}},{key:"formResetHandler",value:function(){this.value=this.initialInputValue,QA(this.element,{value:this.initialInputValue})}},{key:"addCtrlSwitchEvent",value:function(){$I.add(eD("."+dN,this.container),"click",this.btnClickHandler,this)}},{key:"pickerKeyDown",value:function(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:e.preventDefault();var t=this.rgbToHex(this.rgb);this.enterKeyHandler(t,e)}}},{key:"enterKeyHandler",value:function(e,t){this.triggerChangeEvent(e),this.inline||(this.closePopup(t),this.splitBtn.element.focus())}},{key:"closePopup",value:function(e){var t=this;this.trigger("beforeClose",{element:this.container,event:e,cancel:!1},(function(e){e.cancel||(t.splitBtn.toggle(),t.onPopupClose())}))}},{key:"triggerChangeEvent",value:function(e){var t=e.slice(0,7);this.trigger("change",{currentValue:{hex:t,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:t}),this.setProperties(this.enableOpacity?{value:e}:{value:t},!0),this.element.value=t||"#000000"}},{key:"handlerDragPosition",value:function(e,t,n){n.preventDefault(),this.hsv[e]+=t*(n.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0)}},{key:"handlerDown",value:function(e){e.preventDefault(),"mousedown"===e.type?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),$I.add(document,"mousemove touchmove",this.handlerMove,this),$I.add(document,"mouseup touchend",this.handlerEnd,this)}},{key:"handlerMove",value:function(e){var t,n;"touchmove"!==e.type&&e.preventDefault(),"mousemove"===e.type?(t=Math.abs(e.pageX-pageXOffset),n=Math.abs(e.pageY-pageYOffset)):(t=Math.abs(e.changedTouches[0].pageX-pageXOffset),n=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(t,n);var i=this.getDragHandler();parseInt(i.style.left,10),parseInt(i.style.top,10),this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(i),this.tooltipEle.style.transform||(Math.abs(this.clientX-t)>8||Math.abs(this.clientY-n)>8)&&(eD("."+gN,this.container).style.cursor="pointer",i.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",i.classList.add("e-hide-handler"))}},{key:"setHsv",value:function(e,t){var n=eD("."+gN,this.container),i=n.getBoundingClientRect();e=this.enableRtl?e>i.right?0:Math.abs(e-i.right):e>i.left?Math.abs(e-i.left):0,t=t>i.top?Math.abs(t-i.top):0,this.hsv[2]=Math.round(10*Number(100*(n.offsetHeight-Math.max(0,Math.min(n.offsetHeight,t-n.offsetTop)))/n.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(n.offsetWidth,e-n.offsetLeft))/n.offsetWidth))/10}},{key:"handlerEnd",value:function(e){"touchend"!==e.type&&e.preventDefault(),$I.remove(document,"mousemove touchmove",this.handlerMove),$I.remove(document,"mouseup touchend",this.handlerEnd);var t=this.getDragHandler();eD("."+gN,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",t.classList.remove("e-hide-handler")),this.inline||this.showButtons||this.closePopup(e)}},{key:"btnClickHandler",value:function(e){var t=e.target;nD(t,"."+yN)?(e.stopPropagation(),this.switchToPalette()):(t.classList.contains("e-apply")||t.classList.contains("e-cancel"))&&this.ctrlBtnClick(t,e)}},{key:"switchToPalette",value:function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),ZA(eD(".e-slider-preview",this.container)),this.getWrapper().classList.contains(mN)||JA(eD("."+vN,this.container)),ZA(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})}},{key:"refreshPopupPos",value:function(){if(!this.inline){var e=this.getPopupEle();e.style.left=aI(0+pageXOffset),e.style.top=aI(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}}},{key:"formatSwitchHandler",value:function(e){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)}},{key:"updateValue",value:function(e,t,n,i){for(var a,r=["e-rh-value","e-gs-value","e-bv-value"],s=0,l=r.length;s<l;s++)(a=lI(eD("."+r[s],this.container),eN)).value=Math.round(e[s]),t&&(a.placeholder=r[s].substr(n,1).toUpperCase(),a.max=i?i[s]:255),a.dataBind()}},{key:"previewHandler",value:function(e){var t=e.target,n=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(t.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);var i=this.rgbToHex(this.rgb),a=this.rgbToHsv.apply(this,this.rgb);a[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:a[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(a[0]),this.enableOpacity&&a[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*a[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=a,this.setHandlerPosition(),this.updateInput(i),eD("."+CN+" .e-current",this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(i,n,this.convertToRgbString(this.rgb))}},{key:"paletteClickHandler",value:function(e){e.preventDefault();var t=e.target;if(t.classList.contains(xN)){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(bN))this.noColorTile();else{var n=t.getAttribute("aria-label"),i=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(n)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(wN)&&this.updateInput(n),this.triggerEvent(n,i,this.convertToRgbString(this.rgb))}this.inline||this.showButtons||this.closePopup(e)}else nD(t,"."+yN)?this.switchToPicker():t.classList.contains("e-apply")||t.classList.contains("e-cancel")?this.ctrlBtnClick(t,e):this.getWrapper().classList.contains(wN)&&nD(t,".e-value-switch-btn")&&this.formatSwitchHandler(e)}},{key:"noColorTile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",t,"",e)}},{key:"switchToPicker",value:function(){var e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(tD(".e-palette",this.container)).forEach((function(e){ZA(e)})),e.classList.contains(wN)&&ZA(eD("."+vN,this.container)),this.container.style.width="";var t=eD(".e-custom-palette",this.container);this.presetColors&&JA(t),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})}},{key:"ctrlBtnClick",value:function(e,t){if(e.classList.contains("e-apply")){var n=this.rgbToHex(this.rgb);this.triggerChangeEvent(n)}this.inline||(this.closePopup(t),this.splitBtn.element.focus())}},{key:"paletteKeyDown",value:function(e){var t,n,i=e.target;if(i.classList.contains("e-palette")){var a=[].slice.call(tD("."+xN,i)),r=a.filter((function(e){return e.classList.contains("e-selected")})).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),t=r?a[this.tilePosition(a,r,this.enableRtl?-1:1)]:a[this.enableRtl?a.length-1:0],this.keySelectionChanges(t);break;case 37:e.preventDefault(),t=r?a[this.tilePosition(a,r,this.enableRtl?1:-1)]:a[this.enableRtl?0:a.length-1],this.keySelectionChanges(t);break;case 38:e.preventDefault(),t=a[n=r?this.tilePosition(a,r,-this.columns):0]?a[n]:a[n-this.columns],this.keySelectionChanges(t);break;case 40:e.preventDefault(),a[n=r?this.tilePosition(a,r,this.columns):a.length-1]?t=a[n]:(n%=a.length,t=a[n+=a[a.length-1].parentElement.childElementCount]),this.keySelectionChanges(t);break;case 13:if(e.preventDefault(),r){var s=r.getAttribute("aria-label");this.enterKeyHandler(s||"",e)}}}}},{key:"keySelectionChanges",value:function(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(bN))this.noColorTile(!0);else{var t=e.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(wN)&&this.updateInput(t),this.triggerEvent(t,n,this.convertToRgbString(this.rgb),!0)}}},{key:"tilePosition",value:function(e,t,n){var i=(e=Array.prototype.slice.call(e)).length,a=this.columns-e[i-1].parentElement.childElementCount,r=e.indexOf(t);return(r+=n)<0?r+=i+a:r%=i+a,r}},{key:"inputHandler",value:function(e){var t,n,i=e.target;if(i.value.length)switch(eD(".e-float-text",i.parentElement).textContent){case"HEX":var a="";if(("#"===i.value[0]&&5!==i.value.length||"#"!==i.value[0]&&4!==i.value.length)&&(a=this.roundValue(i.value)),9!==a.length)return;n=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(a+a.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),n,i.value);break;case"R":this.rgb[0]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[0]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"G":this.rgb[1]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[1]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"B":this.rgb[2]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[2]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"H":this.hueSlider.value=Number(i.value);break;case"S":this.hsv[1]!==Number(i.value)&&(this.hsv[1]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(i.value)&&(this.hsv[2]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(i.value)}}},{key:"inputValueChange",value:function(e,t,n){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;var i=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(n||i);var a=this.convertToRgbString(this.rgb);this.updatePreview(a),this.triggerEvent(i,t,a)}},{key:"triggerEvent",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.slice(0,7);this.showButtons||i?this.trigger("select",{currentValue:{hex:a,rgba:n},previousValue:{hex:t.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(t))}}):(this.trigger("change",{currentValue:{hex:a,rgba:n},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.setProperties({value:e},!0),this.element.value=a||"#000000")}},{key:"destroy",value:function(){var e=this,t=this.getWrapper();_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),["tabindex","spellcheck"].forEach((function(t){e.element.removeAttribute(t)})),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&ZA(this.element.nextElementSibling),t&&(t.parentElement.insertBefore(this.element,t),ZA(t)),this.container=null,this.formElement&&$I.remove(this.formElement,"reset",this.formResetHandler)}},{key:"destroyOtherComp",value:function(){if(this.isPicker()){this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;var e=this.getTooltipInst();e.close(),e.destroy(),this.tooltipEle=null}}},{key:"isPopupOpen",value:function(){return this.getPopupEle().classList.contains("e-popup-open")}},{key:"unWireEvents",value:function(){if(this.isPicker()){this.getWrapper();var e=this.getDragHandler();$I.remove(e,"keydown",this.pickerKeyDown),$I.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&$I.remove(eD("."+dN,this.container),"click",this.btnClickHandler),$I.remove(eD(".e-previous",this.container),"click",this.previewHandler)}else $I.remove(this.container,"click",this.paletteClickHandler),$I.remove(this.container,"keydown",this.paletteKeyDown)}},{key:"roundValue",value:function(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);var t=e.length;if(4===t&&(e+="f",t=5),5===t){for(var n="",i=1,a=e.length;i<a;i++)n+=e.charAt(i)+e.charAt(i);e="#"+n,t=9}return 7===t&&(e+="ff"),e}},{key:"hexToRgb",value:function(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));var t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);var n=parseInt(e,16),i=[];return i.push(n>>16&255),i.push(n>>8&255),i.push(255&n),i.push(t),i}},{key:"rgbToHsv",value:function(e,t,n,i){if(this.rgb&&!this.rgb.length)return[];e/=255,t/=255,n/=255;var a,r,s=Math.max(e,t,n),l=Math.min(e,t,n),o=s,u=s-l;if(r=0===s?0:u/s,s===l)a=0;else{switch(s){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}var c=[Math.round(360*a),Math.round(1e3*r)/10,Math.round(1e3*o)/10];return JO(i)||c.push(i),c}},{key:"hsvToRgb",value:function(e,t,n,i){var a,r,s,l,o,u,c,h;if(n/=100,0==(t/=100))return a=r=s=n,[Math.round(255*a),Math.round(255*r),Math.round(255*s),i];switch(u=n*(1-t),c=n*(1-t*(o=(e/=60)-(l=Math.floor(e)))),h=n*(1-t*(1-o)),l){case 0:a=n,r=h,s=u;break;case 1:a=c,r=n,s=u;break;case 2:a=u,r=n,s=h;break;case 3:a=u,r=c,s=n;break;case 4:a=h,r=u,s=n;break;default:a=n,r=u,s=c}var d=[Math.round(255*a),Math.round(255*r),Math.round(255*s)];return JO(i)||d.push(i),d}},{key:"rgbToHex",value:function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(JO(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""}},{key:"hex",value:function(e){return("0"+e.toString(16)).slice(-2)}},{key:"changeModeSwitcherProp",value:function(e){var t=eD("."+dN,this.container);e?t?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):t&&(this.showButtons?ZA(eD("."+yN,t)):JA(t))}},{key:"changeShowBtnProps",value:function(e){var t=eD("."+dN,this.container);e?(t&&JA(t),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?ZA(eD(".e-ctrl-btn",t)):JA(t)}},{key:"changeValueProp",value:function(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),ZA(nD(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();var t=eD('span[aria-label="'+this.roundValue(e)+'"]',this.container);t&&this.addTileSelection(t)}}},{key:"setInputEleProps",value:function(e){JA(eD("."+vN,this.container)),this.createInput()}},{key:"changeDisabledProp",value:function(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps(e)),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())}},{key:"changeCssClassProps",value:function(e,t){var n=this.getWrapper(),i=this.getPopupEle();t&&WA([n,i],t.split(" ")),e&&UA([n,i],e.split(" "))}},{key:"changeRtlProps",value:function(e){e?UA([this.getWrapper()],"e-rtl"):WA([this.getWrapper()],"e-rtl")}},{key:"changePaletteProps",value:function(){ZA(this.container.children[0]),this.container.style.width="",this.createPalette()}},{key:"changeOpacityProps",value:function(e){var t=this.getWrapper();e?(WA([this.container.parentElement],"e-hide-opacity"),this.createOpacitySlider(eD(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),t.classList.contains(mN)||t.classList.contains(fN)||this.appendOpacityValue(eD(".e-input-container",this.container))):(UA([this.container.parentElement],"e-hide-opacity"),this.opacitySlider.destroy(),JA(this.opacitySlider.element),this.opacitySlider=null,t.classList.contains(mN)||t.classList.contains(fN)||JA(eD("."+kN,this.container).parentElement))}},{key:"onPropertyChanged",value:function(e,t){var n=this;if(!JO(e.value)){var i=this.roundValue(e.value);if(9===i.length){this.element.value=this.roundValue(i).slice(0,7);var a=this.splitBtn&&eD(".e-split-preview",this.splitBtn.element);a&&(a.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)))}else this.value=t.value}if(!this.inline&&JO(e.inline)&&(this.splitBtn.setProperties(uL(e,["disabled","enableRtl"])),!this.isPopupOpen()))return this.changeCssClassProps(e.cssClass,t.cssClass),void this.changeRtlProps(e.enableRtl);for(var r=0,s=Object.keys(e);r<s.length;r++){var l=s[r];!function(){switch(l){case"inline":e.inline?(n.getWrapper().appendChild(n.container),n.splitBtn.destroy(),ZA(n.element.nextElementSibling),n.container.children.length||n.createWidget()):(n.destroyOtherComp(),n.unWireEvents(),n.container.innerHTML="",n.createSplitBtn());break;case"cssClass":n.changeCssClassProps(e.cssClass,t.cssClass);var i=e.cssClass.split(" ").concat(t.cssClass.split(" "));i=i.reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]);var a=0;i.forEach((function(e){0!==a||e!==mN&&"e-hide-valueswitcher"!==e&&e!==wN&&e!==pN&&e!==fN||(eD("."+vN,n.container)&&JA(eD("."+vN,n.container)),n.createInput(),a++)}));break;case"enableRtl":n.isPicker()&&(n.hueSlider.enableRtl=e.enableRtl,n.enableOpacity&&(n.opacitySlider.enableRtl=e.enableRtl),n.setInputEleProps(e.enableRtl)),n.changeRtlProps(e.enableRtl);break;case"disabled":n.changeDisabledProp(e.disabled);break;case"value":n.value!==t.value&&n.changeValueProp(e.value);break;case"showButtons":n.changeShowBtnProps(e.showButtons);break;case"mode":"Picker"===e.mode?n.switchToPicker():n.switchToPalette();break;case"modeSwitcher":n.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":n.isPicker()||n.changePaletteProps();break;case"noColor":e.noColor?"Palette"!==n.mode||n.modeSwitcher||n.setNoColor():n.changePaletteProps();break;case"enableOpacity":n.changeOpacityProps(e.enableOpacity)}}()}}},{key:"focusIn",value:function(){this.element.parentElement.focus()}}]),n}(zD),hN([bD("#008000ff")],DL.prototype,"value",void 0),hN([bD("")],DL.prototype,"cssClass",void 0),hN([bD(!1)],DL.prototype,"disabled",void 0),hN([bD("Picker")],DL.prototype,"mode",void 0),hN([bD(!0)],DL.prototype,"modeSwitcher",void 0),hN([bD(null)],DL.prototype,"presetColors",void 0),hN([bD(!0)],DL.prototype,"showButtons",void 0),hN([bD(10)],DL.prototype,"columns",void 0),hN([bD(!1)],DL.prototype,"inline",void 0),hN([bD(!1)],DL.prototype,"noColor",void 0),hN([bD(!1)],DL.prototype,"enablePersistence",void 0),hN([bD(!0)],DL.prototype,"enableOpacity",void 0),hN([wD()],DL.prototype,"select",void 0),hN([wD()],DL.prototype,"change",void 0),hN([wD()],DL.prototype,"beforeTileRender",void 0),hN([wD()],DL.prototype,"beforeOpen",void 0),hN([wD()],DL.prototype,"open",void 0),hN([wD()],DL.prototype,"beforeClose",void 0),hN([wD()],DL.prototype,"beforeModeSwitch",void 0),hN([wD()],DL.prototype,"onModeSwitch",void 0),hN([wD()],DL.prototype,"created",void 0),DL=hN([_D],DL)),ON=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},IN=["title","style","class"],AN=(ML=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).previousValue=null,a.isAngular=!1,a.isHiddenInput=!1,a.isForm=!1,a.inputPreviousValue=null,a.isVue=!1,a.textboxOptions=e,a}return _createClass(n,[{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"floatLabelType":pL.removeFloating(this.textboxWrapper),pL.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":pL.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":pL.setWidth(e.width,this.textboxWrapper.container);break;case"value":var a=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=a,pL.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&!0===this.preventChange?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(JO(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&JO(this.preventChange))&&this.raiseChangeEvent();break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkAttributes(!0);break;case"readonly":pL.setReadonly(this.readonly,this.respectiveElement);break;case"type":"TEXTAREA"!==this.respectiveElement.tagName&&(this.respectiveElement.setAttribute("type",this.type),this.raiseChangeEvent());break;case"showClearButton":"TEXTAREA"!==this.respectiveElement.tagName&&(pL.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent());break;case"enableRtl":pL.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":pL.setPlaceholder(this.placeholder,this.respectiveElement);break;case"autocomplete":"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"locale":this.globalize=new TI(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),pL.setPlaceholder(this.placeholder,this.respectiveElement)}}},{key:"getModuleName",value:function(){return"textbox"}},{key:"isBlank",value:function(e){return!e||/^\s*$/.test(e)}},{key:"preRender",value:function(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=nD(this.element,"form"),JO(this.formElement)||(this.isForm=!0),"EJS-TEXTBOX"===this.element.tagName){for(var e=YO("ej2_instances",this.element),t=this.createElement(this.multiline?"textarea":"input"),n=0;n<this.element.attributes.length;n++){var i=this.element.attributes[n].nodeName;"id"!==i&&(t.setAttribute(i,this.element.attributes[n].nodeValue),t.innerHTML=this.element.innerHTML,"name"===i&&this.element.removeAttribute("name"))}this.element.appendChild(t),this.element=t,GO("ej2_instances",e,this.element)}if(this.updateHTMLAttrToElement(),this.checkAttributes(!1),"TEXTAREA"!==this.element.tagName&&this.element.setAttribute("type",this.type),this.element.setAttribute("role","textbox"),this.globalize=new TI(this.locale),this.l10n=new tM("textbox",{placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",eI("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),"INPUT"===this.element.tagName&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role");for(var a=["required","minlength","maxlength"],r=0;r<a.length;r++)if(this.element.hasAttribute(a[r])){var s=this.element.getAttribute(a[r]);this.textarea.setAttribute(a[r],s),this.element.removeAttribute(a[r])}}}},{key:"checkAttributes",value:function(e){var t,n=_createForOfIteratorHelper(e?JO(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"]);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!JO(this.element.getAttribute(i)))switch(i){case"disabled":if(JO(this.textboxOptions)||void 0===this.textboxOptions.enabled||e){var a="disabled"!==this.element.getAttribute(i)&&""!==this.element.getAttribute(i)&&"true"!==this.element.getAttribute(i);this.setProperties({enabled:a},!e)}break;case"readonly":if(JO(this.textboxOptions)||void 0===this.textboxOptions.readonly||e){var r="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:r},!e)}break;case"placeholder":(JO(this.textboxOptions)||void 0===this.textboxOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"autocomplete":(JO(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||e)&&this.setProperties({autocomplete:"off"===this.element.autocomplete?"off":"on"},!e);break;case"value":(JO(this.textboxOptions)||void 0===this.textboxOptions.value||e)&&this.setProperties({value:this.element.value},!e);break;case"type":(JO(this.textboxOptions)||void 0===this.textboxOptions.type||e)&&this.setProperties({type:this.element.type},!e)}}}catch(s){n.e(s)}finally{n.f()}}},{key:"render",value:function(){var e=this.cssClass;JO(this.cssClass)||""===this.cssClass||(e=this.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=pL.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:e,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttrToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),JO(this.value)||(pL.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),JO(this.value)||(this.initialValue=this.value,this.setInitialValue()),"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:JO(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,pL.setWidth(this.width,this.textboxWrapper.container),this.renderComplete()}},{key:"updateHTMLAttrToWrapper",value:function(){if(!JO(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];if(IN.indexOf(n)>-1)if("class"===n){var i=this.getInputValidClassList(this.htmlAttributes[n]);""!==i&&UA([this.textboxWrapper.container],i.split(" "))}else if("style"===n){var a=this.textboxWrapper.container.getAttribute(n);a=JO(a)?this.htmlAttributes[n]:a+this.htmlAttributes[n],this.textboxWrapper.container.setAttribute(n,a)}else this.textboxWrapper.container.setAttribute(n,this.htmlAttributes[n])}}},{key:"updateHTMLAttrToElement",value:function(){if(!JO(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];IN.indexOf(n)<0&&this.element.setAttribute(n,this.htmlAttributes[n])}}},{key:"updateCssClass",value:function(e,t){pL.setCssClass(this.getInputValidClassList(e),[this.textboxWrapper.container],this.getInputValidClassList(t))}},{key:"getInputValidClassList",value:function(e){var t=e;return JO(e)||""===e||(t=e.replace(/\s+/g," ").trim()),t}},{key:"setInitialValue",value:function(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)}},{key:"wireEvents",value:function(){$I.add(this.respectiveElement,"focus",this.focusHandler,this),$I.add(this.respectiveElement,"blur",this.focusOutHandler,this),$I.add(this.respectiveElement,"input",this.inputHandler,this),$I.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&$I.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent()}},{key:"resetValue",value:function(e){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=e,this.isProtectedOnChange=t}},{key:"resetForm",value:function(){if(this.resetValue(this.isAngular?"":this.initialValue),!JO(this.textboxWrapper)){var e=this.textboxWrapper.container.querySelector(".e-float-text");JO(e)||(JO(this.initialValue)||""===this.initialValue?(e.classList.add("e-label-bottom"),e.classList.remove("e-label-top")):""!==this.initialValue&&(e.classList.add("e-label-top"),e.classList.remove("e-label-bottom")))}}},{key:"focusHandler",value:function(e){this.trigger("focus",{container:this.textboxWrapper.container,event:e,value:this.value})}},{key:"focusOutHandler",value:function(e){null===this.previousValue&&null===this.value&&""===this.respectiveElement.value||this.previousValue===this.respectiveElement.value||this.raiseChangeEvent(e,!0),this.trigger("blur",{container:this.textboxWrapper.container,event:e,value:this.value})}},{key:"inputHandler",value:function(e){var t={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(this.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",t),e.stopPropagation()}},{key:"changeHandler",value:function(e){this.setProperties({value:this.respectiveElement.value},!0),this.raiseChangeEvent(e,!0),e.stopPropagation()}},{key:"raiseChangeEvent",value:function(e,t){var n={event:e,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:t||!1,isInteracted:t||!1};this.preventChange=!1,this.trigger("change",n),this.previousValue=this.value}},{key:"bindClearEvent",value:function(){this.showClearButton&&"TEXTAREA"!==this.respectiveElement.tagName&&(this.enabled?$I.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):$I.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))}},{key:"resetInputHandler",value:function(e){e.preventDefault(),this.textboxWrapper.clearButton.classList.contains("e-clear-icon-hide")||(pL.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0),this.trigger("input",{event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container}),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(e,!0))}},{key:"unWireEvents",value:function(){$I.remove(this.respectiveElement,"focus",this.focusHandler),$I.remove(this.respectiveElement,"blur",this.focusOutHandler),$I.remove(this.respectiveElement,"input",this.inputHandler),$I.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&$I.remove(this.formElement,"reset",this.resetForm)}},{key:"destroy",value:function(){this.unWireEvents(),"INPUT"===this.element.tagName&&this.multiline&&(ZA(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-placeholder","aria-disabled","aria-readonly","aria-labelledby"]),JO(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),ZA(this.textboxWrapper.container)),this.textboxWrapper=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"addIcon",value:function(e,t){pL.addIcon(e,t,this.textboxWrapper.container,this.respectiveElement,this.createElement)}},{key:"getPersistData",value:function(){return this.addOnPersist(["value"])}},{key:"addAttributes",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];"disabled"===i?(this.setProperties({enabled:!1},!0),pL.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===i?(this.setProperties({readonly:!0},!0),pL.setReadonly(this.readonly,this.respectiveElement)):"class"===i?this.respectiveElement.classList.add(e[i]):"placeholder"===i?(this.setProperties({placeholder:e[i]},!0),pL.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.setAttribute(i,e[i])}}},{key:"removeAttributes",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;"disabled"===i?(this.setProperties({enabled:!0},!0),pL.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===i?(this.setProperties({readonly:!1},!0),pL.setReadonly(this.readonly,this.respectiveElement)):"placeholder"===i?(this.setProperties({placeholder:null},!0),pL.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(i)}}catch(a){n.e(a)}finally{n.f()}}},{key:"focusIn",value:function(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&UA([this.textboxWrapper.container],["e-input-focus"]))}},{key:"focusOut",value:function(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&WA([this.textboxWrapper.container],["e-input-focus"]))}}]),n}(zD),ON([bD("text")],ML.prototype,"type",void 0),ON([bD(!1)],ML.prototype,"readonly",void 0),ON([bD(null)],ML.prototype,"value",void 0),ON([bD("Never")],ML.prototype,"floatLabelType",void 0),ON([bD("")],ML.prototype,"cssClass",void 0),ON([bD(null)],ML.prototype,"placeholder",void 0),ON([bD("on")],ML.prototype,"autocomplete",void 0),ON([bD({})],ML.prototype,"htmlAttributes",void 0),ON([bD(!1)],ML.prototype,"multiline",void 0),ON([bD(!0)],ML.prototype,"enabled",void 0),ON([bD(!1)],ML.prototype,"showClearButton",void 0),ON([bD(!1)],ML.prototype,"enablePersistence",void 0),ON([bD(null)],ML.prototype,"width",void 0),ON([wD()],ML.prototype,"created",void 0),ON([wD()],ML.prototype,"destroyed",void 0),ON([wD()],ML.prototype,"change",void 0),ON([wD()],ML.prototype,"blur",void 0),ON([wD()],ML.prototype,"focus",void 0),ON([wD()],ML.prototype,"input",void 0),ML=ON([_D],ML)),DN=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},MN=(TL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"preRender",value:function(){this.browser=KI.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=KI.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=eI("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")}},{key:"render",value:function(){this.touchModule=new rM(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),$I.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()}},{key:"setScrollState",value:function(){JO(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0}},{key:"initialize",value:function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");var n,i=this.element,a=_createForOfIteratorHelper([].slice.call(i.children));try{for(a.s();!(n=a.n()).done;){var r=n.value;e.appendChild(r)}}catch(s){a.e(s)}finally{a.f()}t.appendChild(e),i.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e}},{key:"getPersistData",value:function(){return this.addOnPersist(["scrollStep"])}},{key:"getModuleName",value:function(){return"hScroll"}},{key:"destroy",value:function(){var e=this.element;e.style.display="",e.classList.remove("e-hscroll"),e.classList.remove("e-scroll-device");var t=tD(".e-"+e.id+"_nav.e-scroll-nav",e),i=tD(".e-scroll-overlay",e);[].slice.call(i).forEach((function(e){ZA(e)}));var a,r=_createForOfIteratorHelper([].slice.call(this.scrollItems.children));try{for(r.s();!(a=r.n()).done;){var s=a.value;e.appendChild(s)}}catch(l){r.e(l)}finally{r.f()}this.uniqueId&&this.element.removeAttribute("id"),ZA(this.scrollEle),t.length>0&&(ZA(t[0]),JO(t[1])||ZA(t[1])),$I.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"disable",value:function(e){var t=tD(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))}},{key:"createOverlay",value:function(e){var t=e.id.concat("_nav"),n=this.createElement("div",{className:"e-scroll-overlay e-scroll-right-overlay"}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),a=this.createElement("div",{id:t.concat("_right"),className:i}),r=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});a.appendChild(r);var s=this.createElement("div",{className:"e-scroll-overlay e-scroll-left-overlay"});this.ieCheck&&a.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(a),e.insertBefore(s,e.firstChild),this.eventBinding([a])}},{key:"createNavIcon",value:function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),i=this.createElement("div",{id:t.concat("_right"),className:n});i.setAttribute("aria-disabled","false");var a=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),s=this.createElement("div",{id:t.concat("_left"),className:r+" e-overlay"});s.setAttribute("aria-disabled","true");var l=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});s.appendChild(l),i.appendChild(a),e.appendChild(i),e.insertBefore(s,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),s.classList.add("e-ie-align")),this.eventBinding([i,s])}},{key:"onKeyPress",value:function(e){var t=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100))}},{key:"onKeyUp",value:function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}},{key:"eventBinding",value:function(e){var t=this;[].slice.call(e).forEach((function(e){new rM(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),$I.add(e,"click",t.clickEventHandler,t)}))}},{key:"repeatScroll",value:function(){clearInterval(this.timeout)}},{key:"tabHoldHandler",value:function(e){var t=this,n=e.originalEvent.target;n=this.contains(n,"e-scroll-nav")?n.firstElementChild:n,this.timeout=window.setInterval((function(){t.eleScrolling(10,n,!0)}),50)}},{key:"contains",value:function(e,t){return e.classList.contains(t)}},{key:"eleScrolling",value:function(e,t,n){var i=this.element,a=t.classList;a.contains("e-scroll-nav")&&(a=t.querySelector(".e-nav-arrow").classList),this.contains(i,"e-rtl")&&this.browserCheck&&(e=-e),!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?a.contains("e-nav-right-arrow")?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n):a.contains("e-nav-left-arrow")?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n)}},{key:"clickEventHandler",value:function(e){this.eleScrolling(this.scrollStep,e.target,!1)}},{key:"swipeHandler",value:function(e){var t,n=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var i=.5;!function a(){var r=Math.sin(i);r<=0?window.cancelAnimationFrame(r):("Left"===e.swipeDirection?n.scrollLeft+=t*r:"Right"===e.swipeDirection&&(n.scrollLeft-=t*r),i-=.5,window.requestAnimationFrame(a))}()}},{key:"scrollUpdating",value:function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e}},{key:"frameScrollRequest",value:function(e,t,n){var i=this;n?this.scrollUpdating(e,t):(this.customStep||[].slice.call(tD(".e-scroll-overlay",this.element)).forEach((function(t){e-=t.offsetWidth})),function n(){var a,r;i.contains(i.element,"e-rtl")&&i.browserCheck?(a=-e,r=-10):(a=e,r=10),a<10?window.cancelAnimationFrame(r):(i.scrollUpdating(r,t),e-=r,window.requestAnimationFrame(n))}())}},{key:"touchHandler",value:function(e){var t,n=this.scrollEle;t=e.distanceX,this.ieCheck&&this.contains(this.element,"e-rtl")&&(t=-t),"Left"===e.scrollDirection?n.scrollLeft=n.scrollLeft+t:"Right"===e.scrollDirection&&(n.scrollLeft=n.scrollLeft-t)}},{key:"arrowDisabling",value:function(e,t){if(this.isDevice){var n=(JO(e)?t:e).querySelector(".e-nav-arrow");JO(e)?aD(n,["e-nav-right-arrow"],["e-nav-left-arrow"]):aD(n,["e-nav-left-arrow"],["e-nav-right-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}},{key:"scrollHandler",value:function(e){var t=e.target,n=t.offsetWidth,i=this.element,a=this.element.querySelector(".e-scroll-left-nav"),r=this.element.querySelector(".e-scroll-right-nav"),s=this.element.querySelector(".e-scroll-left-overlay"),l=this.element.querySelector(".e-scroll-right-overlay"),o=t.scrollLeft;if(o<=0&&(o=-o),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(s=this.element.querySelector(".e-scroll-right-overlay"),l=this.element.querySelector(".e-scroll-left-overlay")),s.style.width=o<40?o+"px":"40px",l.style.width=t.scrollWidth-Math.ceil(n+o)<40?t.scrollWidth-Math.ceil(n+o)+"px":"40px"),0===o)!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(a,r):this.arrowDisabling(r,a);else if(Math.ceil(n+o+.1)>=t.scrollWidth)!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(r,a):this.arrowDisabling(a,r);else{var u=this.element.querySelector(".e-scroll-nav.e-overlay");u&&(u.classList.remove("e-overlay"),u.setAttribute("aria-disabled","false"),u.setAttribute("tabindex","0"))}}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}}]),n}(zD),DN([bD(null)],TL.prototype,"scrollStep",void 0),TL=DN([_D],TL)),TN=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},PN=(PL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"preRender",value:function(){this.browser=KI.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=KI.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=eI("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")}},{key:"render",value:function(){this.touchModule=new rM(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),$I.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),$I.add(this.element,"wheel",this.wheelEventHandler,this)}},{key:"setScrollState",value:function(){JO(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0}},{key:"initialize",value:function(){var e=qA("div",{className:"e-vscroll-content"}),t=qA("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");var n,i=this.element,a=_createForOfIteratorHelper([].slice.call(i.children));try{for(a.s();!(n=a.n()).done;){var r=n.value;e.appendChild(r)}}catch(s){a.e(s)}finally{a.f()}t.appendChild(e),i.appendChild(t),t.style.overflowY="hidden",this.scrollEle=t,this.scrollItems=e}},{key:"getPersistData",value:function(){return this.addOnPersist(["scrollStep"])}},{key:"getModuleName",value:function(){return"vScroll"}},{key:"destroy",value:function(){var e=this.element;e.style.display="",WA([this.element],["e-vscroll","e-scroll-device"]);var t=tD(".e-"+e.id+"_nav.e-scroll-nav",e),i=tD(".e-scroll-overlay",e);[].slice.call(i).forEach((function(e){ZA(e)}));var a,r=_createForOfIteratorHelper([].slice.call(this.scrollItems.children));try{for(r.s();!(a=r.n()).done;){var s=a.value;e.appendChild(s)}}catch(l){r.e(l)}finally{r.f()}this.uniqueId&&this.element.removeAttribute("id"),ZA(this.scrollEle),t.length>0&&(ZA(t[0]),JO(t[1])||ZA(t[1])),$I.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"disable",value:function(e){var t=tD(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))}},{key:"createOverlayElement",value:function(e){var t=e.id.concat("_nav"),n=qA("div",{className:"e-scroll-overlay e-scroll-down-overlay"}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),a=qA("div",{id:t.concat("down"),className:i}),r=qA("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});a.appendChild(r);var s=qA("div",{className:"e-scroll-overlay e-scroll-up-overlay"});this.ieCheck&&a.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(a),e.insertBefore(s,e.firstChild),this.eventBinding([a])}},{key:"createNavIcon",value:function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),i=qA("div",{id:t.concat("_down"),className:n});i.setAttribute("aria-disabled","false");var a=qA("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),s=qA("div",{id:t.concat("_up"),className:r+" e-overlay"});s.setAttribute("aria-disabled","true");var l=qA("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});s.appendChild(l),i.appendChild(a),i.setAttribute("tabindex","0"),e.appendChild(i),e.insertBefore(s,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),s.classList.add("e-ie-align")),this.eventBinding([i,s])}},{key:"onKeyPress",value:function(e){var t=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100))}},{key:"onKeyUp",value:function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}},{key:"eventBinding",value:function(e){var t=this;[].slice.call(e).forEach((function(e){new rM(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),$I.add(e,"click",t.clickEventHandler,t)}))}},{key:"repeatScroll",value:function(){clearInterval(this.timeout)}},{key:"tabHoldHandler",value:function(e){var t=this,n=e.originalEvent.target;n=this.contains(n,"e-scroll-nav")?n.firstElementChild:n,this.timeout=window.setInterval((function(){t.eleScrolling(10,n,!0)}),50)}},{key:"contains",value:function(e,t){return e.classList.contains(t)}},{key:"eleScrolling",value:function(e,t,n){var i=t.classList;i.contains("e-scroll-nav")&&(i=t.querySelector(".e-nav-arrow").classList),i.contains("e-nav-down-arrow")?this.frameScrollRequest(e,"add",n):i.contains("e-nav-up-arrow")&&this.frameScrollRequest(e,"",n)}},{key:"clickEventHandler",value:function(e){this.eleScrolling(this.scrollStep,e.target,!1)}},{key:"wheelEventHandler",value:function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)}},{key:"swipeHandler",value:function(e){var t,n=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var i=.5;!function a(){var r=Math.sin(i);r<=0?window.cancelAnimationFrame(r):("Up"===e.swipeDirection?n.scrollTop+=t*r:"Down"===e.swipeDirection&&(n.scrollTop-=t*r),i-=.02,window.requestAnimationFrame(a))}()}},{key:"scrollUpdating",value:function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e}},{key:"frameScrollRequest",value:function(e,t,n){var i=this;n?this.scrollUpdating(e,t):(this.customStep||[].slice.call(tD(".e-scroll-overlay",this.element)).forEach((function(t){e-=t.offsetHeight})),function n(){e<10?window.cancelAnimationFrame(10):(i.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(n))}())}},{key:"touchHandler",value:function(e){var t,n=this.scrollEle;t=e.distanceY,"Up"===e.scrollDirection?n.scrollTop=n.scrollTop+t:"Down"===e.scrollDirection&&(n.scrollTop=n.scrollTop-t)}},{key:"arrowDisabling",value:function(e,t){if(this.isDevice){var n=(JO(e)?t:e).querySelector(".e-nav-arrow");JO(e)?aD(n,["e-nav-down-arrow"],["e-nav-up-arrow"]):aD(n,["e-nav-up-arrow"],["e-nav-down-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}},{key:"scrollEventHandler",value:function(e){var t=e.target,n=t.offsetHeight,i=this.element.querySelector(".e-scroll-up-nav"),a=this.element.querySelector(".e-scroll-down-nav"),r=this.element.querySelector(".e-scroll-up-overlay"),s=this.element.querySelector(".e-scroll-down-overlay"),l=t.scrollTop;if(l<=0&&(l=-l),this.isDevice&&(r.style.height=l<40?l+"px":"40px",s.style.height=t.scrollHeight-Math.ceil(n+l)<40?t.scrollHeight-Math.ceil(n+l)+"px":"40px"),0===l)this.arrowDisabling(i,a);else if(Math.ceil(n+l+.1)>=t.scrollHeight)this.arrowDisabling(a,i);else{var o=this.element.querySelector(".e-scroll-nav.e-overlay");o&&(o.classList.remove("e-overlay"),o.setAttribute("aria-disabled","false"),o.setAttribute("tabindex","0"))}}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}}]),n}(zD),TN([bD(null)],PL.prototype,"scrollStep",void 0),PL=TN([_D],PL)),LN=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},NN="e-focused",RN="e-menu-header",FN="e-selected",HN="e-menu-item",BN="e-menu-hide",VN="e-menu-popup",jN=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD);return LN([bD("id")],e.prototype,"itemId",void 0),LN([bD("parentId")],e.prototype,"parentId",void 0),LN([bD("text")],e.prototype,"text",void 0),LN([bD("iconCss")],e.prototype,"iconCss",void 0),LN([bD("url")],e.prototype,"url",void 0),LN([bD("separator")],e.prototype,"separator",void 0),LN([bD("items")],e.prototype,"children",void 0),e}(),zN=(RL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),LN([bD(null)],RL.prototype,"iconCss",void 0),LN([bD("")],RL.prototype,"id",void 0),LN([bD(!1)],RL.prototype,"separator",void 0),LN([CD([],RL)],RL.prototype,"items",void 0),LN([bD("")],RL.prototype,"text",void 0),LN([bD("")],RL.prototype,"url",void 0),RL),qN=(NL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),LN([bD("SlideDown")],NL.prototype,"effect",void 0),LN([bD(400)],NL.prototype,"duration",void 0),LN([bD("ease")],NL.prototype,"easing",void 0),NL),UN=(LL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).navIdx=[],a.animation=new ID({}),a.isTapHold=!1,a.tempItem=[],a}return _createClass(n,[{key:"preRender",value:function(){if(!this.isMenu){var e;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:eI(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});var t=YO("ej2_instances",this.element);WA([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,GO("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:eI(this.getModuleName())}),KA([].slice.call(this.element.cloneNode(!0).children),e);var n=this.element.nextElementSibling;n?this.element.parentElement.insertBefore(e,n):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){for(var i=this.element,a=YO("ej2_instances",i),r=this.createElement("ul"),s=this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"}),l=0,o=i.attributes.length;l<o;l++)r.setAttribute(i.attributes[l].nodeName,i.attributes[l].nodeValue);i.parentNode.insertBefore(s,i),ZA(i),i=r,s.appendChild(i),GO("ej2_instances",a,i),this.clonedElement=s,this.element=i,this.element.id||(this.element.id=eI(this.getModuleName()))}}},{key:"render",value:function(){this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete()}},{key:"initialize",value:function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&UA([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e))}},{key:"renderItems",value:function(){if(!this.items.length){var e=BM.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),this.element.innerHTML=""}var t=this.createItems(this.items);if(KA(Array.prototype.slice.call(t.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu){var n=this.getWrapper();this.element.classList.contains("e-vertical")?this.addScrolling(n,this.element,"vscroll",n.offsetHeight,this.element.offsetHeight):this.addScrolling(n,this.element,"hscroll",n.offsetWidth,this.element.offsetWidth)}}},{key:"wireEvents",value:function(){var e=this.getWrapper();if(this.target){for(var t,n=tD(this.target),i=0,a=n.length;i<a;i++)t=n[i],this.isMenu?$I.add(t,"click",this.menuHeaderClickHandler,this):KI.isIos?new rM(t,{tapHold:this.touchHandler.bind(this)}):$I.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){$I.add(this.targetElement,"scroll",this.scrollHandler,this);var r,s=_createForOfIteratorHelper(GT(this.targetElement));try{for(s.s();!(r=s.n()).done;){var l=r.value;$I.add(l,"scroll",this.scrollHandler,this)}}catch(o){s.e(o)}finally{s.f()}}}KI.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),$I.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),$I.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),$I.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=AD(e,{selector:"."+HN})}},{key:"wireKeyboardEvent",value:function(e){var t={downarrow:"downarrow",uparrow:"uparrow",enter:"enter",leftarrow:"leftarrow",rightarrow:"rightarrow",escape:"escape"};this.isMenu&&(t.home="home",t.end="end"),new eM(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})}},{key:"mouseDownHandler",value:function(e){nD(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||nD(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.isMenu?null:this.navIdx.length,e)}},{key:"keyBoardHandler",value:function(e){var t="",n=e.target,i=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&n.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([NN,FN],[nD(n,".e-"+this.getModuleName()+"-wrapper")]),i)switch(e.action){case"rightarrow":t="rightarrow",e.action="downarrow";break;case"leftarrow":t="leftarrow",e.action="uparrow";break;case"downarrow":t="downarrow",e.action="rightarrow";break;case"uparrow":t="uparrow",e.action=""}else if(this.enableRtl)switch(e.action){case"leftarrow":i=!0,t="leftarrow",e.action="rightarrow";break;case"rightarrow":i=!0,t="rightarrow",e.action="leftarrow"}switch(e.action){case"downarrow":case"uparrow":case"end":case"home":this.upDownKeyHandler(e);break;case"rightarrow":this.rightEnterKeyHandler(e);break;case"leftarrow":this.leftEscKeyHandler(e);break;case"enter":this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case"escape":this.leftEscKeyHandler(e)}i&&(e.action=t)}},{key:"upDownKeyHandler",value:function(e){var t=this.getUlByNavIdx(),n="downarrow"===e.action||"home"===e.action?0:t.childElementCount-1,i=n,a=this.getLIByClass(t,NN);a&&("end"!==e.action&&"home"!==e.action&&(i=this.getIdx(t,a)),a.classList.remove(NN),"end"!==e.action&&"home"!==e.action&&("downarrow"===e.action?i++:i--,i===("downarrow"===e.action?t.childElementCount:-1)&&(i=n))),i=this.isValidLI(t.children[i],i,e.action),t.children[i].classList.add(NN),t.children[i].focus()}},{key:"isValidLI",value:function(e,t,n){this.getWrapper();var i=this.getUlByNavIdx();return(e.classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(BN))&&("downarrow"===n||"rightarrow"===n?t++:t--),((e=i.children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(BN))&&(t=this.isValidLI(e,t,n)),t}},{key:"getUlByNavIdx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.navIdx.length;if(this.isMenu){var t=[this.getWrapper()].concat([].slice.call(tD("."+VN)))[e];return JO(t)?null:eD(".e-menu-parent",t)}return this.getWrapper().children[e]}},{key:"rightEnterKeyHandler",value:function(e){var t,n=this.getUlByNavIdx(),i=this.getLIByClass(n,NN);if(i){var a=this.getIdx(n,i),r=this.navIdx.concat(a),s=this.getItem(r);s.items.length?(this.navIdx.push(a),this.keyType="right",this.action=e.action,this.openMenu(i,s,-1,-1,e)):"enter"===e.action&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([FN],[this.getWrapper()]):i.classList.remove(NN),i.classList.add(FN),t={element:i,item:s,event:e},this.trigger("select",t),this.closeMenu(null,e))}}},{key:"leftEscKeyHandler",value:function(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):"escape"===e.action&&this.closeMenu(null,e)}},{key:"scrollHandler",value:function(e){this.closeMenu(null,e)}},{key:"touchHandler",value:function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)}},{key:"cmenuHandler",value:function(e){e.preventDefault(),this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)}},{key:"closeMenu",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isMenuVisible()){var i,a,r,s,l,o=this.getWrapper(),u=this.getPopups(),c=!1,h=this.isMenu?u.length+1:o.childElementCount;a=this.isMenu&&1!==h?eD(".e-ul",u[h-2]):tD(".e-menu-parent",o)[h-1],this.isMenu&&a.classList.contains("e-menu")&&((i=this.getLIByClass(a,FN))&&i.classList.remove(FN),c=!0),c||(r=this.navIdx.length?this.getItem(this.navIdx):null,s=r?r.items:this.items,l={element:a,parentItem:r,items:s,event:n,cancel:!1},this.trigger("beforeClose",l,(function(i){var l,o,u,c,h,d,p="",f=!i.cancel;(f||e.isCMenu)&&(e.isMenu?(l=nD(a,"."+VN),e.hamburgerMode&&(l.parentElement.style.minHeight=""),e.unWireKeyboardEvent(l),e.destroyScrollObj(lI(l.children[0],PN),l.children[0]),(u=lI(l,YT)).hide(),p=l.id,u.destroy(),ZA(l)):e.toggleAnimation(a,!1),o={element:a,parentItem:r,items:s},e.trigger("onClose",o),e.navIdx.pop());var m=e.getWrapper()&&e.getUlByNavIdx(),g=n&&n.target&&e.getLI(n.target);e.isCMenu&&(e.canOpen(n.target)&&e.openMenu(null,null,e.pageY,e.pageX,n),e.isCMenu=!1),e.isMenu&&m&&p.length&&(c=new RegExp("(.*)-ej2menu-"+e.element.id+"-popup").exec(p)[1],h=m.querySelector('[id="'+c+'"]'),d=g&&m.querySelector('[id="'+g.id+'"]'));var v=g&&g.querySelectorAll(".e-menu-item");if(f&&e.hamburgerMode&&t&&!v.length)e.afterCloseMenu(n);else if(f&&!e.hamburgerMode&&e.navIdx.length&&h&&!d)e.closeMenu(e.navIdx[e.navIdx.length-1],n);else if(f&&!t&&(e.hamburgerMode&&e.navIdx.length||1===e.navIdx.length))e.closeMenu(null,n);else if(f&&JO(t)&&e.navIdx.length)e.closeMenu(null,n);else if(!f||e.isMenu||t||0!==e.navIdx.length||e.isMenusClosed)if(f&&e.isMenu&&n&&n.target&&0!==e.navIdx.length&&nD(n.target,".e-menu-parent.e-control"))e.closeMenu(0,n);else if(!f||"right"!==e.keyType&&"click"!==e.keyType){var y=e.getUlByNavIdx(),b=e.getLIByClass(y,FN);b&&(b.setAttribute("aria-expanded","false"),b.classList.remove(FN),g&&(b.classList.add(NN),b.focus()))}else e.afterCloseMenu(n);else e.isMenusClosed=!0,e.closeMenu(0,n);e.removeStateWrapper()})))}}},{key:"destroyScrollObj",value:function(e,t){e&&(e.destroy(),t.parentElement.appendChild(eD(".e-menu-parent",t)),ZA(t))}},{key:"getPopups",value:function(){var e=this,t=[];return[].slice.call(document.querySelectorAll("."+VN)).forEach((function(n){e.getIndex(n.querySelector("."+HN).id,!0).length&&t.push(n)})),t}},{key:"isMenuVisible",value:function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&GA(this.element).valueOf()}},{key:"canOpen",value:function(e){var t=!0;if(this.filter){t=!1;for(var n=this.filter.split(" "),i=0,a=n.length;i<a;i++)if(nD(e,"."+n[i])){t=!0;break}}return t}},{key:"openMenu",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.targetElement,s=this.getWrapper();this.lItem=e;var l=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,JO(n)&&(n=-1),JO(i)&&(i=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&KI.isDevice){s.lastChild.style.display="none";var o={text:t[this.getField("text")].toString(),iconCss:"e-icons e-previous"},u=new zN(this.items[0],"items",o,!0),c=this.createItems([u]).children[0];c.classList.add(RN),this.uList.insertBefore(c,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+VN,id:e.id+"-ej2menu-"+l+"-popup"}),this.hamburgerMode?(n=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&UA([this.popupWrapper],this.cssClass.split(" ")),this.popupObj.hide()),this.triggerBeforeOpen(e,this.uList,t,a,0,0,"menu")):(this.uList.style.zIndex=this.element.style.zIndex,s.appendChild(this.uList),this.triggerBeforeOpen(e,this.uList,t,a,n,i,"none"))}else this.uList=this.element,this.uList.style.zIndex=XT(r||this.element).toString(),this.triggerBeforeOpen(e,this.uList,t,a,n,i,"none")}},{key:"calculateIndentSize",value:function(e,t){var n=getComputedStyle(t),i=parseInt(n.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?i*=2:i+=i/4,e.style.textIndent=i+"px";var a=e.querySelectorAll(".e-blankicon");if(a&&a.length)for(var r=e.querySelector(".e-menu-icon"),s=getComputedStyle(r),l=parseInt(s.marginRight,10)+r.offsetWidth+i,o=0;o<a.length;o++)a[o].style.textIndent=l+"px"}},{key:"generatePopup",value:function(e,t,n,i){var a=this,r=new YT(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:n,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:i||this.enableRtl?"none":"flip",Y:"fit"},position:i&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:function(){var e=eD(".e-menu-vscroll",r.element);e&&(e.style.height="inherit",e.style.maxHeight="");var t=eD(".e-ul",r.element);r.element.style.maxHeight="",t.focus(),a.triggerOpen(t)}});return r}},{key:"createHeaderContainer",value:function(e){e=e||this.getWrapper();var t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),n=this.enableHtmlSanitizer?uM.sanitize(this.title):this.title,i=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:n}),a=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(i),t.appendChild(a),e.insertBefore(t,this.element)}},{key:"openHamburgerMenu",value:function(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")}},{key:"closeHamburgerMenu",value:function(e){var t,n=this;this.hamburgerMode&&(t={element:this.element,parentItem:null,event:e,items:this.items,cancel:!1},this.trigger("beforeClose",t,(function(t){t.cancel||(n.closeMenu(null,e),n.element.classList.add("e-hide-menu"),n.trigger("onClose",{element:n.element,parentItem:null,items:n.items}))})))}},{key:"callFit",value:function(e,t,n,i,a){return ST(e,null,{X:t,Y:n},{top:i,left:a})}},{key:"triggerBeforeOpen",value:function(e,t,n,i,a,r,s){var l=this;this.getIndex(e?e.id:null,!0);var o=e?n[this.getField("children",this.navIdx.length-1)]:this.items,u=s;this.trigger("beforeOpen",{element:t,items:o,parentItem:n,event:i,cancel:!1,top:a,left:r},(function(t){switch(u){case"menu":var a;if(l.hamburgerMode||(l.top=t.top,l.left=t.left),l.popupWrapper.style.display="block",l.hamburgerMode||(l.popupWrapper.style.maxHeight=l.popupWrapper.getBoundingClientRect().height+"px",l.addScrolling(l.popupWrapper,l.uList,"vscroll",l.popupWrapper.offsetHeight,l.uList.offsetHeight),l.checkScrollOffset(i)),l.hamburgerMode||l.left||l.top)l.popupObj.collision={X:"none",Y:"none"};else{if(l.popupObj.refreshPosition(l.lItem,!0),l.left=parseInt(l.popupWrapper.style.left,10),l.top=parseInt(l.popupWrapper.style.top,10),l.enableRtl&&(l.left=l.isNestedOrVertical?l.left-l.popupWrapper.offsetWidth-l.lItem.parentElement.offsetWidth+2:l.left-l.popupWrapper.offsetWidth+l.lItem.offsetWidth),a=ET(l.popupWrapper,null,l.left,l.top),(l.isNestedOrVertical||l.enableRtl)&&(a.indexOf("right")>-1||a.indexOf("left")>-1)){l.popupObj.collision.X="none";var r=nD(l.lItem,".e-"+l.getModuleName()+"-wrapper").offsetWidth;l.left=l.enableRtl?fT(l.lItem,l.isNestedOrVertical?"right":"left","top").left:l.left-l.popupWrapper.offsetWidth-r+2}((a=ET(l.popupWrapper,null,l.left,l.top)).indexOf("left")>-1||a.indexOf("right")>-1)&&(l.left=l.callFit(l.popupWrapper,!0,!1,l.top,l.left).left),l.popupWrapper.style.left=l.left+"px"}l.popupWrapper.style.display="";break;case"none":l.top=t.top,l.left=t.left;break;case"hamburger":t.cancel||(l.element.classList.remove("e-hide-menu"),l.triggerOpen(l.element))}if("hamburger"!==u&&(t.cancel?(l.isMenu&&(l.popupObj.destroy(),ZA(l.popupWrapper)),l.navIdx.pop()):l.isMenu?l.hamburgerMode?(l.popupWrapper.style.top=l.top+"px",l.popupWrapper.style.left="0px",l.toggleAnimation(l.popupWrapper)):(l.wireKeyboardEvent(l.popupWrapper),AD(l.popupWrapper,{selector:"."+HN}),l.popupWrapper.style.left=l.left+"px",l.popupWrapper.style.top=l.top+"px",l.popupObj.show("None"!==l.animationSettings.effect?{name:l.animationSettings.effect,duration:l.animationSettings.duration,timingFunction:l.animationSettings.easing}:null,l.lItem)):(l.setPosition(l.lItem,l.uList,l.top,l.left),l.toggleAnimation(l.uList))),"right"===l.keyType){var s=l.getUlByNavIdx();e.classList.remove(NN),l.isMenu&&1===l.navIdx.length&&l.removeLIStateByClass([FN],[l.getWrapper()]),e.classList.add(FN),"enter"===l.action&&l.trigger("select",{element:e,item:n,event:i}),e.focus(),s=l.getUlByNavIdx();var o=l.isValidLI(s.children[0],0,l.action);s.children[o].classList.add(NN),s.children[o].focus()}}))}},{key:"checkScrollOffset",value:function(e){var t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var n,i,a=JO(e)?this.element:nD(e.target,"."+HN),r=eD(".e-hscroll-bar",t);r.scrollLeft>a.offsetLeft&&(r.scrollLeft-=r.scrollLeft-a.offsetLeft),(n=r.scrollLeft+r.offsetWidth)<(i=a.offsetLeft+a.offsetWidth)&&(r.scrollLeft+=i-n)}}},{key:"addScrolling",value:function(e,t,n,i,a){if(this.enableScrolling&&i<a){var r=this.createElement("div",{className:"e-menu-"+n});e.appendChild(r),r.appendChild(t),r.style.maxHeight=e.style.maxHeight,e.style.overflow="hidden","vscroll"===n?new PN({enableRtl:this.enableRtl},r).scrollStep=eD(".e-"+n+"-bar",e).offsetHeight/2:new MN({enableRtl:this.enableRtl},r).scrollStep=eD(".e-"+n+"-bar",e).offsetWidth}}},{key:"setPosition",value:function(e,t,n,i){if(this.toggleVisiblity(t),t===this.element||i>-1&&n>-1){var a=ET(t,null,i,n);a.indexOf("right")>-1&&(i-=t.offsetWidth),a.indexOf("bottom")>-1&&(n=this.callFit(t,!1,!0,n,i).top-20),(a=ET(t,null,i,n)).indexOf("left")>-1&&(i=this.callFit(t,!0,!1,n,i).left)}else if(KI.isDevice)n=Number(this.element.style.top.replace("px","")),i=Number(this.element.style.left.replace("px",""));else{var r=fT(e,this.enableRtl?"left":"right","top");i=r.left;var s=ET(t,null,this.enableRtl?i-t.offsetWidth:i,n=r.top),l=s.indexOf("left")>-1||s.indexOf("right")>-1;l&&(i=(r=fT(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||l)&&(i=this.enableRtl&&l?i:i-t.offsetWidth),s.indexOf("bottom")>-1&&(n=(r=this.callFit(t,!1,!0,n,i)).top)}this.toggleVisiblity(t,!1),t.style.top=n+"px",t.style.left=i+"px"}},{key:"toggleVisiblity",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"}},{key:"createItems",value:function(e){var t=this,n=this.navIdx?this.navIdx.length:0,i=this.getFields(n),a=this.hasField(e,this.getField("iconCss",n)),r={showIcon:a,moduleName:"menu",fields:i,template:this.template,itemNavigable:!0,itemCreating:function(e){e.curData[e.fields[i.id]]||(e.curData[e.fields[i.id]]=eI("menuitem")),e.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},t.isMenu&&!e.curData[t.getField("separator",n)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text]),""===e.curData[e.fields[i.iconCss]]&&(e.curData[e.fields[i.iconCss]]=null)},itemCreated:function(e){if(e.curData[t.getField("separator",n)]&&(e.item.classList.add("e-separator"),e.item.removeAttribute("role")),!a||e.curData[e.fields.iconCss]||e.curData[t.getField("separator",n)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){var i=t.createElement("span",{className:"e-icons e-caret"});e.item.appendChild(i),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),t.isMenu||e.item.removeAttribute("role"),e.item.classList.add("e-menu-caret-icon")}t.isMenu&&t.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"),e.item.classList.contains("e-level-1")&&e.item.classList.remove("e-level-1"),e.item.classList.contains("e-has-child")&&e.item.classList.remove("e-has-child")),t.trigger("beforeItemRender",{item:e.curData,element:e.item})}};this.setProperties({items:this.items},!0),this.isMenu&&(r.templateID=this.element.id+"Template");var s=BM.createList(this.createElement,e,r,!this.template);return s.setAttribute("tabindex","0"),this.isMenu&&s.setAttribute("role","menu"),s}},{key:"moverHandler",value:function(e){var t=e.target;this.liTrgt=t;var n=this.getLI(t),i=n?nD(n,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),a=this.getWrapper(),r=new RegExp("-ej2menu-(.*)-popup"),s=!1;if(i){if((""!==i.id?r.exec(i.id)[1]:i.querySelector("ul").id)!==this.element.id){if(this.removeLIStateByClass([NN,FN],[this.getWrapper()]),!this.navIdx.length)return;s=!0}n&&nD(n,".e-"+this.getModuleName()+"-wrapper")&&!s?(this.removeLIStateByClass([NN],this.isMenu?[i].concat(this.getPopups()):[i]),this.removeLIStateByClass([NN],this.isMenu?[a].concat(this.getPopups()):[a]),n.classList.add(NN),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!s&&this.removeLIStateByClass([NN],[i].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===i||nD(t,".e-"+this.getModuleName()+"-popup")||n&&(!n||this.getIndex(n.id,!0).length)?s&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([NN],[i]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}}},{key:"removeStateWrapper",value:function(){if(this.liTrgt){var e=nD(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([NN,FN],[e])}}},{key:"removeLIStateByClass",value:function(e,t){for(var n,i=function(i){e.forEach((function(e){(n=eD("."+e,t[i]))&&n.classList.remove(e)}))},a=0;a<t.length;a++)i(a)}},{key:"getField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.fields[e];return"string"==typeof n?n:n[t]?n[t].toString():n[n.length-1].toString()}},{key:"getFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}}},{key:"hasField",value:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n][t])return!0;return!1}},{key:"menuHeaderClickHandler",value:function(e){nD(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.classList.contains("e-hide-menu")?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))}},{key:"clickHandler",value:function(e){if(this.isTapHold)this.isTapHold=!1;else{var t,n=this.getWrapper(),i=e.target,a=this.cli=this.getLI(i),r=new RegExp("-ej2menu-(.*)-popup"),s=a?nD(a,".e-"+this.getModuleName()+"-wrapper"):null,l=a&&s&&(this.isMenu?this.getIndex(a.id,!0).length>0:n.firstElementChild.id===s.firstElementChild.id);if(KI.isDevice&&this.isMenu&&(this.removeLIStateByClass([NN],[n].concat(this.getPopups())),this.mouseDownHandler(e)),a&&s&&this.isMenu){var o=s.id?r.exec(s.id)[1]:s.querySelector(".e-menu-parent").id;if(this.element.id!==o)return}if(l&&"click"===e.type&&!a.classList.contains(RN)){this.setLISelected(a);var u=this.getIndex(a.id,!0),c=this.getItem(u);this.trigger("select",{element:a,item:c,event:e})}if(l&&("mouseover"===e.type||KI.isDevice||this.showItemOnClick)){if(a.classList.contains(RN)){t=n.children[this.navIdx.length-1],this.toggleAnimation(t);var h=this.getLIByClass(t,FN);h&&h.classList.remove(FN),ZA(a.parentNode),this.navIdx.pop()}else if(!a.classList.contains("e-separator")){this.showSubMenu=!0;var d=a.parentNode;if(this.cliIdx=this.getIdx(d,a),this.isMenu||!KI.isDevice){var p=this.isMenu?Array.prototype.indexOf.call([n].concat(this.getPopups()),nD(d,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(n,d);if(this.navIdx[p]===this.cliIdx&&(this.showSubMenu=!1),p!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu)){var f=this.getLIByClass(d,FN);f&&f.classList.remove(FN),this.isClosed=!0,this.keyType="click",this.closeMenu(p+1,e),this.setLISelected(a)}}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===i.tagName&&this.navIdx.length&&nD(i,".e-menu-vscroll")){var m=nD(i,"."+VN),g=Array.prototype.indexOf.call(this.getPopups(),m)+1;g<this.navIdx.length&&(this.closeMenu(g+1,e),this.removeLIStateByClass([NN,FN],[m]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):"UL"===i.tagName&&(this.isMenu?!i.parentElement.classList.contains("e-menu-wrapper")||this.getIndex(i.querySelector("."+HN).id,!0).length:i.parentElement===n)||(a||this.removeLIStateByClass([FN],[n]),a&&a.querySelector(".e-caret")||this.closeMenu(null,e))}}},{key:"afterCloseMenu",value:function(e){if(this.showSubMenu){var t=this.navIdx.concat(this.cliIdx),n=this.getItem(t);n&&n[this.getField("children",t.length-1)]&&n[this.getField("children",t.length-1)].length?(("mouseover"===e.type||KI.isDevice&&this.isMenu)&&this.setLISelected(this.cli),this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,n,null,null,e)):"mouseover"!==e.type&&this.closeMenu(null,e)}this.keyType=""}},{key:"setLISelected",value:function(e){var t=this.getLIByClass(e.parentElement,FN);t&&t.classList.remove(FN),this.isMenu||e.classList.remove(NN),e.classList.add(FN)}},{key:"getLIByClass",value:function(e,t){for(var n=0,i=e.children.length;n<i;n++)if(e.children[n].classList.contains(t))return e.children[n];return null}},{key:"getItemIndex",value:function(e,t){var n;return n="string"==typeof e?e:e.id,this.getIndex(n,!1!==t)}},{key:"setItem",value:function(e,t,n){var i=this.getIndex(t||e.id,!1!==n),a=this.getItem(i);a.iconCss=e.iconCss,a.id=e.id,a.text=e.text,a.url=e.url,a.separator=e.separator,a.items=e.items}},{key:"getItem",value:function(e){var t=(e=e.slice()).pop();return this.getItems(e)[t]}},{key:"getItems",value:function(e){for(var t=this.items,n=0;n<e.length;n++)t=t[e[n]][this.getField("children",n)];return t}},{key:"setItems",value:function(e,t){var n=this.getItems(t);n.splice(0,n.length);for(var i=0;i<e.length;i++)n.splice(i,0,e[i])}},{key:"getIdx",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Array.prototype.indexOf.call(e.querySelectorAll("li"),t);return i=Array.prototype.indexOf.call(e.children,t),n&&e.children[0].classList.contains(RN)&&i--,i}},{key:"getLI",value:function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:nD(e,"li.e-menu-item")}},{key:"removeChildElement",value:function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e}},{key:"onPropertyChanged",value:function(e,t){for(var n=this,i=this.getWrapper(),a=0,r=Object.keys(e);a<r.length;a++)switch(r[a]){case"cssClass":t.cssClass&&WA([i],t.cssClass.split(" ")),e.cssClass&&UA([i],e.cssClass.split(" "));break;case"enableRtl":i.classList.toggle("e-rtl");break;case"showItemOnClick":this.unWireEvents(),this.showItemOnClick=e.showItemOnClick,this.wireEvents();break;case"enableScrolling":e.enableScrolling?function(){var e=void 0;n.element.classList.contains("e-vertical")?n.addScrolling(i,n.element,"vscroll",i.offsetHeight,n.element.offsetHeight):n.addScrolling(i,n.element,"hscroll",i.offsetWidth,n.element.offsetWidth),n.getPopups().forEach((function(t){e=eD(".e-ul",t),n.addScrolling(t,e,"vscroll",t.offsetHeight,e.offsetHeight)}))}():function(){var e=i.children[0];n.element.classList.contains("e-vertical")?n.destroyScrollObj(lI(e,PN),e):n.destroyScrollObj(lI(e,MN),e),i.style.overflow="",i.appendChild(n.element),n.getPopups().forEach((function(t){e=t.children[0],n.destroyScrollObj(lI(e,PN),e),t.style.overflow=""}))}();break;case"items":var s=void 0,l=void 0,o=void 0;if(Object.keys(t.items).length)for(var u=Object.keys(e.items),c=0;c<u.length;c++)(l=this.getChangedItemIndex(e,[],Number(u[c]))).length<=this.getWrapper().children.length&&(s=l.pop(),o=this.getItems(l),this.insertAfter([o[s]],o[s].text),this.removeItem(o,l,s),this.setItems(o,l)),l.length=0;else!function(){var e=n.element;e.innerHTML="",[].slice.call(n.createItems(n.items).children).forEach((function(t){e.appendChild(t)}));for(var t=1,a=i.childElementCount;t<a;t++)ZA(i.lastElementChild);n.navIdx=[]}()}}},{key:"getChangedItemIndex",value:function(e,t,n){t.push(n);var i=Object.keys(e.items[n]).pop();if("items"===i){var a=e.items[n],r=Object.keys(a.items).pop();r&&this.getChangedItemIndex(a,t,Number(r))}else"isParentArray"===i&&t.length>1&&t.pop();return t}},{key:"removeItem",value:function(e,t,n){e.splice(n,1);var i=this.getWrapper().children;t.length<i.length&&ZA(i[t.length].children[n])}},{key:"unWireEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,t=this.getWrapper();if(e){for(var n,i,a=tD(e),r=0,s=a.length;r<s;r++)n=a[r],this.isMenu?$I.remove(n,"click",this.menuHeaderClickHandler):KI.isIos?(i=lI(n,rM))&&i.destroy():$I.remove(n,"contextmenu",this.cmenuHandler);if(!this.isMenu){$I.remove(this.targetElement,"scroll",this.scrollHandler);var l,o=_createForOfIteratorHelper(GT(this.targetElement));try{for(o.s();!(l=o.n()).done;){var u=l.value;$I.remove(u,"scroll",this.scrollHandler)}}catch(c){o.e(c)}finally{o.f()}}}KI.isDevice||($I.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),$I.remove(document,"mousedown",this.delegateMouseDownHandler)),$I.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()}},{key:"unWireKeyboardEvent",value:function(e){var t=lI(e,eM);t&&t.destroy()}},{key:"toggleAnimation",value:function(e){var t,n,i=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"None"!==this.animationSettings.effect&&a?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){i.hamburgerMode?(n=e.element.parentElement,e.element.style.position="absolute",t=n.offsetHeight,e.element.style.maxHeight=e.element.offsetHeight+"px",n.style.maxHeight=""):(e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px")},progress:function(e){i.hamburgerMode&&(n.style.minHeight=t+e.element.offsetHeight+"px")},end:function(e){i.hamburgerMode?(e.element.style.position="",e.element.style.maxHeight="",n.style.minHeight="",e.element.style.top="0px",e.element.children[0].focus(),i.triggerOpen(e.element.children[0])):i.end(e.element,a)}}):this.end(e,a)}},{key:"triggerOpen",value:function(e){var t=this.navIdx.length?this.getItem(this.navIdx):null;this.trigger("onOpen",{element:e,parentItem:t,items:t?t.items:this.items})}},{key:"end",value:function(e,t){var n;if(t)e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+NN)?e.querySelector("."+NN).focus():(n=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1])?n.querySelector("."+FN).focus():this.element.focus();else if(e===this.element){var i=this.getLIByClass(this.element,NN);i&&i.classList.remove(NN);var a=this.getLIByClass(this.element,FN);a&&a.classList.remove(FN),e.style.display="none"}else ZA(e)}},{key:"getPersistData",value:function(){return""}},{key:"getWrapper",value:function(){return nD(this.element,".e-"+this.getModuleName()+"-wrapper")}},{key:"getIndex",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.items,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;s=r?s+1:0;for(var l=0,o=i.length;l<o;l++){if(n=i[l],(t?n[this.getField("itemId",s)]:n[this.getField("text",s)])===e){a.push(l);break}if(n[this.getField("children",s)]&&n[this.getField("children",s)].length){if(-1!==(a=this.getIndex(e,t,n[this.getField("children",s)],a,!0,s))[a.length-1]){a.unshift(l);break}l!==o-1&&a.pop()}else l===o-1&&a.push(-1)}return r||-1!==a[0]?a:[]}},{key:"enableItems",value:function(e){for(var t,n,i,a,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2?arguments[2]:void 0,l="e-disabled",o=0;o<e.length;o++){if(i=this.getIndex(e[o],s),this.navIdx.length){if(1!==i.length){a=!1;for(var u=0,c=i.length-1;u<c;u++)if(i[u]!==this.navIdx[u]){a=!0;break}if(a)continue}}else if(1!==i.length)continue;n=i.pop(),(t=this.getUlByNavIdx(i.length))&&(r?this.isMenu?(t.children[n].classList.remove(l),t.children[n].removeAttribute("aria-disabled")):KI.isDevice&&!t.classList.contains("e-contextmenu")?t.children[n+1].classList.remove(l):t.children[n].classList.remove(l):this.isMenu?(t.children[n].classList.add(l),t.children[n].setAttribute("aria-disabled","true")):KI.isDevice&&!t.classList.contains("e-contextmenu")?t.children[n+1].classList.add(l):t.children[n].classList.add(l))}}},{key:"showItems",value:function(e,t){this.showHideItems(e,!1,t)}},{key:"hideItems",value:function(e,t){this.showHideItems(e,!0,t)}},{key:"showHideItems",value:function(e,t,n){for(var i,a,r,s=0;s<e.length;s++)a=(r=this.getIndex(e[s],n)).pop(),(i=this.getUlByNavIdx(r.length))&&(t?KI.isDevice&&!i.classList.contains("e-contextmenu")?i.children[a+1].classList.add(BN):i.children[a].classList.add(BN):KI.isDevice&&!i.classList.contains("e-contextmenu")?i.children[a+1].classList.remove(BN):i.children[a].classList.remove(BN))}},{key:"removeItems",value:function(e,t){for(var n,i,a,r=0;r<e.length;r++)n=(i=this.getIndex(e[r],t)).pop(),a=this.getItems(i),this.removeItem(a,i,n)}},{key:"insertAfter",value:function(e,t,n){this.insertItems(e,t,n)}},{key:"insertBefore",value:function(e,t,n){this.insertItems(e,t,n,!1)}},{key:"insertItems",value:function(e,t,n){for(var i,a,r,s,l,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=0;u<e.length;u++){a=(r=this.getIndex(t,n)).pop(),s=this.getItems(r),l=new zN(s[0],"items",e[u],!0),s.splice(o?a+1:a,0,l);var c=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(r.length<c.length){a=o?a+1:a,this.hasField(s,this.getField("iconCss",r.length-1)),i=this.createItems(s).children[a];var h=this.isMenu?eD(".e-menu-parent",c[r.length]):c[r.length];h.insertBefore(i,h.children[a])}}}},{key:"removeAttributes",value:function(){var e=this;["top","left","display","z-index"].forEach((function(t){e.element.style.removeProperty(t)})),["role","tabindex","class","style"].forEach((function(t){"class"===t&&e.element.classList.contains("e-menu-parent")&&e.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(t)&&e.element.getAttribute(t)||e.element.removeAttribute(t),e.isMenu&&"class"===t&&e.element.classList.contains("e-vertical")&&e.element.classList.remove("e-vertical")}))}},{key:"destroy",value:function(){var e=this.getWrapper();if(e){if(this.unWireEvents(),this.isMenu)this.closeMenu(),this.element.innerHTML="",this.removeAttributes(),e.parentNode.insertBefore(this.element,e);else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)UA([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){var t=this.clonedElement.nextElementSibling;t&&t!==e?this.clonedElement.parentElement.insertBefore(this.element,t):this.clonedElement.parentElement.appendChild(this.element),this.element.innerHTML="",KA([].slice.call(this.clonedElement.children),this.element),ZA(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(ZA(this.element),e.style.display="",e.classList.remove("e-"+this.getModuleName()+"-wrapper"),e.removeAttribute("data-ripple")):ZA(e),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}}]),n}(zD),LN([wD()],LL.prototype,"beforeItemRender",void 0),LN([wD()],LL.prototype,"beforeOpen",void 0),LN([wD()],LL.prototype,"onOpen",void 0),LN([wD()],LL.prototype,"beforeClose",void 0),LN([wD()],LL.prototype,"onClose",void 0),LN([wD()],LL.prototype,"select",void 0),LN([wD()],LL.prototype,"created",void 0),LN([bD("")],LL.prototype,"cssClass",void 0),LN([bD(!1)],LL.prototype,"showItemOnClick",void 0),LN([bD("")],LL.prototype,"target",void 0),LN([bD("")],LL.prototype,"filter",void 0),LN([bD(null)],LL.prototype,"template",void 0),LN([bD(!1)],LL.prototype,"enableScrolling",void 0),LN([bD(!1)],LL.prototype,"enableHtmlSanitizer",void 0),LN([kD({},jN)],LL.prototype,"fields",void 0),LN([CD([],zN)],LL.prototype,"items",void 0),LN([kD({},qN)],LL.prototype,"animationSettings",void 0),LL=LN([_D],LL)),WN=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},YN="e-toolbar-items",GN="e-blazor-toolbar-items",XN="e-toolbar-item",KN="e-toolbar-popup",$N=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD);return WN([bD("")],e.prototype,"id",void 0),WN([bD("")],e.prototype,"text",void 0),WN([bD("auto")],e.prototype,"width",void 0),WN([bD("")],e.prototype,"cssClass",void 0),WN([bD(!1)],e.prototype,"showAlwaysInPopup",void 0),WN([bD(!1)],e.prototype,"disabled",void 0),WN([bD("")],e.prototype,"prefixIcon",void 0),WN([bD("")],e.prototype,"suffixIcon",void 0),WN([bD(!0)],e.prototype,"visible",void 0),WN([bD("None")],e.prototype,"overflow",void 0),WN([bD("")],e.prototype,"template",void 0),WN([bD("Button")],e.prototype,"type",void 0),WN([bD("Both")],e.prototype,"showTextOn",void 0),WN([bD(null)],e.prototype,"htmlAttributes",void 0),WN([bD("")],e.prototype,"tooltipText",void 0),WN([bD("Left")],e.prototype,"align",void 0),WN([wD()],e.prototype,"click",void 0),e}(),ZN=(FL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).resizeContext=a.resize.bind(_assertThisInitialized(a)),a.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},a}return _createClass(n,[{key:"destroy",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.unwireEvents(),this.tempId.forEach((function(t){JO(e.element.querySelector(t))||(document.body.appendChild(e.element.querySelector(t)).style.display="none")}));var t=this.element.querySelectorAll(".e-control");for([].slice.call(t).forEach((function(e){var t=e.ej2_instances;if(t){var n=t[0];n&&n.destroy()}}));this.element.lastElementChild&&!this.element.lastElementChild.classList.contains(GN);)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&this.element.appendChild(this.ctrlTem),this.clearProperty(),this.popObj=null,this.tbarAlign=null,this.remove(this.element,"e-toolpop"),this.cssClass&&WA([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach((function(t){return e.element.removeAttribute(t)}))}},{key:"preRender",value:function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains("e-vertical"),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,"e-rtl")}},{key:"wireEvents",value:function(){$I.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.allowKeyboard&&this.wireKeyboardEvent()}},{key:"wireKeyboardEvent",value:function(){this.keyModule=new eM(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),$I.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")}},{key:"unwireKeyboardEvent",value:function(){this.keyModule&&($I.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)}},{key:"docKeyDown",value:function(e){if("INPUT"!==e.target.tagName){var t=!JO(this.popObj)&&GA(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}}},{key:"unwireEvents",value:function(){$I.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),$I.remove(document,"scroll",this.docEvent),$I.remove(document,"click",this.docEvent)}},{key:"clearProperty",value:function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}}},{key:"docEvent",value:function(e){var t=nD(e.target,".e-popup");this.popObj&&GA(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})}},{key:"destroyScroll",value:function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,"e-tbar-pos"),this.scrollModule.destroy(),this.scrollModule=null)}},{key:"destroyItems",value:function(){[].slice.call(this.element.querySelectorAll("."+XN)).forEach((function(e){ZA(e)}));var e=this.element.querySelector("."+YN);this.tbarAlign&&([].slice.call(e.children).forEach((function(e){ZA(e)})),this.tbarAlign=!1,this.remove(e,"e-tbar-pos")),this.clearProperty()}},{key:"destroyMode",value:function(){this.scrollModule&&(this.remove(this.scrollModule.element,"e-rtl"),this.destroyScroll()),this.remove(this.element,"e-tbar-extended"),this.remove(this.element,"e-extended-toolbar");var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,"e-toolbar-multirow"),this.popObj&&this.popupRefresh(this.popObj.element,!0)}},{key:"add",value:function(e,t){e.classList.add(t)}},{key:"remove",value:function(e,t){e.classList.remove(t)}},{key:"elementFocus",value:function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()}},{key:"clstElement",value:function(e,t){return e&&this.popObj&&GA(this.popObj.element)?this.popObj.element.querySelector("."+XN):this.element===t||e?this.element.querySelector("."+XN+":not(.e-overlay ):not(.e-separator ):not(.e-hidden )"):nD(t,"."+XN)}},{key:"keyHandling",value:function(e,t,n,i,a){var r=this.popObj,s=this.element,l={name:"FadeOut",duration:100};switch(t.action){case"moveRight":if(this.isVertical)return;s===n?this.elementFocus(e):i||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;i||this.eleFocus(e,"previous");break;case"home":case"end":var o,u;if(e){var c=nD(e,".e-popup");c?GA(this.popObj.element)&&(u=[].slice.call(c.children),o="home"===t.action?u[0]:u[u.length-1]):(u=this.element.querySelectorAll("."+YN+" ."+XN),o="home"===t.action?u[0]:u[u.length-1]),o&&this.elementFocus(o)}break;case"moveUp":case"moveDown":var h="moveUp"===t.action?"previous":"next";if(this.isVertical)this.eleFocus(e,"moveUp"===t.action?"previous":"next");else if(r&&nD(n,".e-popup")){var d=r.element,p=d.firstElementChild;if("previous"===h&&p===e||"next"===h&&d.lastElementChild===e)return;this.eleFocus(e,h)}else"moveDown"===t.action&&r&&GA(r.element)&&this.elementFocus(e);break;case"tab":if(!a&&!i){var f=e.firstElementChild;s===n&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(f),f.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":r&&"Extended"!==this.overflowMode&&r.hide(l);break;case"popupOpen":if(!i)return;r&&!GA(r.element)?(r.element.style.top=s.offsetHeight+"px",r.show({name:"FadeIn",duration:100})):r.hide(l)}}},{key:"keyActionHandler",value:function(e){var t,n=e.target;if("INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName&&!this.element.classList.contains("e-overlay")){e.preventDefault();var i=n.classList.contains("e-hor-nav"),a=n.classList.contains("e-scroll-nav");((t=this.clstElement(i,n))||a)&&this.keyHandling(t,e,n,i,a)}}},{key:"disable",value:function(e){var t=this.element;e?t.classList.add("e-overlay"):t.classList.remove("e-overlay"),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(GA(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))}},{key:"eleContains",value:function(e){return e.classList.contains("e-separator")||e.classList.contains("e-overlay")||e.getAttribute("disabled")||e.classList.contains("e-hidden")||!GA(e)}},{key:"eleFocus",value:function(e,t){var n=Object(e)[t+"ElementSibling"];if(n){if(this.eleContains(n))return void this.eleFocus(n,t);this.elementFocus(n)}else if(this.tbarAlign){var i=Object(e.parentElement)[t+"ElementSibling"];if(JO(i)||0!==i.children.length||(i=Object(i)[t+"ElementSibling"]),!JO(i)&&i.children.length>0)if("next"===t){var a=i.querySelector("."+XN);this.eleContains(a)?this.eleFocus(a,t):(a.firstElementChild.focus(),this.activeEleSwitch(a))}else{var r=i.lastElementChild;this.eleContains(r)?this.eleFocus(r,t):this.elementFocus(r)}}}},{key:"clickHandler",value:function(e){var t,n=this,i=e.target,a=i.classList,r=this.element,s=!JO(nD(i,".e-toolbar-pop")),l=nD(i,".e-hor-nav");l||(l=i),r.children[0].classList.contains("e-hscroll")||r.children[0].classList.contains("e-vscroll")||!a.contains("e-hor-nav")||(a=i.querySelector(".e-icons").classList),(a.contains("e-popup-up-icon")||a.contains("e-popup-down-icon"))&&this.popupClickHandler(r,l,"e-rtl");var o=nD(e.target,"."+XN);if(!JO(o)&&!o.classList.contains("e-overlay")||l.classList.contains("e-hor-nav")){o&&(t=this.items[this.tbarEle.indexOf(o)]);var u={originalEvent:e,item:t};t&&!JO(t.click)&&this.trigger("items["+this.tbarEle.indexOf(o)+"].click",u),u.cancel||this.trigger("clicked",u,(function(e){!JO(n.popObj)&&s&&!e.cancel&&"Popup"===n.overflowMode&&e.item&&"Input"!==e.item.type&&n.popObj.hide({name:"FadeOut",duration:100})}))}}},{key:"popupClickHandler",value:function(e,t,n){var i=this.popObj;GA(i.element)?(t.classList.remove("e-nav-active"),i.hide({name:"FadeOut",duration:100})):(e.classList.contains(n)&&(i.enableRtl=!0,i.position={X:"left",Y:"top"}),0!==i.offsetX||e.classList.contains(n)||(i.enableRtl=!1,i.position={X:"right",Y:"top"}),i.dataBind(),i.refreshPosition(),i.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(i.element.style.minHeight="0px"),t.classList.add("e-nav-active"),i.show({name:"FadeIn",duration:100}))}},{key:"render",value:function(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}},{key:"initialize",value:function(){var e=aI(this.width),t=aI(this.height);"msie"===KI.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||iD(this.element,{height:t}),iD(this.element,{width:e}),QA(this.element,{role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&UA([this.element],this.cssClass.split(" "))}},{key:"renderControl",value:function(){var e=this.element;this.trgtEle=e.children.length>0&&!this.isServerRendered?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()}},{key:"renderLayout",value:function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()}},{key:"itemsAlign",value:function(e,t){var n,i;this.tbarEle||(this.tbarEle=[]);for(var a=0;a<e.length;a++)n=this.renderSubComponent(e[a],a),-1===this.tbarEle.indexOf(n)&&this.tbarEle.push(n),this.tbarAlign||this.tbarItemAlign(e[a],t,a),(i=t.querySelector(".e-toolbar-"+e[a].align.toLowerCase()))?(e[a].showAlwaysInPopup&&"Show"!==e[a].overflow||this.tbarAlgEle[(e[a].align+"s").toLowerCase()].push(n),i.appendChild(n)):t.appendChild(n)}},{key:"serverItemsRerender",value:function(){this.destroyMode(),this.resetServerItems(),this.serverItemsRefresh()}},{key:"serverItemsRefresh",value:function(){this.element.querySelector("."+GN).children.length>0&&(this.itemsAlign(this.items,this.element.querySelector("."+YN)),this.renderLayout(),this.refreshOverflow())}},{key:"resetServerItems",value:function(){var e=this.element.querySelector("."+GN);KA([].slice.call(tD("."+YN+" ."+XN,this.element)),e),this.clearProperty()}},{key:"changeOrientation",value:function(){var e=this.element;this.isVertical?(e.classList.remove("e-vertical"),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add("e-vertical"),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),iD(this.element,{height:aI(this.height),width:aI(this.width)})),this.destroyMode(),this.refreshOverflow()}},{key:"initScroll",value:function(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+YN+" .e-toolbar-center").removeAttribute("style"),this.scrollModule=this.isVertical?new PN({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):new MN({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.remove(this.scrollModule.element,"e-tbar-pos"),iD(this.element,{overflow:"hidden"}))}},{key:"itemWidthCal",value:function(e){var t,n=this,i=0;return[].slice.call(tD("."+XN,e)).forEach((function(e){GA(e)&&(t=window.getComputedStyle(e),i+=n.isVertical?e.offsetHeight:e.offsetWidth,i+=parseFloat(n.isVertical?t.marginTop:t.marginRight),i+=parseFloat(n.isVertical?t.marginBottom:t.marginLeft))})),i}},{key:"getScrollCntEle",value:function(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")}},{key:"checkOverflow",value:function(e,t){if(JO(e)||JO(t)||!GA(e))return!1;var n=this.isVertical?e.offsetHeight:e.offsetWidth,i=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||n===i)&&(i=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var a=e.querySelector(".e-hor-nav"),r=e.querySelector(".e-scroll-nav"),s=0;return a?s=this.isVertical?a.offsetHeight:a.offsetWidth:r&&(s=this.isVertical?2*r.offsetHeight:2*r.offsetWidth),i>n-s}},{key:"refreshOverflow",value:function(){this.resize()}},{key:"toolbarAlign",value:function(e){this.tbarAlign&&(this.add(e,"e-tbar-pos"),this.itemPositioning())}},{key:"renderOverflowMode",value:function(){var e=this.element,t=e.querySelector("."+YN),n=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===KI.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":JO(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(YN)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||n)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,"e-toolbar-multirow"),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,"e-multirow-pos")),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==KI.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,"e-extended-toolbar"),(this.checkOverflow(e,t)||n)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}}},{key:"setOverflowAttributes",value:function(e){this.createPopupEle(e,[].slice.call(tD("."+YN+" ."+XN,e))),this.element.querySelector(".e-hor-nav").setAttribute("tabIndex","0"),this.element.querySelector(".e-hor-nav").setAttribute("role","list")}},{key:"separator",value:function(){var e,t=this.element,n=[].slice.call(t.querySelectorAll(".e-separator")),i=t.querySelector(".e-multirow-separator"),a=t.querySelector(".e-extended-separator");null!==(e="MultiRow"===this.overflowMode?i:a)&&("MultiRow"===this.overflowMode?e.classList.remove("e-multirow-separator"):"Extended"===this.overflowMode&&e.classList.remove("e-extended-separator"));for(var r=0;r<=n.length-1;r++)n[r].offsetLeft<30&&0!==n[r].offsetLeft&&("MultiRow"===this.overflowMode?n[r].classList.add("e-multirow-separator"):"Extended"===this.overflowMode&&n[r].classList.add("e-extended-separator"))}},{key:"createPopupEle",value:function(e,t){var n=e.querySelector(".e-hor-nav"),i=this.isVertical;n||this.createPopupIcon(e),n=e.querySelector(".e-hor-nav");var a=(i?e.offsetHeight:e.offsetWidth)-(i?n.offsetHeight:n.offsetWidth);this.element.classList.remove("e-rtl"),iD(this.element,{direction:"initial"}),this.checkPriority(e,t,a,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()}},{key:"pushingPoppedEle",value:function(e,t,n,i,a){var r=e.element,s=tD(".e-overflow-show",n),l=0,o=[].slice.call(tD("."+KN,r.querySelector("."+YN))),u=0;o.forEach((function(r,o){s=tD(".e-overflow-show",n),r.classList.contains("e-overflow-show")&&s.length>0?e.tbResize&&s.length>o?(n.insertBefore(r,s[o]),++u):(n.insertBefore(r,n.children[s.length]),++u):r.classList.contains("e-overflow-show")?(n.insertBefore(r,n.firstChild),++u):e.tbResize&&r.classList.contains("e-overflow-hide")&&n.children.length>0&&0===s.length?(n.insertBefore(r,n.firstChild),++u):r.classList.contains("e-overflow-hide")?t.push(r):e.tbResize?(n.insertBefore(r,n.childNodes[l+u]),++l):n.appendChild(r),r.classList.contains("e-separator")?iD(r,{display:"",height:a+"px"}):iD(r,{display:"",height:i+"px"})})),t.forEach((function(e){n.appendChild(e)}));for(var c=tD("."+XN,r.querySelector("."+YN)),h=c.length-1;h>=0;h--){var d=c[h];if(!d.classList.contains("e-separator")||"Extended"===this.overflowMode)break;iD(d,{display:"none"})}}},{key:"createPopup",value:function(){var e,t,n,i,a,r=this.element;if("Extended"===this.overflowMode&&(i=r.querySelector(".e-separator:not(."+KN+")"),n="auto"===r.style.height||""===r.style.height?null:i.offsetHeight),t=r.querySelector("."+XN+":not(.e-separator):not(."+KN+")"),e="auto"===r.style.height||""===r.style.height?null:t&&t.offsetHeight,r.querySelector("#"+r.id+"_popup.e-toolbar-pop"))a=r.querySelector("#"+r.id+"_popup.e-toolbar-pop");else{var s=this.createElement("div",{id:r.id+"_popup",className:"e-toolbar-pop e-toolbar-extended"}),l=this.createElement("div",{id:r.id+"_popup",className:"e-toolbar-pop"});a="Extended"===this.overflowMode?s:l}this.pushingPoppedEle(this,[],a,e,n),this.popupInit(r,a)}},{key:"getElementOffsetY",value:function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight}},{key:"popupInit",value:function(e,t){if(this.popObj){var n=this.popObj.element;iD(n,{maxHeight:"",display:"block"}),iD(n,{maxHeight:n.offsetHeight+"px",display:""})}else{e.appendChild(t),iD(this.element,{overflow:""});var i=window.getComputedStyle(this.element),a=new YT(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(a.appendTo(t),"Extended"===this.overflowMode&&(a.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth),a.offsetX=0),$I.add(document,"scroll",this.docEvent.bind(this)),$I.add(document,"click ",this.docEvent.bind(this)),a.element.style.maxHeight=a.element.offsetHeight+"px",this.isVertical&&(a.element.style.visibility="hidden"),this.isExtendedOpen){var r=this.element.querySelector(".e-hor-nav");r.classList.add("e-nav-active"),aD(r.firstElementChild,["e-popup-up-icon"],["e-popup-down-icon"]),this.element.querySelector(".e-toolbar-extended").classList.add("e-popup-open")}else a.hide();this.popObj=a,this.element.setAttribute("aria-haspopup","true")}}},{key:"tbarPopupHandler",value:function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,"e-tbar-extended"):this.remove(this.element,"e-tbar-extended"))}},{key:"popupOpen",value:function(e){var t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var n=this.popObj.element,i=this.popObj.element.parentElement,a=i.querySelector(".e-hor-nav");iD(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");var r=n.offsetTop+n.offsetHeight+fT(i).top,s=a.firstElementChild;a.classList.add("e-nav-active"),aD(s,["e-popup-up-icon"],["e-popup-down-icon"]),this.tbarPopupHandler(!0);var l=JO(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+l<r&&this.element.offsetTop<n.offsetHeight){var o=n.offsetHeight-(r-window.innerHeight-l+5);t.height=o+"px";for(var u=0;u<=n.childElementCount;u++){var c=n.children[u];if(c.offsetTop+c.offsetHeight>o){o=c.offsetTop;break}}iD(t.element,{maxHeight:o+"px"})}else if(this.isVertical){var h=this.element.getBoundingClientRect();iD(t.element,{maxHeight:h.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}t&&t.refreshPosition()}},{key:"popupClose",value:function(e){var t=this.element.querySelector(".e-hor-nav"),n=t.firstElementChild;t.classList.remove("e-nav-active"),aD(n,["e-popup-down-icon"],["e-popup-up-icon"]),this.tbarPopupHandler(!1)}},{key:"checkPriority",value:function(e,t,n,i){for(var a,r=this.popupPriCount>0,s=n,l=0,o=0,u=0,c=function(e,t){var n=!1;return t.forEach((function(t){e.classList.contains(t)&&(n=!0)})),n},h=t.length-1;h>=0;h--){var d=void 0,p=window.getComputedStyle(t[h]);this.isVertical?(d=parseFloat(p.marginTop),d+=parseFloat(p.marginBottom)):(d=parseFloat(p.marginRight),d+=parseFloat(p.marginLeft));var f=t[h]===this.tbarEle[0];f&&(this.tbarEleMrgn=d),a=this.isVertical?t[h].offsetHeight:t[h].offsetWidth;var m=f?a+d:a;if(c(t[h],["e-popup-alone"])&&r&&(t[h].classList.add(KN),iD(t[h],this.isVertical?{display:"none",minHeight:m+"px"}:{display:"none",minWidth:m+"px"}),u++),this.isVertical?t[h].offsetTop+t[h].offsetHeight+d>n:t[h].offsetLeft+t[h].offsetWidth+d>n){if(t[h].classList.contains("e-separator")){if("Extended"===this.overflowMode)o===u&&c(t[h],["e-separator","e-ignore"])&&(t[h].classList.add(KN),u++),o++;else if("Popup"===this.overflowMode){if(l>0&&o===u){var g=t[h+o+(l-1)];c(g,["e-separator","e-ignore"])&&iD(g,{display:"none"})}l++,o=0,u=0}}else o++;t[h].classList.contains("e-overflow-show")&&i?n-=(this.isVertical?t[h].offsetHeight:t[h].offsetWidth)+d:c(t[h],["e-separator","e-ignore"])?n-=(this.isVertical?t[h].offsetHeight:t[h].offsetWidth)+d:(t[h].classList.add(KN),iD(t[h],this.isVertical?{display:"none",minHeight:m+"px"}:{display:"none",minWidth:m+"px"}),u++)}}if(i){var v=tD("."+XN+":not(."+KN+")",this.element);this.checkPriority(e,v,s,!1)}}},{key:"createPopupIcon",value:function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-hor-nav");n="Extended"===this.overflowMode?n+" e-expended-nav":n;var i=this.createElement("div",{id:t,className:n});"msie"!==KI.info.name&&"edge"!==KI.info.name||i.classList.add("e-ie-align");var a=this.createElement("div",{className:"e-popup-down-icon e-icons"});i.appendChild(a),i.setAttribute("tabindex","0"),i.setAttribute("role","list"),e.appendChild(i)}},{key:"tbarPriRef",value:function(e,t,n,i,a,r,s,l){var o=l,u=tD("."+KN+":not(.e-overflow-show)",this.popObj.element).length,c=function(e,t){return e.classList.contains(t)};if(0===tD(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){var h=e.children[t-(t-n)-1],d=!JO(h)&&c(h,"e-ignore");if(!JO(h)&&c(h,"e-separator")&&!GA(h)||d){h.style.display="inherit";var p=h.offsetWidth+2*parseFloat(window.getComputedStyle(h).marginRight),f=h.previousElementSibling;r+p<s||a?(e.insertBefore(i,e.children[t+o-(t-n)]),JO(f)||(f.style.display="")):f.classList.contains("e-separator")&&(f.style.display="none"),h.style.display=""}else e.insertBefore(i,e.children[t+o-(t-n)])}else e.insertBefore(i,e.children[t+o-u])}},{key:"popupRefresh",value:function(e,t){var n,i=this,a=this.element,r=this.isVertical,s=a.querySelector(".e-hor-nav"),l=a.querySelector("."+YN);if(!JO(s)){l.removeAttribute("style"),e.style.display="block",n=r?a.offsetHeight-(s.offsetHeight+l.offsetHeight):a.offsetWidth-(s.offsetWidth+l.offsetWidth);var o=0;[].slice.call(e.children).forEach((function(e){o+=i.popupEleWidth(e),iD(e,{position:""})})),n+(r?s.offsetHeight:s.offsetWidth)>o&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(n,e,t),e.style.display="",0===e.children.length&&s&&this.popObj&&(ZA(s),s=null,this.popObj.destroy(),ZA(this.popObj.element),this.popObj=null,a.setAttribute("aria-haspopup","false"))}}},{key:"ignoreEleFetch",value:function(e,t){var n=[].slice.call(t.querySelectorAll(".e-ignore")),i=[],a=0;return n.length>0?(n.forEach((function(e){i.push([].slice.call(t.children).indexOf(e))})),i.forEach((function(t){t<=e&&a++})),a):0}},{key:"checkPopupRefresh",value:function(e,t){t.style.display="block";var n=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var i=e.offsetWidth-e.querySelector(".e-hor-nav").offsetWidth,a=e.querySelector("."+YN).offsetWidth;return t.style.removeProperty("display"),i>n+a}},{key:"popupEleWidth",value:function(e){e.style.position="absolute";var t=this.isVertical?e.offsetHeight:e.offsetWidth,n=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains("e-popup-text")){var i=e.children[0];!JO(n)&&e.classList.contains("e-popup-text")?n.style.display="none":!JO(n)&&e.classList.contains("e-toolbar-text")&&(n.style.display="block"),i.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),i.style.minWidth="",i.style.minHeight="",JO(n)||(n.style.display="")}return t}},{key:"popupEleRefresh",value:function(e,t,n){var i,a,r,s=this,l=this.popupPriCount>0,o=this.tbarEle,u=this.element.querySelector("."+YN),c=0,h=_createForOfIteratorHelper([].slice.call(t.children));try{for(h.s();!(r=h.n()).done;){var d=r.value;if(!d.classList.contains("e-popup-alone")||!l||n){var p=this.popupEleWidth(d);if(d===this.tbarEle[0]&&(p+=this.tbarEleMrgn),d.style.position="",!(p<e||n))break;!function(){if(iD(d,{minWidth:"",height:"",minHeight:""}),d.classList.contains("e-overflow-hide")||d.classList.remove(KN),a=s.tbarEle.indexOf(d),s.tbarAlign){var t=s.items[a].align;a=s.tbarAlgEle[(t+"s").toLowerCase()].indexOf(d),o=s.tbarAlgEle[(t+"s").toLowerCase()],u=s.element.querySelector("."+YN+" .e-toolbar-"+t.toLowerCase())}var r=0;"Extended"!==s.overflowMode&&o.slice(0,a).forEach((function(t){(t.classList.contains("e-overflow-show")||t.classList.contains("e-separator"))&&(t.classList.contains("e-separator")&&(t.style.display="",e-=t.offsetWidth),r++)})),c=s.ignoreEleFetch(a,u),d.classList.contains("e-overflow-show")?(s.tbarPriRef(u,a,r,d,n,p,e,c),e-=d.offsetWidth):0===a?(u.insertBefore(d,u.firstChild),e-=d.offsetWidth):(i=tD(".e-overflow-show",s.popObj.element).length,u.insertBefore(d,u.children[a+c-i]),e-=d.offsetWidth),d.style.height=""}()}}}catch(f){h.e(f)}finally{h.f()}this.checkOverflow(this.element,this.element.getElementsByClassName(YN)[0])&&!n&&this.renderOverflowMode()}},{key:"removePositioning",value:function(){var e=this.element.querySelector("."+YN);if(!JO(e)&&e.classList.contains("e-tbar-pos")){this.remove(e,"e-tbar-pos");var t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}}},{key:"refreshPositioning",value:function(){var e=this.element.querySelector("."+YN);this.add(e,"e-tbar-pos"),this.itemPositioning()}},{key:"itemPositioning",value:function(){var e,t=this.element.querySelector("."+YN);if(!JO(t)&&t.classList.contains("e-tbar-pos")){var n,i=this.element.querySelector(".e-hor-nav");n=[].slice.call(this.scrollModule?t.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:t.childNodes),e=this.isVertical?n[0].offsetHeight+n[2].offsetHeight:n[0].offsetWidth+n[2].offsetWidth;var a=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(i){a-=this.isVertical?i.offsetHeight:i.offsetWidth;var r=(this.isVertical?i.offsetHeight:i.offsetWidth)+"px";n[2].removeAttribute("style"),this.isVertical?this.enableRtl?n[2].style.top=r:n[2].style.bottom=r:this.enableRtl?n[2].style.left=r:n[2].style.right=r}if(!(a<=e)){var s=(a-e-(this.isVertical?n[1].offsetHeight:n[1].offsetWidth))/2;n[1].removeAttribute("style");var l=(this.isVertical?n[0].offsetHeight:n[0].offsetWidth)+s+"px";this.isVertical?this.enableRtl?n[1].style.marginBottom=l:n[1].style.marginTop=l:this.enableRtl?n[1].style.marginRight=l:n[1].style.marginLeft=l}}}},{key:"tbarItemAlign",value:function(e,t,n){var i=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var a=[];if(a.push(this.createElement("div",{className:"e-toolbar-left"})),a.push(this.createElement("div",{className:"e-toolbar-center"})),a.push(this.createElement("div",{className:"e-toolbar-right"})),0===n&&"Left"!==e.align)a.forEach((function(e){t.appendChild(e)})),this.tbarAlign=!0,this.add(t,"e-tbar-pos");else if("Left"!==e.align){var r=a[0];[].slice.call(t.childNodes).forEach((function(e){i.tbarAlgEle.lefts.push(e),r.appendChild(e)})),t.appendChild(r),t.appendChild(a[1]),t.appendChild(a[2]),this.tbarAlign=!0,this.add(t,"e-tbar-pos")}}}},{key:"ctrlTemplate",value:function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,YN),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach((function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),t.setAttribute("aria-disabled","false"),e.add(t,XN))}))}},{key:"renderItems",value:function(){var e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){var n;e&&e.children.length>0&&(n=e.querySelector("."+YN)),n||(n=this.createElement("div",{className:YN})),this.itemsAlign(t,n),e.appendChild(n)}}},{key:"setAttr",value:function(e,t){for(var n,i=Object.keys(e),a=0;a<i.length;a++)"class"===(n=i[a])?this.add(t,e[n]):t.setAttribute(n,e[n])}},{key:"enableItems",value:function(e,t){var n,i=e,a=i.length;JO(t)&&(t=!0);var r=function(e,t){e?(t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false")):(t.classList.add("e-overlay"),t.setAttribute("aria-disabled","true"))};if(!JO(a)&&a>=1){for(var s=0,l=[].slice.call(i);s<a;s++){var o=l[s];if("number"==typeof o){if(JO(n=this.getElementByIndex(o)))return;i[s]=n}else n=o;r(t,n)}t?WA(i,"e-overlay"):UA(i,"e-overlay")}else{if("number"==typeof i){if(JO(n=this.getElementByIndex(i)))return}else n=e;r(t,n)}}},{key:"getElementByIndex",value:function(e){return this.tbarEle[e]?this.tbarEle[e]:null}},{key:"addItems",value:function(e,t){var n;this.extendedOpen();var i,a=this.element.querySelector("."+YN);if(JO(a))this.itemsRerender(e);else{var r="Left";JO(t)&&(t=0),e.forEach((function(e){JO(e.align)||"Left"===e.align||"Left"!==r||(r=e.align)}));var s,l=_createForOfIteratorHelper(e);try{for(l.s();!(s=l.n()).done;){var o=s.value;if(JO(o.type)&&(o.type="Button"),n=tD("."+XN,this.element),o.align=r,i=this.renderSubComponent(o,t),this.tbarEle.length>=t&&n.length>=0){JO(this.scrollModule)&&this.destroyMode();var u=void 0,c="L"===o.align[0]?0:"C"===o.align[0]?1:2;this.tbarAlign||"Left"===r?this.tbarAlign?((u=nD(n[0],"."+YN).children[c]).insertBefore(i,u.children[t]),this.tbarAlgEle[(o.align+"s").toLowerCase()].splice(t,0,i),this.refreshPositioning()):0===n.length?(n=tD("."+YN,this.element))[0].appendChild(i):n[0].parentNode.insertBefore(i,n[t]):(this.tbarItemAlign(o,a,1),this.tbarAlign=!0,(u=nD(n[0],"."+YN).children[c]).appendChild(i),this.tbarAlgEle[(o.align+"s").toLowerCase()].push(i),this.refreshPositioning()),this.items.splice(t,0,o),this.tbarEle.splice(t,0,i),t++,this.offsetWid=a.offsetWidth}}}catch(h){l.e(h)}finally{l.f()}a.style.width="",this.renderOverflowMode()}}},{key:"removeItems",value:function(e){var t,n=e,i=[].slice.call(tD("."+XN,this.element));if("number"==typeof n)t=parseInt(e.toString(),10),this.removeItemByIndex(t,i);else if(n&&n.length>1){var a,r=_createForOfIteratorHelper([].slice.call(n));try{for(r.s();!(a=r.n()).done;){var s=a.value;t=this.tbarEle.indexOf(s),this.removeItemByIndex(t,i),i=tD("."+XN,this.element)}}catch(l){r.e(l)}finally{r.f()}}else t=i.indexOf(n&&n.length&&1===n.length?n[0]:e),this.removeItemByIndex(t,i);this.resize()}},{key:"removeItemByIndex",value:function(e,t){if(this.tbarEle[e]&&t[e]){var n,i=this.tbarEle.indexOf(t[e]);this.tbarAlign&&(n=this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].indexOf(this.tbarEle[i]),this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].splice(n,1)),ZA(t[e]),this.items.splice(i,1),this.tbarEle.splice(i,1)}}},{key:"templateRender",value:function(e,t,n,i){var a,r=e;if("object"==typeof e&&(a="function"==typeof r.appendTo),"string"!=typeof e&&a){if("Input"===n.type){var s=this.createElement("input");s.id=n.id?n.id:eI("tbr-ipt"),t.appendChild(s),r.appendTo(s)}}else{var l,o,u;u="string"==typeof e?e.trim():e;try{if("object"!=typeof e||JO(e.tagName)){if(document.querySelectorAll(u).length){var c=document.querySelector(u),h=c.outerHTML.trim();t.appendChild(c),c.style.display="",JO(h)||this.tempId.push(u)}}else t.appendChild(e)}catch($K){l=_A(u)}JO(l)||(o=l({},this,"template",this.element.id+i+"_template",this.isStringTemplate)),!JO(o)&&o.length>0&&[].slice.call(o).forEach((function(e){JO(e.tagName)||(e.style.display=""),t.appendChild(e)}))}this.add(t,"e-template"),this.tbarEle.push(t)}},{key:"buttonRendering",value:function(e,t){var n=this.createElement("button",{className:"e-tbar-btn"});n.setAttribute("type","button");var i,a,r=e.text;n.id=e.id?e.id:eI("e-tbr-btn");var s=this.createElement("span",{className:"e-tbar-btn-text"});r?(s.innerHTML=this.enableHtmlSanitizer?uM.sanitize(r):r,n.appendChild(s),n.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(i=e.prefixIcon+" e-icons",a="Left"):(i=e.suffixIcon+" e-icons",a="Right"));var l=new zM({iconCss:i,iconPosition:a});return l.createElement=this.createElement,l.appendTo(n),e.width&&iD(n,{width:aI(e.width)}),n}},{key:"renderSubComponent",value:function(e,t){var n,i;(n=this.createElement("div",{className:XN})).setAttribute("aria-disabled","false");var a=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?uM.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,n),e.tooltipText&&n.setAttribute("title",a.textContent),e.cssClass&&(n.className=n.className+" "+e.cssClass),e.template)this.templateRender(e.template,n,e,t);else switch(e.type){case"Button":(i=this.buttonRendering(e,n)).setAttribute("tabindex","-1"),i.setAttribute("aria-label",e.text||e.tooltipText),n.appendChild(i),n.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(n,"e-separator")}if(e.showTextOn){var r=e.showTextOn;"Toolbar"===r?(this.add(n,"e-toolbar-text"),this.add(n,"e-tbtn-align")):"Overflow"===r&&this.add(n,"e-popup-text")}if(e.overflow){var s=e.overflow;"Show"===s?this.add(n,"e-overflow-show"):"Hide"===s&&(n.classList.contains("e-separator")||this.add(n,"e-overflow-hide"))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!n.classList.contains("e-separator")&&(this.add(n,"e-popup-alone"),this.popupPriCount++),e.disabled&&this.add(n,"e-overlay"),!1===e.visible&&this.add(n,"e-hidden"),n}},{key:"itemClick",value:function(e){this.activeEleSwitch(e.currentTarget)}},{key:"activeEleSwitch",value:function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()}},{key:"activeEleRemove",value:function(e){JO(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,JO(this.trgtEle)&&!e.parentElement.classList.contains("e-template")?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"getModuleName",value:function(){return"toolbar"}},{key:"itemsRerender",value:function(e){this.items=this.tbarItemsCol,this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode()}},{key:"resize",value:function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName(YN)[0]);if(!t){this.destroyScroll();var n=e.querySelector("."+YN);JO(n)||(this.remove(n,"e-multirow-pos"),this.tbarAlign&&this.add(n,"e-tbar-pos"))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var i=window.getComputedStyle(this.element);this.popObj.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector(".e-hscroll-bar")&&(this.scrollStep=this.element.querySelector(".e-hscroll-bar").offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}}},{key:"extendedOpen",value:function(){var e=this.element.querySelector(".e-toolbar-extended");"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains("e-popup-open"))}},{key:"onPropertyChanged",value:function(e,t){var n=this.element;this.extendedOpen();for(var i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"items":if(e.items instanceof Array&&t.items instanceof Array||this.isServerRendered)this.itemsRerender(e.items);else for(var r=Object.keys(e.items),s=0;s<r.length;s++){var l=parseInt(Object.keys(e.items)[s],10),o=Object.keys(e.items[l])[0],u=Object(e.items[l])[o];if(this.tbarAlign||"align"===o){this.refresh(),this.trigger("created");break}var c="overflow"===o&&0!==this.popupPriCount;("showAlwaysInPopup"===o&&!u||this.items[l].showAlwaysInPopup&&c)&&--this.popupPriCount,JO(this.scrollModule)&&this.destroyMode(),ZA([].slice.call(tD("."+YN+" ."+XN,n))[l]),this.tbarEle.splice(l,1),this.addItems([this.items[l]],l),this.items.splice(l,1),this.items[l].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":var h=n.offsetWidth;iD(n,{width:aI(e.width)}),this.renderOverflowMode(),this.popObj&&h<n.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":iD(this.element,{height:aI(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(n,"e-rtl"),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(n,"e-rtl"):this.remove(n,"e-rtl"),JO(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,"e-rtl"):this.remove(this.scrollModule.element,"e-rtl")),JO(this.popObj)||(e.enableRtl?this.add(this.popObj.element,"e-rtl"):this.remove(this.popObj.element,"e-rtl")),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&WA([this.element],t.cssClass.split(" ")),e.cssClass&&UA([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}},{key:"hideItem",value:function(e,t){var n,i,a="object"==typeof e,r=e,s=[].slice.call(tD("."+XN,this.element));if(a?i=e:this.tbarEle[r]&&(i=[].slice.call(tD("."+XN,this.element))[r]),i){if(t?i.classList.add("e-hidden"):i.classList.remove("e-hidden"),t&&JO(this.element.getAttribute("tabindex"))&&!i.classList.contains("e-separator")){if(JO(i.firstElementChild.getAttribute("tabindex"))){i.firstElementChild.setAttribute("tabindex","-1");var l=[].slice.call(tD("."+XN,this.element));a&&(r=l.indexOf(i));for(var o=l[++r];o;){if(!this.eleContains(o)){o.firstElementChild.removeAttribute("tabindex");break}o=l[++r]}}}else if(JO(this.element.getAttribute("tabindex"))&&!i.classList.contains("e-separator"))for(var u=!1,c=!1,h=s[n=0];h;)if(h.classList.contains("e-separator"))h=s[++n];else if(JO(h.firstElementChild.getAttribute("tabindex")))h.firstElementChild.setAttribute("tabindex","-1"),u=!0;else{if(u&&c)break;this.eleContains(h)||(h.firstElementChild.removeAttribute("tabindex"),c=!0),h=s[++n]}this.refreshOverflow()}}}]),n}(zD),WN([CD([],$N)],FL.prototype,"items",void 0),WN([bD("auto")],FL.prototype,"width",void 0),WN([bD("auto")],FL.prototype,"height",void 0),WN([bD("")],FL.prototype,"cssClass",void 0),WN([bD("Scrollable")],FL.prototype,"overflowMode",void 0),WN([bD()],FL.prototype,"scrollStep",void 0),WN([bD(!0)],FL.prototype,"enableCollision",void 0),WN([bD(!0)],FL.prototype,"enableHtmlSanitizer",void 0),WN([bD(!0)],FL.prototype,"allowKeyboard",void 0),WN([wD()],FL.prototype,"clicked",void 0),WN([wD()],FL.prototype,"created",void 0),WN([wD()],FL.prototype,"destroyed",void 0),WN([wD()],FL.prototype,"beforeCreate",void 0),FL=WN([_D],FL)),JN=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},QN=(HL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"preRender",value:function(){this.isMenu=!1,this.element.id=this.element.id||eI("ej2-contextmenu"),_get(_getPrototypeOf(n.prototype),"preRender",this).call(this)}},{key:"initialize",value:function(){_get(_getPrototypeOf(n.prototype),"initialize",this).call(this),QA(this.element,{role:"context menu",tabindex:"0"}),this.element.style.zIndex=XT(this.element).toString()}},{key:"open",value:function(e,t,i){_get(_getPrototypeOf(n.prototype),"openMenu",this).call(this,null,null,e,t,null,i)}},{key:"close",value:function(){_get(_getPrototypeOf(n.prototype),"closeMenu",this).call(this)}},{key:"onPropertyChanged",value:function(e,t){_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,e,t);for(var i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"filter":this.close(),this.filter=e.filter;break;case"target":this.unWireEvents(t.target),this.wireEvents()}}},{key:"getModuleName",value:function(){return"contextmenu"}}]),n}(UN),JN([bD("")],HL.prototype,"target",void 0),JN([bD("")],HL.prototype,"filter",void 0),JN([CD([],zN)],HL.prototype,"items",void 0),HL=JN([_D],HL)),eR=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},tR="e-vertical",nR=(BL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).tempItems=[],a}return _createClass(n,[{key:"getModuleName",value:function(){return"menu"}},{key:"preRender",value:function(){if(this.isMenu=!0,this.element.id=this.element.id||eI("ej2-menu"),this.template)try{document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch($K){}else this.updateMenuItems(this.items);_get(_getPrototypeOf(n.prototype),"preRender",this).call(this)}},{key:"initialize",value:function(){_get(_getPrototypeOf(n.prototype),"initialize",this).call(this),QA(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(tR),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(tR),this.element.setAttribute("aria-orientation","vertical")):KI.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add("e-hamburger"),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))}},{key:"updateMenuItems",value:function(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]}},{key:"onPropertyChanged",value:function(e,t){for(var i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"orientation":"Vertical"===e.orientation?(this.element.classList.add(tR),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(tR),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(tR),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(tR),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(t.items).length||this.updateMenuItems(e.items);break;case"hamburgerMode":this.element.previousElementSibling||_get(_getPrototypeOf(n.prototype),"createHeaderContainer",this).call(this),e.hamburgerMode?this.element.parentElement.classList.add("e-hamburger"):this.element.parentElement.classList.remove("e-hamburger"),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(tR),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(tR):this.element.previousElementSibling.classList.remove(tR),this.element.classList[e.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(e.title=this.enableHtmlSanitizer?uM.sanitize(e.title):e.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=e.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(t.target),this.wireEvents(),"Horizontal"===this.orientation&&(e.target?this.element.previousElementSibling.classList.add(tR):(this.element.previousElementSibling||_get(_getPrototypeOf(n.prototype),"createHeaderContainer",this).call(this),this.element.previousElementSibling.classList.remove(tR)),this.element.classList.add("e-hide-menu")))}_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,e,t)}},{key:"createMenuItems",value:function(e){var t,n,i,a=this.items;if(e[t=this.getField("parentId")]){for(n=this.getIndex(e[t].toString(),!0),i=0;i<n.length;i++)a[n[i]].items||(a[n[i]].items=[]),a=a[n[i]].items;a.push(e)}else this.items.push(e)}},{key:"open",value:function(){_get(_getPrototypeOf(n.prototype),"openHamburgerMenu",this).call(this)}},{key:"close",value:function(){_get(_getPrototypeOf(n.prototype),"closeHamburgerMenu",this).call(this)}}]),n}(UN),eR([bD("Horizontal")],BL.prototype,"orientation",void 0),eR([bD("")],BL.prototype,"target",void 0),eR([bD(null)],BL.prototype,"template",void 0),eR([bD(!1)],BL.prototype,"enableScrolling",void 0),eR([bD(!1)],BL.prototype,"hamburgerMode",void 0),eR([bD("Menu")],BL.prototype,"title",void 0),eR([bD(!1)],BL.prototype,"enableHtmlSanitizer",void 0),eR([kD({},jN)],BL.prototype,"fields",void 0),BL=eR([_D],BL)),iR=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},aR="e-toolbar-items",rR="e-toolbar-item",sR="e-vertical-tab",lR=(UL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),iR([bD("SlideLeftIn")],UL.prototype,"effect",void 0),iR([bD(600)],UL.prototype,"duration",void 0),iR([bD("ease")],UL.prototype,"easing",void 0),UL),oR=(qL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),iR([kD({effect:"SlideLeftIn",duration:600,easing:"ease"},lR)],qL.prototype,"previous",void 0),iR([kD({effect:"SlideRightIn",duration:600,easing:"ease"},lR)],qL.prototype,"next",void 0),qL),uR=(zL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),iR([bD("")],zL.prototype,"text",void 0),iR([bD("")],zL.prototype,"iconCss",void 0),iR([bD("left")],zL.prototype,"iconPosition",void 0),zL),cR=(jL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),iR([kD({},uR)],jL.prototype,"header",void 0),iR([bD(null)],jL.prototype,"headerTemplate",void 0),iR([bD("")],jL.prototype,"content",void 0),iR([bD("")],jL.prototype,"cssClass",void 0),iR([bD(!1)],jL.prototype,"disabled",void 0),iR([bD(!0)],jL.prototype,"visible",void 0),jL),hR=(VL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).show={},a.hide={},a.maxHeight=0,a.title="Close",a.lastIndex=0,a.isAdd=!1,a.isIconAlone=!1,a.resizeContext=a.refreshActElePosition.bind(_assertThisInitialized(a)),a.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},a}return _createClass(n,[{key:"destroy",value:function(){var e=this;if(JO(this.tbObj)||this.tbObj.destroy(),this.unWireEvents(),["role","aria-disabled","aria-activedescendant","tabindex","aria-orientation"].forEach((function(t){e.element.removeAttribute(t)})),this.expTemplateContent(),this.isTemplate){var t=eD(".e-tab > .e-content",this.element);this.element.classList.remove("e-template"),JO(t)||(t.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)JA(this.element.firstElementChild);_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.trigger("destroyed")}},{key:"refresh",value:function(){this.isServerRendered?this.isServerRendered&&(this.tbObj&&(this.tbObj.refreshOverflow(),this.refreshActiveBorder()),"Dynamic"!==this.loadOn&&this.setActiveBorder()):_get(_getPrototypeOf(n.prototype),"refresh",this).call(this)}},{key:"preRender",value:function(){var e=nD(this.element,".e-content");this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwipeed=!1,this.itemIndexArray=[],this.templateEle=[],JO(e)||(e.parentElement.classList.add("e-nested"),this.isNested=!0);var t=KI.info.name,n="msie"===t?"e-ie":"edge"===t?"e-edge":"safari"===t?"e-safari":"";iD(this.element,{width:aI(this.width),height:aI(this.height)}),this.setCssClass(this.element,this.cssClass,!0),QA(this.element,{role:"tablist","aria-disabled":"false","aria-activedescendant":""}),this.setCssClass(this.element,n,!0),this.updatePopAnimationConfig()}},{key:"render",value:function(){this.btnCls=this.createElement("span",{className:"e-icons e-close-icon",attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:wA(),this.renderContainer(),this.wireEvents(),this.initRender=!1}},{key:"renderContainer",value:function(){if(this.isServerRendered)this.isTemplate=!1;else{var e,t=this.element;if(this.items.length>0&&0===t.children.length)t.appendChild(this.createElement("div",{className:"e-content"})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:"e-tab-header"})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,t.classList.add("e-template");var n=t.querySelector(".e-tab-header");n&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,n)}if(!JO(eD(".e-tab-header",this.element))&&!JO(eD(".e-content",this.element)))this.renderHeader(),this.tbItems=eD(".e-tab-header ."+aR,this.element),JO(this.tbItems)||AD(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),tD("."+rR,this.element).length>0&&(this.tbItems=eD(".e-tab-header ."+aR,this.element),this.bdrLine=this.createElement("div",{className:"e-indicator e-hidden e-ignore"}),JO(e=eD("."+this.scrCntClass,this.tbItems))?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):e.insertBefore(this.bdrLine,e.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)),this.setRTL(this.enableRtl)}}},{key:"serverItemsChanged",value:function(){if(this.enableAnimation=!1,this.setActive(this.selectedItem,!0),"Dynamic"!==this.loadOn&&!JO(this.cntEle)){var e=[].slice.call(this.cntEle.children),t="e-content"+this.tabId+"_"+this.selectedItem;e.forEach((function(e){e.classList.contains("e-active")&&e.id!==t&&e.classList.remove("e-active"),e.id===t&&e.classList.add("e-active")})),this.prevIndex=this.selectedItem,this.triggerAnimation("e-item"+this.tabId+"_"+this.selectedItem,!1)}this.enableAnimation=!0}},{key:"headerReady",value:function(){var e;if(this.initRender=!0,this.hdrEle=this.getTabHeader(),this.setOrientation(this.headerPlacement,this.hdrEle),JO(this.hdrEle)||(this.tbObj=this.hdrEle&&this.hdrEle.ej2_instances[0]),this.tbObj.clicked=this.clickHandler.bind(this),this.tbObj.on("onItemsChanged",this.serverItemsChanged.bind(this)),this.tbItems=eD(".e-tab-header ."+aR,this.element),JO(this.tbItems)||AD(this.tbItems,{selector:".e-tab-wrap"}),tD("."+rR,this.element).length>0&&(this.bdrLine=eD(".e-indicator.e-ignore",this.element),JO(e=eD("."+this.scrCntClass,this.tbItems))?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstElementChild):e.insertBefore(this.bdrLine,e.firstElementChild),this.select(this.selectedItem)),this.cntEle=eD(".e-tab > .e-content",this.element),JO(this.cntEle)||(this.touchModule=new rM(this.cntEle,{swipe:this.swipeHandler.bind(this)})),"Demand"===this.loadOn){var t=this.setActiveContent();this.triggerAnimation(t,!1)}this.initRender=!1,this.renderComplete()}},{key:"setActiveContent",value:function(){var e="e-item"+this.tabId+"_"+this.selectedItem,t=this.getTrgContent(this.cntEle,this.extIndex(e));return JO(t)||t.classList.add("e-active"),e}},{key:"renderHeader",value:function(){var e=this,t=this.headerPlacement,n=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains("e-tab-header")&&this.setProperties({headerPlacement:"Bottom"},!0);for(var i=this.hdrEle.children.length,a=[],r=0;r<i;r++)a.push(this.hdrEle.children.item(r).innerHTML);if(i>0){for(;this.hdrEle.firstElementChild;)ZA(this.hdrEle.firstElementChild);var s=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(s),a.forEach((function(t,n){e.lastIndex=n;var i={className:"e-item",id:"e-item"+e.tabId+"_"+n,attrs:{role:"tab","aria-controls":"e-content"+e.tabId+"_"+n,"aria-selected":"false"}},a=e.createElement("span",{className:"e-tab-text",innerHTML:t,attrs:{role:"presentation"}}).outerHTML,r=e.createElement("div",{className:"e-text-wrap",innerHTML:a+e.btnCls.outerHTML}).outerHTML,l=e.createElement("div",{className:"e-tab-wrap",innerHTML:r,attrs:{tabIndex:"-1"}});s.appendChild(e.createElement("div",i)),tD(".e-item",s)[n].appendChild(l)}))}}else n=this.parseObject(this.items,0);this.tbObj=new ZN({width:"Left"===t||"Right"===t?"auto":"100%",height:"Left"===t||"Right"===t?"100%":"auto",overflowMode:this.overflowMode,items:0!==n.length?n:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),QA(this.hdrEle,{"aria-label":"tab-header"}),this.updateOrientationAttribute(),this.setCloseButton(this.showCloseButton)}},{key:"renderContent",value:function(){this.cntEle=eD(".e-content",this.element);var e=tD("."+rR,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";for(var t=this.cntEle.children,n=0;n<e.length;n++)t.length-1>=n&&(t.item(n).className+="e-item",QA(t.item(n),{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_"+n}),t.item(n).id="e-content"+this.tabId+"_"+n)}}},{key:"reRenderItems",value:function(){this.renderContainer(),JO(this.cntEle)||(this.touchModule=new rM(this.cntEle,{swipe:this.swipeHandler.bind(this)}))}},{key:"parseObject",value:function(e,t){var n,i=this,a=tD("."+rR,this.element).length,r=[],s=[];return e.forEach((function(e,l){var o=JO(e.header)||JO(e.header.iconPosition)?"":e.header.iconPosition,u=JO(e.header)||JO(e.header.iconCss)?"":e.header.iconCss;if(JO(e.headerTemplate)&&(JO(e.header)||JO(e.header.text)||0===e.header.text.length&&""===u))s.push(l);else{var c=e.headerTemplate||e.header.text;i.lastIndex=0===a?l:i.isReplace?t+l:i.lastIndex+1;var h=e.disabled?" e-disable e-overlay":"",d=!1===e.visible?" e-hidden":"";n=i.createElement("div",{className:"e-tab-text",attrs:{role:"presentation"}});var p=c instanceof Object?c.outerHTML:c,f=!JO(p)&&""!==p;JO(c.tagName)?i.headerTextCompile(n,c,l):n.appendChild(c);var m=i.createElement("span",{className:"e-icons e-tab-icon e-icon-"+o+" "+u}),g=i.createElement("div",{className:"e-text-wrap"});g.appendChild(n),""!==c&&void 0!==c&&""!==u?("left"===o||"top"===o?g.insertBefore(m,g.firstElementChild):g.appendChild(m),i.isIconAlone=!1):(""===u?n:m)===m&&(ZA(n),g.appendChild(m),i.isIconAlone=!0);var v=e.disabled?{}:{tabIndex:"-1"};g.appendChild(i.btnCls.cloneNode(!0));var y=i.createElement("div",{className:"e-tab-wrap",attrs:v});y.appendChild(g),i.itemIndexArray===[]?i.itemIndexArray.push("e-item"+i.tabId+"_"+i.lastIndex):i.itemIndexArray.splice(t+l,0,"e-item"+i.tabId+"_"+i.lastIndex);var b={htmlAttributes:{id:"e-item"+i.tabId+"_"+i.lastIndex,role:"tab","aria-selected":"false"},template:y};b.cssClass=(void 0!==e.cssClass?e.cssClass:" ")+" "+h+" "+d+(""!==u?"e-i"+o:"")+" "+(f?"":"e-icon"),"top"!==o&&"bottom"!==o||i.element.classList.add("e-vertical-icon"),r.push(b),l++}})),this.isAdd||s.forEach((function(e){i.items.splice(e,1)})),this.isIconAlone?this.element.classList.add("e-icon-tab"):this.element.classList.remove("e-icon-tab"),r}},{key:"removeActiveClass",value:function(){var e=this.getTabHeader();if(e){var t=tD(".e-toolbar-item.e-active",e);[].slice.call(t).forEach((function(e){return e.classList.remove("e-active")}))}}},{key:"checkPopupOverflow",value:function(e){this.tbPop=eD(".e-toolbar-pop",this.element);var t=eD(".e-hor-nav",this.element),n=eD("."+aR,this.element),i=n.lastChild,a=!1;return!this.isVertical()&&(this.enableRtl&&t.offsetLeft+t.offsetWidth>n.offsetLeft||!this.enableRtl&&t.offsetLeft<n.offsetWidth)?a=!0:this.isVertical()&&t.offsetTop<i.offsetTop+i.offsetHeight&&(a=!0),a&&(e.classList.add("e-toolbar-popup"),this.tbPop.insertBefore(e,tD(".e-toolbar-popup",this.tbPop)[0])),!0}},{key:"popupHandler",value:function(e){var t=e.querySelector(".e-ripple-element");JO(t)||(t.outerHTML="",e.querySelector(".e-tab-wrap").classList.remove("e-ripple")),this.tbItem=tD(".e-toolbar-items ."+rR,this.hdrEle);var n=this.tbItem[this.tbItem.length-1];return 0!==this.tbItem.length&&(e.classList.remove("e-toolbar-popup"),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(n)&&this.checkPopupOverflow(this.tbItems.lastChild.previousElementSibling),this.isPopup=!0),tD("."+rR,this.tbItems).length-1}},{key:"updateOrientationAttribute",value:function(){QA(this.element,{"aria-orientation":this.isVertical()?"vertical":"horizontal"})}},{key:"setCloseButton",value:function(e){var t=eD(".e-tab-header",this.element);!0===e?t.classList.add("e-close-show"):t.classList.remove("e-close-show"),this.tbObj.refreshOverflow(),this.refreshActElePosition()}},{key:"prevCtnAnimation",value:function(e,t){return this.enableRtl||this.element.classList.contains("e-rtl"),this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null}},{key:"triggerPrevAnimation",value:function(e,t){var n=this,i=this.prevCtnAnimation(t,this.selectedItem);JO(i)?e.classList.remove("e-active"):(i.begin=function(){iD(e,{position:"absolute"}),e.classList.add("e-progress"),e.classList.add("e-view")},i.end=function(){e.style.display="none",e.classList.remove("e-active"),e.classList.remove("e-progress"),e.classList.remove("e-view"),iD(e,{display:"",position:""}),0!==e.childNodes.length||n.isTemplate||ZA(e)},new ID(i).animate(e))}},{key:"triggerAnimation",value:function(e,t){var n,i,a=this,r=this.prevIndex;if(!this.isServerRendered||this.isServerRendered&&"Dynamic"!==this.loadOn){[].slice.call(this.element.querySelector(".e-content").children).forEach((function(e){e.id===a.prevActiveEle&&(n=e)}));var s=this.tbItem[r];if(i=this.getTrgContent(this.cntEle,this.extIndex(e)),JO(n)&&!JO(s)){var l=this.extIndex(s.id);n=this.getTrgContent(this.cntEle,l)}}else i=this.cntEle.firstElementChild;if(JO(i)||(this.prevActiveEle=i.id),this.initRender||!1===t||this.animation==={}||JO(this.animation))n&&n!==i&&n.classList.remove("e-active");else{var o,u=eD(".e-content",this.element);if(this.prevIndex>this.selectedItem&&!this.isPopup){var c=this.animation.previous.effect;o={name:"None"===c?"":"SlideLeftIn"!==c?c:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){var h=this.animation.next.effect;o={name:"None"===h?"":"SlideRightIn"!==h?h:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}o.progress=function(){u.classList.add("e-progress"),a.setActiveBorder()},o.end=function(){u.classList.remove("e-progress"),i.classList.add("e-active")},this.initRender||JO(n)||this.triggerPrevAnimation(n,r),this.isPopup=!1,""===o.name?i.classList.add("e-active"):new ID(o).animate(i)}}},{key:"keyPressed",value:function(e){var t=nD(e,".e-tab-header ."+rR),n=this.getEleIndex(t);!JO(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():JO(t)||!1!==t.classList.contains("e-active")||(this.select(n),JO(this.popEle)||this.popObj.hide(this.hide))}},{key:"getTabHeader",value:function(){var e=[].slice.call(this.element.children).filter((function(e){return e.classList.contains("e-tab-header")}));if(e.length>0)return e[0];var t=[].slice.call(this.element.children).filter((function(e){return!e.classList.contains("blazor-template")}))[0];return t?[].slice.call(t.children).filter((function(e){return e.classList.contains("e-tab-header")}))[0]:void 0}},{key:"getEleIndex",value:function(e){return Array.prototype.indexOf.call(tD("."+rR,this.getTabHeader()),e)}},{key:"extIndex",value:function(e){return e.replace("e-item"+this.tabId+"_","")}},{key:"expTemplateContent",value:function(){var e=this;this.templateEle.forEach((function(t){JO(e.element.querySelector(t))||(document.body.appendChild(e.element.querySelector(t)).style.display="none")}))}},{key:"templateCompile",value:function(e,t,n){var i=this.createElement("div");this.compileElement(i,t,"content",n),0!==i.childNodes.length&&e.appendChild(i)}},{key:"compileElement",value:function(e,t,n,i){var a,r;JO(a=_A(t))||(r=a({},this,n)),!JO(a)&&r.length>0&&[].slice.call(r).forEach((function(t){e.appendChild(t)}))}},{key:"headerTextCompile",value:function(e,t,n){this.compileElement(e,t,"headerTemplate",n)}},{key:"getContent",value:function(e,t,n,i){var a;if("string"==typeof t||JO(t.innerHTML))if("string"==typeof t&&this.enableHtmlSanitizer&&(t=uM.sanitize(t)),"."===t[0]||"#"===t[0])if(document.querySelectorAll(t).length){var r=document.querySelector(t);a=r.outerHTML.trim(),"clone"===n?e.appendChild(r.cloneNode(!0)):(e.appendChild(r),r.style.display="")}else this.templateCompile(e,t,i);else this.templateCompile(e,t,i);else e.appendChild(t);JO(a)||-1===this.templateEle.indexOf(t.toString())&&this.templateEle.push(t.toString())}},{key:"getTrgContent",value:function(e,t){return this.element.classList.contains("e-nested")?eD(".e-nested> .e-content > #e-content"+this.tabId+"_"+t,this.element):this.findEle(e.children,"e-content"+this.tabId+"_"+t)}},{key:"findEle",value:function(e,t){for(var n,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n}},{key:"isVertical",value:function(){var e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e}},{key:"addVerticalClass",value:function(){if(this.isVertical()){var e="Left"===this.headerPlacement?"e-vertical-left":"e-vertical-right";UA([this.hdrEle],["e-vertical",e]),this.element.classList.contains("e-nested")?UA([this.hdrEle],[sR,e]):UA([this.element],[sR,e])}"Bottom"===this.headerPlacement&&UA([this.hdrEle],["e-horizontal-bottom"])}},{key:"updatePopAnimationConfig",value:function(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}}},{key:"changeOrientation",value:function(e){this.setOrientation(e,this.hdrEle);var t=!!this.hdrEle.classList.contains("e-vertical");WA([this.element],[sR]),WA([this.hdrEle],["e-vertical","e-vertical-left","e-vertical-right"]),t!==this.isVertical()&&this.changeToolbarOrientation(),this.addVerticalClass(),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()}},{key:"focusItem",value:function(){var e=eD(" #e-item"+this.tabId+"_"+this.selectedItem,this.hdrEle);JO(e)||e.firstElementChild.focus()}},{key:"serverChangeOrientation",value:function(e,t){this.setOrientation(e,this.hdrEle),WA([this.element],[sR]),("Left"===e||"Right"===e)!=("Left"===t||"Right"===t)&&this.changeToolbarOrientation(),this.isVertical()&&UA([this.element],[sR]),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()}},{key:"changeToolbarOrientation",value:function(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()}},{key:"setOrientation",value:function(e,t){var n=Array.prototype.indexOf.call(this.element.children,t),i=Array.prototype.indexOf.call(this.element.children,this.element.querySelector(".e-content"));"Bottom"===e&&i>n?this.element.appendChild(t):(WA([t],["e-horizontal-bottom"]),this.element.insertBefore(t,eD(".e-content",this.element)))}},{key:"setCssClass",value:function(e,t,n){if(""!==t)for(var i=t.split(" "),a=0;a<i.length;a++)n?e.classList.add(i[a]):e.classList.remove(i[a])}},{key:"setContentHeight",value:function(e){if(this.element.classList.contains("e-fill-mode")&&WA([this.element],["e-fill-mode"]),!JO(this.cntEle)){var t=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||iD(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)UA([this.element],["e-fill-mode"]),iD(this.element,{height:"100%"}),iD(this.cntEle,{height:"100%"});else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate)for(var n=tD(".e-content > .e-item",this.element),i=0;i<n.length;i++)n[i].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(n[i])),n[i].style.removeProperty("display"),n[i].style.removeProperty("visibility");else{this.cntEle=eD(".e-content",this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:"e-content"+this.tabId+"_0",className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_0"}}));for(var a=this.cntEle.children.item(0),r=0;r<this.items.length;r++)for(this.getContent(a,this.items[r].content,"clone",r),this.maxHeight=Math.max(this.maxHeight,this.getHeight(a));a.firstChild;)a.removeChild(a.firstChild);this.clearTemplate(["content"]),this.templateEle=[],this.getContent(a,this.items[0].content,"render",0),a.classList.remove("e-active")}iD(this.cntEle,{height:this.maxHeight+"px"})}else iD(this.cntEle,{height:"auto"})}}},{key:"getHeight",value:function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}},{key:"setActiveBorder",value:function(){var e,t,n=this.getTabHeader(),i=eD(".e-toolbar-item.e-active",n);if(null!==i){this.isServerRendered&&i.classList.contains("e-toolbar-popup")&&this.popupHandler(i);var a=nD(i,".e-tab");if(this.element===a){if(this.tbItems=eD("."+aR,n),e=eD(".e-indicator",n),t=eD(".e-toolbar-items ."+this.scrCntClass,n),this.isVertical())iD(e,{left:"",right:""}),iD(e,0!==(JO(t)?this.tbItems.offsetHeight:t.offsetHeight)?{top:i.offsetTop+"px",height:i.offsetHeight+"px"}:{top:0,height:0});else{iD(e,{top:"",height:""});var r=JO(t)?this.tbItems.offsetWidth:t.offsetWidth;iD(e,0!==r?{left:i.offsetLeft+"px",right:r-(i.offsetLeft+i.offsetWidth)+"px"}:{left:"auto",right:"auto"})}JO(this.bdrLine)||this.bdrLine.classList.remove("e-hidden")}}}},{key:"setActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tbItem=tD("."+rR,this.getTabHeader());var n=this.tbItem[e];if(this.isServerRendered&&n&&(e=parseInt(n.getAttribute("data-index"),10)),!(e<0||isNaN(e)||0===this.tbItem.length))if(e>=0&&!t&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),n.classList.contains("e-active"))this.setActiveBorder();else{if(!this.isTemplate){var i=this.tbItem[this.prevIndex];JO(i)||i.removeAttribute("aria-controls"),QA(n,{"aria-controls":"e-content"+this.tabId+"_"+e})}var a=n.id;this.removeActiveClass(),n.classList.add("e-active"),n.setAttribute("aria-selected","true");var r=Number(this.extIndex(a));if(JO(this.prevActiveEle)&&(this.prevActiveEle="e-content"+this.tabId+"_"+r),QA(this.element,{"aria-activedescendant":a}),this.isTemplate){if(eD(".e-content",this.element).children.length>0){var s=this.findEle(eD(".e-content",this.element).children,"e-content"+this.tabId+"_"+r);JO(s)||s.classList.add("e-active"),this.triggerAnimation(a,this.enableAnimation)}}else if(!this.isServerRendered||this.isServerRendered&&"Init"===this.loadOn){this.cntEle=eD(".e-tab > .e-content",this.element);var l=this.getTrgContent(this.cntEle,this.extIndex(a));if(JO(l)){this.cntEle.appendChild(this.createElement("div",{id:"e-content"+this.tabId+"_"+this.extIndex(a),className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_"+this.extIndex(a)}}));var o=this.getTrgContent(this.cntEle,this.extIndex(a)),u=Array.prototype.indexOf.call(this.itemIndexArray,a);this.getContent(o,this.items[u].content,"render",u)}else l.classList.add("e-active");this.triggerAnimation(a,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(n),!this.initRender&&!t){n.firstElementChild.focus();var c={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:n,selectedIndex:e,selectedContent:eD("#e-content"+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed};this.trigger("selected",c)}}}},{key:"contentReady",value:function(){var e=this.setActiveContent();this.triggerAnimation(e,this.enableAnimation)}},{key:"setItems",value:function(e){this.isReplace=!0,this.tbItems=eD("."+aR,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1}},{key:"setRTL",value:function(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,"e-rtl",e),this.refreshActiveBorder()}},{key:"refreshActiveBorder",value:function(){JO(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.setActiveBorder()}},{key:"showPopup",value:function(e){var t=eD(".e-popup.e-toolbar-pop",this.hdrEle);if(t.classList.contains("e-popup-close")){var n=t&&t.ej2_instances[0];n.position.X="Left"===this.headerPlacement?"left":"right",n.dataBind(),n.show(e)}}},{key:"wireEvents",value:function(){window.addEventListener("resize",this.resizeContext),$I.add(this.element,"mouseover",this.hoverHandler,this),$I.add(this.element,"keydown",this.spaceKeyDown,this),JO(this.cntEle)||(this.touchModule=new rM(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new eM(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new eM(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})}},{key:"unWireEvents",value:function(){this.keyModule.destroy(),this.tabKeyModule.destroy(),JO(this.cntEle)||this.touchModule.destroy(),window.removeEventListener("resize",this.resizeContext),$I.remove(this.element,"mouseover",this.hoverHandler),$I.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove("e-rtl"),this.element.classList.remove("e-focused")}},{key:"clickHandler",value:function(e){this.element.classList.remove("e-focused");var t=e.originalEvent.target,n=nD(t,"."+rR),i=this.getEleIndex(n);t.classList.contains("e-close-icon")?this.removeTab(i):this.isVertical()&&nD(t,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,this.isServerRendered&&!JO(n)?parseInt(n.getAttribute("data-index"),10)!==this.selectedItem&&this.select(i):JO(n)||i===this.selectedItem&&i===this.prevIndex||this.select(i))}},{key:"swipeHandler",value:function(e){if(!(e.velocity<3&&JO(e.originalEvent.changedTouches))){if(this.isSwipeed=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(var t=this.selectedItem-1;t>=0;t--)if(!this.tbItem[t].classList.contains("e-hidden")){this.select(t);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==tD("."+rR,this.element).length-1)for(var n=this.selectedItem+1;n<this.tbItem.length;n++)if(!this.tbItem[n].classList.contains("e-hidden")){this.select(n);break}this.isSwipeed=!1}}},{key:"spaceKeyDown",value:function(e){(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which)&&(JO(nD(e.target,".e-tab-header"))||e.preventDefault())}},{key:"keyHandler",value:function(e){if(!this.element.classList.contains("e-disable")){this.element.classList.add("e-focused");var t=e.target,n=this.getTabHeader(),i=eD(".e-active",n);switch(this.popEle=eD(".e-toolbar-pop",n),JO(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]),e.action){case"space":case"enter":if(t.parentElement.classList.contains("e-disable"))return;if("enter"===e.action&&t.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(t);break;case"tab":case"shiftTab":t.classList.contains("e-tab-wrap")&&!1===nD(t,"."+rR).classList.contains("e-active")&&t.setAttribute("tabindex","-1"),this.popObj&&GA(this.popObj.element)&&this.popObj.hide(this.hide),i.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":var a=nD(document.activeElement,"."+rR);JO(a)||this.refreshItemVisibility(a);break;case"openPopup":e.preventDefault(),!JO(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":var r=nD(t,"."+rR);if(!0===this.showCloseButton&&!JO(r)){var s=r.nextSibling;!JO(s)&&s.classList.contains(rR)&&s.firstElementChild.focus(),this.removeTab(this.getEleIndex(r))}this.setActiveBorder()}}}},{key:"refreshActElePosition",value:function(){var e=eD(".e-toolbar-item.e-toolbar-popup.e-active",this.element);JO(e)||this.select(this.getEleIndex(e)),this.refreshActiveBorder()}},{key:"refreshItemVisibility",value:function(e){var t=eD("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!JO(t)){var n=eD(".e-hscroll-bar",this.tbItems),i=n.scrollLeft,a=i+n.offsetWidth,r=e.offsetLeft,s=e.offsetWidth,l=e.offsetLeft+e.offsetWidth;i<r&&a<l?n.scrollLeft=i+(s-(a-r)):i>r&&a>l&&(n.scrollLeft=i-(s-(l-i)))}}},{key:"hoverHandler",value:function(e){var t=e.target;!JO(t.classList)&&t.classList.contains("e-close-icon")&&t.setAttribute("title",new tM("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))}},{key:"evalOnPropertyChangeItems",value:function(e,t){if(e.items instanceof Array&&t.items instanceof Array)if(this.lastIndex=0,JO(this.tbObj))this.reRenderItems();else{this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];for(var n=eD(".e-tab > .e-content",this.element);n.firstElementChild;)ZA(n.firstElementChild);this.select(this.selectedItem)}else for(var i=Object.keys(e.items),a=0;a<i.length;a++){var r=parseInt(Object.keys(e.items)[a],10),s=Object.keys(e.items[r])[0],l=Object(t.items[r])[s],o=Object(e.items[r])[s],u=eD(".e-toolbar-items #e-item"+this.tabId+"_"+r,this.element),c=eD(".e-content #e-content"+this.tabId+"_"+r,this.element);if("header"===s||"headerTemplate"===s){var h=JO(this.items[r].header)||JO(this.items[r].header.iconCss)?"":this.items[r].header.iconCss;if(""===(this.items[r].headerTemplate||this.items[r].header.text)&&""===h)this.removeTab(r);else{var d=[];d.push(this.items[r]),this.items.splice(r,1),this.itemIndexArray.splice(r,1),this.tbObj.items.splice(r,1);var p=u.classList.contains("e-hidden");ZA(u),this.isReplace=!0,this.addTab(d,r),p&&this.hideTab(r),this.isReplace=!1}}if("content"===s&&!JO(c))if("string"!=typeof o&&!JO(o.innerHTML)||"."!==o[0]&&"#"!==o[0]||!o.length)""===o&&"#"===l[0]?(document.body.appendChild(this.element.querySelector(l)).style.display="none",c.innerHTML=o):c.innerHTML=o;else{var f=document.querySelector(o);c.appendChild(f),f.style.display=""}"cssClass"===s&&(JO(u)||(u.classList.remove(l),u.classList.add(o)),JO(c)||(c.classList.remove(l),c.classList.add(o))),"disabled"===s&&this.enableTab(r,!0!==o),"visible"===s&&this.hideTab(r,!0!==o)}}},{key:"enableTab",value:function(e,t){var n=tD("."+rR,this.element)[e];JO(n)||(!0===t?(n.classList.remove("e-disable","e-overlay"),n.firstElementChild.setAttribute("tabindex","-1")):(n.classList.add("e-disable","e-overlay"),n.firstElementChild.removeAttribute("tabindex"),n.classList.contains("e-active")&&this.select(e+1)),JO(this.items[e])||(this.items[e].disabled=!t,this.dataBind()),n.setAttribute("aria-disabled",!0===t?"false":"true"))}},{key:"addTab",value:function(e,t){var n=this,i={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,t):this.trigger("adding",i,(function(i){i.cancel||n.addingTabContent(e,t)}))}},{key:"addingTabContent",value:function(e,t){var n=this,i=0;if(this.hdrEle=eD(".e-tab-header",this.element),JO(this.hdrEle))this.items=e,this.reRenderItems();else{var a=tD("."+rR,this.element).length;if(0!==a&&(i=this.lastIndex+1),JO(t)&&(t=a-1),a<t||t<0||isNaN(t))return;0!==a||JO(this.hdrEle)||(this.hdrEle.style.display=""),JO(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.tbItems=eD("."+aR,this.getTabHeader()),this.isAdd=!0;var r=this.parseObject(e,t);this.isAdd=!1;var s,l=0;e.forEach((function(e,a){if(s=e.headerTemplate||e.header.text,JO(e.headerTemplate||e.header)||JO(s)||0===s.length&&JO(e.header.iconCss)||(n.items.splice(t+l,0,e),l++),n.isTemplate&&!JO(e.header)&&!JO(e.header.text)){var r=i+a,o=n.createElement("div",{id:"e-content"+n.tabId+"_"+r,className:"e-item",attrs:{role:"tabpanel","aria-labelledby":"e-item_"+r}});n.cntEle.insertBefore(o,n.cntEle.children[t+a]);var u=n.getTrgContent(n.cntEle,r.toString());n.getContent(u,e.content,"render",t)}})),this.tbObj.addItems(r,t),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===t?this.select(t):this.setActiveBorder()}}},{key:"removeTab",value:function(e){var t=this,n=tD("."+rR,this.element)[e];JO(n)||this.trigger("removing",{removedItem:n,removedIndex:e,cancel:!1},(function(i){if(!i.cancel){t.tbObj.removeItems(e),t.items.splice(e,1),t.itemIndexArray.splice(e,1),t.refreshActiveBorder();var a=eD("#e-content"+t.tabId+"_"+t.extIndex(n.id),eD(".e-content",t.element));JO(a)||ZA(a),t.trigger("removed",i),n.classList.contains("e-active")&&(e=e>tD(".e-toolbar-item:not(.e-toolbar-popup)",t.element).length-1?e-1:e,t.enableAnimation=!1,t.selectedItem=e,t.select(e)),0===tD("."+rR,t.element).length&&(t.hdrEle.style.display="none"),t.enableAnimation=!0}}))}},{key:"hideTab",value:function(e,t){var n,i=tD("."+rR,this.element)[e];if(!JO(i)){if(JO(t)&&(t=!0),this.bdrLine.classList.add("e-hidden"),!0===t)if(i.classList.add("e-hidden"),0!==(n=tD(".e-toolbar-item:not(.e-hidden)",this.tbItems)).length&&i.classList.contains("e-active")){if(0!==e)for(var a=e-1;a>=0;a--){if(!this.tbItem[a].classList.contains("e-hidden")){this.select(a);break}if(0===a)for(var r=e+1;r<this.tbItem.length;r++)if(!this.tbItem[r].classList.contains("e-hidden")){this.select(r);break}}else for(var s=e+1;s<this.tbItem.length;s++)if(!this.tbItem[s].classList.contains("e-hidden")){this.select(s);break}}else 0===n.length&&this.element.classList.add("e-hidden");else this.element.classList.remove("e-hidden"),n=tD(".e-toolbar-item:not(.e-hidden)",this.tbItems),i.classList.remove("e-hidden"),0===n.length&&this.select(e);this.setActiveBorder(),i.setAttribute("aria-hidden",""+t),!this.isServerRendered&&"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}}},{key:"select",value:function(e){var t=this,n=this.getTabHeader();this.tbItems=eD("."+aR,n),this.tbItem=tD("."+rR,n),this.content=eD(".e-content",this.element),this.prevItem=this.tbItem[this.prevIndex],JO(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);var i=this.tbItem[e];JO(i)?this.selectedID="0":this.selectingID=this.extIndex(i.id),JO(this.prevItem)||this.prevItem.classList.contains("e-disable")||this.prevItem.children.item(0).setAttribute("tabindex","-1");var a={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:JO(this.content)?null:eD("#e-content"+this.tabId+"_"+this.selectedID,this.content),selectingItem:i,selectingIndex:e,selectingContent:JO(this.content)?null:eD("#e-content"+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed,cancel:!1};this.initRender?this.selectingContent(e):this.trigger("selecting",a,(function(n){n.cancel||t.selectingContent(e)}))}},{key:"selectingContent",value:function(e){if("number"==typeof e){if(!JO(this.tbItem[e])&&(this.tbItem[e].classList.contains("e-disable")||this.tbItem[e].classList.contains("e-hidden")))for(var t=e+1;t<this.items.length;t++){if(!1===this.items[t].disabled&&!0===this.items[t].visible){e=t;break}e=0}this.tbItem.length>e&&e>=0&&!isNaN(e)?(this.prevIndex=this.selectedItem,this.tbItem[e].classList.contains("e-toolbar-popup")?this.setActive(this.popupHandler(this.tbItem[e])):this.setActive(e)):this.setActive(0)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e))}},{key:"disable",value:function(e){this.setCssClass(this.element,"e-disable",e),this.element.setAttribute("aria-disabled",""+e)}},{key:"getPersistData",value:function(){return this.addOnPersist(["selectedItem","actEleId"])}},{key:"getModuleName",value:function(){return"tab"}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"width":iD(this.element,{width:aI(e.width)});break;case"height":iD(this.element,{height:aI(e.height)}),this.isServerRendered||this.setContentHeight(!1);break;case"cssClass":""!==t.cssClass?(this.setCssClass(this.element,t.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0)):this.setCssClass(this.element,e.cssClass,!0);break;case"items":this.isServerRendered||this.evalOnPropertyChangeItems(e,t);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"selectedItem":this.isServerRendered||(this.selectedItem=t.selectedItem,this.select(e.selectedItem));break;case"headerPlacement":this.isServerRendered?this.serverChangeOrientation(e.headerPlacement,t.headerPlacement):this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActElePosition();break;case"heightAdjustMode":this.isServerRendered||(this.setContentHeight(!1),this.select(this.selectedItem));break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep)}}}]),n}(zD),iR([CD([],cR)],VL.prototype,"items",void 0),iR([bD("100%")],VL.prototype,"width",void 0),iR([bD("auto")],VL.prototype,"height",void 0),iR([bD("")],VL.prototype,"cssClass",void 0),iR([bD(0)],VL.prototype,"selectedItem",void 0),iR([bD("Top")],VL.prototype,"headerPlacement",void 0),iR([bD("Content")],VL.prototype,"heightAdjustMode",void 0),iR([bD("Scrollable")],VL.prototype,"overflowMode",void 0),iR([bD("Dynamic")],VL.prototype,"loadOn",void 0),iR([bD(!1)],VL.prototype,"enablePersistence",void 0),iR([bD(!1)],VL.prototype,"enableHtmlSanitizer",void 0),iR([bD(!1)],VL.prototype,"showCloseButton",void 0),iR([bD()],VL.prototype,"scrollStep",void 0),iR([kD({},oR)],VL.prototype,"animation",void 0),iR([wD()],VL.prototype,"created",void 0),iR([wD()],VL.prototype,"adding",void 0),iR([wD()],VL.prototype,"added",void 0),iR([wD()],VL.prototype,"selecting",void 0),iR([wD()],VL.prototype,"selected",void 0),iR([wD()],VL.prototype,"removing",void 0),iR([wD()],VL.prototype,"removed",void 0),iR([wD()],VL.prototype,"destroyed",void 0),VL=iR([_D],VL)),dR=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},pR="e-icon-collapsible",fR="e-icon-expandable",mR="e-list-item",gR="e-list-text",vR="e-list-parent",yR="e-hover",bR="e-icons-spinner",kR="e-process",CR="e-text-content",wR="e-sibling",_R="e-drop-next",xR="e-checkbox-wrapper",SR="e-node-focus",ER={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},OR=(KL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),dR([bD("child")],KL.prototype,"child",void 0),dR([bD([])],KL.prototype,"dataSource",void 0),dR([bD("expanded")],KL.prototype,"expanded",void 0),dR([bD("hasChildren")],KL.prototype,"hasChildren",void 0),dR([bD("htmlAttributes")],KL.prototype,"htmlAttributes",void 0),dR([bD("iconCss")],KL.prototype,"iconCss",void 0),dR([bD("id")],KL.prototype,"id",void 0),dR([bD("imageUrl")],KL.prototype,"imageUrl",void 0),dR([bD("isChecked")],KL.prototype,"isChecked",void 0),dR([bD("parentID")],KL.prototype,"parentID",void 0),dR([bD(null)],KL.prototype,"query",void 0),dR([bD("selected")],KL.prototype,"selected",void 0),dR([bD(null)],KL.prototype,"tableName",void 0),dR([bD("text")],KL.prototype,"text",void 0),dR([bD("tooltip")],KL.prototype,"tooltip",void 0),dR([bD("navigateUrl")],KL.prototype,"navigateUrl",void 0),KL),IR=(XL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),dR([bD("SlideDown")],XL.prototype,"effect",void 0),dR([bD(400)],XL.prototype,"duration",void 0),dR([bD("linear")],XL.prototype,"easing",void 0),XL),AR=(GL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),dR([kD({effect:"SlideUp",duration:400,easing:"linear"},IR)],GL.prototype,"collapse",void 0),dR([kD({effect:"SlideDown",duration:400,easing:"linear"},IR)],GL.prototype,"expand",void 0),GL),DR=(YL=WL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).isRefreshed=!1,a.preventExpand=!1,a.checkedElement=[],a.disableNode=[],a.validArr=[],a.expandChildren=[],a.isFieldChange=!1,a.changeDataSource=!1,a.isBlazorExpandedNodes=[],a.mouseDownStatus=!1,a}return _createClass(n,[{key:"getModuleName",value:function(){return"treeview"}},{key:"preRender",value:function(){var e=this;this.isBlazorPlatform=!1,this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:fR,ariaAttributes:ER,expandIconPosition:"Left",itemCreated:function(t){e.beforeNodeCreate(t)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new ID({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),JO(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),JO(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),JO(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0}},{key:"getPersistData",value:function(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])}},{key:"render",value:function(){this.initialRender=!0,this.blazorInitialRender=!1,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.isBlazorPlatform||(this.initialRender=!1),this.renderComplete()}},{key:"initialize",value:function(){this.isBlazorPlatform||(this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect)),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)}},{key:"setDisabledMode",value:function(){this.disabled?this.element.classList.add("e-disabled"):this.element.classList.remove("e-disabled")}},{key:"setEnableRtl",value:function(){this.enableRtl?UA([this.element],"e-rtl"):WA([this.element],"e-rtl")}},{key:"setRipple",value:function(){this.rippleFn=AD(this.element,{selector:".e-fullrow,.e-text-content",ignore:"."+CR+" > .e-icons,.e-input-group,.e-input, ."+xR}),this.rippleIconFn=AD(this.element,{selector:"."+CR+" > .e-icons",isCenterRipple:!0})}},{key:"setFullRow",value:function(e){e?UA([this.element],"e-fullrow-wrap"):WA([this.element],"e-fullrow-wrap")}},{key:"setMultiSelect",value:function(e){var t=eD("."+vR,this.element);e?t.setAttribute("aria-multiselectable","true"):t.removeAttribute("aria-multiselectable")}},{key:"templateComplier",value:function(e){if(e)try{if(document.querySelectorAll(e).length)return _A(document.querySelector(e).innerHTML.trim())}catch($K){return _A(e)}}},{key:"setDataBinding",value:function(e){var t=this;this.treeList.push("false"),this.fields.dataSource instanceof AM?this.fields.dataSource.ready?this.fields.dataSource.ready.then((function(e){t.fields.dataSource instanceof AM&&t.fields.dataSource.dataSource.offline&&(t.treeList.pop(),t.treeData=e.result,t.isNumberTypeId=t.getType(),t.setRootData(),t.renderItems(!0),0!==t.treeList.length||t.isLoaded||t.finalize())})).catch((function(e){t.trigger("actionFailure",{error:e})})):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then((function(n){t.treeList.pop(),t.treeData=n.result,t.isNumberTypeId=t.getType(),t.setRootData(),e&&(t.changeDataSource=!0),t.renderItems(!0),t.changeDataSource=!1,0!==t.treeList.length||t.isLoaded||t.finalize()})).catch((function(e){t.trigger("actionFailure",{error:e})})):(this.treeList.pop(),JO(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0!==this.treeList.length||this.isLoaded||this.finalize()}},{key:"getQuery",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=[];if(e.query)t=e.query.clone();else{t=new kM;for(var a=this.getActualProperties(e),r=0,s=Object.keys(a);r<s.length;r++){var l=s[r];"dataSource"!==l&&"tableName"!==l&&"child"!==l&&e[l]&&"url"!==l&&-1===i.indexOf(e[l])&&i.push(e[l])}t.select(i),a.hasOwnProperty("tableName")&&t.from(e.tableName)}return BM.addSorting(this.sortOrder,e.text,t),JO(n)||JO(e.parentID)||t.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(n):n),t}},{key:"getType",value:function(){return!!this.treeData[0]&&"number"==typeof YO(this.fields.id,this.treeData[0])}},{key:"setRootData",value:function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var e=this.getChildNodes(this.treeData,void 0,!0);this.rootData=JO(e)?[]:e}else this.rootData=this.treeData}},{key:"renderItems",value:function(e){if(!this.isBlazorPlatform||this.isBlazorPlatform&&this.fields.dataSource instanceof AM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName||this.changeDataSource){this.listBaseOption.ariaAttributes.level=1;var t=this.getSortedData(this.rootData);this.ulElement=BM.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);var n=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand)for(var i=0;i<n.length;)this.renderChildNodes(n[i],!0,null,!0),i++;(1===tD("."+vR,this.element).length&&n&&0!==n.length||this.loadOnDemand)&&this.finalizeNode(this.element)}this.updateTemplateForBlazor(),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()}},{key:"updateTemplateForBlazor",value:function(){this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate()}},{key:"updateCheckedStateFromDS",value:function(e){if(this.treeData&&this.showCheckBox)if(1===this.dataType){for(var t=this.fields,n=new AM(this.treeData).executeLocal((new kM).where(t.isChecked,"equal",!0,!1)),i=0;i<n.length;i++){var a=n[i][this.fields.id]?n[i][this.fields.id].toString():null;if(n[i][this.fields.parentID]&&n[i][this.fields.parentID].toString(),-1!==this.checkedNodes.indexOf(a)||this.isLoaded||this.checkedNodes.push(a),n[i][this.fields.hasChildren])for(var r=n[i][this.fields.id],s=new AM(this.treeData).executeLocal((new kM).where(t.parentID,"equal",r,!1)),l=0;l<s.length;l++){var o=s[l][this.fields.id]?s[l][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(o)&&this.autoCheck&&this.checkedNodes.push(o)}}for(var u=0;u<this.checkedNodes.length;u++){var c=this.fields,h=new AM(this.treeData).executeLocal((new kM).where(c.id,"equal",this.checkedNodes[u],!0));h[0]&&this.autoCheck&&(this.getCheckedNodeDetails(c,h),this.checkIndeterminateState(h[0]));for(var d=new AM(this.treeData).executeLocal((new kM).where(c.parentID,"equal",this.checkedNodes[u],!0)),p=0;p<d.length;p++){var f=d[p][this.fields.id]?d[p][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(f)&&this.autoCheck&&this.checkedNodes.push(f)}}}else if(2===this.dataType||this.fields.dataSource instanceof AM&&this.fields.dataSource.dataSource.offline)for(var m=0;m<this.treeData.length;m++){var g=this.treeData[m][this.fields.id]?this.treeData[m][this.fields.id].toString():"";this.treeData[m][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(g)&&this.checkedNodes.push(g);var v=YO(this.fields.child.toString(),this.treeData[m]);v&&this.updateChildCheckState(v,this.treeData[m])}}},{key:"getCheckedNodeDetails",value:function(e,t){var n=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,i=0,a=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),r=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(a||r)r&&(eD(".e-check",r)||this.changeState(r,"indeterminate",null,!0,!0));else{-1===this.parentNodeCheck.indexOf(n)&&this.parentNodeCheck.push(n);for(var s=this.getChildNodes(this.treeData,n),l=0;l<s.length;l++){var o=s[l][this.fields.id]?s[l][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(o)&&i++,i===s.length&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n)}var u=new AM(this.treeData).executeLocal((new kM).where(e.id,"equal",n,!0));this.getCheckedNodeDetails(e,u)}}},{key:"updateParentCheckState",value:function(){for(var e,t=tD(".e-stop",this.element),n=0;n<t.length;n++){var i=nD(t[n],"."+mR),a=i.getAttribute("data-uid").toString(),r=0;if(e=1===this.dataType?new AM(this.treeData).executeLocal((new kM).where(this.fields.parentID,"equal",a,!0)):this.getChildNodes(this.treeData,a)){for(var s=0;s<e.length;s++){var l=e[s][this.fields.id].toString();-1!==this.checkedNodes.indexOf(l)&&r++}if(r===e.length){var o=i.getAttribute("data-uid");-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),this.changeState(i,"check",null,!0,!0)}else 0===r&&0===this.checkedNodes.length&&this.changeState(i,"uncheck",null,!0,!0)}}}},{key:"checkIndeterminateState",value:function(e){var t;(t=this.element.querySelector(1===this.dataType?'[data-uid="'+e[this.fields.parentID]+'"]':'[data-uid="'+e[this.fields.id]+'"]'))?"true"!==t.querySelector("."+xR).getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0):2===this.dataType&&-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString())}},{key:"updateChildCheckState",value:function(e,t){for(var n=0,i=t[this.fields.id]?t[this.fields.id].toString():"",a=0;a<e.length;a++){var r=e[a][this.fields.id]?e[a][this.fields.id].toString():"";e[a][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r),-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(r)&&this.autoCheck&&this.checkedNodes.push(r),-1!==this.checkedNodes.indexOf(r)&&this.autoCheck&&n++;var s=YO(this.fields.child.toString(),e[a]);s&&(this.parentCheckData.push(t),this.updateChildCheckState(s,e[a])),n===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i)}if(0!==n&&this.autoCheck){this.checkIndeterminateState(t);for(var l=0;l<this.parentCheckData.length;l++)t!==this.parentCheckData[l]&&this.parentCheckData[l]&&this.checkIndeterminateState(this.parentCheckData[l])}this.parentCheckData=[]}},{key:"beforeNodeCreate",value:function(e){if(this.showCheckBox){var t=PM(this.createElement,!0,{cssClass:this.touchClass});t.setAttribute("role","checkbox");var n=eD("div.e-icons",e.item),i=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(t,e.item.childNodes[0].childNodes[JO(n)?0:1]);var a=YO(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(i)>-1?(eD(".e-frame",t).classList.add("e-check"),t.setAttribute("aria-checked","true"),this.addCheck(e.item)):JO(a)||"true"!==a.toString()?t.setAttribute("aria-checked","false"):(eD(".e-frame",t).classList.add("e-check"),t.setAttribute("aria-checked","true"),this.addCheck(e.item));var r=eD(".e-frame",t);$I.add(r,"mousedown",this.frameMouseHandler,this),$I.add(r,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains("e-selected")&&e.item.setAttribute("aria-selected","false");var s=e.fields;if(this.addActionClass(e,s.selected,"e-selected"),this.addActionClass(e,s.expanded,"e-expanded"),!JO(this.nodeTemplateFn)){var l=e.item.querySelector("."+gR);l.innerHTML="";var o=this.nodeTemplateFn(e.curData,void 0,void 0,this.element.id+"nodeTemplate",this.isStringTemplate);KA(o=Array.prototype.slice.call(o),l)}this.isRefreshed||this.trigger("drawNode",{node:e.item,nodeData:e.curData,text:e.text})}},{key:"frameMouseHandler",value:function(e){LM(e,eD(".e-ripple-container",e.target.parentElement))}},{key:"addActionClass",value:function(e,t,n){var i=YO(t,e.curData);JO(i)||"false"===i.toString()||e.item.classList.add(n)}},{key:"getDataType",value:function(e,t){if(this.fields.dataSource instanceof AM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName){for(var n=0;n<e.length;n++)if("string"==typeof t.child&&JO(YO(t.child,e[n])))return 1;return 2}for(var i=0,a=e.length;i<a;i++){if("string"==typeof t.child&&!JO(YO(t.child,e[i])))return 2;if(!JO(YO(t.parentID,e[i]))||!JO(YO(t.hasChildren,e[i])))return 1}return 1}},{key:"getGroupedData",value:function(e,t){for(var n=(new kM).group(t),i=BM.getDataSource(e,n),a=[],r=0;r<i.length;r++)a.push(i[r].items);return a}},{key:"getSortedData",value:function(e){return e&&"None"!==this.sortOrder&&(e=BM.getDataSource(e,BM.addSorting(this.sortOrder,this.fields.text))),e}},{key:"finalizeNode",value:function(e){for(var t=tD(".e-list-img",e),n=0;n<t.length;n++)t[n].setAttribute("alt","e-list-img");if(this.isLoaded){for(var i=tD(".e-selected",e),a=0;a<i.length;a++){this.selectNode(i[a],null);break}WA(i,"e-selected")}for(var r=tD(".e-list-item:not(.e-expanded)",e),s=0;s<r.length;s++){var l=eD("div.e-icons",r[s]);l&&l.classList.contains(fR)&&this.disableExpandAttr(r[s])}var o=tD(".e-expanded",e);if(!this.isInitalExpand)for(var u=0;u<o.length;u++)this.renderChildNodes(o[u]);WA(o,"e-expanded"),this.updateList(),this.isLoaded&&this.updateCheckedProp()}},{key:"updateCheckedProp",value:function(){if(this.showCheckBox){var e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}}},{key:"ensureIndeterminate",value:function(){if(this.autoCheck)for(var e=tD("li",this.element),t=0;t<e.length;t++)e[t].classList.contains(mR)&&(eD("."+vR,e[t])?this.ensureParentCheckState(e[t]):this.ensureChildCheckState(e[t]));else for(var n=tD(".e-stop",this.element),i=0;i<n.length;i++)n[i].classList.remove("e-stop")}},{key:"ensureParentCheckState",value:function(e){if(!JO(e)){if(e.classList.contains("e-treeview"))return;var t=e;e.classList.contains(mR)&&(t=eD("."+vR,e));var n=tD(".e-check",t),i=tD(".e-stop",t),a=tD("."+mR,t),r=e.getElementsByClassName(xR)[0];a.length===n.length?this.changeState(r,"check",null,!0,!0):n.length>0||i.length>0?this.changeState(r,"indeterminate",null,!0,!0):0===n.length&&this.changeState(r,"uncheck",null,!0,!0);var s=nD(e,"."+vR);if(!JO(s)){var l=nD(s,"."+mR);this.ensureParentCheckState(l)}}}},{key:"ensureChildCheckState",value:function(e,t){if(!JO(e)){var n,i=eD("."+vR,e);if(!JO(i)){n=tD("."+xR,i);var a,r=e.getElementsByClassName("e-frame")[0].classList.contains("e-check"),s=e.getElementsByClassName("e-frame")[0].classList.contains("e-stop"),l=i.querySelectorAll("li");i.parentElement.getAttribute("aria-expanded");for(var o=0;o<n.length;o++){var u=l[o].getAttribute("data-uid");if(JO(this.currentLoadData)||JO(YO(this.fields.isChecked,this.currentLoadData[o]))){var c=n[o].getElementsByClassName("e-frame")[0].classList.contains("e-check");r?a="check":c&&!this.isLoaded?a="check":-1!==this.checkedNodes.indexOf(u)&&this.isLoaded&&(s||r)?a="check":l[o].classList.contains("e-has-child")&&!QO(this.parentNodeCheck)&&this.autoCheck&&(r||s)&&-1!==this.parentNodeCheck.indexOf(u)?(a="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(u),1)):1===this.dataType&&!QO(this.parentNodeCheck)&&this.autoCheck&&(r||s)&&-1!==this.parentNodeCheck.indexOf(u)?(a="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(u),1)):a="uncheck"}else a=YO(this.fields.isChecked,this.currentLoadData[o])?"check":"uncheck",-1!==this.ele&&(a=r?"check":"uncheck"),"uncheck"===a&&!QO(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(u)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(u),1),a="indeterminate");this.changeState(n[o],a,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}}},{key:"doCheckBoxAction",value:function(e,t){if(tD("."+mR,this.element),JO(e)){var n=tD("."+xR,this.element);if(this.loadOnDemand)for(var i=0;i<n.length;i++)this.updateFieldChecked(n[i],t),this.changeState(n[i],t?"check":"uncheck",null,null,null,t);else for(var a=0;a<n.length;a++)this.updateFieldChecked(n[a],t),this.changeState(n[a],t?"check":"uncheck")}else for(var r=e.length;r>=0;r--){var s;if(JO(s=this.getElement(1===e.length?e[r-1]:e[r]))){var l;if(""!==(l=e[r-e.length]?e[r-e.length].toString():e[r]?e[r].toString():null)&&t&&l)this.setValidCheckedNode(l),this.dynamicCheckState(l,t);else if(-1!==this.checkedNodes.indexOf(l)&&""!==l&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(l),1);var o=this.getChildNodes(this.treeData,l);if(o){for(var u=0;u<o.length;u++){var c=o[u][this.fields.id]?o[u][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(c)&&this.checkedNodes.splice(this.checkedNodes.indexOf(c),1)}-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}l&&this.dynamicCheckState(l,t),this.updateField(this.treeData,this.fields,l,"isChecked",null)}}else{var h=eD(".e-list-parent ."+xR,s);this.validateCheckNode(h,!t,s,null)}}if(e)for(var d=0;d<e.length;d++){var p=e[d]?e[d].toString():"";t||this.updateField(this.treeData,this.fields,p,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()}},{key:"updateFieldChecked",value:function(e,t){var n=nD(e,"."+mR),i=n.getAttribute("data-uid");"true"!==this.getNodeData(n).isChecked||t||this.updateField(this.treeData,this.fields,i,"isChecked",null)}},{key:"dynamicCheckState",value:function(e,t){if(1===this.dataType){var n=0,i=new AM(this.treeData).executeLocal((new kM).where(this.fields.id,"equal",e,!0));if(i[0]){var a=i[0][this.fields.id]?i[0][this.fields.id].toString():null,r=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null,s=this.element.querySelector('[data-uid="'+r+'"]'),l=(s&&eD(".e-stop",s),s&&eD(".e-check",s),this.element.querySelector('[data-uid="'+a+'"]')),o=this.getChildNodes(this.treeData,r);if(o)for(var u=0;u<o.length;u++){var c=o[u][this.fields.id]?o[u][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(c)&&n++}-1!==this.checkedNodes.indexOf(e)&&s&&a===e&&this.autoCheck?this.changeState(s,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&l&&a===e&&!t?this.changeState(l,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&l&&a===e&&t?this.changeState(l,"check",null):-1===this.checkedNodes.indexOf(e)&&!l&&s&&a===e&&this.autoCheck&&0!==n?this.changeState(s,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!l&&s&&a===e&&this.autoCheck&&0===n?this.changeState(s,"uncheck",null):l||s||a!==e||!this.autoCheck||this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof AM&&this.fields.dataSource.dataSource.offline)for(var h,d,p,f=0;f<this.treeData.length;f++){h=this.treeData[f][this.fields.id]?this.treeData[f][this.fields.id].toString():"",p=(d=this.element.querySelector('[data-uid="'+h+'"]'))?eD(".e-check",d):null,-1===this.checkedNodes.indexOf(h)&&d&&p&&!t&&this.changeState(d,"uncheck",null);var m=YO(this.fields.child.toString(),this.treeData[f]);m&&this.updateChildIndeterminate(m,h,e,t,h)}}},{key:"updateIndeterminate",value:function(e,t){var n,i=this.getTreeData(e),a=0;1===this.dataType&&(n=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null);var r=this.getChildNodes(this.treeData,n);if(r)for(var s=0;s<r.length;s++){var l=r[s][this.fields.id]?r[s][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(l)&&a++}var o=this.element.querySelector('[data-uid="'+n+'"]');o&&t?this.changeState(o,"indeterminate",null):!t&&o&&-1===this.parentNodeCheck.indexOf(n)&&0!==a?this.changeState(o,"indeterminate",null):!t&&o&&-1===this.parentNodeCheck.indexOf(n)&&0===a?this.changeState(o,"uncheck",null):o||(t||-1!==this.checkedNodes.indexOf(n)||-1===this.parentNodeCheck.indexOf(n)?t&&-1===this.checkedNodes.indexOf(n)&&-1===this.parentNodeCheck.indexOf(n)?this.parentNodeCheck.push(n):t||-1===this.checkedNodes.indexOf(n)||-1!==this.parentNodeCheck.indexOf(n)||0===a||this.parentNodeCheck.push(n):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(n),1),this.updateIndeterminate(n,t),-1===this.checkedNodes.indexOf(n)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(n),1))}},{key:"updateChildIndeterminate",value:function(e,t,n,i,a){for(var r=0,s=0;s<e.length;s++){var l=e[s][this.fields.id]?e[s][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(l)&&r++;var o=this.element.querySelector('[data-uid="'+t+'"]'),u=o?eD(".e-stop",o):null,c=o?eD(".e-check",o):null,h=this.element.querySelector('[data-uid="'+l+'"]'),d=h?eD(".e-check",h):null;if(-1!==this.checkedNodes.indexOf(n)&&o&&l===n&&this.autoCheck)this.changeState(o,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(n)||!o||h||l!==n||i){if(-1===this.checkedNodes.indexOf(n)&&h&&l===n&&!i)this.changeState(h,"uncheck",null);else if(-1===this.checkedNodes.indexOf(n)&&u&&l===n&&this.autoCheck&&0===r&&!i)u.classList.remove("e-stop");else if(-1===this.checkedNodes.indexOf(n)&&!h&&c&&l===n&&0===r)this.changeState(o,"uncheck",null);else if(-1===this.checkedNodes.indexOf(l)&&h&&d&&0===r)this.changeState(h,"uncheck",null);else if(!h&&!o&&l===n||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){var p=this.element.querySelector('[data-uid="'+a+'"]');i&&0!==r?this.changeState(p,"indeterminate",null):i&&r===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):i||0!==r||-1===this.parentNodeCheck.indexOf(t)||this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.changeState(o,this.autoCheck?"uncheck":0!==r?"indeterminate":"uncheck",null);var f=YO(this.fields.child.toString(),e[s]);f&&this.updateChildIndeterminate(f,l,n,i,a)}}},{key:"changeState",value:function(e,t,n,i,a,r){var s,l=this,o=nD(e,"."+mR);i?this.nodeCheckAction(e,t,o,s,n,i,a,r):(this.checkActionNodes=[],s=this.getCheckEvent(o,t,n),this.trigger("nodeChecking",s,(function(s){s.cancel||l.nodeCheckAction(e,t,o,s,n,i,a,r)})))}},{key:"nodeCheckAction",value:function(e,t,n,i,a,r,s,l){var o,u=e.getElementsByClassName("e-frame")[0];if("check"!==t||u.classList.contains("e-check")?"uncheck"===t&&(u.classList.contains("e-check")||u.classList.contains("e-stop"))?(WA([u],["e-check","e-stop"]),this.removeCheck(n),o="false"):"indeterminate"===t&&!u.classList.contains("e-stop")&&this.autoCheck&&(u.classList.remove("e-check"),u.classList.add("e-stop"),this.removeCheck(n),o="mixed"):(u.classList.remove("e-stop"),u.classList.add("e-check"),this.addCheck(n),o="true"),JO(o="check"===t?"true":"uncheck"===t?"false":o)||e.setAttribute("aria-checked",o),s){var c=[].concat([],this.checkActionNodes);i=this.getCheckEvent(n,t,a),QO(r)&&(i.data=c)}void 0!==l&&this.ensureStateChange(n,l),r||JO(o)||(e.setAttribute("aria-checked",o),this.allowServerDataBinding=!0,this.updateServerProperties("check"),this.allowServerDataBinding=!1,i.data[0].checked=o,this.trigger("nodeChecked",i),this.checkActionNodes=[])}},{key:"addCheck",value:function(e){var t=e.getAttribute("data-uid");JO(t)||-1!==this.checkedNodes.indexOf(t)||this.checkedNodes.push(t)}},{key:"removeCheck",value:function(e){var t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)}},{key:"getCheckEvent",value:function(e,t,n){this.checkActionNodes.push(this.getNodeData(e));var i=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!JO(n),node:e,data:i}}},{key:"finalize",value:function(){var e=eD("."+vR,this.element);if(!JO(e)){e.setAttribute("role",ER.treeRole),this.setMultiSelect(this.allowMultiSelection);var t=eD("."+mR,this.element);t&&(UA([t],SR),this.updateIdAttr(null,t)),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}}},{key:"doExpandAction",value:function(){var e=this.expandedNodes;if(this.isInitalExpand&&e.length>0){if(this.setProperties({expandedNodes:[]},!0),this.isBlazorPlatform&&!this.initialRender)return;if(this.fields.dataSource instanceof AM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName)this.expandGivenNodes(e);else{for(var t=0;t<e.length;t++){var n=eD('[data-uid="'+e[t]+'"]',this.element);if(JO(n))e[t]&&-1===this.expandChildren.indexOf(e[t])&&this.expandChildren.push(e[t].toString());else{var i=eD("."+fR,eD("."+CR,n));JO(i)||this.expandAction(n,i,null)}}this.afterFinalized()}}else this.afterFinalized()}},{key:"expandGivenNodes",value:function(e){var t=this;this.expandCallback(e[this.index],(function(){t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()}))}},{key:"expandCallback",value:function(e,t){var n=eD('[data-uid="'+e+'"]',this.element);if(JO(n))t();else{var i=eD("."+fR,eD("."+CR,n));JO(i)?t():this.expandAction(n,i,null,!1,t)}}},{key:"afterFinalized",value:function(){(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender)&&this.doSelectionAction(),this.updateCheckedProp(),this.isBlazorPlatform&&(this.initialRender&&this.setCheckedNodes(this.checkedNodes),this.updateInstance(),this.initialRender=!1),this.isAnimate=!0,this.isInitalExpand=!1,(!this.isLoaded||this.isFieldChange)&&this.trigger("dataBound",{data:this.treeData}),this.isLoaded=!0}},{key:"doSelectionAction",value:function(){var e=tD(".e-selected",this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(var n=0;n<t.length;n++){var i=eD('[data-uid="'+t[n]+'"]',this.element);if(i&&!i.classList.contains("e-active")?this.selectNode(i,null,!0):this.selectedNodes.push(t[n]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);WA(e,"e-selected")}},{key:"selectGivenNodes",value:function(e){for(var t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);}},{key:"clickHandler",value:function(e){var t=e.originalEvent.target;if($I.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){var n=t.classList,i=nD(t,"."+mR);if(!i)return;if(3!==e.originalEvent.which){var a=eD(".e-ripple-element",i),r=eD(".e-icons",i);if(this.removeHover(),this.setFocusElement(i),this.showCheckBox&&!i.classList.contains("e-disable")){var s=nD(t,"."+xR);if(!JO(s)){var l=eD(".e-frame",s);return this.validateCheckNode(s,l.classList.contains("e-check"),i,e.originalEvent),void this.triggerClickEvent(e.originalEvent,i)}}n.contains(fR)?this.expandAction(i,t,e):n.contains(pR)?this.collapseNode(i,t,e):a&&r?r.classList.contains("e-ripple")&&r.classList.contains(fR)?this.expandAction(i,r,e):r.classList.contains("e-ripple")&&r.classList.contains(pR)?this.collapseNode(i,r,e):n.contains(vR)||n.contains(mR)||this.toggleSelect(i,e.originalEvent,!1):n.contains(vR)||n.contains(mR)||this.toggleSelect(i,e.originalEvent,!1)}this.triggerClickEvent(e.originalEvent,i)}}},{key:"nodeCheckedEvent",value:function(e,t,n){nD(e,"."+mR);var i=this.getCheckEvent(e,t?"uncheck":"check",n);i.data=i.data.splice(0,i.data.length-1),this.trigger("nodeChecked",i)}},{key:"triggerClickEvent",value:function(e,t){this.trigger("nodeClicked",{event:e,node:t})}},{key:"expandNode",value:function(e,t,n){var i=this;if(t.classList.contains(bR)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==n||!0===n&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){WA([t],fR),UA([t],pR);var a=0,r=0,s=this,l=eD("."+vR,e),o=e;this.setHeight(o,l);var u=eD(".e-list-item.e-active",e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(l,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(t){o.style.overflow="hidden",!JO(u)&&u instanceof HTMLElement&&u.classList.add("e-animation-active"),a=o.offsetHeight,r=eD("."+CR,e).offsetHeight},progress:function(e){e.element.style.display="block",s.animateHeight(e,a,r)},end:function(e){e.element.style.display="block",!JO(u)&&u instanceof HTMLElement&&u.classList.remove("e-animation-active"),i.expandedNode(o,l,t)}}):this.expandedNode(o,l,t)}}else eD("."+vR,e).style.display="none",this.fields.dataSource instanceof AM==1&&(this.preventExpand=!1);this.initialRender&&t.classList.add("interaction")}},{key:"expandedNode",value:function(e,t,n){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",WA([n],kR),this.addExpand(e),this.allowServerDataBinding=!0,this.updateServerProperties("expand"),this.allowServerDataBinding=!1,this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.trigger("nodeExpanded",this.expandArgs))}},{key:"addExpand",value:function(e){e.setAttribute("aria-expanded","true"),WA([e],"e-node-collapsed");var t=e.getAttribute("data-uid");JO(t)||-1!==this.expandedNodes.indexOf(t)||this.expandedNodes.push(t)}},{key:"collapseNode",value:function(e,t,n){var i,a=this;t.classList.contains(kR)||(UA([t],kR),this.isLoaded?(i=this.getExpandEvent(e,n),this.trigger("nodeCollapsing",i,(function(n){n.cancel?WA([t],kR):a.nodeCollapseAction(e,t,n)}))):this.nodeCollapseAction(e,t,i))}},{key:"nodeCollapseAction",value:function(e,t,n){var i=this;WA([t],pR),UA([t],fR);var a=0,r=0,s=this,l=eD("."+vR,e),o=e,u=eD(".e-list-item.e-active",e);this.isAnimate?this.aniObj.animate(l,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(t){o.style.overflow="hidden",!JO(u)&&u instanceof HTMLElement&&u.classList.add("e-animation-active"),a=eD("."+CR,e).offsetHeight,r=o.offsetHeight},progress:function(e){s.animateHeight(e,a,r)},end:function(e){e.element.style.display="none",!JO(u)&&u instanceof HTMLElement&&u.classList.remove("e-animation-active"),i.collapsedNode(o,l,t,n)}}):this.collapsedNode(o,l,t,n)}},{key:"collapsedNode",value:function(e,t,n,i){t.style.display="none",e.style.overflow="",e.style.height="",WA([n],kR),this.allowServerDataBinding=!0,this.updateServerProperties("expand"),this.allowServerDataBinding=!1,this.removeExpand(e),this.isLoaded&&this.trigger("nodeCollapsed",i)}},{key:"removeExpand",value:function(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);var n=this.expandedNodes.indexOf(e.getAttribute("data-uid"));n>-1&&this.expandedNodes.splice(n,1)}},{key:"disableExpandAttr",value:function(e){e.setAttribute("aria-expanded","false"),UA([e],"e-node-collapsed")}},{key:"setHeight",value:function(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""}},{key:"animateHeight",value:function(e,t,n){e.element.parentElement.style.height=(e.duration-e.timeStamp)/e.duration*(n-t)+t+"px"}},{key:"renderChildNodes",value:function(e,t,n,i){var a,r=this,s=eD("div.e-icons",e);if(!JO(s))if(this.showSpinner(s),this.fields.dataSource instanceof AM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName){var l=this.parents(e,"."+vR).length,o=this.getChildFields(this.fields,l,1);if(JO(o)||JO(o.dataSource))return ZA(s),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof AM&&this.fields.dataSource.dataSource.offline?(this.treeList.pop(),a=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(a,o,s,e,t,n,i),this.updateTemplateForBlazor()):o.dataSource.executeQuery(this.getQuery(o,e.getAttribute("data-uid"))).then((function(l){r.treeList.pop(),a=l.result,1===r.dataType&&(r.dataType=2),r.loadChild(a,o,s,e,t,n,i),r.updateTemplateForBlazor()})).catch((function(e){r.trigger("actionFailure",{error:e})}))}else{if(a=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=a,JO(a)||0===a.length)return ZA(s),void this.removeExpand(e,!0);this.isBlazorPlatform&&this.initialRender||(this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(BM.createList(this.createElement,this.getSortedData(a),this.listBaseOption))),this.expandNode(e,s,i),this.setSelectionForChildNodes(a),this.ensureCheckNode(e),this.finalizeNode(e),this.loadOnDemand&&this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate(),this.disableTreeNodes(a),this.renderSubChild(e,t,i)}}},{key:"loadChild",value:function(e,t,n,i,a,r,s){if(this.currentLoadData=e,JO(e)||0===e.length)ZA(n),this.removeExpand(i,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof AM&&!this.fields.dataSource.dataSource.offline){var l=i.getAttribute("data-uid");GO("child",e,this.getNodeObject(l))}this.listBaseOption.ariaAttributes.level=parseFloat(i.getAttribute("aria-level"))+1,i.appendChild(BM.createList(this.createElement,e,this.listBaseOption)),this.expandNode(i,n,s),this.setSelectionForChildNodes(e),this.ensureCheckNode(i),this.finalizeNode(i),this.disableTreeNodes(e),this.renderSubChild(i,a,s)}r&&r(),0!==this.treeList.length||this.isLoaded||this.finalize()}},{key:"disableTreeNodes",value:function(e){for(var t=0;t<e.length;){var n=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(n)&&this.doDisableAction([n]),t++}}},{key:"setSelectionForChildNodes",value:function(e){var t;for(t=0;t<e.length;t++){var n=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(n)&&this.doSelectionAction()}}},{key:"ensureCheckNode",value:function(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null}},{key:"getFields",value:function(e,t,n){return t===n?e:this.getFields(this.getChildMapper(e),t,n+1)}},{key:"getChildFields",value:function(e,t,n){return t===n?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,n+1)}},{key:"getChildMapper",value:function(e){return"string"==typeof e.child||JO(e.child)?e:e.child}},{key:"getChildNodes",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(JO(e))return n;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,i);if("string"==typeof this.fields.child)for(var a=0,r=e.length;a<r;a++){var s=YO(this.fields.id,e[a]);if(s&&s.toString()===t)return YO(this.fields.child,e[a]);if(!JO(YO(this.fields.child,e[a]))&&void 0!==(n=this.getChildNodes(YO(this.fields.child,e[a]),t)))break}return n}},{key:"getChildGroup",value:function(e,t,n){if(!JO(e))for(var i=0,a=e.length;i<a;i++){if(JO(e[i][0])||JO(YO(this.fields.parentID,e[i][0])))return n?e[i]:[];if(YO(this.fields.parentID,e[i][0]).toString()===t)return e[i]}}},{key:"renderSubChild",value:function(e,t,n){if(t)for(var i=tD("."+fR,e),a=0,r=i.length;a<r;a++){var s=i[a];if(e.querySelector(".e-icons")!==i[a]){var l=nD(s,"."+mR);this.expandArgs=this.getExpandEvent(l,null),!0!==n&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(l,t,null,n)}}}},{key:"toggleSelect",value:function(e,t,n){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||n)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,n))}},{key:"isActive",value:function(e){return!!e.classList.contains("e-active")}},{key:"selectNode",value:function(e,t,n){var i,a=this;JO(e)||!this.allowMultiSelection&&this.isActive(e)&&!JO(t)?this.setFocusElement(e):this.isLoaded?(i=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",i,(function(i){i.cancel||a.nodeSelectAction(e,t,i,n)}))):this.nodeSelectAction(e,t,i,n)}},{key:"nodeSelectAction",value:function(e,t,n,i){if(this.allowMultiSelection&&(i||t&&(!t||t.ctrlKey))||this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);var a=this.liList.indexOf(this.startNode),r=this.liList.indexOf(e);if(a>r){var s=a;a=r,r=s}for(var l=a;l<=r;l++){var o=this.liList[l];GA(o)&&!o.classList.contains("e-disable")&&this.addSelect(o)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,n.nodeData=this.getNodeData(e),this.trigger("nodeSelected",n))}},{key:"unselectNode",value:function(e,t){var n,i=this;this.isLoaded?(n=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",n,(function(t){t.cancel||(i.allowServerDataBinding=!0,i.updateServerProperties("select"),i.allowServerDataBinding=!1,i.nodeUnselectAction(e,t))}))):this.nodeUnselectAction(e,n)}},{key:"nodeUnselectAction",value:function(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))}},{key:"setFocusElement",value:function(e){if(!JO(e)){var t=this.getFocusedNode();t&&WA([t],SR),UA([e],SR),this.updateIdAttr(t,e)}}},{key:"addSelect",value:function(e){e.setAttribute("aria-selected","true"),UA([e],"e-active");var t=e.getAttribute("data-uid");JO(t)||-1!==this.selectedNodes.indexOf(t)||this.selectedNodes.push(t)}},{key:"removeSelect",value:function(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),WA([e],"e-active");var t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)}},{key:"removeSelectAll",value:function(){var e,t=this.element.querySelectorAll(".e-active"),n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.allowMultiSelection?i.setAttribute("aria-selected","false"):i.removeAttribute("aria-selected")}}catch(a){n.e(a)}finally{n.f()}WA(t,"e-active"),this.setProperties({selectedNodes:[]},!0)}},{key:"getSelectEvent",value:function(e,t,n){var i=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!JO(n),node:e,nodeData:i}}},{key:"setExpandOnType",value:function(){this.expandOnType="Auto"===this.expandOn?KI.isDevice?"Click":"DblClick":this.expandOn}},{key:"expandHandler",value:function(e){var t=e.originalEvent.target;!t||t.classList.contains("e-input")||t.classList.contains("e-treeview")||t.classList.contains(vR)||t.classList.contains(mR)||t.classList.contains("e-icons")||this.showCheckBox&&nD(t,"."+xR)||this.expandCollapseAction(nD(t,"."+mR),e)}},{key:"expandCollapseAction",value:function(e,t){var n=eD("div.e-icons",e);if(n&&!n.classList.contains(kR)){var i=n.classList;i.contains(fR)?this.expandAction(e,n,t):i.contains(pR)&&this.collapseNode(e,n,t)}}},{key:"expandAction",value:function(e,t,n,i,a){var r=this;t.classList.contains(kR)||(UA([t],kR),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,n),this.trigger("nodeExpanding",this.expandArgs,(function(n){n.cancel?WA([t],kR):r.nodeExpandAction(e,t,i,a)}))):this.nodeExpandAction(e,t,i,a))}},{key:"nodeExpandAction",value:function(e,t,n,i){var a=eD("."+vR,e);if(a&&"UL"===a.nodeName)this.expandNode(e,t);else{this.renderChildNodes(e,n,i);for(var r=tD("."+mR,e),s=0;s<r.length;s++){var l=this.getId(r[s]);if(-1!==this.expandChildren.indexOf(l)&&void 0!==this.expandChildren){var o=eD("."+fR,eD("."+CR,r[s]));JO(o)||this.expandAction(r[s],o,null),this.expandChildren.splice(this.expandChildren.indexOf(l),1)}}}}},{key:"keyActionHandler",value:function(e){var t=this,n=e.target,i=this.getFocusedNode();if(n&&n.classList.contains("e-input")){var a=n;"enter"===e.action?(a.blur(),this.element.focus(),UA([i],yR)):"escape"===e.action&&(a.value=this.oldText,a.blur(),this.element.focus(),UA([i],yR))}else e.preventDefault(),this.trigger("keyPress",{cancel:!1,event:e,node:i},(function(n){if(!n.cancel)switch(e.action){case"space":t.showCheckBox&&t.checkNode(e);break;case"moveRight":t.openNode(!t.enableRtl,e);break;case"moveLeft":t.openNode(!!t.enableRtl,e);break;case"shiftDown":t.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":t.navigateNode(!0);break;case"shiftUp":t.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":t.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":t.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":t.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":t.toggleSelect(i,e);break;case"f2":t.allowEditing&&!i.classList.contains("e-disable")&&t.createTextbox(i,e);break;case"ctrlA":if(t.allowMultiSelection){var a=tD(".e-list-item:not(.e-active)",t.element);t.selectGivenNodes(a)}}}))}},{key:"navigateToFocus",value:function(e){var t=this.getFocusedNode().querySelector("."+CR),n=t.getBoundingClientRect(),i=this.getScrollParent(this.element);if(!JO(i)){var a=i.getBoundingClientRect();n.bottom>a.bottom?i.scrollTop+=n.bottom-a.bottom:n.top<a.top&&(i.scrollTop-=a.top-n.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)}},{key:"isVisibleInViewport",value:function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"getScrollParent",value:function(e){return JO(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)}},{key:"shiftKeySelect",value:function(e,t){if(this.allowMultiSelection){var n=this.getFocusedNode(),i=e?this.getNextNode(n):this.getPrevNode(n);this.removeHover(),this.setFocusElement(i),this.toggleSelect(i,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)}},{key:"checkNode",value:function(e){var t=this.getFocusedNode(),n=eD("."+xR,t),i=eD(" .e-frame",n).classList.contains("e-check");t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(n,i,t,e)}},{key:"validateCheckNode",value:function(e,t,n,i){var a=this,r=nD(e,"."+mR);this.checkActionNodes=[];var s=t?"false":"true";JO(s)||e.setAttribute("aria-checked",s);var l=this.getCheckEvent(r,t?"uncheck":"check",i);this.trigger("nodeChecking",l,(function(r){r.cancel||a.nodeCheckingAction(e,t,n,r,i)}))}},{key:"nodeCheckingAction",value:function(e,t,n,i,a){if(-1===this.checkedElement.indexOf(n.getAttribute("data-uid"))){this.checkedElement.push(n.getAttribute("data-uid"));var r=this.getChildNodes(this.treeData,n.getAttribute("data-uid"));null!==r?this.allCheckNode(r,this.checkedElement,null,null,!1):r=null}var s;this.changeState(e,t?"uncheck":"check",a,!0),this.autoCheck&&(this.ensureChildCheckState(n),this.ensureParentCheckState(nD(nD(n,"."+vR),"."+mR)),"check"===i.action?s=!0:"uncheck"===i.action&&(s=!1),this.ensureStateChange(n,s)),this.allowServerDataBinding=!0,this.updateServerProperties("check"),this.allowServerDataBinding=!1,this.nodeCheckedEvent(e,t,a)}},{key:"ensureStateChange",value:function(e,t){var n=eD("."+vR,e),i=e.getAttribute("data-uid"),a=this.fields;if(1===this.dataType&&this.autoCheck)for(var r=new AM(this.treeData).executeLocal((new kM).where(a.parentID,"equal",i,!0)),s=0;s<r.length;s++){var l=r[s][this.fields.id]?r[s][this.fields.id].toString():null,o=r[s][this.fields.isChecked]?r[s][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(l)){this.checkedNodes.push(l);var u=this.getChildNodes(this.treeData,l);this.getChildItems(u,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}else if(-1===this.checkedNodes.indexOf(i)&&null===n&&-1!==this.checkedNodes.indexOf(l)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),"true"===o&&this.updateField(this.treeData,this.fields,l,"isChecked",null),-1===this.checkedNodes.indexOf(i)&&null===n||-1!==this.parentNodeCheck.indexOf(l)){var c=this.getChildNodes(this.treeData,l);this.getChildItems(c,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}}else{var h=this.getChildNodes(this.treeData,l);this.getChildItems(h,t)}}else if(1!==this.dataType||this.autoCheck){var d=this.getChildNodes(this.treeData,i);d&&this.childStateChange(d,i,n,t)}else if(t)for(var p=0;p<this.treeData.length;p++){var f=this.treeData[p][this.fields.id]?this.treeData[p][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(f)&&this.checkedNodes.push(f)}else{for(var m=new AM(this.treeData).executeLocal((new kM).where(a.isChecked,"equal",!0,!1)),g=0;g<m.length;g++){var v=m[g][this.fields.id]?m[g][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(v)&&this.checkedNodes.splice(this.checkedNodes.indexOf(v),1),this.updateField(this.treeData,this.fields,v,"isChecked",null)}this.checkedNodes=[]}}},{key:"getChildItems",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n][this.fields.id]?e[n][this.fields.id].toString():null,a=e[n][this.fields.isChecked]?e[n][this.fields.isChecked].toString():null;-1===this.checkedNodes.indexOf(i)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(i),1),-1===this.checkedNodes.indexOf(i)&&t&&this.checkedNodes.push(i),"true"!==a||t||this.updateField(this.treeData,this.fields,i,"isChecked",null);var r=this.getChildNodes(this.treeData,i);r.length>0&&this.getChildItems(r,t)}}},{key:"childStateChange",value:function(e,t,n,i){for(var a=0;a<e.length;a++){var r=e[a][this.fields.id]?e[a][this.fields.id].toString():"",s=e[a][this.fields.isChecked]?e[a][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(r)?(this.checkedNodes.push(r),-1!==this.parentNodeCheck.indexOf(r)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(r),1)):-1!==this.checkedNodes.indexOf(t)||-1===this.checkedNodes.indexOf(r)||i||(this.checkedNodes.splice(this.checkedNodes.indexOf(r),1),"true"===s&&this.updateField(this.treeData,this.fields,r,"isChecked",null)):this.autoCheck||(i?-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r):(-1!==this.checkedNodes.indexOf(r)&&this.checkedNodes.splice(this.checkedNodes.indexOf(r),1),this.updateField(this.treeData,this.fields,r,"isChecked",null),this.checkedNodes=[]));var l=this.getChildNodes([e[a]],r);l&&this.childStateChange(l,t,n,i)}}},{key:"allCheckNode",value:function(e,t,n,i,a){if(e)for(var r=0;r<e.length;r++){var s=YO(this.fields.id,e[r]),l=this.element.querySelector('[data-uid="'+s+'"]');if(!1!==a&&-1===this.checkedElement.indexOf(s.toString())&&(null===l&&!JO(e[r][this.fields.isChecked])&&-1===t.indexOf(s.toString())||0===i||2===n)&&(!1!==e[r][this.fields.isChecked]||2===n?t.push(s.toString()):i=null,i=!1!==e[r][this.fields.isChecked]||2===n?0:null),-1===t.indexOf(s.toString())&&JO(n)&&t.push(s.toString()),!0===YO(this.fields.hasChildren,e[r])||YO(this.fields.child.toString(),e[r])){var o=YO(this.fields.id,e[r]),u=this.getChildNodes(this.treeData,o.toString());u&&(JO(a)?this.allCheckNode(u,t,n,i):this.allCheckNode(u,t,n,i,a),i=null)}i=null}}},{key:"openNode",value:function(e,t){var n=this.getFocusedNode(),i=eD("div.e-icons",n);if(e){if(!i)return;i.classList.contains(fR)?this.expandAction(n,i,t):this.focusNextNode(n,!0)}else if(i&&i.classList.contains(pR))this.collapseNode(n,i,t);else{var a=nD(nD(n,"."+vR),"."+mR);if(!a)return;a.classList.contains("e-disable")||(this.setFocus(n,a),this.navigateToFocus(!0))}}},{key:"navigateNode",value:function(e){var t=this.getFocusedNode();this.focusNextNode(t,e)}},{key:"navigateRootNode",value:function(e){var t=this.getFocusedNode(),n=e?this.getRootNode():this.getEndNode();n.classList.contains("e-disable")||(this.setFocus(t,n),this.navigateToFocus(e))}},{key:"getFocusedNode",value:function(){var e,t=eD(".e-list-item."+SR,this.element);return JO(t)&&(e=eD("."+mR,this.element)),JO(t)?JO(e)?this.element.firstElementChild:e:t}},{key:"focusNextNode",value:function(e,t){var n=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,n),this.navigateToFocus(!t),n.classList.contains("e-disable")){var i=n.lastChild;null==n.previousSibling&&n.classList.contains("e-level-1")?this.focusNextNode(n,!0):null==n.nextSibling&&n.classList.contains("e-node-collapsed")?this.focusNextNode(n,!1):null==n.nextSibling&&i.classList.contains("e-text-content")?this.focusNextNode(n,!1):this.focusNextNode(n,t)}}},{key:"getNextNode",value:function(e){var t,n=this.liList.indexOf(e);do{if(n++,JO(t=this.liList[n]))return e}while(!GA(t));return t}},{key:"getPrevNode",value:function(e){var t,n=this.liList.indexOf(e);do{if(n--,JO(t=this.liList[n]))return e}while(!GA(t));return t}},{key:"getRootNode",value:function(){var e,t=0;do{e=this.liList[t],t++}while(!GA(e));return e}},{key:"getEndNode",value:function(){var e,t=this.liList.length-1;do{e=this.liList[t],t--}while(!GA(e));return e}},{key:"setFocus",value:function(e,t){WA([e],[yR,SR]),t.classList.contains("e-disable")||(UA([t],[yR,SR]),this.updateIdAttr(e,t))}},{key:"updateIdAttr",value:function(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")}},{key:"focusIn",value:function(){this.mouseDownStatus||UA([this.getFocusedNode()],yR),this.mouseDownStatus=!1}},{key:"focusOut",value:function(){WA([this.getFocusedNode()],yR)}},{key:"onMouseOver",value:function(e){var t=e.target,n=t.classList,i=nD(t,"."+mR);!i||n.contains(vR)||n.contains(mR)?this.removeHover():i&&!i.classList.contains("e-disable")&&this.setHover(i)}},{key:"setHover",value:function(e){e.classList.contains(yR)||(this.removeHover(),UA([e],yR))}},{key:"onMouseLeave",value:function(e){this.removeHover()}},{key:"removeHover",value:function(){var e=tD("."+yR,this.element);e&&e.length&&WA(e,yR)}},{key:"getNodeData",value:function(e,t){if(!JO(e)&&e.classList.contains(mR)&&!JO(nD(e,".e-control"))&&nD(e,".e-control").classList.contains("e-treeview")){var n=e.getAttribute("data-uid"),i=this.getText(e,t),a=nD(e.parentNode,"."+mR),r=a?a.getAttribute("data-uid"):null,s=e.classList.contains("e-active"),l="true"===e.getAttribute("aria-expanded"),o=null!==e.getAttribute("aria-expanded");this.isBlazorPlatform&&(o="true"===e.getAttribute("aria-expanded")||null!=(e.querySelector(".e-icon-expandable")||e.querySelector(".e-icon-collapsible")));var u=null;return this.showCheckBox&&(u=eD("."+xR,e).getAttribute("aria-checked")),{id:n,text:i,parentID:r,selected:s,expanded:l,isChecked:u,hasChildren:o}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}}},{key:"getText",value:function(e,t){if(t){var n=this.getNodeObject(e.getAttribute("data-uid")),i=parseFloat(e.getAttribute("aria-level"));return YO(this.getFields(this.fields,i,1).text,n)}return eD("."+gR,e).textContent}},{key:"getExpandEvent",value:function(e,t){var n=this.getNodeData(e);return{cancel:!1,isInteracted:!JO(t),node:e,nodeData:n,event:t}}},{key:"destroyTemplate",value:function(e){this.clearTemplate(["nodeTemplate"])}},{key:"reRenderNodes",value:function(){this.updateListProp(this.fields),xA(this.element.id+"nodeTemplate"),this.isBlazorPlatform?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",JO(this.nodeTemplateFn)||this.destroyTemplate(this.nodeTemplate),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)}},{key:"setCssClass",value:function(e,t){JO(e)||""===e||WA([this.element],e.split(" ")),JO(t)||""===t||UA([this.element],t.split(" "))}},{key:"editingHandler",value:function(e){var t=e.target;if(!(!t||t.classList.contains("e-treeview")||t.classList.contains(vR)||t.classList.contains(mR)||t.classList.contains("e-icons")||t.classList.contains("e-input")||t.classList.contains("e-input-group"))){var n=nD(t,"."+mR);this.createTextbox(n,e)}}},{key:"createTextbox",value:function(e,t){var n=this,i=eD(".e-tree-input",this.element);i&&i.blur();var a=eD("."+gR,e);this.updateOldText(e);var r=this.createElement("input",{className:"e-tree-input",attrs:{value:this.oldText}}),s=this.getEditEvent(e,null,r.outerHTML);this.trigger("nodeEditing",s,(function(t){if(!t.cancel){var i="width:"+(a.offsetWidth+5)+"px";UA([e],"e-editing"),a.innerHTML=s.innerHtml;var r=eD(".e-tree-input",a);n.inputObj=pL.createInput({element:r,properties:{enableRtl:n.enableRtl}},n.createElement),n.inputObj.container.setAttribute("style",i),r.focus(),r.setSelectionRange(0,r.value.length),n.wireInputEvents(r)}}))}},{key:"updateOldText",value:function(e){var t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);var n=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,n,1),this.oldText=YO(this.editFields.text,this.editData)}},{key:"inputFocusOut",value:function(e){if(eD(".e-tree-input",this.element)){var t=e.target,n=t.value,i=nD(t,"."+gR),a=nD(t,"."+mR);ZA(this.inputObj.container),this.fields.dataSource instanceof AM&&!this.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("update",null,a,n,null,null,!0):this.appendNewText(a,i,n,!0)}}},{key:"appendNewText",value:function(e,t,n,i){var a=this,r=this.getEditEvent(e,n,null);this.trigger("nodeEdited",r,(function(r){a.updateText(e,t,n=r.cancel?r.oldText:r.newText,i),r.oldText!==n&&a.triggerEvent()}))}},{key:"updateText",value:function(e,t,n,i){var a=GO(this.editFields.text,n,this.editData);if(JO(this.nodeTemplateFn))t.innerText=n;else{t.innerText="";var r=this.nodeTemplateFn(a,void 0,void 0,this.element.id+"nodeTemplate",this.isStringTemplate);KA(r=Array.prototype.slice.call(r),t),this.updateBlazorTemplate()}i&&(WA([e],"e-editing"),t.focus())}},{key:"getElement",value:function(e){return JO(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?sI(e):null}},{key:"getId",value:function(e){return JO(e)?null:"string"==typeof e?e:"object"==typeof e?sI(e).getAttribute("data-uid"):null}},{key:"getEditEvent",value:function(e,t,n){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:n}}},{key:"getNodeObject",value:function(e){if(!JO(e)){if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(var t=0,n=this.treeData.length;t<n;t++){var i=YO(this.fields.id,this.treeData[t]);if(!JO(this.treeData[t])&&!JO(i)&&i.toString()===e)return this.treeData[t]}}}},{key:"getChildNodeObject",value:function(e,t,n){var i;if(JO(e))return i;for(var a=0,r=e.length;a<r;a++){var s=YO(t.id,e[a]);if(e[a]&&s&&s.toString()===n)return e[a];if("string"!=typeof t.child||JO(YO(t.child,e[a]))){if(this.fields.dataSource instanceof AM&&!JO(YO("child",e[a]))&&void 0!==(i=this.getChildNodeObject(YO("child",e[a]),this.getChildMapper(t),n)))break}else{var l=YO(t.child,e[a]);if(void 0!==(i=this.getChildNodeObject(l,this.getChildMapper(t),n)))break}}return i}},{key:"setDragAndDrop",value:function(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()}},{key:"initializeDrag",value:function(){var e,t=this,n=this;this.dragObj=new KD(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+CR,helper:function(i){t.dragTarget=i.sender.target;var a=nD(t.dragTarget,".e-treeview"),r=nD(t.dragTarget,"."+CR);if(t.dragLi=nD(t.dragTarget,"."+mR),t.fullRowSelect&&!r&&t.dragTarget.classList.contains("e-fullrow")&&(r=t.dragTarget.nextElementSibling),!t.dragTarget||!i.element.isSameNode(a)||!r||t.dragTarget.classList.contains("e-treeview")||t.dragTarget.classList.contains(vR)||t.dragTarget.classList.contains(mR)||t.dragLi.classList.contains("e-disable"))return!1;var s=r.cloneNode(!0);if(JO(eD("div.e-icons",s))){var l=n.createElement("div",{className:"e-icons "+fR});s.insertBefore(l,s.children[0])}(e=n.createElement("div",{className:"e-drag-item e-treeview "+t.cssClass+" "+(t.enableRtl?"e-rtl":"")})).appendChild(s);var o=t.selectedNodes.length;if(o>1&&t.allowMultiSelection&&t.dragLi.classList.contains("e-active")){var u=n.createElement("span",{className:"e-drop-count",innerHTML:""+o});e.appendChild(u)}return document.body.appendChild(e),document.body.style.cursor="",t.dragData=t.getNodeData(t.dragLi),e},dragStart:function(n){UA([t.element],"e-dragging");var i,a=nD(n.target,".e-list-item");a&&(i=parseInt(a.getAttribute("aria-level"),10));var r=t.getDragEvent(n.event,t,null,n.target,null,e,i);r.draggedNode.classList.contains("e-editing")?(t.dragObj.intDestroy(n.event),t.dragCancelAction(e)):t.trigger("nodeDragStart",r,(function(i){i.cancel?(t.dragObj.intDestroy(n.event),t.dragCancelAction(e)):t.dragStartAction=!0}))},drag:function(n){t.dragObj.setProperties({cursorAt:{top:!JO(n.event.targetTouches)||KI.isDevice?60:-20}}),t.dragAction(n,e)},dragStop:function(e){WA([t.element],"e-dragging"),t.removeVirtualEle();var n=e.target,i=nD(n,".e-droppable");n&&i||(ZA(e.helper),document.body.style.cursor="");var a,r=nD(n,".e-list-item");r&&(a=parseInt(r.getAttribute("aria-level"),10));var s=t.getDragEvent(e.event,t,n,n,null,e.helper,a);s.preventTargetExpand=!1,(t.isBlazorPlatform&&t.dragStartAction||!t.isBlazorPlatform)&&t.trigger("nodeDragStop",s,(function(n){t.dragParent=n.draggedParentNode,t.preventExpand=n.preventTargetExpand,n.cancel&&(e.helper.parentNode&&ZA(e.helper),document.body.style.cursor=""),t.dragStartAction=!1,t.isBlazorPlatform&&t.dropAction(e,!0)}))}}),this.dropObj=new ZD(this.element,{out:function(e){JO(e)||e.target.classList.contains(wR)||(document.body.style.cursor="not-allowed")},over:function(e){document.body.style.cursor=""},drop:function(e){t.isBlazorPlatform||t.dropAction(e)}})}},{key:"dragCancelAction",value:function(e){ZA(e),WA([this.element],"e-dragging"),this.dragStartAction=!1}},{key:"dragAction",value:function(e,t){var n=nD(e.target,".e-droppable"),i=nD(e.target,"."+CR),a=eD("div.e-icons",t);WA([a],["e-drop-in",_R,"e-drop-out","e-no-drop"]),this.removeVirtualEle(),document.body.style.cursor="";var r=e.target.classList;if(this.fullRowSelect&&!i&&!JO(r)&&r.contains("e-fullrow")&&(i=e.target.nextElementSibling),n){var s=nD(e.target,"."+mR),l=nD(e.target,"."+xR),o=nD(e.target,"."+pR),u=nD(e.target,"."+fR);if(!n.classList.contains("e-treeview")||i&&!s.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,s))if(s&&e&&!u&&!o&&e.event.offsetY<7&&!l||u&&e.event.offsetY<5||o&&e.event.offsetX<3){UA([a],_R);var c=this.createElement("div",{className:wR});s.insertBefore(c,s.children[this.fullRowSelect?1:0])}else if(s&&e&&!u&&!o&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!l||u&&e.event.offsetY>19||o&&e.event.offsetX>19){UA([a],_R);var h=this.createElement("div",{className:wR});s.insertBefore(h,s.children[this.fullRowSelect?2:1])}else UA([a],"e-drop-in");else"LI"!==e.target.nodeName||s.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,s)?e.target.classList.contains(wR)?UA([a],_R):UA([a],"e-drop-out"):(UA([a],_R),this.renderVirtualEle(e))}else UA([a],"e-no-drop"),document.body.style.cursor="not-allowed";var d,p=nD(e.target,".e-list-item");p&&(d=parseInt(p.getAttribute("aria-level"),10));var f=this.getDragEvent(e.event,this,e.target,e.target,null,t,d);f.dropIndicator&&WA([a],f.dropIndicator),this.trigger("nodeDragging",f),f.dropIndicator&&UA([a],f.dropIndicator)}},{key:"dropAction",value:function(e,t){var n,i,a,r=e.event.offsetY,s=e.target,l=!1;a=t?e.element:e.dragData.draggable;for(var o=0;o<a.ej2_instances.length;o++)if(a.ej2_instances[o]instanceof WL){n=a.ej2_instances[o];break}if(n&&n.dragTarget){var u=nD(n.dragTarget,"."+mR),c=nD(s,"."+mR);if(null==c&&s.classList.contains("e-treeview")&&(c=s.firstElementChild),ZA(t?e.helper:e.droppedElement),document.body.style.cursor="",!c||c.isSameNode(u)||this.isDescendant(u,c))return void(this.fields.dataSource instanceof AM==0&&(this.preventExpand=!1));if(n.allowMultiSelection&&u.classList.contains("e-active")){var h=tD(".e-active",n.element);if(e.target.offsetHeight<=33&&r>e.target.offsetHeight-10&&r>6)for(var d=h.length-1;d>=0;d--)c.isSameNode(h[d])||this.isDescendant(h[d],c)||this.appendNode(s,h[d],c,e,n,r);else for(var p=0;p<h.length;p++)c.isSameNode(h[p])||this.isDescendant(h[p],c)||this.appendNode(s,h[p],c,e,n,r)}else this.appendNode(s,u,c,e,n,r);i=parseInt(u.getAttribute("aria-level"),10),l=!0}this.fields.dataSource instanceof AM==0&&(this.preventExpand=!1),this.trigger("nodeDropped",this.getDragEvent(e.event,n,s,e.target,t?e.element:e.dragData.draggedElement,null,i,l)),this.triggerEvent()}},{key:"appendNode",value:function(e,t,n,i,a,r){var s=nD(e,"."+xR),l=nD(i.target,"."+pR),o=nD(i.target,"."+fR);t.classList.contains("e-disable")||s||!(o&&i.event.offsetY<5||l&&i.event.offsetX<3||o&&i.event.offsetY>19||l&&i.event.offsetX>19||!o&&!l)?this.dropAsChildNode(t,n,a,null,i,r,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,n,i,a):e.firstElementChild&&e.classList.contains("e-treeview")?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,n,i,a):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,n,i,a):this.dropAsChildNode(t,n,a,null,i,r)}},{key:"dropAsSiblingNode",value:function(e,t,n,i){var a,r=nD(t,"."+vR),s=nD(e,"."+vR),l=nD(s,"."+mR);if(n.target.offsetHeight>0&&n.event.offsetY>n.target.offsetHeight-2?a=!1:n.event.offsetY<2?a=!0:(n.target.classList.contains("e-icon-expandable")||n.target.classList.contains("e-icon-collapsible"))&&(n.event.offsetY<5||n.event.offsetX<3?a=!0:(n.event.offsetY>15||n.event.offsetX>17)&&(a=!1)),n.target.classList.contains("e-icon-expandable")||n.target.classList.contains("e-icon-collapsible")){var o=n.target.closest("li");r.insertBefore(e,a?o:o.nextElementSibling)}else r.insertBefore(e,a?n.target:n.target.nextElementSibling);this.moveData(e,t,r,a,i),this.updateElement(s,l),this.updateAriaLevel(e),i.element.id===this.element.id?this.updateList():(i.updateInstance(),this.updateInstance())}},{key:"dropAsChildNode",value:function(e,t,n,i,a,r,s){var l=nD(e,"."+vR),o=nD(l,"."+mR),u=nD(t,"."+vR);if(a&&r<7&&!s)u.insertBefore(e,t),this.moveData(e,t,u,!0,n);else if(a&&a.target.offsetHeight>0&&r>a.target.offsetHeight-10&&!s)u.insertBefore(e,t.nextElementSibling),this.moveData(e,t,u,!1,n);else{var c=this.expandParent(t),h=c.childNodes[i];c.insertBefore(e,h),this.moveData(e,h,c,!0,n)}this.updateElement(l,o),this.updateAriaLevel(e),n.element.id===this.element.id?this.updateList():(n.updateInstance(),this.updateInstance())}},{key:"moveData",value:function(e,t,n,i,a){var r=nD(n,"."+mR),s=this.getId(e),l=a.updateChildField(a.treeData,a.fields,s,null,null,!0),o=this.getId(t),u=this.getDataPos(this.treeData,this.fields,o),c=this.getId(r);if(1===this.dataType){this.updateField(this.treeData,this.fields,c,"hasChildren",!0);var h=JO(u)?this.treeData.length:i?u:u+1;if(JO(c)&&!this.hasPid)delete l[0][this.fields.parentID];else{var d=this.isNumberTypeId?parseFloat(c):c;GO(this.fields.parentID,d,l[0])}if(this.treeData.splice(h,0,l[0]),a.element.id!==this.element.id){var p=a.removeChildNodes(s);h++;for(var f=0,m=p.length;f<m;f++)this.treeData.splice(h,0,p[f]),h++;a.groupedData=a.getGroupedData(a.treeData,a.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,c,l,i?u:u+1)}},{key:"expandParent",value:function(e){var t=eD("div.e-icons",e);t&&t.classList.contains(fR)&&!0!==this.preventExpand&&this.expandAction(e,t,null);var n=eD("."+vR,e);if(!0===this.preventExpand&&!n&&t&&this.renderChildNodes(e),JO(n=eD("."+vR,e))||!0!==this.preventExpand||(n.style.display="none"),JO(n)||!1!==this.preventExpand||(n.style.display="block"),JO(n)&&!0===this.preventExpand){JO(t)&&BM.generateIcon(this.createElement,e,fR,this.listBaseOption);var i=eD("div.e-icons",e);i&&i.classList.add("e-icon-expandable"),n=BM.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(n),i?WA([i],pR):BM.generateIcon(this.createElement,e,fR,this.listBaseOption),e.setAttribute("aria-expanded","false"),n.style.display="none"}if(JO(n)){this.trigger("nodeExpanding",this.getExpandEvent(e,null)),JO(t)&&BM.generateIcon(this.createElement,e,pR,this.listBaseOption);var a=eD("div.e-icons",e);a?WA([a],fR):(BM.generateIcon(this.createElement,e,pR,this.listBaseOption),WA([a=eD("div.e-icons",e)],fR)),n=BM.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(n),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null))}return n}},{key:"updateElement",value:function(e,t){if(t&&0===e.childElementCount){var n=eD("div.e-icons",t);ZA(e),ZA(n);var i=this.getId(t);this.updateField(this.treeData,this.fields,i,"hasChildren",!1),this.removeExpand(t,!0)}}},{key:"updateAriaLevel",value:function(e){var t=this.parents(e,"."+vR).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel(eD("."+vR,e),t+1)}},{key:"updateChildAriaLevel",value:function(e,t){if(!JO(e))for(var n=e.childNodes,i=0,a=n.length;i<a;i++){var r=n[i];r.setAttribute("aria-level",""+t),this.updateChildAriaLevel(eD("."+vR,r),t+1)}}},{key:"renderVirtualEle",value:function(e){var t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);var n=this.createElement("div",{className:wR});e.target.insertBefore(n,e.target.children[this.fullRowSelect?t?1:2:t?0:1])}},{key:"removeVirtualEle",value:function(){var e=eD("."+wR);e&&ZA(e)}},{key:"destroyDrag",value:function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())}},{key:"getDragEvent",value:function(e,t,n,i,a,r,s,l){var o=n?nD(n,"."+mR):null,u=o?this.getNodeData(o):null,c=t?t.dragLi:a,h=t?t.dragData:null,d=n?this.parents(n,"."+mR):null,p=t.dragLi.parentElement,f=t.dragLi?nD(p,"."+mR):null,m=null,g=null,v=[_R,"e-drop-in","e-drop-out","e-no-drop"],y=null,b=!0===l?c:o,k=b?nD(b,".e-list-parent"):null,C=0;if(f=t.dragLi&&null===f?nD(p,".e-treeview"):f,f=!0===l?this.dragParent:f,r)for(;C<4;){if(eD(".e-icons",r).classList.contains(v[C])){y=v[C];break}C++}if(k){var w=0;for(C=0;C<k.childElementCount;C++){if(w=!0!==l&&k.children[C]===c&&o!==c?++w:w,!0!==l&&k.children[C].classList.contains("e-hover")){g=e.offsetY>=23?C+1:C;break}if(k.children[C]===b){g=C;break}}g=0!==w?--g:g}if(n&&(m=0===d.length?null:n.classList.contains(mR)?d[0]:d[1]),o===c&&(m=o),n&&i.offsetHeight<=33&&e.offsetY<i.offsetHeight-10&&e.offsetY>6&&(m=o,!0!==l)){s=++s;var _=m?eD(".e-list-parent",m):null;if(g=_?_.children.length:0,!(this.fields.dataSource instanceof AM)&&null===_&&m){var x=m.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,m.getAttribute("data-uid").toString()):null;g=x?x.length:0}}return{cancel:!1,clonedNode:r,event:e,draggedNode:c,draggedNodeData:h,droppedNode:o,droppedNodeData:u,dropIndex:g,dropLevel:s,draggedParentNode:f,dropTarget:m,dropIndicator:y,target:i}}},{key:"addFullRow",value:function(e){var t=this.liList.length;if(e)for(var n=0;n<t;n++)this.createFullRow(this.liList[n]);else for(var i=0;i<t;i++)ZA(eD(".e-fullrow",this.liList[i]))}},{key:"createFullRow",value:function(e){var t=this.createElement("div",{className:"e-fullrow"});e.insertBefore(t,e.childNodes[0])}},{key:"addMultiSelect",value:function(e){if(e){var t,n=_createForOfIteratorHelper(tD('.e-list-item:not([aria-selected="true"])',this.element));try{for(n.s();!(t=n.n()).done;)t.value.setAttribute("aria-selected","false")}catch(r){n.e(r)}finally{n.f()}}else{var i,a=_createForOfIteratorHelper(tD('.e-list-item[aria-selected="false"]',this.element));try{for(a.s();!(i=a.n()).done;)i.value.removeAttribute("aria-selected")}catch(r){a.e(r)}finally{a.f()}}}},{key:"collapseByLevel",value:function(e,t,n){if(t>0&&!JO(e))for(var i=this.getVisibleNodes(n,e.childNodes),a=0,r=i.length;a<r;a++){var s=i[a],l=eD("."+pR,eD("."+CR,s));JO(l)||this.collapseNode(s,l,null),this.collapseByLevel(eD("."+vR,s),t-1,n)}}},{key:"collapseAllNodes",value:function(e){for(var t=this.getVisibleNodes(e,tD("."+pR,this.element)),n=0,i=t.length;n<i;n++){var a=t[n],r=nD(a,"."+mR);this.collapseNode(r,a,null)}}},{key:"expandByLevel",value:function(e,t,n){if(t>0&&!JO(e))for(var i=this.getVisibleNodes(n,e.childNodes),a=0,r=i.length;a<r;a++){var s=i[a],l=eD("."+fR,eD("."+CR,s));JO(l)||this.expandAction(s,l,null),this.expandByLevel(eD("."+vR,s),t-1,n)}}},{key:"expandAllNodes",value:function(e){for(var t=this.getVisibleNodes(e,tD("."+fR,this.element)),n=0,i=t.length;n<i;n++){var a=t[n],r=nD(a,"."+mR);this.expandAction(r,a,null,!0)}}},{key:"getVisibleNodes",value:function(e,t){var n=Array.prototype.slice.call(t);if(e)for(var i=0;i<n.length;i++)GA(n[i])||(n.splice(i,1),i--);return n}},{key:"removeNode",value:function(e){var t=nD(e,"."+vR),n=nD(t,"."+mR);ZA(e),this.updateElement(t,n),this.updateInstance(),this.removeData(e)}},{key:"updateInstance",value:function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes(),this.allowServerDataBinding=!1,this.updateServerProperties("expand"),this.updateServerProperties("check"),this.updateServerProperties("select"),this.allowServerDataBinding=!0}},{key:"updateServerProperties",value:function(e){this.isBlazorPlatform&&("expand"==e?(this.isBlazorExpandedNodes=this.expandedNodes,this.setProperties({expandedNodes:[]},!0)):this.setProperties("check"==e?{checkedNodes:this.checkedNodes}:{selectedNodes:this.selectedNodes},!0))}},{key:"updateList",value:function(){this.liList=Array.prototype.slice.call(tD("."+mR,this.element))}},{key:"updateSelectedNodes",value:function(){if(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender){this.setProperties({selectedNodes:[]},!0);var e=tD(".e-active",this.element);this.selectGivenNodes(e)}else if(this.isBlazorPlatform&&this.initialRender)for(var t=tD(".e-active",this.element),n=0;n<t.length;n++){var i=t[n].getAttribute("data-uid").toString();JO(i)||-1!==this.selectedNodes.indexOf(i)||this.selectedNodes.push(i)}}},{key:"updateExpandedNodes",value:function(){if(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender){this.setProperties({expandedNodes:[]},!0);for(var e=tD('[aria-expanded="true"]',this.element),t=0,n=e.length;t<n;t++)this.addExpand(e[t])}else if(this.isBlazorPlatform&&this.initialRender)for(var i=tD('[aria-expanded="true"]',this.element),a=0;a<i.length;a++){var r=i[a].getAttribute("data-uid").toString();JO(r)||-1!==this.expandedNodes.indexOf(r)||this.expandedNodes.push(r)}}},{key:"removeData",value:function(e){if(1===this.dataType){var t=new AM(this.treeData),n=this.getId(e),i={},a=this.isNumberTypeId?parseFloat(n):n;i[this.fields.id]=a,t.remove(this.fields.id,i),this.removeChildNodes(n)}else{var r=this.getId(e);this.updateChildField(this.treeData,this.fields,r,null,null,!0)}}},{key:"removeChildNodes",value:function(e){var t=this.getChildGroup(this.groupedData,e,!1),n=[];if(t)for(var i=0,a=t.length;i<a;i++){var r=new AM(this.treeData),s=YO(this.fields.id,t[i]).toString(),l={},o=this.isNumberTypeId?parseFloat(s):s;l[this.fields.id]=o;var u=r.remove(this.fields.id,l);n.push(u[0]),this.removeChildNodes(s)}return n}},{key:"doGivenAction",value:function(e,t,n){for(var i=0,a=e.length;i<a;i++){var r=this.getElement(e[i]);if(!JO(r)){var s=eD("."+t,eD("."+CR,r));JO(s)||(n?this.expandAction(r,s,null):this.collapseNode(r,s,null))}}}},{key:"addGivenNodes",value:function(e,t,n,i,a){if(0!==e.length){var r=this.getSortedData(e),s=t?parseFloat(t.getAttribute("aria-level"))+1:1;i&&this.updateMapper(s);for(var l,o=BM.createListItemFromJson(this.createElement,r,this.listBaseOption,s),u=(l=a||(t?this.expandParent(t):eD("."+vR,this.element))).childNodes[n],c=0;c<o.length;c++)l.insertBefore(o[c],u);this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate();var h=this.getId(t);if(1===this.dataType){this.updateField(this.treeData,this.fields,h,"hasChildren",!0);for(var d=this.getId(u),p=JO(d)?this.treeData.length:this.getDataPos(this.treeData,this.fields,d),f=0;f<e.length;f++){if(!JO(h)){var m=this.isNumberTypeId?parseFloat(h):h;GO(this.fields.parentID,m,e[f])}this.treeData.splice(p,0,e[f]),p++}}else this.addChildData(this.treeData,this.fields,h,e,n);this.finalizeNode(l)}}},{key:"updateMapper",value:function(e){var t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)}},{key:"updateListProp",value:function(e){var t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"}},{key:"getDataPos",value:function(e,t,n){for(var i=null,a=0,r=e.length;a<r;a++){var s=YO(t.id,e[a]);if(e[a]&&s&&s.toString()===n)return a;if("string"!=typeof t.child||JO(YO(t.child,e[a]))){if(this.fields.dataSource instanceof AM&&!JO(YO("child",e[a]))){var l=YO("child",e[a]);if(null!==(i=this.getDataPos(l,this.getChildMapper(t),n)))break}}else{var o=YO(t.child,e[a]);if(null!==(i=this.getDataPos(o,this.getChildMapper(t),n)))break}}return i}},{key:"addChildData",value:function(e,t,n,i,a){var r;if(JO(n)){a=JO(a)?e.length:a;for(var s=0,l=i.length;s<l;s++)e.splice(a,0,i[s]),a++;return r}for(var o=0,u=e.length;o<u;o++){var c=YO(t.id,e[o]);if(e[o]&&c&&c.toString()===n){if("string"==typeof t.child&&e[o].hasOwnProperty(t.child)||this.fields.dataSource instanceof AM&&e[o].hasOwnProperty("child")){var h=YO("string"==typeof t.child?t.child:"child",e[o]);JO(h)&&(h=[]),a=JO(a)?h.length:a;for(var d=0,p=i.length;d<p;d++)h.splice(a,0,i[d]),a++}else e[o]["string"==typeof t.child?t.child:"child"]=i;return!0}if("string"!=typeof t.child||JO(YO(t.child,e[o]))){if(this.fields.dataSource instanceof AM&&!JO(YO("child",e[o]))){var f=YO("child",e[o]);if(void 0!==(r=this.addChildData(f,this.getChildMapper(t),n,i,a)))break}}else{var m=YO(t.child,e[o]);if(void 0!==(r=this.addChildData(m,this.getChildMapper(t),n,i,a)))break}}return r}},{key:"doDisableAction",value:function(e){var t=this.nodeType(e),n=this.checkValidId(t);this.validArr=[];for(var i=0,a=n.length;i<a;i++){var r=n[i][this.fields.id].toString();r&&-1===this.disableNode.indexOf(r)&&this.disableNode.push(r);var s=this.getElement(r);s&&(s.setAttribute("aria-disabled","true"),UA([s],"e-disable"))}}},{key:"doEnableAction",value:function(e){for(var t=this.nodeType(e),n=0,i=t.length;n<i;n++){var a=this.getElement(t[n]),r=t[n];r&&-1!==this.disableNode.indexOf(r)&&this.disableNode.splice(this.disableNode.indexOf(r),1),a&&(a.removeAttribute("aria-disabled"),WA([a],"e-disable"))}}},{key:"nodeType",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var a=void 0;"string"==typeof e[n]?a=e[n]?e[n].toString():null:"object"==typeof e[n]&&(a=e[n]?e[n].getAttribute("data-uid").toString():null),-1==t.indexOf(a)&&t.push(a)}return t}},{key:"checkValidId",value:function(e){var t=this;if(1===this.dataType)this.validArr=this.treeData.filter((function(n){return-1!==e.indexOf(n[t.fields.id]?n[t.fields.id].toString():null)}));else if(2===this.dataType)for(var n=0;n<this.treeData.length;n++){var i=this.treeData[n][this.fields.id]?this.treeData[n][this.fields.id].toString():null;-1!==e.indexOf(i)&&this.validArr.push(this.treeData[n]);var a=YO(this.fields.child.toString(),this.treeData[n]);a&&this.filterNestedChild(a,e)}return this.validArr}},{key:"filterNestedChild",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n][this.fields.id]?e[n][this.fields.id].toString():null;-1!==t.indexOf(i)&&this.validArr.push(e[n]);var a=YO(this.fields.child.toString(),e[n]);a&&this.filterNestedChild(a,t)}}},{key:"setTouchClass",value:function(){var e=nD(this.element,".e-bigger");this.touchClass=JO(e)?"":"e-small"}},{key:"updatePersistProp",value:function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var e=this.selectedNodes,t=0,n=e.length;t<n;t++)this.updateField(this.treeData,this.fields,e[t],"selected",!0);var i=this.expandedNodes;this.isBlazorPlatform&&(i=this.isBlazorExpandedNodes);for(var a=0,r=i.length;a<r;a++)this.updateField(this.treeData,this.fields,i[a],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);for(var s=this.checkedNodes,l=0,o=s.length;l<o;l++)this.updateField(this.treeData,this.fields,s[l],"isChecked",!0)}}},{key:"removeField",value:function(e,t,n){if(!JO(e)&&!JO(t))for(var i=0,a=e.length;i<a;i++){for(var r=0;r<n.length;r++){var s=this.getMapperProp(t,n[r]);JO(e[i][s])||delete e[i][s]}"string"!=typeof t.child||JO(YO(t.child,e[i]))?this.fields.dataSource instanceof AM&&!JO(YO("child",e[i]))&&this.removeField(YO("child",e[i]),this.getChildMapper(t),n):this.removeField(YO(t.child,e[i]),this.getChildMapper(t),n)}}},{key:"getMapperProp",value:function(e,t){switch(t){case"selected":return JO(e.selected)?"selected":e.selected;case"expanded":return JO(e.expanded)?"expanded":e.expanded;case"isChecked":return JO(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return JO(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}}},{key:"updateField",value:function(e,t,n,i,a){if(!JO(n))if(1===this.dataType){var r=this.isNumberTypeId?parseFloat(n):n,s=new AM(this.treeData).executeLocal((new kM).where(t.id,"equal",r,!1));GO(this.getMapperProp(t,i),a,s[0])}else this.updateChildField(e,t,n,i,a)}},{key:"updateChildField",value:function(e,t,n,i,a,r){var s;if(JO(e))return s;for(var l=0,o=e.length;l<o;l++){var u=YO(t.id,e[l]);if(e[l]&&u&&u.toString()===n)return r?s=e.splice(l,1):(GO(this.getMapperProp(t,i),a,e[l]),s=[]),s;if("string"!=typeof t.child||JO(YO(t.child,e[l]))){if(this.fields.dataSource instanceof AM&&!JO(YO("child",e[l]))){var c=YO("child",e[l]);if(void 0!==(s=this.updateChildField(c,this.getChildMapper(t),n,i,a,r)))break}}else{var h=YO(t.child,e[l]);if(void 0!==(s=this.updateChildField(h,this.getChildMapper(t),n,i,a,r)))break}}return s}},{key:"triggerEvent",value:function(){this.updateTemplateForBlazor(),this.trigger("dataSourceChanged",{data:this.treeData})}},{key:"updateBlazorTemplate",value:function(){}},{key:"clientUpdateInitial",value:function(){this.blazorInitialRender=!0}},{key:"wireInputEvents",value:function(e){$I.add(e,"blur",this.inputFocusOut,this)}},{key:"wireEditingEvents",value:function(e){if(e&&!this.disabled){var t=this;this.touchEditObj=new rM(this.element,{tap:function(e){2===e.tapCount&&(e.originalEvent.preventDefault(),t.editingHandler(e.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()}},{key:"wireClickEvent",value:function(e){if(e){var t=this;this.touchClickObj=new rM(this.element,{tap:function(e){t.clickHandler(e)}})}else this.touchClickObj&&this.touchClickObj.destroy()}},{key:"wireExpandOnEvent",value:function(e){var t=this;if(e){var n=this;this.touchExpandObj=new rM(this.element,{tap:function(e){("Click"===t.expandOnType||"DblClick"===t.expandOnType&&2===e.tapCount)&&3!==e.originalEvent.which&&n.expandHandler(e)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()}},{key:"mouseDownHandler",value:function(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&$I.add(this.element,"contextmenu",this.preventContextMenu,this)}},{key:"preventContextMenu",value:function(e){e.preventDefault()}},{key:"wireEvents",value:function(){$I.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),$I.add(this.element,"focus",this.focusIn,this),$I.add(this.element,"blur",this.focusOut,this),$I.add(this.element,"mouseover",this.onMouseOver,this),$I.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new eM(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}},{key:"unWireEvents",value:function(){$I.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),$I.remove(this.element,"focus",this.focusIn),$I.remove(this.element,"blur",this.focusOut),$I.remove(this.element,"mouseover",this.onMouseOver),$I.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()}},{key:"parents",value:function(e,t){for(var n=[],i=e.parentNode;!JO(i);)rD(i,t)&&n.push(i),i=i.parentNode;return n}},{key:"isDescendant",value:function(e,t){for(var n=t.parentNode;!JO(n);){if(n===e)return!0;n=n.parentNode}return!1}},{key:"showSpinner",value:function(e){UA([e],bR),KP({target:e,width:KI.isDevice?16:14},this.createElement),rL(e)}},{key:"hideSpinner",value:function(e){lL(e),e.innerHTML="",WA([e],bR)}},{key:"setCheckedNodes",value:function(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)}},{key:"setValidCheckedNode",value:function(e){if(1===this.dataType){var t=this.fields,n=new AM(this.treeData).executeLocal((new kM).where(t.id,"equal",e,!0));if(n[0]&&(this.setChildCheckState(n,e,n[0]),this.autoCheck)){for(var i=n[0][this.fields.parentID]?n[0][this.fields.parentID].toString():null,a=this.getChildNodes(this.treeData,i),r=0,s=0;s<a.length;s++){var l=a[s][this.fields.id].toString();-1!==this.checkedNodes.indexOf(l)&&r++}r===a.length&&-1===this.checkedNodes.indexOf(i)&&i&&this.checkedNodes.push(i)}}else if(2===this.dataType)for(var o=0;o<this.treeData.length;o++){if((this.treeData[o][this.fields.id]?this.treeData[o][this.fields.id].toString():"")===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}var u=YO(this.fields.child.toString(),this.treeData[o]);u&&this.setChildCheckState(u,e,this.treeData[o])}}},{key:"setChildCheckState",value:function(e,t,n){var i,a=0;if(1===this.dataType){n&&(i=n[this.fields.id]?n[this.fields.id].toString():null);for(var r=0;r<e.length;r++){var s=e[r][this.fields.id]?e[r][this.fields.id].toString():null;n&&i&&this.autoCheck&&-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(s)&&this.checkedNodes.push(s),s===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);var l=this.getChildNodes(this.treeData,s);l&&this.setChildCheckState(l,t,n)}}else{n&&(i=n[this.fields.id]?n[this.fields.id].toString():"");for(var o=0;o<e.length;o++){var u=e[o][this.fields.id]?e[o][this.fields.id].toString():"";n&&i&&this.autoCheck&&-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(u)&&this.checkedNodes.push(u),u===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);var c=YO(this.fields.child.toString(),e[o]);c&&this.setChildCheckState(c,t,e[o]),-1!==this.checkedNodes.indexOf(u)&&this.autoCheck&&a++,a===e.length&&-1===this.checkedNodes.indexOf(i)&&this.autoCheck&&this.checkedNodes.push(i)}}}},{key:"setIndeterminate",value:function(e){for(var t=0;t<e.length;t++)this.setValidCheckedNode(e[t])}},{key:"updatePosition",value:function(e,t,n,i){if(1===this.dataType){var a=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(a,1,t),n){this.removeChildNodes(e);for(var r=0;r<i.length;r++)this.treeData.splice(a,0,i[r]),a++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)}},{key:"updateChildPosition",value:function(e,t,n,i,a){for(var r,s=0,l=e.length;s<l;s++){var o=YO(t.id,e[s]);if(e[s]&&o&&o.toString()===n)return e[s]=i[0],!0;if("string"!=typeof t.child||JO(YO(t.child,e[s]))){if(this.fields.dataSource instanceof AM&&!JO(YO("child",e[s]))){var u=YO("child",e[s]);if(void 0!==(r=this.updateChildPosition(u,this.getChildMapper(t),n,i,a)))break}}else{var c=YO(t.child,e[s]);if(void 0!==(r=this.updateChildPosition(c,this.getChildMapper(t),n,i,a)))break}}return r}},{key:"dynamicState",value:function(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())}},{key:"crudOperation",value:function(e,t,n,i,a,r,s){var l,o=this,u=this.fields.dataSource,c=[],h=this.getQuery(this.fields),d=this.fields.id,p={addedRecords:[],deletedRecords:[],changedRecords:[]},f=[];t?f=this.nodeType(t):n&&("string"==typeof n?f[0]=n.toString():"object"==typeof n&&(f[0]=n.getAttribute("data-uid").toString()));for(var m=0,g=f.length;m<g;m++)if(!JO(this.getElement(f[m]))){var v=this.getNodeObject(f[m]);c.push(v)}switch(e){case"delete":1==t.length?l=u.remove(d,c[0],h.fromTable,h):(p.deletedRecords=c,l=u.saveChanges(p,d,h.fromTable,h)),l.then((function(e){return o.deleteSuccess(f)})).catch((function(e){return o.dmFailure(e)}));break;case"update":c[0][this.fields.text]=i,(l=u.update(d,c[0],h.fromTable,h)).then((function(e){return o.editSucess(n,i,s)})).catch((function(e){return o.dmFailure(e,n,s)}));break;case"insert":if(1==a.length)l=u.insert(a[0],h.fromTable,h);else{for(var y=[],b=0,k=a.length;b<k;b++)y.push(a[b]);p.addedRecords=y,l=u.saveChanges(p,d,h.fromTable,h)}l.then((function(e){var t=o.getElement(n);o.addSuccess(a,t,r),o.preventExpand=!1})).catch((function(e){return o.dmFailure(e)}))}}},{key:"deleteSuccess",value:function(e){for(var t=0,n=e.length;t<n;t++){var i=this.getElement(e[t]);JO(i)||this.removeNode(i)}1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent()}},{key:"editSucess",value:function(e,t,n){var i=this.getElement(e),a=eD("."+gR,i);this.appendNewText(i,a,t,n)}},{key:"addSuccess",value:function(e,t,n){var i,a=t?t.querySelector(".e-icons"):null,r=this;t&&a&&a.classList.contains(fR)&&null===t.querySelector("."+vR)?r.renderChildNodes(t,null,(function(){i=t.querySelector("."+vR),r.addGivenNodes(e,t,n,!0,i),r.triggerEvent()})):(this.addGivenNodes(e,t,n,!0),this.triggerEvent())}},{key:"dmFailure",value:function(e,t,n){t&&this.updatePreviousText(t,n),this.trigger("actionFailure",{error:e})}},{key:"updatePreviousText",value:function(e,t){var n=this.getElement(e),i=eD("."+gR,n);this.updateText(n,i,this.oldText,t)}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var a=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(a,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.isBlazorPlatform||this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.isBlazorPlatform||this.setProperties({expandedNodes:JO(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"===this.expandOnType||this.disabled||this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.blazorInitialRender||this.reRenderNodes(),this.blazorInitialRender=!1,this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect);break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){for(var r=this.element.querySelectorAll("li"),s=0;s<r.length;)"true"!==r[s].getAttribute("aria-expanded")&&this.renderChildNodes(r[s],!0,null,!0),s++;this.onLoaded=!0}break;case"nodeTemplate":this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}}},{key:"destroy",value:function(){xA(this.element.id+"nodeTemplate"),this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.isBlazorPlatform&&(this.ulElement=this.element.querySelector(".e-list-parent.e-ul")),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.isBlazorPlatform||_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"addNodes",value:function(e,t,n,i){if(!JO(e)){e=JSON.parse(JSON.stringify(e));var a=this.getElement(t);if(this.preventExpand=i,this.fields.dataSource instanceof AM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName)this.fields.dataSource.dataSource.offline?this.addSuccess(e,a,n):this.crudOperation("insert",null,t,null,e,n,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,a,n);else{if(a)this.addGivenNodes(e,a,n);else{e=this.getSortedData(e);for(var r=0;r<e.length;r++){var s=YO(this.fields.parentID,e[r]);a=s?this.getElement(s.toString()):s,this.addGivenNodes([e[r]],a,n)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.showCheckBox&&a&&this.ensureParentCheckState(a),(this.fields.dataSource instanceof AM==0||this.fields.dataSource instanceof AM&&"BlazorAdaptor"===this.fields.dataSource.adaptorName)&&(this.preventExpand=!1,this.triggerEvent())}}},{key:"beginEdit",value:function(e){var t=this.getElement(e);JO(t)||this.disabled||this.createTextbox(t,null)}},{key:"checkAll",value:function(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)}},{key:"collapseAll",value:function(e,t,n){JO(e)?t>0?this.collapseByLevel(eD("."+vR,this.element),t,n):this.collapseAllNodes(n):this.doGivenAction(e,pR,!1)}},{key:"disableNodes",value:function(e){JO(e)||this.doDisableAction(e)}},{key:"enableNodes",value:function(e){JO(e)||this.doEnableAction(e)}},{key:"ensureVisible",value:function(e){var t=this.getElement(e);if(!JO(t)){var n=this.parents(t,"."+mR);this.expandAll(n),setTimeout((function(){t.scrollIntoView(!0)}),450)}}},{key:"expandAll",value:function(e,t,n){JO(e)?t>0?this.expandByLevel(eD("."+vR,this.element),t,n):this.expandAllNodes(n):this.doGivenAction(e,fR,!0)}},{key:"getAllCheckedNodes",value:function(){return this.checkedNodes}},{key:"getDisabledNodes",value:function(){return this.disableNode}},{key:"getNode",value:function(e){var t=this.getElement(e);return this.getNodeData(t,!0)}},{key:"getTreeData",value:function(e){var t=this.getId(e);if(this.updatePersistProp(),JO(t))return this.treeData;var n=this.getNodeObject(t);return JO(n)?[]:[n]}},{key:"moveNodes",value:function(e,t,n,i){var a=this.getElement(t);if(!JO(a)){for(var r=0;r<e.length;r++){var s=this.getElement(e[r]);JO(s)||a.isSameNode(s)||this.isDescendant(s,a)||(this.preventExpand=i,this.dropAsChildNode(s,a,this,n))}this.fields.dataSource instanceof AM==0&&(this.preventExpand=!1),this.triggerEvent()}}},{key:"refreshNode",value:function(e,t){if(!JO(e)&&!JO(t)){var n,i=!1;1==this.dataType&&t.length>1?i=!0:2==this.dataType&&1===t.length&&(JO(YO(this.fields.child.toString(),t[0]))||(i=!0));var a,r,s=this.getElement(e);if(n=s?s.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(n),t=JSON.parse(JSON.stringify(t)),1==this.dataType&&i){for(var l=0;l<t.length;l++)if(JO(t[l][this.fields.parentID])){r=t[l],t.splice(l,1);break}a=ZO({},this.refreshData,r)}else a=ZO({},this.refreshData,t[0]);if(JO(s))this.updatePosition(n,a,i,t);else{this.isRefreshed=!0;var o=parseFloat(s.getAttribute("aria-level")),u=BM.createListItemFromJson(this.createElement,[a],this.listBaseOption,o),c=eD("."+vR,s),h=YO(this.fields.child.toString(),a);if(i&&c||i&&!JO(h))s.innerHTML=u[0].innerHTML,this.updatePosition(n,a,i,t),i&&c&&this.expandAll([n]);else{var d=eD("."+CR,s),p=eD("."+CR,u[0]),f=eD("div.e-icons",d),m=eD("div.e-icons",p);f&&m&&(m.classList.contains(fR)&&f.classList.contains(pR)?(WA([m],fR),UA([m],pR)):m.classList.contains(pR)&&f.classList.contains(fR)?(WA([m],pR),UA([m],fR)):f.classList.contains("interaction")&&UA([m],"interaction")),d.innerHTML=p.innerHTML,this.updatePosition(n,a,i,t)}if(a[this.fields.tooltip]&&s.setAttribute("title",a[this.fields.tooltip]),a.hasOwnProperty(this.fields.htmlAttributes)&&a[this.fields.htmlAttributes]){var g={};$O(g,a[this.fields.htmlAttributes]),g.class?(UA([s],g.class.split(" ")),delete g.class):QA(s,g)}this.isRefreshed=!1,this.triggerEvent()}}}},{key:"removeNodes",value:function(e){JO(e)||(this.fields.dataSource instanceof AM&&!this.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("delete",e):this.deleteSuccess(e))}},{key:"updateNode",value:function(e,t){var n=this;if(!JO(e)&&!JO(t)&&this.allowEditing){var i=this.getElement(e);if(!JO(i)){var a=eD("."+gR,i);this.updateOldText(i);var r=this.getEditEvent(i,null,null);this.trigger("nodeEditing",r,(function(r){r.cancel||(n.fields.dataSource instanceof AM&&!n.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==n.fields.dataSource.adaptorName?n.crudOperation("update",null,e,t,null,null,!1):n.appendNewText(i,a,t,!1))}))}}}},{key:"uncheckAll",value:function(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)}}]),n}(zD),dR([bD(!1)],YL.prototype,"allowDragAndDrop",void 0),dR([bD(!1)],YL.prototype,"allowEditing",void 0),dR([bD(!1)],YL.prototype,"allowMultiSelection",void 0),dR([kD({},AR)],YL.prototype,"animation",void 0),dR([bD()],YL.prototype,"checkedNodes",void 0),dR([bD("")],YL.prototype,"cssClass",void 0),dR([bD(!1)],YL.prototype,"disabled",void 0),dR([bD(null)],YL.prototype,"dragArea",void 0),dR([bD(!1)],YL.prototype,"enableHtmlSanitizer",void 0),dR([bD(!1)],YL.prototype,"enablePersistence",void 0),dR([bD()],YL.prototype,"expandedNodes",void 0),dR([bD("Auto")],YL.prototype,"expandOn",void 0),dR([kD({},OR)],YL.prototype,"fields",void 0),dR([bD(!0)],YL.prototype,"fullRowSelect",void 0),dR([bD(!0)],YL.prototype,"loadOnDemand",void 0),dR([bD()],YL.prototype,"locale",void 0),dR([bD()],YL.prototype,"nodeTemplate",void 0),dR([bD()],YL.prototype,"selectedNodes",void 0),dR([bD("None")],YL.prototype,"sortOrder",void 0),dR([bD(!1)],YL.prototype,"showCheckBox",void 0),dR([bD(!0)],YL.prototype,"autoCheck",void 0),dR([bD(!1)],YL.prototype,"fullRowNavigable",void 0),dR([wD()],YL.prototype,"actionFailure",void 0),dR([wD()],YL.prototype,"created",void 0),dR([wD()],YL.prototype,"dataBound",void 0),dR([wD()],YL.prototype,"dataSourceChanged",void 0),dR([wD()],YL.prototype,"drawNode",void 0),dR([wD()],YL.prototype,"destroyed",void 0),dR([wD()],YL.prototype,"keyPress",void 0),dR([wD()],YL.prototype,"nodeChecked",void 0),dR([wD()],YL.prototype,"nodeChecking",void 0),dR([wD()],YL.prototype,"nodeClicked",void 0),dR([wD()],YL.prototype,"nodeCollapsed",void 0),dR([wD()],YL.prototype,"nodeCollapsing",void 0),dR([wD()],YL.prototype,"nodeDragging",void 0),dR([wD()],YL.prototype,"nodeDragStart",void 0),dR([wD()],YL.prototype,"nodeDragStop",void 0),dR([wD()],YL.prototype,"nodeDropped",void 0),dR([wD()],YL.prototype,"nodeEdited",void 0),dR([wD()],YL.prototype,"nodeEditing",void 0),dR([wD()],YL.prototype,"nodeExpanded",void 0),dR([wD()],YL.prototype,"nodeExpanding",void 0),dR([wD()],YL.prototype,"nodeSelected",void 0),dR([wD()],YL.prototype,"nodeSelecting",void 0),YL=WL=dR([_D],YL)),MR="",TR="",PR=[],LR="";function NR(e,t,n,i){var a=t;i=null==i||i;var r={item:null,index:null};if(e&&e.length){for(var s=e.length,l=i?e.toLocaleLowerCase():e,o=0,u=a;o<u.length;o++){var c=u[o],h=(i?c.textContent.toLocaleLowerCase():c.textContent).replace(/^\s+|\s+$/g,"");if("Equal"===n&&h===l||"StartsWith"===n&&h.substr(0,s)===l)return r.item=c,r.index=o,{item:c,index:o}}return r}return r}function RR(e,t,n,i,a){if(""!==t){var r=n?"gim":"gm";t=/^[a-zA-Z0-9- ]*$/.test(t)?t:t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),function e(t,n,i){for(var a=0;t.childNodes&&a<t.childNodes.length;a++){if(3===t.childNodes[a].nodeType&&""!==t.childNodes[a].textContent.trim()){(t=i&&t.classList.contains("e-highlight")?t.parentElement:t).innerHTML=i&&t.getAttribute("data-value")?t.getAttribute("data-value").replace(n,'<span class="e-highlight">$1</span>'):t.innerHTML.replace(n,'<span class="e-highlight">$1</span>');break}e(t.childNodes[a],n,i)}}(e,new RegExp("StartsWith"===i?"^("+t+")":"EndsWith"===i?"("+t+")$":"("+t+")",r),a)}}function FR(e){for(var t=e.querySelectorAll(".e-highlight"),n=t.length-1;n>=0;n--){var i=t[n].parentNode,a=document.createTextNode(t[n].textContent);i.replaceChild(a,t[n])}}var HR,BR,VR=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},jR=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD);return VR([bD()],e.prototype,"text",void 0),VR([bD()],e.prototype,"value",void 0),VR([bD()],e.prototype,"iconCss",void 0),VR([bD()],e.prototype,"groupBy",void 0),VR([bD()],e.prototype,"htmlAttributes",void 0),e}(),zR=(HR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"getPropObject",value:function(e,t,n){var i=new Object,a=new Object;i[e]=t[e],a[e]=n[e];var r=new Object;return r.newProperty=i,r.oldProperty=a,r}},{key:"getValueByText",value:function(e,t,n){var i=null;return JO(this.listData)||(i=this.checkValueCase(e,!!t,n)),i}},{key:"checkValueCase",value:function(e,t,n,i){var a=this,r=null;i&&(r=e);var s=this.listData,l=this.fields,o=this.typeOfData(s).typeof;if("string"===o||"number"===o||"boolean"===o){var u,c=_createForOfIteratorHelper(s);try{for(c.s();!(u=c.n()).done;){var h=u.value;JO(h)||(n?r=this.checkingAccent(String(h),e,t):t?this.checkIgnoreCase(String(h),e)&&(r=this.getItemValue(String(h),e,t)):this.checkNonIgnoreCase(String(h),e)&&(r=this.getItemValue(String(h),e,t,i)))}}catch(d){c.e(d)}finally{c.f()}}else s.filter(t?function(t){!JO(YO(l.value,t))&&a.checkIgnoreCase(YO(l.text,t).toString(),e)&&(r=YO(l.value,t))}:i?function(e){var t=YO(l.value,e);JO(t)||JO(r)||t.toString()!==r.toString()||(r=YO(l.text,e))}:function(t){a.checkNonIgnoreCase(YO(l.text,t),e)&&(r=YO(l.value,t))});return r}},{key:"checkingAccent",value:function(e,t,n){var i=wM.ignoreDiacritics(String(e)),a=wM.ignoreDiacritics(t.toString()),r=null;return n?this.checkIgnoreCase(i,a)&&(r=this.getItemValue(String(e),t,n)):this.checkNonIgnoreCase(String(e),t)&&(r=this.getItemValue(String(e),t,n)),r}},{key:"checkIgnoreCase",value:function(e,t){return String(e).toLowerCase()===t.toString().toLowerCase()}},{key:"checkNonIgnoreCase",value:function(e,t){return String(e)===t.toString()}},{key:"getItemValue",value:function(e,t,n,i){var a=this.typeOfData(this.listData).typeof;return i?e.toString():n?"string"===a?String(e):this.getFormattedValue(String(e)):"string"===a?t:this.getFormattedValue(t)}},{key:"templateCompiler",value:function(e){var t=!1;if(e)try{t=!!document.querySelectorAll(e).length}catch(n){t=!1}return t}},{key:"l10nUpdate",value:function(e){var t="listbox"===this.getModuleName()?this.ulElement:this.list;if("No records found"!==this.noRecordsTemplate||"Request failed"!==this.actionFailureTemplate){this.DropDownBaseresetBlazorTemplates(!1,!1,!0,!0);var n=e?this.actionFailureTemplate:this.noRecordsTemplate,i=e?this.actionFailureTemplateId:this.noRecordsTemplateId;t.innerHTML="";var a,r=_createForOfIteratorHelper(_A(this.templateCompiler(n)?document.querySelector(n).innerHTML.trim():n)({},null,null,i,this.isStringTemplate));try{for(r.s();!(a=r.n()).done;){var s=a.value;t.appendChild(s)}}catch(c){r.e(c)}finally{r.f()}this.DropDownBaseupdateBlazorTemplates(!1,!1,!e,e,!1,!1,!1,!1)}else{var l=new tM(this.getLocaleName(),{},this.locale);this.l10n=""!==l.getConstant("actionFailureTemplate")?l:new tM("listbox"===this.getModuleName()?"listbox":"dropdowns",{noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},this.locale);var o=this.l10n.getConstant(e?"actionFailureTemplate":"noRecordsTemplate");if("listbox"===this.getModuleName()){var u=this.createElement("li");u.textContent=o,t.appendChild(u),u.classList.add("e-list-nrt")}else t.innerHTML=o}}},{key:"getLocaleName",value:function(){return"drop-down-base"}},{key:"getTextByValue",value:function(e){return this.checkValueCase(e,!1,!1,!0)}},{key:"getFormattedValue",value:function(e){if(this.listData&&this.listData.length){var t=this.typeOfData(this.listData);if("null"===e)return null;if("number"==typeof YO(this.fields.value?this.fields.value:"value",t.item)||"number"===t.typeof)return parseFloat(e);if("boolean"==typeof YO(this.fields.value?this.fields.value:"value",t.item)||"boolean"===t.typeof)return"true"===e}return e}},{key:"setEnableRtl",value:function(){this.list&&this.enableRtlElements.push(this.list),this.enableRtl?UA(this.enableRtlElements,"e-rtl"):WA(this.enableRtlElements,"e-rtl")}},{key:"initialize",value:function(){if(this.bindEvent=!0,this.actionFailureTemplateId="".concat(this.element.id,"ActionFailureTemplate"),"UL"===this.element.tagName){var e=BM.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(e,this.fields)}else"SELECT"===this.element.tagName?(this.dataSource instanceof Array?this.dataSource.length>0:!JO(this.dataSource))||this.renderItemsBySelect():this.setListData(this.dataSource,this.fields,this.query)}},{key:"DropDownBaseupdateBlazorTemplates",value:function(e,t,n,i,a,r,s,l){}},{key:"DropDownBaseresetBlazorTemplates",value:function(e,t,n,i,a,r,s){this.isStringTemplate||(this.itemTemplate&&e&&xA(this.itemTemplateId),this.groupTemplate&&t&&xA(this.groupTemplateId),this.noRecordsTemplate&&n&&xA(this.noRecordsTemplateId),this.actionFailureTemplate&&i&&xA(this.actionFailureTemplateId),a&&xA(this.valueTemplateId),r&&xA(this.headerTemplateId),s&&xA(this.footerTemplateId))}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"setEnabled",value:function(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")}},{key:"updateDataAttribute",value:function(e){for(var t=["class","style","id","type"],n={},i=0;i<this.element.attributes.length;i++)-1!==t.indexOf(this.element.attributes[i].name)||"dropdownlist"===this.getModuleName()&&"readonly"===this.element.attributes[i].name||(n[this.element.attributes[i].name]=this.element.getAttribute(this.element.attributes[i].name));ZO(n,e,n),this.setProperties({htmlAttributes:n},!0)}},{key:"renderItemsBySelect",value:function(){var e=this.element,t={value:"value",text:"text"},n=[],i=e.querySelectorAll("select>optgroup"),a=e.querySelectorAll("select>option");if(this.getJSONfromOption(n,a,t),i.length){for(var r=0;r<i.length;r++){var s=i[r],l={};l[t.text]=s.label,l.isHeader=!0;var o=s.querySelectorAll("option");n.push(l),this.getJSONfromOption(n,o,t)}e.querySelectorAll("select>option")}this.fields.text=t.text,this.fields.value=t.value,this.resetList(n,t)}},{key:"getJSONfromOption",value:function(e,t,n){var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var r=i.value,s={};s[n.text]=r.innerText,s[n.value]=r.getAttribute(n.value)?r.getAttribute(n.value):r.innerText,e.push(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"preRender",value:function(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId="".concat(this.element.id,"ItemTemplate"),this.valueTemplateId="".concat(this.element.id,"ValueTemplate"),this.groupTemplateId="".concat(this.element.id,"GroupTemplate"),this.headerTemplateId="".concat(this.element.id,"HeaderTemplate"),this.footerTemplateId="".concat(this.element.id,"FooterTemplate"),this.noRecordsTemplateId="".concat(this.element.id,"NoRecordsTemplate")}},{key:"setListData",value:function(e,t,n){var i,a=this;t=t||this.fields,this.isActive=!0,this.trigger("actionBegin",{cancel:!1,data:e,query:n},(function(n){if(!n.cancel)if(a.showSpinner(),e instanceof AM){if(a.isRequested=!0,a.isDataFetched)return void a.emptyDataRequest(t);n.data.executeQuery(a.getQuery(n.query)).then((function(e){a.trigger("actionComplete",e,(function(e){if(!e.cancel){var n=e.result;0===n.length&&(a.isDataFetched=!0),i=a.renderItems(n,t),a.onActionComplete(i,n,e),a.groupTemplate&&a.renderGroupTemplate(i),a.isRequested=!1,a.bindChildItems(n,i,t,e)}}))})).catch((function(e){a.isRequested=!1,a.onActionFailure(e),a.hideSpinner()}))}else{var r=new AM(n.data),s=a.getQuery(n.query).executeLocal(r);a.trigger("actionComplete",{cancel:!1,result:s},(function(e){e.cancel||(i=a.renderItems(e.result,t),a.onActionComplete(i,e.result),a.groupTemplate&&a.renderGroupTemplate(i),a.bindChildItems(e.result,i,t))}))}}))}},{key:"bindChildItems",value:function(e,t,n,i){var a=this;e.length>=100&&"autocomplete"===this.getModuleName()?setTimeout((function(){KA(a.remainingItems(a.sortedData,n),t),a.DropDownBaseupdateBlazorTemplates(!0,!1,!1,!1),a.liCollections=a.list.querySelectorAll(".e-list-item"),a.updateListValues(),a.raiseDataBound(e,i)}),0):this.raiseDataBound(e,i)}},{key:"updateListValues",value:function(){}},{key:"findListElement",value:function(e,t,n,i){var a=null;if(e)for(var r=[].slice.call(e.querySelectorAll(t)),s=0;s<r.length;s++)if(r[s].getAttribute(n)===i+""){a=r[s];break}return a}},{key:"raiseDataBound",value:function(e,t){this.hideSpinner(),this.trigger("dataBound",{items:e,e:t})}},{key:"remainingItems",value:function(e,t){var n=new AM(e).executeLocal((new kM).skip(100));if(this.itemTemplate){var i=this.templateListItem(n,t);return[].slice.call(i.childNodes)}var a=this.typeOfData(n).typeof;return"string"===a||"number"===a||"boolean"===a?BM.createListItemFromArray(this.createElement,n,!0,this.listOption(n,t)):BM.createListItemFromJson(this.createElement,n,this.listOption(n,t),1,!0)}},{key:"emptyDataRequest",value:function(e){var t=[];this.onActionComplete(this.renderItems(t,e),t),this.isRequested=!1,this.hideSpinner()}},{key:"showSpinner",value:function(){}},{key:"hideSpinner",value:function(){}},{key:"onActionFailure",value:function(e){this.liCollections=[],this.trigger("actionFailure",e),this.l10nUpdate(!0),UA([this.list],"e-nodata")}},{key:"onActionComplete",value:function(e,t,n){this.listData=t,this.list.innerHTML="",this.fixedHeaderElement=JO(this.fixedHeaderElement)?this.fixedHeaderElement:null,this.list.appendChild(e),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,t,this.bindEvent)}},{key:"postRender",value:function(e,t,n){var i=e.querySelector(".e-list-item"),a=e.querySelector(".e-active");i&&!a&&i.classList.add("e-item-focus"),t.length<=0?(this.l10nUpdate(),UA([e],"e-nodata")):e.classList.remove("e-nodata")}},{key:"getQuery",value:function(e){return e||(this.query?this.query:new kM)}},{key:"renderGroupTemplate",value:function(e){if(null!==this.fields.groupBy&&this.dataSource||this.element.querySelector(".e-list-group-item")){var t=this.dataSource,n={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},i=e.querySelectorAll(".e-list-group-item");if(this.templateCompiler(this.groupTemplate)){var a=document.querySelector(this.groupTemplate).innerHTML.trim();BM.renderGroupTemplate(a,t,this.fields.properties,i,n)}else BM.renderGroupTemplate(this.groupTemplate,t,this.fields.properties,i,n);this.DropDownBaseupdateBlazorTemplates(!1,!0,!1,!1,!1,!1,!1,!1)}}},{key:"createListItems",value:function(e,t){e&&t.groupBy||this.element.querySelector("optgroup")?(t.groupBy&&("None"!==this.sortOrder&&(e=this.getSortedDataSource(e)),e=BM.groupDataSource(e,t.properties,this.sortOrder)),UA([this.list],"e-dd-group")):e=this.getSortedDataSource(e);var n=this.listOption(e,t),i=e.length>100?new AM(e).executeLocal((new kM).take(100)):e;return this.sortedData=e,BM.createList(this.createElement,"autocomplete"===this.getModuleName()?i:e,n,!0)}},{key:"listOption",value:function(e,t){var n=!JO(t.iconCss),i=JO(t.properties)?t:t.properties;return ZO({},null!==t.text||null!==t.value?{fields:i,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},t,!0)}},{key:"setFloatingHeader",value:function(e){JO(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:"e-fixed-head"}),this.list.querySelector("li").classList.contains("e-list-group-item")||(this.fixedHeaderElement.style.display="none"),XA([this.fixedHeaderElement],this.list),this.setFixedHeader()),JO(this.fixedHeaderElement)||"0"!==this.fixedHeaderElement.style.zIndex||this.setFixedHeader(),this.scrollStop(e)}},{key:"scrollStop",value:function(e){for(var t=e.target,n=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10),i=Math.round(t.scrollTop/n),a=this.list.querySelectorAll("li"),r=i;r>-1;r--){if(!JO(a[r])&&a[r].classList.contains("e-list-group-item")){this.fixedHeaderElement.innerHTML=a[r].innerHTML,this.fixedHeaderElement.style.top=e.target.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}}},{key:"renderItems",value:function(e,t){var n;if(this.itemTemplate&&e){var i=e;i&&t.groupBy?("None"!==this.sortOrder&&(i=this.getSortedDataSource(i)),i=BM.groupDataSource(i,t.properties,this.sortOrder)):i=this.getSortedDataSource(i),this.sortedData=i;var a=i.length>100?new AM(i).executeLocal((new kM).take(100)):i;n=this.templateListItem("autocomplete"===this.getModuleName()?a:i,t);var r="listbox"===this.getModuleName();this.DropDownBaseupdateBlazorTemplates(!0,!1,!1,!1,!1,!1,!1,r)}else n=this.createListItems(e,t);return n}},{key:"templateListItem",value:function(e,t){this.DropDownBaseresetBlazorTemplates(!0,!1,!1,!1);var n=this.listOption(e,t);if(n.templateID=this.itemTemplateId,n.isStringTemplate=this.isStringTemplate,this.templateCompiler(this.itemTemplate)){var i=document.querySelector(this.itemTemplate).innerHTML.trim();return BM.renderContentTemplate(this.createElement,i,e,t.properties,n)}return BM.renderContentTemplate(this.createElement,this.itemTemplate,e,t.properties,n)}},{key:"typeOfData",value:function(e){for(var t=0;!JO(e)&&t<e.length;t++)if(!JO(e[t])&&!JO("string"==typeof e[t]||"number"==typeof e[t]||"boolean"==typeof e[t]?e[t]:YO(this.fields.value?this.fields.value:"value",e[t])))return{typeof:typeof e[t],item:e[t]};return{typeof:null,item:null}}},{key:"setFixedHeader",value:function(){this.list.parentElement.style.display="block";var e=0;this.list&&this.list.parentElement&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10)),this.fixedHeaderElement.style.width=(this.liCollections[0].offsetWidth-e).toString()+"px",iD(this.fixedHeaderElement,{zIndex:10});var t=this.ulElement.querySelector(".e-list-group-item");this.fixedHeaderElement.innerHTML=t.innerHTML}},{key:"getSortedDataSource",value:function(e){return e&&"None"!==this.sortOrder&&(e=BM.getDataSource(e,BM.addSorting(this.sortOrder,this.fields.text?this.fields.text:"text"))),e}},{key:"getIndexByValue",value:function(e){for(var t,n=this.getItems(),i=0;i<n.length;i++)if(!JO(e)&&n[i].getAttribute("data-value")===e.toString()){t=i;break}return t}},{key:"dispatchEvent",value:function(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}},{key:"setFields",value:function(){this.fields.value&&!this.fields.text?this.fields.text=this.fields.value:!this.fields.value&&this.fields.text?this.fields.value=this.fields.text:this.fields.value||this.fields.text||(this.fields.value=this.fields.text="text")}},{key:"resetList",value:function(e,t,n){this.list&&(("SELECT"===this.element.tagName&&this.element.options.length>0||"UL"===this.element.tagName&&this.element.childNodes.length>0)&&!(e instanceof Array?e.length>0:!JO(e))&&this.selectData&&this.selectData.length>0&&(e=this.selectData),this.setListData(e,t,n))}},{key:"updateSelectElementData",value:function(e){e&&JO(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)}},{key:"updateSelection",value:function(){}},{key:"renderList",value:function(){this.render()}},{key:"updateDataSource",value:function(e){this.resetList(this.dataSource)}},{key:"setUpdateInitial",value:function(e,t){this.isDataFetched=!1;for(var n={},i=0;e.length>i;i++)t[e[i]]&&"fields"===e[i]?this.setFields():t[e[i]]&&(n[e[i]]=t[e[i]]);Object.keys(n).length>0&&(-1===Object.keys(n).indexOf("dataSource")&&(n.dataSource=this.dataSource),this.updateDataSource(n))}},{key:"onPropertyChanged",value:function(e,t){"dropdownbase"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e),this.setUpdateInitial(["sortOrder","itemTemplate"],e);for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnabled();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){var a=this.ulElement.querySelector(".e-list-group-item");this.fixedHeaderElement.innerHTML=a.innerHTML}break;case"locale":this.list&&!JO(this.liCollections)&&0===this.liCollections.length&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex()}}},{key:"render",value:function(e){this.list=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}}),this.list.classList.add("e-dropdownbase"),this.setFields(),this.rippleFun=AD(this.list,{duration:300,selector:".e-list-item"});var t=this.element.querySelector("select>optgroup");if(!this.fields.groupBy&&JO(t)||this.isGroupChecking||$I.add(this.list,"scroll",this.setFloatingHeader,this),"dropdownbase"===this.getModuleName()){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),WA([this.element],"e-dropdownbase"),this.element.style.display="none";var n=this.createElement("div");this.element.parentElement.insertBefore(n,this.element),n.appendChild(this.element),n.appendChild(this.list)}this.setEnableRtl(),this.setEnabled(),e||this.initialize()}},{key:"getModuleName",value:function(){return"dropdownbase"}},{key:"getItems",value:function(){return this.ulElement.querySelectorAll(".e-list-item")}},{key:"addItem",value:function(e,t){if((!this.list||this.list.textContent===this.noRecordsTemplate&&"listbox"!==this.getModuleName())&&this.renderList(),"None"!==this.sortOrder&&JO(t)){var n=[].slice.call(this.listData);n.push(e),t=(n=this.getSortedDataSource(n)).indexOf(e)}this.DropDownBaseresetBlazorTemplates(!0,!1,!1,!1);var i,a=this.getItems().length,r=this.list.querySelector(".e-active");e=e instanceof Array?e:[e],i=JO(t)||t<0||t>a-1?a:t;var s=this.fields;e&&s.groupBy&&(e=BM.groupDataSource(e,s.properties));for(var l=[],o=0;o<e.length;o++){var u=e[o],c=u.isHeader,h=this.createElement("li",{className:c?"e-list-group-item":"e-list-item",id:"option-add-"+o}),d=u instanceof Object?YO(s.text,u):u;c&&(h.innerText=d),this.itemTemplate&&!c?(KA(_A(this.itemTemplate)(u,null,null,this.itemTemplateId,this.isStringTemplate),h),this.DropDownBaseupdateBlazorTemplates(!0,!1,!1,!1)):c||h.appendChild(document.createTextNode(d)),h.setAttribute("data-value",u instanceof Object?YO(s.value,u):u),h.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:h}),l.push(h),this.listData.push(u),this.updateActionCompleteData(h,u),this.trigger("beforeItemRender",{element:h,item:u})}if(0===a&&JO(this.list.querySelector("ul")))this.list.innerHTML="",this.list.classList.remove("e-nodata"),this.list.appendChild(this.ulElement),this.liCollections=l,KA(l,this.ulElement),this.updateAddItemList(this.list,a);else{"listbox"===this.getModuleName()&&0===a&&(this.ulElement.innerHTML="");for(var p=[],f=0;f<e.length;f++){for(var m=this.ulElement.querySelectorAll(".e-list-group-item"),g=0;g<m.length;g++)p[g]=m[g].innerText;if(p.indexOf(l[f].innerText)>-1&&s.groupBy){for(var v=0;v<m.length;v++)if(p[v]===l[f].innerText){this.ulElement.insertBefore(l[f+1],m[v+1]),f+=1;break}}else this.liCollections[i]?this.liCollections[i].parentNode.insertBefore(l[f],this.liCollections[i]):this.ulElement.appendChild(l[f]);var y=[].slice.call(this.liCollections);y.splice(i,0,l[f]),this.liCollections=y,i+=1,"multiselect"===this.getModuleName()&&this.updateDataList()}}(r||0===t)&&this.updateSelection()}},{key:"validationAttribute",value:function(e,t){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",n),e.removeAttribute("name");for(var i=["required","aria-required","form"],a=0;a<i.length;a++)if(e.getAttribute(i[a])){var r=e.getAttribute(i[a]);t.setAttribute(i[a],r),e.removeAttribute(i[a])}}},{key:"setZIndex",value:function(){}},{key:"updateActionCompleteData",value:function(e,t){}},{key:"updateAddItemList",value:function(e,t){}},{key:"updateDataList",value:function(){}},{key:"getDataByValue",value:function(e){if(!JO(this.listData)){var t=this.typeOfData(this.listData).typeof;if("string"===t||"number"===t||"boolean"===t){var n,i=_createForOfIteratorHelper(this.listData);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!JO(a)&&a===e)return a}}catch(o){i.e(o)}finally{i.f()}}else{var r,s=_createForOfIteratorHelper(this.listData);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(!JO(l)&&YO(this.fields.value?this.fields.value:"value",l)===e)return l}}catch(o){s.e(o)}finally{s.f()}}}return null}},{key:"destroy",value:function(){document.body.contains(this.list)&&($I.remove(this.list,"scroll",this.setFloatingHeader),JO(this.rippleFun)||this.rippleFun(),ZA(this.list)),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(zD),VR([kD({text:null,value:null,iconCss:null,groupBy:null},jR)],HR.prototype,"fields",void 0),VR([bD(!1)],HR.prototype,"enablePersistence",void 0),VR([bD(null)],HR.prototype,"itemTemplate",void 0),VR([bD(null)],HR.prototype,"groupTemplate",void 0),VR([bD("No records found")],HR.prototype,"noRecordsTemplate",void 0),VR([bD("Request failed")],HR.prototype,"actionFailureTemplate",void 0),VR([bD("None")],HR.prototype,"sortOrder",void 0),VR([bD(!0)],HR.prototype,"enabled",void 0),VR([bD([])],HR.prototype,"dataSource",void 0),VR([bD(null)],HR.prototype,"query",void 0),VR([bD("StartsWith")],HR.prototype,"filterType",void 0),VR([bD(!0)],HR.prototype,"ignoreCase",void 0),VR([bD(1e3)],HR.prototype,"zIndex",void 0),VR([bD(!1)],HR.prototype,"ignoreAccent",void 0),VR([bD()],HR.prototype,"locale",void 0),VR([wD()],HR.prototype,"actionBegin",void 0),VR([wD()],HR.prototype,"actionComplete",void 0),VR([wD()],HR.prototype,"actionFailure",void 0),VR([wD()],HR.prototype,"select",void 0),VR([wD()],HR.prototype,"dataBound",void 0),VR([wD()],HR.prototype,"created",void 0),VR([wD()],HR.prototype,"destroyed",void 0),HR=VR([_D],HR)),qR=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},UR={root:"e-dropdownlist",hover:"e-hover",selected:"e-active",rtl:"e-rtl",li:"e-list-item",disable:"e-disabled",base:"e-dropdownbase",focus:"e-item-focus",input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden"},WR={container:null,buttons:[]},YR=(BR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).previousValue=null,a}return _createClass(n,[{key:"preRender",value:function(){this.isServerBlazor=!1,this.isServerBlazor?this.initializeData():(this.element.style.opacity="0",this.initializeData(),_get(_getPrototypeOf(n.prototype),"preRender",this).call(this)),this.activeIndex=this.index,this.queryString=""}},{key:"initializeData",value:function(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"}}},{key:"setZIndex",value:function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})}},{key:"renderList",value:function(e){this.isServerBlazor?this.interopAdaptor.invokeMethodAsync("OnServerRenderList",this.beforePopupOpen,!1):(_get(_getPrototypeOf(n.prototype),"render",this).call(this,e),this.wireListEvents())}},{key:"floatLabelChange",value:function(){if("dropdownlist"===this.getModuleName()&&"Auto"===this.floatLabelType){var e=this.inputWrapper.container.querySelector(".e-float-text");""!==this.inputElement.value||this.isInteracted?aD(e,["e-label-top"],["e-label-bottom"]):aD(e,["e-label-bottom"],["e-label-top"])}}},{key:"resetHandler",value:function(e){e.preventDefault(),this.clearAll(e)}},{key:"resetFocusElement",value:function(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,"autocomplete"!==this.getModuleName()&&!JO(this.ulElement)){var e=this.ulElement.querySelector("."+UR.li);e&&e.classList.add(UR.focus)}}},{key:"clearAll",value:function(e,t){!JO(t)&&(JO(t)||!JO(t.dataSource)&&(t.dataSource instanceof AM||0!==t.dataSource.length))||(this.isActive=!0,this.resetSelection(t));var n=this.getItemData();this.previousValue!==n.value&&this.onChangeEvent(e)}},{key:"resetSelection",value:function(e){if(this.list)if(JO(e)||!JO(e.dataSource)&&(e.dataSource instanceof AM||0!==e.dataSource.length)){if(this.allowFiltering&&"autocomplete"!==this.getModuleName()&&!JO(this.actionCompleteData.ulElement)&&!JO(this.actionCompleteData.list)){var t=this.actionCompleteData.ulElement.querySelector("li"),n=this.ulElement&&this.ulElement.querySelector("li");"EJS-COMBOBOX"===this.element.tagName&&t&&n&&t.childElementCount>0&&n.childElementCount>0&&t.textContent!==n.textContent&&this.itemTemplate&&this.cloneElements(),this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list)}this.resetFocusElement()}else this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource);this.isServerBlazor||(this.hiddenElement.innerHTML=""),this.inputElement.value="",this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(ZA(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()}},{key:"setHTMLAttributes",value:function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];if("class"===n){var i=this.htmlAttributes[n].replace(/\s+/g," ").trim();""!==i&&UA([this.inputWrapper.container],i.split(" "))}else if("disabled"===n&&"disabled"===this.htmlAttributes[n])this.enabled=!1,this.setEnable();else if("readonly"!==n||JO(this.htmlAttributes[n]))if("style"===n)this.inputWrapper.container.setAttribute("style",this.htmlAttributes[n]);else{var a=["title","id","placeholder","aria-placeholder","role","autocorrect","autocomplete","autocapitalize","spellcheck","minlength","maxlength"];"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||a.push("tabindex"),0===n.indexOf("data")||["name","required"].indexOf(n)>-1?this.hiddenElement.setAttribute(n,this.htmlAttributes[n]):a.indexOf(n)>-1?"placeholder"===n?pL.setPlaceholder(this.htmlAttributes[n],this.inputElement):this.inputElement.setAttribute(n,this.htmlAttributes[n]):this.inputWrapper.container.setAttribute(n,this.htmlAttributes[n])}else this.readonly=!0,this.dataBind()}"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.inputWrapper.container.removeAttribute("tabindex")}},{key:"getAriaAttributes",value:function(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-haspopup":"true","aria-expanded":"false","aria-activedescendant":"null","aria-live":"polite","aria-labelledby":this.hiddenElement.id}}},{key:"setEnableRtl",value:function(){pL.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())}},{key:"setEnable",value:function(){pL.setEnabled(this.enabled,this.inputElement),this.enabled?(WA([this.inputWrapper.container],UR.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex)):(this.hidePopup(),UA([this.inputWrapper.container],UR.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1)}},{key:"getPersistData",value:function(){return this.addOnPersist(["value"])}},{key:"getLocaleName",value:function(){return"drop-down-list"}},{key:"preventTabIndex",value:function(e){"dropdownlist"===this.getModuleName()&&(e.tabIndex=-1)}},{key:"targetElement",value:function(){return this.inputWrapper.container}},{key:"getNgDirective",value:function(){return"EJS-DROPDOWNLIST"}},{key:"getElementByText",value:function(e){return this.getElementByValue(this.getValueByText(e))}},{key:"getElementByValue",value:function(e){var t,n,i=_createForOfIteratorHelper(this.getItems());try{for(i.s();!(n=i.n()).done;){var a=n.value;if(this.getFormattedValue(a.getAttribute("data-value"))===e){t=a;break}}}catch(r){i.e(r)}finally{i.f()}return t}},{key:"initValue",value:function(){this.renderList(),this.dataSource instanceof AM?this.initRemoteRender=!0:this.updateValues()}},{key:"updateValues",value:function(){if(JO(this.value))if(this.text&&JO(this.value)){var e=this.getElementByText(this.text);if(JO(e))return void this.setProperties({text:null});this.setSelection(e,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else this.setSelection(this.getElementByValue(this.value),null);this.setHiddenValue(),pL.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}},{key:"onBlur",value:function(e){if(this.enabled){var t=e.relatedTarget,n=e.target,i=this.isPreventBlur;this.isPreventBlur=!1,!i||this.isDocumentClick||!this.isPopupOpen||JO(n)&&(this.isFilterLayout()||!JO(t))?this.isDocumentClick||!JO(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(UR.mobileFilter)?this.beforePopupOpen||(this.isDocumentClick=!1):(("dropdownlist"===this.getModuleName()&&!this.isFilterFocus&&t!==this.inputElement&&(document.activeElement!==t||document.activeElement===t&&n.classList.contains(UR.inputFocus))||JO(t)&&"dropdownlist"===this.getModuleName()&&this.allowFiltering&&n!==this.inputWrapper.container||"dropdownlist"!==this.getModuleName()&&!this.inputWrapper.container.contains(t)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),!this.isRequested||this.isPopupOpen||this.isPreventBlur||(this.isActive=!1,this.beforePopupOpen=!1)):"dropdownlist"===this.getModuleName()&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus()}}},{key:"focusOutAction",value:function(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut()}},{key:"onFocusOut",value:function(){this.enabled&&(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(null)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),"dropdownlist"===this.getModuleName()&&"INPUT"!==this.element.tagName&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&UA([this.inputWrapper.clearButton],UR.clearIconHide),this.trigger("blur"))}},{key:"onFocus",value:function(e){this.isInteracted||(this.isInteracted=!0,this.trigger("focus",{isInteracted:!!e,event:e})),this.updateIconState()}},{key:"resetValueHandler",value:function(e){var t=nD(this.inputElement,"form");if(t&&e.target===t){var n=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=n}}},{key:"wireEvent",value:function(){$I.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),$I.add(this.inputWrapper.container,"focus",this.focusIn,this),$I.add(this.inputWrapper.container,"keypress",this.onSearch,this),this.bindCommonEvent()}},{key:"bindCommonEvent",value:function(){$I.add(this.targetElement(),"blur",this.onBlur,this);var e=nD(this.inputElement,"form");e&&$I.add(e,"reset",this.resetValueHandler,this),this.keyboardModule=new eM(this.targetElement(),KI.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()}},{key:"bindClearEvent",value:function(){this.showClearButton&&$I.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)}},{key:"unBindCommonEvent",value:function(){$I.remove(this.targetElement(),"blur",this.onBlur);var e=nD(this.inputElement,"form");e&&$I.remove(e,"reset",this.resetValueHandler),KI.isDevice||this.keyboardModule.destroy(),this.showClearButton&&$I.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)}},{key:"updateIconState",value:function(){this.showClearButton&&(""===this.inputElement.value||this.readonly?UA([this.inputWrapper.clearButton],UR.clearIconHide):WA([this.inputWrapper.clearButton],UR.clearIconHide))}},{key:"wireListEvents",value:function(){$I.add(this.list,"click",this.onMouseClick,this),$I.add(this.list,"mouseover",this.onMouseOver,this),$I.add(this.list,"mouseout",this.onMouseLeave,this)}},{key:"onSearch",value:function(e){32!==e.charCode&&13!==e.charCode&&(void 0===this.list&&(this.isServerBlazor?(this.isServerIncrementalSearch=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1)):this.renderList()),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))}},{key:"onServerIncrementalSearch",value:function(e){this.isRequested||JO(this.list)||JO(this.list.querySelector("li"))||!this.enabled||this.readonly||this.incrementalSearch(e)}},{key:"onMouseClick",value:function(e){var t=nD(e.target,".e-list-item");this.isValidLI(t)&&(this.setSelection(t,e),KI.isDevice&&this.isFilterLayout()?history.back():this.closePopup(100))}},{key:"onMouseOver",value:function(e){var t=nD(e.target,".e-list-item");this.setHover(t)}},{key:"setHover",value:function(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains("e-hover")&&(this.removeHover(),UA([e],"e-hover"))}},{key:"onMouseLeave",value:function(e){this.removeHover()}},{key:"removeHover",value:function(){if(this.list){var e=this.list.querySelectorAll(".e-hover");e&&e.length&&WA(e,"e-hover")}}},{key:"isValidLI",value:function(e){return e&&e.hasAttribute("role")&&"option"===e.getAttribute("role")}},{key:"incrementalSearch",value:function(e){if(this.liCollections.length>0){var t=function(e,t,n,i,a,r){var s;if(MR+=String.fromCharCode(e),setTimeout((function(){MR=""}),1e3),MR=MR.toLowerCase(),LR===a&&TR===MR){for(var l=0;l<PR.length;l++)if(PR[l].classList.contains("e-active")){s=l;break}return PR[s+=1]}var o,u=t,c=MR.length,h=n=n?n+1:0;PR=[];do{h===u.length&&(h=-1),o=u[s=-1===h?0:h],(r?o.textContent.trim().toLowerCase():o.innerText.toLowerCase()).substr(0,c)===MR&&PR.push(u[s]),h++}while(h!==n);return TR=MR,LR=a,PR[0]}(e.charCode,this.liCollections,this.activeIndex,0,this.element.id,this.isServerBlazor);JO(t)||(this.setSelection(t,e),this.setScrollPosition())}}},{key:"hideSpinner",value:function(){JO(this.spinnerElement)||(lL(this.spinnerElement),WA([this.spinnerElement],UR.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)}},{key:"showSpinner",value:function(){JO(this.spinnerElement)&&(this.spinnerElement=KI.isDevice&&!JO(this.filterInputObj)&&this.filterInputObj.buttons[1]||!JO(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],UA([this.spinnerElement],UR.disableIcon),KP({target:this.spinnerElement,width:KI.isDevice?"16px":"14px"},this.createElement),rL(this.spinnerElement))}},{key:"keyActionHandler",value:function(e){if(this.enabled){var t="pageUp"===e.action||"pageDown"===e.action,n="dropdownlist"!==this.getModuleName()&&("home"===e.action||"end"===e.action);this.isEscapeKey="escape"===e.action,this.isTabKey=!this.isPopupOpen&&"tab"===e.action;var i="down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action,a="down"===e.action||"up"===e.action||"pageUp"===e.action||"pageDown"===e.action||"home"===e.action||"end"===e.action;if((!(this.isEditTextBox()||t||n)||this.isPopupOpen)&&!this.readonly){var r="tab"===e.action||"close"===e.action;if(void 0!==this.list||this.isRequested||r||"escape"===e.action||(this.searchKeyEvent=e,this.renderList()),((!this.isServerBlazor||"open"!==e.action&&"space"!==e.action)&&JO(this.list)||!JO(this.liCollections)&&a&&0===this.liCollections.length||this.isRequested)&&(!this.isServerBlazor||!i))return;switch((r&&"autocomplete"!==this.getModuleName()&&this.isPopupOpen||"escape"===e.action)&&e.preventDefault(),this.isSelected="escape"!==e.action&&this.isSelected,this.isTyped=!a&&"escape"!==e.action&&this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":case"end":this.updateHomeEndAction(e);break;case"space":"dropdownlist"===this.getModuleName()&&(this.beforePopupOpen||this.showPopup());break;case"open":this.showPopup();break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}}}}},{key:"updateUpDownAction",value:function(e){if(this.isServerBlazor&&JO(this.list))this.isServerNavigation=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1);else{this.isServerNavigation=!1;var t=this.list.querySelector("."+UR.focus);if(this.isSelectFocusItem(t))this.setSelection(t,e);else{var n,i="down"===e.action?this.activeIndex+1:this.activeIndex-1,a=0;"autocomplete"===this.getModuleName()&&(a="down"===e.action&&JO(this.activeIndex)?0:this.liCollections.length-1,i=i<0?this.liCollections.length-1:i===this.liCollections.length?0:i),n=JO(this.activeIndex)?this.liCollections[a]:this.liCollections[i],JO(n)||this.setSelection(n,e)}e.preventDefault()}}},{key:"updateHomeEndAction",value:function(e){if("dropdownlist"===this.getModuleName())if(this.isServerBlazor&&JO(this.list))this.isServerNavigation=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1);else{var t;if(this.isServerNavigation=!1,t="home"===e.action?0:this.getItems().length-1,e.preventDefault(),this.activeIndex===t)return;this.setSelection(this.liCollections[t],e)}}},{key:"selectCurrentValueOnTab",value:function(e){"autocomplete"===this.getModuleName()?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}},{key:"mobileKeyActionHandler",value:function(e){if(this.enabled&&(!this.isEditTextBox()||this.isPopupOpen)&&!this.readonly){if(void 0!==this.list||this.isRequested||(this.searchKeyEvent=e,this.renderList()),JO(this.list)||!JO(this.liCollections)&&0===this.liCollections.length||this.isRequested)return;"enter"===e.action&&this.selectCurrentItem(e)}}},{key:"selectCurrentItem",value:function(e){if(this.isPopupOpen){var t=this.list.querySelector("."+UR.focus);t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(),this.focusDropDown(e)}else this.showPopup()}},{key:"isSelectFocusItem",value:function(e){return!JO(e)}},{key:"getPageCount",value:function(){var e=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.getBoundingClientRect().height/parseInt(e,10))}},{key:"pageUpSelection",value:function(e,t){this.setSelection(e>=0?this.liCollections[e+1]:this.liCollections[0],t)}},{key:"pageDownSelection",value:function(e,t){var n=this.getItems();this.setSelection(e<=n.length?this.liCollections[e-1]:this.liCollections[n.length-1],t)}},{key:"unWireEvent",value:function(){$I.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),$I.remove(this.inputWrapper.container,"keypress",this.onSearch),$I.remove(this.inputWrapper.container,"focus",this.focusIn),this.unBindCommonEvent()}},{key:"unWireListEvents",value:function(){$I.remove(this.list,"click",this.onMouseClick),$I.remove(this.list,"mouseover",this.onMouseOver),$I.remove(this.list,"mouseout",this.onMouseLeave)}},{key:"checkSelector",value:function(e){return"#"+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")}},{key:"onDocumentClick",value:function(e){var t=e.target;if(!JO(this.popupObj)&&nD(t,this.checkSelector(this.popupObj.element.id))||this.inputWrapper.container.contains(e.target))t===this.inputElement||this.allowFiltering&&t===this.filterInput||"combobox"===this.getModuleName()&&!this.allowFiltering&&KI.isDevice&&t===this.inputWrapper.buttons[0]||(this.isPreventBlur=(KI.isIE||"edge"===KI.info.name)&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault());else if(this.inputWrapper.container.classList.contains(UR.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;var n=this.isRequested;this.isInteracted=!1,this.hidePopup(e),n||(this.onFocusOut(),this.inputWrapper.container.classList.remove(UR.inputFocus))}}},{key:"activeStateChange",value:function(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(UR.inputFocus))}},{key:"focusDropDown",value:function(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)}},{key:"dropDownClick",value:function(e){if(3!==e.which&&2!==e.button&&!this.targetElement().classList.contains(UR.disable)&&this.inputWrapper.clearButton!==e.target){var t=e.target;if(t===this.inputElement||this.allowFiltering&&t===this.filterInput||"combobox"===this.getModuleName()||e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen?(this.hidePopup(),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=""===this.inputElement.value.trim()?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup());var n=this,i=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout((function(){n.cloneElements(),n.isSecondClick=!0}),i)}}}},{key:"cloneElements",value:function(){if(this.list){var e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}}},{key:"updateSelectedItem",value:function(e,t,n,i){var a=this;this.removeSelection(),e.classList.add("e-active"),this.removeHover();var r=this.getFormattedValue(e.getAttribute("data-value")),s=this.getDataByValue(r);if(this.initial||n||JO(t))this.selectEventCallback(e,t,n,s,r),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerItemData",this.itemData),i&&this.setSelectOptions(e,t);else{var l=this.detachChanges(s);this.isSelected=!0,this.trigger("select",{e:t,item:e,itemData:l,isInteracted:!!t,cancel:!1},(function(l){l.cancel?e.classList.remove("e-active"):(a.selectEventCallback(e,t,n,s,r),a.isServerBlazor&&a.interopAdaptor.invokeMethodAsync("OnServerItemData",a.itemData),i&&a.setSelectOptions(e,t))}))}}},{key:"selectEventCallback",value:function(e,t,n,i,a){this.previousItemData=JO(this.itemData)?null:this.itemData,this.item=e,this.itemData=i;var r=this.list.querySelector(".e-item-focus");r&&WA([r],"e-item-focus"),e.setAttribute("aria-selected","true"),this.activeIndex=this.getIndexByValue(a)}},{key:"activeItem",value:function(e){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.removeSelection(),e.classList.add("e-active"),this.removeHover(),e.setAttribute("aria-selected","true"))}},{key:"setValue",value:function(e){var t=this.getItemData();return pL.setValue(null===t.value?""!==t.text?t.text:null:t.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerValueTemplate",t),this.valueTemplate&&null!==this.itemData&&!this.isServerBlazor?(this.DropDownBaseresetBlazorTemplates(!1,!1,!1,!1,!0),this.setValueTemplate()):this.inputElement.previousSibling===this.valueTempElement&&(ZA(this.valueTempElement),this.inputElement.style.display="block"),this.previousValue===t.value?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,"dropdownlist"===this.getModuleName()&&this.updateIconState(),!1)}},{key:"setSelection",value:function(e,t){this.isValidLI(e)&&(!e.classList.contains("e-active")||this.isPopupOpen&&this.isSelected&&e.classList.contains("e-active"))?this.updateSelectedItem(e,t,!1,!0):this.setSelectOptions(e,t)}},{key:"setSelectOptions",value:function(e,t){this.list&&this.removeHover(),this.previousSelectedLI=JO(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,this.setValue(t)||(this.isPopupOpen&&(QA(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null}),this.isFilterLayout()&&this.filterInput&&QA(this.filterInput,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})),(!this.isPopupOpen&&!JO(e)||this.isPopupOpen&&!JO(t)&&("keydown"!==t.type||"keydown"===t.type&&"enter"===t.action))&&(this.isSelectCustom=!1,this.onChangeEvent(t)),!this.isPopupOpen||JO(this.selectedLI)||null===this.itemData||t&&"click"===t.type||this.setScrollPosition(t),"mozilla"!==KI.info.name&&(QA(this.inputElement,{"aria-label":this.inputElement.value}),QA(this.targetElement(),{"aria-describedby":this.inputElement.id}),this.targetElement().removeAttribute("aria-live")))}},{key:"dropdownCompiler",value:function(e){var t=!1;if(e)try{t=!!document.querySelectorAll(e).length}catch(n){t=!1}return t}},{key:"setValueTemplate",value:function(){this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:UR.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.valueTempElement.innerHTML="";var e,t=this.itemData,n=_createForOfIteratorHelper(_A(this.dropdownCompiler(this.valueTemplate)?document.querySelector(this.valueTemplate).innerHTML.trim():this.valueTemplate)(t,null,null,this.valueTemplateId,this.isStringTemplate));try{for(n.s();!(e=n.n()).done;){var i=e.value;this.valueTempElement.appendChild(i)}}catch(a){n.e(a)}finally{n.f()}this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!0,!0,!0)}},{key:"removeSelection",value:function(){if(this.list){var e=this.list.querySelectorAll(".e-active");e.length&&(WA(e,"e-active"),e[0].removeAttribute("aria-selected"))}}},{key:"getItemData",value:function(){var e,t,n,i=this.fields;return JO(n=this.itemData)||(e=YO(i.value,n),t=YO(i.text,n)),{value:JO(n)||QO(e)?n:e,text:JO(n)||QO(e)?n:t}}},{key:"onChangeEvent",value:function(e){var t=this.getItemData();this.setProperties({index:this.isSelectCustom?null:this.activeIndex,text:t.text,value:t.value},!0),this.detachChangeEvent(e)}},{key:"detachChanges",value:function(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e?Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):e}},{key:"detachChangeEvent",value:function(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.index,this.typedString=JO(this.text)?"":this.text,!this.initial){var t,n=this.detachChanges(this.itemData);t="string"==typeof this.previousItemData||"boolean"==typeof this.previousItemData||"number"==typeof this.previousItemData?Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):this.previousItemData,this.setHiddenValue(),this.trigger("change",{e:e,item:this.item,itemData:n,previousItem:this.previousSelectedLI,previousItemData:t,isInteracted:!!e,value:this.value,element:this.element})}!JO(this.value)&&""!==this.value||"Always"===this.floatLabelType||WA([this.inputWrapper.container],"e-valid-input")}},{key:"setHiddenValue",value:function(){if(JO(this.value))this.isServerBlazor||(this.hiddenElement.innerHTML="");else if(this.isServerBlazor&&this.hiddenElement.querySelector("option")){var e=this.hiddenElement.querySelector("option");e.textContent=this.text,e.setAttribute("value",this.value.toString())}else this.isServerBlazor||(this.hiddenElement.innerHTML="<option selected>"+this.text+"</option>",this.hiddenElement.querySelector("option").setAttribute("value",this.value.toString()))}},{key:"onFilterUp",value:function(e){if(e.ctrlKey&&86===e.keyCode||!this.isValidKey&&40!==e.keyCode&&38!==e.keyCode)this.isValidKey=!1;else switch(this.isValidKey=!1,e.keyCode){case 38:case 40:"autocomplete"!==this.getModuleName()||this.isPopupOpen||this.preventAltUp||this.isRequested?this.preventAutoFill=!1:(this.preventAutoFill=!0,this.searchLists(e)),this.preventAltUp=!1,e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&""!==this.typedString||this.isPopupOpen&&this.queryString.length>0?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&""===this.queryString&&"autocomplete"!==this.getModuleName()?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&(this.list&&this.resetFocusElement(),this.activeIndex=null,"autocomplete"===this.getModuleName()&&this.hidePopup()),e.preventDefault();break;default:this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.searchLists(e)}}},{key:"onFilterDown",value:function(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&"autocomplete"!==this.getModuleName()&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value}}},{key:"removeFillSelection",value:function(){if(this.isInteracted){var e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}}},{key:"getQuery",value:function(e){var t;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){t=e?e.clone():this.query?this.query.clone():new kM;var n=""===this.typedString?"contains":this.filterType,i=this.typeOfData(this.dataSource).typeof;t.where((this.dataSource instanceof AM||"string"!==i)&&"number"!==i&&this.fields.text?this.fields.text:"",n,this.typedString,this.ignoreCase,this.ignoreAccent)}else t=e||(this.query?this.query:new kM);return t}},{key:"getSelectionPoints",value:function(){var e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}}},{key:"searchLists",value:function(e){var t=this;if(this.isTyped=!0,this.activeIndex=null,this.filterInput.parentElement.querySelector("."+UR.clearIcon)&&(this.filterInput.parentElement.querySelector("."+UR.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible"),this.isDataFetched=!1,this.isFiltering())if(this.isServerBlazor)this.beforePopupOpen="combobox"===this.getModuleName()&&this.isFiltering()&&!this.beforePopupOpen?!this.beforePopupOpen:this.beforePopupOpen,""===this.filterInput.value&&"dropdownlist"!==this.getModuleName()?this.interopAdaptor.invokeMethodAsync("OnServerRenderList",this.beforePopupOpen,!1):this.interopAdaptor.invokeMethodAsync("OnServerFilter",this.filterInput.value);else{var n={preventDefaultAction:!1,text:this.filterInput.value,updateData:function(e,i,a){n.cancel||(t.isCustomFilter=!0,t.filteringAction(e,i,a))},baseEventArgs:e,cancel:!1};this.trigger("filtering",n,(function(e){e.cancel||t.isCustomFilter||e.preventDefaultAction||t.filteringAction(t.dataSource,null,t.fields)}))}}},{key:"filter",value:function(e,t,n){this.isCustomFilter=!0,this.filteringAction(e,t,n)}},{key:"filteringAction",value:function(e,t,n){JO(this.filterInput)||(this.beforePopupOpen=!0,""!==this.filterInput.value.trim()||this.itemTemplate?(this.isNotSearchList=!1,t=""===this.filterInput.value.trim()?null:t,this.resetList(e,n,t)):(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,JO(this.actionCompleteData.ulElement)||JO(this.actionCompleteData.list)||this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list),this.isTyped=!0,JO(this.itemData)||"dropdownlist"!==this.getModuleName()||(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0))}},{key:"setSearchBox",value:function(e){if(this.isFiltering()){var t=e.querySelector("."+UR.filterParent)?e.querySelector("."+UR.filterParent):this.createElement("span",{className:UR.filterParent});this.isServerBlazor&&(t.innerHTML=""),this.filterInput=this.createElement("input",{attrs:{type:"text"},className:UR.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);var n=!1;return KI.isDevice&&(n=!0),this.filterInputObj=pL.createInput({element:this.filterInput,buttons:n?[UR.backIcon,UR.filterBarClearIcon]:[UR.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),JO(this.cssClass)||(-1!==this.cssClass.split(" ").indexOf("e-outline")?UA([this.filterInputObj.container],"e-outline"):-1!==this.cssClass.split(" ").indexOf("e-filled")&&UA([this.filterInputObj.container],"e-filled")),KA([this.filterInputObj.container],t),XA([t],e),QA(this.filterInput,{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-activedescendant":this.selectedLI?this.selectedLI.id:null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+UR.clearIcon),!KI.isDevice&&this.clearIconElement&&($I.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),this.searchKeyModule=new eM(this.filterInput,KI.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),$I.add(this.filterInput,"input",this.onInput,this),$I.add(this.filterInput,"keyup",this.onFilterUp,this),$I.add(this.filterInput,"keydown",this.onFilterDown,this),$I.add(this.filterInput,"blur",this.onBlur,this),$I.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}return WR}},{key:"onInput",value:function(e){this.isValidKey=!0,KI.isDevice&&"mozilla"===KI.info.name&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))}},{key:"pasteHandler",value:function(e){var t=this;setTimeout((function(){t.typedString=t.filterInput.value,t.searchLists(e)}))}},{key:"onActionFailure",value:function(e){_get(_getPrototypeOf(n.prototype),"onActionFailure",this).call(this,e),this.beforePopupOpen&&this.renderPopup()}},{key:"onActionComplete",value:function(e,t,i,a){var r=this;if(this.isNotSearchList)this.isNotSearchList=!1;else if(this.isActive){var s=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(_get(_getPrototypeOf(n.prototype),"onActionComplete",this).call(this,e,t,i),this.updateSelectElementData(this.allowFiltering),this.isRequested&&!JO(this.searchKeyEvent)&&"keydown"===this.searchKeyEvent.type&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!JO(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.list.scrollTop=0,JO(e)||QA(e,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"}),this.initRemoteRender&&(this.initial=!0,this.activeIndex=this.index,this.updateValues(),this.initRemoteRender=!1,this.initial=!1,this.value&&this.dataSource instanceof AM)){var l=JO(this.fields.value)?this.fields.text:this.fields.value;t.some((function(e){return e[l]===r.value}))||this.dataSource.executeQuery(this.getQuery(this.query).where(new CM(l,"equal",this.value))).then((function(e){e.result.length>0&&(r.addItem(e.result,t.length),r.updateValues())}))}"autocomplete"!==this.getModuleName()&&this.isFiltering()&&!this.isTyped&&(this.actionCompleteData.isUpdated&&(this.isCustomFilter||this.isFilterFocus||!(this.dataSource instanceof AM||!JO(this.dataSource)&&!JO(this.dataSource.length)&&0!==this.dataSource.length))||(this.actionCompleteData={ulElement:e.cloneNode(!0),list:t,isUpdated:!0}),this.addNewItem(t,s),JO(this.itemData)||this.focusIndexItem()),this.beforePopupOpen&&this.renderPopup()}}},{key:"addNewItem",value:function(e,t){var n=this;if(!JO(this.itemData)&&!JO(t)){var i=this.getItemData().value;e.some((function(e){return("string"==typeof e||"number"==typeof e)&&e===i||YO(n.fields.value,e)===i}))||this.addItem(this.itemData)}}},{key:"updateActionCompleteData",value:function(e,t){"autocomplete"!==this.getModuleName()&&this.actionCompleteData.ulElement&&(this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list.indexOf(t)<0&&this.actionCompleteData.list.push(t))}},{key:"focusIndexItem",value:function(){var e=this.getItemData().value;this.activeIndex=this.getIndexByValue(e);var t=this.findListElement(this.list,"li","data-value",e);this.selectedLI=t,this.activeItem(t),this.removeFocus()}},{key:"updateSelection",value:function(){var e=this.list.querySelector(".e-active");e?(this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index):(this.removeFocus(),this.list.querySelector(".e-list-item").classList.add(UR.focus))}},{key:"removeFocus",value:function(){var e=this.list.querySelectorAll("."+UR.focus);e&&e.length&&WA(e,UR.focus)}},{key:"renderPopup",value:function(){var e=this;this.popupObj&&document.body.contains(this.popupObj.element)?this.refreshPopup():this.trigger("beforeOpen",{cancel:!1},(function(t){if(t.cancel)e.beforePopupOpen=!1;else{var n=e.serverPopupEle?e.serverPopupEle:e.createElement("div",{id:e.element.id+"_popup",className:"e-ddl e-popup "+(null!=e.cssClass?e.cssClass:"")}),i=e.setSearchBox(n);if(e.listHeight=aI(e.popupHeight),e.headerTemplate&&!e.isServerBlazor&&e.setHeaderTemplate(n),KA([e.list],n),e.footerTemplate&&!e.isServerBlazor&&e.setFooterTemplate(n),e.isServerRendered&&n&&n.querySelector(".e-ddl-footer")&&n.appendChild(n.querySelector(".e-ddl-footer")),document.body.appendChild(n),e.updateServerPopup(n),n.style.visibility="hidden","auto"!==e.popupHeight){if(e.searchBoxHeight=0,JO(i.container)||(e.searchBoxHeight=i.container.parentElement.getBoundingClientRect().height,e.listHeight=(parseInt(e.listHeight,10)-e.searchBoxHeight).toString()+"px"),e.headerTemplate||e.isServerRendered&&n&&n.querySelector(".e-ddl-header")){e.header=e.header?e.header:n.querySelector(".e-ddl-header");var a=Math.round(e.header.getBoundingClientRect().height);e.listHeight=(parseInt(e.listHeight,10)-(a+e.searchBoxHeight)).toString()+"px"}if(e.footerTemplate||e.isServerRendered&&n&&n.querySelector(".e-ddl-footer")){e.footer=e.footer?e.footer:n.querySelector(".e-ddl-footer");var r=Math.round(e.footer.getBoundingClientRect().height);e.listHeight=(parseInt(e.listHeight,10)-(r+e.searchBoxHeight)).toString()+"px"}e.list.style.maxHeight=(parseInt(e.listHeight,10)-2).toString()+"px",n.style.maxHeight=aI(e.popupHeight)}else n.style.height="auto";var s,l=0;if(!JO(e.selectedLI)&&!JO(e.activeIndex)&&e.activeIndex>=0?e.setScrollPosition():e.list.scrollTop=0,KI.isDevice&&!e.allowFiltering&&("dropdownlist"===e.getModuleName()||e.isDropDownClick&&"combobox"===e.getModuleName())){l=e.getOffsetValue(n);var o=e.isEmptyList()?e.list:e.liCollections[0];s=-(parseInt(getComputedStyle(o).textIndent,10)-parseInt(getComputedStyle(e.inputElement).paddingLeft,10)+parseInt(getComputedStyle(e.inputElement.parentElement).borderLeftWidth,10))}e.getFocusElement(),e.createPopup(n,l,s),e.checkCollision(n),KI.isDevice&&(e.popupObj.element.classList.add(UR.device),("dropdownlist"===e.getModuleName()||"combobox"===e.getModuleName()&&!e.allowFiltering&&e.isDropDownClick)&&(e.popupObj.collision={X:"fit",Y:"fit"}),e.isFilterLayout()&&(e.popupObj.element.classList.add(UR.mobileFilter),e.popupObj.position={X:0,Y:0},e.popupObj.dataBind(),QA(e.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),UA([document.body,e.popupObj.element],UR.popupFullScreen),e.setSearchBoxPosition(),e.backIconElement=i.container.querySelector(".e-back-icon"),e.clearIconElement=i.container.querySelector("."+UR.clearIcon),$I.add(e.backIconElement,"click",e.clickOnBackIcon,e),$I.add(e.clearIconElement,"click",e.clearText,e))),n.style.visibility="visible",UA([n],"e-popup-close");var u,c=_createForOfIteratorHelper(e.popupObj.getScrollableParent(e.inputWrapper.container));try{for(c.s();!(u=c.n()).done;){var h=u.value;$I.add(h,"scroll",e.scrollHandler,e)}}catch(d){c.e(d)}finally{c.f()}KI.isDevice&&e.isFilterLayout()&&$I.add(e.list,"scroll",e.listScroll,e),QA(e.targetElement(),{"aria-expanded":"true"}),UA([e.isFiltering()?e.filterInput.parentElement:e.inputWrapper.container],[UR.inputFocus]),e.beforePopupOpen=!0,e.trigger("open",{popup:e.popupObj,cancel:!1,animation:{name:"FadeIn",duration:100}},(function(t){t.cancel?(e.beforePopupOpen=!1,e.destroyPopup()):(e.serverBlazorUpdateSelection(),e.bindServerScrollEvent(),UA([e.inputWrapper.container],[UR.iconAnimation]),e.popupObj.show(new ID(t.animation),1e3===e.zIndex?e.element:null))}))}}))}},{key:"checkCollision",value:function(e){(!KI.isDevice||KI.isDevice&&"dropdownlist"!==this.getModuleName()&&!this.isDropDownClick)&&ET(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px")}},{key:"serverBlazorUpdateSelection",value:function(){(this.isServerBlazor&&(null!==this.value||null!==this.index||null!==this.text)||"dropdownlist"!==this.getModuleName()&&!this.isTyped)&&("dropdownlist"===this.getModuleName()&&(this.removeSelection(),this.removeFocus(),this.removeHover(),this.updateValues()),"combobox"===this.getModuleName()&&this.ulElement&&this.findListElement(this.ulElement,"li","data-value",this.value)&&!this.isTyped&&this.updateValues(),this.isServerBlazor&&"dropdownlist"!==this.getModuleName()&&(""===this.text||null===this.text)&&this.ulElement&&(this.ulElement.querySelector("li").classList.contains("e-hover")||UA([this.ulElement.querySelector("li")],"e-hover")))}},{key:"bindServerScrollEvent",value:function(){this.isServerBlazor&&this.list&&this.fields.groupBy&&!this.isGroupChecking&&($I.remove(this.list,"scroll",this.setFloatingHeader),$I.add(this.list,"scroll",this.setFloatingHeader,this))}},{key:"updateServerPopup",value:function(e){this.isServerBlazor&&(e&&e.querySelector("li")&&WA([this.list],["e-nodata"]),this.initial=!1,e.removeAttribute("style"))}},{key:"getOffsetValue",value:function(e){var t=getComputedStyle(e),n=parseInt(t.borderTopWidth,10),i=parseInt(t.borderBottomWidth,10);return this.setPopupPosition(n+i)}},{key:"createPopup",value:function(e,t,n){var i=this;this.popupObj=new YT(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:{X:"flip",Y:"flip"},offsetY:t,enableRtl:this.enableRtl,offsetX:n,position:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:function(){i.isDocumentClick||i.focusDropDown();var e="autocomplete"===i.getModuleName();i.DropDownBaseresetBlazorTemplates(e,e,!0,!0,!1,!0,!0),i.isNotSearchList=!1,i.isDocumentClick=!1,i.destroyPopup();var t=nD(i.inputElement,"form");i.isFiltering()&&t&&i.actionCompleteData.list&&i.actionCompleteData.list[0]&&(i.isActive=!0,i.onActionComplete(i.actionCompleteData.ulElement,i.actionCompleteData.list,null,!0))},open:function(){$I.add(document,"mousedown",i.onDocumentClick,i),i.isPopupOpen=!0;var e=i.actionCompleteData&&i.actionCompleteData.ulElement&&i.actionCompleteData.ulElement.querySelector("li"),t=i.list.querySelector("ul li");i.isFiltering()&&i.itemTemplate&&i.element.tagName===i.getNgDirective()&&e&&t&&e.textContent!==t.textContent&&i.cloneElements(),i.isFilterLayout()&&(WA([i.inputWrapper.container],[UR.inputFocus]),i.isFilterFocus=!0,i.filterInput.focus(),i.inputWrapper.clearButton&&UA([i.inputWrapper.clearButton],UR.clearIconHide)),i.activeStateChange()},targetExitViewport:function(){KI.isDevice||i.hidePopup()}})}},{key:"isEmptyList",value:function(){return!JO(this.liCollections)&&0===this.liCollections.length}},{key:"getFocusElement",value:function(){}},{key:"isFilterLayout",value:function(){return"dropdownlist"===this.getModuleName()&&this.allowFiltering}},{key:"scrollHandler",value:function(){KI.isDevice&&("dropdownlist"===this.getModuleName()&&!this.isFilterLayout()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&this.hidePopup()}},{key:"setSearchBoxPosition",value:function(){var e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";var t=this.filterInput.parentElement.querySelector("."+UR.clearIcon);ZA(this.filterInput),t.parentElement.insertBefore(this.filterInput,t)}},{key:"setPopupPosition",value:function(e){var t,n=e,i=this.list.querySelector("."+UR.focus)||this.selectedLI,a=this.isEmptyList()?this.list:this.liCollections[0],r=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],s=a.getBoundingClientRect().height,l=this.list.offsetHeight/2,o=JO(i)?a.offsetTop:i.offsetTop;if(r.offsetTop-l<o&&!JO(this.liCollections)&&this.liCollections.length>0&&!JO(i)){var u=this.list.offsetHeight/s,c=parseInt(getComputedStyle(this.list).paddingBottom,10);t=(u-(this.liCollections.length-this.activeIndex))*s-n+c,this.list.scrollTop=i.offsetTop}else o>l?(t=l-s/2,this.list.scrollTop=o-l+s/2):t=o;return-(t=t+s+n-(s-this.inputWrapper.container.offsetHeight)/2)}},{key:"setWidth",value:function(){var e=aI(this.popupWidth);if(e.indexOf("%")>-1&&(e=(this.inputWrapper.container.offsetWidth*parseFloat(e)/100).toString()+"px"),KI.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){var t=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e}},{key:"scrollBottom",value:function(e){if(!JO(this.selectedLI)){var t=this.list.offsetHeight,n=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop,i=this.list.scrollTop+n-t;i=e?i+2*parseInt(getComputedStyle(this.list).paddingTop,10):i;var a=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;a=this.fields.groupBy&&!JO(this.fixedHeaderElement)?a-this.fixedHeaderElement.offsetHeight:a,0===this.activeIndex?this.list.scrollTop=0:(n>t||!(a>0&&this.list.offsetHeight>a))&&(this.list.scrollTop=i)}}},{key:"scrollTop",value:function(){if(!JO(this.selectedLI)){var e=this.selectedLI.offsetTop-this.list.scrollTop;e=this.fields.groupBy&&!JO(this.fixedHeaderElement)?e-this.fixedHeaderElement.offsetHeight:e;var t=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;0===this.activeIndex?this.list.scrollTop=0:e<0?this.list.scrollTop=this.list.scrollTop+e:t>0&&this.list.offsetHeight>t||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!JO(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}}},{key:"isEditTextBox",value:function(){return!1}},{key:"isFiltering",value:function(){return this.allowFiltering}},{key:"isPopupButton",value:function(){return!0}},{key:"setScrollPosition",value:function(e){if(JO(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.scrollBottom();break;default:this.scrollTop()}}},{key:"clearText",value:function(){this.filterInput.value="",this.searchLists(null)}},{key:"listScroll",value:function(){this.filterInput.blur()}},{key:"setEleWidth",value:function(e){JO(e)||("number"==typeof e?this.inputWrapper.container.style.width=aI(e):"string"==typeof e&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:aI(e)))}},{key:"closePopup",value:function(e){var t=this;if(this.isTyped=!1,this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen){$I.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.filterInputObj=null,this.isDropDownClick=!1,this.preventAutoFill=!1;var n,i=_createForOfIteratorHelper(this.popupObj.getScrollableParent(this.inputWrapper.container));try{for(i.s();!(n=i.n()).done;){var a=n.value;$I.remove(a,"scroll",this.scrollHandler)}}catch(r){i.e(r)}finally{i.f()}KI.isDevice&&this.isFilterLayout()&&(WA([document.body,this.popupObj.element],UR.popupFullScreen),$I.remove(this.list,"scroll",this.listScroll)),this.isFilterLayout()&&(KI.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&$I.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&($I.remove(this.backIconElement,"click",this.clickOnBackIcon),$I.remove(this.clearIconElement,"click",this.clearText)),$I.remove(this.filterInput,"input",this.onInput),$I.remove(this.filterInput,"keyup",this.onFilterUp),$I.remove(this.filterInput,"keydown",this.onFilterDown),$I.remove(this.filterInput,"blur",this.onBlur),$I.remove(this.filterInput,"paste",this.pasteHandler),this.filterInput=null),QA(this.targetElement(),{"aria-expanded":"false","aria-activedescendant":null}),this.inputWrapper.container.classList.remove(UR.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.beforePopupOpen=!1,this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:e||0}},(function(e){if(!JO(t.popupObj)&&!JO(t.popupObj.element.querySelector(".e-fixed-head"))){var n=t.popupObj.element.querySelector(".e-fixed-head");n.parentNode.removeChild(n),t.fixedHeaderElement=null}e.cancel||("autocomplete"!==t.getModuleName()||t.isServerBlazor||t.rippleFun(),t.isPopupOpen?t.popupObj.hide(new ID(e.animation)):t.destroyPopup())}))}}},{key:"destroyPopup",value:function(){var e=document.querySelector("#"+this.element.id+"_popup_holder");this.isServerBlazor&&this.serverPopupEle&&e&&e.appendChild(this.serverPopupEle),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerClosePopup"),this.isPopupOpen=!1,this.isFilterFocus=!1,this.popupObj.destroy(),ZA(this.popupObj.element)}},{key:"clickOnBackIcon",value:function(){this.hidePopup(),this.focusIn()}},{key:"render",value:function(){if(this.isServerBlazor)this.inputElement=this.element,this.inputWrapper={container:this.element.parentElement},this.hiddenElement=this.inputWrapper.container.querySelector("select"),this.inputWrapper.buttons=[this.inputWrapper.container.querySelector(".e-input-group-icon.e-ddl-icon")],this.showClearButton&&(this.inputWrapper.clearButton=this.inputWrapper.container.querySelector(".e-clear-icon"),pL.wireClearBtnEvents(this.element,this.inputWrapper.clearButton,this.inputWrapper.container)),"Auto"===this.floatLabelType&&pL.wireFloatingEvents(this.element),pL.bindInitialEvent({element:this.element,buttons:null,customTag:null,floatLabelType:this.floatLabelType,properties:this.properties}),this.setFields(),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.enabled||(this.targetElement().tabIndex=-1),this.element.hasAttribute("autofocus")&&this.focusIn();else{"INPUT"===this.element.tagName?(this.inputElement=this.element,JO(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","textbox"),JO(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text")):(this.inputElement=this.createElement("input",{attrs:{role:"textbox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));var e=this.cssClass;JO(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=pL.createInput({element:this.inputElement,buttons:this.isPopupButton()?[UR.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:"dropdownlist"===this.getModuleName()||this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",tabindex:"-1",class:UR.hiddenElement}}),XA([this.hiddenElement],this.inputWrapper.container),this.validationAttribute(this.element,this.hiddenElement),this.setFields(),this.inputWrapper.container.style.width=aI(this.width),this.inputWrapper.container.classList.add("e-ddl"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");var t=this.element.getAttribute("id")?this.element.getAttribute("id"):eI("ej2_dropdownlist");if(this.element.id=t,this.hiddenElement.id=t+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),QA(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),null!==this.value||null!==this.activeIndex||null!==this.text)this.initValue();else if("SELECT"===this.element.tagName&&this.element.options[0]){var n=this.element;this.value=n.options[n.selectedIndex].value,this.text=JO(this.value)?null:n.options[n.selectedIndex].textContent,this.initValue()}this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=function(e){e.stopImmediatePropagation()},this.inputElement.onchange=function(e){e.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),JO(this.text)||this.inputElement.setAttribute("value",this.text)}this.renderComplete()}},{key:"setFooterTemplate",value:function(e){this.footer?this.footer.innerHTML="":(this.footer=this.createElement("div"),UA([this.footer],UR.footer));var t,n=_createForOfIteratorHelper(_A(this.dropdownCompiler(this.footerTemplate)?document.querySelector(this.footerTemplate).innerHTML.trim():this.footerTemplate)({},null,null,this.footerTemplateId,this.isStringTemplate));try{for(n.s();!(t=n.n()).done;){var i=t.value;this.footer.appendChild(i)}}catch(a){n.e(a)}finally{n.f()}this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!1,!1,!0),KA([this.footer],e)}},{key:"setHeaderTemplate",value:function(e){this.header?this.header.innerHTML="":(this.header=this.createElement("div"),UA([this.header],UR.header));var t,n=_createForOfIteratorHelper(_A(this.dropdownCompiler(this.headerTemplate)?document.querySelector(this.headerTemplate).innerHTML.trim():this.headerTemplate)({},null,null,this.headerTemplateId,this.isStringTemplate));try{for(n.s();!(t=n.n()).done;){var i=t.value;this.header.appendChild(i)}}catch(r){n.e(r)}finally{n.f()}this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!1,!0,!1);var a=e.querySelector("div.e-content");e.insertBefore(this.header,a)}},{key:"setOldText",value:function(e){this.text=e}},{key:"setOldValue",value:function(e){this.value=e}},{key:"refreshPopup",value:function(){JO(this.popupObj)||!document.body.contains(this.popupObj.element)||(!this.allowFiltering||KI.isDevice&&this.isFilterLayout())&&"autocomplete"!==this.getModuleName()||(WA([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container))}},{key:"checkDatasource",value:function(e){e.dataSource&&!JO(Object.keys(e.dataSource))&&this.itemTemplate&&this.allowFiltering&&(this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1});var t=-1!==Object.keys(e).indexOf("value")&&JO(e.value),n=-1!==Object.keys(e).indexOf("text")&&JO(e.text);"autocomplete"!==this.getModuleName()&&this.allowFiltering&&(t||n)&&(this.itemData=null)}},{key:"updateDataSource",value:function(e){""===this.inputElement.value&&(JO(e)||!JO(e.dataSource)&&(e.dataSource instanceof AM||0!==e.dataSource.length))||this.clearAll(null,e),(JO(e)||!JO(e.dataSource)&&(e.dataSource instanceof AM||0!==e.dataSource.length)||e.dataSource!==[])&&this.resetList(this.dataSource),this.isCustomFilter||this.isFilterFocus||document.activeElement===this.filterInput||this.checkCustomValue()}},{key:"checkCustomValue",value:function(){this.itemData=this.getDataByValue(this.value);var e=this.getItemData();this.setProperties({value:e.value,text:e.text})}},{key:"updateInputFields",value:function(){"dropdownlist"===this.getModuleName()&&pL.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}},{key:"onPropertyChanged",value:function(e,t){"dropdownlist"===this.getModuleName()&&(this.isServerBlazor||(this.checkDatasource(e),this.setUpdateInitial(["fields","query","dataSource"],e)));for(var i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];switch(r){case"query":case"dataSource":break;case"htmlAttributes":this.setHTMLAttributes();break;case"width":this.setEleWidth(e.width);break;case"placeholder":pL.setPlaceholder(e.placeholder,this.inputElement);break;case"filterBarPlaceholder":this.filterInput&&pL.setPlaceholder(e.filterBarPlaceholder,this.filterInput);break;case"readonly":"dropdownlist"!==this.getModuleName()&&pL.setReadonly(e.readonly,this.inputElement);break;case"cssClass":this.setCssClass(e.cssClass,t.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnable();break;case"text":if(null===e.text){this.clearAll();break}if(this.list||(this.dataSource instanceof AM&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){var s=this.getElementByText(e.text);this.checkValidLi(s)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.text,t.text,"text"):this.setOldText(t.text)),this.updateInputFields()}break;case"value":if(null===e.value){this.clearAll();break}if(this.notify("beforeValueChange",{newProp:e}),this.list||(this.dataSource instanceof AM&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){var l=this.getElementByValue(e.value);this.checkValidLi(l)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.value,t.value,"value"):this.setOldValue(t.value)),this.updateInputFields()}break;case"index":if(null===e.index){this.clearAll();break}this.list||(this.dataSource instanceof AM&&(this.initRemoteRender=!0),this.renderList()),this.initRemoteRender||(this.checkValidLi(this.liCollections[e.index])||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.index,t.index,"index"):this.index=t.index),this.updateInputFields());break;case"footerTemplate":this.popupObj&&this.setFooterTemplate(this.popupObj.element);break;case"headerTemplate":this.popupObj&&this.setHeaderTemplate(this.popupObj.element);break;case"valueTemplate":JO(this.itemData)||null==this.valueTemplate||this.setValueTemplate();break;case"allowFiltering":this.allowFiltering&&(this.actionCompleteData={ulElement:this.ulElement,list:this.listData,isUpdated:!0},this.updateSelectElementData(this.allowFiltering));break;case"floatLabelType":pL.removeFloating(this.inputWrapper),pL.addFloating(this.inputElement,e.floatLabelType,this.placeholder,this.createElement);break;case"showClearButton":pL.setClearButton(e.showClearButton,this.inputElement,this.inputWrapper,null,this.createElement),this.bindClearEvent();break;default:var o;o=this.getPropObject(r,e,t),_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,o.newProperty,o.oldProperty)}}}},{key:"checkValidLi",value:function(e){return!!this.isValidLI(e)&&(this.setSelection(e,null),!0)}},{key:"setSelectionData",value:function(e,t,n){var i,a=this;this.updateListValues=function(){"text"===n?(i=a.getElementByText(e),a.checkValidLi(i)||a.setOldText(t)):"value"===n?(i=a.getElementByValue(e),a.checkValidLi(i)||a.setOldValue(t)):"index"===n&&(i=a.liCollections[e],a.checkValidLi(i)||(a.index=t))}}},{key:"setCssClass",value:function(e,t){JO(t)||(t=t.replace(/\s+/g," ").trim()),JO(e)||(e=e.replace(/\s+/g," ").trim()),pL.setCssClass(e,[this.inputWrapper.container],t),this.popupObj&&pL.setCssClass(e,[this.popupObj.element],t)}},{key:"getModuleName",value:function(){return"dropdownlist"}},{key:"showPopup",value:function(){this.enabled&&(this.beforePopupOpen?this.refreshPopup():(this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):JO(this.list)||!QO(this.list)&&this.list.classList.contains("e-nodata")?this.renderList():this.isFiltering()&&this.isServerBlazor&&this.renderList(),this.isServerBlazor||this.invokeRenderPopup(),!this.isServerBlazor||JO(this.list)||"dropdownlist"!==this.getModuleName()&&this.isFiltering()||this.invokeRenderPopup()))}},{key:"invokeRenderPopup",value:function(){if(KI.isDevice&&this.isFilterLayout()){var e=this;window.onpopstate=function(){e.hidePopup()},history.pushState({},"")}JO(this.list.children[0])&&!this.list.classList.contains("e-nodata")||this.renderPopup(),QA(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}},{key:"clientRenderPopup",value:function(e,t){t?(this.serverPopupEle=t,this.list=t.querySelector(".e-dropdownbase.e-content")?t.querySelector(".e-dropdownbase.e-content"):this.list,this.ulElement=this.list.querySelector("ul"),JO(this.ulElement)&&!this.list.classList.contains("e-nodata")&&UA([this.list],["e-nodata"]),this.liCollections=this.ulElement?this.ulElement.querySelectorAll(".e-list-item"):[],this.listData=e,"autocomplete"===this.getModuleName()&&this.liCollections.length>0&&this.renderHightSearch(),this.initRemoteRender=!1,this.isPopupOpen||this.serverBlazorUpdateSelection(),this.unWireListEvents(),this.wireListEvents(),this.isServerIncrementalSearch&&this.searchKeyEvent&&(this.isServerIncrementalSearch=!1,this.initial=!1,this.onServerIncrementalSearch(this.searchKeyEvent)),this.isServerNavigation&&this.searchKeyEvent&&("down"===this.searchKeyEvent.action||"up"===this.searchKeyEvent.action?(this.isServerNavigation=!1,this.updateUpDownAction(this.searchKeyEvent)):"home"!==this.searchKeyEvent.action&&"end"!==this.searchKeyEvent.action||(this.isServerNavigation=!1,this.updateHomeEndAction(this.searchKeyEvent))),this.beforePopupOpen&&this.invokeRenderPopup(),"dropdownlist"!==this.getModuleName()&&this.onActionComplete(this.ulElement,this.listData)):null!=e&&this.listData!==e&&(this.listData=e,this.initRemoteRender=!1)}},{key:"renderHightSearch",value:function(){}},{key:"updateclientItemData",value:function(e){this.listData=e}},{key:"serverUpdateListElement",value:function(e,t){this.listData=e,this.ulElement&&(this.liCollections=this.ulElement.querySelectorAll(".e-list-item"))}},{key:"hidePopup",value:function(e){if(this.DropDownBaseresetBlazorTemplates(!1,!1,!1,!1,!1,!!this.headerTemplate,!!this.headerTemplate),this.isEscapeKey&&"dropdownlist"===this.getModuleName())if(pL.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,JO(this.index))this.resetSelection();else{var t=this.findListElement(this.ulElement,"li","data-value",this.value);this.selectedLI=this.liCollections[this.index]||t,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&null!==this.itemData&&this.setValueTemplate())}this.closePopup();var n=this.getItemData();""!==this.inputElement.value.trim()||this.isInteracted||!this.isSelectCustom&&(JO(this.selectedLI)||this.inputElement.value===n.text)||(this.isSelectCustom=!1,this.clearAll(e))}},{key:"focusIn",value:function(e){if(this.enabled&&!this.targetElement().classList.contains(UR.disable)){var t=!1;this.preventFocus&&KI.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,t=!0),t||this.targetElement().focus(),UA([this.inputWrapper.container],[UR.inputFocus]),this.onFocus(e)}}},{key:"focusOut",value:function(e){this.enabled&&(this.isTyped=!0,this.hidePopup(e),this.targetElement().blur(),WA([this.inputWrapper.container],[UR.inputFocus]))}},{key:"destroy",value:function(){if(this.isActive=!1,(!this.isServerBlazor||this.popupObj&&document.body.contains(this.popupObj.element))&&this.hidePopup(),this.unWireEvent(),this.list&&(this.unWireListEvents(),this.isServerBlazor&&this.fields.groupBy&&!this.isGroupChecking&&$I.remove(this.list,"scroll",this.setFloatingHeader)),!this.isServerBlazor){if(this.element&&!this.element.classList.contains("e-"+this.getModuleName()))return;for(var e=["readonly","aria-disabled","aria-placeholder","placeholder","aria-owns","aria-labelledby","aria-haspopup","aria-expanded","aria-activedescendant","autocomplete","aria-readonly","autocorrect","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"],t=0;t<e.length;t++)this.inputElement.removeAttribute(e[t]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),pL.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.element.style.display="block",this.inputWrapper.container.parentElement.tagName===this.getNgDirective()?ZA(this.inputWrapper.container):(this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),ZA(this.inputWrapper.container)),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}},{key:"getItems",value:function(){return this.list||(this.dataSource instanceof AM&&(this.initRemoteRender=!0),this.renderList()),this.ulElement?_get(_getPrototypeOf(n.prototype),"getItems",this).call(this):[]}},{key:"getDataByValue",value:function(e){return _get(_getPrototypeOf(n.prototype),"getDataByValue",this).call(this,e)}},{key:"clear",value:function(){this.value=null}}]),n}(zR),qR([bD(null)],BR.prototype,"cssClass",void 0),qR([bD("100%")],BR.prototype,"width",void 0),qR([bD("300px")],BR.prototype,"popupHeight",void 0),qR([bD("100%")],BR.prototype,"popupWidth",void 0),qR([bD(null)],BR.prototype,"placeholder",void 0),qR([bD(null)],BR.prototype,"filterBarPlaceholder",void 0),qR([bD({})],BR.prototype,"htmlAttributes",void 0),qR([bD(null)],BR.prototype,"query",void 0),qR([bD(null)],BR.prototype,"valueTemplate",void 0),qR([bD(null)],BR.prototype,"headerTemplate",void 0),qR([bD(null)],BR.prototype,"footerTemplate",void 0),qR([bD(!1)],BR.prototype,"allowFiltering",void 0),qR([bD(!1)],BR.prototype,"readonly",void 0),qR([bD(null)],BR.prototype,"text",void 0),qR([bD(null)],BR.prototype,"value",void 0),qR([bD(null)],BR.prototype,"index",void 0),qR([bD("Never")],BR.prototype,"floatLabelType",void 0),qR([bD(!1)],BR.prototype,"showClearButton",void 0),qR([wD()],BR.prototype,"filtering",void 0),qR([wD()],BR.prototype,"change",void 0),qR([wD()],BR.prototype,"beforeOpen",void 0),qR([wD()],BR.prototype,"open",void 0),qR([wD()],BR.prototype,"close",void 0),qR([wD()],BR.prototype,"blur",void 0),qR([wD()],BR.prototype,"focus",void 0),BR=qR([_D],BR)),GR=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};UR.root="e-combobox";var XR,KR={container:null,buttons:[]},$R=(XR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"preRender",value:function(){_get(_getPrototypeOf(n.prototype),"preRender",this).call(this)}},{key:"getLocaleName",value:function(){return"combo-box"}},{key:"wireEvent",value:function(){"combobox"===this.getModuleName()&&($I.add(this.inputWrapper.buttons[0],"mousedown",this.preventBlur,this),$I.add(this.inputWrapper.container,"blur",this.onBlur,this)),JO(this.inputWrapper.buttons[0])||$I.add(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick,this),$I.add(this.inputElement,"focus",this.targetFocus,this),this.readonly||($I.add(this.inputElement,"input",this.onInput,this),$I.add(this.inputElement,"keyup",this.onFilterUp,this),$I.add(this.inputElement,"keydown",this.onFilterDown,this),$I.add(this.inputElement,"paste",this.pasteHandler,this)),this.bindCommonEvent()}},{key:"preventBlur",value:function(e){(this.allowFiltering||document.activeElement===this.inputElement||document.activeElement.classList.contains(UR.input)||!KI.isDevice)&&KI.isDevice||e.preventDefault()}},{key:"onBlur",value:function(e){var t=""===this.inputElement.value?null:this.inputElement.value;JO(this.listData)||JO(t)||t===this.text||this.customValue(e),_get(_getPrototypeOf(n.prototype),"onBlur",this).call(this,e)}},{key:"targetElement",value:function(){return this.inputElement}},{key:"setOldText",value:function(e){pL.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue(),this.removeSelection()}},{key:"setOldValue",value:function(e){this.valueMuteChange(this.allowCustom?this.value:null),this.removeSelection(),this.setHiddenValue()}},{key:"valueMuteChange",value:function(e){var t=JO(e)?null:e.toString();pL.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e,text:e,index:null},!0),this.activeIndex=this.index;var n=this.fields,i={};i[n.text]=JO(e)?null:e.toString(),i[n.value]=JO(e)?null:e.toString(),this.itemData=i,this.item=null,this.previousValue!==this.value&&this.detachChangeEvent(null)}},{key:"updateValues",value:function(){if(JO(this.value))if(this.text&&JO(this.value)){var e=this.getElementByText(this.text);e?this.setSelection(e,null):(pL.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue())}else this.setSelection(this.liCollections[this.activeIndex],null);else{var t=this.getElementByValue(this.value);t?this.setSelection(t,null):this.valueMuteChange(this.allowCustom?this.value:null)}this.setHiddenValue(),pL.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}},{key:"updateIconState",value:function(){this.showClearButton&&(""===this.inputElement.value||this.readonly?UA([this.inputWrapper.clearButton],UR.clearIconHide):WA([this.inputWrapper.clearButton],UR.clearIconHide))}},{key:"getAriaAttributes",value:function(){return{"aria-owns":this.element.id+"_options",role:"combobox","aria-autocomplete":"both","aria-labelledby":this.hiddenElement.id,"aria-hasPopup":"true","aria-expanded":"false","aria-readonly":this.readonly.toString(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}}},{key:"searchLists",value:function(e){this.isTyped=!0,this.isFiltering()?(_get(_getPrototypeOf(n.prototype),"searchLists",this).call(this,e),this.ulElement&&""===this.filterInput.value.trim()&&this.setHoverList(this.ulElement.querySelector("."+UR.li))):(this.ulElement&&""===this.inputElement.value&&this.preventAutoFill&&this.setHoverList(this.ulElement.querySelector("."+UR.li)),this.incrementalSearch(e))}},{key:"getNgDirective",value:function(){return"EJS-COMBOBOX"}},{key:"setSearchBox",value:function(){return this.filterInput=this.inputElement,this.isFiltering()?this.inputWrapper:KR}},{key:"onActionComplete",value:function(e,t,i,a){this.isServerBlazor||_get(_getPrototypeOf(n.prototype),"onActionComplete",this).call(this,e,t,i),this.isSelectCustom&&this.removeSelection(),!this.preventAutoFill&&"combobox"===this.getModuleName()&&this.isTyped&&this.inlineSearch()}},{key:"getFocusElement",value:function(){var e=this.isSelectCustom?{text:""}:this.getItemData(),t=this.list.querySelector("."+UR.selected);if(e.text===this.inputElement.value&&!JO(t))return t;if((KI.isDevice&&!this.isDropDownClick||!KI.isDevice)&&!JO(this.liCollections)&&this.liCollections.length>0){var n=NR(this.inputElement.value,this.liCollections,"StartsWith",!0).item;if(JO(n))this.isSelectCustom&&""!==this.inputElement.value.trim()&&(this.removeFocus(),this.list.scrollTop=0);else{var i=this.getIndexByValue(n.getAttribute("data-value"))-1,a=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10);isNaN(a)||"autocomplete"===this.getModuleName()||(this.removeFocus(),this.list.scrollTop=i*a+(this.fields.groupBy?this.liCollections[0].offsetHeight:0),UA([n],UR.focus))}return n}return null}},{key:"setValue",value:function(e){return e&&"keydown"===e.type&&"enter"===e.action&&this.removeFillSelection(),this.autofill&&"combobox"===this.getModuleName()&&e&&"keydown"===e.type&&"enter"!==e.action?(this.preventAutoFill=!1,this.inlineSearch(e),!1):_get(_getPrototypeOf(n.prototype),"setValue",this).call(this,e)}},{key:"checkCustomValue",value:function(){this.itemData=this.getDataByValue(this.value);var e=this.getItemData();this.allowCustom&&JO(e.value)&&JO(e.text)||this.setProperties({value:e.value,text:e.text},!0)}},{key:"showSpinner",value:function(){JO(this.spinnerElement)&&(this.spinnerElement="autocomplete"===this.getModuleName()?this.inputWrapper.buttons[0]||this.inputWrapper.clearButton||pL.appendSpan("e-input-group-icon e-atc-spinner-icon",this.inputWrapper.container,this.createElement):this.inputWrapper.buttons[0]||this.inputWrapper.clearButton,UA([this.spinnerElement],UR.disableIcon),KP({target:this.spinnerElement,width:KI.isDevice?"16px":"14px"},this.createElement),rL(this.spinnerElement))}},{key:"hideSpinner",value:function(){JO(this.spinnerElement)||(lL(this.spinnerElement),WA([this.spinnerElement],UR.disableIcon),this.spinnerElement.classList.contains("e-atc-spinner-icon")?ZA(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)}},{key:"setAutoFill",value:function(e,t){if(t||this.setHoverList(e),this.autofill&&!this.preventAutoFill){var n=this.getTextByValue(e.getAttribute("data-value")).toString(),i=this.getFormattedValue(e.getAttribute("data-value"));"combobox"===this.getModuleName()&&(this.isSelected||this.previousValue===i?this.updateSelectedItem(e,null,!0):(this.updateSelectedItem(e,null),this.isSelected=!0,this.previousValue=this.getFormattedValue(e.getAttribute("data-value")))),this.isAndroidAutoFill(n)||this.setAutoFillSelection(n)}}},{key:"isAndroidAutoFill",value:function(e){if(KI.isAndroid){var t=this.getSelectionPoints(),n=this.prevSelectPoints.end,i=t.end,a=this.prevSelectPoints.start,r=t.start;return 0!==n&&(n===e.length&&a===e.length||a>r&&n>i||n===i&&a===r)}return!1}},{key:"clearAll",value:function(e,t){(JO(t)||!JO(t)&&JO(t.dataSource))&&(_get(_getPrototypeOf(n.prototype),"clearAll",this).call(this,e),this.isServerBlazor&&this.isFiltering()&&this.isPopupOpen&&e&&this.interopAdaptor.invokeMethodAsync("OnServerRenderList",this.beforePopupOpen,!0))}},{key:"isSelectFocusItem",value:function(e){return!JO(e)}},{key:"inlineSearch",value:function(e){var t=e&&("down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action||"pageUp"===e.action||"pageDown"===e.action),n=t?this.liCollections[this.activeIndex]:this.getFocusElement();if(JO(n))if(""===this.inputElement.value){this.activeIndex=null,this.list.scrollTop=0;var i=this.list.querySelector("."+UR.li);this.setHoverList(i)}else this.activeIndex=null,this.removeSelection(),this.liCollections&&this.liCollections.length<0&&this.removeFocus();else{if(!t){var a=this.getFormattedValue(n.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(a),this.activeIndex=JO(this.activeIndex)?null:this.activeIndex}this.preventAutoFill=""!==this.inputElement.value&&this.preventAutoFill,this.setAutoFill(n,t)}}},{key:"incrementalSearch",value:function(e){this.showPopup(),JO(this.listData)||(this.inlineSearch(e),e.preventDefault())}},{key:"setAutoFillSelection",value:function(e){var t=this.getSelectionPoints(),n=this.inputElement.value.substr(0,t.start);if(n&&n.toLowerCase()===e.substr(0,t.start).toLowerCase()){var i=n+e.substr(n.length,e.length);pL.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(t.start,this.inputElement.value.length)}else pL.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(0,this.inputElement.value.length)}},{key:"getValueByText",value:function(e){return _get(_getPrototypeOf(n.prototype),"getValueByText",this).call(this,e,!0,this.ignoreAccent)}},{key:"unWireEvent",value:function(){"combobox"===this.getModuleName()&&($I.remove(this.inputWrapper.buttons[0],"mousedown",this.preventBlur),$I.remove(this.inputWrapper.container,"blur",this.onBlur)),JO(this.inputWrapper.buttons[0])||$I.remove(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick),$I.remove(this.inputElement,"focus",this.targetFocus),this.readonly||($I.remove(this.inputElement,"input",this.onInput),$I.remove(this.inputElement,"keyup",this.onFilterUp),$I.remove(this.inputElement,"keydown",this.onFilterDown),$I.remove(this.inputElement,"paste",this.pasteHandler)),this.unBindCommonEvent()}},{key:"setSelection",value:function(e,t){_get(_getPrototypeOf(n.prototype),"setSelection",this).call(this,e,t),JO(e)||this.autofill||this.isDropDownClick||this.removeFocus()}},{key:"selectCurrentItem",value:function(e){var t;this.isPopupOpen&&((t=this.list.querySelector(this.isSelected?"."+UR.selected:"."+UR.focus))&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e))),"enter"===e.action&&""===this.inputElement.value.trim()?this.clearAll(e):this.isTyped&&!this.isSelected&&JO(t)&&this.customValue(e),this.hidePopup()}},{key:"setHoverList",value:function(e){this.removeSelection(),this.isValidLI(e)&&!e.classList.contains(UR.selected)&&(this.removeFocus(),e.classList.add(UR.focus))}},{key:"targetFocus",value:function(e){KI.isDevice&&!this.allowFiltering&&(this.preventFocus=!1),this.onFocus(e)}},{key:"dropDownClick",value:function(e){e.preventDefault(),KI.isDevice&&!this.allowFiltering&&(this.preventFocus=!0),_get(_getPrototypeOf(n.prototype),"dropDownClick",this).call(this,e)}},{key:"customValue",value:function(e){var t=this,n=this.getValueByText(this.inputElement.value);if(this.allowCustom||""===this.inputElement.value)if(""!==this.inputElement.value.trim()){var i=this.value;if(JO(n)){var a,r=""===this.inputElement.value?null:this.inputElement.value;a={text:r,item:{}},this.initial?this.updateCustomValueCallback(r,a,i):this.trigger("customValueSpecifier",a,(function(n){t.updateCustomValueCallback(r,n,i,e)}))}else this.isSelectCustom=!1,this.setProperties({value:n}),i!==this.value&&this.onChangeEvent(e)}else this.allowCustom&&(this.isSelectCustom=!0);else{var s=this.previousValue,l=this.value;this.setProperties({value:n}),JO(this.value)&&pL.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.autofill&&s===this.value&&l!==this.value&&this.onChangeEvent(null)}}},{key:"updateCustomValueCallback",value:function(e,t,n,i){var a=this.fields,r=t.item,s={};r&&YO(a.text,r)&&YO(a.value,r)?s=r:(GO(a.text,e,s),GO(a.value,e,s)),this.itemData=s;var l={text:YO(a.text,this.itemData),value:YO(a.value,this.itemData),index:null};this.setProperties(l,!0),this.setSelection(null,null),this.isSelectCustom=!0,n!==this.value&&this.onChangeEvent(i)}},{key:"onPropertyChanged",value:function(e,t){"combobox"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e);for(var i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];switch(r){case"readonly":pL.setReadonly(this.readonly,this.inputElement),this.readonly?($I.remove(this.inputElement,"input",this.onInput),$I.remove(this.inputElement,"keyup",this.onFilterUp),$I.remove(this.inputElement,"keydown",this.onFilterDown)):($I.add(this.inputElement,"input",this.onInput,this),$I.add(this.inputElement,"keyup",this.onFilterUp,this),$I.add(this.inputElement,"keydown",this.onFilterDown,this));break;case"allowFiltering":this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&JO(this.list)&&_get(_getPrototypeOf(n.prototype),"renderList",this).call(this);break;case"allowCustom":break;default:var s;s=this.getPropObject(r,e,t),_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,s.newProperty,s.oldProperty)}}}},{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&JO(this.list)&&_get(_getPrototypeOf(n.prototype),"renderList",this).call(this),this.renderComplete()}},{key:"getModuleName",value:function(){return"combobox"}},{key:"addItem",value:function(e,t){_get(_getPrototypeOf(n.prototype),"addItem",this).call(this,e,t)}},{key:"filter",value:function(e,t,i){_get(_getPrototypeOf(n.prototype),"filter",this).call(this,e,t,i)}},{key:"showPopup",value:function(){_get(_getPrototypeOf(n.prototype),"showPopup",this).call(this)}},{key:"hidePopup",value:function(e){var t=""===this.inputElement.value?null:this.inputElement.value;if(!JO(this.listData)){var i=this.isEscapeKey;this.isEscapeKey&&(pL.setValue(this.typedString,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1),this.autofill&&this.removeFillSelection();var a=this.isSelectCustom?{text:""}:this.getItemData(),r=this.list.querySelector("."+UR.selected);if(a.text===this.inputElement.value&&!JO(r))return this.isSelected&&(this.onChangeEvent(e),this.isSelectCustom=!1),void _get(_getPrototypeOf(n.prototype),"hidePopup",this).call(this,e);if("combobox"===this.getModuleName()&&""!==this.inputElement.value.trim()){var s=NR(this.inputElement.value,this.liCollections,"Equal",!0);this.selectedLI=s.item,JO(s.index)&&(s.index=NR(this.inputElement.value,this.liCollections,"StartsWith",!0).index),this.activeIndex=s.index,JO(this.selectedLI)?i&&(this.isSelectCustom=!0,this.removeSelection()):this.updateSelectedItem(this.selectedLI,null,!0)}this.isEscapeKey||!this.isTyped||this.isInteracted||this.customValue(e)}JO(this.listData)&&this.allowCustom&&!JO(t)&&t!==this.value&&this.customValue(),_get(_getPrototypeOf(n.prototype),"hidePopup",this).call(this,e)}},{key:"focusIn",value:function(){this.enabled&&(KI.isDevice&&!this.allowFiltering&&(this.preventFocus=!0),_get(_getPrototypeOf(n.prototype),"focusIn",this).call(this))}},{key:"clear",value:function(){this.value=null}},{key:"focusOut",value:function(e){_get(_getPrototypeOf(n.prototype),"focusOut",this).call(this,e)}},{key:"getItems",value:function(){return _get(_getPrototypeOf(n.prototype),"getItems",this).call(this)}},{key:"getDataByValue",value:function(e){return _get(_getPrototypeOf(n.prototype),"getDataByValue",this).call(this,e)}},{key:"renderHightSearch",value:function(){}}]),n}(YR),GR([bD(!1)],XR.prototype,"autofill",void 0),GR([bD(!0)],XR.prototype,"allowCustom",void 0),GR([bD({})],XR.prototype,"htmlAttributes",void 0),GR([bD(!1)],XR.prototype,"allowFiltering",void 0),GR([bD(null)],XR.prototype,"query",void 0),GR([bD(null)],XR.prototype,"index",void 0),GR([bD(!0)],XR.prototype,"showClearButton",void 0),GR([bD(!1)],XR.prototype,"enableRtl",void 0),GR([wD()],XR.prototype,"customValueSpecifier",void 0),GR([wD()],XR.prototype,"filtering",void 0),GR([bD(null)],XR.prototype,"valueTemplate",void 0),GR([bD("Never")],XR.prototype,"floatLabelType",void 0),GR([bD(null)],XR.prototype,"filterBarPlaceholder",void 0),GR([bD(null)],XR.prototype,"cssClass",void 0),GR([bD(null)],XR.prototype,"headerTemplate",void 0),GR([bD(null)],XR.prototype,"footerTemplate",void 0),GR([bD(null)],XR.prototype,"placeholder",void 0),GR([bD("100%")],XR.prototype,"width",void 0),GR([bD("300px")],XR.prototype,"popupHeight",void 0),GR([bD("100%")],XR.prototype,"popupWidth",void 0),GR([bD(!1)],XR.prototype,"readonly",void 0),GR([bD(null)],XR.prototype,"text",void 0),GR([bD(null)],XR.prototype,"value",void 0),XR=GR([_D],XR)),ZR=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};UR.root="e-autocomplete",UR.icon="e-input-group-icon e-ddl-icon e-search-icon";var JR,QR,eF,tF,nF,iF=(JR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).isFiltered=!1,a}return _createClass(n,[{key:"preRender",value:function(){_get(_getPrototypeOf(n.prototype),"preRender",this).call(this)}},{key:"getLocaleName",value:function(){return"auto-complete"}},{key:"getNgDirective",value:function(){return"EJS-AUTOCOMPLETE"}},{key:"getQuery",value:function(e){var t=e?e.clone():this.query?this.query.clone():new kM,n=""!==this.queryString||JO(this.value)?this.filterType:"equal",i=""!==this.queryString||JO(this.value)?this.queryString:this.value;if(this.isFiltered)return t;if(null!==this.queryString){var a=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof AM||"string"!==a)&&"number"!==a){var r=JO(this.fields.value)?"":this.fields.value;t.where(r,n,i,this.ignoreCase,this.ignoreAccent)}else t.where("",n,i,this.ignoreCase,this.ignoreAccent)}if(!JO(this.suggestionCount)){if(20!==this.suggestionCount)for(var s=0;s<t.queries.length;s++)"onTake"===t.queries[s].fn&&t.queries.splice(s,1);t.take(this.suggestionCount)}return t}},{key:"searchLists",value:function(e){var t=this;if(this.isTyped=!0,this.isDataFetched=this.isSelectCustom=!1,this.isServerBlazor)this.beforePopupOpen=this.isFiltering()&&!this.beforePopupOpen?!this.beforePopupOpen:this.beforePopupOpen,this.queryString=this.filterInput.value,""!==this.queryString&&this.queryString.length>=this.minLength?this.interopAdaptor.invokeMethodAsync("OnServerFilter",this.filterInput.value):this.hidePopup();else{if(JO(this.list)&&_get(_getPrototypeOf(n.prototype),"renderList",this).call(this,!0),this.queryString=this.filterInput.value,40===e.keyCode||38===e.keyCode)return this.queryString=""===this.queryString?null:this.queryString,this.beforePopupOpen=!0,void this.resetList(this.dataSource,this.fields);this.isSelected=!1,this.activeIndex=null;var i={preventDefaultAction:!1,text:this.filterInput.value,updateData:function(e,n,a){i.cancel||(t.isFiltered=!0,t.filterAction(e,n,a))},cancel:!1};this.trigger("filtering",i,(function(e){e.cancel||t.isFiltered||e.preventDefaultAction||t.filterAction(t.dataSource,null,t.fields)}))}}},{key:"filter",value:function(e,t,n){this.isFiltered=!0,this.filterAction(e,t,n)}},{key:"filterAction",value:function(e,t,n){this.beforePopupOpen=!0,""!==this.queryString&&this.queryString.length>=this.minLength?this.resetList(e,n,t):this.hidePopup()}},{key:"clearAll",value:function(e,t){(JO(t)||!JO(t)&&JO(t.dataSource))&&_get(_getPrototypeOf(n.prototype),"clearAll",this).call(this,e),this.beforePopupOpen&&this.hidePopup()}},{key:"onActionComplete",value:function(e,t,i,a){this.fixedHeaderElement=null,_get(_getPrototypeOf(n.prototype),"onActionComplete",this).call(this,e,t,i);var r=this.list.querySelector("."+UR.li);JO(r)||WA([r],UR.focus),this.postBackAction()}},{key:"postBackAction",value:function(){this.autofill&&!JO(this.liCollections[0])&&(JO(NR(this.inputElement.value,[this.liCollections[0]],"StartsWith",this.ignoreCase).item)||_get(_getPrototypeOf(n.prototype),"setAutoFill",this).call(this,this.liCollections[0],!0))}},{key:"setSelection",value:function(e,t){if(this.isValidLI(e))if(!JO(t)&&"keydown"===t.type&&"enter"!==t.action&&"tab"!==t.action&&this.isValidLI(e)){var i=this.getFormattedValue(e.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(i),this.isServerBlazor&&this.removeHover(),this.setHoverList(e),this.selectedLI=e,this.setScrollPosition(t),this.autofill&&(this.preventAutoFill=!1,_get(_getPrototypeOf(n.prototype),"setAutoFill",this).call(this,e)),QA(this.inputElement,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}else _get(_getPrototypeOf(n.prototype),"setSelection",this).call(this,e,t)}},{key:"listOption",value:function(e,t){var i=this,a=_get(_getPrototypeOf(n.prototype),"listOption",this).call(this,e,t);if(JO(a.itemCreated))a.itemCreated=function(e){i.highlight&&(i.element.tagName===i.getNgDirective()&&i.itemTemplate?setTimeout((function(){RR(e.item,i.queryString,i.ignoreCase,i.filterType)}),0):RR(e.item,i.queryString,i.ignoreCase,i.filterType))};else{var r=a.itemCreated;a.itemCreated=function(e){i.highlight&&RR(e.item,i.queryString,i.ignoreCase,i.filterType),r.apply(i,[e])}}return a}},{key:"isFiltering",value:function(){return!0}},{key:"renderPopup",value:function(){this.list.scrollTop=0,_get(_getPrototypeOf(n.prototype),"renderPopup",this).call(this)}},{key:"isEditTextBox",value:function(){return""!==this.inputElement.value.trim()}},{key:"isPopupButton",value:function(){return this.showPopupButton}},{key:"isSelectFocusItem",value:function(e){return!1}},{key:"showPopup",value:function(){this.enabled&&(!this.beforePopupOpen||this.isServerBlazor?(this.beforePopupOpen=!0,this.preventAutoFill=!0,JO(this.list)||this.isServerBlazor?this.renderList():this.resetList(this.dataSource,this.fields)):this.refreshPopup())}},{key:"hidePopup",value:function(){this.DropDownBaseresetBlazorTemplates(!0,!1,!1,!1),_get(_getPrototypeOf(n.prototype),"hidePopup",this).call(this),this.activeIndex=-1}},{key:"onPropertyChanged",value:function(e,t){"autocomplete"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e);for(var i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];switch(r){case"showPopupButton":if(this.showPopupButton){if(this.isServerBlazor){if(this.inputWrapper&&this.inputWrapper.container){var s=this.inputWrapper.container.querySelector(".e-input-group-icon.e-ddl-icon");this.inputWrapper.buttons[0]=s}}else{var l=pL.appendSpan(UR.icon,this.inputWrapper.container,this.createElement);this.inputWrapper.buttons[0]=l}this.inputWrapper&&this.inputWrapper.buttons&&this.inputWrapper.buttons[0]&&$I.add(this.inputWrapper.buttons[0],"click",this.dropDownClick,this)}else this.isServerBlazor||(ZA(this.inputWrapper.buttons[0]),this.inputWrapper.buttons[0]=null);break;default:var o;o=this.getPropObject(r,e,t),_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,o.newProperty,o.oldProperty)}}}},{key:"renderHightSearch",value:function(){if(this.highlight)for(var e=0;e<this.liCollections.length;e++)this.ulElement.querySelector(".e-active")||(FR(this.liCollections[e]),RR(this.liCollections[e],this.queryString,this.ignoreCase,this.filterType,this.isServerBlazor))}},{key:"getModuleName",value:function(){return"autocomplete"}},{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this)}}]),n}($R),ZR([kD({value:null,iconCss:null,groupBy:null},jR)],JR.prototype,"fields",void 0),ZR([bD(!0)],JR.prototype,"ignoreCase",void 0),ZR([bD(!1)],JR.prototype,"showPopupButton",void 0),ZR([bD(!1)],JR.prototype,"highlight",void 0),ZR([bD(20)],JR.prototype,"suggestionCount",void 0),ZR([bD({})],JR.prototype,"htmlAttributes",void 0),ZR([bD(null)],JR.prototype,"query",void 0),ZR([bD(1)],JR.prototype,"minLength",void 0),ZR([bD("Contains")],JR.prototype,"filterType",void 0),ZR([wD()],JR.prototype,"filtering",void 0),ZR([bD(null)],JR.prototype,"index",void 0),ZR([bD("Never")],JR.prototype,"floatLabelType",void 0),ZR([bD(null)],JR.prototype,"valueTemplate",void 0),ZR([bD(null)],JR.prototype,"filterBarPlaceholder",void 0),ZR([bD(!1)],JR.prototype,"allowFiltering",void 0),ZR([bD(null)],JR.prototype,"text",void 0),JR=ZR([_D],JR)),aF=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},rF="e-other-month",sF="e-overlay",lF="e-focused-date",oF=(eF=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).effect="",a.isPopupClicked=!1,a.isDateSelected=!0,a}return _createClass(n,[{key:"render",value:function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new TI(this.locale),(JO(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add("e-calendar"),this.enableRtl&&this.element.classList.add("e-rtl"),KI.isDevice&&this.element.classList.add("e-device"),QA(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add("e-calendar"),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),KI.isDevice&&this.calendarElement.classList.add("e-device"),QA(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()}},{key:"rangeValidation",value:function(e,t){JO(e)&&this.setProperties({min:new Date(1900,0,1)},!0),JO(t)&&this.setProperties({max:new Date(2099,11,31)},!0)}},{key:"getDefaultKeyConfig",value:function(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs}},{key:"validateDate",value:function(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!JO(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))}},{key:"setOverlayIndex",value:function(e,t,n,i){if(i&&!JO(t)&&!JO(n)&&!JO(e)){var a=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;n.style.zIndex=(a-1).toString(),e.style.zIndex=a.toString()}}},{key:"minMaxUpdate",value:function(e){+this.min<=+this.max?WA([this.element],sF):(this.setProperties({min:this.min},!0),UA([this.element],sF)),this.min=JO(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=JO(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}},{key:"createHeader",value:function(){this.headerElement=this.createElement("div",{className:"e-header"});var e=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),AD(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),QA(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),AD(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),QA(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),QA(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev e-icons"})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  e-icons"})),e.appendChild(this.previousIcon),e.appendChild(this.nextIcon),this.headerElement.appendChild(e),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()}},{key:"createContent",value:function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()}},{key:"getCultureValues",value:function(){var e,t=[],n="days.stand-alone."+this.dayHeaderFormat.toLowerCase();e="en"===this.locale||"en-US"===this.locale?YO(n,NI()):this.getCultureObjects(II,""+this.locale);for(var i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];t.push(YO(r,e))}return t}},{key:"toCapitalize",value:function(e){return!JO(e)&&e.length?e[0].toUpperCase()+e.slice(1):e}},{key:"createContentHeader",value:function(){"calendar"===this.getModuleName()?JO(this.element.querySelectorAll(".e-content .e-week-header")[0])||ZA(this.element.querySelectorAll(".e-content .e-week-header")[0]):JO(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||ZA(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var e,t="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(t+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?UA([this.element],"e-week-number"):UA([this.calendarElement],"e-week-number")),e=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(var n=0;n<=6;n++)t+='<th  class="">'+this.toCapitalize(e[n])+"</th>";t="<tr>"+t+"</tr>",this.tableHeadElement.innerHTML=t,this.table.appendChild(this.tableHeadElement)}},{key:"createContentBody",value:function(){switch("calendar"===this.getModuleName()?JO(this.element.querySelectorAll(".e-content tbody")[0])||ZA(this.element.querySelectorAll(".e-content tbody")[0]):JO(this.calendarElement.querySelectorAll(".e-content tbody")[0])||ZA(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}}},{key:"updateFooter",value:function(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))}},{key:"createContentFooter",value:function(){if(this.showTodayButton){var e=new Date(+this.min),t=new Date(+this.max);this.globalize=new TI(this.locale),this.l10=new tM(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),AD(this.todayElement),this.updateFooter(),UA([this.todayElement],["e-btn","e-today","e-flat","e-primary","e-css"]),+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(t.setHours(0,0,0,0))&&!this.todayDisabled||UA([this.todayElement],"e-disabled"),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains("e-disabled")||$I.add(this.todayElement,"click",this.todayButtonClick,this)}}},{key:"wireEvents",value:function(e,t,n,i){$I.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=ZO(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModule="calendar"===this.getModuleName()?new eM(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):new eM(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}},{key:"dateWireEvents",value:function(e,t,n,i){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=ZO(this.defaultKeyConfigs,n),this.blazorRef=t,this.serverModuleName=i}},{key:"todayButtonClick",value:function(e){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(e))):this.navigateTo("Month",new Date(this.checkValue(e))))}},{key:"checkDeviceMode",value:function(e){}},{key:"keyActionHandle",value:function(e,t,n){var i,a=this.tableBodyElement.querySelector("tr td.e-focused-date");i=n?JO(a)||+t!==parseInt(a.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):a:this.tableBodyElement.querySelector("tr td.e-selected");var r=this.getViewNumber(this.currentView()),s=this.getViewNumber(this.depth),l=r===s&&this.getViewNumber(this.start)>=s;switch(this.effect="",e.action){case"moveLeft":this.KeyboardNavigate(-1,r,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,r,e,this.max,this.min),e.preventDefault();break;case"moveUp":this.KeyboardNavigate(0===r?-7:-4,r,e,this.max,this.min),e.preventDefault();break;case"moveDown":this.KeyboardNavigate(0===r?7:4,r,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(t);else{var o=JO(a)?i:a;if(!JO(o)&&!o.classList.contains("e-disabled"))if(l){var u=new Date(parseInt(""+o.id,0));this.selectDate(e,u,o)}else this.contentClick(null,--r,o,t)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":JO(a)&&(JO(i)||l)||this.contentClick(null,--r,a||i,t),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),ZA(this.tableBodyElement),0===r?this.renderMonths(e):1===r?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,r),ZA(this.tableBodyElement),0===r?this.renderMonths(e):1===r?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()}},{key:"KeyboardNavigate",value:function(e,t,n,i,a){var r=new Date(this.checkValue(this.currentDate));switch(t){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(ZA(this.tableBodyElement),this.renderDecades(n)):this.currentDate=r;break;case 1:this.addMonths(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(ZA(this.tableBodyElement),this.renderYears(n)):this.currentDate=r;break;case 0:this.addDay(this.currentDate,e,n,i,a),this.isMinMaxRange(this.currentDate)?(ZA(this.tableBodyElement),this.renderMonths(n)):this.currentDate=r}}},{key:"preRender",value:function(e){var t=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=function(e){t.triggerNavigate(e)}}},{key:"minMaxDate",value:function(e){var t=new Date(new Date(+e).setHours(0,0,0,0)),n=new Date(new Date(+this.min).setHours(0,0,0,0)),i=new Date(new Date(+this.max).setHours(0,0,0,0));return+t!=+n&&+t!=+i||(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e}},{key:"renderMonths",value:function(e,t){var n,i=this.weekNumber?8:7;n="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,e,t):this.islamicModule.islamicRenderDays(this.currentDate,t),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(n,i,"e-month",e,t):this.islamicModule.islamicRenderTemplate(n,i,"e-month",e,t)}},{key:"renderDays",value:function(e,t,n,i,a){var r,s=[],l=new Date(this.checkValue(e)),o=l.getMonth();this.titleUpdate(e,"days");var u=l;for(l=new Date(u.getFullYear(),u.getMonth(),0,u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds());l.getDay()!==this.firstDayOfWeek;)this.setStartDate(l,-864e5);for(var c=0;c<42;++c){var h=this.createElement("td",{className:"e-cell"}),d=this.createElement("span");c%7==0&&this.weekNumber&&(d.textContent=""+this.getWeek(l),h.appendChild(d),UA([h],"e-week-number"),s.push(h)),r=new Date(+l),l=this.minMaxDate(l);var p={type:"dateTime",skeleton:"full"},f=this.globalize.parseDate(this.globalize.formatDate(l,p),p),m=this.dayCell(l),g=this.globalize.formatDate(l,{type:"date",skeleton:"full"}),v=this.createElement("span");v.textContent=this.globalize.formatDate(l,{format:"d",type:"date",skeleton:"yMd"});var y=this.min>l||this.max<l;y?(UA([m],"e-disabled"),UA([m],sF)):v.setAttribute("title",""+g),o!==l.getMonth()&&UA([m],rF),0!==l.getDay()&&6!==l.getDay()||UA([m],"e-weekend"),m.appendChild(v),this.renderDayCellArgs={date:l,isDisabled:!1,element:m,isOutOfRange:y};var b=this.renderDayCellArgs;if(this.renderDayCellEvent(b),b.isDisabled){var k=new Date(this.checkValue(n)),C=new Date(this.checkValue(b.date));if(i){if(!JO(a)&&a.length>0)for(var w=0;w<a.length;w++)+new Date(this.globalize.formatDate(b.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(a[w],{type:"date",skeleton:"yMd"}))&&(a.splice(w,1),w=-1)}else k&&+k==+C&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!m.classList.contains("e-selected")&&(UA([m],"e-disabled"),UA([m],sF),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var _=m.classList.contains(rF),x=m.classList.contains("e-disabled");if(x||$I.add(m,"click",this.clickHandler,this),!i||JO(a)||x)!x&&this.getDateVal(l,n)?UA([m],"e-selected"):this.updateFocus(_,x,l,m,e);else{for(var S=0;S<a.length;S++){var E="Gregorian"===this.calendarMode?"gregorian":"islamic",O={format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:E};this.globalize.formatDate(l,O)===this.globalize.formatDate(a[S],O)&&this.getDateVal(l,a[S])||this.getDateVal(l,n)?UA([m],"e-selected"):this.updateFocus(_,x,l,m,e)}a.length<=0&&this.updateFocus(_,x,l,m,e)}f.getMonth()===(new Date).getMonth()&&f.getDate()===(new Date).getDate()&&f.getFullYear()===(new Date).getFullYear()&&UA([m],"e-today"),s.push(this.renderDayCellArgs.element),l=new Date(+r),this.addDay(l,1,null,this.max,this.min)}return s}},{key:"updateFocus",value:function(e,t,n,i,a){a.getDate()!==n.getDate()||e||t?(a>=this.max&&parseInt(i.id,0)===+this.max&&!e&&!t&&UA([i],lF),a<=this.min&&parseInt(i.id,0)===+this.min&&!e&&!t&&UA([i],lF)):UA([i],lF)}},{key:"renderYears",value:function(e,t){this.removeTableHeadElement();var n=[],i=JO(t),a=new Date(this.checkValue(this.currentDate)),r=a.getMonth(),s=a.getFullYear(),l=a,o=l.getFullYear(),u=new Date(this.checkValue(this.min)).getFullYear(),c=new Date(this.checkValue(this.min)).getMonth(),h=new Date(this.checkValue(this.max)).getFullYear(),d=new Date(this.checkValue(this.max)).getMonth();l.setMonth(0),this.titleUpdate(this.currentDate,"months"),l.setDate(1);for(var p=0;p<12;++p){var f=this.dayCell(l),m=this.createElement("span"),g=t&&t.getMonth()===l.getMonth(),v=t&&t.getFullYear()===s&&g;m.textContent=this.toCapitalize(this.globalize.formatDate(l,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(o<u||p<c&&o===u)||this.max&&(o>h||p>d&&o>=h)?UA([f],"e-disabled"):!i&&v?UA([f],"e-selected"):l.getMonth()===r&&this.currentDate.getMonth()===r&&UA([f],lF),l.setDate(1),l.setMonth(l.getMonth()+1),f.classList.contains("e-disabled")||$I.add(f,"click",this.clickHandler,this),f.appendChild(m),n.push(f)}this.renderTemplate(n,4,"e-year",e,t)}},{key:"renderDecades",value:function(e,t){this.removeTableHeadElement();var n=[],i=new Date(this.checkValue(this.currentDate));i.setMonth(0),i.setDate(1);var a=i.getFullYear(),r=new Date(i.setFullYear(a-a%10)),s=new Date(i.setFullYear(a-a%10+9)),l=r.getFullYear(),o=s.getFullYear(),u=this.globalize.formatDate(r,{format:null,type:"dateTime",skeleton:"y"}),c=this.globalize.formatDate(s,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=u+" - "+c;for(var h=new Date(a-a%10-1,0,1).getFullYear(),d=0;d<12;++d){var p=h+d;i.setFullYear(p);var f=this.dayCell(i);QA(f,{role:"gridcell"});var m=this.createElement("span");m.textContent=this.globalize.formatDate(i,{format:null,type:"dateTime",skeleton:"y"}),p<l||p>o?(UA([f],"e-other-year"),JO(t)||i.getFullYear()!==t.getFullYear()||UA([f],"e-selected"),(p<new Date(this.checkValue(this.min)).getFullYear()||p>new Date(this.checkValue(this.max)).getFullYear())&&UA([f],"e-disabled")):p<new Date(this.checkValue(this.min)).getFullYear()||p>new Date(this.checkValue(this.max)).getFullYear()?UA([f],"e-disabled"):JO(t)||i.getFullYear()!==t.getFullYear()?i.getFullYear()!==this.currentDate.getFullYear()||f.classList.contains("e-disabled")||UA([f],lF):UA([f],"e-selected"),f.classList.contains("e-disabled")||$I.add(f,"click",this.clickHandler,this),f.appendChild(m),n.push(f)}this.renderTemplate(n,4,"e-decade",e,t)}},{key:"dayCell",value:function(e){var t={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},n={className:"e-cell",attrs:{id:""+eI(""+this.globalize.parseDate(this.globalize.formatDate(e,t),t).valueOf()),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",n)}},{key:"firstDay",value:function(e){var t="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+rF):this.tableBodyElement.querySelectorAll("td:not(.e-other-year");if(t.length)for(var n=0;n<t.length;n++)if(!t[n].classList.contains("e-disabled")){e=new Date(parseInt(t[n].id,0));break}return e}},{key:"lastDay",value:function(e,t){var n=new Date(e.getFullYear(),e.getMonth()+1,0);if(2!==t){var i=Math.abs(n.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return i&&n.setHours(this.firstDay(e).getHours()+i/60),this.findLastDay(n)}return this.findLastDay(this.firstDay(n))}},{key:"checkDateValue",value:function(e){return!JO(e)&&e instanceof Date&&!isNaN(+e)?e:null}},{key:"findLastDay",value:function(e){var t="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(.e-other-year"):this.tableBodyElement.querySelectorAll("td:not(."+rF);if(t.length)for(var n=t.length-1;n>=0;n--)if(!t[n].classList.contains("e-disabled")){e=new Date(parseInt(t[n].id,0));break}return e}},{key:"removeTableHeadElement",value:function(){"calendar"===this.getModuleName()?JO(this.element.querySelectorAll(".e-content table thead")[0])||ZA(this.tableHeadElement):JO(this.calendarElement.querySelectorAll(".e-content table thead")[0])||ZA(this.tableHeadElement)}},{key:"renderTemplate",value:function(e,t,n,i,a){var r,s=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),WA([this.contentElement,this.headerElement],["e-month","e-decade","e-year"]),UA([this.contentElement,this.headerElement],[n]);for(var l=t,o=0,u=0;u<e.length/t;++u){for(r=this.createElement("tr",{attrs:{role:"row"}}),o=0+o;o<l;o++)e[o].classList.contains("e-week-number")||JO(e[o].children[0])||(UA([e[o].children[0]],["e-day"]),AD(e[o].children[0],{duration:600,isCenterRipple:!0})),r.appendChild(e[o]),this.weekNumber&&7===o&&e[7].classList.contains(rF)&&UA([r],"e-month-hide"),!this.weekNumber&&6===o&&e[6].classList.contains(rF)&&UA([r],"e-month-hide"),this.weekNumber?41===o&&e[41].classList.contains(rF)&&UA([r],"e-month-hide"):35===o&&e[35].classList.contains(rF)&&UA([r],"e-month-hide");l+=t,o+=0,this.tableBodyElement.appendChild(r)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(s!==this.getViewNumber(this.currentView())||0===s&&s!==this.getViewNumber(this.currentView()))&&this.navigateHandler(i),this.setAriaActiveDescendant()}},{key:"clickHandler",value:function(e,t){this.clickEventEmitter(e);var n=e.currentTarget,i=this.getViewNumber(this.currentView());n.classList.contains(rF)?this.contentClick(e,0,null,t):i===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(e,1,null,t):2===i?this.contentClick(e,1,null,t):n.classList.contains(rF)||0!==i?this.contentClick(e,0,n,t):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()}},{key:"clickEventEmitter",value:function(e){e.preventDefault()}},{key:"contentClick",value:function(e,t,n,i){var a=this.getViewNumber(this.currentView()),r=this.getIdValue(e,n);switch(t){case 0:a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(ZA(this.tableBodyElement),this.currentDate=r,this.effect="e-zoomin",this.renderMonths(e)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(r.getMonth()),r.getMonth()>0&&this.currentDate.getMonth()!==r.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(r.getFullYear())):this.currentDate=r,this.effect="e-zoomin",ZA(this.tableBodyElement),this.renderMonths(e));break;case 1:if(a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,r,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(r.getFullYear());else{var s=this.islamicModule.getIslamicDate(r);this.currentDate=this.islamicModule.toGregorian(s.year,s.month,1)}this.effect="e-zoomin",ZA(this.tableBodyElement),this.renderYears(e)}}}},{key:"switchView",value:function(e,t,n){switch(e){case 0:ZA(this.tableBodyElement),this.renderMonths(t),n&&!JO(this.tableBodyElement.querySelectorAll("."+lF)[0])&&this.tableBodyElement.querySelectorAll("."+lF)[0].classList.remove(lF);break;case 1:ZA(this.tableBodyElement),this.renderYears(t);break;case 2:ZA(this.tableBodyElement),this.renderDecades(t)}}},{key:"getModuleName",value:function(){return"calendar"}},{key:"requiredModules",value:function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e}},{key:"getPersistData",value:function(){return this.addOnPersist(["value"])}},{key:"onPropertyChanged",value:function(e,t,n,i){this.effect="";for(var a=0,r=Object.keys(e);a<r.length;a++){var s=r[a];switch(s){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===s?{min:this.checkDateValue(new Date(this.checkValue(e.min)))}:{max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),ZA(this.tableBodyElement),this.minMaxUpdate(),n&&this.validateValues(n,i),this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(ZA(this.todayElement),ZA(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(WA([this.todayElement],"e-disabled"),ZA(this.todayElement),ZA(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":this.checkView(),this.createContentHeader(),this.createContentBody();break;case"locale":this.globalize=new TI(this.locale),this.createContentHeader(),this.createContentBody(),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():JO(this.todayElement)||JO(this.footer)||(ZA(this.todayElement),ZA(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}}},{key:"validateValues",value:function(e,t){if(e&&!JO(t)&&t.length>0){for(var n=this.copyValues(t),i=0;i<n.length;i++){var a,r="Gregorian"===this.calendarMode?"gregorian":"islamic";a=this.globalize.formatDate(n[i],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});var s=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:r}),l=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:r});(+new Date(a)<+new Date(s)||+new Date(a)>+new Date(l))&&(n.splice(i,1),i=-1)}this.setProperties({values:n},!0)}}},{key:"setValueUpdate",value:function(){JO(this.tableBodyElement)||(ZA(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())}},{key:"copyValues",value:function(e){var t=[];if(!JO(e)&&e.length>0)for(var n=0;n<e.length;n++)t.push(new Date(+e[n]));return t}},{key:"titleUpdate",value:function(e,t){var n,i,a=new TI(this.locale),r="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(n=a.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:r}),i=a.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:r})):(n=a.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:r}),i=a.formatDate(e,{type:"dateTime",format:"y",calendar:r})),t){case"days":this.headerTitleElement.textContent=this.toCapitalize(n);break;case"months":this.headerTitleElement.textContent=i}}},{key:"setActiveDescendant",value:function(){var e,t,n=this.tableBodyElement.querySelector("tr td.e-focused-date"),i=this.tableBodyElement.querySelector("tr td.e-selected"),a="Gregorian"===this.calendarMode?"gregorian":"islamic",r=this.currentView();return t=this.globalize.formatDate(this.currentDate,"Month"===r?{type:"date",skeleton:"full",calendar:a}:"Year"===r?"islamic"!==a?{type:"date",skeleton:"yMMMM",calendar:a}:{type:"date",skeleton:"GyMMM",calendar:a}:{format:null,type:"date",skeleton:"y",calendar:a}),(i||n)&&(JO(i)||i.setAttribute("aria-selected","true"),(n||i).setAttribute("aria-label",t),e=(n||i).getAttribute("id")),e}},{key:"iconHandler",value:function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}}},{key:"destroy",value:function(){"calendar"===this.getModuleName()?WA([this.element],["e-calendar"]):this.calendarElement&&WA([this.element],["e-calendar"]),"calendar"===this.getModuleName()&&($I.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&$I.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),JO(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element.innerHTML="",_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"title",value:function(e){var t=this.getViewNumber(this.currentView());this.effect="e-zoomin",this.switchView(++t,e)}},{key:"getViewNumber",value:function(e){return"Month"===e?0:"Year"===e?1:2}},{key:"navigateTitle",value:function(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()}},{key:"previous",value:function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}}},{key:"navigatePrevious",value:function(e){e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()}},{key:"next",value:function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}}},{key:"navigateNext",value:function(e){e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()}},{key:"navigateTo",value:function(e,t){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+t>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e))}},{key:"currentView",value:function(){return this.contentElement.classList.contains("e-year")?"Year":this.contentElement.classList.contains("e-decade")?"Decade":"Month"}},{key:"getDateVal",value:function(e,t){return!JO(t)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}},{key:"getCultureObjects",value:function(e,t){var n=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),i=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return YO("Gregorian"===this.calendarMode?"main."+this.locale+n:"main."+this.locale+i,e)}},{key:"getWeek",value:function(e){var t=new Date(this.checkValue(e)).valueOf(),n=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil(((t-n)/864e5+new Date(n).getDay()+1)/7)}},{key:"setStartDate",value:function(e,t){var n=e.getTimezoneOffset(),i=new Date(e.getTime()+t),a=i.getTimezoneOffset()-n;e.setTime(i.getTime()+6e4*a)}},{key:"addMonths",value:function(e,t){if("Gregorian"===this.calendarMode){var n=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(n,this.getMaxDays(e)))}else{var i=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(i.year,i.month+t,1)}}},{key:"addYears",value:function(e,t){if("Gregorian"===this.calendarMode){var n=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(n,this.getMaxDays(e)))}else{var i=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(i.year+t,i.month,1)}}},{key:"getIdValue",value:function(e,t){var n;n=e?e.currentTarget:t;var i={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},a=this.globalize.formatDate(new Date(parseInt(""+n.getAttribute("id"),0)),i),r=this.globalize.parseDate(a,i),s=r.valueOf()-r.valueOf()%1e3;return new Date(s)}},{key:"adjustLongHeaderSize",value:function(){WA([this.element],"e-calendar-day-header-lg"),"Wide"===this.dayHeaderFormat&&UA(["calendar"===this.getModuleName()?this.element:this.calendarElement],"e-calendar-day-header-lg")}},{key:"selectDate",value:function(e,t,n,i,a){var r=n||e.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,t.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,t);else{if(i&&!this.checkPresentDate(t,a)){var s=this.copyValues(a);!JO(a)&&s.length>0?(s.push(new Date(this.checkValue(t))),this.setProperties({values:s},!0),this.setProperties({value:a[a.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(t))]},!0)}else this.setProperties({value:new Date(this.checkValue(t))},!0);this.currentDate=new Date(this.checkValue(t))}var l=nD(r,".e-calendar");if(JO(l)&&(l=this.tableBodyElement),i||JO(l.querySelector(".e-selected"))||WA([l.querySelector(".e-selected")],"e-selected"),i||JO(l.querySelector("."+lF))||WA([l.querySelector("."+lF)],lF),i){for(var o=this.copyValues(a),u=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),c=0;c<u.length;c++){var h=l.querySelectorAll("td."+lF)[0],d=l.querySelectorAll("td.e-selected")[0];u[c]===h&&WA([u[c]],lF),u[c]!==d||this.checkPresentDate(new Date(parseInt(d.getAttribute("id").split("_")[0],10)),a)||WA([u[c]],"e-selected")}if(r.classList.contains("e-selected")){WA([r],"e-selected");for(var p=0;p<o.length;p++){var f="Gregorian"===this.calendarMode?"gregorian":"islamic",m={format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:f};if(this.globalize.formatDate(t,m)===this.globalize.formatDate(o[p],m)){var g=o.indexOf(o[p]);o.splice(g,1),UA([r],lF)}}this.setProperties({values:o},!0)}else UA([r],"e-selected")}else UA([r],"e-selected");this.isDateSelected=!0}},{key:"getFromatStringValue",value:function(){return null}},{key:"checkPresentDate",value:function(e,t){var n=!1;if(!JO(t))for(var i=0;i<t.length;i++){var a="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:a})===this.globalize.formatDate(t[i],{format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:a})&&(n=!0)}return n}},{key:"setAriaActiveDescendant",value:function(){QA(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})}},{key:"previousIconHandler",value:function(e){e?($I.remove(this.previousIcon,"click",this.navigatePreviousHandler),UA([this.previousIcon],"e-disabled"),UA([this.previousIcon],""+sF),this.previousIcon.setAttribute("aria-disabled","true")):($I.add(this.previousIcon,"click",this.navigatePreviousHandler),WA([this.previousIcon],"e-disabled"),WA([this.previousIcon],""+sF),this.previousIcon.setAttribute("aria-disabled","false"))}},{key:"renderDayCellEvent",value:function(e){ZO(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)}},{key:"navigatedEvent",value:function(e){ZO(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)}},{key:"triggerNavigate",value:function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)}},{key:"nextIconHandler",value:function(e){e?($I.remove(this.nextIcon,"click",this.navigateNextHandler),UA([this.nextIcon],"e-disabled"),UA([this.nextIcon],sF),this.nextIcon.setAttribute("aria-disabled","true")):($I.add(this.nextIcon,"click",this.navigateNextHandler),WA([this.nextIcon],"e-disabled"),WA([this.nextIcon],sF),this.nextIcon.setAttribute("aria-disabled","false"))}},{key:"compare",value:function(e,t,n){var i,a,r=t.getFullYear();return i=r,a=0,n&&(i=(r-=r%n)-r%n+n-1),e.getFullYear()>i?a=1:e.getFullYear()<r&&(a=-1),a}},{key:"isMinMaxRange",value:function(e){return+e>=+this.min&&+e<=+this.max}},{key:"isMonthYearRange",value:function(e){if("Gregorian"===this.calendarMode)return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();var t=this.islamicModule.getIslamicDate(e);return t.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&t.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&t.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&t.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year}},{key:"compareYear",value:function(e,t){return this.compare(e,t,0)}},{key:"compareDecade",value:function(e,t){return this.compare(e,t,10)}},{key:"shiftArray",value:function(e,t){return e.slice(t).concat(e.slice(0,t))}},{key:"addDay",value:function(e,t,n,i,a){var r=t,s=new Date(+e);if(!JO(this.tableBodyElement)&&!JO(n)){for(;this.findNextTD(new Date(+e),r,i,a);)r+=t;var l=new Date(s.setDate(s.getDate()+r));r=+l>+i||+l<+a?r===t?t-t:t:r}e.setDate(e.getDate()+r)}},{key:"findNextTD",value:function(e,t,n,i){var a=new Date(e.setDate(e.getDate()+t)),r=[],s=!1;if(r=(!JO(a)&&a.getMonth())===(!JO(this.currentDate)&&this.currentDate.getMonth())?("Gregorian"===this.calendarMode?this.renderDays(a,null):this.islamicModule.islamicRenderDays(this.currentDate,a)).filter((function(e){return e.classList.contains("e-disabled")})):this.tableBodyElement.querySelectorAll("td.e-disabled"),+a<=+n&&+a>=+i&&r.length)for(var l=0;l<r.length&&!(s=+a==+new Date(parseInt(r[l].id,0)));l++);return s}},{key:"getMaxDays",value:function(e){var t,n,i=new Date(this.checkValue(e));for(t=28,n=i.getMonth();i.getMonth()===n;)++t,i.setDate(t);return t-1}},{key:"setDateDecade",value:function(e,t){e.setFullYear(t),this.setProperties({value:new Date(this.checkValue(e))},!0)}},{key:"setDateYear",value:function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(t))),this.setProperties({value:new Date(this.checkValue(e))},!0)}},{key:"compareMonth",value:function(e,t){return e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1}},{key:"checkValue",value:function(e){return e instanceof Date?e.toUTCString():""+e}},{key:"checkView",value:function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)}}]),n}(zD),aF([bD(new Date(1900,0,1))],eF.prototype,"min",void 0),aF([bD(new Date(2099,11,31))],eF.prototype,"max",void 0),aF([bD(null)],eF.prototype,"firstDayOfWeek",void 0),aF([bD("Gregorian")],eF.prototype,"calendarMode",void 0),aF([bD("Month")],eF.prototype,"start",void 0),aF([bD("Month")],eF.prototype,"depth",void 0),aF([bD(!1)],eF.prototype,"weekNumber",void 0),aF([bD(!0)],eF.prototype,"showTodayButton",void 0),aF([bD("Short")],eF.prototype,"dayHeaderFormat",void 0),aF([bD(!1)],eF.prototype,"enablePersistence",void 0),aF([bD(null)],eF.prototype,"keyConfigs",void 0),aF([bD(null)],eF.prototype,"serverTimezoneOffset",void 0),aF([wD()],eF.prototype,"created",void 0),aF([wD()],eF.prototype,"destroyed",void 0),aF([wD()],eF.prototype,"navigated",void 0),aF([wD()],eF.prototype,"renderDayCell",void 0),eF=aF([_D],eF)),uF=(QR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"render",value:function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&iI("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!JO(this.values)&&this.values.length>0){for(var e=[],t=[],i=0;i<this.values.length;i++)-1===e.indexOf(+this.values[i])&&(e.push(+this.values[i]),t.push(this.values[i]));this.setProperties({values:t},!0);for(var a=0;a<this.values.length;a++)if(!this.checkDateValue(this.values[a]))if("string"==typeof this.values[a]&&this.checkDateValue(new Date(this.checkValue(this.values[a])))){var r=new Date(this.checkValue(this.values[a]));this.values.splice(a,1),this.values.splice(a,0,r)}else this.values.splice(a,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),_get(_getPrototypeOf(n.prototype),"render",this).call(this),"calendar"===this.getModuleName()){var s=nD(this.element,"form");s&&$I.add(s,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()}},{key:"isDayLightSaving",value:function(){var e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(t,e)}},{key:"setTimeZone",value:function(e){if(!JO(this.serverTimezoneOffset)&&this.value){var t=e+(new Date).getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3)}}},{key:"formResetHandler",value:function(){this.setProperties({value:null},!0)}},{key:"validateDate",value:function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),_get(_getPrototypeOf(n.prototype),"validateDate",this).call(this,this.value),!JO(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)}},{key:"minMaxUpdate",value:function(){"calendar"===this.getModuleName()&&(!JO(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!JO(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||JO(this.value)?_get(_getPrototypeOf(n.prototype),"minMaxUpdate",this).call(this,this.value):!JO(this.value)&&this.value<this.min&&this.min<=this.max?_get(_getPrototypeOf(n.prototype),"minMaxUpdate",this).call(this,this.min):!JO(this.value)&&this.value>this.max&&this.min<=this.max&&_get(_getPrototypeOf(n.prototype),"minMaxUpdate",this).call(this,this.max)}},{key:"generateTodayVal",value:function(e){var t=new Date;return e?(t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t.setSeconds(e.getSeconds()),t.setMilliseconds(e.getMilliseconds())):t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),t}},{key:"todayButtonClick",value:function(){if(this.showTodayButton){var e=this.generateTodayVal(this.value);if(this.setProperties({value:e},!0),this.isMultiSelection){var t=this.copyValues(this.values);_get(_getPrototypeOf(n.prototype),"checkPresentDate",this).call(this,e,this.values)||(t.push(e),this.setProperties({values:t}))}_get(_getPrototypeOf(n.prototype),"todayButtonClick",this).call(this,new Date(+this.value))}}},{key:"keyActionHandle",value:function(e){_get(_getPrototypeOf(n.prototype),"keyActionHandle",this).call(this,e,this.value,this.isMultiSelection)}},{key:"preRender",value:function(){var e=this;this.changeHandler=function(t){e.triggerChange(t)},this.checkView(),_get(_getPrototypeOf(n.prototype),"preRender",this).call(this,this.value)}},{key:"createContent",value:function(){this.previousDate=this.value,this.previousDateTime=this.value,_get(_getPrototypeOf(n.prototype),"createContent",this).call(this)}},{key:"minMaxDate",value:function(e){return _get(_getPrototypeOf(n.prototype),"minMaxDate",this).call(this,e)}},{key:"renderMonths",value:function(e){_get(_getPrototypeOf(n.prototype),"renderMonths",this).call(this,e,this.value)}},{key:"renderDays",value:function(e,t){var i=_get(_getPrototypeOf(n.prototype),"renderDays",this).call(this,e,t,this.value,this.isMultiSelection,this.values);return this.isMultiSelection&&_get(_getPrototypeOf(n.prototype),"validateValues",this).call(this,this.isMultiSelection,this.values),i}},{key:"renderYears",value:function(e){"Gregorian"===this.calendarMode?_get(_getPrototypeOf(n.prototype),"renderYears",this).call(this,e,this.value):this.islamicModule.islamicRenderYears(e,this.value)}},{key:"renderDecades",value:function(e){"Gregorian"===this.calendarMode?_get(_getPrototypeOf(n.prototype),"renderDecades",this).call(this,e,this.value):this.islamicModule.islamicRenderDecade(e,this.value)}},{key:"renderTemplate",value:function(e,t,i,a){"Gregorian"===this.calendarMode?_get(_getPrototypeOf(n.prototype),"renderTemplate",this).call(this,e,t,i,a,this.value):this.islamicModule.islamicRenderTemplate(e,t,i,a,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},{key:"clickHandler",value:function(e){var t=e.currentTarget;if(this.isPopupClicked=!0,t.classList.contains(rF))if(this.isMultiSelection){var i=this.copyValues(this.values);i.push(this.getIdValue(e,null)),this.setProperties({values:i},!0),this.setProperties({value:this.values[this.values.length-1]},!0)}else this.setProperties({value:this.getIdValue(e,null)},!0);var a=this.currentView();_get(_getPrototypeOf(n.prototype),"clickHandler",this).call(this,e,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!JO(this.tableBodyElement.querySelectorAll("."+lF)[0])&&"Year"===a&&this.tableBodyElement.querySelectorAll("."+lF)[0].classList.remove(lF)}},{key:"switchView",value:function(e,t){_get(_getPrototypeOf(n.prototype),"switchView",this).call(this,e,t,this.isMultiSelection)}},{key:"getModuleName",value:function(){return _get(_getPrototypeOf(n.prototype),"getModuleName",this).call(this),"calendar"}},{key:"getPersistData",value:function(){return _get(_getPrototypeOf(n.prototype),"getPersistData",this).call(this),this.addOnPersist(["value","values"])}},{key:"onPropertyChanged",value:function(e,t){this.effect="",this.rangeValidation(this.min,this.max);for(var i=0,a=Object.keys(e);i<a.length;i++)switch(a[i]){case"value":this.isDateSelected&&("string"==typeof e.value?this.setProperties({value:new Date(this.checkValue(e.value))},!0):e.value=new Date(this.checkValue(e.value)),isNaN(+this.value)&&this.setProperties({value:t.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof e.values||"number"==typeof e.values)this.setProperties({values:null},!0);else{for(var r=this.copyValues(this.values),s=0;s<r.length;s++){var l=r[s];this.checkDateValue(l)&&!_get(_getPrototypeOf(n.prototype),"checkPresentDate",this).call(this,l,r)&&r.push(l)}this.setProperties({values:r},!0),this.values.length>0&&this.setProperties({value:e.values[e.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:e.isMultiSelection},!0),this.update());break;default:_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,e,t,this.isMultiSelection,this.values)}}},{key:"destroy",value:function(){if(_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),"calendar"===this.getModuleName()){var e=nD(this.element,"form");e&&$I.remove(e,"reset",this.formResetHandler.bind(this))}}},{key:"navigateTo",value:function(e,t){this.minMaxUpdate(),_get(_getPrototypeOf(n.prototype),"navigateTo",this).call(this,e,t)}},{key:"currentView",value:function(){return _get(_getPrototypeOf(n.prototype),"currentView",this).call(this)}},{key:"addDate",value:function(e){if("string"!=typeof e&&"number"!=typeof e){var t=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var i=e,a=0;a<i.length;a++)this.checkDateValue(i[a])&&!_get(_getPrototypeOf(n.prototype),"checkPresentDate",this).call(this,i[a],t)&&(!JO(t)&&t.length>0?t.push(i[a]):t=[new Date(+i[a])]);else this.checkDateValue(e)&&!_get(_getPrototypeOf(n.prototype),"checkPresentDate",this).call(this,e,t)&&(!JO(t)&&t.length>0?t.push(e):t=[new Date(+e)]);this.setProperties({values:t},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,t),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}},{key:"removeDate",value:function(e){if("string"!=typeof e&&"number"!=typeof e&&!JO(this.values)&&this.values.length>0){var t=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var n=e,i=0;i<n.length;i++)for(var a=0;a<t.length;a++)+t[a]==+n[i]&&t.splice(a,1);else for(var r=0;r<t.length;r++)+t[r]==+e&&t.splice(r,1);this.setProperties({values:t},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}},{key:"update",value:function(){this.validateDate(),this.minMaxUpdate(),_get(_getPrototypeOf(n.prototype),"setValueUpdate",this).call(this)}},{key:"selectDate",value:function(e,t,i){_get(_getPrototypeOf(n.prototype),"selectDate",this).call(this,e,t,i,this.isMultiSelection,this.values),this.isMultiSelection&&!JO(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(e)}},{key:"changeEvent",value:function(e){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))}},{key:"triggerChange",value:function(e){this.changedArgs.event=e||null,this.changedArgs.isInteracted=!JO(e),JO(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate&&(null!=this.previousDate||isNaN(+this.value))?JO(this.values)||this.previousValues===this.values.length||(this.changeEvent(e),this.previousValues=this.values.length):this.changeEvent(e)}}]),n}(oF),aF([bD(null)],QR.prototype,"value",void 0),aF([bD(null)],QR.prototype,"values",void 0),aF([bD(!1)],QR.prototype,"isMultiSelection",void 0),aF([wD()],QR.prototype,"change",void 0),QR=aF([_D],QR)),cF=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hF=["title","class","style"],dF=(tF=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).previousElementValue="",a.isDateIconClicked=!1,a.isAltKeyPressed=!1,a.isInteracted=!0,a.isBlazorServer=!1,a.invalidValueString=null,a.checkPreviousValue=null,a.datepickerOptions=e,a}return _createClass(n,[{key:"render",value:function(){this.initialize(),this.bindEvents(),this.renderComplete(),this.isBlazorServer||this.setTimeZone(this.serverTimezoneOffset)}},{key:"setTimeZone",value:function(e){if(!JO(this.serverTimezoneOffset)&&this.value){var t=e+(new Date).getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3),this.updateInput()}}},{key:"isDayLightSaving",value:function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)}},{key:"setAllowEdit",value:function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):QA(this.inputElement,{readonly:""}),this.updateIconState()}},{key:"updateIconState",value:function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&WA([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?WA([this.inputWrapper.container],["e-non-edit"]):UA([this.inputWrapper.container],["e-non-edit"])}},{key:"initialize",value:function(){if(this.isBlazorServer){var e=this.element.parentElement;this.inputWrapper={container:e,clearButton:e.querySelector(".e-clear-icon"),buttons:[e.querySelector(".e-date-icon")]},pL.bindInitialEvent({element:this.inputElement,floatLabelType:this.floatLabelType}),this.showClearButton&&this.inputWrapper.clearButton&&pL.wireClearBtnEvents(this.inputElement,this.inputWrapper.clearButton,this.inputWrapper.container),this.setAllowEdit()}else this.checkInvalidValue(this.value),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),this.updateInput();this.previousElementValue=this.inputElement.value,this.previousDate=JO(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value}},{key:"createInput",value:function(){var e={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};if("datepicker"===this.getModuleName()){var t={placeholder:this.placeholder};this.globalize=new TI(this.locale),this.l10n=new tM("datepicker",t,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}var n=this.cssClass;JO(this.cssClass)||""===this.cssClass||(n=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=pL.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:n,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),this.inputElement.setAttribute("name",""!==this.inputElement.name?""+this.inputElement.getAttribute("name"):""+this.element.id),QA(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),pL.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),UA([this.inputWrapper.container],"e-date-wrapper")}},{key:"updateInput",value:function(){var e;if(this.value&&!this.isCalendar()&&(this.isBlazorServer||this.disabledDates()),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(_get(_getPrototypeOf(n.prototype),"validateDate",this).call(this),this.minMaxUpdates(),_get(_getPrototypeOf(n.prototype),"minMaxUpdate",this).call(this)),!JO(this.value)){var t,i=this.value,a=JO(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?t=this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:a,type:"dateTime",skeleton:"yMd"}:{format:a,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(e="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.value,e)),+i<=+this.max&&+i>=+this.min)this.updateInputValue(t);else{var r=+i>=+this.max||!+this.value||!+this.value||+i<=+this.min;!this.strictMode&&r&&this.updateInputValue(t)}}JO(this.value)&&this.strictMode&&this.updateInputValue(""),!this.strictMode&&JO(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()}},{key:"minMaxUpdates",value:function(){!JO(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!JO(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})}},{key:"checkStringValue",value:function(e){var t=null,n=null,i=null;if("datetimepicker"===this.getModuleName()){var a=new TI(this.locale);"Gregorian"===this.calendarMode?(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},i={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return JO(t=this.checkDateValue(this.globalize.parseDate(e,n)))&&"datetimepicker"===this.getModuleName()&&(t=this.checkDateValue(this.globalize.parseDate(e,i))),t}},{key:"checkInvalidValue",value:function(e){if(!(e instanceof Date||JO(e))){var t=null,n=e;if("number"==typeof e&&(n=e.toString()),"datetimepicker"===this.getModuleName()){var i=new TI(this.locale);this.calendarMode,this.dateTimeFormat,i.getDatePattern({skeleton:"yMd"})}else this.calendarMode,this.formatString;var a=!1;if("string"!=typeof n)n=null,a=!0;else if("string"==typeof n&&(n=n.trim()),!(t=this.checkStringValue(n))){var r=null;r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(n)&&!r.test(n)||/^[a-zA-Z0-9- ]*$/.test(n)||isNaN(+new Date(this.checkValue(n)))?a=!0:t=new Date(n)}a?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0)):this.setProperties({value:t},!0)}}},{key:"bindInputEvent",value:function(){JO(this.formatString)||(-1===this.formatString.indexOf("y")?$I.add(this.inputElement,"input",this.inputHandler,this):$I.remove(this.inputElement,"input",this.inputHandler))}},{key:"bindEvents",value:function(){this.enabled?($I.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.isBlazorServer?this.preventEventBubbling:this.dateIconHandler,this),$I.add(this.inputElement,"focus",this.inputFocusHandler,this),$I.add(this.inputElement,"blur",this.inputBlurHandler,this),this.bindInputEvent(),$I.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&(this.inputWrapper.clearButton||this.isBlazorServer)&&$I.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&$I.add(this.formElement,"reset",this.resetFormHandler,this)):($I.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.isBlazorServer?this.preventEventBubbling:this.dateIconHandler),$I.remove(this.inputElement,"focus",this.inputFocusHandler),$I.remove(this.inputElement,"blur",this.inputBlurHandler),$I.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&(this.inputWrapper.clearButton||this.isBlazorServer)&&$I.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&$I.remove(this.formElement,"reset",this.resetFormHandler)),this.defaultKeyConfigs=ZO(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new eM(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}},{key:"resetFormHandler",value:function(){if(!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.isBlazorServer||(this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass()))}}},{key:"restoreValue",value:function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=JO(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})}},{key:"inputChangeHandler",value:function(e){e.stopPropagation()}},{key:"bindClearEvent",value:function(){this.showClearButton&&this.inputWrapper.clearButton&&$I.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}},{key:"resetHandler",value:function(e){e.preventDefault(),this.clear(e)}},{key:"clear",value:function(e){this.isBlazorServer||this.setProperties({value:null},!0),this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.isBlazorServer||(this.updateInput(),this.popupUpdate(),this.changeEvent(e)),this.isBlazorServer&&this.interopAdaptor.invokeMethodAsync("OnValueCleared")}},{key:"preventEventBubbling",value:function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")}},{key:"updateInputValue",value:function(e){pL.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}},{key:"dateIconHandler",value:function(e){KI.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),this.isBlazorServer||e.preventDefault(),this.readonly||(this.isCalendar()&&!this.isBlazorServer?this.hide(e):(!this.isBlazorServer||this.isBlazorServer&&this.inputWrapper.container.nextElementSibling)&&(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),UA([this.inputWrapper.container],["e-input-focus"]),UA(this.inputWrapper.buttons,"e-active")))}},{key:"updateHtmlAttributeToWrapper",value:function(){if(!JO(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];if(!JO(this.htmlAttributes[n])&&hF.indexOf(n)>-1)if("class"===n){var i=this.htmlAttributes[n].replace(/\s+/g," ").trim();""!==i&&UA([this.inputWrapper.container],i.split(" "))}else if("style"===n){var a=this.inputWrapper.container.getAttribute(n);JO(a)?a=this.htmlAttributes[n]:";"===a.charAt(a.length-1)?a+=this.htmlAttributes[n]:a=a+";"+this.htmlAttributes[n],this.inputWrapper.container.setAttribute(n,a)}else this.inputWrapper.container.setAttribute(n,this.htmlAttributes[n])}}},{key:"updateHtmlAttributeToElement",value:function(){if(!JO(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];hF.indexOf(n)<0&&this.inputElement.setAttribute(n,this.htmlAttributes[n])}}},{key:"updateCssClass",value:function(e,t){JO(t)||(t=t.replace(/\s+/g," ").trim()),JO(e)||(e=e.replace(/\s+/g," ").trim()),pL.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&pL.setCssClass(e,[this.popupWrapper],t)}},{key:"CalendarKeyActionHandle",value:function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}}},{key:"inputFocusHandler",value:function(){var e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState()}},{key:"inputHandler",value:function(e){this.isPopupClicked=!1}},{key:"inputBlurHandler",value:function(e){this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),""===this.inputElement.value&&JO(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=ZO(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new eM(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1}},{key:"documentHandler",value:function(e){!JO(this.popupObj)&&(this.inputWrapper.container.contains(e.target)||this.popupObj.element&&this.popupObj.element.contains(e.target))&&"touchstart"!==e.type&&e.preventDefault();var t=e.target;nD(t,".e-datepicker.e-popup-wrapper")||nD(t,".e-input-group")===this.inputWrapper.container||t.classList.contains("e-day")?nD(t,".e-datepicker.e-popup-wrapper")&&(t.classList.contains("e-day")&&!JO(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&nD(t,".e-content")&&nD(t,".e-content").classList.contains("e-"+this.depth.toLowerCase())?this.hide(e):nD(t,".e-footer-container")&&t.classList.contains("e-today")&&t.classList.contains("e-btn")&&+new Date(+this.value)==+_get(_getPrototypeOf(n.prototype),"generateTodayVal",this).call(this,this.value)&&!this.isBlazorServer&&this.hide(e)):(this.hide(e),this.focusOut())}},{key:"inputKeyActionHandle",value:function(e){var t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e)),"datepicker"===this.getModuleName()&&(this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnPopupHide",!0):this.show(null,e));break;case"escape":this.hide(e);break;case"enter":this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}}},{key:"defaultAction",value:function(e){this.previousDate=!JO(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(_get(_getPrototypeOf(n.prototype),"keyActionHandle",this).call(this,e),this.isBlazorServer||QA(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))}},{key:"popupUpdate",value:function(){if((JO(this.value)&&!JO(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll(".e-selected").length>0&&WA(this.popupObj.element.querySelectorAll(".e-selected"),["e-selected"]),!JO(this.value)&&!this.isBlazorServer&&+this.value>=+this.min&&+this.value<=+this.max)){var e=new Date(this.checkValue(this.value));_get(_getPrototypeOf(n.prototype),"navigateTo",this).call(this,"Month",e)}}},{key:"strictModeUpdate",value:function(){var e,t,n,i;e="datetimepicker"===this.getModuleName()?JO(this.formatString)?this.dateTimeFormat:this.formatString:JO(this.formatString)?this.formatString:this.formatString.replace("dd","d"),JO(e)||e.split("M").length-1<3&&(e=e.replace("MM","M")),n="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:JO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:JO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,n))?i=this.globalize.parseDate(this.inputElement.value,n):(t="Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.globalize.parseDate(this.inputElement.value,t)):(i=this.globalize.parseDate(this.inputElement.value,n),!JO(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&i.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&i&&i.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&i?(this.updateInputValue(this.globalize.formatDate(i,n)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0),this.strictMode&&!i&&""===this.inputElement.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),JO(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))}},{key:"createCalendar",value:function(){var e=this;this.isBlazorServer?(this.popupWrapper=this.inputWrapper.container.nextElementSibling,this.calendarElement=this.popupWrapper.firstElementChild,this.tableBodyElement=eD("tbody",this.calendarElement),this.contentElement=eD(".e-content",this.calendarElement)):(this.popupWrapper=this.createElement("div",{className:"e-datepicker e-popup-wrapper"}),JO(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass)),KI.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className="e-datepicker e-date-modal",document.body.className+=" e-date-overflow",this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new YT(this.popupWrapper,{content:this.isBlazorServer?null:this.calendarElement,relateTo:KI.isDevice?document.body:this.inputWrapper.container,position:KI.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:KI.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:function(){"datetimepicker"!==e.getModuleName()&&document.activeElement!==e.inputElement&&(e.defaultKeyConfigs=ZO(e.defaultKeyConfigs,e.keyConfigs),e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new eM(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.CalendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}),e.calendarKeyboardModules=new eM(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.CalendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}))},close:function(){e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&!e.isBlazorServer&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),ZA(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.setAriaAttributes()},targetExitViewport:function(){KI.isDevice||e.hide()}}),this.isBlazorServer||(this.popupObj.element.className+=" "+this.cssClass),this.setAriaAttributes()}},{key:"setAriaDisabled",value:function(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)}},{key:"modelHeader",value:function(){var e,t=this.createElement("div",{className:"e-model-header"}),n=this.createElement("h1",{className:"e-model-year"}),i=this.createElement("div"),a=this.createElement("span",{className:"e-model-day"}),r=this.createElement("span",{className:"e-model-month"});e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},a.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},r.textContent=""+this.globalize.formatDate(this.value||new Date,e),t.appendChild(n),i.appendChild(a),i.appendChild(r),t.appendChild(i),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)}},{key:"changeTrigger",value:function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!JO(e),this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0)}},{key:"navigatedEvent",value:function(){this.trigger("navigated",this.navigatedArgs)}},{key:"changeEvent",value:function(e){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(e),this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass())}},{key:"requiredModules",value:function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e}},{key:"selectCalendar",value:function(e){var t,n,i;n="datetimepicker"===this.getModuleName()&&JO(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&("datetimepicker"===this.getModuleName()?(i="Gregorian"===this.calendarMode?{format:n,type:"dateTime",skeleton:"yMd"}:{format:n,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,i)):(i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,i))),JO(t)||this.updateInputValue(t)}},{key:"isCalendar",value:function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-popup-wrapper"))}},{key:"setWidth",value:function(e){this.inputWrapper.container.style.width="number"==typeof e?aI(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:aI(this.width):"100%"}},{key:"show",value:function(e,t){var i=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var a,r=!0;JO(this.value)||+this.value>=+this.min&&+this.value<=+this.max?a=this.value||null:(a=new Date(this.checkValue(this.value)),this.isBlazorServer||this.setProperties({value:null},!0)),this.isCalendar()||(this.isBlazorServer||(_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.setProperties({value:a||null},!0)),this.previousDate=a,this.createCalendar()),KI.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){r=!1},popup:this.popupObj,event:t||null,cancel:!1,appendTo:KI.isDevice?this.mobilePopupWrapper:document.body},this.trigger("open",this.preventArgs,(function(e){i.preventArgs=e,r&&!i.preventArgs.cancel?(i.isBlazorServer&&(i.popupWrapper.style.visibility="",i.popupWrapper.style.width="auto",i.popupWrapper.style.height="auto"),UA(i.inputWrapper.buttons,"e-active"),i.preventArgs.appendTo.appendChild(i.popupWrapper),i.popupObj.refreshPosition(i.inputElement),i.popupObj.show(new ID({name:"FadeIn",duration:KI.isDevice?0:300}),1e3===i.zIndex?i.element:null),i.isBlazorServer||_get(_getPrototypeOf(n.prototype),"setOverlayIndex",i).call(i,i.mobilePopupWrapper,i.popupObj.element,i.modal,KI.isDevice),i.setAriaAttributes()):(i.popupObj.destroy(),i.isBlazorServer&&i.interopAdaptor.invokeMethodAsync("OnPopupHide",!1),i.popupWrapper=i.popupObj=null),JO(i.inputElement)||""!==i.inputElement.value||!JO(i.tableBodyElement)&&i.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(UA([i.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),WA(i.tableBodyElement.querySelectorAll("td.e-selected"),"e-selected")),$I.add(document,"mousedown touchstart",i.documentHandler,i)}))}}},{key:"hide",value:function(e){var t=this;if(JO(this.popupWrapper))KI.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{var n=!0;this.preventArgs={preventDefault:function(){n=!1},popup:this.popupObj,event:e||null,cancel:!1},WA(this.inputWrapper.buttons,"e-active"),WA([document.body],"e-date-overflow");var i=this.preventArgs;this.isCalendar()?this.trigger("close",i,(function(e){t.closeEventCallback(n,e)})):this.closeEventCallback(n,i)}}},{key:"closeEventCallback",value:function(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.isBlazorServer?(this.interopAdaptor.invokeMethodAsync("OnPopupHide",!1),this.isAltKeyPressed=!1,this.popupWrapper=this.popupObj=null):(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy()),WA(this.inputWrapper.buttons,"e-active")),this.setAriaAttributes(),KI.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),KI.isDevice&&(JO(this.mobilePopupWrapper)||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),$I.remove(document,"mousedown touchstart",this.documentHandler),KI.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}},{key:"focusIn",value:function(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),UA([this.inputWrapper.container],["e-input-focus"]))}},{key:"focusOut",value:function(){document.activeElement===this.inputElement&&(WA([this.inputWrapper.container],["e-input-focus"]),this.inputElement.blur())}},{key:"currentView",value:function(){var e;return this.calendarElement&&(e=_get(_getPrototypeOf(n.prototype),"currentView",this).call(this)),e}},{key:"navigateTo",value:function(e,t){this.calendarElement&&_get(_getPrototypeOf(n.prototype),"navigateTo",this).call(this,e,t)}},{key:"destroy",value:function(){this.isBlazorServer||(_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)),this.inputElement&&(pL.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},this.inputElement),JO(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),$I.remove(this.inputElement,"blur",this.inputBlurHandler),$I.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&ZA(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.isBlazorServer||this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),WA([this.inputElement],["e-input"])),WA([this.element],["e-datepicker"]),ZA(this.inputWrapper.container)),this.formElement&&$I.remove(this.formElement,"reset",this.resetFormHandler)}},{key:"ensureInputAttribute",value:function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(var n=0;n<e.length;n++)JO(this.inputElementCopy.getAttribute(e[n]))?("value"===e[n].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[n])):("value"===e[n].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[n])),this.inputElement.setAttribute(e[n],this.inputElementCopy.getAttribute(e[n])))}},{key:"preRender",value:function(){this.inputElementCopy=this.element.cloneNode(!0),WA([this.inputElementCopy],["e-datepicker","e-control","e-lib"]),this.inputElement=this.element,this.formElement=nD(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.isBlazorServer=!1,this.isBlazorServer||(this.ngTag=null,"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=eI("ej2-datetimepicker"),null!==this.ngTag&&QA(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=eI("ej2-datepicker"),null!==this.ngTag&&QA(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement()),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.isBlazorServer||(this.element.removeAttribute("tabindex"),_get(_getPrototypeOf(n.prototype),"preRender",this).call(this))}},{key:"getDefaultKeyConfig",value:function(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs}},{key:"validationAttribute",value:function(e,t){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",n),e.removeAttribute("name");for(var i=["required","aria-required","form"],a=0;a<i.length;a++)if(!JO(e.getAttribute(i[a]))){var r=e.getAttribute(i[a]);t.setAttribute(i[a],r),e.removeAttribute(i[a])}}},{key:"checkFormat",value:function(){var e=new TI(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||JO(this.format.skeleton))this.formatString="datetimepicker"===this.getModuleName()?this.dateTimeFormat:null;else{var t=this.format.skeleton;this.formatString="datetimepicker"===this.getModuleName()?e.getDatePattern({skeleton:t,type:"dateTime"}):e.getDatePattern({skeleton:t,type:"date"})}else this.formatString=null}},{key:"checkHtmlAttributes",value:function(e){this.globalize=new TI(this.locale),this.checkFormat(),this.checkView();var t,n=e?JO(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];t="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:JO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:JO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};var i,a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(!JO(this.inputElement.getAttribute(r)))switch(r){case"disabled":if((JO(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e)&&!this.isBlazorServer){var s="disabled"!==this.inputElement.getAttribute(r)&&""!==this.inputElement.getAttribute(r)&&"true"!==this.inputElement.getAttribute(r);this.setProperties({enabled:s},!e)}break;case"readonly":if((JO(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e)&&!this.isBlazorServer){var l="readonly"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r)||"true"===this.inputElement.getAttribute(r);this.setProperties({readonly:l},!e)}break;case"placeholder":!JO(this.datepickerOptions)&&void 0!==this.datepickerOptions.placeholder&&!e||this.isBlazorServer||(this.inputElement.getAttribute(r),this.setProperties({placeholder:this.inputElement.getAttribute(r)},!e));break;case"style":this.isBlazorServer||this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(r));break;case"name":this.isBlazorServer||this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(r));break;case"value":if((JO(this.datepickerOptions)||void 0===this.datepickerOptions.value||e)&&!this.isBlazorServer){var o=this.inputElement.getAttribute(r);this.setProperties(GO(r,this.globalize.parseDate(o,t),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){var u=this.inputElement.getAttribute(r);this.setProperties(GO(r,this.globalize.parseDate(u),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){var c=this.inputElement.getAttribute(r);this.setProperties(GO(r,this.globalize.parseDate(c),{}),!e)}break;case"type":"text"===this.inputElement.getAttribute(r)||this.isBlazorServer||this.inputElement.setAttribute("type","text")}}}catch(h){a.e(h)}finally{a.f()}}},{key:"getModuleName",value:function(){return"datepicker"}},{key:"disabledDates",value:function(){var e,t;e=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value));var i=this.previousDate;this.minMaxUpdates(),this.isBlazorServer||_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.previousDate=i;var a,r='*[id^="/id"]'.replace("/id",""+(e&&+e));this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+e)&&this.setProperties({value:e},!0),JO(this.calendarElement.querySelectorAll(r)[0])||this.calendarElement.querySelectorAll(r)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),"datetimepicker"===this.getModuleName()?a=this.globalize.formatDate(e,"Gregorian"===this.calendarMode?{format:JO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:JO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(t="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},a=this.globalize.formatDate(e,t)),this.popupObj||this.updateInputValue(a)}},{key:"setAriaAttributes",value:function(){if(this.isBlazorServer)if(this.isCalendar()){var e=this.tableBodyElement.querySelector("tr td.e-focused-date"),t=this.tableBodyElement.querySelector("tr td.e-selected"),n=e||t?(e||t).getAttribute("id"):"null";QA(this.inputElement,{"aria-activedescendant":""+n})}else QA(this.inputElement,{"aria-activedescendant":"null"});else this.isCalendar()?(pL.addAttributes({"aria-expanded":"true"},this.inputElement),QA(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(pL.addAttributes({"aria-expanded":"false"},this.inputElement),QA(this.inputElement,{"aria-activedescendant":"null"}))}},{key:"errorClass",value:function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),t=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!JO(this.value)&&!(+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&JO(this.value)||t?(UA([this.inputWrapper.container],"e-error"),QA(this.inputElement,{"aria-invalid":"true"})):(WA([this.inputWrapper.container],"e-error"),QA(this.inputElement,{"aria-invalid":"false"}))}},{key:"onPropertyChanged",value:function(e,t){this.calendarMode,this.formatString;for(var i=0,a=Object.keys(e);i<a.length;i++){switch(a[i]){case"value":this.isInteracted=!1,this.invalidValueString=null,this.isBlazorServer||this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,this.isBlazorServer||(JO(this.value)&&(this.updateInputValue(""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(),+this.previousDate!=+this.value&&this.changeTrigger(null)),this.isInteracted=!0;break;case"format":this.checkFormat(),this.bindInputEvent(),this.isBlazorServer||this.updateInput();break;case"allowEdit":this.setAllowEdit();break;case"placeholder":pL.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":pL.setReadonly(this.readonly,this.inputElement);break;case"enabled":pL.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled(),this.bindEvents();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new TI(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),pL.setPlaceholder(this.placeholder,this.inputElement),this.isBlazorServer||this.updateInput();break;case"enableRtl":pL.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&!this.isBlazorServer&&_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,e,t);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"showClearButton":pL.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.isBlazorServer||this.updateInput();break;case"width":this.setWidth(e.width);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,pL.removeFloating(this.inputWrapper),pL.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:this.calendarElement&&!this.isBlazorServer&&_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,e,t)}this.hide(null)}}}]),n}(uF),cF([bD(null)],tF.prototype,"width",void 0),cF([bD(null)],tF.prototype,"value",void 0),cF([bD(null)],tF.prototype,"cssClass",void 0),cF([bD(!1)],tF.prototype,"strictMode",void 0),cF([bD(null)],tF.prototype,"format",void 0),cF([bD(!0)],tF.prototype,"enabled",void 0),cF([bD({})],tF.prototype,"htmlAttributes",void 0),cF([bD(null)],tF.prototype,"values",void 0),cF([bD(!1)],tF.prototype,"isMultiSelection",void 0),cF([bD(!0)],tF.prototype,"showClearButton",void 0),cF([bD(!0)],tF.prototype,"allowEdit",void 0),cF([bD(null)],tF.prototype,"keyConfigs",void 0),cF([bD(!1)],tF.prototype,"enablePersistence",void 0),cF([bD(1e3)],tF.prototype,"zIndex",void 0),cF([bD(!1)],tF.prototype,"readonly",void 0),cF([bD(null)],tF.prototype,"placeholder",void 0),cF([bD("Never")],tF.prototype,"floatLabelType",void 0),cF([bD(null)],tF.prototype,"serverTimezoneOffset",void 0),cF([wD()],tF.prototype,"open",void 0),cF([wD()],tF.prototype,"cleared",void 0),cF([wD()],tF.prototype,"close",void 0),cF([wD()],tF.prototype,"blur",void 0),cF([wD()],tF.prototype,"focus",void 0),cF([wD()],tF.prototype,"created",void 0),cF([wD()],tF.prototype,"destroyed",void 0),tF=cF([_D],tF));(nF||(nF={})).createListItems=function(e,t,n,i,a,r){var s,l,o=6e4*r,u=[],c=[];for(s=+t.setMilliseconds(0),l=+n.setMilliseconds(0);l>=s;)c.push(s),u.push(i.formatDate(new Date(s),{format:a,type:"time"})),s+=o;return{collection:c,list:BM.createList(e,u,null,!0)}};var pF,fF,mF=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},gF=(new Date).getDate(),vF=(new Date).getMonth(),yF=(new Date).getFullYear(),bF=(new Date).getHours(),kF=(new Date).getMinutes(),CF=(new Date).getSeconds(),wF=(new Date).getMilliseconds(),_F="e-datetimepicker",xF=(pF=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).valueWithMinutes=null,a.dateTimeOptions=e,a}return _createClass(n,[{key:"focusHandler",value:function(){UA([this.inputWrapper.container],"e-input-focus")}},{key:"focusIn",value:function(){_get(_getPrototypeOf(n.prototype),"focusIn",this).call(this)}},{key:"focusOut",value:function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),WA([this.inputWrapper.container],["e-input-focus"]))}},{key:"blurHandler",value:function(e){if(this.isTimePopupOpen()&&this.isPreventBlur)this.inputElement.focus();else{WA([this.inputWrapper.container],"e-input-focus");var t={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)}}},{key:"destroy",value:function(){this.popupObject&&this.popupObject.element.classList.contains("e-popup")&&(this.popupObject.destroy(),ZA(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],JO(this.rippleFn)||this.rippleFn()),this.inputElement&&(pL.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&ZA(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"render",value:function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,_get(_getPrototypeOf(n.prototype),"updateHtmlAttributeToElement",this).call(this),this.checkAttributes(!1),this.l10n=new tM("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.createInputElement(),_get(_getPrototypeOf(n.prototype),"updateHtmlAttributeToWrapper",this).call(this),this.bindInputEvents(),this.setValue(),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),this.renderComplete()}},{key:"setValue",value:function(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var e=this.validateMinMaxRange(this.initValue);pL.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else JO(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,_get(_getPrototypeOf(n.prototype),"updateInput",this).call(this)}},{key:"validateMinMaxRange",value:function(e){var t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t}},{key:"checkValidState",value:function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()}},{key:"checkErrorState",value:function(){this.isValidState?WA([this.inputWrapper.container],"e-error"):UA([this.inputWrapper.container],"e-error"),QA(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})}},{key:"validateValue",value:function(e){var t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t}},{key:"disablePopupButton",value:function(e){e?(UA([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled"),this.hide()):WA([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled")}},{key:"getFormattedValue",value:function(e){var t;return JO(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))}},{key:"isDateObject",value:function(e){return!JO(e)&&!isNaN(+e)}},{key:"createInputElement",value:function(){WA([this.inputElement],"e-datepicker"),WA([this.inputWrapper.container],"e-date-wrapper"),UA([this.inputWrapper.container],"e-datetime-wrapper"),UA([this.inputElement],_F),this.renderTimeIcon()}},{key:"renderTimeIcon",value:function(){this.timeIcon=pL.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)}},{key:"bindInputEvents",value:function(){$I.add(this.timeIcon,"mousedown",this.timeHandler,this),$I.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),$I.add(this.inputElement,"blur",this.blurHandler,this),$I.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=ZO(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new eM(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})}},{key:"unBindInputEvents",value:function(){$I.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),$I.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&($I.remove(this.inputElement,"blur",this.blurHandler),$I.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()}},{key:"cldrTimeFormat",value:function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?YO("timeFormats.short",NI()):this.getCultureTimeObject(II,""+this.locale):this.timeFormat}},{key:"cldrDateTimeFormat",value:function(){var e=new TI(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.getCldrFormat("time"):this.formatString}},{key:"getCldrFormat",value:function(e){return"en"===this.locale||"en-US"===this.locale?YO("timeFormats.short",NI()):this.getCultureTimeObject(II,""+this.locale)}},{key:"isNullOrEmpty",value:function(e){return!!(JO(e)||"string"==typeof e&&""===e.trim())}},{key:"getCultureTimeObject",value:function(e,t){return YO("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.timeFormats.short":"main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)}},{key:"timeHandler",value:function(e){KI.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&_get(_getPrototypeOf(n.prototype),"hide",this).call(this,e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),UA([this.inputWrapper.container],["e-input-focus"])))}},{key:"dateHandler",value:function(e){e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),JO(this.popupWrapper)||this.popupCreation("date",e))}},{key:"show",value:function(e,t){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(t),_get(_getPrototypeOf(n.prototype),"show",this).call(this),this.popupCreation("date",t)):(this.isDatePopupOpen()&&this.hide(t),this.popupCreation("time",t)))}},{key:"toggle",value:function(e){this.isDatePopupOpen()?(_get(_getPrototypeOf(n.prototype),"hide",this).call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),_get(_getPrototypeOf(n.prototype),"show",this).call(this,null,e),this.popupCreation("date",null)):this.show(null,e)}},{key:"listCreation",value:function(){var e;e=this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"datetime"}:{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var t=JO(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=t,this.listWrapper=qA("div",{className:"e-content",attrs:{tabindex:"0"}});var n=this.startTime(t),i=this.endTime(t),a=nF.createListItems(this.createElement,n,i,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=a.collection,this.listTag=a.list,QA(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),KA([a.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=AD(this.listWrapper,{duration:300,selector:".e-list-item"}),this.liCollections=this.listWrapper.querySelectorAll(".e-list-item")}},{key:"popupCreation",value:function(e,t){KI.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(UA([this.popupWrapper],"e-datetimepopup-wrapper"),QA(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=qA("div",{className:_F+" e-popup",attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),JO(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!JO(this.step)&&this.step>0&&(this.listCreation(),KA([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),this.popupObject.refreshPosition(this.inputElement))}},{key:"openPopup",value:function(e){var t=this;this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.trigger("open",this.preventArgs,(function(e){t.preventArgs=e,t.preventArgs.cancel||t.readonly||(t.popupObject.show(new ID({name:"FadeIn",duration:100}),1e3===t.zIndex?t.element:null),UA([t.inputWrapper.container],["e-icon-anim"]),QA(t.inputElement,{"aria-expanded":"true"}),$I.add(document,"mousedown touchstart",t.documentClickHandler,t))}))}},{key:"documentClickHandler",value:function(e){var t=e.target;!JO(this.popupObject)&&(this.inputWrapper.container.contains(t)||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),nD(t,"#"+(this.popupObject&&this.popupObject.element.id))||t===this.inputElement||t===this.timeIcon||t===this.inputWrapper.container?t!==this.inputElement&&(KI.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(KI.isIE||"edge"===KI.info.name)&&t===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())}},{key:"isTimePopupOpen",value:function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+_F))}},{key:"isDatePopupOpen",value:function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-datetimepopup-wrapper"))}},{key:"renderPopup",value:function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),KI.isDevice&&(this.timeModal=qA("div"),this.timeModal.className=_F+" e-time-modal",document.body.className+=" e-time-overflow",this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new YT(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:KI.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:KI.isDevice?document.body:this.inputWrapper.container,position:KI.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){e.dateTimeWrapper.style.visibility="visible",UA([e.timeIcon],"e-active"),KI.isDevice||(e.timekeyConfigure=ZO(e.timekeyConfigure,e.keyConfigs),e.inputEvent=new eM(e.inputWrapper.container,{keyAction:e.TimeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){WA([e.timeIcon],"e-active"),e.unWireTimeListEvents(),e.inputElement.setAttribute("aria-activedescendant","null"),JA(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()},targetExitViewport:function(){KI.isDevice||e.hide()}}),this.popupObject.element.style.maxHeight="250px"}},{key:"setDimension",value:function(e){return"number"==typeof e?aI(e):"string"==typeof e?e:"100%"}},{key:"setPopupWidth",value:function(){var e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e}},{key:"wireTimeListEvents",value:function(){$I.add(this.listWrapper,"click",this.onMouseClick,this),KI.isDevice||($I.add(this.listWrapper,"mouseover",this.onMouseOver,this),$I.add(this.listWrapper,"mouseout",this.onMouseLeave,this))}},{key:"unWireTimeListEvents",value:function(){this.listWrapper&&($I.remove(this.listWrapper,"click",this.onMouseClick),$I.remove(document,"mousedown touchstart",this.documentClickHandler),KI.isDevice||($I.add(this.listWrapper,"mouseover",this.onMouseOver,this),$I.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))}},{key:"onMouseOver",value:function(e){var t=nD(e.target,".e-list-item");this.setTimeHover(t,"e-hover")}},{key:"onMouseLeave",value:function(){this.removeTimeHover("e-hover")}},{key:"setTimeHover",value:function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),UA([e],t))}},{key:"getPopupHeight",value:function(){var e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>e?e:t}},{key:"changeEvent",value:function(e){(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(_get(_getPrototypeOf(n.prototype),"changeEvent",this).call(this,e),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))}},{key:"updateValue",value:function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!JO(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)}},{key:"setTimeScrollPosition",value:function(){var e;JO(e=this.selectedElement)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)}},{key:"findScrollTop",value:function(e){var t=this.getPopupHeight(),n=e.nextElementSibling,i=n?n.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;this.dateTimeWrapper.scrollTop=i+e.offsetTop>t?n?i-(t/2+a/2):i:0}},{key:"setScrollTo",value:function(){var e,t=this.dateTimeWrapper.querySelectorAll(".e-list-item");if(t.length>=0){var n=this.timeCollections[0],i=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((i-n)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;JO(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)}},{key:"setInputValue",value:function(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));pL.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0)}this.updateIconState()}},{key:"getFullDateTime",value:function(){var e;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)}},{key:"combineDateTime",value:function(e){if(this.isDateObject(e)){var t=this.previousDate.getDate(),n=this.previousDate.getMonth(),i=this.previousDate.getFullYear(),a=e.getHours(),r=e.getMinutes(),s=e.getSeconds();return new Date(i,n,t,a,r,s)}return this.previousDate}},{key:"onMouseClick",value:function(e){var t=this.selectedElement=nD(e.target,".e-list-item");t&&t.classList.contains("e-list-item")&&(this.timeValue=t.getAttribute("data-value"),this.hide(e)),this.setSelection(t,e)}},{key:"setSelection",value:function(e,t){if(this.isValidLI(e)&&!e.classList.contains("e-active")){e.getAttribute("data-value"),this.selectedElement=e;var n=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=n,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),UA([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}}},{key:"setTimeActiveClass",value:function(){var e=JO(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!JO(e)){var t=e.querySelectorAll(".e-list-item");if(t.length)for(var n=0;n<t.length;n++)if(this.timeCollections[n]===+this.valueWithMinutes){t[n].setAttribute("aria-selected","true"),this.selectedElement=t[n],this.activeIndex=n,this.setTimeActiveDescendant();break}}}},{key:"setTimeActiveDescendant",value:function(){JO(this.selectedElement)?QA(this.inputElement,{"aria-activedescendant":"null"}):QA(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})}},{key:"addTimeSelection",value:function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),JO(this.selectedElement)||(UA([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))}},{key:"removeTimeSelection",value:function(){if(this.removeTimeHover("e-hover"),!JO(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll(".e-active");e.length&&(WA(e,"e-active"),e[0].removeAttribute("aria-selected"))}}},{key:"removeTimeHover",value:function(e){var t=this.getTimeHoverItem(e);t&&t.length&&WA(t,e)}},{key:"getTimeHoverItem",value:function(e){var t,n=JO(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return JO(n)||(t=n.querySelectorAll("."+e)),t}},{key:"isValidLI",value:function(e){return e&&e.classList.contains("e-list-item")&&!e.classList.contains("e-disabled")}},{key:"calculateStartEnd",value:function(e,t,n){var i=e.getDate(),a=e.getMonth(),r=e.getFullYear(),s=e.getHours(),l=e.getMinutes(),o=e.getSeconds(),u=e.getMilliseconds();return t?"starttime"===n?new Date(r,a,i,0,0,0):new Date(r,a,i,23,59,59):new Date(r,a,i,s,l,o,u)}},{key:"startTime",value:function(e){var t,n,i,a=this.min;return+(i=null===e?new Date:e).getDate()==+a.getDate()&&+i.getMonth()==+a.getMonth()&&+i.getFullYear()==+a.getFullYear()||+new Date(i.getFullYear(),i.getMonth(),i.getDate())<=+new Date(a.getFullYear(),a.getMonth(),a.getDate())?(n=!1,t=this.min):+i<+this.max&&+i>+this.min?(n=!0,t=i):+i>=+this.max&&(n=!0,t=this.max),this.calculateStartEnd(t,n,"starttime")}},{key:"endTime",value:function(e){var t,n,i,a=this.max;return+(i=null===e?new Date:e).getDate()==+a.getDate()&&+i.getMonth()==+a.getMonth()&&+i.getFullYear()==+a.getFullYear()||+new Date(i.getUTCFullYear(),i.getMonth(),i.getDate())>=+new Date(a.getFullYear(),a.getMonth(),a.getDate())?(n=!1,t=this.max):+i<+this.max&&+i>+this.min?(n=!0,t=i):+i<=+this.min&&(n=!0,t=this.min),this.calculateStartEnd(t,n,"endtime")}},{key:"hide",value:function(e){var t=this;if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};var n=this.preventArgs;JO(this.popupObj)?this.trigger("close",n,(function(n){t.dateTimeCloseEventCallback(e,n)})):this.dateTimeCloseEventCallback(e,n)}else KI.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}},{key:"dateTimeCloseEventCallback",value:function(e,t){this.preventArgs=t,this.preventArgs.cancel||(this.isDatePopupOpen()?_get(_getPrototypeOf(n.prototype),"hide",this).call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),WA([document.body],"e-time-overflow"),KI.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),KI.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}},{key:"closePopup",value:function(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new ID({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove("e-icon-anim"),QA(this.inputElement,{"aria-expanded":"false"}),$I.remove(document,"mousedown touchstart",this.documentClickHandler))}},{key:"preRender",value:function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),_get(_getPrototypeOf(n.prototype),"preRender",this).call(this),WA([this.inputElementCopy],[_F])}},{key:"getProperty",value:function(e,t){this.setProperties("min"===t?{min:this.validateValue(e.min)}:{max:this.validateValue(e.max)},!0)}},{key:"checkAttributes",value:function(e){var t,n,i=_createForOfIteratorHelper(e?JO(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!JO(this.inputElement.getAttribute(a)))switch(a){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(a));break;case"step":this.step=parseInt(this.inputElement.getAttribute(a),10);break;case"readonly":if(JO(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){var r="disabled"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a);this.setProperties({readonly:r},!e)}break;case"placeholder":(JO(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(a)},!e);break;case"min":(JO(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(a)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({min:t},!e));break;case"disabled":if(JO(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){var s="disabled"!==this.inputElement.getAttribute(a)&&"true"!==this.inputElement.getAttribute(a)&&""!==this.inputElement.getAttribute(a);this.setProperties({enabled:s},!e)}break;case"value":(JO(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(a)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({value:t},!e));break;case"max":(JO(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(a)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({max:t},!e))}}}catch(l){i.e(l)}finally{i.f()}}},{key:"requiredModules",value:function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e}},{key:"getTimeActiveElement",value:function(){return JO(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll(".e-active")}},{key:"createDateObj",value:function(e){return e instanceof Date?e:null}},{key:"getDateObject",value:function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),n=this.valueWithMinutes,i=!JO(n);if(this.checkDateValue(t)){var a=i?n.getDate():gF,r=i?n.getMonth():vF,s=i?n.getFullYear():yF,l=i?n.getHours():bF,o=i?n.getMinutes():kF,u=i?n.getSeconds():CF,c=i?n.getMilliseconds():wF;return new Date(s,r,a,l,o,u,c)}}return null}},{key:"findNextTimeElement",value:function(e){var t=this.inputElement.value,n=JO(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),i=null,a=this.liCollections.length;if(!JO(this.activeIndex)||!JO(this.checkDateValue(n))){if("home"===e.action)i=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)i=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var r=0;r<a;r++)if(+n<this.timeCollections[r]){i=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r;break}}else for(var s=a-1;s>=0;s--)if(+n>this.timeCollections[s]){i=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(JO(i)?null:new Date(i))}}},{key:"setTimeValue",value:function(e,t){var n,i,a=this.validateMinMaxRange(t),r=this.createDateObj(a);return this.getFormattedValue(r)!==(JO(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=JO(r)?null:r,i=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=r),this.valueWithMinutes=this.checkDateValue(e),i=new Date(+this.valueWithMinutes)),n=this.globalize.formatDate(i,"Gregorian"===this.calendarMode?{format:JO(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}:{format:JO(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&JO(i),pL.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton),i}},{key:"timeElementValue",value:function(e){if(!JO(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null}},{key:"timeKeyHandler",value:function(e){if(!(JO(this.step)||this.step<=0)){var t=this.timeCollections.length;if(JO(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(JO(this.value)&&JO(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var n;if(e.keyCode>=37&&e.keyCode<=40){var i=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=this.activeIndex===t?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?t-1:this.activeIndex,n=JO(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i]}else"home"===e.action?(this.activeIndex=0,n=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,n=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(n))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setTimeScrollPosition()}}},{key:"TimeKeyActionHandle",value:function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),UA([this.inputWrapper.container],"e-input-focus"),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}}},{key:"inputKeyAction",value:function(e){switch(e.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(e)}}},{key:"onPropertyChanged",value:function(e,t){for(var i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];switch(r){case"value":this.cldrDateTimeFormat(),this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),pL.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null);break;case"min":case"max":this.getProperty(e,r),this.updateInput();break;case"enableRtl":pL.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":JO(t.cssClass)||(t.cssClass=t.cssClass.replace(/\s+/g," ").trim()),JO(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),pL.setCssClass(e.cssClass,[this.inputWrapper.container],t.cssClass),this.dateTimeWrapper&&pL.setCssClass(e.cssClass,[this.dateTimeWrapper],t.cssClass);break;case"locale":this.globalize=new TI(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),pL.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),_get(_getPrototypeOf(n.prototype),"updateInput",this).call(this);break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue();break;case"placeholder":pL.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":pL.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1),this.bindEvents();break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":pL.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,pL.removeFloating(this.inputWrapper),pL.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:e.scrollTo},!0)):this.setProperties({scrollTo:null},!0);break;default:_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,e,t)}this.hide(null)}}},{key:"getModuleName",value:function(){return"datetimepicker"}},{key:"restoreValue",value:function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=JO(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)}}]),n}(dF),mF([bD(null)],pF.prototype,"timeFormat",void 0),mF([bD(30)],pF.prototype,"step",void 0),mF([bD(null)],pF.prototype,"scrollTo",void 0),mF([bD(1e3)],pF.prototype,"zIndex",void 0),mF([bD(null)],pF.prototype,"value",void 0),mF([bD(null)],pF.prototype,"keyConfigs",void 0),mF([bD({})],pF.prototype,"htmlAttributes",void 0),mF([bD(!1)],pF.prototype,"enablePersistence",void 0),mF([bD(!0)],pF.prototype,"allowEdit",void 0),mF([bD(!1)],pF.prototype,"isMultiSelection",void 0),mF([bD(null)],pF.prototype,"values",void 0),mF([bD(!0)],pF.prototype,"showClearButton",void 0),mF([bD(null)],pF.prototype,"placeholder",void 0),mF([bD(!1)],pF.prototype,"strictMode",void 0),mF([bD(null)],pF.prototype,"serverTimezoneOffset",void 0),mF([bD(new Date(1900,0,1))],pF.prototype,"min",void 0),mF([bD(new Date(2099,11,31))],pF.prototype,"max",void 0),mF([bD(null)],pF.prototype,"firstDayOfWeek",void 0),mF([bD("Gregorian")],pF.prototype,"calendarMode",void 0),mF([bD("Month")],pF.prototype,"start",void 0),mF([bD("Month")],pF.prototype,"depth",void 0),mF([bD(!1)],pF.prototype,"weekNumber",void 0),mF([bD(!0)],pF.prototype,"showTodayButton",void 0),mF([bD("Short")],pF.prototype,"dayHeaderFormat",void 0),mF([wD()],pF.prototype,"open",void 0),mF([wD()],pF.prototype,"close",void 0),mF([wD()],pF.prototype,"cleared",void 0),mF([wD()],pF.prototype,"blur",void 0),mF([wD()],pF.prototype,"focus",void 0),mF([wD()],pF.prototype,"created",void 0),mF([wD()],pF.prototype,"destroyed",void 0),pF=mF([_D],pF));!function(e){var t;!function(e){e[e.None=0]="None",e[e.Ascii=1]="Ascii",e[e.Unicode=2]="Unicode"}(e.ForceEncoding||(e.ForceEncoding={})),function(e){e[e.StringValue=0]="StringValue",e[e.ByteBuffer=1]="ByteBuffer"}(t||(t={}))}(fF||(fF={}));var SF=function(){function e(t){_classCallCheck(this,e),this.intl=new TI,JO(t)||(this.intl.culture=t)}return _createClass(e,[{key:"getFormatFunction",value:function(e){return e.type?this.intl.getDateFormat(e):this.intl.getNumberFormat(e)}},{key:"getParserFunction",value:function(e){return e.type?this.intl.getDateParser(e):this.intl.getNumberParser(e)}},{key:"fromView",value:function(e,t,n){return"date"!==n&&"datetime"!==n&&"number"!==n||JO(t)?e:t(e)}},{key:"toView",value:function(e,t){var n=e;return JO(t)||JO(e)||(n=t(e)),n}},{key:"setCulture",value:function(e){JO(e)||function(e){AI=e,OI.notify("notifyExternalChange",{locale:AI})}(e)}}]),e}();function EF(e,t,n,i){for(var a=ZO(e,t,n),r=Object.keys(a),s=0;s<r.length;s++)i&&-1!==i.indexOf(r[s])&&delete a[r[s]];return a}function OF(e){return e instanceof HD?YO("properties",e):e}function IF(e,t,n){for(var i=e;i&&(n?i.id!==t:!i.classList.contains(t));)i=i.parentElement;return i}var AF,DF=0;function MF(e){return e+DF++}function TF(e,t){for(var n=0,i=t.length;n<i;n++)e.appendChild(i===t.length?t[n]:t[0]);return e}function PF(e){return e.split(".").length>1}function LF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\./g,"___")}function NF(e,t,n){var i=qA("div",{className:n});return i.appendChild(t),i.setAttribute("uid",e),i}function RF(e,t){WA([e],["e-check","e-stop","e-uncheck"]),e.classList.add(t?"e-check":"e-uncheck")}function FF(e,t,n,i){var a=e.foreignKeyField,r=JO(n)?function(e,t,n){return JO(e)||""===e?"":wM.getObject(e,t)}(e.field,t):n;r=JO(r)?"":r;var s=new kM,l=i||(e.dataSource instanceof AM&&e.dataSource.dataSource.json.length?e.dataSource.dataSource.json:e.columnData);return r.getDay?s.where(BF({field:a,operator:"equal",value:r,matchCase:!1})):s.where(a,"==",r,!1),new AM(l).executeLocal(s)}function HF(e,t){var n;return t.some((function(t){return n=t,t.foreignKeyValue===e}))&&n}function BF(e,t){var n,i,a,r=ZO({},OF(e)),s=ZO({},OF(e));if(null===e.value)return n=new CM(r.field,r.operator,r.value,!1);var l=new Date(e.value);if("equal"===e.operator||"notequal"===e.operator){"datetime"===t?(i=new Date(l.setSeconds(l.getSeconds()-1)),a=new Date(l.setSeconds(l.getSeconds()+2)),e.value=new Date(l.setSeconds(a.getSeconds()-1))):(i=new Date(l.setHours(0)-1),a=new Date(l.setHours(24))),r.value=i,s.value=a,"equal"===e.operator?(r.operator="greaterthan",s.operator="lessthan"):"notequal"===e.operator&&(r.operator="lessthanorequal",s.operator="greaterthanorequal");var o=new CM(r.field,r.operator,r.value,!1),u=new CM(s.field,s.operator,s.value,!1);n="equal"===e.operator?o.and(u):o.or(u)}else"string"==typeof r.value&&(r.value=new Date(r.value)),n=new CM(r.field,r.operator,r.value,!1);return e.setProperties?e.setProperties({ejpredicate:n},!0):e.ejpredicate=n,n}function VF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(e){for(var n=t,i=e.split("."),a=0;a<i.length&&!JO(n);a++)n=n[i[a]];return n}}function jF(e,t){return(new TI).getDatePattern("date"===t?"object"==typeof e?{type:e.type?e.type:"date",format:e.format}:{type:"dateTime",skeleton:e}:"object"==typeof e?{type:e.type?e.type:"dateTime",format:e.format}:{type:"dateTime",skeleton:e},!1)}function zF(e){for(var t=[];Object.getPrototypeOf(e)&&Object.keys(Object.getPrototypeOf(e)).length;)t=t.concat(Object.keys(Object.getPrototypeOf(e))),e=Object.getPrototypeOf(e);return t}function qF(e,t){e.classList.contains("e-bigger")&&t.classList.add("e-bigger")}!function(e){e.timer=null}(AF||(AF={}));var UF=function(){function e(t){_classCallCheck(this,e),this.existingPredicate={},this.foreignKeyQuery=new kM,this.filterState=!0,this.values={},this.renderEmpty=!1,this.parent=t,this.id=this.parent.element.id,this.valueFormatter=new SF(this.parent.locale),this.cBoxTrue=PM(this.parent.createElement,!1,{checked:!0,label:" "}),this.cBoxFalse=PM(this.parent.createElement,!1,{checked:!1,label:" "}),this.cBoxTrue.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxTrue.firstChild),this.cBoxFalse.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxFalse.firstChild),this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"),this.parent.enableRtl&&UA([this.cBoxTrue,this.cBoxFalse],["e-rtl"])}return _createClass(e,[{key:"destroy",value:function(){this.closeDialog()}},{key:"wireEvents",value:function(){$I.add(this.dlg,"click",this.clickHandler,this),this.searchHandler=tI(this.searchBoxKeyUp,200),$I.add(this.dlg.querySelector(".e-searchinput"),"keyup",this.searchHandler,this)}},{key:"unWireEvents",value:function(){$I.remove(this.dlg,"click",this.clickHandler);var e=this.dlg.querySelector(".e-searchinput");e&&$I.remove(e,"keyup",this.searchHandler)}},{key:"foreignKeyFilter",value:function(e,t,n){var i=this,a={},r=[],s=this.foreignKeyQuery.clone();this.options.column.dataSource.executeQuery(s.where(n)).then((function(n){i.options.column.columnData=n.result,i.parent.notify("generateQuery",{predicate:a,column:i.options.column}),e.ejpredicate=a.predicate.predicates;for(var s=a.predicate.predicates,l=0;l<s.length;l++)r.push({field:s[l].field,predicate:"or",matchCase:s[l].ignoreCase,ignoreAccent:s[l].ignoreAccent,operator:s[l].operator,value:s[l].value,type:i.options.type});e.filterCollection=r.length?r:t.filter((function(e){return e.field=i.options.field})),i.options.handler(e)}))}},{key:"foreignFilter",value:function(e,t){var n=new CM(this.options.column.foreignKeyValue,this.options.isRemote?"string"===this.options.column.type?"contains":"equal":this.options.column.type?"contains":"equal",t,!0,this.options.ignoreAccent);this.foreignKeyFilter(e,[e.filterCollection],n)}},{key:"searchBoxClick",value:function(e){e.target.classList.contains("e-searchclear")&&(this.sInput.value="",this.refreshCheckboxes(),this.updateSearchIcon(),this.sInput.focus())}},{key:"searchBoxKeyUp",value:function(e){this.refreshCheckboxes(),this.updateSearchIcon()}},{key:"updateSearchIcon",value:function(){this.sInput.value.length?aD(this.sIcon,["e-chkcancel-icon"],["e-search-icon"]):aD(this.sIcon,["e-search-icon"],["e-chkcancel-icon"])}},{key:"getLocalizedLabel",value:function(e){return this.localeObj.getConstant(e)}},{key:"updateDataSource",value:function(){var e=this.options.dataSource;if(!(e instanceof AM))for(var t=0;t<e.length;t++)if("object"!=typeof e){var n={};n[this.options.field]=e[t],e[t]=n}}},{key:"updateModel",value:function(e){this.options=e,this.existingPredicate=e.actualPredicate||{},this.options.dataSource=e.dataSource,this.options.dataManager=e.dataManager?e.dataManager:e.dataSource,this.updateDataSource(),this.options.type=e.type,this.options.format=e.format||"",this.options.ignoreAccent=e.ignoreAccent||!1,this.options.filteredColumns=e.filteredColumns||this.parent.filterSettings.columns,this.options.query=e.query||new kM,this.options.allowCaseSensitive=e.allowCaseSensitive||!1,this.options.uid=e.column.uid,this.values={},this.localeObj=e.localeObj,this.isFiltered=e.filteredColumns.length}},{key:"getAndSetChkElem",value:function(e){if(this.dlg=this.parent.createElement("div",{id:this.id+this.options.type+"_excelDlg",className:"e-checkboxfilter e-filter-popup"}),this.sBox=this.parent.createElement("div",{className:"e-searchcontainer"}),!e.hideSearchbox){this.sInput=this.parent.createElement("input",{id:this.id+"_SearchBox",className:"e-searchinput"}),this.sIcon=this.parent.createElement("span",{className:"e-searchclear e-search-icon e-icons e-input-group-icon",attrs:{type:"text",title:this.getLocalizedLabel("Search")}}),this.searchBox=this.parent.createElement("span",{className:"e-searchbox e-fields"}),this.searchBox.appendChild(this.sInput),this.sBox.appendChild(this.searchBox);var t={element:this.sInput,floatLabelType:"Never",properties:{placeholder:this.getLocalizedLabel("Search")}};pL.createInput(t,this.parent.createElement),this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)}return this.spinner=this.parent.createElement("div",{className:"e-spinner"}),this.cBox=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxList",className:"e-checkboxlist e-fields"}),this.spinner.appendChild(this.cBox),this.sBox.appendChild(this.spinner),this.sBox}},{key:"showDialog",value:function(e){var t={requestType:"filterbeforeopen",columnName:this.options.field,columnType:this.options.type,cancel:!1};t.filterModel=this,this.parent.notify("cbox-filter-begin",t),t.cancel||(this.dialogObj=new zP({visible:!1,content:this.sBox,close:this.closeDialog.bind(this),width:!JO(IF(e.target,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:255,target:this.parent.element,animationSettings:{effect:"None"},buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton"),cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:"e-flat",content:this.getLocalizedLabel(this.isExcel?"CancelButton":"ClearButton")}}],created:this.dialogCreated.bind(this),open:this.dialogOpen.bind(this)}),this.dialogObj.isStringTemplate=!0,this.dlg.setAttribute("aria-label",this.getLocalizedLabel("ExcelFilterDialogARIA")),this.parent.element.appendChild(this.dlg),this.dialogObj.appendTo(this.dlg),this.dialogObj.element.style.maxHeight=this.options.height+"px",this.dialogObj.show(),this.wireEvents(),KP({target:this.spinner},this.parent.createElement),rL(this.spinner),this.getAllData())}},{key:"dialogCreated",value:function(e){KI.isDevice?this.dialogObj.position={X:"center",Y:"center"}:function(e,t,n){var i=t.element.style.display;t.element.style.display="block";var a,r=t.width;if(n.enableRtl){a=fT(e,"left","bottom"),t.element.style.top=a.top+e.getBoundingClientRect().height-35+"px",t.element.style.display=i;var s=a.left-r+e.clientWidth;t.element.style.left=s<1?r+s+-16+"px":s-16+"px"}else{a=pT(e,t.element),t.element.style.display=i,t.element.style.top=a.top+e.getBoundingClientRect().height-5+"px";var l=a.left-r+e.clientWidth;t.element.style.left=l<1?r+l-16+"px":l+-4+"px"}}(this.options.target,this.dialogObj,this.parent),this.parent.notify("filterDialogCreated",e)}},{key:"openDialog",value:function(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e)}},{key:"closeDialog",value:function(){if(this.dialogObj&&!this.dialogObj.isDestroyed){var e=this.options.columns.filter((function(e){return e.getFilterItemTemplate()})),t=this.parent.registeredTemplate;e.length&&!JO(t)&&t.filterItemTemplate&&this.parent.destroyTemplate(["filterItemTemplate"]),this.parent.notify("filter-menu-close",{field:this.options.field}),this.dialogObj.destroy(),this.unWireEvents(),JA(this.dlg),this.dlg=null}}},{key:"clearFilter",value:function(){var e={instance:this,handler:this.clearFilter,cancel:!1};this.parent.notify("filter-Prevent",e),e.cancel||this.options.handler({action:"clear-filter",field:this.options.field})}},{key:"btnClick",value:function(e){if(this.filterState){if("input"===e.target.tagName.toLowerCase()&&e.target.classList.contains("e-searchinput")){var t=e.target.value;"boolean"===this.options.column.type&&(""!==t&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(t.toLowerCase())?t=!0:""!==t&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(t.toLowerCase())&&(t=!1));var n={action:"filtering",filterCollection:{field:this.options.field,operator:this.options.isRemote?"string"===this.options.column.type?"contains":"equal":"date"===this.options.column.type||"datetime"===this.options.column.type||"boolean"===this.options.column.type?"equal":"contains",value:t,matchCase:!1,type:this.options.column.type},field:this.options.field};null!=t&&""!==t?this.isForeignColumn(this.options.column)?this.foreignFilter(n,t):this.options.handler(n):this.closeDialog()}else if(13===e.keyCode)this.fltrBtnHandler();else{var i=e.target.firstChild.textContent.toLowerCase();this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton").toLowerCase()===i?this.fltrBtnHandler():this.getLocalizedLabel("ClearButton").toLowerCase()===i&&this.clearFilter()}this.closeDialog()}else"input"!==e.target.tagName.toLowerCase()&&(this.clearFilter(),this.closeDialog())}},{key:"fltrBtnHandler",value:function(){var e,t,n=[].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall)")),i="equal",a=this.searchBox.querySelector(".e-searchinput"),r={field:this.options.field,predicate:"or",uid:this.options.uid,operator:i,type:this.options.type,matchCase:this.options.allowCaseSensitive,ignoreAccent:this.options.ignoreAccent},s=this.itemsCnt!==n.length&&this.itemsCnt-n.length<n.length;s&&""===a.value&&(i="notequal",n=[].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")),r.predicate="and",r.operator="notequal");var l=[];if(n.length!==this.itemsCnt||a.value&&""!==a.value){for(var o=0;o<n.length;o++){t=ZO({},{value:e=this.values[IF(n[o],"e-ftrchk").getAttribute("uid")]},r),e&&!e.toString().length&&(t.operator=s?"notequal":"equal"),""===e||JO(e)?("string"===this.options.type&&l.push({field:r.field,ignoreAccent:r.ignoreAccent,matchCase:r.matchCase,operator:r.operator,predicate:r.predicate,value:""}),l.push({field:r.field,matchCase:r.matchCase,operator:r.operator,predicate:r.predicate,value:null}),l.push({field:r.field,matchCase:r.matchCase,operator:r.operator,predicate:r.predicate,value:void 0})):l.push(t);var u={instance:this,handler:this.fltrBtnHandler,arg1:t.field,arg2:t.predicate,arg3:t.operator,arg4:t.matchCase,arg5:t.ignoreAccent,arg6:t.value,cancel:!1};if(this.parent.notify("filter-Prevent",u),u.cancel)return}this.initiateFilter(l)}else this.clearFilter()}},{key:"initiateFilter",value:function(e){var t,n=e[0];if(!JO(n)){t=n.ejpredicate?n.ejpredicate:new CM(n.field,n.operator,n.value,!n.matchCase,n.ignoreAccent);for(var i=1;i<e.length;i++)t=void 0!==e[i].ejpredicate?t[e[i].predicate](e[i].ejpredicate):t[e[i].predicate](e[i].field,e[i].operator,e[i].value,!e[i].matchCase,e[i].ignoreAccent);var a={action:"filtering",filterCollection:e,field:this.options.field,ejpredicate:CM.or(t)};this.options.handler(a)}}},{key:"isForeignColumn",value:function(e){return!!e.isForeignColumn&&e.isForeignColumn()}},{key:"refreshCheckboxes",value:function(){var e=this,t=this.sInput.value,n=this.options.column,i=this.isForeignColumn(n)?this.foreignKeyQuery.clone():this.options.query.clone(),a=this.options.query.clone(),r=i.queries.filter((function(e){return e&&"onWhere"===e.fn}))[0];i.queries=[],a.queries=[];var s,l="string"!==this.options.type&&parseFloat(t)?parseFloat(t):t,o=this.options.isRemote?"string"===this.options.type?"contains":"equal":this.options.type?"contains":"equal",u=this.options.ignoreAccent,c=this.isForeignColumn(n)?n.foreignKeyValue:n.field;l=""===l||void 0===l?void 0:l;var h=this.options.dataManager.adaptor.getModuleName;"boolean"===this.options.type&&(void 0!==l&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(l.toLowerCase())&&h?(h(),l=!0):void 0!==l&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(l.toLowerCase())&&h&&(h(),l=!1),o="equal"),"date"!==this.options.type&&"datetime"!==this.options.type||(l=this.valueFormatter.fromView(t,this.options.parserFn,this.options.type)),this.addDistinct(i),this.parent.trigger("actionBegin",{requestType:"filtersearchbegin",filterModel:this,columnName:c,column:n,operator:o,matchCase:!0,ignoreAccent:u,filterChoiceCount:null,query:i,value:l},(function(h){if(h.operator=h.operator,s=new CM(c,h.operator,l,h.matchCase,h.ignoreAccent),"date"===e.options.type||"datetime"===e.options.type){if(o="equal",JO(l)&&t.length)return;s=BF({field:c,operator:o,value:l,matchCase:!0,ignoreAccent:u},e.options.type)}t.length?(s=JO(r)?s:s.and(r.e),i.where(s)):JO(r)||i.where(r.e),h.filterChoiceCount=JO(h.filterChoiceCount)?1e3:h.filterChoiceCount;var d={};rL(e.spinner),e.renderEmpty=!1,e.isForeignColumn(n)&&t.length?("result"in n.dataSource?new AM(n.dataSource.result):n.dataSource).executeQuery(i).then((function(t){var i=e.options.column.columnData;e.options.column.columnData=t.result,e.parent.notify("generateQuery",{predicate:d,column:n}),d.predicate.predicates.length?a.where(d.predicate):e.renderEmpty=!0,e.options.column.columnData=i,a.take(h.filterChoiceCount),e.search(h,a)})):(i.take(h.filterChoiceCount),e.search(h,i))}))}},{key:"search",value:function(e,t){this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(e,t):this.processSearch(t)}},{key:"getPredicateFromCols",value:function(t){for(var n=e.getPredicate(t),i=[],a={},r=void 0!==this.parent.getForeignKeyColumns,s=r?this.parent.getForeignKeyColumns():[],l=0,o=Object.keys(n);l<o.length;l++){var u=o[l],c=void 0;r&&this.parent.getColumnByField(u).isForeignColumn()&&(c=HF(u,s)),c?(this.parent.notify("generateQuery",{predicate:a,column:c}),a.predicate.predicates.length&&i.push(CM.or(a.predicate.predicates))):i.push(n[u])}return i.length&&CM.and(i)}},{key:"getQuery",value:function(){return this.parent.getQuery?this.parent.getQuery().clone():new kM}},{key:"getAllData",value:function(){var e=this,t=this.getQuery();t.requiresCount(),this.addDistinct(t);var n={requestType:"filterchoicerequest",query:t,filterChoiceCount:null};n.filterModel=this,this.parent.trigger("actionBegin",n,(function(n){n.filterChoiceCount=JO(n.filterChoiceCount)?1e3:n.filterChoiceCount,t.take(n.filterChoiceCount),e.parent.dataSource&&"result"in e.parent.dataSource?e.filterEvent(n,t):e.processDataOperation(t,!0)}))}},{key:"addDistinct",value:function(e){var t=wM.distinct(this.options.filteredColumns,"field");return t.indexOf(this.options.column.field)<=-1&&(t=t.concat(this.options.column.field)),e.distinct(t),e}},{key:"filterEvent",value:function(e,t){var n=this;this.eventPromise(e,t).promise.then((function(e){n.dataSuccess(e)}))}},{key:"eventPromise",value:function(e,t){var n;n=this.getStateEventArgument(t);var i=new DM;return n.dataSource=i.resolve,n.action=e,this.parent.trigger("dataStateChange",n),i}},{key:"getStateEventArgument",value:function(e){var t=new SM,n=new AM({url:"",adaptor:new SM}),i=t.processQuery(n,e);return JSON.parse(i.data)}},{key:"processDataOperation",value:function(e,t){var n=this;this.options.dataSource=this.options.dataSource instanceof AM?this.options.dataSource:new AM(this.options.dataSource);var i=[],a=[];if(this.isForeignColumn(this.options.column)&&t){var r="result"in this.options.column.dataSource?new AM(this.options.column.dataSource.result):this.options.column.dataSource;this.foreignKeyQuery.params=e.params,i.push(r.executeQuery(this.foreignKeyQuery)),a.push((function(e){return n.foreignKeyData=e}))}i.push(this.options.dataSource.executeQuery(e)),a.push(this.dataSuccess.bind(this));var s=0;Promise.all(i).then((function(e){for(var t=0;t<e.length;t++)a[s++](e[t].result)}))}},{key:"dataSuccess",value:function(t){this.fullData=t;var n=new kM;if(this.parent.searchSettings&&this.parent.searchSettings.key.length){var i=this.parent.searchSettings,a=i.fields.length?i.fields:this.options.columns.map((function(e){return e.field}));n.search(i.key,a,i.operator,i.ignoreCase,i.ignoreAccent)}if(this.options.filteredColumns.length){for(var r=[],s=0;s<this.options.filteredColumns.length;s++){var l=this.options.filteredColumns[s];this.options.uid?(l.uid=l.uid||this.parent.getColumnByField(l.field).uid,l.uid!==this.options.uid&&r.push(this.options.filteredColumns[s])):l.field!==this.options.field&&r.push(this.options.filteredColumns[s])}var o=this.getPredicateFromCols(r);o&&n.where(o)}var u=new AM(this.fullData).executeLocal(n);this.filteredData=e.getDistinct(u,this.options.field,this.options.column,this.foreignKeyData).records||[],this.processDataSource(null,!0,this.filteredData),this.sInput.focus();var c={requestType:"filterafteropen",columnName:this.options.field,columnType:this.options.type};c.filterModel=this,this.parent.notify("cbox-filter-complete",c)}},{key:"processDataSource",value:function(e,t,n){rL(this.spinner),this.updateResult(),this.createFilterItems(n,t)}},{key:"processSearch",value:function(e){this.processDataOperation(e)}},{key:"updateResult",value:function(){this.result={};var e=this.getPredicateFromCols(this.options.filteredColumns),t=new kM;e&&t.where(e);var n,i=_createForOfIteratorHelper(new AM(this.fullData).executeLocal(t));try{for(i.s();!(n=i.n()).done;){var a=n.value;this.result[VF(this.options.field,a)]=!0}}catch(r){i.e(r)}finally{i.f()}}},{key:"clickHandler",value:function(e){var t=e.target,n=IF(t,"e-checkbox-wrapper");if(IF(t,"e-searchbox")&&this.searchBoxClick(e),n){var i=n.querySelector(".e-selectall");i?this.updateAllCBoxes(!i.classList.contains("e-check")):function(e){var t=e.querySelector(".e-frame");t.classList.contains("e-check")?aD(t,["e-uncheck"],["e-check"]):aD(t,["e-check"],["e-uncheck"])}(n.parentElement),this.updateIndeterminatenBtn(),n.querySelector(".e-chk-hidden").focus()}}},{key:"updateAllCBoxes",value:function(e){var t,n=_createForOfIteratorHelper([].slice.call(this.cBox.querySelectorAll(".e-frame")));try{for(n.s();!(t=n.n()).done;){RF(t.value,e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"dialogOpen",value:function(){this.parent.element.classList.contains("e-device")&&(this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"),this.dialogObj.element.querySelector(".e-btn").focus())}},{key:"createCheckbox",value:function(e,t,n){var i=t?this.cBoxTrue.cloneNode(!0):this.cBoxFalse.cloneNode(!0),a=i.querySelector(".e-label"),r=function(e,t,n,i){var a=e||{},r=arguments.length;i&&(r-=1);for(var s=1;s<r;s++)if(arguments[s])for(var l=arguments[s],o=Object.keys(Object.getPrototypeOf(l)).length?Object.keys(l).concat(zF(l)):Object.keys(l),u=0;u<o.length;u++){var c=void 0,h=a[o[u]],d=l[o[u]];i&&(KO(d)||Array.isArray(d))?KO(d)?(c=h||{},a[o[u]]=ZO({},c,d,i)):(c=h||[],a[o[u]]=ZO([],c,d,i)):a[o[u]]=d}return a}({},n,{column:this.options.column,parent:this.parent});return a.innerHTML=!JO(e)&&e.toString().length?e:this.getLocalizedLabel("Blanks"),UA([a],["e-checkboxfiltertext"]),this.options.template&&n[this.options.column.field]!==this.getLocalizedLabel("SelectAll")&&(a.innerHTML="",TF(a,this.options.template(r,this.parent,"filterItemTemplate"))),i}},{key:"updateIndeterminatenBtn",value:function(){var e=this.cBox.children.length-1,t=[],n=this.cBox.querySelector(".e-selectall"),i=this.cBox.querySelectorAll(".e-check:not(.e-selectall)").length,a=this.dialogObj.btnObj[0];a.disabled=!1,e===i?t=["e-check"]:i?t=["e-stop"]:(t=["e-uncheck"],a.disabled=!0),this.filterState=!a.disabled,a.dataBind(),WA([n],["e-check","e-stop","e-uncheck"]),UA([n],t)}},{key:"createFilterItems",value:function(e,t){for(var n=this.parent.createElement("div"),i=this.dialogObj.btnObj[0],a=-1,r=0;r<e.length;r++){var s=YO("ejValue",e[r]);(""===s||JO(s))&&(a+=1)}if(this.itemsCnt=-1!==a?e.length-a:e.length,e.length&&!this.renderEmpty){var l=this.getLocalizedLabel("SelectAll"),o=this.createCheckbox(l,!1,_defineProperty2({},this.options.field,l)),u=NF(MF("cbox"),o,"e-ftrchk");u.querySelector(".e-frame").classList.add("e-selectall"),n.appendChild(u);var c=new CM("field","equal",this.options.field);this.options.foreignKeyValue&&(c=c.or("field","equal",this.options.foreignKeyValue));for(var h,d=new AM(this.options.filteredColumns).executeLocal((new kM).where(c)).length,p=0;p<e.length;p++){var f=MF("cbox");this.values[f]=YO("ejValue",e[p]);var m=YO(this.options.field,e[p]);this.options.formatFn&&(m=this.valueFormatter.toView(m,this.options.formatFn));var g={value:m,column:this.options.column,data:e[p]};if(this.parent.notify("filter-cbox-value",g),""===(m=g.value)||JO(m)){if(h)continue;h=!0}var v=this.createCheckbox(m,this.getCheckedState(d,this.values[f]),YO("dataObj",e[p]));n.appendChild(NF(f,v,"e-ftrchk"))}this.cBox.innerHTML="",TF(this.cBox,[].slice.call(n.children)),this.updateIndeterminatenBtn(),i.disabled=!1}else n.appendChild(this.parent.createElement("span",{innerHTML:this.getLocalizedLabel("NoResult")})),this.cBox.innerHTML="",TF(this.cBox,[].slice.call(n.children)),i.disabled=!0;this.filterState=!i.disabled,i.dataBind();var y={requestType:"filterchoicerequest",dataSource:this.renderEmpty?[]:e};y.filterModel=this,this.parent.notify("cbox-filter-complete",y),lL(this.spinner)}},{key:"getCheckedState",value:function(e,t){return!this.isFiltered||!e||this.result[t]}}],[{key:"getDistinct",value:function(e,t,n,i){for(var a,r=e.length,s=[],l={},o=!(!n||!n.isForeignColumn)&&n.isForeignColumn();r--;)if(!((a=VF(t,a=e[r]))in l)){var u={};if(u.ejValue=a,l[a]=!0,o){var c=FF(n,{},a,i)[0];GO("foreignKeyData",c,e[r]),a=YO(n.foreignKeyValue,c)}GO(t,JO(a)?null:a,u),GO("dataObj",e[r],u),s.push(u)}return wM.group(wM.sort(s,t,wM.fnAscending),"ejValue")}},{key:"getPredicate",value:function(t){for(var n=wM.distinct(t,"field",!0)||[],i=[],a={},r=0;r<n.length;r++)0!==(i=new AM(t).executeLocal((new kM).where("field","equal",n[r].field))).length&&(a[n[r].field]=e.generatePredicate(i));return a}},{key:"generatePredicate",value:function(t){var n,i,a=t?t.length:0;(i=e.updateDateFilter(t[0])).ignoreAccent=!JO(i.ignoreAccent)&&i.ignoreAccent,n="date"===i.type||"datetime"===i.type?BF(i,i.type):i.ejpredicate?i.ejpredicate:new CM(i.field,i.operator,i.value,!e.getCaseValue(i),i.ignoreAccent);for(var r=1;r<a;r++)t[r]=e.updateDateFilter(t[r]),a>2&&r>1&&"or"===t[r].predicate?n.predicates.push("date"===t[r].type||"datetime"===t[r].type?BF(t[r],t[r].type):new CM(t[r].field,t[r].operator,t[r].value,!e.getCaseValue(t[r]),t[r].ignoreAccent)):n="date"===t[r].type||"datetime"===t[r].type?n[t[r].predicate](BF(t[r],t[r].type),t[r].type,t[r].ignoreAccent):t[r].ejpredicate?n[t[r].predicate](t[r].ejpredicate):n[t[r].predicate](t[r].field,t[r].operator,t[r].value,!e.getCaseValue(t[r]),t[r].ignoreAccent);return n||null}},{key:"getCaseValue",value:function(e){return JO(e.matchCase)?!("string"===e.type||JO(e.type)&&"string"==typeof e.value):e.matchCase}},{key:"updateDateFilter",value:function(e){return("date"===e.type||"datetime"===e.type||e.value instanceof Date)&&(e.type=e.type||"date"),e}}]),e}(),WF=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).customFilterOperators=i,a.isExcel=!0,a}return _createClass(n,[{key:"getCMenuDS",value:function(e,t){var n={number:["Equal","NotEqual","","LessThan","LessThanOrEqual","GreaterThan","GreaterThanOrEqual","Between","","CustomFilter"],string:["Equal","NotEqual","","StartsWith","EndsWith","","Contains","","CustomFilter"]};n.date=n.number,n.datetime=n.number;for(var i=[],a=0;a<n[e].length;a++)i.push(n[e][a].length?t?{text:this.getLocalizedLabel(n[e][a])+"...",iconCss:"e-icons e-icon-check "+(t===n[e][a].toLowerCase()?"":"e-emptyicon")}:{text:this.getLocalizedLabel(n[e][a])+"..."}:{separator:!0});return i}},{key:"destroy",value:function(){this.dlg&&(this.unwireExEvents(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)),this.cmenu&&this.cmenu.parentElement&&JA(this.cmenu)}},{key:"createMenu",value:function(e,t,n){this.menu=this.parent.createElement("div",{className:"e-contextmenu-wrapper"}),this.parent.enableRtl?this.menu.classList.add("e-rtl"):this.menu.classList.remove("e-rtl");var i=this.parent.createElement("ul"),a=t?"e-excl-filter-icon e-filtered":"e-excl-filter-icon";i.appendChild(this.createMenuElem(this.getLocalizedLabel("ClearFilter"),t?"":"e-disabled",a)),"boolean"!==e&&i.appendChild(this.createMenuElem(this.getLocalizedLabel({string:"TextFilter",date:"DateFilter",datetime:"DateTimeFilter",number:"NumberFilter"}[e]),"e-submenu",n&&this.ensureTextFilter()?"e-icon-check":a+" e-emptyicon",!0)),this.menu.appendChild(i),this.parent.notify("before-filter-cmenu-open",{element:this.menu})}},{key:"createMenuElem",value:function(e,t,n,i){var a=this.parent.createElement("li",{className:t+" e-menu-item"});return a.innerHTML=e,a.insertBefore(this.parent.createElement("span",{className:"e-menu-icon e-icons "+n}),a.firstChild),i&&a.appendChild(this.parent.createElement("span",{className:"e-icons e-caret"})),a}},{key:"wireExEvents",value:function(){$I.add(this.dlg,"mouseover",this.hoverHandler,this),$I.add(this.dlg,"click",this.clickExHandler,this)}},{key:"unwireExEvents",value:function(){$I.remove(this.dlg,"mouseover",this.hoverHandler),$I.remove(this.dlg,"click",this.clickExHandler)}},{key:"clickExHandler",value:function(e){var t=IF(e.target,"e-menu-item");t&&this.getLocalizedLabel("ClearFilter")===t.innerText.trim()&&(this.clearFilter(),this.closeDialog())}},{key:"destroyCMenu",value:function(){this.menuObj&&!this.menuObj.isDestroyed&&(this.menuObj.destroy(),JA(this.cmenu))}},{key:"hoverHandler",value:function(e){var t,n=e.target.querySelector(".e-contextmenu"),i=IF(e.target,"e-menu-item"),a=this.menu.querySelector(".e-focused");if(a&&a.classList.remove("e-focused"),i&&(i.classList.add("e-focused"),t=i.classList.contains("e-submenu")),!n){if(!t){var r=this.menu.querySelector(".e-submenu");JO(r)||r.classList.remove("e-selected"),this.isCMenuOpen=!1,this.destroyCMenu()}var s=this.ensureTextFilter();if(!this.isCMenuOpen&&t){i.classList.add("e-selected"),this.isCMenuOpen=!0;var l={items:this.getCMenuDS(this.options.type,s?s.replace(/\s/g,""):void 0),select:this.selectHandler.bind(this),onClose:this.destroyCMenu.bind(this),enableRtl:this.parent.enableRtl,beforeClose:this.preventClose};this.parent.element.appendChild(this.cmenu),this.menuObj=new QN(l,this.cmenu);var o=this.menu.querySelector(".e-submenu").getBoundingClientRect(),u={top:0,left:0};if(KI.isDevice){var c=this.getContextBounds(this.menuObj);u.top=(window.innerHeight-c.height)/2,u.left=(window.innerWidth-c.width)/2,this.closeDialog()}else u.top=KI.isIE?window.pageYOffset+o.top:window.scrollY+o.top,u.left=this.getCMenuYPosition(this.dlg,this.menuObj);this.menuObj.open(u.top,u.left,e.target),qF(this.parent.element,this.menuObj.element.parentElement)}}}},{key:"ensureTextFilter",value:function(){var e,t=this.existingPredicate[this.options.field];return t&&2===t.length?e="greaterthanorequal"===t[0].operator&&"lessthanorequal"===t[1].operator?"between":"customfilter":t&&1===t.length&&(this.optrData=this.customFilterOperators[this.options.type+"Operator"],e=t[0].operator),e}},{key:"preventClose",value:function(e){e.event instanceof MouseEvent&&e.event.target.classList.contains("e-submenu")&&(e.cancel=!0)}},{key:"getContextBounds",value:function(e){return this.menuObj.element.style.display="block",this.menuObj.element.getBoundingClientRect()}},{key:"getCMenuYPosition",value:function(e,t){var n=this.getContextBounds(t).width,i=e.getBoundingClientRect(),a=e.offsetWidth-e.clientWidth;return a=a?a+1:0,i.right+n-this.parent.element.clientWidth<1?i.right+1-a:i.left-n-1+a}},{key:"openDialog",value:function(e){var t=this;this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e),this.dialogObj.dataBind();var n=this.existingPredicate[e.field]&&this.existingPredicate[e.field].length||this.options.filteredColumns.filter((function(e){return t.options.field===e.field})).length;this.createMenu(e.type,n>0,1===n||2===n),this.dlg.insertBefore(this.menu,this.dlg.firstChild),this.dlg.classList.add("e-excelfilter"),this.parent.enableRtl&&this.dlg.classList.add("e-rtl"),this.dlg.classList.remove("e-checkboxfilter"),this.cmenu=this.parent.createElement("ul",{className:"e-excel-menu"}),this.wireExEvents()}},{key:"closeDialog",value:function(){_get(_getPrototypeOf(n.prototype),"closeDialog",this).call(this)}},{key:"selectHandler",value:function(e){e.item&&(this.menuItem=e.item,this.renderDialogue(e))}},{key:"renderDialogue",value:function(e){var t=this,n=e.element,i=this.options.field,a=!JO(i)&&PF(i),r=!JO(i)&&LF(i),s=this.parent.createElement("div",{className:"e-xlfl-maindiv",id:a?r+"-xlflmenu":i+"-xlflmenu"});this.dlgDiv=this.parent.createElement("div",{className:"e-xlflmenu",id:a?r+"-xlfldlg":i+"-xlfldlg"}),this.parent.element.appendChild(this.dlgDiv),this.dlgObj=new zP({header:this.getLocalizedLabel("CustomFilter"),isModal:!0,overlayClick:this.removeDialog.bind(this),showCloseIcon:!0,closeOnEscape:!1,target:document.body,visible:!1,enableRtl:this.parent.enableRtl,open:function(){var e=t.dlgObj.element.querySelector("table.e-xlfl-table>tr");t.options.column.filterTemplate?e.querySelector("#"+t.options.column.field+"-xlfl-frstvalue").focus():e.cells[1].querySelector("input:not([type=hidden])").focus()},close:this.removeDialog.bind(this),created:this.createdDialog.bind(this,n,i),buttons:[{click:this.filterBtnClick.bind(this,i),buttonModel:{content:this.getLocalizedLabel("OKButton"),isPrimary:!0,cssClass:"e-xlfl-okbtn"}},{click:this.removeDialog.bind(this),buttonModel:{content:this.getLocalizedLabel("CancelButton"),cssClass:"e-xlfl-cancelbtn"}}],content:s,width:430,animationSettings:{effect:"None"}}),this.dlgObj.isStringTemplate=!0,this.dlgDiv.setAttribute("aria-label",this.getLocalizedLabel("CustomFilterDialogARIA")),this.dlgObj.appendTo(this.dlgDiv)}},{key:"removeDialog",value:function(){this.removeObjects([this.dropOptr,this.datePicker,this.dateTimePicker,this.actObj,this.numericTxtObj,this.dlgObj]),JA(this.dlgDiv)}},{key:"createdDialog",value:function(e,t){this.renderCustomFilter(e,t),this.dlgObj.element.style.left="0px",this.dlgObj.element.style.top="0px",KI.isDevice&&window.innerWidth<440&&(this.dlgObj.element.style.width="90%"),this.parent.notify("beforeCustomFilterOpen",{column:t,dialog:this.dialogObj}),this.dlgObj.show(),qF(this.parent.element,this.dlgObj.element.parentElement)}},{key:"renderCustomFilter",value:function(e,t){var n=this.dlgObj.element.querySelector(".e-xlfl-maindiv"),i=this.parent.createElement("div",{innerHTML:this.getLocalizedLabel("ShowRowsWhere"),className:"e-xlfl-dlgfields"});n.appendChild(i);var a=this.parent.createElement("div",{innerHTML:this.options.displayName,className:"e-xlfl-fieldset"});n.appendChild(a),this.renderFilterUI(t,n)}},{key:"filterBtnClick",value:function(e){var t,n=!JO(e)&&PF(e),i=!JO(e)&&LF(e),a=n?i:e,r=this.dlgDiv.querySelector("#"+a+"-xlfl-frstvalue").ej2_instances[0],s=this.dlgDiv.querySelector("#"+a+"-xlfl-frstoptr").ej2_instances[0],l=this.dlgDiv.querySelector("#"+a+"-xlfl-secndvalue").ej2_instances[0],o=this.dlgDiv.querySelector("#"+a+"-xlfl-secndoptr").ej2_instances[0];"string"===this.options.type&&(t=this.dlgDiv.querySelector("#"+a+"-xlflmtcase").ej2_instances[0].checked);var u=this.dlgDiv.querySelector("#"+a+"e-xlfl-frstpredicate").ej2_instances[0],c=(this.dlgDiv.querySelector("#"+a+"e-xlfl-secndpredicate"),u.checked?"and":"or");null===l.value&&(c="or"),this.filterByColumn(this.options.field,s.value,r.value,c,t,this.options.ignoreAccent,o.value,l.value),this.removeDialog()}},{key:"filterByColumn",value:function(e,t,n,i,a,r,s,l){var o,u=this.parent.getColumnByField?this.parent.getColumnByField(e):this.options.column,c=this.isForeignColumn(u)?u.foreignKeyValue:e,h=[];h.push({field:c,predicate:i,matchCase:a,ignoreAccent:r,operator:t,value:n,type:this.options.type});var d={instance:this,handler:this.filterByColumn,arg1:e,arg2:t,arg3:n,arg4:i,arg5:a,arg6:r,arg7:s,arg8:l,cancel:!1};if(this.parent.notify("filter-Prevent",d),!d.cancel){o=new CM(c,t.toLowerCase(),n,!a,r),JO(l)||JO(s)||(h.push({field:c,predicate:i,matchCase:a,ignoreAccent:r,operator:s,value:l,type:this.options.type}),o=o[i](c,s.toLowerCase(),l,!a,r));var p={action:"filtering",filterCollection:h,field:this.options.field,ejpredicate:o,actualPredicate:h};this.isForeignColumn(u)?this.foreignKeyFilter(p,h,o):this.options.handler(p)}}},{key:"renderOperatorUI",value:function(e,t,n,i,a){var r=this.parent.createElement("tr",{className:"e-xlfl-fields"});t.appendChild(r);var s=this.parent.createElement("td",{className:"e-xlfl-optr"});r.appendChild(s);var l=this.parent.createElement("div",{className:"e-xlfl-optrdiv"}),o=!JO(e)&&PF(e),u=!JO(e)&&LF(e),c=this.parent.createElement("input",{id:o?u+n:e+n});l.appendChild(c),s.appendChild(l);var h=this.customFilterOperators[this.options.type+"Operator"];this.optrData=h;var d=this.dropSelectedVal(this.options.column,i,a),p="";this.menuItem&&((p=this.menuItem.text.slice(0,-3))!==this.getLocalizedLabel("CustomFilter")&&(d=a?p:void 0),p===this.getLocalizedLabel("Between")&&(d=this.getLocalizedLabel(a?"GreaterThanOrEqual":"LessThanOrEqual")));var f=this.options.column;return this.dropOptr=new YR(EF({dataSource:h,fields:{text:"text",value:"value"},text:d,open:this.dropDownOpen.bind(this),enableRtl:this.parent.enableRtl,change:this.dropDownValueChange.bind(this)},f.filter.params)),this.dropOptr.appendTo(c),{fieldElement:r,operator:this.getSelectedValue(d)}}},{key:"dropDownOpen",value:function(e){e.popup.element.style.zIndex=(this.dialogObj.zIndex+1).toString()}},{key:"dropDownValueChange",value:function(e){e.element.id.includes("-xlfl-frstoptr")?this.firstOperator=e.value.toString():this.secondOperator=e.value.toString()}},{key:"getFilterUIInfo",value:function(){return{firstOperator:this.firstOperator,secondOperator:this.secondOperator,field:this.options.field}}},{key:"getSelectedValue",value:function(e){var t=new AM(this.optrData).executeLocal((new kM).where("text","equal",e));return JO(t[0])?"":t[0].value}},{key:"dropSelectedVal",value:function(e,t,n){var i;return i=t&&t.length>0?2===t.length?n?t[0].operator:t[1].operator:n?t[0].operator:void 0:n&&"string"===e.type&&!e.filter.operator?"startswith":n?e.filter.operator||"equal":void 0,this.getSelectedText(i)}},{key:"getSelectedText",value:function(e){var t=new AM(this.optrData).executeLocal((new kM).where("value","equal",e));return JO(t[0])?"":t[0].text}},{key:"renderFilterUI",value:function(e,t){var n=this.existingPredicate[e],i=this.parent.createElement("table",{className:"e-xlfl-table"});t.appendChild(i);var a=this.parent.createElement("colGroup");a.innerHTML='<col style="width: 50%"></col><col style="width: 50%"></col>',i.appendChild(a);var r=this.renderOperatorUI(e,i,"-xlfl-frstoptr",n,!0);this.firstOperator=r.operator,this.renderFlValueUI(e,r,"-xlfl-frstvalue",n,!0);var s=this.parent.createElement("tr",{className:"e-xlfl-predicate"});i.appendChild(s),this.renderRadioButton(e,s,n),r=this.renderOperatorUI(e,i,"-xlfl-secndoptr",n,!1),this.secondOperator=r.operator,this.renderFlValueUI(e,r,"-xlfl-secndvalue",n,!1)}},{key:"renderRadioButton",value:function(e,t,n){var i=this.parent.createElement("td",{className:"e-xlfl-radio",attrs:{colSpan:"2"}});t.appendChild(i);var a=this.parent.createElement("div",{className:"e-xlfl-radiodiv",attrs:{style:"display: inline-block"}}),r=!JO(e)&&PF(e),s=!JO(e)&&LF(e),l=this.parent.createElement("input",{id:r?s+"e-xlfl-frstpredicate":e+"e-xlfl-frstpredicate",attrs:{type:"radio"}}),o=this.parent.createElement("input",{id:r?s+"e-xlfl-secndpredicate":e+"e-xlfl-secndpredicate",attrs:{type:"radio"}});a.appendChild(l),a.appendChild(o),i.appendChild(a),"string"===this.options.type&&this.renderMatchCase(e,t,i,"-xlflmtcase",n);var u=new KM({label:this.getLocalizedLabel("AND"),name:"default",cssClass:"e-xlfl-radio-and",checked:!0,enableRtl:this.parent.enableRtl}),c=new KM({label:this.getLocalizedLabel("OR"),name:"default",cssClass:"e-xlfl-radio-or",enableRtl:this.parent.enableRtl});"and"===(n&&2===n.length?n[1].predicate:"and")?(u.checked=!0,c.checked=!1):(c.checked=!0,u.checked=!1),u.appendTo(l),c.appendTo(o)}},{key:"removeObjects",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i&&!i.isDestroyed&&i.destroy()}}catch(a){n.e(a)}finally{n.f()}}},{key:"renderFlValueUI",value:function(e,t,n,i,a){var r=this.parent.createElement("td",{className:"e-xlfl-value"});t.fieldElement.appendChild(r);var s=!JO(e)&&PF(e),l=!JO(e)&&LF(e),o=this.parent.createElement("div",{className:"e-xlfl-valuediv"}),u=this.options.filteredColumns.some((function(t){return e===t.field})),c=this.options.filteredColumns.filter((function(t){return t.field===e}));if(this.options.column.filterTemplate){var h={},d=this.options.column;u&&n&&(h=this.getExcelFilterData(n,h,d,i,c));var p=this.parent.element.id+d.uid+"filterTemplate";TF(o,this.options.column.getFilterTemplate()(h,this.parent,"filterTemplate",p)),o.children[0].id=s?l+n:e+n,r.appendChild(o)}else{var f,m,g=this.parent.createElement("input",{id:s?l+n:e+n});o.appendChild(g),r.appendChild(o),i&&i.length>0&&(f=(m=2===i.length?a?i[0]:i[1]:a?i[0]:void 0)&&m.operator===t.operator?m.value:void 0),{string:this.renderAutoComplete.bind(this),number:this.renderNumericTextBox.bind(this),date:this.renderDate.bind(this),datetime:this.renderDateTime.bind(this)}[this.options.type](this.options,e,g,f,this.parent.enableRtl)}}},{key:"getExcelFilterData",value:function(e,t,n,i,a){var r="-xlfl-frstvalue"===e?0:1;if("-xlfl-frstvalue"===e||a.length>1){var s=this.options.column.columnData&&a.length>1?1===this.options.column.columnData.length?0:1:r;(t={column:i instanceof Array?i[r]:i})[this.options.field]=n.foreignKeyValue?this.options.column.columnData[s][n.foreignKeyValue]:a[s].value,this.options.foreignKeyValue&&(t[this.options.foreignKeyValue]=this.options.column.columnData[s][n.foreignKeyValue])}return t}},{key:"renderMatchCase",value:function(e,t,n,i,a){var r=this.parent.createElement("div",{className:"e-xlfl-matchcasediv",attrs:{style:"display: inline-block"}}),s=!JO(e)&&PF(e),l=!JO(e)&&LF(e),o=this.parent.createElement("input",{id:s?l+i:e+i,attrs:{type:"checkbox"}});r.appendChild(o),n.appendChild(r);var u=!!(a&&a.length>0)&&(a&&2===a.length?a[1].matchCase:a[0].matchCase);new GM({label:this.getLocalizedLabel("MatchCase"),enableRtl:this.parent.enableRtl,checked:u}).appendTo(o)}},{key:"renderDate",value:function(e,t,n,i,a){var r=jF(e.format,e.type);this.datePicker=new dF(EF({format:r,cssClass:"e-popup-flmenu",placeholder:this.getLocalizedLabel("CustomFilterDatePlaceHolder"),width:"100%",enableRtl:a,value:new Date(i),locale:this.parent.locale},e.column.filter.params)),this.datePicker.appendTo(n)}},{key:"renderDateTime",value:function(e,t,n,i,a){var r=jF(e.format,e.type);this.dateTimePicker=new xF(EF({format:r,cssClass:"e-popup-flmenu",placeholder:this.getLocalizedLabel("CustomFilterDatePlaceHolder"),width:"100%",enableRtl:a,value:new Date(i),locale:this.parent.locale},e.column.filter.params)),this.dateTimePicker.appendTo(n)}},{key:"completeAction",value:function(e){e.result=function(e){for(var t={},n=[],i=0;i<e.length;i++)e[i]in t||(n.push(e[i].toString()),t[e[i]]=1);return n}(e.result)}},{key:"renderNumericTextBox",value:function(e,t,n,i,a){this.numericTxtObj=new eN(EF({format:e.format,placeholder:this.getLocalizedLabel("CustomFilterPlaceHolder"),enableRtl:a,value:i,locale:this.parent.locale},e.column.filter.params)),this.numericTxtObj.appendTo(n)}},{key:"renderAutoComplete",value:function(e,t,n,i,a){var r=this,s=this.options.column,l=this.isForeignColumn(s),o=l?s.dataSource:e.dataSource,u={value:l?s.foreignKeyValue:t},c=new iF(EF({dataSource:o instanceof AM?o:new AM(o),fields:u,query:this.getQuery(),sortOrder:"Ascending",locale:this.parent.locale,cssClass:"e-popup-flmenu",autofill:!0,focus:function(){var i=!JO(t)&&PF(t),a=!JO(t)&&LF(t),s=i?a:t;c.filterType=r.dlgDiv.querySelector("#"+s+(n.id===s+"-xlfl-frstvalue"?"-xlfl-frstoptr":"-xlfl-secndoptr")).ej2_instances[0].value,c.ignoreCase="string"!==e.type||!r.dlgDiv.querySelector("#"+s+"-xlflmtcase").ej2_instances[0].checked,c.filterType=JO(c.filterType)?"equal":c.filterType},placeholder:this.getLocalizedLabel("CustomFilterPlaceHolder"),enableRtl:a,actionComplete:function(e){var n=!JO(t)&&PF(t);e.result=e.result.filter((function(e,t,i){return i.map((function(e){return n?r.performComplexDataOperation(c.fields.value,e):e[c.fields.value]})).indexOf(n?r.performComplexDataOperation(c.fields.value,e):e[r.actObj.fields.value])===t}))},value:i},s.filter.params));c.appendTo(n),this.actObj=c}},{key:"performComplexDataOperation",value:function(e,t){for(var n,i=e.split(".").length,a=e.split("."),r=t,s=0;s<i;s++)r=n=r[a[s]];return n}}]),n}(UF);function YF(e){var t,n=[];return(e=-1===(e=e.indexOf("!")>-1?e.split("!")[1]:e).indexOf(":")?e+":"+e:e).split(":").forEach((function(e){t=GF(e),n.push(t[0]),n.push(t[1])})),n}function GF(e){return[parseInt(e.match(/\d+/)[0],10)-1,XF(e.match(/[A-Z]+/i)[0])]}function XF(e){for(var t=0,n=(e=e.split("").reverse().join("")).length-1;n>=0;n--)t+=(e[n].charCodeAt(0)-64)*Math.pow(26,n);return t-1}function KF(e,t){return ZF(t+1)+(e+1)}function $F(e){return KF(e[0],e[1])+":"+(JO(e[2])?KF(e[0],e[1]):KF(e[2],e[3]))}function ZF(e){return e/26>1?ZF(e%26==0?e/26-1:Math.floor(e/26))+String.fromCharCode(e%26==0?"Z".charCodeAt(0):64+e%26):String.fromCharCode(64+e)}function JF(e){return YF(QF(e))}function QF(e){return e.split("!")[1]||e}function eH(e){var t=e.slice();return e[0]>e[2]&&tH(t,0,2),e[1]>e[3]&&tH(t,1,3),t}function tH(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function nH(e){return e[0]===e[2]&&e[1]===e[3]}function iH(e,t,n,i,a){return new aH(e,t,n,i,a)}var aH=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this.preventCallback=!1,this.context=t,this.workerTask=n,this.defaultListener=i,this.workerData=a,r&&(this.preventCallback=!0),this.initWorker()}return _createClass(e,[{key:"terminate",value:function(){this.worker.terminate(),URL.revokeObjectURL(this.workerUrl)}},{key:"initWorker",value:function(){var e=new Blob([this.getFnCode()],{type:"text/javascript"});this.workerUrl=URL.createObjectURL(e),this.worker=new Worker(this.workerUrl),this.worker.onmessage=this.messageFromWorker.bind(this),this.worker.onerror=this.onError.bind(this),this.worker.postMessage(this.workerData)}},{key:"messageFromWorker",value:function(e){this.terminate(),this.defaultListener.apply(this.context,[e.data])}},{key:"onError",value:function(e){throw this.terminate(),e.message||e}},{key:"getFnCode",value:function(){var e,t,n="",i="",a=!1;if("function"==typeof this.workerTask)this.workerTask.toString().indexOf("function")<0?i="function "+this.workerTask.toString():(i=this.workerTask.toString(),a=!0),n+="self.workerTask = "+i+"; \n";else if("object"==typeof this.workerTask)for(t=Object.keys(this.workerTask),e=0;e<t.length;e++)this.workerTask[t[e]].toString().indexOf("function")<0?i="function "+this.workerTask[t[e]].toString():(i=this.workerTask[t[e]].toString(),a=!0),n+=(0===e?"self.workerTask":t[e])+"= "+i+"; \n";return n+="self.onmessage = "+(a?"":" function ")+(this.preventCallback?this.getMessageFn.toString():this.getCallbackMessageFn.toString())+"; \n"}},{key:"getCallbackMessageFn",value:function(e){postMessage(this.workerTask.apply(this,_toConsumableArray(e.data)))}},{key:"getMessageFn",value:function(e){this.workerTask.apply(this,_toConsumableArray(e.data))}}]),e}();function rH(e){return(e=(e=Number(e))>0&&e<1?1+e:0===e?1:e)>60&&(e-=1),new Date(864e5*(e-1)+new Date("01/01/1900").getTime())}function sH(e){return e-parseFloat(e)>=0}var lH="setCellFormat",oH="workbookFormulaOperation",uH="ShowDialog",cH="setMerge",hH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.localeObj=PI(this.parent.locale),this.decimalSep=this.localeObj.decimal,this.groupSep=this.localeObj.group,this.addEventListener()}return _createClass(e,[{key:"numberFormatting",value:function(e){var t=this.parent.activeSheetIndex;e.range&&e.range.indexOf("!")>-1&&(t=wB(this.parent,e.range.split("!")[0]));for(var n,i=this.parent.sheets[t],a=YF(e.range?e.range.indexOf("!")>-1?e.range.split("!")[1]:e.range:i.selectedRange),r=a[0];r<=a[2];r++)for(var s=a[1];s<=a[3];s++)gB(r,s,i,{format:e.format},!0),n=mB(r,s,i,!0),this.getFormattedCell({type:pH(n.format),value:n.value,format:n.format,rowIndex:r,colIndex:s,sheetIndex:t,cell:n})}},{key:"getFormattedCell",value:function(e){var t=JO(e.value)?"":e.value,n=this.parent.sheets[JO(e.sheetIndex)?this.parent.activeSheetIndex:e.sheetIndex],i=YF(n.activeCell),a=Number(e.sheetIndex)?Number(e.sheetIndex):this.parent.activeSheetIndex,r=e.cell?e.cell:mB(i[0],i[1],n),s=!1,l=LI(this.parent.locale,"USD");if(""===e.format||"General"===e.format){r=r||{};var o={value:e.value,rowIndex:i[0],colIndex:i[1],sheetIndex:this.parent.activeSheetIndex,updatedVal:e.value,isDate:!1,isTime:!1};this.checkDateFormat(o),o.isDate?(s=!0,r.value=e.value=o.updatedVal,r.format=e.format=dH("ShortDate")):o.isTime&&(s=!0,r.value=e.value=o.updatedVal,r.format=e.format=dH("Time"))}e.type=e.format?pH(e.format):"General";var u=this.processFormats(e,t,s,r);return this.parent.getActiveSheet().id-1===a&&this.parent.notify("refreshCellElem",{isRightAlign:u.rightAlign,result:u.fResult||e.value,rowIndex:e.rowIndex,colIndex:e.colIndex,sheetIndex:e.sheetIndex,type:e.type,curSymbol:l,value:e.value||""}),!e.onLoad&&(e.rowIndex>n.usedRange.rowIndex||e.colIndex>n.usedRange.colIndex)&&this.parent.setUsedRange(e.rowIndex,e.colIndex),e.formattedText=u.fResult||e.value,e.isRightAlign=u.rightAlign,e.curSymbol=l,e.formattedText}},{key:"processFormats",value:function(e,t,n,i){var a,r=new TI,s=LI(this.parent.locale,"USD");if(e.format=e.format?e.format:"General",""!==t)switch(e.type){case"General":t=(a=this.autoDetectGeneralFormat({args:e,currencySymbol:s,fResult:t,intl:r,isRightAlign:n,curCode:"USD",cell:i,rowIdx:Number(e.rowIdx),colIdx:Number(e.colIdx)})).fResult,n=a.isRightAlign;break;case"Number":sH(t)&&(t=this.applyNumberFormat(e,r),n=!0);break;case"Currency":sH(t)&&(t=this.currencyFormat(e,r),n=!0);break;case"Percentage":sH(t)&&(t=this.percentageFormat(e,r),n=!0);break;case"Accounting":sH(t)&&(t=this.accountingFormat(e,r),n=!0);break;case"ShortDate":n=!!(t=this.shortDateFormat(e,r));break;case"LongDate":n=!!(t=this.longDateFormat(e,r));break;case"Time":n=!!(t=this.timeFormat(e,r));break;case"Fraction":sH(t)&&(t=this.fractionFormat(e),n=!0);break;case"Scientific":sH(t)&&(t=this.scientificFormat(e),n=!0);break;case"Text":n=!1}return{fResult:t,rightAlign:n}}},{key:"autoDetectGeneralFormat",value:function(e){if(YF(this.parent.getActiveSheet().activeCell),sH(e.fResult)&&(e.args.format&&""!==e.args.format&&(e.fResult=e.args.format.toString().indexOf("%")>-1?this.percentageFormat(e.args,e.intl):e.args.format.toString().indexOf(e.currencySymbol)>-1?this.currencyFormat(e.args,e.intl):this.applyNumberFormat(e.args,e.intl)),e.fResult&&e.fResult.toString().split(this.decimalSep)[0].length>11&&(e.fResult=this.scientificFormat(e.args)),e.isRightAlign=!0),!JO(e.fResult)){var t=e.fResult.toString();t.indexOf("%")>-1&&""!==t.split("%")[0]&&""===t.split("%")[1].trim()&&"NaN"!==Number(t.split("%")[0].split(this.groupSep).join("")).toString()?(e.args.value=Number(t.split("%")[0].split(this.groupSep).join("")),e.cell.format=e.args.format=dH("Percentage"),e.fResult=this.percentageFormat(e.args,e.intl),e.cell.value=e.args.value.toString(),gB(e.rowIdx,e.colIdx,this.parent.getActiveSheet(),e.cell,!0),e.isRightAlign=!0):t.indexOf(e.currencySymbol)>-1&&""!==t.split(e.currencySymbol)[1]&&"NaN"!==Number(t.split(e.currencySymbol)[1].split(this.groupSep).join("")).toString()&&(e.args.value=Number(t.split(e.currencySymbol)[1].split(this.groupSep).join("")),e.cell.format=e.args.format=dH("Currency"),e.fResult=this.currencyFormat(e.args,e.intl),e.cell.value=e.args.value.toString(),gB(e.rowIdx,e.colIdx,this.parent.getActiveSheet(),e.cell,!0),e.isRightAlign=!0)}return{isRightAlign:e.isRightAlign,fResult:e.fResult}}},{key:"findSuffix",value:function(e,t){var n=e.length-t.length;return e.substr(0,n<0?0:n)+t}},{key:"applyNumberFormat",value:function(e,t){e.format=""===e.format?dH("Number"):e.format,e.format=e.format.toString().split("_)").join(" ").split("_(").join(" ").split("[Red]").join("");var n=e.format.toString().split(";");return e.format=Number(e.value)>=0?n[0]:JO(n[1])?n[0]:n[1].split("*").join(" "),t.formatNumber(Number(e.value),{format:e.format})}},{key:"currencyFormat",value:function(e,t){e.format=""===e.format?dH("Currency"):e.format,e.format=e.format.toString().split("_(").join(" ").split("_)").join(" ").split("[Red]").join("");var n=e.format.toString().split(";");return e.format=Number(e.value)>=0?n[0]:JO(n[1])?n[0]:n[1].split("*").join(" "),t.formatNumber(Number(e.value),{format:e.format,currency:"USD"})}},{key:"percentageFormat",value:function(e,t){return e.format=""===e.format?dH("Percentage"):e.format,t.formatNumber(Number(e.value),{format:e.format})}},{key:"accountingFormat",value:function(e,t){e.format=""===e.format?dH("Accounting"):e.format,e.format=e.format.split("_(").join(" ").split("_)").join(" ").split("[Red]").join("");var n=LI(this.parent.locale,"USD"),i=e.format.split(";");return e.format=Number(e.value)>=0?i[0]:i[1].split("*").join(" "),0===Number(e.value)?n+"- ":t.formatNumber(Number(e.value),{format:e.format,currency:"USD"}).split("-").join("")}},{key:"shortDateFormat",value:function(e,t){var n,i=rH(e.value),a=""===e.format||"General"===e.format?dH("ShortDate"):e.format.toString();return a===dH("ShortDate")?(a="M/d/yy",n={type:"date",skeleton:"yMd"}):n={type:"date",format:a},t.formatDate(i,n)}},{key:"longDateFormat",value:function(e,t){var n=rH(e.value),i=""===e.format||"General"===e.format?dH("LongDate"):e.format.toString();return i===dH("LongDate")&&(i="EEEE, MMMM d, y"),t.formatDate(n,{type:"date",format:i})}},{key:"timeFormat",value:function(e,t){if(JO(e.value))return"";JO(e.value.toString().split(this.decimalSep)[1])||(e.value=parseFloat("1"+this.decimalSep+e.value.split(this.decimalSep)[1])||e.value);var n=rH(e.value),i=""===e.format||"General"===e.format?dH("Time"):e.format.toString();return i===dH("Time")&&(i="h:mm:ss a"),t.formatDate(n,{type:"time",skeleton:"medium",format:i})}},{key:"scientificFormat",value:function(e){e.format=""===e.format?dH("Scientific"):e.format;var t=e.format.split("+")[1],n=this.findDecimalPlaces(e.format,"Scientific"),i=Number(e.value).toExponential(n);return i.indexOf("e+")>-1?i=i.split("e+")[0]+"E+"+this.findSuffix(t,i.split("e+")[1]):i.indexOf("e-")>-1&&(i=i.split("e-")[0]+"E-"+ +this.findSuffix(t,i.split("e-")[1])),i}},{key:"fractionFormat",value:function(e){e.format=""===e.format?dH("Fraction"):e.format;var t,n="";return e.value.toString().indexOf(this.decimalSep)>-1&&sH(e.value)?(n=e.value.toString().split(this.decimalSep)[0],t=function(e){var t=e.toString();if(e===parseInt(t,10))return parseInt(t,10)+"  ";var n=t.indexOf(".")>-1?t.split(".")[1]:0,i=Math.pow(10,n.toString().replace("-","").length),a=Math.abs(function e(t,n){return t=Number(t),(n=Number(n))?e(n,t%n):t}(n,i));return n/a+"/"+i/a}(Number(e.value)),0===Number(n)?" "+t:n+" "+t):n}},{key:"findDecimalPlaces",value:function(e,t){switch(t){case"Scientific":var n=e.toUpperCase().indexOf("E"),i=e.indexOf(this.decimalSep);if(n>-1)return e.substring(i+1,n).length}return 2}},{key:"checkDateFormat",value:function(e){var t,n,i,a,r,s,l,o,u,c=new TI,h=JO(e.value)?"":e.value.toString(),d=mB(e.rowIndex,e.colIndex,OB(this.parent,JO(e.sheetIndex)?this.parent.activeSheetIndex:e.sheetIndex));(h&&h.indexOf("/")>-1||h.indexOf("-")>0||h.indexOf(":")>-1)&&(t=function(e,t){var n=NI(),i=n.dateTimeFormats.availableFormats,a={dateObj:null,isCustom:!1,type:""};"string"==typeof e&&(e=e.toUpperCase());for(var r=0,s=Object.keys(n.dateFormats);r<s.length;r++){var l=s[r];if(a.dateObj=t.parseDate(e,{format:n.dateFormats[l],skeleton:l}),a.dateObj){a.type="date",a.isCustom=!1;break}}if(JO(a.dateObj))for(var o=0,u=Object.keys(i);o<u.length;o++){var c=u[o];if(a.dateObj=t.parseDate(e,{format:i[c],skeleton:c}),a.dateObj){if(a.type=e.toString().indexOf(":")>-1?"time":"datetime","time"===a.type){var h=a.dateObj.toLocaleTimeString();a.dateObj=new Date("01/01/1900 "+h)}a.isCustom=!0;break}}if(JO(a.dateObj))for(var d=0,p=Object.keys(n.timeFormats);d<p.length;d++){var f=p[d];if(a.dateObj=t.parseDate(e,{format:n.timeFormats[f],skeleton:f}),a.dateObj){var m=a.dateObj.toLocaleTimeString();a.dateObj=new Date("01/01/1900 "+m),a.type="time",a.isCustom=!1;break}}return"#DIV/0!"===e||a.dateObj||"Invalid Date"===new Date(e).toString()||(a.dateObj=new Date(e)),a}(h,c),JO(t.dateObj)||"Invalid Date"===t.dateObj.toString()||(d=d||{},h=(n=t.dateObj,i=h.indexOf(":")>-1,a=(new Date).getTimezoneOffset(),r=new Date("01/01/1900").toUTCString().replace(" GMT",""),s=new Date(r),l=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.valueOf())}(n)?n:new Date(n),o=new Date(l.toUTCString().replace(" GMT","")).getTime()-s.getTime(),u=(a>0?o+60*a*1e3:o-60*a*1e3)/864e5,i?u:parseInt(u.toString(),10)+2).toString(),d.format&&""!==d.format||(d.format=dH("time"===t.type?"Time":"ShortDate")),e.isDate="date"===t.type||"datetime"===t.type,e.isTime="time"===t.type,e.dateObj=t.dateObj)),e.updatedVal=h}},{key:"formattedBarText",value:function(e){var t=pH(e.cell?e.cell.format:""),n=new TI,i=e.value,a=dH("ShortDate"),r=dH("Time");switch(t){case"ShortDate":case"LongDate":e.value=this.shortDateFormat({type:t,value:e.value,format:a},n);break;case"Time":e.value=this.shortDateFormat({type:t,value:e.value,format:a},n)+" "+this.timeFormat({type:t,value:e.value,format:r},n)}(!e.value||e.value&&e.value.toString().indexOf("null")>-1)&&(e.value=i)}},{key:"addEventListener",value:function(){this.parent.on("applyNumber",this.numberFormatting,this),this.parent.on("getFormattedCell",this.getFormattedCell,this),this.parent.on("checkDateFormat",this.checkDateFormat,this),this.parent.on("getFormattedBarText",this.formattedBarText,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("applyNumber",this.numberFormatting),this.parent.off("getFormattedCell",this.getFormattedCell),this.parent.off("checkDateFormat",this.checkDateFormat),this.parent.off("getFormattedBarText",this.formattedBarText))}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"workbookNumberFormat"}}]),e}();function dH(e){var t="General";switch(e.split(" ").join("")){case"Number":t="0.00";break;case"Currency":t="$#,##0.00";break;case"Accounting":t='_($* #,##0.00_);_($* (#,##0.00);_($* "-"??_);_(@_)';break;case"ShortDate":t="mm-dd-yyyy";break;case"LongDate":t="dddd, mmmm dd, yyyy";break;case"Time":t="h:mm:ss AM/PM";break;case"Percentage":t="0.00%";break;case"Fraction":t="# ?/?";break;case"Scientific":t="0.00E+00";break;case"Text":t="@"}return t}function pH(e){var t="General";switch(e){case"0.00":t="Number";break;case"$#,##0.00":case"$#,##0_);[Red]($#,##0)":case"$#,##0.00_);[Red]($#,##0.00)":case"$#,##0.00_);($#,##0.00)":case"$#,##0_);($#,##0)":t="Currency";break;case'_($*#,##0.00_);_($*(#,##0.00);_($*"-"??_);_(@_)':case'_($*#,##0.00_);_($* (#,##0.00);_($*"-"??_);_(@_)':case'_($* #,##0.00_);_($* (#,##0.00);_($* "-"??_);_(@_)':t="Accounting";break;case"mm-dd-yyyy":case"dd-mm-yyyy":case"dd-mm-yy":case"mm-dd-yy":t="ShortDate";break;case"dddd, mmmm dd, yyyy":t="LongDate";break;case"h:mm:ss AM/PM":t="Time";break;case"0.00%":case"0%":t="Percentage";break;case"# ?/?":case"# ??/??":case"# ???/???":t="Fraction";break;case"0.00E+00":t="Scientific";break;case"@":t="Text"}return t}var fH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.requestedInfo=[],this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){this.parent.on("updateSheetFromDataSource",this.updateSheetFromDataSourceHandler,this),this.parent.on("dataSourceChanged",this.dataSourceChangedHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("updateSheetFromDataSource",this.updateSheetFromDataSourceHandler),this.parent.off("dataSourceChanged",this.dataSourceChangedHandler))}},{key:"updateSheetFromDataSourceHandler",value:function(e){var t,n,i,a,r,s,l,o,u,c,h=this,d=[],p=[],f=new DM;if(e.promise=f.promise,e.sheet&&e.sheet.ranges.length)for(var m=function(m){var g=e.indexes[0],v=e.indexes[2],y=e.sheet.ranges[m];o=YF(y.startCell)[0],s=y.dataSource instanceof AM?y.dataSource:y.dataSource?new AM(y.dataSource):new AM,r=r||s.dataSource.url,e.sheet.isLocalData=!s.dataSource.url,o<=g?g-=o:o<=v?(v-=o,g=0):g=-1,y.showFieldAsHeader&&0!==g&&(g-=1);var b=!1,k=0;h.initRangeInfo(y);var C=h.getMaxCount(y);if(c=h.getLoadedInfo(g,v,y),g=c.unloadedRange[0],v=c.unloadedRange[1],y.info.insertRowRange&&(y.info.insertRowRange.forEach((function(e){k+=e[1]-e[0]+1})),g-=k,v-=k),g>C?b=!0:v>C&&(v=C),h.requestedInfo.push({deferred:f,indexes:e.indexes,isNotLoaded:c.isNotLoaded,sheetId:e.sheet.id}),g>=0&&c.isNotLoaded&&!b){p[m]=g,d.push(!1);var w=(y.query?y.query:new kM).clone();s.executeQuery(w.range(g,v>=C?v:v+1).requiresCount()).then((function(r){if(h.parent&&!h.parent.isDestroyed&&!e.skipModelUpdate){if(a=r.result&&r.result.result?r.result.result:r.result,i=YF(y.startCell),o=i[0],u=i[1],a.length){if(y.info.count||(C=r.count,y.info.count=r.count),n=Object.keys(a[0]),y.info.fldLen||(y.info.fldLen=n.length),y.info.insertColumnRange){var s=0;y.info.insertColumnRange.forEach((function(e){for(var t=e[0];t<=e[1];t++)n.splice(t<=u?0:t-u,0,"emptyCell".concat(s)),s++}))}0===p[m]&&y.showFieldAsHeader&&(l=o+p[m]+k,n.forEach((function(n,i){(t=mB(l,u+i,e.sheet,!0))?t.value||n.includes("emptyCell")||(t.value=n):e.sheet.rows[o+p[m]].cells[u+i]=n.includes("emptyCell")?{}:{value:n}}))),a.forEach((function(i,a){l=o+p[m]+a+(y.showFieldAsHeader?1:0)+k;for(var r=0;r<n.length;r++)(t=mB(l,u+r,e.sheet,!0))?t.value||n[r].includes("emptyCell")||gB(l,u+r,e.sheet,h.getCellDataFromProp(i[n[r]]),!0):e.sheet.rows[l].cells[u+r]=n[r].includes("emptyCell")?{}:h.getCellDataFromProp(i[n[r]]),h.checkDataForFormat({args:e,cell:t,colIndex:u+r,rowIndex:l,i:a,j:r,k:m,range:y,sRanges:p,value:i[n[r]]})}))}else n=[];if(e.sheet.usedRange.rowIndex=Math.max(o+(C||r.count)+(y.showFieldAsHeader?1:0)+k-1,e.sheet.usedRange.rowIndex),e.sheet.usedRange.colIndex=Math.max(u+n.length-1,e.sheet.usedRange.colIndex),k?(c=h.getLoadedInfo(g,v,y),g=c.unloadedRange[0],v=c.unloadedRange[1],g>C&&(c.isNotLoaded=!1),c.isNotLoaded&&(v>C&&(v=C),y.info.loadedRange.push([g,v]))):y.info.loadedRange.push([g,v]),d[m]=!0,-1===d.indexOf(!1)){if(v+o<e.sheet.usedRange.rowIndex){e.rangeSettingCount||(e.rangeSettingCount=[]),e.rangeSettingCount.push(m);var f={sheet:e.sheet,indexes:[0,0,e.sheet.usedRange.rowIndex,e.sheet.usedRange.colIndex],promise:new Promise((function(e,t){e(void 0)})),rangeSettingCount:e.rangeSettingCount};h.updateSheetFromDataSourceHandler(f),f.promise.then((function(){"workbook"!==h.parent.getModuleName()&&(e.rangeSettingCount.pop(),e.rangeSettingCount.length||h.parent.notify("created",null))}))}h.checkResolve(e.indexes,e.sheet.id)}}}))}else 0===m&&-1===d.indexOf(!1)&&h.checkResolve(e.indexes,e.sheet.id)},g=e.sheet.ranges.length-1;g>=0;g--)m(g);else f.resolve()}},{key:"checkResolve",value:function(e,t){var n,i,a=0;this.requestedInfo.forEach((function(r,s){((i=JSON.stringify(r.indexes)===JSON.stringify(e)&&t===r.sheetId)||n)&&(0===s?(r.deferred.resolve(),a++,n=!0):!n||!r.isLoaded&&r.isNotLoaded?i&&n?(r.deferred.resolve(),a++):i?r.isLoaded=!0:n=!1:(r.deferred.resolve(),a++))})),this.requestedInfo.splice(0,a)}},{key:"getCellDataFromProp",value:function(e){var t={};return"[object Object]"===Object.prototype.toString.call(e)?e.formula?t.formula=e.formula:e.value&&("string"!=typeof e.value||0!==e.value.indexOf("http://")&&0!==e.value.indexOf("https://")&&0!==e.value.indexOf("ftp://")&&0!==e.value.indexOf("www.")?t.value=e.value:t.hyperlink=e.value):sB(e)?t.formula=e:"string"!=typeof e||0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("ftp://")&&0!==e.indexOf("www.")?t.value=e:t.hyperlink=e,t}},{key:"checkDataForFormat",value:function(e){if(""!==e.value){var t={value:e.value,rowIndex:e.rowIndex,colIndex:e.colIndex,isDate:!1,updatedVal:e.value,isTime:!1};this.parent.notify("checkDateFormat",t),t.isDate?e.cell?(e.cell.format=dH("ShortDate"),e.cell.value=t.updatedVal):(e.args.sheet.rows[e.rowIndex].cells[e.colIndex].format=dH("ShortDate"),e.args.sheet.rows[e.rowIndex].cells[e.colIndex].value=t.updatedVal):t.isTime&&(e.cell?(e.cell.format=dH("Time"),e.cell.value=t.updatedVal):(e.args.sheet.rows[e.rowIndex].cells[e.colIndex].format=dH("Time"),e.args.sheet.rows[e.rowIndex].cells[e.colIndex].value=t.updatedVal))}}},{key:"getLoadedInfo",value:function(e,t,n){var i=!0;return n.info.loadedRange.forEach((function(n){n[0]<=e&&e<=n[1]?n[0]<=t&&t<=n[1]?i=!1:e=n[1]+1:n[0]<=t&&t<=n[1]&&(t=n[0]-1)})),{isNotLoaded:i,unloadedRange:[e,t]}}},{key:"getMaxCount",value:function(e){if(e.query)for(var t=e.query.queries,n=0;n<t.length;n++)if("onTake"===t[n].fn)return Math.min(t[n].e.nos,e.info.count||t[n].e.nos);return e.info.count}},{key:"initRangeInfo",value:function(e){e.info||(e.info={loadedRange:[]})}},{key:"dataSourceChangedHandler",value:function(e){var t,n=e.oldProp.sheets[e.sheetIdx],i=this.parent.sheets[e.sheetIdx],a=n&&n.ranges&&n.ranges[e.rangeIdx];if(a){var r=YF(a.startCell);i.ranges[e.rangeIdx].info.loadedRange=[],a.info.loadedRange.forEach((function(e){for(var n=e[0];n<e[1];n++){t=i.rows[n+r[0]];for(var s=r[1];s<r[1]+a.info.fldLen;s++)t.cells[s].value=""}}))}this.parent.notify("data-refresh",{sheetIdx:e.sheetIdx})}},{key:"getModuleName",value:function(){return"dataBind"}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null,this.requestedInfo=[]}}]),e}(),mH="editOperation",gH="keyUp",vH="keyDown",yH="contextmenuBeforeOpen",bH="autoFitRowsColumns",kH="actionComplete",CH="actionBegin",wH="renderGotoDlgt",_H="renderFindDlg",xH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"open",value:function(e){var t=this;if(this.parent.allowOpen)if(e.jsonObject)this.fetchSuccess(e.jsonObject);else{var n=new FormData;if(e.file){n.append("file",e.file);var i={file:e.file||null,cancel:!1,requestData:{method:"POST",body:n}};this.parent.trigger("beforeOpen",i),this.parent.notify(CH,{eventArgs:i,action:"beforeOpen"}),i.cancel||fetch(this.parent.openUrl,i.requestData).then((function(e){return e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText,url:e.url})})).then((function(e){return t.fetchSuccess(e)})).catch((function(e){return t.fetchFailure(e)}))}else this.parent.isOpen=!1}}},{key:"fetchFailure",value:function(e){QO(e.status)&&QO(e.statusText)&&(e.statusText="Improper response"),this.parent.notify("openFailure",e),this.parent.isOpen=!1}},{key:"fetchSuccess",value:function(e){var t=("string"==typeof e?JSON.parse(e):e).Workbook;["UnsupportedFile","InvalidUrl"].indexOf(t)>-1?this.parent.notify("openSuccess",{context:this,data:t}):(this.updateModel(t),this.parent.notify("openSuccess",{context:this,data:t}),this.parent.isOpen=!1)}},{key:"updateModel",value:function(e){this.parent.notify(oH,{action:"unRegisterSheet"}),this.parent.sheetNameCount=1,this.parent.sheets=[],this.parent.notify("sheetsDestroyed",{}),e.activeSheetIndex=e.activeSheetIndex||0,this.parent.setProperties({sheets:e.sheets,activeSheetIndex:e.activeSheetIndex,definedNames:e.definedNames||[]},!0),DB(this.parent),this.parent.notify("sheetCreated",null),this.parent.notify(oH,{action:"registerSheet",isImport:!0}),this.parent.notify(oH,{action:"initiateDefinedNames"}),this.parent.notify("protectSheet",null)}},{key:"addEventListener",value:function(){this.parent.on("workbookOpen",this.open.bind(this))}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("workbookOpen",this.open.bind(this))}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"workbookOpen"}}]),e}(),SH=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).isProcessCompleted=!1,i.saveJSON={},i.isFullPost=!1,i.needBlobData=!1,i.customParams=null,i.addEventListener(),i}return _createClass(n,[{key:"getModuleName",value:function(){return"workbookSave"}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("beginSave",this.initiateSave,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("beginSave",this.initiateSave)}},{key:"initiateSave",value:function(e){var t=e.saveSettings;this.saveSettings={saveType:t.saveType,url:t.url,fileName:t.fileName||"Sample"},this.isFullPost=e.isFullPost,this.needBlobData=e.needBlobData,this.needBlobData&&(this.isFullPost=!1),this.customParams=e.customParams,this.updateBasicSettings(),this.processSheets()}},{key:"updateBasicSettings",value:function(){var e=this.getStringifyObject(this.parent,["sheets","_isScalar","observers","closed","isStopped","hasError","__isAsync","beforeCellFormat","beforeCellRender","beforeDataBound","beforeOpen","beforeSave","beforeSelect","beforeSort","cellEdit","cellEditing","cellSave","beforeCellSave","contextMenuItemSelect","contextMenuBeforeClose","contextMenuBeforeOpen","created","dataBound","fileMenuItemSelect","fileMenuBeforeClose","fileMenuBeforeOpen","saveComplete","sortComplete","select","actionBegin","actionComplete","afterHyperlinkClick","afterHyperlinkCreate","beforeHyperlinkClick","beforeHyperlinkCreate","openComplete","openFailure","queryCellInfo"]),t=JSON.parse(e);this.parent.sheets.length&&(t.sheets=[]),this.saveJSON=t}},{key:"processSheets",value:function(){for(var e=0,t=this.parent.sheets.length;e<t;)iH(this,this.processSheet,this.updateSheet,[this.getStringifyObject(this.parent.sheets[e]),e]),e++}},{key:"updateSheet",value:function(e){this.saveJSON.sheets[e[0]]=e[1],this.isProcessCompleted=this.getSheetLength(this.saveJSON.sheets)===this.parent.sheets.length,this.isProcessCompleted&&this.save(this.saveSettings)}},{key:"getSheetLength",value:function(e){var t=0;return e.forEach((function(e){e&&t++})),t}},{key:"save",value:function(e){var t={cancel:!1,jsonObject:this.saveJSON};this.parent.notify("onSave",t),t.cancel||(this.isFullPost?this.initiateFullPostSave():iH(this,{workerTask:this.processSave},this.updateSaveResult,[this.saveJSON,e,this.customParams],!0)),this.saveJSON={}}},{key:"updateSaveResult",value:function(e){var t={status:"Success",message:"",url:this.saveSettings.url,fileName:this.saveSettings.fileName,saveType:this.saveSettings.saveType,blobData:null};"object"==typeof e&&e.error?(t.status="Failure",t.message=e.error.toString()):this.needBlobData?t.blobData=e:this.ClientFileDownload(e,this.saveSettings.fileName),this.parent.trigger("saveComplete",t),this.parent.notify("saveCompleted",t)}},{key:"ClientFileDownload",value:function(e,t){var n=this.parent.createElement("a",{attrs:{download:this.getFileNameWithExtension()}}),i=URL.createObjectURL(e);n.href=i,document.body.appendChild(n),n.click(),URL.revokeObjectURL(i),document.body.removeChild(n)}},{key:"initiateFullPostSave",value:function(){var e,t=Object.keys(this.saveSettings),n=this.parent.createElement("form",{attrs:{method:"POST",action:this.saveSettings.url}}),i=this.parent.createElement("input",{attrs:{type:"hidden",name:"JSONData"}});for(i.value=JSON.stringify(this.saveJSON),n.appendChild(i),e=0;e<t.length;e++)(i=this.parent.createElement("input",{attrs:{type:"hidden",name:t[e]}})).value=this.saveSettings[t[e]],n.appendChild(i);for(t=Object.keys(this.customParams),e=0;e<t.length;e++)(i=this.parent.createElement("input",{attrs:{type:"hidden",name:t[e]}})).value=this.customParams[t[e]],n.appendChild(i);document.body.appendChild(n),n.submit(),ZA(n),this.parent.notify("saveCompleted",{})}},{key:"getStringifyObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return JSON.stringify(e,(function(e,n){return t.indexOf(e)>-1?void 0:n&&"object"==typeof n&&n.hasOwnProperty("properties")?n.properties:null!==n?n:void 0}))}},{key:"getFileNameWithExtension",value:function(e){e||(e=this.saveSettings.fileName);var t=this.getFileExtension(),n=e.lastIndexOf(".");return n>-1&&(e=e.substr(0,n)),e+t}},{key:"getFileExtension",value:function(){return"."+this.saveSettings.saveType.toLowerCase()}}]),n}(function(){function e(t){_classCallCheck(this,e),this.parent=t}return _createClass(e,[{key:"processSheet",value:function(e,t){return[t,JSON.parse(e,(function(e,t){if(!Array.isArray(t)&&"string"!=typeof t||t.length)return t}))]}},{key:"processSave",value:function(e,t,n){var i,a=new FormData,r=Object.keys(t);for(a.append("JSONData",JSON.stringify(e)),i=0;i<r.length;i++)a.append(r[i],t[r[i]]);for(r=Object.keys(n),i=0;i<r.length;i++)a.append(r[i],n[r[i]]);fetch(t.url,{method:"POST",body:a}).then((function(e){return e.ok?e.blob():Promise.reject({message:e.statusText})})).then((function(e){postMessage(e)})).catch((function(e){postMessage({error:e.message})}))}}]),e}());function EH(e,t){for(var n=t,i=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=0;a<i.length&&!QO(n);a++)n=n[i[a]];return n}function OH(e,t,n){var i,a,r=e.replace(/\[/g,".").replace(/\]/g,"").split("."),s=n||{},l=s,o=r.length;for(i=0;i<o;i++)a=r[i],i+1===o?l[a]=void 0===t?{}:t:JO(l[a])&&(l[a]={}),l=l[a];return s}var IH,AH,DH=function(){function e(t){_classCallCheck(this,e),this.loadedModules=[],this.parent=t}return _createClass(e,[{key:"inject",value:function(e,t){var n=e.length;if(0!==n){this.loadedModules.length&&this.clearUnusedModule(e);for(var i=0;i<n;i++){var a,r=e[i],s=_createForOfIteratorHelper(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,o=r.member;if(l.prototype.getModuleName()===r.member&&!this.isModuleLoaded(o)){var u=this.createInstance(l,r.args),c=this.getMemberName(o);OH(c,r.isProperty?l:u,this.parent);var h=r;h.member=c,this.loadedModules.push(h)}}}catch(d){s.e(d)}finally{s.f()}}}else this.clean()}},{key:"createInstance",value:function(e,t){var n=t;return n.unshift(void 0),new(Function.prototype.bind.apply(e,n))}},{key:"clean",value:function(){var e,t=_createForOfIteratorHelper(this.loadedModules);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isProperty||EH(n.member,this.parent).destroy()}}catch(i){t.e(i)}finally{t.f()}this.loadedModules=[]}},{key:"clearUnusedModule",value:function(e){var t,n=this,i=e.map((function(e){return n.getMemberName(e.member)})),a=_createForOfIteratorHelper(this.loadedModules.filter((function(e){return-1===i.indexOf(e.member)})));try{for(a.s();!(t=a.n()).done;){var r=t.value;r.isProperty||EH(r.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(r),1),this.deleteObject(this.parent,r.member)}}catch(s){a.e(s)}finally{a.f()}}},{key:"getMemberName",value:function(e){return e[0].toLowerCase()+e.substring(1)+"Module"}},{key:"deleteObject",value:function(e,t){delete e[t]}},{key:"isModuleLoaded",value:function(e){var t,n=_createForOfIteratorHelper(this.loadedModules);try{for(n.s();!(t=n.n()).done;){if(t.value.member===this.getMemberName(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}}]),e}(),MH=function(e){return e[e.na=0]="na",e[e.value=1]="value",e[e.ref=2]="ref",e[e.divzero=3]="divzero",e[e.num=4]="num",e[e.name=5]="name",e[e.null=6]="null",e}({}),TH=function(e){return e[e.operators_cannot_start_with_expression=0]="operators_cannot_start_with_expression",e[e.reservedWord_And=1]="reservedWord_And",e[e.reservedWord_Xor=2]="reservedWord_Xor",e[e.reservedWord_If=3]="reservedWord_If",e[e.number_contains_2_decimal_points=4]="number_contains_2_decimal_points",e[e.reservedWord_Else=5]="reservedWord_Else",e[e.reservedWord_Not=6]="reservedWord_Not",e[e.invalid_char_in_number=7]="invalid_char_in_number",e[e.invalid_characters_following_with_operator=6]="invalid_characters_following_with_operator",e[e.mismatched_parentheses=8]="mismatched_parentheses",e[e.unknown_formula_name=9]="unknown_formula_name",e[e.requires_a_single_argument=10]="requires_a_single_argument",e[e.requires_3_args=11]="requires_3_args",e[e.invalid_Math_argument=12]="invalid_Math_argument",e[e.requires_2_args=13]="requires_2_args",e[e.bad_index=14]="bad_index",e[e.too_complex=15]="too_complex",e[e.circular_reference=16]="circular_reference",e[e.missing_formula=17]="missing_formula",e[e.improper_formula=18]="improper_formula",e[e.invalid_expression=19]="invalid_expression",e[e.cell_empty=20]="cell_empty",e[e.bad_formula=21]="bad_formula",e[e.empty_expression=22]="empty_expression",e[e.virtual_mode_required=23]="virtual_mode_required",e[e.mismatched_tics=24]="mismatched_tics",e[e.wrong_number_arguments=25]="wrong_number_arguments",e[e.invalid_arguments=26]="invalid_arguments",e[e.iterations_do_not_converge=27]="iterations_do_not_converge",e[e.calculation_overflow=29]="calculation_overflow",e[e.already_registered=28]="already_registered",e[e.missing_sheet=30]="missing_sheet",e[e.cannot_parse=31]="cannot_parse",e[e.expression_cannot_end_with_an_operator=32]="expression_cannot_end_with_an_operator",e}({}),PH=function(){function e(t){_classCallCheck(this,e),this.formulas=[{formulaName:"SUM",category:"Math & Trig",description:"Sums individual values, cell references or ranges."},{formulaName:"SUMIFS",category:"Math & Trig",description:"Sums the cells specified by a given set of conditionsor criteria."},{formulaName:"ABS",category:"Math & Trig",description:"Returns the absolute value of a number."},{formulaName:"RAND",category:"Math & Trig",description:"Return a random number between 0 and 1."},{formulaName:"FLOOR",category:"Math & Trig",description:"Returns the round a number down to the nearest integer."},{formulaName:"CEILING",category:"Math & Trig",description:"Returns a number rounded up to a multiple of another number."},{formulaName:"SUMIF",category:"Math & Trig",description:"It will sum up cells that meet the given criteria."},{formulaName:"PRODUCT",category:"Math & Trig",description:"Multiplies all the numbers given as arguments and returns the product."},{formulaName:"AVERAGE",category:"Statistical",description:"The sum of the numbers divided by how many numbers are being averaged."},{formulaName:"AVERAGEIF",category:"Statistical",description:"Computes the average of the numbers in a range that meet the supplied criteria."},{formulaName:"COUNT",category:"Statistical",description:"Counts the numbers in the list of arguments, exclude text entries."},{formulaName:"COUNTA",category:"Statistical",description:"Counts the non-empty values in the list of arguments."},{formulaName:"COUNTIF",category:"Statistical",description:"Counts the number of cells in a range that meet a specified condition."},{formulaName:"COUNTIFS",category:"Statistical",description:"Counts the number of times each cells in all the ranges that meet the specific conditions."},{formulaName:"AVERAGEA",category:"Statistical",description:"Calculates the average of values in the list of arguments.Arguments can be numbers, names, arrays or references."},{formulaName:"AVERAGEIFS",category:"Statistical",description:"Conditionally returns the average of the contents of cells for the set of ranges."},{formulaName:"MIN",category:"Statistical",description:"Returns the smaller number in set of arguments."},{formulaName:"MAX",category:"Statistical",description:"Returns the largest number in set of arguments."},{formulaName:"DATE",category:"Date",description:"Returns the date, given the year, month and day of the month."},{formulaName:"DAY",category:"Date",description:"Returns the day of a given date."},{formulaName:"DAYS",category:"Date",description:"Returns the number of days between two dates."},{formulaName:"IF",category:"Logical",description:"Returns one value if a logical expression is TRUE and another if it is FALSE"},{formulaName:"AND",category:"Logical",description:"Returns TRUE if all the arguments are considered TRUE, and FALSE otherwise."},{formulaName:"IFS",category:"Logical",description:"Checks multiple conditions and returns a value corresponding to the first TRUE result."},{formulaName:"IFERROR",category:"Logical",description:"Returns a value you specify if a formula evaluates to an error; otherwise, it returns the result of the formula."},{formulaName:"CHOOSE",category:"Lookup & Reference",description:"Returns a value from a list, given an index number."},{formulaName:"INDEX",category:"Lookup & Reference",description:"Returns a value from a table, given a row and column number."},{formulaName:"FIND",category:"Text",description:"Returns the position of a string of text within another string."},{formulaName:"CONCATENATE",category:"Text",description:" Used to join two or more strings together."},{formulaName:"CONCAT",category:"Text",description:"Concatenates a list or range of text strings."},{formulaName:"SUBTOTAL",category:"Lookup & Reference",description:"Returns a subtotal in a list or database."},{formulaName:"RADIANS",category:"Math & Trig",description:"Converts degrees to radians."},{formulaName:"OR",category:"Logical",description:"Returns TRUE if any arguments considered TRUE, and all the arguments are FALSE it will return FALSE."},{formulaName:"MATCH",category:"Lookup & Reference",description:"Returns the relative position of an checked item in range that matches a specified value in a specified order"},{formulaName:"RANDBETWEEN",category:"Math & Trig",description:"Returns an integer random number in a specified range."},{formulaName:"SLOPE",category:"Statistical",description:"Returns the slope of the line from linear regression of the data points."},{formulaName:"INTERCEPT",category:"Statistical",description:"Calculates the point of the Y-intercept line via linear regression."},{formulaName:"LN",category:"Math & Trig",description:"Returns the natural logarithm of a number."},{formulaName:"ISNUMBER",category:"Information",description:"Returns TRUE, if the argument is number and FALSE otherwise."},{formulaName:"ROUND",category:"Math & Trig",description:"Rounds a number to a specified number of digits."},{formulaName:"LOG",category:"Math & Trig",description:"Returns the logarithm of a number to the base that you specify."},{formulaName:"POWER",category:"Math & Trig",description:"Returns the result of a number raised to power."},{formulaName:"TRUNC",category:"Math & Trig",description:"Returns the truncated value of a number to a specified number of decimal places."},{formulaName:"EXP",category:"Math & Trig",description:"Returns e raised to the power of the given number."},{formulaName:"GEOMEAN",category:"Statistical",description:"Returns the geometric mean of an array or range of positive data."}],this.isConcat=!1,this.parent=t,this.init()}return _createClass(e,[{key:"init",value:function(){for(var e,t=0;t<this.formulas.length;t++)e=YO("Compute"+this.formulas[t].formulaName,this).bind(this),this.addFormulaCollection(this.formulas[t].formulaName.toUpperCase(),e,this.formulas[t].category,this.formulas[t].description)}},{key:"addFormulaCollection",value:function(e,t,n,i){this.parent.libraryFormulas={fName:e,handler:t,category:n,description:i}}},{key:"ComputeSUM",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];var i,a,r=0;if(!JO(t))for(var s=t,l=0;l<s.length;l++){var o=s[l].toString();if(o.indexOf(":")>-1&&this.parent.isCellReference(o))for(var u=this.parent.getCellCollection(o.split(this.parent.tic).join("")),c=0;c<u.length;c++){if(i=this.parent.getValueFromArg(u[c]),this.parent.getErrorStrings().indexOf(i)>-1)return i;JO(i[0])||isNaN(this.parent.parseFloat(i))||(r+=this.parent.parseFloat(i))}else{if(s[l].split(this.parent.tic).join("")===this.parent.trueValue&&(s[l]="1"),s[l].split(this.parent.tic).join("")===this.parent.falseValue&&(s[l]="0"),a=this.parent.getValueFromArg(s[l].split(this.parent.tic).join("")),this.parent.getErrorStrings().indexOf(a)>-1)return a;if(JO(a)||isNaN(this.parent.parseFloat(a)))continue;a.length>0&&(r+=this.parent.parseFloat(a+""))}}return r}},{key:"ComputeCOUNT",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.wrong_number_arguments];for(var i,a,r,s=t,l=0,o=0;o<s.length;o++)if((i=s[o]).indexOf(":")>-1&&this.parent.isCellReference(i)){a=this.parent.getCellCollection(i.split(this.parent.tic).join(""));for(var u=0;u<a.length;u++)r=this.parent.getValueFromArg(a[u]),isNaN(this.parent.parseFloat(r))||i.length>0&&""!==i&&" "!==i&&l++}else i=i.split(this.parent.tic).join(""),isNaN(this.parent.parseFloat(this.parent.getValueFromArg(i)))||i.length>0&&""!==i&&" "!==i&&l++;return l}},{key:"ComputeDATE",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var i=t;if(3!==i.length)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];for(var a=0;a<i.length;++a)i[a]=this.parent.getValueFromArg(i[a]);i[0]="TRUE"===i[0].split(this.parent.tic).join("")?"1":"FALSE"===i[0].split(this.parent.tic).join("")?"0":i[0],i[1]="TRUE"===i[1].split(this.parent.tic).join("")?"1":"FALSE"===i[1].split(this.parent.tic).join("")?"0":i[1],i[2]="TRUE"===i[2].split(this.parent.tic).join("")?"1":"FALSE"===i[2].split(this.parent.tic).join("")?"0":i[2];var r=this.parent.parseFloat(i[0].split(this.parent.tic).join("")),s=this.parent.parseFloat(i[1].split(this.parent.tic).join("")),l=this.parent.parseFloat(i[2].split(this.parent.tic).join("")),o=0;if(isNaN(r)||isNaN(s)||isNaN(l))return this.parent.getErrorStrings()[MH.value].toString();if(r<0)return this.parent.getErrorStrings()[MH.num].toString();for(;s>12;)s-=12,r++;if(0===(o=this.parent.getSerialDateFromDate(r,s,l)))return this.parent.getErrorStrings()[MH.num].toString();var u=this.parent.fromOADate(o);return"Invalid Date"!==u.toString()?u.getFullYear()+"/"+this.parent.calculateDate((u.getMonth()+1).toString())+"/"+this.parent.calculateDate(u.getDate().toString()):o.toString()}},{key:"ComputeFLOOR",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];var i,a,r=t,s=r.length,l=r[1].split(this.parent.tic).join(""),o=[];if(2!==s)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];if(o.push(i=this.parent.parseFloat(this.parent.getValueFromArg(r[0].split(this.parent.tic).join("")))),r[1]=l===this.parent.trueValue?"1":l===this.parent.falseValue?"0":r[1],o.push(a=this.parent.parseFloat(this.parent.getValueFromArg(r[1].split(this.parent.tic).join("")))),i>0&&a<0)return this.parent.getErrorStrings()[MH.num];if(i>0&&0===a)return this.parent.getErrorStrings()[MH.divzero];for(var u=0;u<r.length;u++)if(r[u].indexOf(this.parent.tic)>-1)return this.parent.getErrorStrings()[MH.value];return isNaN(i)?this.parent.getErrorStrings()[MH.name]:Math.floor(i/a)*a}},{key:"ComputeCEILING",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];var i,a,r=t,s=[],l=r.length,o=r[1].split(this.parent.tic).join("");if(2!==l)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];if(s.push(i=this.parent.parseFloat(this.parent.getValueFromArg(r[0].split(this.parent.tic).join("")))),r[1]=o===this.parent.trueValue?"1":o===this.parent.falseValue?"0":r[1],s.push(a=this.parent.parseFloat(this.parent.getValueFromArg(r[1].split(this.parent.tic).join("")))),i>0&&a<0)return this.parent.getErrorStrings()[MH.num];for(var u=0;u<r.length;u++)if(r[u].indexOf(this.parent.tic)>-1)return this.parent.getErrorStrings()[MH.value];return isNaN(i)?this.parent.getErrorStrings()[MH.name]:0===a?0:Math.ceil(i/a)*a}},{key:"ComputeDAY",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a=t;if(JO(a)||1===a.length&&""===a[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];if(a.length>1)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var r=this.parent.getValueFromArg(a[0].split(this.parent.tic).join(""));return isNaN(this.parent.parseFloat(r))?(r=r,i=this.parent.parseDate(r),"[object Date]"===Object.prototype.toString.call(i)&&(i=i.getDate()),i):this.parent.getErrorStrings()[MH.name]}},{key:"ComputeIF",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];if(this.parent.getErrorStrings().indexOf(t[0])>0)return t[0];var i,a,r=t;if(r.length>3||1===r.length)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];if(r.length<=3){if(i=this.parent.getValueFromArg(r[0]),this.parent.getErrorStrings().indexOf(i)>-1)return i;if(i===this.parent.trueValue||this.parent.parseFloat(i)>0||this.parent.parseFloat(i)<0)a=this.parent.getValueFromArg(r[1]);else{if(i!==this.parent.falseValue&&0!==this.parent.parseFloat(i))return this.parent.formulaErrorStrings[TH.requires_3_args];if(JO(r[2]))return this.parent.falseValue;a=this.parent.getValueFromArg(r[2])}}return a.indexOf(this.parent.tic)>-1?a.split(this.parent.tic).join(""):a}},{key:"ComputeIFERROR",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];var i,a=t;return 2!==a.length?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:(i=this.parent.getValueFromArg(a[0]))===this.parent.trueValue||i===this.parent.falseValue?i:(i[0]===this.parent.arithMarker&&(i=i.replace(this.parent.arithMarker," ")),"#"===(i=this.parent.getValueFromArg(i).toUpperCase().split(this.parent.tic).join(""))[0]||i.indexOf("Infinity")>-1||this.parent.getErrorStrings().indexOf(i)>-1?this.parent.getValueFromArg(a[1]).split(this.parent.tic).join(""):i)}},{key:"ComputePRODUCT",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];var i,a,r,s=1,l=!0;if(!JO(t))for(var o=t,u=0;u<o.length;u++){var c=o[u];if(c.indexOf(":")>-1&&this.parent.isCellReference(c))for(var h=this.parent.getCellCollection(c),d=0;d<h.length;d++){if(i=this.parent.getValueFromArg(h[d].split(this.parent.tic).join("")),this.parent.getErrorStrings().indexOf(i)>-1)return i;i="TRUE"===i.split(this.parent.tic).join("")?"1":"FALSE"===i.split(this.parent.tic).join("")?"0":i,r=this.parent.parseFloat(i),isNaN(r)||i.length>0&&(s*=r,l=!1)}else{if(a=this.parent.getValueFromArg(o[u].split(this.parent.tic).join("")),this.parent.getErrorStrings().indexOf(a)>-1)return a;if(a="TRUE"===a.split(this.parent.tic).join("")?"1":"FALSE"===a.split(this.parent.tic).join("")?"0":a,r=this.parent.parseFloat(a),isNaN(r)||a.length>0&&(s*=r,l=!1),this.parent.getErrorStrings().indexOf(a)>-1)return a}}return l?"0":s.toString()}},{key:"ComputeDAYS",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(JO(n)&&1===n.length&&""===n[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];if(2!==n.length)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var a=n;a[0].split(this.parent.tic).join("")===this.parent.trueValue&&(a[0]="1"),a[0].split(this.parent.tic).join("")===this.parent.falseValue&&(a[0]="0");var r=this.parent.getValueFromArg(a[0].split(this.parent.tic).join("")),s=this.parent.getValueFromArg(a[1].split(this.parent.tic).join(""));if(s=""===s||null==s?new Date(Date.parse("1899-12-31")).toDateString():s,"#"===(r=""===r||null==r?new Date(Date.parse("1899-12-31")).toDateString():r)[0])return r;if("#"===s[0])return s;var l=this.parent.intToDate(r),o=this.parent.intToDate(s);return"#"===l.toString()[0]?l.toString():"#"===o.toString()[0]?o.toString():"[object Date]"!==Object.prototype.toString.call(l)||"[object Date]"!==Object.prototype.toString.call(o)?this.parent.getErrorStrings()[MH.value]:(e=Math.ceil(l.getTime()-o.getTime())/864e5,Math.round(e))}},{key:"ComputeCHOOSE",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];if(t.length<2)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var i=t;if(i[0].indexOf(":")>-1&&this.parent.isCellReference(i[0])){var a=this.parent.getCellCollection(i[0]);if(1!==a.length)return this.parent.getErrorStrings()[MH.value];i[0]=a[0]}var r=this.parent.getValueFromArg(i[0]);if(this.parent.getErrorStrings().indexOf(r)>-1)return r;var s,l=this.parent.parseFloat(this.parent.getValueFromArg(i[0].split(this.parent.tic).join("")));if(l<1)return this.parent.getErrorStrings()[MH.value];if(JO(i[l=Math.floor(l)]))return this.parent.getErrorStrings()[MH.value];if(""===(s=i[l])&&(s="0"),s.indexOf(":")>-1&&this.parent.isCellReference(s)){var o=this.parent.getCellCollection(i[0].split(this.parent.tic).join(""));if(1!==o.length)return this.parent.getErrorStrings()[MH.value];i[0]=o[0]}return this.parent.getValueFromArg(s).split(this.parent.tic).join("")}},{key:"ComputeSUMIF",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t;if(i[0].indexOf(":")<0&&!this.parent.isCellReference(i[0]))return this.parent.formulaErrorStrings[TH.improper_formula];var a=this.parent.computeSumIfAndAvgIf(t);return"string"==typeof a&&(this.parent.formulaErrorStrings.indexOf(a)||this.parent.getErrorStrings().indexOf(a))?a:a[0]}},{key:"ComputeABS",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a=t,r="";if(0===t.length||t.length>1)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];if(""===a[0].toString().split(this.parent.tic).join("").trim()||a[0].indexOf(this.parent.tic)>-1)return this.parent.getErrorStrings()[MH.value];if(this.parent.isCellReference(a[0])){if(""===(r=this.parent.getValueFromArg(a[0])))return this.parent.getErrorStrings()[MH.name];if(i=this.parent.parseFloat(r),isNaN(i))return this.parent.getErrorStrings()[MH.value]}else if(i=this.parent.parseFloat(a[0]),isNaN(i))return this.parent.getErrorStrings()[MH.name];return Math.abs(i)}},{key:"ComputeAVERAGE",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];for(var i=t,a=0;a<i.length;a++)if(i[a].indexOf(":")>-1&&i[a].indexOf(this.parent.tic)>-1)return this.parent.getErrorStrings()[MH.value];return this.parent.calculateAvg(i)}},{key:"ComputeAVERAGEIF",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t;if(i[0].indexOf(":")<0&&!this.parent.isCellReference(i[0]))return this.parent.formulaErrorStrings[TH.improper_formula];var a=this.parent.computeSumIfAndAvgIf(t);return"string"==typeof a&&(this.parent.formulaErrorStrings.indexOf(a)||this.parent.getErrorStrings().indexOf(a))?a:this.parent.parseFloat(a[0])/this.parent.parseFloat(a[1])}},{key:"ComputeCONCATENATE",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.invalid_arguments];for(var i=t,a="",r="",s=0;s<i.length;s++){if(i[s].indexOf(":")>-1&&this.parent.isCellReference(i[s])){if(!this.isConcat)return this.parent.getErrorStrings()[MH.value];for(var l=this.parent.getCellCollection(i[s]),o=0;o<l.length;o++)a+=r=this.parent.getValueFromArg(l[o])}else{if(1===i.length&&i[0].indexOf(this.parent.tic)<0)return this.parent.getErrorStrings()[MH.name];a+=r=this.parent.getValueFromArg(i[s])}if(this.parent.getErrorStrings().indexOf(r)>-1)return r}return a.split(this.parent.tic).join("")}},{key:"ComputeCONCAT",value:function(){return this.isConcat=!0,this.ComputeCONCATENATE.apply(this,arguments)}},{key:"ComputeMAX",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.parent.computeMinMax(t,"max")}},{key:"ComputeMIN",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.parent.computeMinMax(t,"min")}},{key:"ComputeRAND",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&""===t[0]&&(t.length=0),t.length>0?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:Math.random().toString()}},{key:"ComputeAND",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.parent.computeAndOr(t,"and")}},{key:"ComputeOR",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.parent.computeAndOr(t,"or")}},{key:"ComputeFIND",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var i=t;if(i.length>3)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var a=this.parent.removeTics(this.parent.getValueFromArg(i[0])),r=this.parent.removeTics(this.parent.getValueFromArg(i[1]));if(this.parent.getErrorStrings().indexOf(a)>-1||this.parent.getErrorStrings().indexOf(r)>-1)return this.parent.getErrorStrings()[MH.name];var s,l=1;if(3===i.length){if(l=this.parent.removeTics(this.parent.getValueFromArg(i[2])),this.parent.getErrorStrings().indexOf(l)>-1)return l;l=this.parent.parseFloat(l),isNaN(l)&&(l=1)}return l<=0||l>r.length?this.parent.getErrorStrings()[MH.value]:(s=r.indexOf(a,l-1))<0?this.parent.getErrorStrings()[MH.value]:(Number(s)+Number(1)).toString()}},{key:"ComputeINDEX",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t,a=i.length;if(JO(t)||1===i.length&&""===i[0])return this.parent.formulaErrorStrings[TH.wrong_number_arguments];if(a>3)return this.parent.getErrorStrings()[MH.ref];var r="",s=[];if(a>2)for(var l=0;l<a;l++){if(this.parent.isCellReference(i[l])&&i[l].indexOf(":")<0)return this.parent.getErrorStrings()[MH.ref];this.parent.isCellReference(i[l])&&(s[l]=i[l])}if(r=i[0],i[1]=""===i[1]?"1":i[1],i[1]=this.parent.getValueFromArg(i[1]),this.parent.getErrorStrings().indexOf(i[1])>-1)return i[1];if(!JO(i[2])){if(i[2]=""===i[2]?"1":i[2],i[2]=this.parent.getValueFromArg(i[2]),this.parent.getErrorStrings().indexOf(i[2])>-1)return i[2];if("0"===i[2])return this.parent.getErrorStrings()[MH.value]}var o=parseFloat(i[1]);o=isNaN(o)?-1:o;var u=parseFloat(i[2]?i[2]:"1");if(u=isNaN(u)?-1:u,-1===o||-1===u)return this.parent.getErrorStrings()[MH.value];var c=i[0].indexOf(":"),h=this.parent.rowIndex(r.substring(0,c)),d=this.parent.rowIndex(r.substring(c+1)),p=this.parent.colIndex(r.substring(0,c)),f=this.parent.colIndex(r.substring(c+1));if(o>d-h+1||u>f-p+1)return this.parent.getErrorStrings()[MH.ref];o=h+o-1,u=p+u-1;var m=""+this.parent.convertAlpha(u)+o,g=this.parent.getValueFromArg(m);return""===g?0:g}},{key:"ComputeIFS",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t;if(JO(t)||1===i.length&&""===i[0])return this.parent.formulaErrorStrings[TH.wrong_number_arguments];for(var a="",r="",s=0;s<i.length;s++){if((a=this.parent.getValueFromArg(i[s]))!==this.parent.trueValue&&a!==this.parent.falseValue)return this.parent.getErrorStrings()[MH.value];if(a===this.parent.trueValue)return i[s+1].indexOf(this.parent.arithMarker)>-1?this.parent.trueValue:(r=this.parent.isCellReference(i[s+1].split(this.parent.tic).join(""))?this.parent.getValueFromArg(i[s+1]):i[s+1].indexOf(this.parent.tic)>-1?i[s+1].split(this.parent.tic).join(""):this.parent.getErrorStrings()[MH.name],s+=1,r);a===this.parent.falseValue&&(s+=1)}return this.parent.getErrorStrings()[MH.na]}},{key:"ComputeCOUNTA",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.wrong_number_arguments];for(var i,a=t,r=0,s=0;s<a.length;s++)if(a[s].indexOf(":")>-1&&this.parent.isCellReference(a[s])){i=this.parent.getCellCollection(a[s].split(this.parent.tic).join(""));for(var l=0;l<i.length;l++)this.parent.getValueFromArg(i[l]).length>0&&r++}else this.parent.getValueFromArg(a[s].split(this.parent.tic).join("")).length>0&&r++;return r}},{key:"ComputeAVERAGEA",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(JO(t)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[TH.wrong_number_arguments];for(var i,a,r,s=t,l=0,o=0,u=0;u<s.length;u++){if(s[u].indexOf(":")>-1&&this.parent.isCellReference(s[u])){i=this.parent.getCellCollection(s[u].split(this.parent.tic).join(""));for(var c=0;c<i.length;c++)if((a=this.parent.getValueFromArg(i[c])).toUpperCase()===this.parent.trueValue)a="1";else if(a.toUpperCase()===this.parent.falseValue||""===a)a="0";else{if(this.parent.getErrorStrings().indexOf(a)>-1)return a;a.length>0&&(r=parseFloat(a),l+=a=isNaN(r)?0:r,o+=1)}o=i.length}else{if(s[u]===this.parent.trueValue&&(s[u]="1"),s[u]!==this.parent.falseValue&&""!==s[u]||(s[u]="0"),a=this.parent.getValueFromArg(s[u].split(this.parent.tic).join("")),this.parent.getErrorStrings().indexOf(a)>-1)return a;a.length>0&&(r=parseFloat(a),l+=a=isNaN(r)?0:r,o+=1)}if(0===o)return this.parent.getErrorStrings()[MH.divzero]}return l/o}},{key:"ComputeCOUNTIF",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a=t;if(JO(t)||""===t[0]||a.length<2)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var r,s=0,l=[],o="equal",u=a[1].split(this.parent.tic).join("");if(u.startsWith("<=")?(o="lessEq",u=u.substring(2)):u.startsWith(">=")?(o="greaterEq",u=u.substring(2)):u.startsWith("<>")?(o="notEq",u=u.substring(2)):u.startsWith("<")?(o="less",u=u.substring(1)):u.startsWith(">")?(o="greater",u=u.substring(1)):u.startsWith("=")&&(o="equal",u=u.substring(1)),a[0].indexOf(":")>-1&&this.parent.isCellReference(a[0])){i=this.parent.getCellCollection(a[0].split(this.parent.tic).join(""));for(var c=0;c<i.length;c++)r=this.parent.getValueFromArg(i[c]),(u.indexOf("*")>-1||u.indexOf("?")>-1)&&(r=this.parent.findWildCardValue(u,r)),l.push(r),l.push(u),this.parent.processLogical(l,o)===this.parent.trueValue&&s++}return s}},{key:"ComputeSUMIFS",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.parent.computeIfsFormulas(t,this.parent.falseValue)}},{key:"ComputeCOUNTIFS",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.parent.computeIfsFormulas(t,this.parent.trueValue)}},{key:"ComputeAVERAGEIFS",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.parent.computeIfsFormulas(t,this.parent.falseValue,this.parent.trueValue)}},{key:"ComputeMATCH",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a=t;if(JO(a)||1===a.length&&""===a[0]||a.length<2||a.length>3)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var r=[],s=a[0].split(this.parent.tic).join("");a[2]=JO(a[2])?"1":a[2].split(this.parent.tic).join(""),a[2].split(this.parent.tic).join("")===this.parent.trueValue&&(a[2]="1"),a[2].split(this.parent.tic).join("")===this.parent.falseValue&&(a[2]="0");var l=parseFloat(a[2]);if(-1!==l&&0!==l&&1!==l)return this.parent.getErrorStrings()[MH.na];var o=0,u="";if(a[1].indexOf(":")>-1||this.parent.isCellReference(a[1])){i=this.parent.getCellCollection(a[1].split(this.parent.tic).join(""));for(var c=0;c<i.length;c++)r[c]=this.parent.getValueFromArg(i[c]).split(this.parent.tic).join("");for(var h=0;h<r.length;h++)if(1===l){if(s===r[h])return h+1;s>r[h]&&(u?r[h]>u&&(o=h+1,u=r[h]):(o=h+1,u=r[h]))}else if(0===l){if((s.indexOf("*")>-1||s.indexOf("?")>-1)&&(r[h]=this.parent.findWildCardValue(s,r[h])),s===r[h])return h+1;if(this.parent.parseFloat(s)===this.parent.parseFloat(r[h]))return h+1}else if(-1===l){if(s===r[h])return h+1;s<r[h]&&(u?r[h]<u&&(o=h+1,u=r[h]):(o=h+1,u=r[h]))}}return o||this.parent.getErrorStrings()[MH.na]}},{key:"ComputeLOOKUP",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t;return JO(i)||1===i.length&&""===i[0]||i.length<2||i.length>3?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:this.parent.computeLookup(i)}},{key:"ComputeVLOOKUP",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t;return JO(i)||1===i.length&&""===i[0]||i.length<3||i.length>4?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:this.parent.computeVLookup(i)}},{key:"ComputeSUBTOTAL",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t,a="";if(i.length<2)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var r=this.parent.parseFloat(this.parent.getValueFromArg(i[0].split(this.parent.tic).join("")));isNaN(r)&&this.parent.getErrorStrings(),(r<1||r>11)&&(r<101||r>111)&&this.parent.getErrorStrings();var s=i.slice(1,i.length);switch(r){case 1:case 101:a=this.ComputeAVERAGE.apply(this,_toConsumableArray(s));break;case 2:case 102:a=this.ComputeCOUNT.apply(this,_toConsumableArray(s));break;case 3:case 103:a=this.ComputeCOUNTA.apply(this,_toConsumableArray(s));break;case 4:case 104:a=this.ComputeMAX.apply(this,_toConsumableArray(s));break;case 5:case 105:a=this.ComputeMIN.apply(this,_toConsumableArray(s));break;case 6:case 106:a=this.ComputePRODUCT.apply(this,_toConsumableArray(s));break;case 7:case 107:a=this.ComputeDAY.apply(this,_toConsumableArray(s));break;case 8:case 108:a=this.ComputeCONCAT.apply(this,_toConsumableArray(s));break;case 9:case 109:a=this.ComputeSUM.apply(this,_toConsumableArray(s));break;case 10:case 110:a=this.ComputeAVERAGEA.apply(this,_toConsumableArray(s));break;case 11:case 111:a=this.ComputeABS.apply(this,_toConsumableArray(s));break;default:a=this.parent.getErrorStrings()[MH.value]}return a}},{key:"ComputeRADIANS",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t;if(""===i[0]||i.length>1)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];if(i[0].indexOf(":")>-1||""===i[0].split(this.parent.tic).join(""))return this.parent.getErrorStrings()[MH.value];var a=i[0].split(this.parent.tic).join("");i[0]=isNaN(this.parent.parseFloat(a))?i[0]:a;var r=this.parent.getValueFromArg(i[0]),s=this.parent.parseFloat(r);return isNaN(s)?r.indexOf(this.parent.tic)>-1?this.parent.getErrorStrings()[MH.value]:this.parent.getErrorStrings()[MH.name]:Math.PI*s/180}},{key:"ComputeRANDBETWEEN",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r,s=t.length;if(2!==s)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];for(var l=0;l<s;l++){if(""===t[l])return this.parent.getErrorStrings()[MH.na];if(t[l].indexOf(this.parent.tic)>-1){if(isNaN(parseFloat(t[l].split(this.parent.tic).join(""))))return this.parent.getErrorStrings()[MH.value];t[l]=t[l].split(this.parent.tic).join("")}if(r=parseFloat(this.parent.getValueFromArg(t[l])),this.parent.isCellReference(t[l])){if(r=""===this.parent.getValueFromArg(t[l])?0:r,0===l?i=r:a=r,0===i&&0===a)return"0";if(isNaN(r))return this.parent.getErrorStrings()[MH.value]}else{if(isNaN(r))return this.parent.getErrorStrings()[MH.name];0===l?i=r:a=r}}return a<i?this.parent.getErrorStrings()[MH.num]:0===i?Math.floor(Math.random()*(a-(i-1)))+i:a-i==1?Math.round(Math.random()*(a-i)+i):Math.floor(Math.random()*(a-(i-1)))+i}},{key:"ComputeSLOPE",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r=t;if(2!==r.length||""===r[0])return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var s=this.parent.getCellCollection(r[1].split(this.parent.tic).join("")),l=this.parent.getCellCollection(r[0].split(this.parent.tic).join(""));if(l.length!==s.length)return this.parent.getErrorStrings()[MH.na];if(i=this.getDataCollection(l),(a=this.getDataCollection(s)).indexOf("#NAME?")>-1||i.indexOf("#NAME?")>-1)return this.parent.getErrorStrings()[MH.name];for(var o=0,u=0,c=0,h=0,d=0,p=a.length;d<p;++d)"NaN"!==Number(a[d]).toString()&&"NaN"!==Number(i[d]).toString()&&(o+=Number(a[d])*Number(i[d]),c+=Number(a[d]),h+=Number(i[d]),u+=Number(a[d])*Number(a[d]));o-c*h!=0&&u-c*c!=0||this.parent.getErrorStrings();var f=((o-c*h/a.length)/(u-c*c/a.length)).toString();return"NaN"===f?this.parent.getErrorStrings()[MH.divzero]:f}},{key:"ComputeINTERCEPT",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r=t;if(""===r[0]||2!==r.length)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];var s=this.parent.getCellCollection(r[0].split(this.parent.tic).join("")),l=this.parent.getCellCollection(r[1].split(this.parent.tic).join(""));if(s.length!==l.length)return this.parent.getErrorStrings()[MH.na];if(i=this.getDataCollection(l),a=this.getDataCollection(s),i.indexOf("#NAME?")>-1||a.indexOf("#NAME?")>-1)return this.parent.getErrorStrings()[MH.name];for(var o=0,u=0,c=0,h=i.length;c<h;++c)o+=Number(i[c]),u+=Number(a[c]);o/=i.length,u/=i.length;for(var d,p=0,f=0,m=0,g=i.length;m<g;++m)p+=(d=Number(i[m])-o)*(Number(a[m])-u),f+=d*d;var v=(u-p/f*o).toString();return u-p!=0&&f*o!=0||this.parent.getErrorStrings(),"NaN"===v?this.parent.getErrorStrings()[MH.divzero]:v}},{key:"ComputeLN",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r=t,s="";if(0===t.length||t.length>1)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];if(this.parent.isCellReference(r[0])){if(s=this.parent.getValueFromArg(r[0]),(i=this.parent.parseFloat(s))<=0||""===s)return this.parent.getErrorStrings()[MH.num];if(isNaN(i))return this.parent.getErrorStrings()[MH.value]}else{if(a=this.parent.getValueFromArg(r[0].split(this.parent.tic).join("")),(i=this.parent.parseFloat(a))<=0||""===i.toString())return this.parent.getErrorStrings()[MH.num];if(isNaN(i))return this.parent.getErrorStrings()[MH.value]}return Math.log(i)}},{key:"ComputeISNUMBER",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r=t;return 0===t.length||t.length>1?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:""!==(a=this.parent.isCellReference(r[0])?this.parent.getValueFromArg(r[0]):this.parent.getValueFromArg(r[0].split(this.parent.tic).join(""))).toString()&&(i=this.parent.parseFloat(a),!isNaN(i))}},{key:"ComputeROUND",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r,s,l,o=t,u=0,c=0;return 0===t.length||t.length>2?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:1===t.length?(i="TRUE"===o[0].split(this.parent.tic).join("")?"1":"FALSE"===o[0].split(this.parent.tic).join("")?"0":o[0],Math.round(this.parent.parseFloat(i)).toString()):(r=this.parent.getValueFromArg(o[0]),s=""===o[1].split(this.parent.tic).join("")?"0":this.parent.getValueFromArg(o[1].split(this.parent.tic).join("")),r="TRUE"===r.split(this.parent.tic).join("")?"1":"FALSE"===r.split(this.parent.tic).join("")?"0":r,s="TRUE"===s.split(this.parent.tic).join("")?"1":"FALSE"===s.split(this.parent.tic).join("")?"0":s,""!==r&&""!==s&&(u=this.parent.parseFloat(r),c=this.parent.parseFloat(s),!isNaN(c)&&!isNaN(u)&&c>0?a=u.toFixed(c):(l=Math.pow(10,-c),a=Math.round(u/l)*l)),a.toString())}},{key:"ComputePOWER",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r,s,l=t;return 0===t.length||t.length>2?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:(i=this.parent.getValueFromArg(l[0]),a=this.parent.getValueFromArg(l[1]),i="TRUE"===i.split(this.parent.tic).join("")?"1":"FALSE"===i.split(this.parent.tic).join("")?"0":i,a="TRUE"===a.split(this.parent.tic).join("")?"1":"FALSE"===a.split(this.parent.tic).join("")?"0":a,r=this.parent.parseFloat(i),s=this.parent.parseFloat(a),isNaN(r)||isNaN(s)?this.parent.getErrorStrings()[MH.value]:0===r&&s<0?this.parent.getErrorStrings()[MH.divzero]:0===r&&0===s?this.parent.getErrorStrings()[MH.num]:Math.pow(r,s).toString())}},{key:"ComputeLOG",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r,s,l=t;return 0===t.length||t.length>2?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:(i=this.parent.getValueFromArg(l[0]),a=2===t.length?this.parent.getValueFromArg(l[1]):"10",""===i||null===i||""===a||null===a?this.parent.getErrorStrings()[MH.num]:(i="TRUE"===i.split(this.parent.tic).join("")?"1":"FALSE"===i.split(this.parent.tic).join("")?"0":i,a="TRUE"===a.split(this.parent.tic).join("")?"1":"FALSE"===a.split(this.parent.tic).join("")?"0":a,r=this.parent.parseFloat(i),s=this.parent.parseFloat(a),r<=0||s<=0?this.parent.getErrorStrings()[MH.num]:1===s?this.parent.getErrorStrings()[MH.divzero]:isNaN(r)||isNaN(s)?this.parent.getErrorStrings()[MH.value]:(Math.log(r)/Math.LN10/(Math.log(s)/Math.LN10)).toString()))}},{key:"ComputeTRUNC",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r,s=t,l=0;return 0===t.length||t.length>2?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:(2===t.length&&(l="TRUE"===(l=this.parent.getValueFromArg(s[1])).split(this.parent.tic).join("")?"1":"FALSE"===l.split(this.parent.tic).join("")?"0":l,l=this.parent.parseFloat(l)),i="TRUE"===(i=this.parent.getValueFromArg(s[0])).split(this.parent.tic).join("")?"1":"FALSE"===i.split(this.parent.tic).join("")?"0":i,a=this.parent.parseFloat(i.split(this.parent.tic).join("")),isNaN(a)||isNaN(l)?s[0]===this.parent.tic||this.parent.isCellReference(s[0])||s[1]===this.parent.tic||this.parent.isCellReference(s[1])?this.parent.getErrorStrings()[MH.value]:this.parent.getErrorStrings()[MH.name]:(r=Math.pow(10,l),((a<0?-1:1)*Math.floor(r*Math.abs(a))/r).toString()))}},{key:"ComputeEXP",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r=t;return 0===t.length||t.length>1?this.parent.formulaErrorStrings[TH.wrong_number_arguments]:(""===(i="TRUE"===(i=this.parent.getValueFromArg(r[0])).split(this.parent.tic).join("")?"1":"FALSE"===i.split(this.parent.tic).join("")?"0":i)&&(i="0"),(a=this.parent.parseFloat(i))>709?this.parent.getErrorStrings()[MH.num]:isNaN(a)?r[0]===this.parent.tic||this.parent.isCellReference(r[0])?this.parent.getErrorStrings()[MH.value]:this.parent.getErrorStrings()[MH.name]:Math.exp(a).toString())}},{key:"ComputeGEOMEAN",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a,r,s,l=t,o=1,u=0,c=0;if(0===t.length)return this.parent.formulaErrorStrings[TH.wrong_number_arguments];for(a=0;a<l.length;a++)if(l[a].indexOf(":")>-1){if(l[0]===this.parent.tic)return this.parent.getErrorStrings()[MH.value];for(s=this.parent.getCellCollection(l[a].split(this.parent.tic).join("")),r=0;r<s.length;r++){if(c="TRUE"===(c=this.parent.getValueFromArg(s[r])).split(this.parent.tic).join("")?"1":"FALSE"===c.split(this.parent.tic).join("")?"0":c,(i=this.parent.parseFloat(c))<=0)return this.parent.getErrorStrings()[MH.num];isNaN(i)||(u++,o*=i)}}else if((c=this.parent.getValueFromArg(l[a])).length>0){if(c="TRUE"===c.split(this.parent.tic).join("")?"1":"FALSE"===c.split(this.parent.tic).join("")?"0":c,!this.parent.isCellReference(l[a])&&isNaN(this.parent.parseFloat(c)))return this.parent.getErrorStrings()[MH.name];if((i=this.parent.parseFloat(c))<=0)return this.parent.getErrorStrings()[MH.num];isNaN(i)||(u++,o*=i)}return u>0&&(o=Math.pow(o,1/u)),o.toString()}},{key:"getDataCollection",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(this.parent.getValueFromArg(e[n]));return t}},{key:"getModuleName",value:function(){return"basic-formulas"}}]),e}(),LH=function(){function e(t){_classCallCheck(this,e),this.emptyStr="",this.storedStringText=this.emptyStr,this.sheetToken="!",this.tokenAdd="a",this.tokenSubtract="s",this.tokenMultiply="m",this.tokenDivide="d",this.tokenLess="l",this.charEm="r",this.charEp="x",this.tokenGreater="g",this.tokenEqual="e",this.tokenLessEq="k",this.tokenGreaterEq="j",this.tokenNotEqual="o",this.tokenAnd="c",this.tokenEm="v",this.tokenEp="t",this.tokenOr=String.fromCharCode(126),this.charAnd="i",this.charLess="<",this.charGreater=">",this.charEqual="=",this.charLessEq="f",this.charGreaterEq="h",this.charNoEqual="z",this.stringGreaterEq=">=",this.stringLessEq="<=",this.stringNoEqual="<>",this.stringAnd="&",this.stringOr="^",this.charOr="w",this.charAdd="+",this.charSubtract="-",this.charMultiply="*",this.charDivide="/",this.fixedReference="$",this.spaceString=" ",this.ignoreBracet=!1,this.isError=!1,this.isFormulaParsed=!1,this.findNamedRange=!1,this.stringsColl=new Map,this.tokens=[this.tokenAdd,this.tokenSubtract,this.tokenMultiply,this.tokenDivide,this.tokenLess,this.tokenGreater,this.tokenEqual,this.tokenLessEq,this.tokenGreaterEq,this.tokenNotEqual,this.tokenAnd,this.tokenOr],this.charNOTop=String.fromCharCode(167),this.specialSym=["~","@","#","?","%"],this.isFailureTriggered=!1,this.parent=t}return _createClass(e,[{key:"parse",value:function(e,t){if(this.parent.isTextEmpty(e))return e;this.parent.getFormulaCharacter()!==String.fromCharCode(0)&&this.parent.getFormulaCharacter()===e[0]&&(e=e.substring(1)),(this.parent.namedRanges.size>0||this.parent.storedData.size>0)&&(e=this.checkForNamedRangeAndKeyValue(e),this.findNamedRange=!1),e=(e=(e=(e=e.split("-+").join("-")).split("--").join("+")).split("+-").join("-")).split("-(-").join("(");var n=this.storeStrings(e);e=this.storedStringText;var i=0;if(JO(n)&&(e=e.split(" ").join("")),(e=(e=e.split("=>").join(">=")).split("=<").join("<="))[e.length-1]===this.parent.arithMarker&&this.indexOfAny(e,this.tokens)===e.length-2||(e=e.toUpperCase()),e.indexOf(this.sheetToken)>-1){var a=this.parent.getSheetFamilyItem(this.parent.grid);if(null!=a.sheetNameToParentObject&&a.sheetNameToParentObject.size>0){e[0]!==this.sheetToken.toString()&&(e=this.parent.setTokensForSheets(e));var r=this.parent.getSheetToken(e.split(this.parent.tic).join(this.emptyStr)),s=this.checkScopedRange(e.split('"').join(this.emptyStr).split(this.sheetToken).join(""));JO(r)&&""!==r&&this.parent.namedRanges.size>0&&""!==s&&(e=s)}}e=this.markLibraryFormulas(e);try{e=this.formulaAutoCorrection(e)}catch(d){var l={message:d.message,exception:d,isForceCalculable:d.formulaCorrection,computeForceCalculate:!1};if(!l.isForceCalculable)throw this.parent.formulaErrorStrings[TH.invalid_expression];if(this.isFailureTriggered||(this.parent.trigger("onFailure",l),this.isFailureTriggered=!0),!l.isForceCalculable||!l.computeForceCalculate)throw this.parent.formulaErrorStrings[TH.invalid_expression];e=this.formulaAutoCorrection(e,l),this.parent.storedData.get(t).formulaText="="+e}if(!this.ignoreBracet)for(i=e.indexOf(")");i>-1;){var o=e.substring(0,i).lastIndexOf("(");if(-1===o)throw new FH(this.parent.formulaErrorStrings[TH.mismatched_parentheses]);if(o===i-1)throw new FH(this.parent.formulaErrorStrings[TH.empty_expression]);var u=this.emptyStr;u=this.ignoreBracet?this.parent.substring(e,o,i-o+1):this.parent.substring(e,o+1,i-o-1);try{e=e.substring(0,o)+this.parseSimple(u)+e.substring(i+1)}catch(d){var c=this.exceptionArgs(d);this.isFailureTriggered||(this.parent.trigger("onFailure",c),this.isFailureTriggered=!0);var h="string"==typeof c.exception?c.exception:c.message;return(this.parent.getErrorLine(d)?"":"#"+this.parent.getErrorLine(d)+": ")+h}i=e.indexOf(")")}if(!this.ignoreBracet&&e.indexOf("(")>-1)throw new FH(this.parent.formulaErrorStrings[TH.mismatched_parentheses]);return e=this.parseSimple(e),null!==n&&n.size>0&&(e=this.setStrings(e,n)),e}},{key:"exceptionArgs",value:function(e){return{message:e.message,exception:e,isForceCalculable:e.formulaCorrection,computeForceCalculate:!1}}},{key:"formulaAutoCorrection",value:function(e,t){var n=["*","+","-","/","^","&"],i=[">","=","<"],a=0,r="",s="",l="",o="",u="",c="",h="",d=0;if(this.parent.formulaErrorStrings.indexOf(e)>-1)return e;if(this.indexOfAny(e,this.specialSym)>-1)throw new FH(this.parent.formulaErrorStrings[TH.invalid_expression],!1);for(;a<e.length;)if(e.indexOf("&")>-1||this.parent.isDigit(e[a])&&e.length>a+1&&this.indexOfAny(e[a+1],n)>-1&&e.length>a+2&&!JO(e[a+2])&&this.indexOfAny(e[a+2],n)>-1){if(JO(t))throw new FH(this.parent.formulaErrorStrings[TH.invalid_expression],!0);if(!t.computeForceCalculate)throw this.parent.formulaErrorStrings[TH.improper_formula];this.parent.isDigit(e[a])?(d<1?(c=e[a],JO(l=e[a+1])&&(l=this.emptyStr),d+=1,r=r+c+(l="&"===l?"":l)):d<2&&(h=e[a],o=e[a-1],u=e[a+1],d=0,"-"===o?r=r+o+h+(u="&"===(u=JO(u)?this.emptyStr:u)?"":u):r=r+h+(u=JO(u)?this.emptyStr:u)),a+=2):(r="-"===e[a]?r+e[a]:r,a+=1)}else if((this.parent.isDigit(e[a])||e[a]===this.parent.rightBracket||this.parent.storedData.has(e[a].toUpperCase()))&&(JO(e[a+1])||this.indexOfAny(e[a+1],n))>-1)s="&"===(s=JO(e[a+1])?this.emptyStr:e[a+1])?"":s,r="-"===e[a-1]?r+e[a-1]+e[a]+s:r+e[a]+s,a+=2;else if(this.indexOfAny(e[a],i)>-1&&!JO(e[a-1])&&!JO(e[a+1]))r+=e[a],a+=1;else if("q"===e[a])for(;e[a]!==this.parent.leftBracket;)r+=e[a],a+=1;else e[a]===this.parent.leftBracket||e[a]===this.parent.rightBracket||"{"===e[a]||"}"===e[a]||"("===e[a]||")"===e[a]?(r+=e[a],a+=1):this.parent.isUpperChar(e[a])||e[a].indexOf(":")>-1||e[a]===this.parent.getParseArgumentSeparator()||"%"===e[a]&&this.parent.isDigit(e[a-1])?(r+=e[a],a+=1):e[a]===this.parent.tic||" "===e[a]||"."===e[a]||e[a]===this.sheetToken||"$"===e[a]?(r+=e[a],a+=1):(this.parent.isDigit(e[a])&&(r="-"===e[a-1]?r+e[a-1]+e[a]:r+e[a]),"-"===e[a]&&(r=(r+=e[a]).split("++").join("+").split("+-").join("-").split("-").join("-")),a+=1);return r=r===this.emptyStr?e:r,this.indexOfAny(r[r.length-1],n)>-1&&(r=r.substring(0,r.length-1)),r=r.split("--").join("-").split("-+").join("-").split("+-").join("-")}},{key:"checkScopedRange",value:function(e){var t=this,n=this.emptyStr,i="NaN",a=this.parent.getSheetID(this.parent.grid),r=this.parent.getSheetFamilyItem(this.parent.grid);if(e[0]===this.sheetToken.toString()){var s=e.indexOf(this.sheetToken,1),l=parseInt(e.substr(1,s-1),10);s>1&&!this.parent.isNaN(l)&&(e=e.substring(s+1),a=l)}var o="!"+a.toString()+"!";return null===r||null==r.sheetNameToToken?i:(r.sheetNameToToken.forEach((function(a,s){if(r.sheetNameToToken.get(s).toString()===o){var l=t.emptyStr;t.parent.namedRanges.forEach((function(a,s){l=JO(t.parent.parentObject)?r.sheetNameToToken.get(s).toUpperCase():(t.parent.parentObject.getActiveSheet().name+t.sheetToken+e).toUpperCase(),t.parent.getNamedRanges().has(l)&&(n=t.parent.getNamedRanges().get(l).toUpperCase(),i=n)}))}})),i)}},{key:"storeStrings",value:function(e){var t,n=0,i=0,a=0,r="",s=null,l=e.indexOf(this.parent.tic);if(e.indexOf(this.parent.singleTic),l>-1)for(n=(e=e.split(this.parent.singleTic).join(this.parent.tic)).indexOf(this.parent.tic);n>-1&&e.length>0;){if(null===s&&(s=this.stringsColl),-1===(i=n+1<e.length?e.indexOf(this.parent.tic,n+1):-1))throw new FH(this.parent.formulaErrorStrings[TH.mismatched_tics]);t=this.parent.substring(e,n,i-n+1),r=this.parent.tic+this.spaceString+a.toString()+this.parent.tic,s=s.set(r,t),e=e.substring(0,n)+r+e.substring(i+1),(n+=r.length)<e.length&&(n=e.indexOf(this.parent.tic,n)),a++}return this.storedStringText=e,s}},{key:"setStrings",value:function(e,t){for(var n=0;n<t.size;n++)t.forEach((function(t,n){e=e.split(n).join(t)}));return e}},{key:"parseSimple",value:function(e){var t=e;if(t.length>0&&"+"===t[0]&&(t=t.substring(1)),"#DIV/0!"===t)return"#DIV/0!";if("#NAME?"===t)return"#NAME?";if(""===t)return t;if(this.parent.formulaErrorStrings.indexOf(t)>-1)return t;t=(t=(t=(t=(t=(t=t.split(this.stringLessEq).join(this.charLessEq)).split(this.stringGreaterEq).join(this.charGreaterEq)).split(this.stringNoEqual).join(this.charNoEqual)).split(this.stringAnd).join(this.charAnd)).split(this.stringOr).join(this.charOr)).split(this.fixedReference).join(this.emptyStr);var n=[this.tokenMultiply,this.tokenDivide],i=[this.tokenAdd,this.tokenSubtract],a=[this.charMultiply,this.charDivide],r=[this.charAdd,this.charSubtract],s=[this.tokenLess,this.tokenGreater,this.tokenEqual,this.tokenLessEq,this.tokenGreaterEq,this.tokenNotEqual],l=[this.charLess,this.charGreater,this.charEqual,this.charLessEq,this.charGreaterEq,this.charNoEqual],o=[this.tokenAnd],u=[this.charAnd],c=[this.charOr],h=[this.tokenOr];return t=this.parseSimpleOperators(t,[this.tokenEp,this.tokenEm],[this.charEp,this.charEm]),t=this.parseSimpleOperators(t,h,c),t=this.parseSimpleOperators(t,n,a),t=this.parseSimpleOperators(t,i,r),t=this.parseSimpleOperators(t,s,l),t=this.parseSimpleOperators(t,o,u)}},{key:"parseSimpleOperators",value:function(e,t,n){if(this.parent.getErrorStrings().indexOf(e)>-1)return e;for(var i=e,a=0,r="",s=0;s<n.length;s++)r+=n[s];(i=(i=i.split("---").join("-").split("--").join("+").split(this.parent.getParseArgumentSeparator()+"-").join(this.parent.getParseArgumentSeparator()+"u").split(this.parent.leftBracket+"-").join(this.parent.leftBracket+"u").split("=-").join("=u")).split(",+").join(",").split(this.parent.leftBracket+"+").join(this.parent.leftBracket).split("=+").join("=").split(">+").join(">").split("<+").join("<").split("/+").join("/").split("*+").join("*").split("++").join("+").split("*-").join("*u").toString()).length>0&&"-"===i[0]?(i="0-"+(i=i.substring(1).split("-").join(this.tokenOr)),i=(i=this.parseSimpleOperators(i,[this.tokenSubtract],[this.charSubtract])).split(this.tokenOr).join("-")):i.length>0&&"+"===i[0]?i=i.substring(1):i.length>0&&"+"===i[i.length-1]&&(i=i.substring(0,i.length-1));try{if(this.indexOfAny(i,n)>-1)for(a=this.indexOfAny(i,n);a>-1;){var l="",o="",u=0,c=0,h=0;if(i[a]===this.charNOTop)u=a;else if(i[h=a-1]===this.parent.arithMarker){var d=this.findLeftMarker(i.substring(0,h-1));if(d<0)throw new FH(this.parent.formulaErrorStrings[TH.cannot_parse]);l=this.parent.substring(i,d+1,h-d-1),u=d+1}else if(i[h]===this.parent.rightBracket){for(var p=0,f=h-1;f>0&&("q"!==i[f]||0!==p);)"q"===i[f]?p--:i[f]===this.parent.rightBracket&&p++,f--;if(f<0)throw new FH(this.parent.formulaErrorStrings[TH.cannot_parse]);l=this.parent.substring(i,f,h-f+1),u=f}else if(i[h]===this.parent.tic[0]){var m=i.substring(0,h-1).lastIndexOf(this.parent.tic);if(m<0)throw new FH(this.parent.formulaErrorStrings[TH.cannot_parse]);l=this.parent.substring(i,m,h-m+1),u=m}else{for(var g=!1;h>-1&&(this.parent.isDigit(i[h])||!g&&i[h]===this.parent.getParseDecimalSeparator());)i[h]===this.parent.getParseDecimalSeparator()&&(g=!0),h-=1;if(h>-1&&g&&i[h]===this.parent.getParseDecimalSeparator())throw new FH(this.parent.formulaErrorStrings[TH.number_contains_2_decimal_points]);if(0===(h+=1)||h>0&&!this.parent.isUpperChar(i[h-1]))l="n"+this.parent.substring(i,h,a-h),u=h;else{for(h-=1;h>-1&&(this.parent.isUpperChar(i[h])||this.parent.isDigit(i[h]));)h-=1;if(h>-1&&i[h]===this.sheetToken){for(h-=1;h>-1&&i[h]!==this.sheetToken;)h-=1;h>-1&&i[h]===this.sheetToken&&(h-=1)}h+=1,l=this.parent.substring(i,h,a-h),this.parent.updateDependentCell(l),u=h}(this.parent.namedRanges.size>0&&this.parent.namedRanges.has(l.toUpperCase())||this.parent.storedData.has(l.toUpperCase()))&&(l="n"+this.checkForNamedRangeAndKeyValue(l))}if(a===i.length-1)throw new FH(this.parent.formulaErrorStrings[TH.expression_cannot_end_with_an_operator]);var v="u"===i[h=a+1];if(v&&(h+=1),i[h]===this.parent.tic[0]){var y=i.substring(h+1).indexOf(this.parent.tic);if(y<0)throw this.parent.formulaErrorStrings[TH.cannot_parse];o=this.parent.substring(i,h,y+2),c=y+h+2}else if(i[h]===this.parent.arithMarker){var b=this.findRightMarker(i.substring(h+1));if(b<0)throw new FH(this.parent.formulaErrorStrings[TH.cannot_parse]);o=this.parent.substring(i,h+1,b),c=b+h+2}else if("q"===i[h]){for(var k=0,C=h+1;C<i.length&&(i[C]!==this.parent.rightBracket||0!==k);)i[C]===this.parent.rightBracket?k++:"q"===i[C]&&k--,C++;if(C===i.length)throw this.parent.formulaErrorStrings[TH.cannot_parse];o=this.parent.substring(i,h,C-h+1),v&&(o="u"+o),c=C+1}else if(this.parent.isDigit(i[h])||i[h]===this.parent.getParseDecimalSeparator()){var w=i[h]===this.parent.getParseDecimalSeparator();for(h+=1;h<i.length&&(this.parent.isDigit(i[h])||!w&&i[h]===this.parent.getParseDecimalSeparator());)i[h]===this.parent.getParseDecimalSeparator()&&(w=!0),h+=1;if(h<i.length&&"%"===i[h]&&(h+=1),w&&h<i.length&&i[h]===this.parent.getParseDecimalSeparator())throw this.parent.formulaErrorStrings[TH.number_contains_2_decimal_points];o="n"+this.parent.substring(i,a+1,h-a-1),c=h}else if(this.parent.isUpperChar(i[h])||i[h]===this.sheetToken||"u"===i[h]){if(i[h]===this.sheetToken)for(h+=1;h<i.length&&i[h]!==this.sheetToken;)h+=1;h+=1;for(var _=0,x=!1;h<i.length&&(this.parent.isUpperChar(i[h])||"_"===i[h]||"."===i[h]||"["===i[h]||"]"===i[h]||"#"===i[h]||" "===i[h]||"%"===i[h]||i[h]===this.parent.getParseDecimalSeparator()&&x);)h!==i.length-1&&"["===i[h]&&"["===i[h+1]&&(x=!0),h!==i.length-1&&"]"===i[h]&&"]"===i[h+1]&&(x=!1),h++,_++;var S=h===i.length||!this.parent.isDigit(i[h]);if(_>1){for(;h<i.length&&(this.parent.isUpperChar(i[h])||this.parent.isDigit(i[h])||" "===i[h]||"_"===i[h]);)h++;S=!0}for(;h<i.length&&this.parent.isDigit(i[h]);)h+=1;if(h<i.length&&":"===i[h]){if((h+=1)<i.length&&i[h]===this.sheetToken){for(h++;h<i.length&&i[h]!==this.sheetToken;)h+=1;h<i.length&&i[h]===this.sheetToken&&h++}for(;h<i.length&&this.parent.isUpperChar(i[h]);)h+=1;for(;h<i.length&&this.parent.isDigit(i[h]);)h+=1;h-=1,o=this.parent.substring(i,a+1,h-a)}else h-=1,o=this.parent.substring(i,a+1,h-a),(v="u"===i[h])&&(o="u"+o);S&&o.startsWith(this.sheetToken)&&(S=!this.parent.isCellReference(o)),S||this.parent.updateDependentCell(o),(this.parent.namedRanges.size>0&&this.parent.namedRanges.has(o.toUpperCase())||this.parent.storedData.has(o.toUpperCase()))&&(o="n"+this.checkForNamedRangeAndKeyValue(o)),c=h+1}var E=r.indexOf(i[a]),O=this.parent.arithMarker+l+o+t[E]+this.parent.arithMarker;u>0&&(O=i.substring(0,u)+O),c<i.length&&(O+=i.substring(c)),i=O=O.split(this.parent.arithMarker2).join(this.parent.arithMarker.toString()),a=this.indexOfAny(i,n)}else if(i.length>0&&(this.parent.isUpperChar(i[0])||i[0]===this.sheetToken)){for(var I=!0,A=!0,D=!1,M=i.length,T=0;T<M;++T)if(i[T]===this.sheetToken){if(T>0&&!D)throw this.parent.getErrorStrings()[MH.ref];for(D=!0,T++;T<M&&this.parent.isDigit(i[T]);)T++;if(T===M||i[T]!==this.sheetToken){I=!1;break}}else{if(!A&&this.parent.isChar(i[T])){I=!1;break}if(!this.parent.isChar(i[T])&&!this.parent.isDigit(i[T])&&i[T]!==this.sheetToken){I=!1;break}A=this.parent.isUpperChar(i[T])}I&&this.parent.updateDependentCell(i)}return i}catch(P){return P}}},{key:"indexOfAny",value:function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return n;return-1}},{key:"findLeftMarker",value:function(e){var t=-1;if(e.indexOf(this.parent.arithMarker)>-1)for(var n=0,i=e.length-1;i>=0;--i)if(e[i]===this.parent.rightBracket)n--;else if(e[i]===this.parent.leftBracket)n++;else if(e[i]===this.parent.arithMarker&&0===n){t=i;break}return t}},{key:"findRightMarker",value:function(e){var t=-1;if(e.indexOf(this.parent.arithMarker)>-1)for(var n=0,i=0;i<e.length;++i)if(e[i]===this.parent.rightBracket)n--;else if(e[i]===this.parent.leftBracket)n++;else if(e[i]===this.parent.arithMarker&&0===n){t=i;break}return t}},{key:"parseFormula",value:function(e,t){e.length>0&&e[0]===this.parent.getFormulaCharacter()&&(e=e.substring(1)),e.length>0&&"+"===e[0]&&(e=e.substring(1));try{this.isFailureTriggered=!1,this.isError=!1,e=this.parse(e.trim(),t),this.isFormulaParsed=!0}catch(a){var n=this.exceptionArgs(a);this.isFailureTriggered||(this.parent.trigger("onFailure",n),this.isFailureTriggered=!0);var i="string"==typeof n.exception?n.exception:n.message;e=(JO(this.parent.getErrorLine(a))?"":"#"+this.parent.getErrorLine(a)+": ")+i,this.isError=!0}return e}},{key:"markLibraryFormulas",value:function(e){var t=0,n=e.indexOf(")");if(-1===n)e=this.markNamedRanges(e);else for(;n>-1;){for(var i=0,a=n-1;a>-1&&("("!==e[a]||0!==i);)")"===e[a]?i++:")"===e[a]&&i--,a--;if(-1===a)throw new FH(this.parent.formulaErrorStrings[TH.mismatched_parentheses]);for(var r=a-1;r>-1&&this.parent.isChar(e[r]);)r--;var s=a-r-1,l=this.parent.substring(e,r+1,s);if(s>0&&!JO(this.parent.getFunction(l))){this.ignoreBracet="AREAS"===this.parent.substring(e,r+1,s);var o=this.parent.substring(e,a,n-a+1);try{o=o.split("(").join("").split(")").join(""),o="("+this.formulaAutoCorrection(o,void 0)+")"}catch(h){var u={message:h.message,exception:h,isForceCalculable:h.formulaCorrection,computeForceCalculate:!1};if(!u.isForceCalculable)throw this.parent.formulaErrorStrings[TH.improper_formula];if(this.isFailureTriggered||(this.parent.trigger("onFailure",u),this.isFailureTriggered=!0,t+=1),u.computeForceCalculate=t>0||u.computeForceCalculate,!u.isForceCalculable)throw this.parent.formulaErrorStrings[TH.improper_formula];if(!u.computeForceCalculate)throw this.parent.formulaErrorStrings[TH.improper_formula];o=o.split("(").join("").split(")").join(""),o="("+this.formulaAutoCorrection(o,u)+")"}o=this.markNamedRanges(o),o=this.swapInnerParens(o),-1===(o=this.addParensToArgs(o)).lastIndexOf(this.parent.getParseArgumentSeparator())&&o.length>2&&"("===o[0]&&")"===o[o.length-1]&&"{"!==o[1]&&"("!==o[1]&&(o=(o=o.substring(0,o.length-1)+"}"+o.substring(o.length-1))[0]+"{"+o.substring(1)),e=e.substring(0,r+1)+"q"+this.parent.substring(e,r+1,s)+o.split("(").join(this.parent.leftBracket).split(")").join(this.parent.rightBracket)+e.substring(n+1)}else{if(s>0)return this.parent.getErrorStrings()[MH.name];var c=this.emptyStr;a>0&&(c=e.substring(0,a)),c=c+"{"+this.parent.substring(e,a+1,n-a-1)+"}",n<e.length&&(c+=e.substring(n+1)),e=c=this.markNamedRanges(c)}n=e.indexOf(")")}return e.split("{").join("(").split("}").join(")")}},{key:"swapInnerParens",value:function(e){return e.length>2&&(e=e[0]+e.substr(1,e.length-2).split("(").join("{").split(")").join("}")+e[e.length-1]),e}},{key:"addParensToArgs",value:function(e){if(0===e.length)return this.emptyStr;var t=[];t.push(this.parent.getParseArgumentSeparator()),t.push(this.parent.rightBracket);var n=e.lastIndexOf(this.parent.getParseArgumentSeparator()),i=0;if(-1===n)e.length>2&&"("===e[0]&&")"===e[e.length-1]&&("{"!==e[1]&&"("!==e[1]?e=(e=e.substring(0,e.length-1)+"}"+e.substring(e.length-1))[0]+"{"+e.substring(1):(n=this.lastIndexOfAny(e,["+","-","*","/"]),0===i&&")"===e[e.length-1]&&(i=e.length-1),i>0&&"{"!==e[n+1]&&"}"===e[n-1]&&(e=(e=e.substr(0,i)+"}"+e.substr(i)).substr(0,n+1)+"{"+e.substr(n+1))));else for(var a=!0;n>-1;){var r=this.indexOfAny(e.substring(n+1,e.length),t);r>=0?r=n+r+1:-1===r&&")"===e[e.length-1]&&(r=e.length-1),r>0&&"{"!==e[n+1]&&"}"!==e[r-1]&&(e=(e=e.substr(0,r)+"}"+e.substr(r)).substr(0,n+1)+"{"+e.substr(n+1)),n=e.substr(0,n).lastIndexOf(this.parent.getParseArgumentSeparator()),a&&-1===n&&"("===e[0]&&(n=0,a=!1)}return e.split("{}").join(this.emptyStr)}},{key:"lastIndexOfAny",value:function(e,t){for(var n=e.length-1;n>-1;n--)if(t.indexOf(e[n])>-1)return n;return-1}},{key:"markNamedRanges",value:function(e){var t=[")",this.parent.getParseArgumentSeparator(),"}","+","-","*","/","<",">","=","&"],n=e.length>0&&("("===e[0]||"{"===e[0])?1:0;e.indexOf("#N/A")>-1&&(e=e.split("#N/A").join("#N~A")),e.indexOf("#DIV/0!")>-1&&(e=e.split("#DIV/0!").join("#DIV~0!"));for(var i=this.indexOfAny(e.substring(n),t);i>-1&&i+n<e.length;){var a=this.emptyStr,r=null;if(this.parent.substring(e,n,i).indexOf("[")>-1?r=this.getTableRange(this.parent.substring(e,n,i)):this.parent.storedData.has(this.parent.substring(e,n,i))?r=this.checkForNamedRangeAndKeyValue(this.parent.substring(e,n,i)):this.parent.namedRanges.has(this.parent.substring(e,n,i))&&(r=this.checkForNamedRangeAndKeyValue(this.parent.substring(e,n,i))),JO(r)&&("NaN"!==(a=this.checkScopedRange(this.parent.substring(e,n,i)))?(this.findNamedRange=!0,r=a):this.parent.substring(e,n,i).startsWith(this.sheetToken.toString())&&this.parent.substring(e,n,i).indexOf(this.sheetToken,1),!JO(r)&&this.findNamedRange&&r.indexOf(this.fixedReference)>-1&&(r=r.split(this.fixedReference).join(this.emptyStr))),JO(r)||(r=r.toUpperCase(),r=this.parent.setTokensForSheets(r),r=this.markLibraryFormulas(r)),JO(r)||r===this.emptyStr)for(n+=i+1;n<e.length&&!this.parent.isUpperChar(e[n])&&e[n]!==this.sheetToken;)n++;else e=e.substring(0,n)+r+e.substring(n+i),n+=r.length+1;for(i=n,n<e.length-1&&"{"===e[n]&&(n+=1),i=this.indexOfAny(e.substring(n),t);0===i&&n<e.length-1;)n++,i=this.indexOfAny(e.substring(n),t);if((-1===i||e.substring(n).indexOf("[")>-1)&&n<e.length){if(JO(r=e.substring(n).indexOf("[")>-1?this.getTableRange(e.substring(n)):this.parent.storedData.has(e.substring(n))?this.parent.storedData.size>0?this.checkForNamedRangeAndKeyValue(e.substring(n)):r:this.parent.namedRanges.size>0?this.checkForNamedRangeAndKeyValue(e.substring(n)):r)&&("NaN"!==(a=this.checkScopedRange(e.substring(n)))&&(r=a)),!JO(r)&&r!==this.emptyStr&&(r=r.toUpperCase(),r=this.parent.setTokensForSheets(r),null!=(r=this.markLibraryFormulas(r)))){var s=e.substring(n);e=")"===s[s.length-1]?e.substring(0,n)+r+")":e.substring(0,n)+r,n+=r.toString().length+1}i=n<e.length?this.indexOfAny(e.substring(n),t):-1}}return e.indexOf("#N~A")>-1&&(e=e.split("#N~A").join("#N/A")),e.indexOf("#DIV~0!")>-1&&(e=e.split("#DIV~0!").join("#DIV/0!")),e}},{key:"checkForNamedRangeAndKeyValue",value:function(e){var t=this.emptyStr;if(e.indexOf("[")>-1){var n=this.getTableRange(e);JO(n)||(this.findNamedRange=!0,e=n)}if("NaN"!==(t=this.checkScopedRange(e)))this.findNamedRange=!0,e=t;else{if(e.indexOf(this.sheetToken)>-1){var i=this.parent.getSheetFamilyItem(this.parent.grid),a=e.split('"').join(this.emptyStr);a=a.substr(0,a.indexOf(this.sheetToken)),i.sheetNameToToken.has(a.toUpperCase())&&parseInt(i.sheetNameToToken.get(a.toUpperCase()).split(this.sheetToken).join(this.emptyStr))}this.parent.storedData.size>0&&this.parent.storedData.has(e)&&(e="A"+this.parent.colIndex(e)),this.parent.namedRanges.size>0&&this.parent.namedRanges.has(e.toUpperCase())&&(JO(this.parent.parentObject)?(e=this.parse(this.parent.namedRanges.get(e.toUpperCase())),(e=this.parent.setTokensForSheets(e)).indexOf(this.fixedReference)>-1&&e.split(this.fixedReference).join(this.emptyStr),this.findNamedRange=!0):e=this.parse(this.parent.namedRanges.get(e.toUpperCase()))),this.findNamedRange&&"!"!==e[0]&&"q"!==e[0]&&"bq"!==e[0]&&(e=this.parent.setTokensForSheets(e)).indexOf(this.fixedReference)>-1&&(e=e.split(this.fixedReference).join(this.emptyStr))}return e}},{key:"getTableRange",value:function(e){var t=(e=e.replace(" ",this.emptyStr).toUpperCase()).replace("]",this.emptyStr).replace("#DATA",this.emptyStr);return t.indexOf(this.parent.getParseArgumentSeparator())>-1&&(t.substring(0,t.indexOf(this.parent.getParseArgumentSeparator())).replace("[",this.emptyStr),t=t.replace("[",this.emptyStr).replace(this.parent.getParseArgumentSeparator(),"_")),t.toUpperCase()}},{key:"findNextEndIndex",value:function(e,t){for(var n=0,i=t,a=!1;!a&&t<e.length;)"["===e[i]?n++:"]"===e[i]&&(0===--n&&(a=!0)),t++;return t-i}}]),e}(),NH=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},RH=(AH=IH=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),(i=t.call(this,null,null)).lFormulas=new Map,i.storedData=new Map,i.keyToRowsMap=new Map,i.rowsToKeyMap=new Map,i.rightBracket=String.fromCharCode(161),i.leftBracket=String.fromCharCode(162),i.sheetToken="!",i.emptyString="",i.leftBrace="{",i.rightBrace="}",i.cell=i.emptyString,i.cellPrefix="!0!A",i.treatEmptyStringAsZero=!1,i.tic='"',i.singleTic="'",i.trueValue="TRUE",i.falseValue="FALSE",i.parseDecimalSeparator=".",i.arithMarker=String.fromCharCode(180),i.arithMarker2=i.arithMarker+i.arithMarker,i.dependentCells=null,i.dependentFormulaCells=null,i.minValue=Number.MIN_SAFE_INTEGER,i.maxValue=Number.MAX_SAFE_INTEGER,i.categoryCollection=["All"],i.dependencyLevel=0,i.refreshedCells=new Map,i.computedValues=null,i.randomValues=new Map,i.isRandomVal=!1,i.randCollection=[],i.formulaErrorStrings=["binary operators cannot start an expression","cannot parse","bad library","invalid char in front of","number contains 2 decimal points","expression cannot end with an operator","invalid characters following an operator","invalid character in number","mismatched parentheses","unknown formula name","requires a single argument","requires 3 arguments","invalid Math argument","requires 2 arguments","#NAME?","too complex","circular reference: ","missing formula","improper formula","invalid expression","cell empty","bad formula","empty expression","","mismatched string quotes","wrong number of arguments","invalid arguments","iterations do not converge","Control is already registered","Calculation overflow","Missing sheet","cannot_parse","expression_cannot_end_with_an_operator"],i.errorStrings=null,i.parseArgumentSeparator=",",i.dateTime1900=new Date(1900,0,1,0,0,0),i.isParseDecimalSeparatorChanged=!1,i.isArgumentSeparatorChanged=!1,i.sheetFamilyID=0,i.defaultFamilyItem=null,i.sheetFamiliesList=null,i.modelToSheetID=null,i.tokenCount=0,i.sortedSheetNames=null,i.tempSheetPlaceHolder=String.fromCharCode(133),i.namedRanges=new Map,i.formulaInfoTable=null,i.oaDate=new Date(1899,11,30),i.millisecondsOfaDay=864e5,i.parseDateTimeSeparator="/";var a=new DH(_assertThisInitialized(i));return i.includeBasicFormulas&&IH.Inject(PH),i.injectedModules&&i.injectedModules.length&&a.inject(i.requiredModules(),i.injectedModules),i.parentObject=JO(e)?_assertThisInitialized(i):e,i.grid=i.parentObject,i.parser=new LH(_assertThisInitialized(i)),i}return _createClass(n,[{key:"getParseArgumentSeparator",value:function(){return this.isArgumentSeparatorChanged||","===this.parseArgumentSeparator||(this.parseArgumentSeparator=","),this.parseArgumentSeparator}},{key:"setParseArgumentSeparator",value:function(e){this.parseArgumentSeparator=e,this.isArgumentSeparatorChanged=!0}},{key:"getParseDateTimeSeparator",value:function(){return this.parseDateTimeSeparator}},{key:"setTreatEmptyStringAsZero",value:function(e){this.treatEmptyStringAsZero=e}},{key:"getTreatEmptyStringAsZero",value:function(){return this.treatEmptyStringAsZero}},{key:"setParseDateTimeSeparator",value:function(e){this.parseDateTimeSeparator=e}},{key:"requiredModules",value:function(){return t=[],(e=this).includeBasicFormulas&&t.push({member:"basic-formulas",args:[e]}),t;var e,t}},{key:"getInjectedModules",value:function(){return this.injectedModules}},{key:"onPropertyChanged",value:function(e,t){}},{key:"getModuleName",value:function(){return"calculate"}},{key:"getFormulaCharacter",value:function(){return"="}},{key:"isUpperChar",value:function(e){var t=e.charCodeAt(0);return t>64&&t<91}},{key:"resetKeys",value:function(){this.storedData.clear(),this.keyToRowsMap.clear(),this.rowsToKeyMap.clear()}},{key:"updateDependentCell",value:function(e){var t=this.getSheetFamilyItem(this.grid),n=this.cell;if(null!==t.sheetNameToParentObject){var i=t.parentObjectToToken.get(this.grid);-1===n.indexOf(this.sheetToken)&&(n=i+n),-1===e.indexOf(this.sheetToken)&&(e=i+e)}if(this.getDependentCells().has(e)){var a=this.getDependentCells().get(e);a.indexOf(n)<0&&a.push(n)}else this.getDependentCells().set(e,[n])}},{key:"getDependentCells",value:function(){if(this.isSheetMember()){var e=this.getSheetFamilyItem(this.grid);return null==e.sheetDependentCells&&(e.sheetDependentCells=new Map),e.sheetDependentCells}return null==this.dependentCells&&(this.dependentCells=new Map),this.dependentCells}},{key:"getDependentFormulaCells",value:function(){if(this.isSheetMember()){var e=this.getSheetFamilyItem(this.grid);return null==e.sheetDependentFormulaCells&&(e.sheetDependentFormulaCells=new Map),e.sheetDependentFormulaCells}return null==this.dependentFormulaCells&&(this.dependentFormulaCells=new Map),this.dependentFormulaCells}},{key:"getLibraryFormulas",value:function(){return this.lFormulas}},{key:"getFunction",value:function(e){return this.getLibraryFormulas().has(e.toUpperCase())?this.getLibraryFormulas().get(e.toUpperCase()).handler:null}},{key:"intToDate",value:function(e){var t=Number(e);return(t=t>0&&t<1?1+t:0===t?1:t)>60&&(t-=1),new Date(864e5*(t-1)+new Date("01/01/1900").getTime())}},{key:"getFormulaInfoTable",value:function(){if(this.isSheetMember()){var e=this.getSheetFamilyItem(this.grid);return null===e.sheetFormulaInfotable&&(e.sheetFormulaInfotable=new Map),e.sheetFormulaInfotable}return null===this.formulaInfoTable&&(this.formulaInfoTable=new Map),this.formulaInfoTable}},{key:"getFormula",value:function(e){return e=e.toUpperCase(),this.storedData.has(e)?this.storedData.get(e).getFormulaText():""}},{key:"getParseDecimalSeparator",value:function(){return this.isParseDecimalSeparatorChanged||"."===this.parseDecimalSeparator||(this.parseDecimalSeparator="."),this.parseDecimalSeparator}},{key:"setParseDecimalSeparator",value:function(e){this.parseDecimalSeparator=e,this.isParseDecimalSeparatorChanged=!0}},{key:"getSheetToken",value:function(e){var t=0,n=this.emptyString;if(t<e.length&&e[t]===this.sheetToken){for(t++;t<e.length&&e[t]!==this.sheetToken;)t++;n=e.substring(0,t+1)}if(t<e.length)return n;throw this.formulaErrorStrings[TH.bad_index]}},{key:"getSheetID",value:function(e){var t=this.getSheetFamilyItem(e);if(null!=t.sheetNameToParentObject&&t.sheetNameToParentObject.size>0){var n=t.parentObjectToToken.get(e);n=n.split(this.sheetToken).join(this.emptyString);var i=this.parseFloat(n);if(!this.isNaN(i))return i}return-1}},{key:"parseFloat",value:function(e){return Number(e)}},{key:"rowIndex",value:function(e){var t,n=0,i=!1;if(n<e.length&&e[n]===this.sheetToken){for(n++;n<e.length&&e[n]!==this.sheetToken;)n++;n++}for(;n<e.length&&this.isChar(e[n]);)i=!0,n++;if(t=parseInt(e.substring(n),10),n<e.length&&!this.isNaN(t))return t;if(i)return-1;throw this.formulaErrorStrings[TH.bad_index]}},{key:"colIndex",value:function(e){var t=0,n=0;if(t<(e=e.toUpperCase()).length&&e[t]===this.sheetToken){for(t++;t<e.length&&e[t]!==this.sheetToken;)t++;t++}for(;t<e.length&&this.isChar(e[t]);)n=26*n+e[t].charCodeAt(0)-64,t++;return 0===n?-1:n}},{key:"getErrorStrings",value:function(){return null===this.errorStrings&&(this.errorStrings=["#N/A","#VALUE!","#REF!","#DIV/0!","#NUM!","#NAME?","#NULL!"]),this.errorStrings}},{key:"substring",value:function(e,t,n){return e.substring(t,n+t)}},{key:"isChar",value:function(e){return e.charCodeAt(0)>=65&&e.charCodeAt(0)<=90||e.charCodeAt(0)>=97&&e.charCodeAt(0)<=122}},{key:"getSheetFamilyItem",value:function(e){if(0===this.sheetFamilyID)return null==this.defaultFamilyItem&&(this.defaultFamilyItem=new BH),this.defaultFamilyItem;null==this.sheetFamiliesList&&(this.sheetFamiliesList=new Map);var t=this.modelToSheetID.get(e);return this.sheetFamiliesList.has(t)||this.sheetFamiliesList.set(t,new BH),this.sheetFamiliesList.get(t)}},{key:"setKeyValue",value:function(e,t){e=e.toUpperCase();var n=t.toString().trim();this.storedData.get(e)&&0!==n.indexOf(this.leftBrace)||(this.storedData.set(e,new HH),this.keyToRowsMap.set(e,this.keyToRowsMap.size+1),this.rowsToKeyMap.set(this.rowsToKeyMap.size+1,e));var i=this.storedData.get(e);if(null!=i.getFormulaText()&&i.getFormulaText().length>0&&i.getFormulaText()!==n){var a=this.cellPrefix+this.keyToRowsMap.get(e).toString();null!=this.getDependentFormulaCells().get(a)&&this.clearFormulaDependentCells(a)}n.length>0&&n[0]===this.getFormulaCharacter()?i.setFormulaText(n):i.getFormulaValue()!==n&&(i.setFormulaText(""),i.setParsedFormula(""),i.setFormulaValue(n))}},{key:"clearFormulaDependentCells",value:function(e){var t=this,n=this.getDependentFormulaCells().get(e);null!=n&&(n.forEach((function(n,i){var a=i,r=t.getDependentCells().get(a);t.arrayRemove(r,e),0===r.length&&t.getDependentCells().delete(a)})),this.getDependentFormulaCells().delete(e))}},{key:"arrayRemove",value:function(e,t){for(var n=null;-1!==n;)n=e.indexOf(t),e.splice(n,1);return e}},{key:"getKeyValue",value:function(e){if(e=e.toUpperCase(),null!==this.storedData.has(e)){var t=this.storedData.get(e),n=t.getFormulaText();if(n.length>0&&n[0]===this.getFormulaCharacter()){this.cell=this.cellPrefix+this.keyToRowsMap.get(e).toString(),n=n.substring(1);try{t.setParsedFormula(this.parser.parseFormula(n,e))}catch(s){var i={message:s.message,exception:s,isForceCalculable:!1,computeForceCalculate:!1};return this.trigger("onFailure",i),t.setFormulaValue(i.message),this.storedData.get(e).getFormulaValue()}try{t.setFormulaValue(this.computeFormula(t.getParsedFormula()))}catch(s){var a={message:s.message,exception:s,isForceCalculable:!1,computeForceCalculate:!1};this.trigger("onFailure",a);var r="string"==typeof a.exception?a.exception:a.message;return(JO(this.getErrorLine(s))?"":"#"+this.getErrorLine(s)+": ")+r}}return this.storedData.get(e).getFormulaValue()}return this.emptyString}},{key:"getNamedRanges",value:function(){return this.namedRanges}},{key:"addNamedRange",value:function(e,t){var n=e.split(this.sheetToken);if(n.length>1){if(!this.getSheetFamilyItem(this.grid).parentObjectToToken.get(n[0]))return!1;e=n[0]+this.sheetToken+n[1].toUpperCase()}else e=e.toUpperCase();return this.namedRanges.set(e,t),!0}},{key:"removeNamedRange",value:function(e){return e=e.toUpperCase(),null!=this.namedRanges.get(e)&&(this.namedRanges.delete(e),!0)}},{key:"convertAlpha",value:function(e){for(var t=[],n=0;e>0;){e--;var i="A".charCodeAt(0);t[n]=String.fromCharCode(e%26+i),e=parseInt((e/26).toString(),10),n++}return t.join("")}},{key:"getCellCollection",value:function(e){if(e.indexOf(":")<0){if(!this.isCellReference(e))return e.split(this.getParseArgumentSeparator());e=e+":"+e}var t=this.emptyString,n=e.indexOf(this.sheetToken);if(n>-1)for(var i=n+1;i<e.length;){if(e[i]===this.sheetToken){t=e.substr(0,i+1);break}i++}var a,r,s,l,o=e.indexOf(":");if(o>0&&this.isChar(e[o-1]))for(var u=o-2;u>=0&&this.isDigit(e[u]);)u--;a=this.rowIndex(this.substring(e,0,o)),r=this.rowIndex(this.substring(e,o+1,o+e.length-o-1)),s=this.colIndex(this.substring(e,0,o)),l=this.colIndex(this.substring(e,o+1,o+e.length-o-1)),a>r&&(o=r,r=a,a=o),s>l&&(o=l,l=s,s=o);var c,h=[],d=0;for(o=a;o<=r;o++)for(c=s;c<=l;c++)h[d]=t+this.emptyString+this.convertAlpha(c)+o.toString(),d++;return h}},{key:"computeFormula",value:function(e){var t,n,i,a,r=!1;if(this.parser.isError)return e;t=this.parser.isFormulaParsed?e:this.parser.parseFormula(e),this.parser.isFormulaParsed=!1;try{if((n=this.findLastIndexOfq(t))>0&&(r=!0),t!==this.emptyString&&n>-1)for(var s=n+1;s>-1;)if(t[s]===this.rightBracket){var l=t.substring(n,s+1),o=l.split(this.leftBracket)[0].split("q").join(this.emptyString),u=l.substring(l.indexOf(this.leftBracket)+1,l.indexOf(this.rightBracket)).split(this.getParseArgumentSeparator());if(this.getLibraryFormulas().get(o.toUpperCase()).isCustom){var c=0,h=[];for(c=0;c<u.length;c++)h.push(this.getValueFromArg(u[c]));u=h}if(i=JO(this.getFunction(o))?this.getErrorStrings()[MH.name]:this.getFunction(o).apply(void 0,_toConsumableArray(u)),!r)break;a=this.processNestedFormula(t,l,i);var d=this.findLastIndexOfq(a);0===d&&(r=!1),-1===d&&(i=this.computeValue(a)),n=s=d,t=a}else s++;else this.formulaErrorStrings.indexOf(t)>-1?i=t:t!==this.emptyString&&-1===n&&(i=this.computeValue(t))}catch(m){var p={message:m.message,exception:m,isForceCalculable:!1,computeForceCalculate:!1};this.trigger("onFailure",p);var f="string"==typeof p.exception?p.exception:p.message;i=(JO(this.getErrorLine(m))?"":"#"+this.getErrorLine(m)+": ")+f}return i}},{key:"computeSumIfAndAvgIf",value:function(e){if(JO(e)||e[0]===this.emptyString||0===e.length)return this.formulaErrorStrings[TH.wrong_number_arguments];var t=e,n=t.length;if(2!==n&&3!==n&&0===n)return this.formulaErrorStrings[TH.wrong_number_arguments];var i=t[0],a=n>2?t[2].trim():t[1].trim();if((a=a.split(this.tic).join(this.emptyString)).length>255)return this.getErrorStrings()[MH.value];var r=this.parser.tokenEqual;a.startsWith("<=")?(r=this.parser.tokenLessEq,a=a.substring(2)):a.startsWith(">=")?(r=this.parser.tokenGreaterEq,a=a.substring(2)):a.startsWith("<>")?(r=this.parser.tokenNotEqual,a=a.substring(2)):a.startsWith("<")?(r=this.parser.tokenLess,a=a.substring(1)):a.startsWith(">")?(r=this.parser.tokenGreater,a=a.substring(1)):a.startsWith("=")&&(r=this.parser.tokenEqual,a=a.substring(1));var s=this.parseFloat(a),l=2===n?i:t[1],o=this.getCellCollection(t[0]),u=this.getCellCollection(l),c=this.getComputeSumIfValue(u,o,a,s,r);return[c[0],c[1]]}},{key:"computeLookup",value:function(e){if(0===e.length)return this.formulaErrorStrings[TH.wrong_number_arguments];for(var t=[],n=[],i=e,a=i.length,r=i[0].split(this.tic).join(this.emptyString),s=2===a?i[1]:i[2],l=this.getCellCollection(i[1]),o=this.getCellCollection(s),u=0;u<l.length;u++)n[u]=this.getValueFromArg(l[u]).split(this.tic).join("");for(var c=n.toString().split(this.getParseArgumentSeparator()),h=this.parseFloat(c[c.sort().length-1]),d=this.parseFloat(c[0]),p=0;p<l.length;p++){if(t[p]=this.getValueFromArg(l[p]).split(this.tic).join(""),r===t[p])return this.getValueFromArg(o[p]).split(this.tic).join("");if(this.parseFloat(r)===this.parseFloat(t[p]))return this.getValueFromArg(o[p]).split(this.tic).join("");if(this.parseFloat(r)<d)return this.getErrorStrings()[MH.na];if(this.parseFloat(r)>h){var f=n.indexOf(h.toString());return this.getValueFromArg(o[f]).split(this.tic).join("")}}if(n.indexOf(r)<0){for(var m=[],g=0;g<c.length;g++)this.parseFloat(r)>this.parseFloat(c[g])&&m.push(c[g]);var v=n.indexOf(m[m.length-1]);return this.getValueFromArg(o[v]).split(this.tic).join("")}return this.getErrorStrings()[MH.na]}},{key:"computeVLookup",value:function(e){var t=e,n=[],i=t[0].split(this.tic).join("");if(i.indexOf(":")>-1)return this.getErrorStrings()[MH.value];if(this.isCellReference(i)&&(i=this.getValueFromArg(i)),t[1].indexOf(":")<-1)return this.getErrorStrings()[MH.na];var a=[],r="",s="";if(this.isCellReference(t[1])&&(a=this.getCellCollection(t[1]),t[1].indexOf(":")>-1)){for(var l=t[1].indexOf(":"),o=0;o<l;o++)r+=this.isChar(t[1][o])?t[1][o]:"";for(var u=l;u<t[1].length;u++)s+=this.isChar(t[1][u])?t[1][u]:""}var c=this.colIndex(r)+this.parseFloat(t[2]);if(c>this.colIndex(s))return this.getErrorStrings()[MH.na];if(c===this.colIndex(r))return this.getErrorStrings()[MH.na];var h=this.convertAlpha(c);t[3]=JO(t[3])?this.trueValue:t[3].split(this.tic).join("");for(var d="",p=0;p<a.length;p++)n[p]=this.getValueFromArg(a[p]).split(this.tic).join("");for(var f=n.toString().split(this.getParseArgumentSeparator()),m=this.parseFloat(f[f.sort().length-1]),g=this.parseFloat(f[0]),v=0;v<a.length;v++){if(d=this.getValueFromArg(a[v]),t[3].toUpperCase()===this.trueValue){if(i===d)return this.getValueFromArg(h+v).split(this.tic).join("");if(this.parseFloat(i)===this.parseFloat(d))return this.getValueFromArg(h+v).split(this.tic).join("");if(this.parseFloat(i)<g)return this.getErrorStrings()[MH.na];if(this.parseFloat(i)>m){var y=n.indexOf(m.toString());return this.getValueFromArg(h+y).split(this.tic).join("")}}if(t[3]===this.falseValue&&i===d)return this.getValueFromArg(h+v)}return this.getErrorStrings()[MH.na]}},{key:"findWildCardValue",value:function(e,t){var n="";if(e.indexOf("?")>-1){var i=e.indexOf("?"),a=e[i-1],r=e[i+1];if(t.indexOf(a)>-1&&t.indexOf(r)>-1){var s=t.indexOf(a);n=t[s]===a&&t[s+2]===r?e:t}else n=t}else if(e.indexOf("*")>-1){for(var l=e.indexOf("*"),o="",u="",c=this.falseValue,h=this.falseValue,d=l-1;d>=0;d--)o+=e[d],h=this.trueValue;for(var p=l+1;p<e.length;p++)u+=e[p],c=this.trueValue;var f=""===o?-1:t.indexOf(o.split("").reverse().join("")),m=""===u?-1:t.indexOf(u);f>-1||m>-1?h===this.trueValue?n=o.split("").reverse().join("")===t.substr(0,o.length)?e:t:c===this.trueValue&&(n=u===t.substring(t.length-u.length,t.length)?e:t):n=t}return n}},{key:"getComputeSumIfValue",value:function(e,t,n,i,a){var r=0,s=0;switch(a){case this.parser.tokenEqual:for(var l=0;l<e.length;l++){var o=this.getValueFromArg(e[l].split(this.tic).join("")),u=this.parseFloat(o);if(o===n&&u===i){var c=this.getValueFromArg(t[l].split(this.tic).join(""));r+=this.parseFloat(c),s+=1}}break;case this.parser.tokenLess:for(var h=0;h<e.length;h++){var d=this.getValueFromArg(e[h].split(this.tic).join(""));if(this.parseFloat(d)<i){var p=this.getValueFromArg(t[h].split(this.tic).join(""));r+=this.parseFloat(p),s+=1}}break;case this.parser.tokenGreater:for(var f=0;f<e.length;f++){var m=this.getValueFromArg(e[f].split(this.tic).join(""));if(this.parseFloat(m)>i){var g=this.getValueFromArg(t[f].split(this.tic).join(""));r+=this.parseFloat(g),s+=1}}break;case this.parser.tokenLessEq:for(var v=0;v<e.length;v++){var y=this.getValueFromArg(e[v].split(this.tic).join(""));if(this.parseFloat(y)<=i){var b=this.getValueFromArg(t[v].split(this.tic).join(""));r+=this.parseFloat(b),s+=1}}break;case this.parser.tokenGreaterEq:for(var k=0;k<e.length;k++){var C=this.getValueFromArg(e[k].split(this.tic).join(""));if(this.parseFloat(C)>=i){var w=this.getValueFromArg(t[k].split(this.tic).join(""));r+=this.parseFloat(w),s+=1}}break;case this.parser.tokenNotEqual:for(var _=0;_<e.length;_++){var x=this.getValueFromArg(e[_].split(this.tic).join("")),S=this.parseFloat(x);if(x!==n&&S!==i){var E=this.getValueFromArg(t[_].split(this.tic).join(""));r+=this.parseFloat(E),s+=1}}}return[r,s]}},{key:"computeAndOr",value:function(e,t){var n,i,a="and"===t;if(0===e.length)return this.formulaErrorStrings[TH.wrong_number_arguments];for(var r=0,s=e.length;r<s;r++)if(e[r].split(this.tic).join("").trim()===this.emptyString)return this.getErrorStrings()[MH.value];for(var l=e,o=0;o<l.length;o++){if(l[o]===this.tic)return this.getErrorStrings()[MH.value];if(l[o].indexOf(":")>-1&&this.isCellReference(l[o]))for(var u=this.getCellCollection(l[o]),c=0;c<u.length;c++){if(this.getErrorStrings().indexOf(u[c])>-1)return u[c];if(u[c][0]===this.tic)return this.getErrorStrings()[MH.name];if(""===(n=this.getValueFromArg(u[c]))&&(n=this.trueValue),this.getErrorStrings().indexOf(n)>-1)return n;i=this.parseFloat(n)}else{if(n=this.getValueFromArg(l[o]).split(this.tic).join("").toUpperCase(),this.getErrorStrings().indexOf(n)>-1)return n;var h=Date.parse(n.split(this.tic).join(""));if(isNaN(h)){if(n!==this.trueValue&&n!==this.falseValue)return this.getErrorStrings()[MH.value].toString()}else a=!0;i=this.parseFloat(n)}a="and"===t?a&&(n===this.trueValue||!isNaN(i)):a||n===this.trueValue||!isNaN(i)}return a?this.trueValue:this.falseValue}},{key:"removeTics",value:function(e){return e.length>1&&e[0]===this.tic[0]&&e[e.length-1]===this.tic[0]&&(e=this.substring(e,1,e.length-2)),e}},{key:"computeValue",value:function(e){try{var t=[],n=0,i="";for(t.length=0;n<e.length;){var a="u"===e[n];if(e[n]!==this.arithMarker){if(this.isDigit(e[n])){for(var r=this.emptyString;n<e.length&&this.isDigit(e[n]);)r+=e[n],n+=1;t.push(r)}if(e[n]===this.sheetToken){for(i=e[n],n+=1;n<e.length&&e[n]!==this.sheetToken;)i+=e[n],n+=1;n<e.length&&(i+=e[n],n+=1)}else if(this.isUpperChar(e[n])){for(var s,l=this.emptyString;n<e.length&&this.isUpperChar(e[n]);)l+=e[n],n+=1;for(;n<e.length&&this.isDigit(e[n]);)l+=e[n],n+=1;if(l=i+l,"string"==typeof(s=this.getParentObjectCellValue(l).toString())&&this.getErrorStrings().indexOf(s)>-1)return s;t.push(s)}else if("q"===e[n]){var o=e.substring(n+1).indexOf(this.leftBracket),u=e.substring(n+o+1).indexOf(this.rightBracket);e=this.substring(e,n+o+2,u-1)}else if(e[n]===this.tic[0]){var c=e[n].toString();for(n+=1;n<e.length&&e[n]!==this.tic[0];)c+=e[n],n+=1;t.push(c.split(this.tic).join(this.emptyString)),n+=1}else if("%"===e[n]&&t.length>0){var h=this.parseFloat(t[0]);this.isNaN(h)||(t.pop(),t.push((h/100).toString())),n+=1}else if(0===e.substring(n).indexOf(this.trueValue))t.push(this.trueValue),n+=this.trueValue.length;else if(0===e.substring(n).indexOf(this.falseValue))t.push(this.falseValue),n+=this.falseValue.length;else if(e[n]===this.tic[0]||"|"===e[n]){var d=e[n].toString();for(n++;n<e.length&&e[n]!==this.tic[0];)d+=e[n],n+=1;t.push(d+this.tic),n+=1}else switch(e[n]){case"#":var p=0;this.getErrorStrings().indexOf(e.substring(n))>-1?(p=-1===e.indexOf("!")||-1===e.substring(n).indexOf("!")?e.indexOf("#N/A")>-1?e.indexOf("#N/A")+4+n:e.indexOf("?")+1+n:e.indexOf("!")+1+n,t.push(this.substring(e,n,p-n))):(p=n+1,t.push(this.substring(e,n,p-n))),n=p;break;case"n":n+=1;var f="";if(0===e.substring(n).indexOf("Infinity"))n+=(f="Infinity").length;else for(("u"===e[n]||a)&&(f="-",a?a=!1:n+=1);n<e.length&&this.isDigit(e[n])||e[n]===this.getParseDecimalSeparator();)f+=e[n],n+=1;t.push(f);break;case this.parser.tokenAdd:this.getValArithmetic(t,"add"),n+=1;break;case this.parser.tokenSubtract:this.getValArithmetic(t,"sub"),n+=1;break;case this.parser.tokenMultiply:this.getValArithmetic(t,"mul"),n+=1;break;case this.parser.tokenDivide:this.getValArithmetic(t,"div"),n+=1;break;case this.parser.tokenLess:this.processLogical(t,"less"),n+=1;break;case this.parser.tokenGreater:this.processLogical(t,"greater"),n+=1;break;case this.parser.tokenGreaterEq:this.processLogical(t,"greaterEq"),n+=1;break;case this.parser.tokenLessEq:this.processLogical(t,"lessEq"),n+=1;break;case this.parser.tokenNotEqual:this.processLogical(t,"notEq"),n+=1;break;case this.parser.tokenOr:this.processLogical(t,"or"),n+=1;break;case this.parser.tokenAnd:this.processLogical(t,"and"),n+=1;break;case this.parser.tokenEqual:this.processLogical(t,"equal"),n+=1;break;default:return this.getErrorStrings()[MH.value]}}else n+=1}if(0===t.length)return this.emptyString;for(var m=this.emptyString,g=t.length;g>0;){if((m=t.pop()+m)===this.emptyString&&this.isCellReference(e)&&this.getTreatEmptyStringAsZero())return"0";g--}return m}catch(v){if(this.getErrorStrings().indexOf(v)>-1||this.formulaErrorStrings.indexOf(v)>-1)throw v;throw new FH(this.formulaErrorStrings[TH.invalid_expression])}}},{key:"getValArithmetic",value:function(e,t){var n=e.pop();n=n===this.emptyString?"0":n;var i=Number(n);if(isNaN(i))throw this.getErrorStrings()[MH.value];var a=e.pop();if(a=a===this.emptyString?"0":a,i=Number(a),isNaN(i))throw this.getErrorStrings()[MH.value];"add"===t&&e.push((Number(a)+Number(n)).toString()),"sub"===t&&e.push((Number(a)-Number(n)).toString()),"mul"===t&&e.push((Number(a)*Number(n)).toString()),"div"===t&&(this.isNaN(this.parseFloat(n))||this.isNaN(this.parseFloat(a))?e.push(this.getErrorStrings()[MH.value]):0===this.parseFloat(n)?e.push(this.getErrorStrings()[MH.divzero]):e.push((Number(a)/Number(n)).toString()))}},{key:"processLogical",value:function(e,t){var n,i,a,r,s;return"and"!==t&&"equal"!==t&&(n=e.pop(),i=e.pop(),a=n.indexOf(this.tic)>-1?n:this.parseFloat(n),r=i.indexOf(this.tic)>-1?i:this.parseFloat(i)),"less"===t&&(s=this.isNaN(a)||this.isNaN(r)?i.toUpperCase().split(this.tic).join("").localeCompare(n.toUpperCase().split(this.tic).join(""))<0?this.trueValue:this.falseValue:r<a?this.trueValue:this.falseValue),"greater"===t&&(s=this.isNaN(a)||this.isNaN(r)?i.toUpperCase().split(this.tic).join("").localeCompare(n.toUpperCase().split(this.tic).join(""))>0?this.trueValue:this.falseValue:r>a?this.trueValue:this.falseValue),"lessEq"===t&&(s=this.isNaN(a)||this.isNaN(r)?i.toUpperCase().split(this.tic).join("").localeCompare(n.toUpperCase().split(this.tic).join(""))<=0?this.trueValue:this.falseValue:r<=a?this.trueValue:this.falseValue),"greaterEq"===t&&(s=this.isNaN(a)||this.isNaN(r)?i.toUpperCase().split(this.tic).join("").localeCompare(n.toUpperCase().split(this.tic).join(""))>=0?this.trueValue:this.falseValue:r>=a?this.trueValue:this.falseValue),"notEq"===t&&(s=i!==n?this.trueValue:this.falseValue),"and"===t&&(n=e.pop().toString(),i="",e.length>0&&(i=e.pop().toString()),s=(s=this.emptyString+i+n+this.emptyString).split(this.tic).join("")),"equal"===t&&(s=(n=e.pop().toString())===(i=e.pop().toString())?this.trueValue:this.falseValue),"or"===t&&(s=Math.pow(this.parseFloat(r),this.parseFloat(a)).toString()),e.push(s),s}},{key:"computeStoreCells",value:function(e){for(var t=e.cellValue,n=e.cellRange,i=e.criteria,a=e.argArray,r=e.isCriteria,s=e.storedCells,l=e.isCountIfS,o=e.countVal,u=r===this.trueValue?s:t,c=[],h=0;h<u.length;h++){var d=void 0,p=[],f=this.getValueFromArg(t[h]),m="";if(d=a[2].split(this.tic).join(this.emptyString),(r=l===this.trueValue?this.trueValue:r)===this.trueValue){var g,v=0,y=0;for(s[h]=l===this.trueValue&&0===o?t[h]:s[h],g=s[h];!this.isDigit(g[v]);)v+=1;if(this.isCellReference(n[o])&&n[o].indexOf(":")>-1){var b=n[o].indexOf(":");for(m=this.substring(n[o],b);!this.isDigit(m[y]);)y+=1}var k=this.substring(g,v),C=this.substring(m,y);m=s[h].split(k).join(C),f=this.getValueFromArg(m),d=l===this.trueValue?i[o].split(this.tic).join(this.emptyString):i[o-1].split(this.tic).join(this.emptyString)}var w="equal";d.startsWith("<=")?(w="lessEq",d=d.substring(2)):d.startsWith(">=")?(w="greaterEq",d=d.substring(2)):d.startsWith("<>")?(w="notEq",d=d.substring(2)):d.startsWith("<")?(w="less",d=d.substring(1)):d.startsWith(">")?(w="greater",d=d.substring(1)):d.startsWith("=")&&(w="equal",d=d.substring(1)),(d.indexOf("*")>-1||d.indexOf("?")>-1)&&(f=this.findWildCardValue(d,f)),p.push(f.toLowerCase()),p.push(d.toLowerCase()),this.processLogical(p,w)===this.trueValue&&c.push(r===this.falseValue?t[h]:m)}return s=c,c=[],s}},{key:"computeIfsFormulas",value:function(e,t,n){if(JO(e)||""===e[0]||0===e.length)return this.formulaErrorStrings[TH.wrong_number_arguments];var i=e,a=i.length;if(a<2||a>127)return this.formulaErrorStrings[TH.wrong_number_arguments];for(var r,s,l=[],o=[],u=[],c=0,h=0;h<i.length;h++)i[h].indexOf(":")>-1&&this.isCellReference(i[h])?l.push(i[h]):o.push(i[h]);if(l=(l=l.toString().split(",,").join(",")).split(this.getParseArgumentSeparator()),t===this.falseValue&&(s=this.falseValue,r=this.getCellCollection(l[1]),0===(u=this.computeStoreCells({cellValue:r,cellRange:l,criteria:o,argArray:i,isCriteria:s,storedCells:u,isCountIfS:t})).length))return 0;for(var d=t===this.trueValue?0:2;d<l.length;d++)if(s=this.trueValue,s=t===this.trueValue&&0===d?this.falseValue:this.trueValue,r=this.getCellCollection(l[d]),0===(u=this.computeStoreCells({cellValue:r,cellRange:l,criteria:o,argArray:i,isCriteria:s,storedCells:u,isCountIfS:t,countVal:d})).length)return 0;for(var p=0;p<u.length;p++){var f,m="",g=0,v=0;for(f=u[p];!this.isDigit(f[g]);)g+=1;if(this.isCellReference(l[0])&&l[0].indexOf(":")>-1){var y=l[0].indexOf(":");for(m=this.substring(l[0],y);!this.isDigit(m[v]);)v+=1}var b=this.substring(f,g),k=this.substring(m,v);if(r=u[p].split(b).join(k),t===this.trueValue)c+=1;else{var C=this.getValueFromArg(r);c+=parseFloat(""===C?"0":C)}}return n===this.trueValue&&(c/=r.length),c}},{key:"processNestedFormula",value:function(e,t,n){return this.findLastIndexOfq(e),e.split(t).join("n"+n)}},{key:"isNaN",value:function(e){return"NaN"===e.toString()||"string"==typeof e}},{key:"fromOADate",value:function(e){var t=new Date;return t.setTime(e*this.millisecondsOfaDay+Date.parse(this.oaDate.toString())),t}},{key:"getSerialDateFromDate",value:function(e,t,n){var i=0;e<1900&&(e+=1900);for(var a=!1;!a;){for(;t>12;)e++,t-=12;a=!0;for(var r=new Date(e,t,1,-1).getDate();n>r;)r=new Date(e,t,1,-1).getDate(),t++,n-=r,a=!1;n<1&&(t--,n=(r=new Date(e,t,1,-1).getDate())-n)}var s=Date.parse(e.toString()+this.getParseDateTimeSeparator()+t.toString()+this.getParseDateTimeSeparator()+n.toString());return this.isNaN(s)||(i=this.toOADate(new Date(s))),i}},{key:"toOADate",value:function(e){return(e.getTime()-Date.parse(this.oaDate.toString()))/this.millisecondsOfaDay}},{key:"calculateDate",value:function(e){return this.parseFloat(e)<10?"0"+e:e}},{key:"isTextEmpty",value:function(e){return null===e||""===e}},{key:"isDigit",value:function(e){var t=e.charCodeAt(0);return t>47&&t<58}},{key:"findLastIndexOfq",value:function(e){return e.lastIndexOf("q")}},{key:"getValueFromArg",value:function(e){var t=e=e.trim(),n=this.dateTime1900,i=t;if(JO(t)||this.isTextEmpty(t))return t;if(e[0]===this.tic||e[0]===this.singleTic)return n=this.isDate(e.split(this.tic).join("")),this.isNaN(this.parseFloat(e.split(this.tic).join("")))&&!JO(n)&&!this.isNaN(n.getDate())&&this.dateTime1900<=n?this.toOADate(n).toString():e;if(e=e.split("u").join("-"),!this.isUpperChar(t[0])&&(this.isDigit(t[0])||t[0]===this.getParseDecimalSeparator()||"-"===t[0]||"n"===t[0]))return"n"===t[0]&&(t=t.substring(1)),t;if(-1===this.parser.indexOfAny(t,["+","-","/","*",")",")","{"])&&this.isUpperChar(t[0])||t[0]===this.sheetToken){if(t!==this.trueValue&&t!==this.falseValue&&this.isCellReference(t)){var a=this.getSheetFamilyItem(this.grid);null!==a.sheetNameToParentObject&&a.sheetNameToParentObject.size>0&&-1===t.indexOf(this.sheetToken)&&(t=a.parentObjectToToken.get(this.grid)+t)}if(t===this.cell){var r=this.getDependentCells().get(t);throw null!=r&&r.indexOf(t)>-1&&this.arrayRemove(r,t),this.getDependentFormulaCells().has(this.cell)||this.clearFormulaDependentCells(this.cell),this.formulaErrorStrings[TH.circular_reference]+t}return i=this.getParentObjectCellValue(t),this.updateDependentCell(t),i.toString()}return this.getErrorStrings().indexOf(e)>-1?e:this.computeValue(i.toString())}},{key:"isDate",value:function(e){if("object"==typeof e||null!==Date.parse(e)){var t=new Date(Date.parse(e));return t>=this.dateTime1900?t:null}return null}},{key:"isValidCellReference",value:function(e){var t=0,n=0,i=[89,71,69],a=this.emptyString;if(this.namedRanges.has(e))return!1;for(var r=0;r<e.length;r++)this.isChar(e[r])&&t++;if((a=e.substring(0,t)).length<4){for(;n<a.length;){if(JO(a[n])||!(a[n].charCodeAt(0)<i[n])){if(JO(a[n])&&n>0)break;return!1}n++}if(this.parseFloat(e.substring(t,e.length))<1048576)return!0}return!1}},{key:"parseDate",value:function(e){if(!this.isNaN(e)){if(e instanceof Date)return new Date(e);var t=parseInt(e,10);return t<0?this.getErrorStrings()[MH.num]:t<=60?new Date(this.dateTime1900.getTime()+864e5*(t-1)):new Date(this.dateTime1900.getTime()+864e5*(t-2))}return"string"!=typeof e||(e=new Date(e),this.isNaN(e))?this.getErrorStrings()[MH.value]:e}},{key:"isCellReference",value:function(e){if(e===this.emptyString)return!1;e=e.trim(),e=this.setTokensForSheets(e);var t=this.getSheetToken(e),n=!1;""!==t&&(e=e.split(t).join(this.emptyString));var i=!1,a=!1;if(e.indexOf(":")!==e.lastIndexOf(":"))return!1;for(var r=e.split("").join(this.getParseArgumentSeparator()).split(this.getParseArgumentSeparator()),s=0;s<r.length;s++)if(this.isChar(r[s]))i=!0;else if(this.isDigit(r[s]))a=!0;else{if(":"!==r[s])return!1;i&&a&&(n=!0),i=!1,a=!1}return e.indexOf(":")>-1&&-1===e.indexOf(this.tic)?!!(n&&i&&a)||!(!(i&&!a||!i&&a)||n):!(!i||!a||-1!==e.indexOf(this.tic))}},{key:"setTokensForSheets",value:function(e){var t=this.getSheetFamilyItem(this.grid),n=this.getSortedSheetNames();if(null!=n)for(var i=0;i<n.length;i++){var a=t.sheetNameToToken.get(n[i]);a=a.split(this.sheetToken).join(this.tempSheetPlaceHolder);var r=this.singleTic+"SHEET"+n[i]+this.singleTic+this.sheetToken;-1===e.indexOf(r)&&(r="SHEET"+n[i]+this.sheetToken),e=e.split(r).join(a),r=n[i]+this.sheetToken,e=e.split(r).join(a)}return e.split(this.tempSheetPlaceHolder).join(this.sheetToken)}},{key:"getParentObjectCellValue",value:function(e){if(e===this.trueValue||e===this.falseValue)return e;var t=e.lastIndexOf(this.sheetToken),n=0,i=0,a=this.grid,r=this.getSheetFamilyItem(a);if(t>-1&&null!==r.tokenToParentObject)this.grid=r.tokenToParentObject.get(e.substring(0,t+1)),n=this.rowIndex(e),i=this.colIndex(e);else if(-1===t){for(var s=0;s<e.length&&this.isChar(e[s]);)s++;if(s===e.length)return e=e.toLowerCase(),this.getErrorStrings()[MH.name];n=this.rowIndex(e),i=this.colIndex(e),r.isSheetMember&&null!=r.parentObjectToToken&&(e=r.parentObjectToToken.get(this.grid)+e)}var l=""===this.cell||null===this.cell?"":this.cell;if(this.cell=e,l===this.cell)throw this.formulaErrorStrings[TH.circular_reference];var o=this.getParentCellValue(n,i,this.grid);return this.grid=a,this.cell=l,o}},{key:"getParentCellValue",value:function(e,t,n){var i;return void 0!==this.parentObject.getValueRowCol?JO(i=this.parentObject.getValueRowCol(this.getSheetID(n),e,t))?this.emptyString:i.toString():(""!==(i=this.getValueRowCol(this.getSheetID(n),e,t))&&void 0!==i||(i=""),i)}},{key:"getValueRowCol",value:function(e,t,n){var i=this.rowsToKeyMap.get(t).toString(),a=this.getKeyValue(i).toString();if(null!=a&&"%"===a[a.length-1]&&a.length>1){var r=this.parseFloat(a.substring(0,a.length-1));this.isNaN(r)&&(a=(Number(r)/100).toString())}return a}},{key:"defineFunction",value:function(e,t){"string"==typeof t&&(t=YO(t,window)),e=e.toUpperCase(),this.libraryFormulas.set(e,{handler:t,isCustom:!0})}},{key:"valueChanged",value:function(e,t,n){var i=e;this.grid=e;var a=!0,r=!0,s=this.getSheetFamilyItem(i),l=VH(t.getColIndex())+t.getRowIndex().toString();null!==s.sheetNameToParentObject&&s.sheetNameToParentObject.size>0&&(l=s.parentObjectToToken.get(i)+l);var o=t.getValue().toUpperCase();if(o.indexOf("=RAND()")>-1||o.indexOf("RAND()")>-1||o.indexOf("=RANDBETWEEN(")>-1||o.indexOf("RANDBETWEEN(")>-1||this.randomValues.has(l)){var u=this.randCollection.toString();this.randomValues.has(l)?this.randomValues.has(l)&&(o.indexOf("=RAND()")>-1||o.indexOf("RAND()")>-1||o.indexOf("=RANDBETWEEN(")>-1||o.indexOf("RANDBETWEEN(")>-1?this.randomValues.set(l,t.getValue()):t.getValue().toUpperCase()!==this.randomValues.get(l.toUpperCase())&&(this.randomValues.delete(l),u=u.split(l+this.parseArgumentSeparator).join("").split(this.parseArgumentSeparator+l).join("").split(l).join(""),this.randCollection=u.split(this.parseArgumentSeparator)),0===this.randomValues.size&&this.randCollection.length&&(this.isRandomVal=!1,this.randomValues.clear(),this.randCollection=[])):(this.randomValues.set(l,t.getValue()),this.randCollection.push(l),this.isRandomVal=!0)}if(t.getValue()&&t.getValue()[0]===this.getFormulaCharacter()){var c;if(this.cell=l,JO(r)||(r=n),this.getFormulaInfoTable().has(l)){if(c=this.getFormulaInfoTable().get(l),t.getValue()!==c.getFormulaText()||null==c.getParsedFormula()){c.setFormulaText(t.getValue()),this.getDependentFormulaCells().has(this.cell)&&this.clearFormulaDependentCells(this.cell);try{c.setParsedFormula(this.parser.parseFormula(t.getValue()))}catch(d){c.setFormulaValue(d),r=!1}}if(r){this.parser.isFormulaParsed=!0;var h=this.computeFormula(c.getParsedFormula());a=h!==c.getFormulaValue(),c.setFormulaValue(h)}}else{(c=new HH).setFormulaText(t.getValue()),this.getDependentFormulaCells().has(l)||this.getDependentFormulaCells().set(l,new Map);try{c.setParsedFormula(this.parser.parseFormula(t.getValue()))}catch(d){c.setFormulaValue(d),r=!1}r&&c.setFormulaValue(this.computeFormula(c.getParsedFormula())),this.getFormulaInfoTable().has(l),this.getFormulaInfoTable().set(l,c)}r&&(void 0===this.parentObject.setValueRowCol?this.setValueRowCol(this.getSheetID(i)+1,c.getFormulaValue(),t.getRowIndex(),t.getColIndex()):this.parentObject.setValueRowCol(this.getSheetID(i)+1,c.getFormulaValue(),t.getRowIndex(),t.getColIndex()))}else this.getFormulaInfoTable().has(l)&&(this.getFormulaInfoTable().delete(l),this.getDependentFormulaCells().has(l)&&this.clearFormulaDependentCells(l));r&&a&&this.getDependentCells().has(l)&&this.getDependentCells().get(l).toString()!==l&&(this.getComputedValue().clear(),this.refresh(l))}},{key:"getComputedValue",value:function(){return null===this.computedValues&&(this.computedValues=new Map),this.computedValues}},{key:"setValueRowCol",value:function(e,t,n,i){}},{key:"getSortedSheetNames",value:function(){var e=this.getSheetFamilyItem(this.grid);if(null!=e&&null!=e.sheetNameToToken){var t=[];e.sheetNameToToken.forEach((function(e,n){t.push(n),t.sort()})),this.sortedSheetNames=t,this.sortedSheetNames.sort()}return this.sortedSheetNames}},{key:"getErrorLine",value:function(e){var t=e.stack?e.stack.split("\n")[1].split(":"):null;return t?t[t.length-2]:null}},{key:"createSheetFamilyID",value:function(){return this.sheetFamilyID===Number.MAX_SAFE_INTEGER&&(this.sheetFamilyID=Number.MIN_SAFE_INTEGER),this.sheetFamilyID++}},{key:"computeMinMax",value:function(e,t){var n,i,a=0;if(JO(e)||0===e.length)return this.formulaErrorStrings[TH.wrong_number_arguments];for(var r=0,s=e.length;r<s;r++)if(e[r].split(this.tic).join("").trim()===this.emptyString)return this.getErrorStrings()[MH.value];n="max"===t?this.minValue:this.maxValue;var l=e;if(l.length>255)return this.getErrorStrings()[MH.value];for(var o=0;o<l.length;o++)if(l[o].indexOf(":")>-1&&this.isCellReference(l[o]))for(var u=this.getCellCollection(l[o]),c=0;c<u.length;c++){if(i=this.getValueFromArg(u[c]),this.getErrorStrings().indexOf(i)>-1)return i;var h=this.parseFloat(i);""===i||this.isNaN(this.parseFloat(h))?(a+=1)===u.length&&(n=0):n="max"===t?Math.max(n,h):Math.min(n,h)}else{var d;if(d=this.getValueFromArg(l[o]),this.getErrorStrings().indexOf(d)>-1)return d;var p=this.parseFloat(d);if(""===d||this.isNaN(this.parseFloat(p))){(a+=1)===i.length&&(n=0);continue}n="max"===t?Math.max(n,p):Math.min(n,p)}return n.toString()}},{key:"calculateAvg",value:function(e){for(var t=0,n=e,i=[],a=0,r=0,s=0;s<n.length;s++)if(n[s].indexOf(":")>-1&&this.isCellReference(n[s])){r=0,i=this.getCellCollection(n[s]),a=0;for(var l=0;l<i.length;l++){var o=this.getValueFromArg(i[l]);JO(o)||isNaN(this.parseFloat(o))||(a+=this.parseFloat(o),r+=1)}if(0===r)return this.getErrorStrings()[MH.divzero];t=(a/=r)+t}else{if(n[s].indexOf(this.tic)>-1&&isNaN(parseFloat(n[s].split(this.tic).join(""))))return this.getErrorStrings()[MH.value];0===n[s].length&&(n[s]="1");var u=this.getValueFromArg(n[s].split(this.tic).join(""));if(JO(u)||isNaN(this.parseFloat(u)))return this.getErrorStrings()[MH.name];t+=this.parseFloat(u)}return(t/(n.length-0)).toString()}},{key:"registerGridAsSheet",value:function(e,t,n){JO(this.modelToSheetID)&&(this.modelToSheetID=new Map),JO(this.modelToSheetID.get(t))&&this.modelToSheetID.set(t,n);var i=this.getSheetFamilyItem(t);i.isSheetMember=!0;var a=e.toUpperCase();if(0===i.parentObjectToToken.size&&(i.parentObjectToToken=new Map),0===i.sheetNameToParentObject.size&&(i.sheetNameToParentObject=new Map),0===i.sheetNameToToken.size&&(i.sheetNameToToken=new Map),0===i.tokenToParentObject.size&&(i.tokenToParentObject=new Map),QO(i.sheetNameToParentObject.get(a))){var r=this.sheetToken+this.tokenCount.toString()+this.sheetToken;this.tokenCount++,i.tokenToParentObject.set(r,t),i.parentObjectToToken.set(t,r),i.sheetNameToToken.set(a,r),i.sheetNameToParentObject.set(a,t)}else{var s=i.sheetNameToToken.get(a);i.tokenToParentObject.set(s,t),i.parentObjectToToken.set(t,s)}return e}},{key:"unregisterGridAsSheet",value:function(e,t){var n=this.getSheetFamilyItem(t),i=e.toUpperCase();if(null!=n.sheetNameToParentObject&&n.sheetNameToParentObject.has(i)){n.sheetNameToParentObject.delete(i);var a=n.sheetNameToToken.get(i);n.sheetNameToToken.delete(i),n.tokenToParentObject.delete(a),n.parentObjectToToken.delete(t)}}},{key:"computeExpression",value:function(e){var t=this.parser.parseFormula(e);return this.computeFormula(t)}},{key:"isSheetMember",value:function(){var e=this.getSheetFamilyItem(this.grid);return!JO(e)&&e.isSheetMember}},{key:"dispose",value:function(){this.resetKeys(),this.namedRanges.clear(),this.lFormulas.clear()}},{key:"refreshRandValues",value:function(e){var t,n,i,a,r="",s=this.randCollection.toString();this.randomValues.has(e)&&(this.randomValues.delete(e),s=s.split(e+this.parseArgumentSeparator).join("").split(this.parseArgumentSeparator+e).join("").split(e).join(""),0===this.randomValues.size&&""===s?(this.randomValues.clear(),this.randCollection=[]):this.randCollection=s.split(this.parseArgumentSeparator));for(var l=0;l<this.randomValues.size;l++)t=this.rowIndex(this.randCollection[l]),n=this.colIndex(this.randCollection[l]),r=(parseFloat(this.getSheetToken(this.randCollection[l]).split(this.sheetToken).join(""))+1).toString(),a=this.getSheetFamilyItem(r),this.grid=a.sheetNameToParentObject.get(r),i=this.randomValues.get(this.randCollection[l]),i=this.computeFormula(i),void 0===this.parentObject.setValueRowCol?this.setValueRowCol(this.getSheetID(this.grid)+1,i,t,n):this.parentObject.setValueRowCol(this.getSheetID(this.grid)+1,i,t,n)}},{key:"refresh",value:function(e){if(0===this.dependencyLevel&&this.refreshedCells.clear(),this.getDependentCells().has(e)&&null!==this.getDependentCells().get(e)){var t=this.getSheetFamilyItem(this.grid);this.dependencyLevel=this.dependencyLevel+1;try{var n,i=this.getDependentCells().get(e);for(n=0;n<i.length;n++){var a=i[n],r=this.getSheetToken(a);r.length&&(this.grid=t.tokenToParentObject.get(r));try{var s=void 0,l=this.rowIndex(a),o=this.colIndex(a),u=this.getFormulaInfoTable().get(a);u&&(this.cell=a,this.getComputedValue().has(a)?s=this.getComputedValue().get(a):(this.parser.isFormulaParsed=!0,s=this.computeFormula(u.getParsedFormula()),this.computedValues.set(a,s)),u.setFormulaValue(s)),void 0===this.parentObject.setValueRowCol?this.setValueRowCol(this.getSheetID(this.grid)+1,u.getFormulaValue(),l,o):this.parentObject.setValueRowCol(this.getSheetID(this.grid)+1,u.getFormulaValue(),l,o),this.refreshedCells.has(a)||(this.refreshedCells.set(a,[]),this.refresh(a))}catch(c){continue}}}finally{this.grid=t.tokenToParentObject.get(this.getSheetToken(e)),this.dependencyLevel--,0===this.dependencyLevel&&this.refreshedCells.clear()}}}},{key:"libraryFormulas",get:function(){return this.lFormulas},set:function(e){this.lFormulas.set(e.fName,{handler:e.handler,category:e.category,description:e.description})}}],[{key:"Inject",value:function(){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0;i<t.length;i++)-1===this.prototype.injectedModules.indexOf(t[i])&&this.prototype.injectedModules.push(t[i])}}]),n}(lD),NH([bD(!0)],AH.prototype,"includeBasicFormulas",void 0),NH([wD()],AH.prototype,"onFailure",void 0),AH=IH=NH([_D],AH)),FH=function e(t,n){_classCallCheck(this,e),this.formulaCorrection=!1,this.message=t,this.formulaCorrection=n},HH=function(){function e(){_classCallCheck(this,e),this.calcID=Number.MIN_VALUE+1,this.calcID1=Number.MIN_VALUE+1}return _createClass(e,[{key:"getFormulaText",value:function(){return this.formulaText}},{key:"setFormulaText",value:function(e){this.formulaText=e}},{key:"getFormulaValue",value:function(){return this.formulaValue}},{key:"setFormulaValue",value:function(e){this.formulaValue=e}},{key:"getParsedFormula",value:function(){return this.parsedFormula}},{key:"setParsedFormula",value:function(e){this.parsedFormula=e}}]),e}(),BH=function e(){_classCallCheck(this,e),this.isSheetMember=!1,this.parentObjectToToken=new Map,this.sheetDependentCells=new Map,this.sheetDependentFormulaCells=new Map,this.sheetNameToParentObject=new Map,this.sheetNameToToken=new Map,this.tokenToParentObject=new Map,this.sheetFormulaInfotable=new Map};function VH(e){for(var t=[],n=0;e>0&&n<9;){e--;var i="A".charCodeAt(0);t[n]=String.fromCharCode(e%26+i),e=parseInt((e/26).toString(),10),n++}for(var a=[],r=0;r<n;r++)a[n-r-1]=t[r];return a.join("")}var jH=function e(t,n,i){return _classCallCheck(this,e),this.row=t,this.col=n,this.value=i,this.getRowIndex=function(){return t},this.setRowIndex=function(e){t=e},this.getColIndex=function(){return n},this.setColIndex=function(e){n=e},this.getValue=function(){return i},this.setValue=function(e){e=e},this},zH=function(){function e(t){_classCallCheck(this,e),this.sheetInfo=[],this.parent=t,this.init()}return _createClass(e,[{key:"init",value:function(){this.addEventListener(),this.initCalculate(),this.registerSheet()}},{key:"destroy",value:function(){this.removeEventListener(),this.calculateInstance.dispose(),this.calculateInstance=null,this.parent=null}},{key:"addEventListener",value:function(){this.parent.on(oH,this.performFormulaOperation,this),this.parent.on("aggregateComputation",this.aggregateComputation,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off(oH,this.performFormulaOperation),this.parent.off("aggregateComputation",this.aggregateComputation))}},{key:"getModuleName",value:function(){return"workbookFormula"}},{key:"initCalculate",value:function(){this.calculateInstance=new RH(this.parent),this.calcID=this.calculateInstance.createSheetFamilyID(),this.calculateInstance.setTreatEmptyStringAsZero(!0),this.calculateInstance.grid=this.parent.getActiveSheet().id.toString()}},{key:"performFormulaOperation",value:function(e){var t=e.action,n=this.calculateInstance.getLibraryFormulas(),i=Array.from(n.values());switch(t){case"getLibraryFormulas":e.formulaCollection=Array.from(n.keys());break;case"getFormulaCategory":for(var a=["All"],r=1;r<Array.from(n.values()).length;r++)a.indexOf(i[r].category)<0&&a.push(i[r].category);e.categoryCollection=a;break;case"dropDownSelectFormulas":for(var s=0;s<Array.from(n.values()).length;s++)e.selectCategory===i[s].category&&(e.formulaCollection[s]=Array.from(n.keys())[s]);break;case"getFormulaDescription":for(var l=0;l<Array.from(n.values()).length;l++)e.selectedList===Array.from(n.keys())[l]&&(e.description=i[l].description);break;case"registerSheet":this.registerSheet(e.sheetIndex,e.sheetCount),e.isImport&&this.updateSheetInfo();break;case"unRegisterSheet":this.unRegisterSheet(e.sheetIndex,e.sheetCount);break;case"refreshCalculate":e.value=this.autoCorrectFormula(e.value),this.refreshCalculate(e.rowIndex,e.colIndex,e.value,e.isFormula,e.sheetIndex);break;case"getArgumentSeparator":e.argumentSeparator=this.calculateInstance.getParseArgumentSeparator();break;case"addDefinedName":e.isAdded=this.addDefinedName(e.definedName);break;case"removeDefinedName":e.isRemoved=this.removeDefinedName(e.definedName,e.scope);break;case"initiateDefinedNames":this.initiateDefinedNames();break;case"renameUpdation":this.renameUpdation(e.value,e.sheetId);break;case"addSheet":this.sheetInfo.push({visibleName:e.visibleName,sheet:e.sheetName,index:e.index});break;case"getSheetInfo":e.sheetInfo=this.sheetInfo;break;case"deleteSheetTab":for(var o=this.sheetInfo.length,u=0;u<o;u++)if(this.sheetInfo[u].index===e.index){e.sheetName=this.sheetInfo[u].sheet,this.sheetInfo.splice(u,1);break}this.sheetDeletion(e.sheetName,e.index,e.index);break;case"getReferenceError":e.refError=this.referenceError();break;case"getAlpha":e.col=VH(e.col);break;case"addCustomFunction":this.addCustomFunction(e.functionHandler,e.functionName);break;case"computeExpression":e.calcValue=this.calculateInstance.computeExpression(e.formula)}}},{key:"referenceError",value:function(){return this.calculateInstance.getErrorStrings()[MH.ref]}},{key:"getSheetInfo",value:function(){return this.sheetInfo}},{key:"addCustomFunction",value:function(e,t){this.calculateInstance.defineFunction(t,e)}},{key:"updateSheetInfo",value:function(){var e=this;this.sheetInfo=[],this.parent.sheets.forEach((function(t,n){e.sheetInfo.push({visibleName:t.name,sheet:"Sheet"+t.id,index:n})}))}},{key:"sheetDeletion",value:function(e,t,n){var i,a,r=this.calculateInstance.getDependentCells(),s=[],l=null,o="";r.forEach((function(e,t){s.push(t)})),this.removeSheetTokenIndex(o,n);for(var u=0;u<s.length;u++)for(var c=this.calculateInstance.getDependentCells().get(s[u]),h=0;h<c.length;h++)l=this.calculateInstance.getFormulaInfoTable().get(c[h]),t=SB(0,"Sheet"+(parseInt(c[h].split("!")[1],10)+1),this.sheetInfo),!JO(l)&&t>-1&&((o=l.formulaText).toUpperCase().indexOf(e.toUpperCase())>-1&&(o=o.toUpperCase().split(e.toUpperCase()+this.calculateInstance.sheetToken).join(this.referenceError()),i=this.calculateInstance.rowIndex(c[h]),a=this.calculateInstance.colIndex(c[h]),this.updateDataContainer([i-1,a-1],{value:o,sheetId:t,visible:!1}),this.calculateInstance.refresh(l.getParsedFormula())))}},{key:"removeSheetTokenIndex",value:function(e,t){return this.calculateInstance.getSheetFamilyItem(this.calculateInstance.grid).sheetNameToToken.delete(t.toString()),e}},{key:"renameUpdation",value:function(e,t){var n,i,a,r=this.calculateInstance.getDependentCells(),s=[],l="",o=[],u=!1;r.forEach((function(e,t){s.push(t)}));for(var c=0;c<this.sheetInfo.length;c++)if(this.sheetInfo[c].index===t){this.sheetInfo[c].visibleName=e;break}for(var h=this.sheetInfo,d=0;d<s.length;d++)for(var p=this.calculateInstance.getDependentCells().get(s[d]),f=0;f<p.length;f++){l=this.calculateInstance.getFormulaInfoTable().get(p[f]).formulaText;for(var m=0;m<h.length;m++)if(h[m].visibleName!==h[m].sheet){var g=h[m].sheet.toUpperCase();l.toUpperCase().indexOf(g)>-1&&(l=l.toUpperCase().split(g).join(m+"/"),o.push(m),u=!0)}if(u){for(var v=0;v<o.length;v++)l=l.split(o[v].toString()+"/").join(h[o[v]].visibleName);n=this.calculateInstance.rowIndex(p[f]),i=this.calculateInstance.colIndex(p[f]),a=SB(0,"Sheet"+(parseInt(p[f].split("!")[1],10)+1),this.sheetInfo),this.updateDataContainer([n-1,i-1],{value:l,sheetId:a,visible:!0})}}}},{key:"updateDataContainer",value:function(e,t){for(var n,i,a,r=e[0],s=e[1],l=this.parent.sheets.length,o=0;o<l;o++)if(this.parent.sheets[o].id===t.sheetId){n=this.parent.sheets[o].rows;break}JO(t)||(r in n?s in(i=n[r]).cells?((a=i.cells[s]).formula=t.value,a.value=t.visible?a.value:this.referenceError()):i.cells[s]=a={}:(i=n[r]={})[s]=a={})}},{key:"parseSheetRef",value:function(e){var t,n=new RegExp("[!@#$%^&()+=';,.{}|\":<>~_-]","g"),i=0,a=this.parent.sheets.length,r=[];r.length=0;var s=this.getSheetInfo(),l='(?=[\'!])(?=[^"]*(?:"[^"]*"[^"]*)*$)';for(i=0;i<a;i++)s[i].sheet!==s[i].visibleName&&(t=new RegExp(s[i].visibleName.replace(n,"\\$&")+l,"gi"),e.match(t)&&(e=e.replace(t,i+"/"),r.push(i)));for(i=0;i<r.length;)t=new RegExp(r[i]+"/"+l,"gi"),e=e.replace(t,s[r[i]].sheet),i++;return e}},{key:"registerSheet",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parent.sheets.length;t<n;)e=OB(this.parent,t).id+"",this.calculateInstance.registerGridAsSheet(e,e,this.calcID),t++}},{key:"unRegisterSheet",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parent.sheets.length;for(this.calculateInstance.tokenCount=0;t<n;)e=OB(this.parent,t).id+"",this.calculateInstance.unregisterGridAsSheet(e,e),t++}},{key:"refreshCalculate",value:function(e,t,n,i,a){a||(a=this.parent.activeSheetIndex);var r=OB(this.parent,a).id+"";if(i){n=this.parseSheetRef(n);var s=new jH(e+1,t+1,n);this.calculateInstance.valueChanged(r,s,!0);var l=this.calculateInstance.randCollection;if(!0===this.calculateInstance.isRandomVal){var o,u,c="";if(this.calculateInstance.randomValues.size>1&&this.calculateInstance.randomValues.size===l.length)for(var h=0;h<this.calculateInstance.randomValues.size;h++){o=this.calculateInstance.rowIndex(l[h]),u=this.calculateInstance.colIndex(l[h]),c=this.calculateInstance.randomValues.get(l[h]),r=(parseFloat(this.calculateInstance.getSheetToken(l[h]).split(this.calculateInstance.sheetToken).join(""))+1).toString();var d=new jH(o,u,c);this.calculateInstance.valueChanged(r,d,!0)}}}else{var p=this.calculateInstance.getSheetFamilyItem(r),f=ZF(t+1)+(e+1);p.isSheetMember&&!JO(p.parentObjectToToken)&&(f=p.parentObjectToToken.get(r)+f),this.calculateInstance.getFormulaInfoTable().has(f)&&(this.calculateInstance.getFormulaInfoTable().delete(f),this.calculateInstance.getDependentCells().has(f)&&this.calculateInstance.clearFormulaDependentCells(f)),this.calculateInstance.getComputedValue().clear(),this.calculateInstance.refresh(f),this.calculateInstance.refreshRandValues(f)}}},{key:"autoCorrectFormula",value:function(e){return JO(e)||2===(e=e.toString()).split("(").length&&e.indexOf(")")<0&&(e+=")"),e}},{key:"initiateDefinedNames",value:function(){for(var e=this.parent.definedNames,t=e.length,n=0;n<t;)this.addDefinedName(e[n],!0),n++}},{key:"addDefinedName",value:function(e,t){var n,i=!0,a=e.name;if(e.refersTo.indexOf("!")<0){var r=MB(this.parent);r=-1!==r.indexOf(" ")?"'"+r+"'":r,e.refersTo=r+"!"+(e.refersTo.indexOf("=")<0?e.refersTo:e.refersTo.split("=")[1])}var s=e.refersTo,l=this.parseSheetRef(e.refersTo);return e.scope?(n=wB(this.parent,e.scope))>-1&&(a=MB(this.parent,n+1)+"!"+a):e.scope="",e.comment||(e.comment=""),!t&&this.checkIsNameExist(e.name,e.scope)?i=!1:(this.calculateInstance.addNamedRange(a,"="===l[0]?l.substr(1):l),"="!==l[0]&&(e.refersTo="="+s),this.parent.definedNames.indexOf(e)<0&&this.parent.definedNames.push(e)),i}},{key:"removeDefinedName",value:function(e,t){var n=!1,i=this.getIndexFromNameColl(e,t);if(i>-1){var a=e;if(t){var r=wB(this.parent,t);r&&(a=MB(this.parent,r)+"!"+e)}this.calculateInstance.removeNamedRange(a),this.parent.definedNames.splice(i,1),n=!0}return n}},{key:"checkIsNameExist",value:function(e,t){return this.parent.definedNames.some((function(n){return n.name===e&&(t?n.scope===t:""===n.scope)}))}},{key:"getIndexFromNameColl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=-1;return this.parent.definedNames.filter((function(i,a){i.name===e&&i.scope===t&&(n=a)})),n}},{key:"toFixed",value:function(e){var t=Number(e);return Math.round(t)!==t&&(e=t.toFixed(2)),e}},{key:"aggregateComputation",value:function(e){var t=this.parent.getActiveSheet(),n=t.selectedRange,i=YF(n.split(":")[1]);i[0]+1===t.rowCount&&i[1]+1===t.colCount&&(n="A1:".concat(KF(t.usedRange.rowIndex,t.usedRange.colIndex))),e.Count=this.calculateInstance.getFunction("COUNTA")(n),e.Count&&!e.countOnly&&(e.Sum=this.toFixed(this.calculateInstance.getFunction("SUM")(n)),e.Avg=this.toFixed(this.calculateInstance.getFunction("AVERAGE")(n)),e.Min=this.toFixed(this.calculateInstance.getFunction("MIN")(n)),e.Max=this.toFixed(this.calculateInstance.getFunction("MAX")(n)))}}]),e}(),qH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("initiateSort",this.initiateSortHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("initiateSort",this.initiateSortHandler)}},{key:"initiateSortHandler",value:function(e){var t=this,n=e.args,i=new DM,a=this.parent.getActiveSheet(),r=eH(JF(n.range)),s=n.sortOptions||{sortDescriptors:{},containsHeader:!0},l=!1;if(e.promise=i.promise,r[0]>a.usedRange.rowIndex||r[1]>a.usedRange.colIndex)i.reject(this.parent.serviceLocator.getService(lB).getConstant("SortOutOfRangeError"));else{var o=s.containsHeader;r[0]===r[2]&&r[2]-r[0]==0&&(r[0]=0,r[1]=0,r[2]=a.usedRange.rowIndex,r[3]=a.usedRange.colIndex,l=!0,o=!!JO(s.containsHeader)||s.containsHeader),!JO(n.sortOptions)&&!JO(n.sortOptions.containsHeader)||l||JO(mB(r[0],r[1],a))||JO(mB(r[0]+1,r[1],a))||(o=typeof mB(r[0],r[1],a).value!=typeof mB(r[0]+1,r[1],a).value);var u,c,h=r[0]=o?r[0]+1:r[0],d=ZF(GF(a.activeCell)[1]+1),p=s.sortDescriptors,f=$F(r);bB(this.parent,"".concat(a.name,"!").concat(f),!0).then((function(e){var l=new AM(e),o=new kM;if(Array.isArray(p)){p&&0!==p.length||(p=[{field:d}]);for(var m=p.length,g=m-1;g>-1;g--)if(p[m-1].field||(p[m-1].field=d),p[g].field){var v=p[g].sortComparer||t.sortComparer.bind(t,p[g],s.caseSensitive);o.sortBy(p[g].field,v)}}else{p||(p={field:d}),p.field||(p.field=d);var y=p.sortComparer||t.sortComparer.bind(t,p,s.caseSensitive);o.sortBy(p.field,y)}l.executeQuery(o).then((function(t){var s,l={};Array.prototype.forEach.call(t.result,(function(t,n){if(t)for(u=r[1],c=r[3],h=parseInt(e[n].__rowIndex,10)-1;u<=c;u++)s=ZF(u+1),l=t[s],gB(h,u,a,l)})),i.resolve({range:"".concat(a.name,"!").concat(f),sortOptions:n.sortOptions})}))}))}}},{key:"sortComparer",value:function(e,t,n,i){var a=e.order||"",r=wM.fnSort(a);if(n&&i&&"string"==typeof n.value){var s=new Intl.Collator(this.parent.locale,{sensitivity:t?"case":"base"});return a&&"ascending"!==a.toLowerCase()?-1*s.compare(n.value,i.value):s.compare(n.value,i.value)}return r(n?n.value:n,i?i.value:i)}},{key:"getModuleName",value:function(){return"workbookSort"}}]),e}(),UH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.filterRange=null,this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("initiateFilter",this.initiateFilterHandler,this),this.parent.on("clearAllFilter",this.clearAllFilterHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("initiateFilter",this.initiateFilterHandler),this.parent.off("clearAllFilter",this.clearAllFilterHandler))}},{key:"initiateFilterHandler",value:function(e){var t=this,n=e.args,i=new DM,a=this.parent.getActiveSheet(),r=n.filterOptions||{};if(e.promise=i.promise,this.filterRange=n.range,r.datasource)this.setFilter(r.datasource,r.predicates),i.resolve({range:n.range,filterOptions:r});else{var s=eH(JF(n.range));if(s[0]>a.usedRange.rowIndex||s[1]>a.usedRange.colIndex)return void i.reject("Select a cell or range inside the used range and try again.");s[0]===s[2]&&s[2]-s[0]==0&&(s[0]=0,s[1]=0,s[3]=a.usedRange.colIndex),s[2]=a.usedRange.rowIndex,s[0]=s[0]+1;var l=$F(s);bB(this.parent,"".concat(a.name,"!").concat(l),!0,!0).then((function(e){var n=new AM(e);t.setFilter(n,r.predicates),i.resolve({range:l,filterOptions:r})}))}}},{key:"setFilter",value:function(e,t){var n=this;if(e&&t){var i=e.dataSource.json,a=new kM;t.length&&a.where(CM.and(t));var r=e.executeLocal(a);i.forEach((function(e,t){e&&n.parent.hideRow(parseInt(e.__rowIndex,10)-1,void 0,r.indexOf(e)<0)}))}}},{key:"clearAllFilterHandler",value:function(){if(this.filterRange){var e=GF(this.filterRange),t=this.parent.getActiveSheet();this.parent.hideRow(e[0],t.usedRange.rowIndex-1,!1)}}},{key:"getModuleName",value:function(){return"workbookFilter"}}]),e}(),WH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"format",value:function(e){var t,n,i=e.range;i&&"string"==typeof i&&i.indexOf("!")>-1?(i=i.split("!")[1],t=this.parent.sheets[wB(this.parent,e.range.split("!")[0])]):t=this.parent.getActiveSheet(),void 0===i&&(i=t.selectedRange);var a="object"!=typeof i&&e.onActionUpdate;if(n={range:i,style:e.style,requestType:"CellFormat"},a&&(this.parent.trigger("beforeCellFormat",n),this.parent.notify("actionBegin",{eventArgs:n,action:"format"}),n.cancel))e.cancel=!0;else{var r,s,l="object"==typeof n.range?n.range:eH(YF(n.range));if(e.borderType&&(this.setTypedBorder(t,e.style.border,l,e.borderType,e.onActionUpdate),delete e.style.border),void 0!==n.style.borderTop){for(var o=l[1];o<=l[3];o++)this.checkAdjustantBorder(t,"borderBottom",l[0]-1,o),this.checkFullBorder(t,"borderBottom",l[0]-1,o),this.checkFullBorder(t,"borderTop",l[0],o),this.setCellBorder(t,{borderTop:n.style.borderTop},l[0],o,e.onActionUpdate,o===l[3]);delete n.style.borderTop}if(void 0!==n.style.borderBottom){for(var u=l[1];u<=l[3];u++)this.checkAdjustantBorder(t,"borderTop",l[2]+1,u),this.checkFullBorder(t,"borderTop",l[2]+1,u),this.checkFullBorder(t,"borderBottom",l[2],u),this.setCellBorder(t,{borderBottom:n.style.borderBottom},l[2],u,e.onActionUpdate,u===l[3]),this.setBottomBorderPriority(t,l[2],u);delete n.style.borderBottom}if(void 0!==n.style.borderLeft){for(var c=l[0];c<=l[2];c++)this.checkAdjustantBorder(t,"borderRight",c,l[1]-1),this.checkFullBorder(t,"borderRight",c,l[1]-1),this.checkFullBorder(t,"borderLeft",c,l[1]),this.setCellBorder(t,{borderLeft:n.style.borderLeft},c,l[1],e.onActionUpdate);delete n.style.borderLeft}if(void 0!==n.style.borderRight){for(var h=l[0];h<=l[2];h++)this.checkAdjustantBorder(t,"borderLeft",h,l[3]-1),this.checkFullBorder(t,"borderLeft",h,l[3]-1),this.checkFullBorder(t,"borderRight",h,l[3]),this.setCellBorder(t,{borderRight:n.style.borderRight},h,l[3],e.onActionUpdate);delete n.style.borderRight}if(Object.keys(e.style).length)for(var d=l[0];d<=l[2];d++)for(var p=l[1];p<=l[3];p++)void 0===s&&(void 0!==n.style.border?(r=n.style.border,n.style.border=void 0,s=!0):s=!1),s&&this.setFullBorder(t,r,l,d,p,e.onActionUpdate),this.setCellStyle(t,d,p,n.style),this.parent.getActiveSheet().id===t.id&&this.parent.notify("applyCellFormat",{style:n.style,rowIdx:d,colIdx:p,lastCell:p===l[3],isHeightCheckNeeded:!0,manualUpdate:!0,onActionUpdate:e.onActionUpdate});s&&(n.style.border=r),this.parent.setUsedRange(l[2],l[3]),e.refreshRibbon&&this.parent.notify("activeCellChanged",null),a&&(n.range="".concat(t.name,"!").concat(i),this.parent.notify("actionComplete",{eventArgs:n,action:"format"}))}}},{key:"setBottomBorderPriority",value:function(e,t,n){if(hB(e,t+1)){var i=this.skipHiddenRows(e,t+1);""!==this.parent.getCellStyleValue(["borderTop"],[i,n]).borderTop&&(e.rows[t].cells[n].style.bottomPriority=!0)}}},{key:"setFullBorder",value:function(e,t,n,i,a,r){var s={};i===n[0]&&(this.checkAdjustantBorder(e,"borderBottom",i-1,a),this.checkFullBorder(e,"borderBottom",i-1,a)),a===n[1]&&(this.checkAdjustantBorder(e,"borderRight",i,a-1),this.checkFullBorder(e,"borderRight",i,a-1)),a===n[3]?(this.checkAdjustantBorder(e,"borderLeft",i,a+1),this.checkFullBorder(e,"borderLeft",i,a+1)):this.checkAdjustantBorder(e,"border",i,a+1),s.borderRight=t,s.borderTop=t,s.borderLeft=t,s.borderBottom=t,this.setCellBorder(e,s,i,a,r,a===n[3]),i===n[2]?(this.checkAdjustantBorder(e,"borderTop",i+1,a),this.checkFullBorder(e,"borderTop",i+1,a),this.setBottomBorderPriority(e,i,a)):this.checkAdjustantBorder(e,"border",i+1,a)}},{key:"checkAdjustantBorder",value:function(e,t,n,i){var a={};""!==this.parent.getCellStyleValue([t],[n,i])[t]&&(a[t]=void 0,this.setCellStyle(e,n,i,a))}},{key:"checkFullBorder",value:function(e,t,n,i){var a=this.parent.getCellStyleValue(["border"],[n,i]).border;if(""!==a){var r={border:void 0};["borderBottom","borderTop","borderLeft","borderRight"].forEach((function(e){e!==t&&(r[e]=a)})),this.setCellStyle(e,n,i,r)}}},{key:"textDecorationActionUpdate",value:function(e){var t=this.parent.getActiveSheet(),n={range:t.selectedRange,style:e.style,requestType:"CellFormat"};if(this.parent.trigger("beforeCellFormat",n),this.parent.notify("actionBegin",{eventArgs:n,action:"format"}),n.cancel)e.cancel=!0;else{var i,a=eH(YF(t.selectedRange)),r=e.style.textDecoration,s=r,l=YF(t.activeCell),o=this.parent.getCellStyleValue(["textDecoration"],l).textDecoration,u=!1;"underline"===o?s="underline"===r?"none":"underline line-through":"line-through"===o?s="line-through"===r?"none":"underline line-through":"underline line-through"===o&&(s="underline"===r?"line-through":"underline",u=!0),"none"===s&&(u=!0),this.format({style:{textDecoration:s},range:l,refreshRibbon:e.refreshRibbon,onActionUpdate:!0});for(var c=a[0];c<=a[2];c++)for(var h=a[1];h<=a[3];h++)if(c!==l[0]||h!==l[1]){if(i={},"none"===(o=this.parent.getCellStyleValue(["textDecoration"],[c,h]).textDecoration)){if(u)continue;i.textDecoration=r}else if("underline"===o||"line-through"===o)if(u){if(r!==o)continue;i.textDecoration="none"}else i.textDecoration=r!==o?"underline line-through":r;else if("underline line-through"===o){if(!u)continue;i.textDecoration="underline"===r?"line-through":"underline"}this.format({style:i,range:[c,h,c,h],refreshRibbon:e.refreshRibbon,onActionUpdate:!0})}n.range=t.name+"!"+n.range,this.parent.notify("actionComplete",{eventArgs:n,action:"format"})}}},{key:"setTypedBorder",value:function(e,t,n,i,a){var r;if("Outer"===i){for(var s=n[1];s<=n[3];s++)this.checkAdjustantBorder(e,"borderBottom",n[0]-1,s),this.checkFullBorder(e,"borderBottom",n[0]-1,s),this.setCellBorder(e,{borderTop:t},n[0],s,a,s===n[3]),this.checkAdjustantBorder(e,"borderTop",n[2]+1,s),this.checkFullBorder(e,"borderTop",n[2]+1,s),this.setCellBorder(e,{borderBottom:t},n[2],s,a,s===n[3]),this.setBottomBorderPriority(e,n[2],s);for(var l=n[0];l<=n[2];l++)this.checkAdjustantBorder(e,"borderRight",l,n[1]-1),this.checkFullBorder(e,"borderRight",l,n[1]-1),this.setCellBorder(e,{borderLeft:t},l,n[1],a),this.checkAdjustantBorder(e,"borderLeft",l,n[3]+1),this.checkFullBorder(e,"borderLeft",l,n[3]+1),this.setCellBorder(e,{borderRight:t},l,n[3],a)}else if("Inner"===i)for(var o=n[0];o<=n[2];o++)for(var u=n[1];u<=n[3];u++){var c={};""!==(r=this.parent.getCellStyleValue(["border"],[o,u]).border)&&(c.border=void 0,u!==n[3]&&u!==n[1]&&o!==n[0]&&o!==n[2]||(o===n[0]&&(c.borderTop=r),o===n[2]&&(c.borderBottom=r),u===n[3]&&(c.borderRight=r),u===n[1]&&(c.borderLeft=r))),u!==n[3]&&(c.borderRight=t),o!==n[0]&&(c.borderTop=t),o!==n[2]&&(c.borderBottom=t),u!==n[1]&&(c.borderLeft=t),this.setCellBorder(e,c,o,u,a,u===n[3])}else if("Vertical"===i)for(var h=n[0];h<=n[2];h++)for(var d=n[1];d<=n[3];d++){var p={borderRight:t,borderLeft:t};d===n[1]&&(this.checkAdjustantBorder(e,"borderRight",h,d-1),this.checkFullBorder(e,"borderRight",h,d-1)),d===n[3]&&(this.checkAdjustantBorder(e,"borderLeft",h,d+1),this.checkFullBorder(e,"borderLeft",h,d+1)),this.setCellBorder(e,p,h,d,a)}else for(var f=n[0];f<=n[2];f++)for(var m=n[1];m<=n[3];m++){var g={borderTop:t,borderBottom:t};f===n[0]&&(this.checkAdjustantBorder(e,"borderBottom",f-1,m),this.checkFullBorder(e,"borderBottom",f-1,m)),this.setCellBorder(e,g,f,m,a,m===n[3]),f===n[2]&&(this.checkAdjustantBorder(e,"borderTop",f+1,m),this.checkFullBorder(e,"borderTop",f+1,m),this.setBottomBorderPriority(e,f,m))}}},{key:"setCellBorder",value:function(e,t,n,i,a,r){this.setCellStyle(e,n,i,t),this.parent.getActiveSheet().id===e.id&&this.parent.notify("applyCellFormat",{style:t,rowIdx:n,colIdx:i,onActionUpdate:a,first:"",lastCell:r,isHeightCheckNeeded:!0,manualUpdate:!0})}},{key:"setCellStyle",value:function(e,t,n,i){e.rows[t]?e.rows[t].cells||(e.rows[t].cells=[]):e.rows[t]={cells:[]},e.rows[t].cells[n]||(e.rows[t].cells[n]={}),e.rows[t].cells[n].style||(e.rows[t].cells[n].style={}),Object.assign(e.rows[t].cells[n].style,i,null,!0)}},{key:"skipHiddenRows",value:function(e,t){return hB(e,++t)&&(t=this.skipHiddenRows(e,t)),t}},{key:"addEventListener",value:function(){this.parent.on(lH,this.format,this),this.parent.on("textDecorationUpdate",this.textDecorationActionUpdate,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off(lH,this.format),this.parent.off("textDecorationUpdate",this.textDecorationActionUpdate))}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"workbookcellformat"}}]),e}(),YH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.localeObj=PI(this.parent.locale),this.decimalSep=this.localeObj.decimal,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("workbookEditOperation",this.performEditOperation,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("workbookEditOperation",this.performEditOperation)}},{key:"getModuleName",value:function(){return"workbookEdit"}},{key:"performEditOperation",value:function(e){switch(e.action){case"updateCellValue":this.updateCellValue(e.address,e.value,e.sheetIndex,e.isValueOnly)}}},{key:"checkDecimalPoint",value:function(e){if(Number(e)){var t=e.toString().indexOf(this.decimalSep)+1,n=e.toString().substr(t).length<=6;e=n?t<7?e:parseFloat(e).toFixed(0):t>7?parseFloat(e).toFixed(0):parseFloat(e).toFixed(6-t+2)}return e}},{key:"updateCellValue",value:function(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(n=this.parent.activeSheetIndex),i="string"==typeof e?YF(e):e;var r=OB(this.parent,n);r.rows[i[0]]||(r.rows[i[0]]={},r.rows[i[0]].cells=[]),r.rows[i[0]].cells[i[1]]||(r.rows[i[0]].cells[i[1]]={});var s=mB(i[0],i[1],r);if(a)t.toString().indexOf(this.decimalSep)>-1&&(t=this.checkDecimalPoint(t)),s.value=t;else{var l=sB(t);l||(s.formula="",s.value=t);var o={action:"refreshCalculate",value:t,rowIndex:i[0],colIndex:i[1],sheetIndex:n,isFormula:l};this.parent.notify(oH,o),l&&(s.formula=o.value,t=s.value);var u={value:t,rowIndex:i[0],colIndex:i[1],sheetIndex:n,updatedVal:""};this.parent.notify("checkDateFormat",u),!JO(u.updatedVal)&&u.updatedVal.length>0&&(s.value=u.updatedVal)}this.parent.setUsedRange(i[0]+1,i[1])}}]),e}(),GH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("setLinkModel",this.setLinkHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("setLinkModel",this.setLinkHandler)}},{key:"setLinkHandler",value:function(e){var t,n,i,a,r=e.hyperlink,s=e.cell,l=this.parent.getActiveSheet();if(s&&-1!==s.indexOf("!")){t=s.split("!");for(var o=this.parent.sheets,u=0;u<o.length;u++)o[u].name===t[0]&&(n=u);l=this.parent.sheets[n],s=t[1]}var c=(i=YF(s=s||this.parent.getActiveSheet().activeCell))[0],h=i[1];l&&(JO(l.rows[c])&&(l.rows[c]={}),JO(l.rows[c].cells)&&(l.rows[c].cells=[]),JO(l.rows[c].cells[h])&&(l.rows[c].cells[h]={}),"string"==typeof r?(0!==r.indexOf("http://")&&0!==r.indexOf("https://")&&0!==r.indexOf("ftp://")&&(a=r=0===r.indexOf("www.")?"http://"+r:r),l.rows[c].cells[h].hyperlink=r):(0!==(a=r.address).indexOf("http://")&&0!==a.indexOf("https://")&&0!==a.indexOf("ftp://")&&(a=0===a.indexOf("www.")?"http://"+a:a),l.rows[c].cells[h].hyperlink={address:a}))}},{key:"getModuleName",value:function(){return"workbookHyperlink"}}]),e}(),XH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"insert",value:function(e){var t=this;if("Sheet"===e.modelType||JO(e.sheet)||e.sheet===this.parent.activeSheetIndex)this.insertModel(e);else{e.model=e.model;for(var n=0;n<e.model.ranges.length;n++)if(e.model.ranges[n].dataSource){var i=function(){var n={sheet:e.model,indexes:[0,0,1048576,16384],promise:new Promise((function(e,t){e(void 0)}))};return{v:(t.parent.notify("updateSheetFromDataSource",n),void n.promise.then((function(){e.model=t.parent.sheets[e.sheet],t.insertModel(e),n.skipModelUpdate=!0})))}}();if("object"==typeof i)return i.v}this.insertModel(e)}}},{key:"insertModel",value:function(e){var t,n,i=this,a=[];if("number"==typeof e.start){t=e.start,e.end=e.end||t,t>e.end&&(t=e.end,e.end=e.start);for(var r=t;r<=e.end;r++)a.push({})}else e.start?(t=e.start[0].index||0,a=e.start,delete e.start[0].index):(t=0,a.push({}));if("Row"===e.modelType){var s,l;e.model=e.model,e.model.rows||(e.model.rows=[]),t&&!e.model.rows[t-1]&&(e.model.rows[t-1]={}),(s=e.model.rows).splice.apply(s,[t,0].concat(_toConsumableArray(a))),e.model.ranges.forEach((function(e){l=GF(e.startCell),t<=l[0]&&(l[0]+=a.length,e.startCell=KF(l[0],l[1]))})),this.parent.setUsedRange(t>e.model.usedRange.rowIndex?t+(a.length-1):e.model.usedRange.rowIndex+a.length,e.model.usedRange.colIndex,e.sheet);for(var o=t+a.length,u=0;u<=e.model.usedRange.colIndex;u++)e.model.rows[o]&&e.model.rows[o].cells&&e.model.rows[o].cells[u]&&void 0!==e.model.rows[o].cells[u].rowSpan&&e.model.rows[o].cells[u].rowSpan<0&&void 0===e.model.rows[o].cells[u].colSpan&&this.parent.notify("insertMerge",{range:[o,u,o,u],insertCount:a.length,insertModel:"Row"})}else if("Column"===e.modelType){var c,h;e.model=e.model,e.model.columns||(e.model.columns=[]),t&&!e.model.columns[t-1]&&(e.model.columns[t-1]={}),(c=e.model.columns).splice.apply(c,[t,0].concat(_toConsumableArray(a))),e.model.ranges.forEach((function(e){h=GF(e.startCell),t<=h[1]&&(h[1]+=a.length,e.startCell=KF(h[0],h[1]))})),this.parent.setUsedRange(e.model.usedRange.rowIndex,t>e.model.usedRange.colIndex?t+(a.length-1):e.model.usedRange.colIndex+a.length,e.sheet),e.model.rows||(e.model.rows=[]),e.columnCellsModel||(e.columnCellsModel=[]),n=[];for(var d=0;d<=e.model.usedRange.rowIndex;d++){var p;e.model.rows[d]?e.model.rows[d].cells||(e.model.rows[d].cells=[]):e.model.rows[d]={cells:[]},t&&!e.model.rows[d].cells[t-1]&&(e.model.rows[d].cells[t-1]={}),(p=e.model.rows[d].cells).splice.apply(p,[t,0].concat(_toConsumableArray(e.columnCellsModel[d]&&e.columnCellsModel[d].cells?e.columnCellsModel[d].cells:this.getEmptyModel(a.length))));var f=t+a.length;e.model.rows[d].cells[f]&&void 0!==e.model.rows[d].cells[f].colSpan&&e.model.rows[d].cells[f].colSpan<0&&void 0===e.model.rows[d].cells[f].rowSpan&&n.push({range:[d,f,d,f],insertCount:a.length,insertModel:"Column"})}n.forEach((function(e){i.parent.notify("insertMerge",e)}))}else{if(void 0!==e.checkCount&&e.checkCount===this.parent.sheets.length)return;var m;this.parent.createSheet(t,a),e.activeSheetIndex&&this.parent.setProperties({activeSheetIndex:e.activeSheetIndex},!0),a.forEach((function(e){m=e.id,i.parent.notify(oH,{action:"addSheet",visibleName:e.name,sheetName:"Sheet"+m,index:m})}))}this.parent.notify("insert",{model:a,index:t,modelType:e.modelType,isAction:e.isAction,activeSheetIndex:e.activeSheetIndex,sheetCount:this.parent.sheets.length})}},{key:"getEmptyModel",value:function(e){for(var t=[],n=0;n<e;n++)t.push({});return t}},{key:"setInsertInfo",value:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Row",r=n=t+(n-1);e.ranges.forEach((function(e){e.info&&t<e.info[i]&&(e.info["insert".concat(a,"Range")]?e.info["insert".concat(a,"Range")].push([t,r]):e.info["insert".concat(a,"Range")]=[[t,r]],e.info[i]+=r-t+1)}))}},{key:"addEventListener",value:function(){this.parent.on("insertModel",this.insert,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("insertModel",this.insert)}},{key:"getModuleName",value:function(){return"workbookinsert"}}]),e}(),KH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"delete",value:function(e){var t=this;if(JO(e.sheet)||"Sheet"===e.modelType||e.sheet===this.parent.activeSheetIndex)this.deleteModel(e);else{e.model=e.model;for(var n=0,i=e.model.ranges.length;n<i;n++)if(e.model.ranges[n].dataSource){var a=function(){var n={promise:new Promise((function(e,t){e(void 0)})),sheet:e.model,indexes:[0,0,1048576,16384]};return{v:(t.parent.notify("updateSheetFromDataSource",n),void n.promise.then((function(){e.model=t.parent.sheets[e.sheet],t.deleteModel(e),n.skipModelUpdate=!0})))}}();if("object"==typeof a)return a.v}this.deleteModel(e)}}},{key:"deleteModel",value:function(e){var t,n=this,i="".concat(e.modelType.toLowerCase(),"s");if(e.start=e.start,e.start>e.end){var a=e.start;e.start=e.end,e.end=a}var r=[],s=e.end-e.start+1;if("Row"===e.modelType){if(e.model=e.model,e.start>e.model.usedRange.rowIndex)return;e.end>e.model.usedRange.rowIndex&&(e.end-=e.end-e.model.usedRange.rowIndex),e.model.usedRange.rowIndex-=e.end-e.start+1,e.model.usedRange.rowIndex<0&&(e.model.usedRange.rowIndex=0),this.parent.notify("updateUsedRange",{index:e.model.usedRange.rowIndex,update:"row"});var l,o,u=e.end+1;if(e.model.rows[e.start]&&e.model.rows[e.start].cells)for(var c=0;c<=e.model.usedRange.colIndex;c++){if(e.model.rows[e.start].cells[c]&&void 0!==e.model.rows[e.start].cells[c].rowSpan&&e.model.rows[e.start].cells[c].rowSpan<0&&void 0===e.model.rows[e.start].cells[c].colSpan&&(o={range:[e.start,c,e.start,c]},this.parent.notify("activeCellMergedRange",o),o.range=o.range,o.range[2]<=e.end)){var h=mB(o.range[0],c,e.model);h&&h.rowSpan>1&&(h.rowSpan-(o.range[2]-e.start+1)>1?gB(o.range[0],c,e.model,{colSpan:h.rowSpan-(o.range[2]-e.start+1)},!0):delete e.model.rows[o.range[0]].cells[c].rowSpan),o=null}if(e.model.rows[u]&&e.model.rows[u].cells[c]&&void 0!==e.model.rows[u].cells[c].rowSpan&&e.model.rows[u].cells[c].rowSpan<0&&void 0===e.model.rows[u].cells[c].colSpan&&(o||(o={range:[u,c,u,c]},this.parent.notify("activeCellMergedRange",o)),l=new Object,o.range=o.range,Object.assign(l,mB(o.range[0],o.range[1],e.model)),l&&l.rowSpan&&(l.rowSpan>1||l.colSpan>1))){var d=[];d[1]=c,d[3]=l.colSpan>1?c+(l.colSpan-1):c,o.range=o.range,o.range[0]<e.start?(d[0]=d[2]=o.range[0],l.rowSpan-s>1&&(d[2]+=l.rowSpan-s-1)):(d[0]=d[2]=e.start,l.rowSpan-(e.end-o.range[0]+1)>1&&(d[2]+=l.rowSpan-(e.end-o.range[0]+1)-1)),r.push({range:d,isAction:!1,preventRefresh:!0,merge:!0,type:"All",skipChecking:!0})}o=null}}else if("Column"===e.modelType){if(e.model=e.model,e.start>e.model.usedRange.colIndex)return;e.end>e.model.usedRange.colIndex&&(e.end-=e.end-e.model.usedRange.colIndex),e.model.usedRange.colIndex-=s,e.model.usedRange.colIndex<0&&(e.model.usedRange.colIndex=0),this.parent.notify("updateUsedRange",{index:e.model.usedRange.colIndex,update:"col"}),t=[];for(var p,f,m=e.end+1,g=0;g<=e.model.usedRange.rowIndex;g++)if(t.push({}),e.model.rows[g]&&e.model.rows[g].cells){if(e.model.rows[g].cells[e.start]&&void 0!==e.model.rows[g].cells[e.start].colSpan&&e.model.rows[g].cells[e.start].colSpan<0&&void 0===e.model.rows[g].cells[e.start].rowSpan&&(f={range:[g,e.start,g,e.start]},this.parent.notify("activeCellMergedRange",f),f.range=f.range,f.range[3]<=e.end)){var v=mB(g,f.range[1],e.model);v&&v.colSpan>1&&(v.colSpan-(f.range[3]-e.start+1)>1?gB(g,f.range[1],e.model,{colSpan:v.colSpan-(f.range[3]-e.start+1)},!0):delete e.model.rows[g].cells[f.range[1]].colSpan),f=null}if(e.model.rows[g].cells[m]&&void 0!==e.model.rows[g].cells[m].colSpan&&e.model.rows[g].cells[m].colSpan<0&&void 0===e.model.rows[g].cells[m].rowSpan&&(f||(f={range:[g,m,g,m]},this.parent.notify("activeCellMergedRange",f)),p=new Object,f.range=f.range,Object.assign(p,mB(f.range[0],f.range[1],e.model)),p&&p.colSpan&&(p.colSpan>1||p.rowSpan>1))){var y=[];y[0]=g,y[2]=p.rowSpan>1?g+(p.rowSpan-1):g,f.range=f.range,f.range[1]<e.start?(y[1]=y[3]=f.range[1],p.colSpan-s>1&&(y[3]+=p.colSpan-s-1)):(y[1]=y[3]=e.start,p.colSpan-(e.end-f.range[1]+1)>1&&(y[3]+=p.colSpan-(e.end-f.range[1]+1)-1)),r.push({range:y,isAction:!1,preventRefresh:!0,merge:!0,type:"All",skipChecking:!0})}t[g].cells=e.model.rows[g].cells.splice(e.start,s),f=null}}for(var b=[],k=e.start;k<=e.end;k++)e.model[i][e.start]?(b.push(e.model[i][e.start]),e.model[i].splice(e.start,1)):b.push({}),k===e.start&&(b[0].index=e.start);r.forEach((function(e){n.parent.notify(cH,e)})),this.parent.notify("delete",{startIndex:e.start,endIndex:e.end,modelType:e.modelType,isAction:e.isAction,deletedModel:b,deletedCellsModel:t})}},{key:"setDeleteInfo",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Row",a=t-e+1,r=[];this.parent.getActiveSheet().ranges.forEach((function(s){s.info&&e<s.info[n]&&(s.info["delete".concat(i,"Range")]?s.info["delete".concat(i,"Range")].push([e,t]):s.info["delete".concat(i,"Range")]=[[e,t]],s.info[n]-=a,s.info["insert".concat(i,"Range")]&&(s.info["insert".concat(i,"Range")]=r))}))}},{key:"addEventListener",value:function(){this.parent.on("deleteModel",this.delete,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("deleteModel",this.delete)}},{key:"getModuleName",value:function(){return"workbookdelete"}}]),e}(),$H=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("setValidation",this.addValidationHandler,this),this.parent.on("removeValidation",this.removeValidationHandler,this),this.parent.on("addHighlight",this.addHighlightHandler,this),this.parent.on("removeHighlight",this.removeHighlightHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("setValidation",this.addValidationHandler),this.parent.off("removeValidation",this.removeValidationHandler),this.parent.off("addHighlight",this.addHighlightHandler),this.parent.off("removeHighlight",this.removeHighlightHandler))}},{key:"addValidationHandler",value:function(e){this.ValidationHandler(e.rules,e.range,!1)}},{key:"removeValidationHandler",value:function(e){this.ValidationHandler(e.rules,e.range,!0)}},{key:"ValidationHandler",value:function(e,t,n){for(var i,a=this.parent.getActiveSheet(),r=YF(t=t||a.selectedRange),s=r[0];s<=r[2];s++){a.rows[s]||cB(a,s,{});for(var l=r[1];l<=r[3];l++)if(a.rows[s].cells&&a.rows[s].cells[l]||gB(s,l,a,{}),i=a.rows[s].cells[l],n){if(i.validation){delete i.validation;var o=this.parent.getCellStyleValue(["backgroundColor","color"],[s,l]);this.parent.notify("applyCellFormat",{style:o,rowIdx:s,colIdx:l})}}else i.validation={type:e.type,operator:e.operator,value1:"List"===e.type&&e.value1.length>256?e.value1.substring(0,255):e.value1,value2:e.value2,ignoreBlank:e.ignoreBlank,inCellDropDown:e.inCellDropDown}}}},{key:"addHighlightHandler",value:function(e){this.InvalidDataHandler(e.range,!1)}},{key:"removeHighlightHandler",value:function(e){this.InvalidDataHandler(e.range,!0)}},{key:"InvalidDataHandler",value:function(e,t){for(var n,i,a=this.parent.getActiveSheet(),r=(e=e||a.selectedRange)?YF(e):[],s=e?r[0]:0,l=e?r[2]:a.rows.length;s<=l;s++)if(a.rows[s])for(var o=e?r[1]:0,u=e?r[3]:a.rows[s].cells.length;o<=u;o++)if(a.rows[s].cells[o]){i=(n=a.rows[s].cells[o]).value?n.value:"";var c=[s,o],h=this.parent.activeSheetIndex;if(n.validation&&this.parent.allowDataValidation){this.parent.notify("isValidation",{value:i,range:c,sheetIdx:h,isCell:!1});var d=this.parent.allowDataValidation;if(this.parent.allowDataValidation=!0,!d)if(t){if(t){n.validation.isHighlighted&&(n.validation.isHighlighted=!1);var p=this.parent.getCellStyleValue(["backgroundColor","color"],[s,o]);this.parent.notify("applyCellFormat",{style:p,rowIdx:s,colIdx:o})}}else n.validation.isHighlighted||(n.validation.isHighlighted=!0),this.parent.notify("applyCellFormat",{style:{backgroundColor:"#ffff00",color:"#ff0000"},rowIdx:s,colIdx:o})}}}},{key:"getModuleName",value:function(){return"workbookDataValidation"}}]),e}(),ZH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("findNext",this.findNext,this),this.parent.on("findPrevious",this.findPrevious,this),this.parent.on("replace",this.replace,this),this.parent.on("replaceAll",this.replaceAll,this),this.parent.on("count",this.totalCount,this),this.parent.on("findAllValues",this.findAllValues,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("findNext",this.findNext),this.parent.off("findPrevious",this.findPrevious),this.parent.off("replace",this.replace),this.parent.off("replaceAll",this.replaceAll),this.parent.off("count",this.totalCount),this.parent.off("findAllValues",this.findAllValues))}},{key:"findNext",value:function(e){var t,n,i,a=this.parent.sheets,r=a[this.parent.activeSheetIndex],s=GF(r.activeCell),l=r.usedRange,o=l.colIndex,u=e.value.toString(),c=0,h=l.rowIndex,d=t=s[1],p=n=s[0];if(r.rows[n]&&r.rows[n].cells[t]&&(i=r.rows[n].cells[t].format?this.parent.getDisplayText(r.rows[n].cells[t]).toString():r.rows[n].cells[t].value.toString()),i){var f=i.toLowerCase(),m=i.indexOf(e.value)>-1,g=f.indexOf(e.value)>-1;(u===i||u===f||m||g)&&("By Column"===e.searchBy?n++:t++,c++)}(s[0]>r.usedRange.rowIndex||s[1]>r.usedRange.colIndex)&&(s[0]>r.usedRange.rowIndex&&s[1]<=r.usedRange.colIndex?(n=0,t=s[1]):s[0]<=r.usedRange.rowIndex&&s[1]>r.usedRange.colIndex?(n=s[0],t=0):(n=0,t=0));var v={rowIndex:n,colIndex:t,usedRange:l,endRow:h,endColumn:o,startRow:p,mode:e.mode,loopCount:0,count:c,args:e,val:void 0,stringValue:u,sheetIndex:this.parent.activeSheetIndex,startColumn:d,sheets:a};"By Row"===e.searchBy&&this.findNxtRow(v),"By Column"===e.searchBy&&this.findNxtCol(v)}},{key:"findNxtRow",value:function(e){var t,n=e.sheets[e.sheetIndex],i=this.parent.sheets.length,a=GF(n.activeCell);for(e.colIndex>=e.usedRange.colIndex+1&&(e.colIndex=0,e.rowIndex++);e.rowIndex<=e.endRow+1;e.rowIndex++){if(e.rowIndex>e.endRow){if("Workbook"===e.mode){var r=this.parent.activeSheetIndex;if(e.sheetIndex++,i===e.sheetIndex&&(e.sheetIndex=0),r===e.sheetIndex&&0===e.count)return void this.parent.notify(uH,null);t=(n=e.sheets[e.sheetIndex]).usedRange,a=GF(n.activeCell),e.rowIndex=0,e.colIndex=0,e.endColumn=t.colIndex,e.endRow=t.rowIndex}if(0===e.colIndex&&e.rowIndex>e.endRow)if(0===a[0]&&0===a[1]||a[0]>n.usedRange.rowIndex||a[1]>n.usedRange.colIndex){if(0===e.count)return void this.parent.notify(uH,null)}else(0!==a[0]&&0!==a[1]||0!==a[0]||0!==a[1])&&(e.startColumn=0,e.startRow=0,e.endColumn=e.usedRange.colIndex,e.endRow=a[0],e.rowIndex=e.startRow,e.colIndex=e.startColumn,e.loopCount++)}if(e.count>0&&e.usedRange.rowIndex<e.rowIndex&&(e.rowIndex=0,0===e.rowIndex&&(e.colIndex=0)),n.rows[e.rowIndex]){for(var s=n.rows[e.rowIndex];e.colIndex<=e.endColumn;e.colIndex++)if(s&&s.cells[e.colIndex]&&this.nextCommon(e))return;if(e.colIndex>e.endColumn&&(e.colIndex=0),e.loopCount>0&&a[0]===e.rowIndex)return void this.parent.notify(uH,null)}}0!==e.count||this.parent.notify(uH,null)}},{key:"findNxtCol",value:function(e){var t,n=e.sheets[e.sheetIndex],i=GF(n.activeCell),a=this.parent.sheets.length;for(e.rowIndex>=e.usedRange.rowIndex&&(e.rowIndex=0,e.colIndex++);e.colIndex<=e.usedRange.colIndex+1;e.colIndex++){if(e.colIndex>=e.endColumn+1&&"Workbook"===e.mode){if(t=this.parent.activeSheetIndex,e.sheetIndex++,a===e.sheetIndex&&(e.sheetIndex=0),t===e.sheetIndex&&0===e.count)return void this.parent.notify(uH,null);n=e.sheets[e.sheetIndex],e.usedRange=n.usedRange,i=GF(n.activeCell),e.colIndex=0,e.rowIndex=0,e.endColumn=e.usedRange.colIndex,e.endRow=e.usedRange.rowIndex}if(e.colIndex>=e.endColumn+1&&(e.colIndex=0),e.rowIndex>e.endRow&&0===e.colIndex)if(0===i[0]&&0===i[1]||i[1]>n.usedRange.rowIndex||i[0]>n.usedRange.colIndex){if(0===e.count)return void this.parent.notify(uH,null)}else(0!==i[1]||0!==i[0]||0!==i[1]&&0!==i[0])&&(e.startRow=0,e.startColumn=0,e.endRow=i[0],e.endColumn=e.usedRange.colIndex,e.colIndex=e.startColumn,e.rowIndex=e.startRow,e.loopCount++);if(e.count>0&&e.usedRange.colIndex+1<e.colIndex&&(e.colIndex=0,e.rowIndex=0),e.rowIndex>=e.endRow&&(e.rowIndex=0),e.colIndex<=e.usedRange.colIndex){for(;e.rowIndex<=e.usedRange.rowIndex;e.rowIndex++)if(n.rows[e.rowIndex]&&n.rows[e.rowIndex].cells[e.colIndex]&&this.nextCommon(e))return;if(e.loopCount>0&&i[1]===e.colIndex)return void this.parent.notify(uH,null)}}0!==e.count||this.parent.notify(uH,null)}},{key:"nextCommon",value:function(e){var t=e.sheets[e.sheetIndex];if(t.rows[e.rowIndex]&&t.rows[e.rowIndex].cells[e.colIndex]){var n,i=t.rows[e.rowIndex].cells[e.colIndex];if(i)if(n=i.format?this.parent.getDisplayText(t.rows[e.rowIndex].cells[e.colIndex]):t.rows[e.rowIndex].cells[e.colIndex].value.toString(),e.args.isCSen&&e.args.isEMatch){if(n===e.stringValue){var a=t.name+"!"+KF(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:a}),e.count++,!0}}else if(e.args.isCSen&&!e.args.isEMatch){var r=n.indexOf(e.args.value)>-1;if(n===e.stringValue||r){var s=t.name+"!"+KF(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:s}),e.count++,!0}}else if(!e.args.isCSen&&e.args.isEMatch){if(e.val=n.toString().toLowerCase(),e.val===e.stringValue){var l=t.name+"!"+KF(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:l}),e.count++,!0}}else if(!e.args.isCSen&&!e.args.isEMatch){e.val=n.toString().toLowerCase();var o=n.indexOf(e.args.value)>-1,u=e.val.indexOf(e.args.value)>-1;if(e.val===e.stringValue||n===e.stringValue||o||n===e.stringValue||u){var c=t.name+"!"+KF(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:c}),e.count++,!0}}}return!1}},{key:"findPrevious",value:function(e){var t,n=this.parent.sheets,i=e.sheetIndex,a=n[i],r=GF(a.activeCell),s=0,l=a.usedRange.rowIndex,o=a.usedRange.colIndex,u=e.value.toString(),c=r[1],h=r[0],d=c,p=h;if(a.rows[h]&&a.rows[h].cells[c]&&(t=a.rows[h].cells[c].format?this.parent.getDisplayText(a.rows[h].cells[c]).toString():a.rows[h].cells[c].value.toString()),t){var f=t.toLowerCase(),m=t.indexOf(e.value)>-1,g=f.indexOf(e.value)>-1;(u===t||u===f||m||g)&&("By Row"===e.searchBy&&c--,"By Column"===e.searchBy&&h--,s++)}(r[0]>a.usedRange.rowIndex||r[1]>a.usedRange.colIndex)&&(r[0]>a.usedRange.rowIndex&&r[1]<=a.usedRange.colIndex?(h=a.usedRange.rowIndex,c=r[1]):r[0]<=a.usedRange.rowIndex&&r[1]>a.usedRange.colIndex?(h=r[0],c=a.usedRange.colIndex):(h=a.usedRange.rowIndex,c=a.usedRange.colIndex));var v={rowIndex:h,colIndex:c,endRow:l,endColumn:o,startRow:p,loopCount:0,count:s,args:e,val:void 0,stringValue:u,sheets:n,sheetIndex:i,startColumn:d};"By Row"===e.searchBy&&this.findPreRow(v),"By Column"===e.searchBy&&this.findPreCol(v)}},{key:"findPreRow",value:function(e){var t,n=e.sheets[e.sheetIndex],i=this.parent.sheets.length,a=!1,r=GF(n.activeCell);for(-1===e.colIndex&&(e.colIndex=e.endColumn,e.rowIndex--);e.rowIndex>=-1;e.rowIndex--){if(e.rowIndex<0&&e.colIndex<0){if("Workbook"===e.args.mode){var s=this.parent.activeSheetIndex;if(e.sheetIndex--,-1===e.sheetIndex&&(e.sheetIndex=i-1),s===e.sheetIndex&&0===e.count)return void this.parent.notify(uH,null);t=(n=e.sheets[e.sheetIndex]).usedRange,r=GF(n.activeCell),e.rowIndex=t.rowIndex,e.colIndex=t.colIndex,e.endColumn=0,e.endRow=0}a=this.commonCondition(e,r)}if(!a&&("Workbook"!==e.args.mode&&e.count>0&&-1===e.rowIndex&&(e.rowIndex=e.endRow),-1===e.rowIndex&&(e.rowIndex=n.usedRange.rowIndex,e.colIndex=n.usedRange.colIndex),n.rows[e.rowIndex])){for(-1===e.colIndex&&(e.colIndex=n.usedRange.colIndex);e.colIndex>=0;e.colIndex--)if(n.rows[e.rowIndex]&&n.rows[e.rowIndex].cells[e.colIndex]&&this.prevCommon(e))return;if(e.loopCount>0&&r[0]===e.rowIndex)return void this.parent.notify(uH,null)}}a||0!==e.count||this.parent.notify(uH,null)}},{key:"findPreCol",value:function(e){for(var t,n=e.sheets[e.sheetIndex],i=this.parent.sheets.length,a=!1,r=GF(n.activeCell);e.colIndex>=-1;e.colIndex--){if(e.rowIndex<0&&e.colIndex<0){if("Workbook"===e.args.mode){var s=this.parent.activeSheetIndex;if(e.sheetIndex--,-1===e.sheetIndex&&(e.sheetIndex=i-1),s===e.sheetIndex&&0===e.count)return void this.parent.notify(uH,null);t=(n=e.sheets[e.sheetIndex]).usedRange,r=GF(n.activeCell),e.rowIndex=t.rowIndex,e.colIndex=t.colIndex,e.endColumn=0,e.endRow=0}a=this.commonCondition(e,r)}if(!a)for(e.count>0&&e.colIndex<0&&(e.colIndex=e.endColumn),e.rowIndex<0&&(e.rowIndex=n.usedRange.rowIndex),e.colIndex<-1&&(e.colIndex=n.usedRange.colIndex,e.rowIndex--),n.rows[e.rowIndex]&&n.rows[e.rowIndex].cells[e.colIndex]&&-1===e.rowIndex&&(e.rowIndex=n.usedRange.rowIndex);e.rowIndex>=0;e.rowIndex--){if(n.rows[e.rowIndex]&&n.rows[e.rowIndex].cells[e.colIndex]&&this.prevCommon(e))return;if(e.loopCount>0&&r[1]===e.colIndex)return void this.parent.notify(uH,null)}}a||0!==e.count||this.parent.notify(uH,null)}},{key:"commonCondition",value:function(e,t){var n,i=e.sheets[e.sheetIndex];return t[0]!==e.endRow&&t[1]!==e.endColumn||t[0]!==e.endRow||t[1]!==e.endColumn?(e.startColumn=i.usedRange.colIndex,e.startRow=i.usedRange.rowIndex,e.endColumn=0,e.endRow=t[0],e.rowIndex=e.startRow,e.colIndex=e.startColumn,e.loopCount++,n=!1):(t[0]===i.usedRange.rowIndex&&t[1]===i.usedRange.colIndex||t[0]>i.usedRange.rowIndex||t[1]>i.usedRange.colIndex)&&(this.parent.notify(uH,null),n=!0),n}},{key:"prevCommon",value:function(e){var t=e.sheets[e.sheetIndex];if(t.rows[e.rowIndex]&&t.rows[e.rowIndex].cells[e.colIndex]){var n,i=t.rows[e.rowIndex].cells[e.colIndex];if(i)if(n=i.format?this.parent.getDisplayText(t.rows[e.rowIndex].cells[e.colIndex]):t.rows[e.rowIndex].cells[e.colIndex].value.toString(),e.args.isCSen&&e.args.isEMatch){if(n===e.stringValue){var a=t.name+"!"+KF(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:a}),e.count++,!0}}else if(e.args.isCSen&&!e.args.isEMatch){var r=n.indexOf(e.args.value)>-1;if(n===e.stringValue||r){var s=t.name+"!"+KF(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:s}),e.count++,!0}}else if(!e.args.isCSen&&e.args.isEMatch){if(e.val=n.toString().toLowerCase(),e.val===e.stringValue){var l=t.name+"!"+KF(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:l}),e.count++,!0}}else if(!e.args.isCSen&&!e.args.isEMatch){e.val=n.toString().toLowerCase();var o=n.indexOf(e.args.value)>-1,u=e.val.indexOf(e.args.value)>-1;if(n===e.stringValue||n===e.stringValue||o||e.val===e.stringValue||u){var c=t.name+"!"+KF(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:c}),e.count++,!0}}}return!1}},{key:"replace",value:function(e){if(this.parent.getActiveSheet().isProtected)this.parent.notify("editAlert",null);else{var t=this.parent.getActiveSheet(),n=GF(t.activeCell),i=t.rows[n[0]].cells[n[1]].value.toString(),a=i.indexOf(e.value)>-1,r=i.toLowerCase().indexOf(e.value)>-1,s=i.toString().toLowerCase();i===e.value||a||s===e.value||r||(e.findOpt="next",this.findNext(e)),this.parent.getActiveSheet();var l,o=GF(t.activeCell),u=t.activeCell,c=t.rows[o[0]].cells[o[1]],h=t.rows[o[0]].cells[o[1]].format,d=t.name+"!"+KF(o[0],o[1]);l=h?this.parent.getDisplayText(t.rows[o[0]].cells[o[1]]).toString():t.rows[o[0]].cells[o[1]].value.toString(),this.parent.notify("findUndoRedo",{undoRedoOpt:"before",address:d,compareVal:l});var p=l.toLowerCase(),f=l.indexOf(e.value)>-1,m=p.indexOf(e.value)>-1;if(e.value===l||e.value===p)t.rows[o[0]].cells[o[1]].value=e.replaceValue,this.parent.updateCell(c,u),this.parent.notify("findUndoRedo",{address:d,compareVal:e.replaceValue,undoRedoOpt:"after"});else if(f){var g=l.replace(e.value,e.replaceValue);t.rows[o[0]].cells[o[1]].value=g,this.parent.updateCell(c,u),this.parent.notify("findUndoRedo",{address:d,compareVal:e.replaceValue,undoRedoOpt:"after"})}else if(m){var v=new RegExp(e.value.toString().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig"),y=l.replace(v,e.replaceValue);t.rows[o[0]].cells[o[1]].value=y,this.parent.updateCell(c,u),this.parent.notify("findUndoRedo",{address:d,compareVal:e.replaceValue,undoRedoOpt:"after"})}}}},{key:"replaceAll",value:function(e){for(var t,n=0,i=this.parent.sheets[n],a=i.usedRange.rowIndex,r=0,s=0,l=i.usedRange.colIndex,o=0,u=[];s<=a;s++)if(o>l&&s===a&&"Workbook"===e.mode&&(n++,(i=this.parent.sheets[n])&&(o=0,s=0,l=i.usedRange.colIndex,a=i.usedRange.rowIndex,i=i)),i&&i.rows[s]){var c=i.rows[s];for(o===l+1&&(o=0);o<=l;o++){var h=i.rows[s].cells[o];if(c&&c.cells[o]){var d=i.rows[s].cells[o];if(d){var p=void 0;if(p=d.format?this.parent.getDisplayText(i.rows[s].cells[o]).toString():i.rows[s].cells[o].value.toString(),e.isCSen&&e.isEMatch)p===e.value&&(i.rows[s].cells[o].value=e.replaceValue,t=i.name+"!"+KF(s,o),this.parent.updateCell(h,t),u.push(t),r++);else if(e.isCSen&&!e.isEMatch){var f=p.indexOf(e.value)>-1;if(p===e.value||f){var m=p.replace(e.value,e.replaceValue);i.rows[s].cells[o].value=m,t=i.name+"!"+KF(s,o),this.parent.updateCell(h,t),u.push(t),r++}}else if(!e.isCSen&&e.isEMatch)p.toString().toLowerCase()===e.value&&(i.rows[s].cells[o].value=e.replaceValue,t=i.name+"!"+KF(s,o),this.parent.updateCell(h,t),u.push(t),r++);else if(!e.isCSen&&!e.isEMatch){var g=p.toString().toLowerCase(),v=p.indexOf(e.value)>-1,y=g.indexOf(e.value)>-1;if(p===e.value||v||g===e.value||p===e.value||y){var b=new RegExp(e.value.toString().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig"),k=p.replace(b,e.replaceValue);i.rows[s].cells[o].value=k,t=i.name+"!"+KF(s,o),this.parent.updateCell(h,t),u.push(t),r++}}}}}}var C={undoRedoOpt:"beforeReplaceAll",Collection:u,replaceValue:e.value};this.parent.notify("findUndoRedo",C),C={undoRedoOpt:"afterReplaceAll",Collection:u,replaceValue:e.replaceValue},this.parent.notify("findUndoRedo",C),this.parent.notify("replaceAllDialog",{count:r,replaceValue:e.replaceValue})}},{key:"totalCount",value:function(e){for(var t=this.parent.sheets[0],n=t.usedRange.rowIndex,i=0,a=0,r=t.usedRange.colIndex,s=0;a<=n;a++)if(t.rows[a]){var l=t.rows[a];for(s===r+1&&(s=0);s<=r;s++)if(l&&l.cells[s]){var o=t.rows[a].cells[s];if(o){var u=void 0;if(u=o.format?this.parent.getDisplayText(t.rows[a].cells[s]).toString():o.value.toString(),e.isCSen&&e.isEMatch)u===e.value&&i++;else if(e.isCSen&&!e.isEMatch){var c=u.indexOf(e.value)>-1;(u===e.value||c)&&i++}else if(!e.isCSen&&e.isEMatch)u.toString().toLowerCase()===e.value&&i++;else if(!e.isCSen&&!e.isEMatch){var h=u.toString().toLowerCase(),d=u.indexOf(e.value)>-1,p=h.indexOf(e.value)>-1;(h===e.value||u===e.value||d||u===e.value||p)&&i++}}}}var f=i;i=f-(this.requiredCount(e)-1),e.findCount=i+"of"+f}},{key:"requiredCount",value:function(e){for(var t=this.parent.sheets[this.parent.activeSheetIndex],n=GF(t.activeCell),i=t.usedRange.rowIndex,a=0,r=n[0],s=t.usedRange.colIndex,l=n[1];r<=i;r++)if(t.rows[r]){var o=t.rows[r];for(l===s+1&&(l=0);l<=s;l++)if(o&&o.cells[l]&&t.rows[r].cells[l]){var u=void 0;if(u=t.rows[r].cells[l].format?this.parent.getDisplayText(t.rows[r].cells[l]).toString():t.rows[r].cells[l].value.toString(),e.isCSen&&!e.isEMatch){var c=u.indexOf(e.value)>-1;(u===e.value||c)&&a++}else if(e.isCSen&&e.isEMatch)u===e.value&&a++;else if(!e.isCSen&&e.isEMatch)u.toString().toLowerCase()===e.value&&a++;else if(!e.isCSen&&!e.isEMatch){var h=u.toString().toLowerCase(),d=u.indexOf(e.value)>-1,p=h.indexOf(e.value)>-1;(u===e.value||u===e.value||d||h===e.value||p)&&a++}}}return a}},{key:"findAllValues",value:function(e){for(var t,n=e.sheetIndex,i=this.parent.sheets[n],a=i.usedRange.rowIndex,r=0,s=i.usedRange.colIndex,l=0,o=this.parent.sheets.length,u=e.sheetIndex;r<=a+1;r++){if(1!==u&&e.sheetIndex===o&&(n=1),r>a&&l>s&&"Workbook"===e.mode){if(u===++n)return;n>o-1&&(n=0),(i=this.parent.sheets[n])&&(r=0,l=0,s=i.usedRange.colIndex,a=i.usedRange.rowIndex,i=i)}if(!JO(i)&&i.rows[r]){var c=i.rows[r];for(l===s+2&&(l=0);l<=s+1;l++)if(c&&c.cells[l]){var h=i.rows[r].cells[l];if(h){var d=void 0;if(d=h.format?this.parent.getDisplayText(i.rows[r].cells[l]).toString():h.value.toString(),e.isCSen&&e.isEMatch)d===e.value&&(t=i.name+"!"+KF(r,l),e.findCollection.push(t));else if(e.isCSen&&!e.isEMatch){var p=d.indexOf(e.value)>-1;(d===e.value||p)&&(t=i.name+"!"+KF(r,l),e.findCollection.push(t))}else if(!e.isCSen&&e.isEMatch)d.toString().toLowerCase()===e.value&&(t=i.name+"!"+KF(r,l),e.findCollection.push(t));else if(!e.isCSen&&!e.isEMatch){var f=d.toString().toLowerCase(),m=d.indexOf(e.value)>-1;(f===e.value||d===e.value||m||d===e.value)&&(t=i.name+"!"+KF(r,l),e.findCollection.push(t))}}}}}}},{key:"getModuleName",value:function(){return"workbookfindAndReplace"}}]),e}(),JH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"protectsheetHandler",value:function(e){var t=this.parent.getActiveSheet();t.protectSettings.selectCells=e.selectCells,t.protectSettings.formatCells=e.formatCells,t.protectSettings.formatColumns=e.formatColumns,t.protectSettings.formatRows=e.formatRows,t.protectSettings.insertLink=e.insertLink,this.parent.notify("protectSheet",t.protectSettings),this.parent.notify("updateToggleItem",{props:"Protect"})}},{key:"unprotectsheetHandler",value:function(e){var t=this.parent.getActiveSheet();e.sheet&&(t=this.parent.sheets[e.sheet]),t.protectSettings.formatCells=t.protectSettings.formatColumns=!1,t.protectSettings.formatRows=t.protectSettings.selectCells=!1,t.isProtected=!1,this.parent.notify("protectSheet",t.protectSettings),this.parent.notify("updateToggleItem",{props:"Protect"})}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("protectsheetHandler",this.protectsheetHandler,this),this.parent.on("unprotectsheetHandler",this.unprotectsheetHandler,this),this.parent.on("setLockCells",this.lockCells,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("protectsheetHandler",this.protectsheetHandler),this.parent.off("setLockCells",this.lockCells),this.parent.off("protectsheetHandler",this.unprotectsheetHandler))}},{key:"lockCells",value:function(e){for(var t,n=this.parent.getActiveSheet(),i="object"==typeof(t=e?e.range:n.selectedRange)?t:eH(YF(t)),a=i[0];a<=i[2];a++)for(var r=i[1];r<=i[3];r++)this.parent.getActiveSheet().id===n.id&&this.parent.notify("applyLockCells",{rowIdx:a,colIdx:r,isLocked:e.isLocked})}},{key:"getModuleName",value:function(){return"workbookProtectSheet"}}]),e}(),QH=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"merge",value:function(e){e.isAction&&(this.parent.notify("actionBegin",{eventArgs:e,action:"merge"}),e.model||(e.model=[])),"string"==typeof e.range&&(e.range=YF(e.range)),e.range=eH(e.range);var t=this.parent.getActiveSheet();e.skipChecking||this.mergedRange(e),e.merge&&"All"!==e.type?"Horizontally"===e.type?this.mergeHorizontally(e):"Vertically"===e.type&&this.mergeVertically(e):(this.mergeAll(e),e.refreshRibbon&&this.parent.notify("activeCellChanged",null)),this.parent.setUsedRange(e.range[2],e.range[3]),e.isAction&&this.parent.notify("actionComplete",{eventArgs:e,action:"merge"}),this.parent.notify("selectRange",{indexes:YF(t.selectedRange),skipChecking:!0})}},{key:"mergeAll",value:function(e){var t,n,i,a=0;e.range=e.range;for(var r,s=this.parent.getActiveSheet(),l=e.range[0];l<=e.range[2];l++){n=0,e.isAction&&e.model.push({cells:[]});for(var o=e.range[1];o<=e.range[3];o++){if((t=mB(l,o,s))&&(t.value||t.formula)&&!i&&(i=t.formula||t.value),e.isAction&&e.merge&&(e.model[l-e.range[0]].cells[o-e.range[1]]={},Object.assign(e.model[l-e.range[0]].cells[o-e.range[1]],t)),s.rows[l]&&s.rows[l].cells&&s.rows[l].cells[o]&&(delete s.rows[l].cells[o].rowSpan,delete s.rows[l].cells[o].colSpan,!e.merge&&!e.isAction&&e.model&&e.model[l-e.range[0]]&&e.model[l-e.range[0]].cells[o-e.range[1]]&&e.model[l-e.range[0]].cells[o-e.range[1]]!=={}&&gB(l,o,s,e.model[l-e.range[0]].cells[o-e.range[1]])),e.merge){if(t=new Object,l===e.range[0]&&o===e.range[1]){e.range[3]-e.range[1]>0&&(t.colSpan=e.range[3]-e.range[1]+1),e.range[2]-e.range[0]>0&&(t.rowSpan=e.range[2]-e.range[0]+1),gB(e.range[0],e.range[1],s,t,!0);continue}l!==e.range[0]&&(t.rowSpan=-a),o!==e.range[1]&&(n++,t.colSpan=-n),s.rows[l]&&s.rows[l].cells&&s.rows[l].cells[o]&&(delete s.rows[l].cells[o].value,delete s.rows[l].cells[o].formula),r=mB(l,o,s)||{},gB(l,o,s,Object.assign(t,r))}e.preventRefresh||this.parent.notify("applyMerge",{rowIdx:l,colIdx:o})}a++}e.merge&&(t=this.getCellValue(e.range[0],e.range[1],i),gB(e.range[0],e.range[1],s,t,!0),e.preventRefresh||this.parent.notify("applyMerge",{rowIdx:e.range[0],colIdx:e.range[1]}))}},{key:"mergeHorizontally",value:function(e){var t,n;e.range=e.range;for(var i,a,r,s=this.parent.getActiveSheet(),l=e.range[0];l<=e.range[2];l++){t=0,e.isAction&&e.model.push({cells:[]});for(var o=e.range[1];o<=e.range[3];o++){if(r=mB(l,o,s),n=new Object,e.isAction&&(e.model[l-e.range[0]].cells[o-e.range[1]]={},Object.assign(e.model[l-e.range[0]].cells[o-e.range[1]],r)),o===e.range[1]){if(l===e.range[0])continue;a=l-1,s.rows[a]&&s.rows[a].cells&&s.rows[a].cells[o]&&delete s.rows[a].cells[o].rowSpan,n=this.getCellValue(a,o,i),e.range[3]-e.range[1]>0&&(n.colSpan=e.range[3]-e.range[1]+1),i=null,gB(a,o,s,n,!0)}else r&&(r.value||r.formula)&&!i&&(i=r.formula||r.value),a=l,s.rows[a]&&s.rows[a].cells&&s.rows[a].cells[o]&&(delete s.rows[a].cells[o].rowSpan,delete s.rows[a].cells[o].value,delete s.rows[a].cells[o].formula),t++,n.colSpan=-t,gB(a,o,s,n,!0);this.parent.notify("applyMerge",{rowIdx:a,colIdx:o})}}s.rows[e.range[2]]&&s.rows[e.range[2]].cells&&s.rows[e.range[2]].cells[e.range[1]]&&delete s.rows[e.range[2]].cells[e.range[1]].rowSpan,n=this.getCellValue(e.range[2],e.range[1],i),e.range[3]-e.range[1]>0&&(n.colSpan=e.range[3]-e.range[1]+1),gB(e.range[2],e.range[1],s,n,!0),this.parent.notify("applyMerge",{rowIdx:e.range[2],colIdx:e.range[1]})}},{key:"getCellValue",value:function(e,t,n){var i=this.parent.getActiveSheet(),a=new Object,r=mB(e,t,i);return!n||r&&(r.value||r.formula)||(sB(n)?a.formula=n:a.value=n),a}},{key:"mergeVertically",value:function(e){var t=0;e.range=e.range;for(var n,i,a,r,s=this.parent.getActiveSheet(),l=e.range[1];l<=e.range[3];l++)for(var o=e.range[0];o<=e.range[2];o++){if(r=mB(o,l,s),e.isAction&&(void 0===e.model[o-e.range[0]]&&(e.model[o-e.range[0]]={cells:[]}),e.model[o-e.range[0]].cells[l-e.range[1]]={},Object.assign(e.model[o-e.range[0]].cells[l-e.range[1]],r)),o===e.range[0]){if(t=0,l===e.range[1])continue;a=l-1,s.rows[o]&&s.rows[o].cells&&s.rows[o].cells[a]&&delete s.rows[o].cells[a].colSpan,n=this.getCellValue(o,a,i),e.range[2]-e.range[0]>0&&(n.rowSpan=e.range[2]-e.range[0]+1),i=null,gB(o,a,s,n,!0)}else n=new Object,r&&(r.value||r.formula)&&!i&&(i=r.formula||r.value),t++,a=l,s.rows[o]&&s.rows[o].cells&&s.rows[o].cells[a]&&(delete s.rows[o].cells[a].colSpan,delete s.rows[o].cells[a].value,delete s.rows[o].cells[a].formula),n.rowSpan=-t,gB(o,a,s,n,!0);this.parent.notify("applyMerge",{rowIdx:o,colIdx:a})}s.rows[e.range[0]]&&s.rows[e.range[0]].cells&&s.rows[e.range[0]].cells[e.range[3]]&&delete s.rows[e.range[0]].cells[e.range[3]].colSpan,n=this.getCellValue(e.range[0],e.range[1],i),e.range[2]-e.range[0]>0&&(n.rowSpan=e.range[2]-e.range[0]+1),gB(e.range[0],e.range[3],s,n,!0),this.parent.notify("applyMerge",{rowIdx:e.range[0],colIdx:e.range[3]})}},{key:"activeCellRange",value:function(e){e.range=e.range;var t=this.parent.getActiveSheet(),n=mB(e.range[0],e.range[1],t);n&&(!JO(n.rowSpan)&&n.rowSpan<0&&(e.range[0]+=n.rowSpan,e.insertCount&&(e.range[0]-=e.insertCount)),!JO(n.colSpan)&&n.colSpan<0&&(e.range[1]+=n.colSpan,e.insertCount&&(e.range[1]-=e.insertCount)),(n=mB(e.range[0],e.range[1],t))&&(n.rowSpan>1&&(e.range[0]+(n.rowSpan-1)>=e.range[2]||e.insertCount)&&(e.range[2]=e.range[0]+(n.rowSpan-1)),n.colSpan>1&&(e.range[1]+(n.colSpan-1)>=e.range[3]||e.insertCount)&&(e.range[3]=e.range[1]+(n.colSpan-1))))}},{key:"mergedRange",value:function(e){"string"==typeof e.range&&(e.range=YF(e.range)),e.range[0]<=e.range[2]&&e.range[1]<=e.range[3]?this.forward(e):e.range[0]>=e.range[2]&&e.range[1]>=e.range[3]?this.reverse(e):e.range[0]<e.range[2]&&e.range[1]>e.range[3]?this.forwardReverse(e):e.range[0]>e.range[2]&&e.range[1]<e.range[3]&&this.reverseForward(e)}},{key:"forward",value:function(e){e.range=e.range;var t,n,i,a,r=this.parent.getActiveSheet(),s=mB(e.range[0],e.range[1],r),l=t=e.range[0],o=n=e.range[1];if(s&&(!JO(s.rowSpan)&&s.rowSpan<0&&(l=t=e.range[0]+s.rowSpan),!JO(s.colSpan)&&s.colSpan<0&&(o=n=e.range[1]+s.colSpan),(s=mB(l,o,r))&&(s.rowSpan>1&&(t+=s.rowSpan-1,l+(s.rowSpan-1)>=e.range[2]&&(e.range[2]=e.range[0],e.range[2]=l+(s.rowSpan-1))),s.colSpan>1&&(n+=s.colSpan-1,o+(s.colSpan-1)>=e.range[3]&&(e.range[3]=e.range[1],e.range[3]=o+(s.colSpan-1))))),e.range[0]=l,e.range[1]=o,e.range[0]===l&&e.range[1]===o&&e.range[2]===t&&e.range[3]===n&&(e.isActiveCell=!0),!e.skipChecking){for(var u=e.range[1];u<=e.range[3];u++)(s=mB(e.range[2],u,r))&&(l=e.range[2],o=u,!JO(s.colSpan)&&s.colSpan<0&&((o+=s.colSpan)<e.range[1]&&(e.range[1]=o)),!JO(s.rowSpan)&&s.rowSpan<0&&((l+=s.rowSpan)<e.range[0]&&(e.range[0]=l)),(s=mB(l,o,r))&&(s.colSpan>1&&o+(s.colSpan-1)>e.range[3]&&(e.range[3]=o,e.range[3]=o+(s.colSpan-1)),s.rowSpan>1&&l+(s.rowSpan-1)>e.range[2]&&(e.range[2]=l,e.range[2]=l+(s.rowSpan-1))));for(var c=e.range[1];c<=e.range[3];c++)(s=mB(e.range[0],c,r))&&(a=c,i=e.range[0],!JO(s.colSpan)&&s.colSpan<0&&((a+=s.colSpan)<e.range[1]&&(e.range[1]=a)),!JO(s.rowSpan)&&s.rowSpan<0&&((i+=s.rowSpan)<e.range[0]&&(e.range[0]=i)));for(var h=e.range[0];h<=e.range[2];h++)(s=mB(h,e.range[3],r))&&(l=h,o=e.range[3],!JO(s.rowSpan)&&s.rowSpan<0&&((l+=s.rowSpan)<e.range[0]&&(e.range[0]=l)),!JO(s.colSpan)&&s.colSpan<0&&((o+=s.colSpan)<e.range[1]&&(e.range[1]=o)),(s=mB(l,o,r))&&(s.rowSpan>1&&l+(s.rowSpan-1)>e.range[2]&&(e.range[2]=l,e.range[2]=l+(s.rowSpan-1)),s.colSpan>1&&o+(s.colSpan-1)>e.range[3]&&(e.range[3]=o,e.range[3]=o+(s.colSpan-1))))}}},{key:"forwardReverse",value:function(e){var t=this.parent.getActiveSheet();e.range=e.range;var n,i,a,r,s=e.range[1],l=mB(e.range[0],e.range[1],t),o=e.range[0];if(l&&(!JO(l.colSpan)&&l.colSpan<0&&(s+=l.colSpan,e.range[3]>=s&&(e.range[3]=s)),!JO(l.rowSpan)&&l.rowSpan<0&&((o+=l.rowSpan)<e.range[0]&&(e.range[0]=o)),(l=mB(o,s,t))&&(l.rowSpan>1&&o+(l.rowSpan-1)>=e.range[2]&&(e.range[2]=o+(l.rowSpan-1)),l.colSpan>1&&s+(l.colSpan-1)>=e.range[1]&&(e.range[1]=s+(l.colSpan-1)))),e.range[0]=o,!e.skipChecking){for(var u=e.range[3];u<=e.range[1];u++)(l=mB(e.range[2],u,t))&&(i=u,n=e.range[2],!JO(l.rowSpan)&&l.rowSpan<0&&((n+=l.rowSpan)<e.range[0]&&(e.range[0]=n)),!JO(l.colSpan)&&l.colSpan<0&&((i+=l.colSpan)<e.range[3]&&(e.range[3]=i)),(l=mB(n,i,t))&&(l.rowSpan>1&&n+(l.rowSpan-1)>e.range[2]&&(e.range[2]=n+(l.rowSpan-1)),l.colSpan>1&&i+(l.colSpan-1)>e.range[1]&&(e.range[1]=i+(l.colSpan-1))));for(var c=e.range[3];c<=e.range[1];c++)(l=mB(e.range[0],c,t))&&(i=c,a=e.range[0],!JO(l.rowSpan)&&l.rowSpan<0&&((a+=l.rowSpan)<e.range[0]&&(e.range[0]=a)),!JO(l.colSpan)&&l.colSpan<0&&(i+=l.colSpan),(l=mB(a,i,t))&&(l.rowSpan>1&&a+(l.rowSpan-1)>e.range[2]&&(e.range[2]=a+(l.rowSpan-1)),l.colSpan>1&&i+(l.colSpan-1)>e.range[1]&&(e.range[1]=i,e.range[1]=i+(l.colSpan-1))));for(var h=e.range[0];h<=e.range[2];h++)(l=mB(h,e.range[3],t))&&(a=h,r=e.range[3],!JO(l.rowSpan)&&l.rowSpan<0&&((a+=l.rowSpan)<e.range[0]&&(e.range[0]=a)),!JO(l.colSpan)&&l.colSpan<0&&((r+=l.colSpan)<e.range[3]&&(e.range[3]=r)),(l=mB(a,r,t))&&(l.rowSpan>1&&a+(l.rowSpan-1)>e.range[2]&&(e.range[2]=a,e.range[2]=a+(l.rowSpan-1)),l.colSpan>1&&r+(l.colSpan-1)>e.range[1]&&(e.range[1]=r,e.range[1]=r+(l.colSpan-1))))}}},{key:"reverse",value:function(e){e.range=e.range;var t=e.range[1],n=this.parent.getActiveSheet(),i=mB(e.range[0],e.range[1],n),a=e.range[0];i&&(!JO(i.colSpan)&&i.colSpan<0&&(t+=i.colSpan),!JO(i.rowSpan)&&i.rowSpan<0&&(a+=i.rowSpan),e.range[2]>=a&&(e.range[2]=a,e.isActiveCell=!0),e.range[3]>=t?(e.range[3]=t,e.range[2]===a&&(e.isActiveCell=!0)):e.isActiveCell&&(e.isActiveCell=!1),(i=mB(a,t,n))&&(i.rowSpan>1&&a+(i.rowSpan-1)>=e.range[0]&&(e.range[0]=a,e.range[0]=a+(i.rowSpan-1)),i.colSpan>1&&t+(i.colSpan-1)>=e.range[1]&&(e.range[1]=t,e.range[1]=t+(i.colSpan-1))));var r,s,l=e.range[3];if(!e.skipChecking){for(var o=e.range[3];o<=e.range[1];o++)(i=mB(e.range[2],o,n))&&(l=o,a=e.range[2],!JO(i.rowSpan)&&i.rowSpan<0&&((a+=i.rowSpan)<e.range[2]&&(e.range[2]=a)),!JO(i.colSpan)&&i.colSpan<0&&((l+=i.colSpan)<e.range[3]&&(e.range[3]=l)),(i=mB(a,l,n))&&(i.rowSpan>1&&a+(i.rowSpan-1)>e.range[0]&&(e.range[0]=a,e.range[0]=a+(i.rowSpan-1)),i.colSpan>1&&l+(i.colSpan-1)>e.range[1]&&(e.range[1]=l,e.range[1]=l+(i.colSpan-1))));l=e.range[3];for(var u=e.range[3];u<=e.range[1];u++)(i=mB(e.range[0],u,n))&&(l=u,a=e.range[0],!JO(i.colSpan)&&i.colSpan<0&&(l+=i.colSpan),!JO(i.rowSpan)&&i.rowSpan<0&&(a+=i.rowSpan),(i=mB(a,l,n))&&(i.colSpan>1&&l+(i.colSpan-1)>e.range[1]&&(e.range[1]=l,e.range[1]=l+(i.colSpan-1)),i.rowSpan>1&&a+(i.rowSpan-1)>e.range[0]&&(e.range[0]=a,e.range[0]=a+(i.rowSpan-1))));for(var c=e.range[2];c<=e.range[0];c++)(i=mB(c,e.range[3],n))&&(s=c,r=e.range[3],!JO(i.rowSpan)&&i.rowSpan<0&&((s+=i.rowSpan)<e.range[2]&&(e.range[2]=s)),!JO(i.colSpan)&&i.colSpan<0&&((r+=i.colSpan)<e.range[3]&&(e.range[3]=r)),(i=mB(s,r,n))&&(i.rowSpan>1&&s+(i.rowSpan-1)>e.range[0]&&(e.range[0]=s,e.range[0]=s+(i.rowSpan-1)),i.colSpan>1&&r+(i.colSpan-1)>e.range[1]&&(e.range[1]=r,e.range[1]=r+(i.colSpan-1))))}}},{key:"reverseForward",value:function(e){e.range=e.range;var t=this.parent.getActiveSheet(),n=e.range[0],i=e.range[1],a=mB(e.range[0],e.range[1],t);if(a&&(!JO(a.rowSpan)&&a.rowSpan<0&&(n+=a.rowSpan,e.range[2]>=n&&(e.range[2]=n)),!JO(a.colSpan)&&a.colSpan<0&&(i+=a.colSpan),(a=mB(n,i,t))&&(a.rowSpan>1&&n+(a.rowSpan-1)>=e.range[0]&&(e.range[0]=n,e.range[0]=n+(a.rowSpan-1)),a.colSpan>1&&i+(a.colSpan-1)>=e.range[3]&&(e.range[3]=e.range[1],e.range[3]=i+(a.colSpan-1)))),!e.skipChecking){for(var r,s,l,o,u=e.range[3],c=e.range[1];c<=e.range[3];c++)(a=mB(e.range[2],c,t))&&(r=e.range[2],u=c,!JO(a.rowSpan)&&a.rowSpan<0&&((r+=a.rowSpan)<e.range[2]&&(e.range[2]=r)),!JO(a.colSpan)&&a.colSpan<0&&((u+=a.colSpan)<e.range[1]&&(e.range[1]=u)),(a=mB(r,u,t))&&(a.colSpan>1&&u+(a.colSpan-1)>e.range[3]&&(e.range[3]=u+(a.colSpan-1)),a.rowSpan>1&&a.rowSpan-1+r>e.range[0]&&(e.range[0]=a.rowSpan-1+r)));for(var h=e.range[1];h<=e.range[3];h++)(a=mB(e.range[0],h,t))&&(l=h,s=e.range[0],!JO(a.colSpan)&&a.colSpan<0&&((l+=a.colSpan)<e.range[1]&&(e.range[1]=l)),!JO(a.rowSpan)&&a.rowSpan<0&&(s+=a.rowSpan),(a=mB(s,l,t))&&a.rowSpan>1&&s+(a.rowSpan-1)>e.range[0]&&(e.range[0]=s+(a.rowSpan-1)));for(var d=e.range[2];d<=e.range[0];d++)(a=mB(d,e.range[3],t))&&(r=d,o=e.range[3],!JO(a.rowSpan)&&a.rowSpan<0&&((r+=a.rowSpan)<e.range[2]&&(e.range[2]=r)),!JO(a.colSpan)&&a.colSpan<0&&((o+=a.colSpan)<e.range[1]&&(e.range[1]=o)),(a=mB(r,o,t))&&(a.rowSpan>1&&a.rowSpan-1+r>e.range[0]&&(e.range[0]=a.rowSpan-1+r),a.colSpan>1&&a.colSpan-1+o>e.range[3]&&(e.range[3]=o,e.range[3]=a.colSpan-1+o)))}}},{key:"insertHandler",value:function(e){this.activeCellRange(e),e.range=e.range,"Row"===e.insertModel?e.range[2]+=e.insertCount:e.range[3]+=e.insertCount,e.preventRefresh=!0,e.merge=!0,this.mergeAll(e)}},{key:"pasteHandler",value:function(e){for(var t,n,i,a=this.parent.getActiveSheet(),r=GF(a.activeCell),s=e.range[0],l=0;s<=e.range[2];s++,l++)for(var o=e.range[1],u=0;o<=e.range[3];o++,u++){if((t=mB(s,o,e.prevSheet)||{}).rowSpan>1&&(i=mB(r[0]+(t.rowSpan-1),r[1],a)||{},n=mB(r[0]+1,r[1],a)||{},void 0!==i.colSpan&&i.colSpan<0||void 0!==n.colSpan&&n.colSpan<0))return e.cancel=!0,void this.parent.notify("applyMerge",{showDialog:!0});if(t.colSpan>1&&(i=mB(r[0],r[1]+(t.colSpan-1),a)||{},n=mB(r[0],r[1]+1,a)||{},void 0!==i.rowSpan&&i.rowSpan<0||void 0!==n.rowSpan&&n.rowSpan<0))return e.cancel=!0,void this.parent.notify("applyMerge",{showDialog:!0})}}},{key:"addEventListener",value:function(){this.parent.on(cH,this.merge,this),this.parent.on("mergedRange",this.mergedRange,this),this.parent.on("activeCellMergedRange",this.activeCellRange,this),this.parent.on("insertMerge",this.insertHandler,this),this.parent.on("pasteMerge",this.pasteHandler,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off(cH,this.merge),this.parent.off("mergedRange",this.mergedRange),this.parent.off("activeCellMergedRange",this.activeCellRange),this.parent.off("insertMerge",this.insertHandler),this.parent.off("pasteMerge",this.pasteHandler))}},{key:"getModuleName",value:function(){return"workbookmerge"}}]),e}();function eB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.push({member:"workbookBasic",args:[]}),t.push({member:"workbookAll",args:[]}),t.push({member:"dataBind",args:[e]}),t.push({member:"workbookProtectSheet",args:[e]}),e.allowSave&&t.push({member:"workbookSave",args:[e]}),e.allowOpen&&t.push({member:"workbookOpen",args:[e]}),e.allowEditing&&(t.push({member:"workbookEdit",args:[e]}),t.push({member:"workbookFormula",args:[e]})),e.allowNumberFormatting&&t.push({member:"workbookNumberFormat",args:[e]}),e.allowCellFormatting&&t.push({member:"workbookcellformat",args:[e]}),e.allowSorting&&t.push({member:"workbookSort",args:[e]}),e.allowHyperlink&&t.push({member:"workbookHyperlink",args:[e]}),e.allowFiltering&&t.push({member:"workbookFilter",args:[e]}),e.allowFindAndReplace&&t.push({member:"workbookfindAndReplace",args:[e]}),e.allowInsert&&t.push({member:"workbookinsert",args:[e]}),e.allowDelete&&t.push({member:"workbookdelete",args:[e]}),e.allowDataValidation&&t.push({member:"workbookDataValidation",args:[e]}),e.allowMerge&&t.push({member:"workbookmerge",args:[e]}),t}var tB,nB,iB=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},aB=(nB=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),iB([bD("Calibri")],nB.prototype,"fontFamily",void 0),iB([bD("bottom")],nB.prototype,"verticalAlign",void 0),iB([bD("left")],nB.prototype,"textAlign",void 0),iB([bD("0pt")],nB.prototype,"textIndent",void 0),iB([bD("#000000")],nB.prototype,"color",void 0),iB([bD("#ffffff")],nB.prototype,"backgroundColor",void 0),iB([bD("normal")],nB.prototype,"fontWeight",void 0),iB([bD("normal")],nB.prototype,"fontStyle",void 0),iB([bD("11pt")],nB.prototype,"fontSize",void 0),iB([bD("none")],nB.prototype,"textDecoration",void 0),iB([bD("")],nB.prototype,"border",void 0),iB([bD("")],nB.prototype,"borderTop",void 0),iB([bD("")],nB.prototype,"borderBottom",void 0),iB([bD("")],nB.prototype,"borderLeft",void 0),iB([bD("")],nB.prototype,"borderRight",void 0),nB),rB=(tB=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),iB([bD("")],tB.prototype,"name",void 0),iB([bD("")],tB.prototype,"scope",void 0),iB([bD("")],tB.prototype,"comment",void 0),iB([bD("")],tB.prototype,"refersTo",void 0),tB);function sB(e){return e&&"="===e[0]&&e.length>1}var lB="spreadsheetLocale",oB={SortOutOfRangeError:"Select a cell or range inside the used range and try again."};function uB(e,t){return e.rows[t]}function cB(e,t,n){e.rows[t]||(e.rows[t]={}),Object.keys(n).forEach((function(i){e.rows[t][i]=n[i]}))}function hB(e,t){return e.rows[t]&&e.rows[t].hidden}function dB(e,t){return e&&e.rows&&e.rows[t]?e.rows[t].hidden?0:void 0===e.rows[t].height?20:e.rows[t].height:20}function pB(e,t,n){e&&e.rows&&(e.rows[t]||(e.rows[t]={}),e.rows[t].height=n)}function fB(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,a=0;t>i&&(n=t,t=i,i=n);for(var r=t;r<=i;r++)a+=dB(e,r);return a}function mB(e,t,n,i){var a=uB(n,e);if(!a||!a.cells){if(!i)return null;a?n.rows[e].cells=[]:n.rows[e]={cells:[]}}return n.rows[e].cells[t]||null}function gB(e,t,n,i,a){n.rows[e]?n.rows[e].cells||(n.rows[e].cells=[]):n.rows[e]={cells:[]},a&&n.rows[e].cells[t]?ZO(n.rows[e].cells[t],i,null,!0):n.rows[e].cells[t]=i}function vB(e,t){var n={fontFamily:"Calibri",verticalAlign:"bottom",textIndent:"0pt",backgroundColor:"#ffffff",color:"#000000",textAlign:"left",fontSize:"11pt",fontWeight:"normal",fontStyle:"normal",textDecoration:"none",border:"",borderLeft:"",borderTop:"",borderRight:"",borderBottom:""},i={};return Object.keys(t?n:e).forEach((function(t){e[t]!==n[t]&&(i[t]=e[t])})),i}function yB(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=n.getAddressInfo(e),a=i.indices,r=OB(n,i.sheetIndex),s=a[0];s<=a[2];s++)for(var l=a[1];l<=a[3];l++)gB(s,l,r,{wrap:t},!0);n.setProperties({sheets:n.sheets},!0),n.notify("wrapText",{range:a,wrap:t,sheet:r})}function bB(e,t,n,i){return new Promise((function(a,r){var s,l,o,u,c,h,d,p,f;a((o=new Map,u=wB(e,xB(t)),c=OB(e,u),h=JF(t),d=h[0],p=0,f={sheet:c,indexes:h,promise:new Promise((function(e,t){e(void 0)}))},e.notify("updateSheetFromDataSource",f),f.promise.then((function(){for(;d<=h[2];){var t={};for(l=uB(c,d),s=h[1];s<=h[3];){if(n)o instanceof Map&&(o=[]),t[ZF(s+1)]=i?l?kB(e,d,s,u,c):"":l?mB(d,s,c):null,h[3]<s+1&&(t.__rowIndex=(d+1).toString()),o[p.toString()]=t;else{var a={};if(Object.assign(a,l?mB(d,s,c):null),a.colSpan>1&&a.rowSpan>1)for(var r=void 0,f=d,m=d+a.rowSpan;f<m;f++)for(var g=s,v=s+a.colSpan;g<v;g++)f===d&&g===s||(r=new Object,f!==d&&(r.rowSpan=d-f),g!==s&&(r.colSpan=s-g),c.rows[f]&&c.rows[f].cells&&c.rows[f].cells[g]&&(delete c.rows[f].cells[g].value,delete c.rows[f].cells[g].formula),gB(f,g,c,r,!0));else if(a.colSpan>1)for(var y=s+1,b=s+a.colSpan;y<b;y++)gB(d,y,c,{colSpan:s-y},!0),c.rows[d]&&c.rows[d].cells&&c.rows[d].cells[y]&&(delete c.rows[d].cells[y].value,delete c.rows[d].cells[y].formula);else if(a.rowSpan>1)for(var k=d+1,C=d+a.rowSpan;k<C;k++)gB(k,s,c,{rowSpan:d-k},!0),c.rows[k]&&c.rows[k].cells&&c.rows[k].cells[s]&&(delete c.rows[k].cells[s].value,delete c.rows[k].cells[s].formula);if(!i&&hB(c,d)){d++;continue}if(!i&&jB(c,s)){s++;continue}if(a.style){var w={};Object.assign(w,a.style),a.style=w}var _={cell:a,address:KF(d,s)};e.trigger("queryCellInfo",_),o.set(_.address,_.cell)}s++}d++,p++}return o}))))}))}function kB(e,t,n,i,a){var r=mB(t,n,a);if(r){if(r.format){var s={value:e.getDisplayText(r),rowIndex:t,colIndex:n,sheetIndex:i,dateObj:"",isDate:!1,isTime:!1};return e.notify("checkDateFormat",s),s.isDate?s.dateObj:r.value}return r.value}return""}function CB(e,t,n){for(var i,a,r=0,s=e.length,l=0;l<s;l++){if(JO(e[l])||QO(e[l].index)||(a=r=e[l].index-l,delete e[l].index),r>0){for(i=0;r--;)t?(n.createSheet(l+i),i++):e.splice(l,0,null);l+=a,s+=a}t&&function(){e[l].id<1&&(e[l].id=AB(n.sheets)),e[l].name||(e[l].name="Sheet"+IB(n));var t=0;e[l].rows.forEach((function(e){t=Math.max(t,e&&e.cells&&e.cells.length-1||0)})),e[l].usedRange={rowIndex:e[l].rows.length-1,colIndex:t}}()}}function wB(e,t){if(JO(t))return e.activeSheetIndex;if("number"==typeof t)return t;for(var n,i=0;i<e.sheets.length;i++)if(e.sheets[i].name.toLowerCase()===t.toLowerCase()){n=i;break}return n}function _B(e,t){for(var n,i=0;i<e.sheets.length;i++)if(e.sheets[i].id===t){n=i;break}return n}function xB(e){return e.split("!")[0].replace(/\'/gi,"")}function SB(e,t,n){for(var i=n.length,a=0;a<i;a++)if(n[a].sheet.toUpperCase()===t.toUpperCase())return n[a].index;return-1}function EB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.selectedRange=t}function OB(e,t){return e.sheets[wB(e,t)||0]}function IB(e){var t=[];e.sheets.forEach((function(e){t.push(e.name.toLowerCase())}));for(var n=0;n<t.length;n++){if(!(t.indexOf("sheet"+e.sheetNameCount)>-1))return e.sheetNameCount++;e.sheetNameCount++}return e.sheetNameCount++}function AB(e){var t=0;return e.forEach((function(e){t=Math.max(e.id,t)})),t+1}function DB(e,t){var n=t||e.sheets;n.forEach((function(e){var t,n;e.id=e.id||0,e.name=e.name||"",e.rowCount=QO(e.rowCount)?100:e.rowCount,e.colCount=QO(e.colCount)?100:e.colCount,e.topLeftCell=e.topLeftCell||"A1",e.activeCell=e.activeCell||"A1",e.selectedRange=e.selectedRange||"A1",e.usedRange=e.usedRange||{rowIndex:0,colIndex:0},e.ranges=e.ranges?((t=e.ranges).forEach((function(e){e.startCell=e.startCell||"A1",e.address=e.address||"A1",e.template=e.template||"",e.showFieldAsHeader=!!QO(e.showFieldAsHeader)||e.showFieldAsHeader})),t):[],e.rows=e.rows||[],e.columns=e.columns||[],e.showHeaders=!!QO(e.showHeaders)||e.showHeaders,e.showGridLines=!!QO(e.showGridLines)||e.showGridLines,e.state=e.state||"Visible",e.maxHgts=[],e.protectSettings=e.protectSettings||{selectCells:!1,formatCells:!1,formatRows:!1,formatColumns:!1,insertLink:!1},e.isProtected=e.isProtected||!1,CB(e.columns),(n=e.rows).forEach((function(e){e&&e.cells&&CB(e.cells)})),CB(n)})),CB(n,!0,e)}function MB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activeSheetIndex;return OB(e,t).name}var TB,PB,LB=function(){function e(){_classCallCheck(this,e),this.services={}}return _createClass(e,[{key:"getService",value:function(e){if(JO(this.services[e]))throw"The service ".concat(e," is not registered");return this.services[e]}},{key:"register",value:function(e,t){JO(this.services[e])&&(this.services[e]=t)}}]),e}(),NB=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},RB=(PB=TB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).sheetNameCount=1,i.isOpen=!1,TB.Inject(fH,SH,xH,hH,WH,YH,zH,qH,GH,UH,XH,ZH,$H,JH,QH),i.commonCellStyle={},e&&e.cellStyle&&(i.commonCellStyle=e.cellStyle),"workbook"===i.getModuleName()&&(i.serviceLocator=new LB,i.initWorkbookServices(),i.dataBind(),i.initEmptySheet()),i}return _createClass(n,[{key:"preRender",value:function(){Object.keys(this.commonCellStyle).length||(this.commonCellStyle=vB(this.cellStyle,!0)),"spreadsheet"!==this.getModuleName()||this.refreshing||this.initEmptySheet()}},{key:"initWorkbookServices",value:function(){this.serviceLocator.register(lB,new tM(this.getModuleName(),oB,this.locale))}},{key:"render",value:function(){}},{key:"requiredModules",value:function(){return eB(this)}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"cellFormat",value:function(e,t){var n=this.getActiveSheet();this.notify(lH,{style:e,range:t=t||n.selectedRange,refreshRibbon:t.indexOf(n.activeCell)>-1})}},{key:"lockCells",value:function(e,t){var n=this.getActiveSheet();this.notify("setLockCells",{range:e=e||n.selectedRange,isLocked:t})}},{key:"getCellStyleValue",value:function(e,t){var n=this,i=mB(t[0],t[1],this.getActiveSheet()),a={};return e.forEach((function(e){a[e]=n.cellStyle[e],i&&i.style&&i.style[e]&&(a[e]=i.style[e])})),a}},{key:"numberFormat",value:function(e,t){this.notify("applyNumber",{format:e,range:t})}},{key:"createSheet",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.sheets.length,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[{}];(e=this.sheets).splice.apply(e,[t,0].concat(_toConsumableArray(n))),DB(this,n),this.notify("sheetCreated",{sheetIndex:t||0,sheets:n}),this.notify(oH,{action:"registerSheet",sheetIndex:t||0,sheetCount:t+n.length})}},{key:"removeSheet",value:function(e){this.sheets.splice(e,1)}},{key:"destroy",value:function(){this.notify("workbookDestroyed",null),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"cellStyle":$O(this.commonCellStyle,vB(e.cellStyle));break;case"sheets":DB(this)}}},{key:"appendTo",value:function(e){_get(_getPrototypeOf(n.prototype),"appendTo",this).call(this,e)}},{key:"hideRow",value:function(e,t,n,i){JO(n)&&(n=!0),JO(t)&&(t=e);for(var a=OB(this,i),r=e;r<=t;r++)cB(a,r,{hidden:n})}},{key:"hideColumn",value:function(e,t,n,i){JO(t)&&(t=e),JO(n)&&(n=!0);for(var a=OB(this,i),r=e;r<=t;r++)HB(a,r,{hidden:n})}},{key:"setBorder",value:function(e,t,n){this.notify(lH,{style:e,borderType:n,range:t||this.getActiveSheet().selectedRange})}},{key:"insertRow",value:function(e,t,n){n=wB(this,n)||0,this.notify("insertModel",{model:this.sheets[n],start:e,end:t,modelType:"Row",sheet:n})}},{key:"insertColumn",value:function(e,t,n){n=wB(this,n)||0,this.notify("insertModel",{model:this.sheets[n],start:e,end:t,modelType:"Column",sheet:n})}},{key:"insertSheet",value:function(e,t){this.notify("insertModel",{model:this,start:e,end:t,modelType:"Sheet"})}},{key:"delete",value:function(e,t,n,i){i=wB(this,i)||0,this.notify("deleteModel",{model:n&&"Sheet"!==n?this.sheets[i]:this,sheet:i,start:e||0,end:JO(t)?e||0:t,modelType:n||"Sheet"})}},{key:"merge",value:function(e,t){e=e||this.getActiveSheet().selectedRange,this.notify(cH,{merge:!0,range:e,type:t||"All",refreshRibbon:e.indexOf(this.getActiveSheet().activeCell)>-1})}},{key:"unMerge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getActiveSheet().selectedRange;this.notify(cH,{merge:!1,range:e,type:"All",refreshRibbon:e.indexOf(this.getActiveSheet().activeCell)>-1})}},{key:"computeExpression",value:function(e){var t={action:"computeExpression",formula:e};return this.notify(oH,t),t.calcValue}},{key:"initEmptySheet",value:function(){this.sheets.length?DB(this):this.createSheet()}},{key:"getActiveSheet",value:function(){return this.sheets[this.activeSheetIndex]}},{key:"setUsedRange",value:function(e,t,n){var i=OB(this,n);e>i.usedRange.rowIndex&&(i.usedRange.rowIndex=e,this.notify("updateUsedRange",{index:e,update:"row"})),t>i.usedRange.colIndex&&(i.usedRange.colIndex=t,this.notify("updateUsedRange",{index:t,update:"col"}))}},{key:"getData",value:function(e){return bB(this,e)}},{key:"getModuleName",value:function(){return"workbook"}},{key:"getValueRowCol",value:function(e,t,n){var i={action:"getSheetInfo",sheetInfo:[]};if(this.notify(oH,i),-1===SB(0,"Sheet"+(e+1),i.sheetInfo)){var a={action:"getReferenceError",refError:""};return this.notify(oH,a),a.refError}var r=mB(t-1,n-1,OB(this,e=_B(this,e+1)));return r&&r.value||""}},{key:"setValueRowCol",value:function(e,t,n,i){e=_B(this,e),this.notify("workbookEditOperation",{action:"updateCellValue",address:[n-1,i-1],value:t,sheetIndex:e,isValueOnly:!0})}},{key:"open",value:function(e){this.notify("workbookOpen",e)}},{key:"openFromJson",value:function(e){this.isOpen=!0;var t="object"==typeof e.file?JSON.stringify(e.file):e.file;this.notify("workbookOpen",{jsonObject:t})}},{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.allowSave){var t=Object.assign({},{url:this.saveUrl,fileName:e.fileName||"Sample",saveType:"Xlsx"},e,{customParams:{},isFullPost:!0,needBlobData:!1,cancel:!1});this.trigger("beforeSave",t),this.notify(CH,{eventArgs:t,action:"beforeSave"}),t.cancel||this.notify("beginSave",{saveSettings:t,isFullPost:t.isFullPost,needBlobData:t.needBlobData,customParams:t.customParams})}}},{key:"saveAsJson",value:function(){var e=this;return new Promise((function(t){e.on("onSave",(function(n){n.cancel=!0,e.off("onSave"),t({jsonObject:{Workbook:n.jsonObject}}),e.notify("saveCompleted",n)})),e.save()}))}},{key:"addHyperlink",value:function(e,t){this.notify("setLinkModel",{hyperlink:e,cell:t})}},{key:"findHandler",value:function(e){"next"===e.findOpt?this.notify("findNext",e):"prev"===e.findOpt&&this.notify("findPrevious",e)}},{key:"replaceHandler",value:function(e){this.notify("replace"===e.replaceBy?"replace":"replaceAll",e)}},{key:"protectSheet",value:function(e,t){this.notify("protectsheetHandler",t)}},{key:"unprotectSheet",value:function(e){this.notify("unprotectsheetHandler",{sheet:e})}},{key:"sort",value:function(e,t){if(!this.allowSorting)return Promise.reject();var n={args:{range:t||this.getActiveSheet().selectedRange,sortOptions:e||{sortDescriptors:{}},cancel:!1},promise:new Promise((function(e,t){e(void 0)}))};return this.notify("initiateSort",n),n.promise}},{key:"addDataValidation",value:function(e,t){var n={range:t=t||this.getActiveSheet().selectedRange,type:e.type,operator:e.operator,value1:e.value1,value2:e.value2,ignoreBlank:e.ignoreBlank,inCellDropDown:e.inCellDropDown,cancel:!1};this.notify(CH,{eventArgs:n,action:"validation"}),n.cancel||(t=n.range,e.type=n.type,e.operator=n.operator,e.value1=n.value1,e.value2=n.value2,e.ignoreBlank=n.ignoreBlank,e.inCellDropDown=n.inCellDropDown,this.notify("setValidation",{rules:e,range:t}),delete n.cancel,this.notify(kH,{eventArgs:n,action:"validation"}))}},{key:"removeDataValidation",value:function(e){this.notify("removeValidation",{range:e})}},{key:"addInvalidHighlight",value:function(e){this.notify("addHighlight",{range:e})}},{key:"removeInvalidHighlight",value:function(e){this.notify("removeHighlight",{range:e})}},{key:"updateCell",value:function(e,t){var n,i=JF(t);t.includes("!")?void 0===(n=wB(this,t.split("!")[0]))&&(n=this.activeSheetIndex):n=this.activeSheetIndex,gB(i[0],i[1],this.sheets[n],e,!0),e.value&&this.notify("workbookEditOperation",{action:"updateCellValue",address:i,value:e.value,sheetIndex:n})}},{key:"wrap",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];yB(e,t,this)}},{key:"addDefinedName",value:function(e){var t={action:"addDefinedName",isAdded:!1,definedName:e};return this.notify(oH,t),t.isAdded}},{key:"removeDefinedName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={action:"removeDefinedName",isRemoved:!1,definedName:e,scope:t};return this.notify(oH,n),n.isRemoved}},{key:"clearRange",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!function(e,t,n,i){for(var a,r,s=OB(e,n),l=JF(t),o=l[0],u=l[2];o<=u;o++)for(a=l[1],r=l[3];a<=r;a++){var c=mB(o,a,s);!JO(c)&&i&&(delete c.value,JO(c.formula)||delete c.formula)}}(this,e||this.getActiveSheet().selectedRange,JO(t)?this.activeSheetIndex:t,n)}},{key:"filter",value:function(e,t){if(!this.allowFiltering)return Promise.reject();var n={args:{range:t||this.getActiveSheet().selectedRange,filterOptions:e,cancel:!1},promise:new Promise((function(e,t){e(void 0)}))};return this.notify("initiateFilter",n),n.promise}},{key:"clearFilter",value:function(){this.notify("clearAllFilter",null)}},{key:"addCustomFunction",value:function(e,t){t=t||("string"==typeof e?e:e.name.replace("bound ","")),this.notify(oH,{action:"addCustomFunction",functionHandler:e,functionName:t})}},{key:"getDisplayText",value:function(e){if(!e)return"";if(e.value&&e.format){var t={formattedText:e.value,value:e.value,format:e.format,onLoad:!0};return this.notify("getFormattedCell",t),t.formattedText}return!e.value&&e.hyperlink?"string"==typeof e.hyperlink?e.hyperlink:e.hyperlink.address:e.value?e.value.toString():""}},{key:"getAddressInfo",value:function(e){return function(e,t){return{sheetIndex:t.indexOf("!")>-1?wB(e,xB(t)):e.activeSheetIndex,indices:JF(t)}}(this,e)}}]),n}(zD),NB([bD([])],PB.prototype,"sheets",void 0),NB([bD(0)],PB.prototype,"activeSheetIndex",void 0),NB([bD("100%")],PB.prototype,"height",void 0),NB([bD(!0)],PB.prototype,"allowFindAndReplace",void 0),NB([bD("100%")],PB.prototype,"width",void 0),NB([bD(!0)],PB.prototype,"showRibbon",void 0),NB([bD(!0)],PB.prototype,"showFormulaBar",void 0),NB([bD(!0)],PB.prototype,"showSheetTabs",void 0),NB([bD(!0)],PB.prototype,"allowEditing",void 0),NB([bD(!0)],PB.prototype,"allowOpen",void 0),NB([bD(!0)],PB.prototype,"allowSave",void 0),NB([bD(!0)],PB.prototype,"allowSorting",void 0),NB([bD(!0)],PB.prototype,"allowFiltering",void 0),NB([bD(!0)],PB.prototype,"allowNumberFormatting",void 0),NB([bD(!0)],PB.prototype,"allowCellFormatting",void 0),NB([bD(!0)],PB.prototype,"allowHyperlink",void 0),NB([bD(!0)],PB.prototype,"allowInsert",void 0),NB([bD(!0)],PB.prototype,"allowDelete",void 0),NB([bD(!0)],PB.prototype,"allowMerge",void 0),NB([bD(!0)],PB.prototype,"allowDataValidation",void 0),NB([kD({},aB)],PB.prototype,"cellStyle",void 0),NB([bD("")],PB.prototype,"openUrl",void 0),NB([bD("")],PB.prototype,"saveUrl",void 0),NB([CD([],rB)],PB.prototype,"definedNames",void 0),NB([wD()],PB.prototype,"beforeOpen",void 0),NB([wD()],PB.prototype,"openFailure",void 0),NB([wD()],PB.prototype,"beforeSave",void 0),NB([wD()],PB.prototype,"saveComplete",void 0),NB([wD()],PB.prototype,"beforeCellFormat",void 0),NB([wD()],PB.prototype,"queryCellInfo",void 0),PB=TB=NB([_D],PB));function FB(e,t){return e.columns?e.columns[t]||(e.columns[t]={}):(e.columns=[],e.columns[t]={}),e.columns[t]}function HB(e,t,n){var i=FB(e,t);Object.keys(n).forEach((function(e){i[e]=n[e]}))}function BB(e,t,n){return e&&e.columns&&e.columns[t]?!n&&e.columns[t].hidden?0:e.columns[t].width||e.columns[t].customWidth?e.columns[t].width:64:64}function VB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=0;if(t>n){var a=t;t=n,n=a}for(var r=t;r<=n;r++)i+=BB(e,r);return i}function jB(e,t){return e.columns[t]&&e.columns[t].hidden}function zB(e){requestAnimationFrame((function(){e()}))}function qB(e,t){for(;e.firstChild;)e.removeChild(e.firstChild)}function UB(e){var t=30;return e.toString().length>3&&(t=10*e.toString().length),t}var WB=null,YB=["e-ribbon","e-formula-bar-panel","e-sheet-tab-panel","e-header-toolbar"];function GB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YB;return XB(e,"previous",t)+XB(e,"next",t)}function XB(e,t,n){for(var i=e[t+"ElementSibling"],a=0;i;)n.some((function(e){return i.classList.contains(e)}))&&(a+=i.offsetHeight),i=i[t+"ElementSibling"];return a}function KB(e,t,n){if(e.scrollSettings.enableVirtualization){var i=e.viewport.topIndex,a=e.viewport.leftIndex,r=i+e.viewport.rowCount+2*e.getThreshold("row"),s=a+e.viewport.colCount+2*e.getThreshold("col"),l=i<=t[0]&&r>=t[2]&&a<=t[1]&&s>=t[3];if(l)return!0;if(n){if(t[0]<i&&t[2]<i||t[0]>r&&t[2]>r)return!1;if(t[0]<i&&t[2]>i&&(t[0]=i,l=!0),t[2]>r&&(t[2]=r,l=!0),t[1]<a&&t[3]<a||t[1]>s&&t[3]>s)return!1;t[1]<a&&t[3]>a&&(t[1]=a,l=!0),t[3]>s&&(t[3]=s,l=!0)}return l}return!0}function $B(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:{idx:0,size:0},top:{idx:0,size:0}},a=i.top.size,r=i.left.size;for(n=t[0];n<i.top.idx;n++)a-=fB(e,n);for(n=i.top.idx;n<t[0];n++)a+=fB(e,n);for(n=t[1];n<i.left.idx;n++)r-=VB(e,n);for(n=i.left.idx;n<t[1];n++)r+=VB(e,n);return{top:a,left:r}}function ZB(e,t,n,i,a){var r,s=eH(t),l=$B(n,s,a),o=[bV(n,0,!0),bV(n,0,!0,"columns")],u={top:(s[0]===o[0]?l.top:l.top-1)+"px",height:fB(n,t[0],t[2])+(s[0]===o[0]?0:1)+"px",width:VB(n,t[1],t[3])+(s[1]===o[1]?0:1)+"px"};u[i?"right":"left"]=(s[1]===o[1]?l.left:l.left-1)+"px",r=[{element:e,attrs:u}],requestAnimationFrame((function(){r.forEach((function(e){iD(e.element,e.attrs)}))}))}function JB(){return KI.isPointer?"pointerdown":"mousedown touchstart"}function QB(){return KI.isPointer?"pointermove":"mousemove touchmove"}function eV(){return KI.isPointer?"pointerup":"mouseup touchend"}function tV(e){return"touchstart"===e.type||"pointerdown"===e.type&&"touch"===e.pointerType}function nV(e){return"touchmove"===e.type||"pointermove"===e.type&&"touch"===e.pointerType}function iV(e){return"touchend"===e.type||"pointerup"===e.type&&"touch"===e.pointerType}function aV(e){return e.changedTouches?e.changedTouches[0].clientX:e.clientX}function rV(e){return e.changedTouches?e.changedTouches[0].clientY:e.clientY}var sV={role:"role",selected:"aria-selected",multiselectable:"aria-multiselectable",busy:"aria-busy",colcount:"aria-colcount"};function lV(e,t){Object.keys(t).forEach((function(n){e&&e.setAttribute(sV[n],t[n])}))}function oV(e,t,n,i){var a,r,s,l,o,u,c,h;if(i.getActiveSheet(),n)a=i.element.getElementsByClassName("e-column-header")[0].getElementsByTagName("th")[e],r=i.element.getElementsByClassName("e-column-header")[0].getElementsByTagName("col")[e],s=i.element.getElementsByClassName("e-sheet-content")[0].getElementsByTagName("col")[e];else{a=i.element.getElementsByClassName("e-row-header")[0].getElementsByTagName("tr")[e],r=i.element.getElementsByClassName("e-row-header")[0].getElementsByTagName("tr")[e],s=i.element.getElementsByClassName("e-sheet-content")[0].getElementsByTagName("tr")[e],r.style.height=parseInt(t,10)>0?t:"2px",s.style.height=parseInt(t,10)>0?t:"0px";var d=i.getRowHeaderContent().getElementsByClassName("e-row"),p=[];p[0]=d[e].getElementsByTagName("td")[0].cloneNode(!0);for(var f=cV(i.getRowHeaderTable(),p,!1,i)+1,m=i.getMainContent().getElementsByClassName("e-row"),g=[],v=0;v<m[e].getElementsByTagName("td").length;v++)g[v]=m[e].getElementsByTagName("td")[v].cloneNode(!0);var y=cV(i.getContentTable(),g,!1,i)+1,b=f>=y?f:y;parseInt(s.style.height,10)<b||a.classList.contains("e-reach-fntsize")&&parseInt(s.style.height,10)===b?(a.classList.add("e-reach-fntsize"),r.style.lineHeight=parseInt(t,10)>=4?parseInt(t,10)-4+"px":parseInt(t,10)>0?parseInt(t,10)-1+"px":"0px",s.style.lineHeight=parseInt(t,10)>0?parseInt(t,10)-1+"px":"0px"):(r.style.removeProperty("line-height"),s.style.removeProperty("line-height"),a.classList.contains("e-reach-fntsize")&&a.classList.remove("e-reach-fntsize"))}if(l=a.previousElementSibling,c=a.nextElementSibling,l&&(l=a.previousElementSibling,o=r.previousElementSibling,u=s.previousElementSibling),c&&(c=a.nextElementSibling,h=r.nextElementSibling,s.nextElementSibling),parseInt(t,10)<=0&&!a.classList.contains("e-zero")&&!a.classList.contains("e-zero-start")){if(l&&c)if(n?(r.style.width="2px",s.style.width="0px"):(r.style.height="2px",s.style.height="0px"),l.classList.contains("e-zero-start")?(a.classList.add("e-zero-start"),s.classList.add("e-zero-start")):(a.classList.add("e-zero"),s.classList.add("e-zero")),c.classList.contains("e-zero")||c.classList.contains("e-zero-last")||(a.classList.add("e-zero-last"),s.classList.add("e-zero-last")),l.classList.contains("e-zero-last")&&(l.classList.remove("e-zero-last"),u.classList.remove("e-zero-last")),l.classList.contains("e-zero")?(a.classList.contains("e-zero-end"),uV(o,-2,n)):uV(o,-1,n),l.classList.contains("e-zero-start")&&uV(r,-1,n),c.classList.contains("e-zero"))if(a.classList.contains("e-zero-start"))for(;c;){if(c.classList.contains("e-zero")&&0!==parseInt(h.style.height,10)&&!n||0!==parseInt(h.style.width,10)&&n){n?(r.style.width=parseInt(r.style.width,10)-1+"px",h.style.width=parseInt(h.style.width,10)-1+"px"):(r.style.height=parseInt(r.style.height,10)-1+"px",h.style.height=parseInt(h.style.height,10)-1+"px"),c.classList.remove("e-zero"),c.classList.add("e-zero-start");break}var k=void 0;c.classList.remove("e-zero"),c.classList.add("e-zero-start"),n?(k=parseInt(c.getAttribute("aria-colindex"),10)-1,c=i.getColHeaderTable().getElementsByTagName("th")[k+1],h=i.getColHeaderTable().getElementsByTagName("col")[k+1]):(k=parseInt(c.getAttribute("aria-rowindex"),10)-1,c=i.getRowHeaderTable().getElementsByTagName("tr")[k+1],h=i.getRowHeaderTable().getElementsByTagName("tr")[k+1])}else uV(r,-2,n);else c.classList.contains("e-zero-end")?n?r.style.width="0px":r.style.height="0px":uV(h,-1,n);else if(l)n?(r.style.width="1px",s.style.width="0px"):(r.style.height="1px",s.style.height="0px"),a.classList.add("e-zero-end"),s.classList.add("e-zero-end"),a.classList.add("e-zero-last"),s.classList.add("e-zero-last"),l.classList.contains("e-zero")?uV(o,-2,n):uV(o,-1,n);else if(c)if(a.classList.add("e-zero-start"),s.classList.add("e-zero-start"),c.classList.contains("e-zero")||(a.classList.add("e-zero-last"),s.classList.add("e-zero-last")),n?(r.style.width="1px",s.style.width="0px"):(r.style.height="1px",s.style.height="0px"),c.classList.contains("e-zero"))for(;c;){if(c.classList.contains("e-zero")&&0!==parseInt(h.style.width,10)&&n||0!==parseInt(h.style.height,10)&&!n){n?(h.style.width=parseInt(h.style.width,10)-1+"px",r.style.width=parseInt(r.style.width,10)-1+"px"):(h.style.height=parseInt(h.style.height,10)-1+"px",r.style.height=parseInt(r.style.height,10)-1+"px"),c.classList.add("e-zero-start"),c.classList.remove("e-zero");break}var C=void 0;c.classList.add("e-zero-start"),c.classList.remove("e-zero"),n?(C=parseInt(c.getAttribute("aria-colindex"),10)-1,h=i.getColHeaderTable().getElementsByTagName("col")[C+1],c=i.getColHeaderTable().getElementsByTagName("th")[C+1]):(C=parseInt(c.getAttribute("aria-rowindex"),10)-1,h=i.getRowHeaderTable().getElementsByTagName("tr")[C+1],c=i.getRowHeaderTable().getElementsByTagName("tr")[C+1])}else uV(h,-1,n)}else parseInt(t,10)>0&&(n?(r.style.width=t,s.style.width=t):(r.style.height=t,s.style.height=t),l&&c?(l.classList.contains("e-zero")?a.classList.contains("e-zero")?n?(o.style.width=parseInt(o.style.width,10)+2+"px",r.style.width=parseInt(r.style.width,10)-1+"px"):(o.style.height=parseInt(o.style.height,10)+2+"px",r.style.height=parseInt(r.style.height,10)-1+"px"):uV(r,-1,n):a.classList.contains("e-zero")?uV(o,1,n):a.classList.contains("e-zero-start")&&(n?(o.style.width=parseInt(o.style.width,10)+1+"px",r.style.width=parseInt(r.style.width,10)-1+"px"):(o.style.height=parseInt(o.style.height,10)+1+"px",r.style.height=parseInt(r.style.height,10)-1+"px")),c.classList.contains("e-zero")?uV(r,-1,n):(a.classList.contains("e-zero")||a.classList.contains("e-zero-start"))&&uV(h,1,n),a.classList.contains("e-zero")&&a.classList.remove("e-zero"),a.classList.contains("e-zero-start")&&a.classList.remove("e-zero-start"),s.classList.contains("e-zero")&&s.classList.remove("e-zero"),s.classList.contains("e-zero-start")&&s.classList.remove("e-zero-start"),a.classList.contains("e-zero-last")&&a.classList.remove("e-zero-last"),s.classList.contains("e-zero-last")&&s.classList.remove("e-zero-last"),(l.classList.contains("e-zero")||l.classList.contains("e-zero-start"))&&(l.classList.add("e-zero-last"),u.classList.add("e-zero-last"))):l?(l.classList.contains("e-zero")?a.classList.contains("e-zero")?n?(r.style.width=parseInt(r.style.width,10)-1+"px",o.style.width=parseInt(o.style.width,10)+2+"px"):(r.style.height=parseInt(r.style.height,10)-1+"px",o.style.height=parseInt(o.style.height,10)+2+"px"):uV(r,-1,n):a.classList.contains("e-zero")?uV(o,1,n):uV(r,-1,n),a.classList.contains("e-zero")&&a.classList.remove("e-zero"),a.classList.contains("e-zero-end")&&a.classList.remove("e-zero-end"),s.classList.contains("e-zero")&&s.classList.remove("e-zero"),s.classList.contains("e-zero-end")&&s.classList.remove("e-zero-end")):c&&(c.classList.contains("e-zero")?uV(r,-1,n):a.classList.contains("e-zero-start")&&(uV(h,1,n),a.classList.remove("e-zero-start")),a.classList.contains("e-zero")&&a.classList.remove("e-zero"),s.classList.contains("e-zero")&&s.classList.remove("e-zero"),a.classList.contains("e-zero-start")&&a.classList.remove("e-zero-start"),s.classList.contains("e-zero-start")&&s.classList.remove("e-zero-start")))}function uV(e,t,n){n?e.style.width=parseInt(e.style.width,10)+t+"px":e.style.height=parseInt(e.style.height,10)+t+"px"}function cV(e,t,n,i){var a=i.createElement("div",{className:i.element.className}),r=i.createElement("table",{className:e.className+"e-resizetable",styles:"width: auto;height: auto"}),s=i.createElement("tr");n?t.forEach((function(e){var t=s.cloneNode();t.appendChild(e),r.appendChild(t)})):(t.forEach((function(e){s.appendChild(e.cloneNode(!0))})),r.appendChild(s)),a.appendChild(r),document.body.appendChild(a);var l=r.getBoundingClientRect().width,o=r.getBoundingClientRect().height;return document.body.removeChild(a),n?Math.ceil(l):Math.ceil(o)}function hV(e,t,n){var i=e.eventArgs;switch(e.action){case"sorting":var a={args:{range:e.eventArgs.range,sortOptions:e.eventArgs.sortOptions,cancel:!1},promise:new Promise((function(e,t){e(void 0)}))};t.notify("initiateSort",a),a.promise.then((function(e){t.serviceLocator.getService("cell").refreshRange(JF(e.range))}));break;case"cellSave":var r=e.eventArgs;t.updateCell(i.formula?{formula:r.formula}:{value:r.value},r.address);break;case"format":"CellFormat"===i.requestType?t.cellFormat(i.style,i.range):t.numberFormat(i.format,i.range);break;case"clipboard":if(i.copiedInfo.isCut&&!n)return;(i.copiedInfo.isCut?t.cut(i.copiedRange):t.copy(i.copiedRange)).then((function(e){t.paste(i.pastedRange,i.type)}));break;case"gridLines":t.sheets[i.sheetIdx].showGridLines=i.isShow;break;case"headers":t.sheets[i.sheetIdx].showHeaders=i.isShow;break;case"resize":case"resizeToFit":i.isCol?void 0===i.hide?t.setColWidth(i.width,i.index,i.sheetIdx):t.hideColumn(i.index,i.index,i.hide):void 0===i.hide?t.setRowHeight(i.height,i.index,i.sheetIdx):t.hideRow(i.index,i.index,i.hide);break;case"renameSheet":t.sheets[i.index-1].name=i.value;break;case"removeSheet":t.notify("removeSheetTab",{index:i.index,isAction:!0,count:i.sheetCount,clicked:!0});break;case"wrap":yB(e.eventArgs.address,e.eventArgs.wrap,t);break;case"hideShow":i.isCol?t.hideColumn(i.startIndex,i.endIndex,i.hide):t.hideRow(i.startIndex,i.endIndex,i.hide);break;case"replace":t.updateCell({value:i.compareVal},i.address);break;case"insert":!1===n?t.delete(e.eventArgs.index,e.eventArgs.index+(e.eventArgs.model.length-1),e.eventArgs.modelType):t.notify("insertModel",{model:"Sheet"===e.eventArgs.modelType?t:t.getActiveSheet(),start:e.eventArgs.index,end:e.eventArgs.index+(e.eventArgs.model.length-1),modelType:e.eventArgs.modelType,isAction:!1,checkCount:e.eventArgs.sheetCount,activeSheetIndex:e.eventArgs.activeSheetIndex});break;case"delete":!1===n?t.notify("insertModel",{model:"Sheet"===e.eventArgs.modelType?t:t.getActiveSheet(),start:e.eventArgs.deletedModel,modelType:e.eventArgs.modelType,isAction:!1,columnCellsModel:e.eventArgs.deletedCellsModel}):t.delete(e.eventArgs.startIndex,e.eventArgs.endIndex,e.eventArgs.modelType);break;case"validation":n?t.notify("setValidation",{rules:{type:i.type,operator:i.operator,value1:i.value1,value2:i.value2,ignoreBlank:i.ignoreBlank,inCellDropDown:i.inCellDropDown},range:i.range}):t.notify("removeValidation",{range:i.range});break;case"merge":e.eventArgs.isAction=!1,t.notify(cH,e.eventArgs)}}function dV(e,t,n,i){for(var a,r=e.sheets[i].ranges,s=0,l=r.length;s<l;s++)if(r[s].template&&((a=YF(r[s].address.length?r[s].address:r[s].startCell))[0]<=t&&a[1]<=n&&a[2]>=t&&a[3]>=n))return!0;return!1}function pV(e,t,n,i,a,r){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=dB(t,i);(a||e.getRow(i)).style.height="".concat(n,"px"),t.showHeaders&&((r||e.getRow(i,e.getRowHeaderTable())).style.height="".concat(n,"px")),pB(t,i,n),e.setProperties({sheets:e.sheets},!0),s&&e.notify("rowHeightChanged",{rowIdx:i,threshold:n-l})}function fV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t&&t.fontSize||e.cellStyle.fontSize,a=i.indexOf("pt")>-1?1.33*parseInt(i,10):parseInt(i,10);return Math.ceil(a*(t&&"Arial Black"===t.fontFamily?1.44:1.24)*n)}function mV(e,t,n){t||(t=n);var i=document.createElement("canvas").getContext("2d");return i.font=(t.fontStyle||n.fontStyle)+" "+(t.fontWeight||n.fontWeight)+" "+(t.fontSize||n.fontSize)+" "+(t.fontFamily||n.fontFamily),i.measureText(e).width}function gV(e,t,n,i){var a,r=0,s=e.toString().split(" "),l=mV(" ",n,i),o=0;return t-=5,s.forEach((function(e){var s=0,u=0;a=mV(e,n,i),(r+a)/t>=1?(r&&o++,a/t>=1?(e.split("").forEach((function(e){u=mV(e,n,i),(s+=u)>t&&(o++,s=u)})),r=s+l):r=a+l):r+=a+l})),r&&(o+=Math.ceil((r-l)/t)),o}function vV(e,t,n,i){e.maxHgts[t]||(e.maxHgts[t]={}),e.maxHgts[t][n]=i}function yV(e,t){var n=0,i=e.maxHgts[t];return i&&Object.keys(i).forEach((function(e){i[e]>n&&(n=i[e])})),n}function bV(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rows";return t<0&&(t=-1),e[i][t]&&e[i][t].hidden&&(n?t++:t--,t=bV(e,t,n,i)),t}var kV,CV,wV,_V,xV,SV,EV,OV,IV,AV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.init(),this.addEventListener()}return _createClass(e,[{key:"init",value:function(){this.parent.element.appendChild(this.parent.createElement("input",{className:"e-clipboard",attrs:{contenteditable:"true"}}))}},{key:"addEventListener",value:function(){var e=this.getClipboardEle();this.parent.on("cut",this.cut,this),this.parent.on("copy",this.copy,this),this.parent.on("paste",this.paste,this),this.parent.on("clearCopy",this.clearCopiedInfo,this),this.parent.on("tabSwitch",this.tabSwitchHandler,this),this.parent.on(yH,this.cMenuBeforeOpenHandler,this),this.parent.on("ribboClick",this.ribbonClickHandler,this),this.parent.on("contentLoaded",this.initCopyIndicator,this),this.parent.on("rowHeightChanged",this.rowHeightChanged,this),$I.add(e,"cut",this.cut,this),$I.add(e,"copy",this.copy,this),$I.add(e,"paste",this.paste,this)}},{key:"removeEventListener",value:function(){var e=this.getClipboardEle();this.parent.isDestroyed||(this.parent.off("cut",this.cut),this.parent.off("copy",this.copy),this.parent.off("paste",this.paste),this.parent.off("clearCopy",this.clearCopiedInfo),this.parent.off("tabSwitch",this.tabSwitchHandler),this.parent.off(yH,this.cMenuBeforeOpenHandler),this.parent.off("ribboClick",this.ribbonClickHandler),this.parent.off("contentLoaded",this.initCopyIndicator),this.parent.off("rowHeightChanged",this.rowHeightChanged)),$I.remove(e,"cut",this.cut),$I.remove(e,"copy",this.copy),$I.remove(e,"paste",this.paste)}},{key:"ribbonClickHandler",value:function(e){var t=this.parent.element.id;switch(e.item.id){case t+"_cut":this.cut({isAction:!0});break;case t+"_copy":this.copy({isAction:!0})}this.parent.element.focus()}},{key:"tabSwitchHandler",value:function(e){0!==e.activeTab||this.copiedInfo||this.hidePaste()}},{key:"cMenuBeforeOpenHandler",value:function(e){var t=this.parent.getActiveSheet(),n=this.parent.serviceLocator.getService(gj),i=[],a=[],r=[],s=[];"Content"!==e.target&&"RowHeader"!==e.target&&"ColumnHeader"!==e.target||(this.parent.enableContextMenuItems([n.getConstant("Paste"),n.getConstant("PasteSpecial")],!(!this.copiedInfo||t.isProtected)),this.parent.enableContextMenuItems([n.getConstant("Cut")],!t.isProtected)),"Content"===e.target&&t.isProtected&&this.parent.enableContextMenuItems([n.getConstant("Cut"),n.getConstant("Filter"),n.getConstant("Sort")],!1),"Content"===e.target&&t.isProtected&&!t.protectSettings.insertLink&&this.parent.enableContextMenuItems([n.getConstant("Hyperlink")],!1),"ColumnHeader"===e.target&&t.isProtected&&(r=[n.getConstant("DeleteColumn"),n.getConstant("DeleteColumns"),n.getConstant("InsertColumn"),n.getConstant("InsertColumns")],s=[n.getConstant("HideColumn"),n.getConstant("HideColumns"),n.getConstant("UnHideColumns")],this.parent.enableContextMenuItems(r,!1),this.parent.enableContextMenuItems(s,!!t.protectSettings.formatColumns)),"RowHeader"===e.target&&t.isProtected&&(i=[n.getConstant("DeleteRow"),n.getConstant("DeleteRows"),n.getConstant("InsertRow"),n.getConstant("InsertRows")],a=[n.getConstant("HideRow"),n.getConstant("HideRows"),n.getConstant("UnHideRows")],this.parent.enableContextMenuItems(i,!1),this.parent.enableContextMenuItems(a,!!t.protectSettings.formatRows))}},{key:"rowHeightChanged",value:function(e){if(this.copiedInfo&&this.copiedInfo.range[0]>e.rowIdx){var t=this.parent.element.getElementsByClassName("e-copy-indicator")[0];t.style.top="".concat(parseInt(t.style.top,10)+e.threshold,"px")}}},{key:"cut",value:function(e){this.setCopiedInfo(e,!0)}},{key:"copy",value:function(e){this.setCopiedInfo(e,!1)}},{key:"paste",value:function(e){if(this.parent.isEdit&&this.copiedInfo&&e&&e.type)return e.preventDefault(),void document.getElementById(this.parent.element.id+"_edit").focus();var t,n=!this.copiedInfo&&(e&&e.clipboardData||window.clipboardData),i=this.getCopiedIdx(),a=Object.assign({},this.copiedInfo);if(this.copiedInfo||n){var r=e&&e.sIdx>-1?e.sIdx:this.parent.activeSheetIndex,s=OB(this.parent,r),l=eH(e&&e.range||YF(s.selectedRange)),o=n&&this.getExternalCells(e);if(n&&!o.length)return;var u=l[0],c=n?[0,0,o.length-1,o[0].cells.length-1]:eH(this.copiedInfo.range),h=(l[2]-l[0]+1)%(c[2]-c[0]+1)==0&&(l[3]-l[1]+1)%(c[3]-c[1]+1)==0;t=h?l:[l[0],l[1]].concat([l[0]+c[2]-c[0],l[1]+c[3]-c[1]||l[1]]);var d,p,f,m={requestType:"paste",copiedInfo:this.copiedInfo,copiedRange:n?null:$F(c),pastedRange:$F(t),type:e&&e.type||"All",cancel:!1};if((e.isAction||n)&&this.parent.notify(CH,{eventArgs:m,action:"clipboard"}),m.cancel)return;var g=[],v=OB(this.parent,n?r:i);u=(l=YF(m.pastedRange))[0];var y={range:c=n?[0,0,o.length-1,o[0].cells.length-1]:eH(this.copiedInfo.range),prevSheet:v,cancel:!1};if(t=(h=(l[2]-l[0]+1)%(c[2]-c[0]+1)==0&&(l[3]-l[1]+1)%(c[3]-c[1]+1)==0)?l:[l[0],l[1]].concat([l[0]+c[2]-c[0],l[1]+c[3]-c[1]||l[1]]),this.parent.notify("pasteMerge",y),y.cancel)return;for(var b=c[0],k=0;b<=c[2];b++,k++){for(var C=c[1],w=0;C<=c[3];C++,w++){if((d=n?o[b].cells[C]:Object.assign({},mB(b,C,v)))&&e&&e.type){switch(e.type){case"Formats":d={format:d.format,style:d.style};break;case"Values":d={value:d.value}}p=["Formats","Values"].indexOf(e.type)>-1}if(!this.parent.scrollSettings.isFinite&&(c[2]-c[0]>1048575-l[0]||c[3]-c[1]>16383-l[1])||this.parent.scrollSettings.isFinite&&(c[2]-c[0]>s.rowCount-1-l[0]||c[3]-c[1]>s.colCount-1-l[1]))return void this.showDialog();if(h)for(var _=l[0];_<=l[2];_+=c[2]-c[0]+1)for(var x=l[1];x<=l[3];x+=c[3]-c[1]+1){if(void 0!==(f=mB(_+k,x+w,s)||{}).colSpan||void 0!==f.rowSpan){var S={range:(y={range:[_+k,x+w,_+k,x+w]}).range,merge:!1,isAction:!1,type:"All"};g.push(S),this.parent.notify(cH,S)}this.setCell(_+k,x+w,s,d,p)}else dV(this.parent,b,C,i)||this.setCell(u,l[1]+w,s,d,p);!n&&this.copiedInfo.isCut&&this.setCell(b,C,v,null,!1,!0)}u++}if(this.parent.setUsedRange(t[2]+1,t[3]),r===this.parent.activeSheetIndex&&(this.parent.serviceLocator.getService("cell").refreshRange(t),this.parent.notify("selectRange",{indexes:t})),!n&&this.copiedInfo.isCut&&(i===this.parent.activeSheetIndex&&this.parent.serviceLocator.getService("cell").refreshRange(c),this.clearCopiedInfo()),(n||e&&e.isAction)&&this.parent.element.focus(),e.isAction||n){var E=a&&a.sId?_B(this.parent,a.sId):this.parent.activeSheetIndex,O={requestType:"paste",copiedInfo:a,mergeCollection:g,pasteSheetIndex:this.parent.activeSheetIndex,copiedRange:n?null:this.parent.sheets[E].name+"!"+$F(a&&a.range?a.range:YF(this.parent.sheets[E].selectedRange)),pastedRange:MB(this.parent)+"!"+$F(t),type:e&&e.type||"All"};this.parent.notify(kH,{eventArgs:O,action:"clipboard"})}}else this.getClipboardEle().select()}},{key:"setCell",value:function(e,t,n,i,a,r){gB(e,t,n,r?null:i,a),i&&i.formula&&this.parent.notify(oH,{action:"refreshCalculate",value:r?"":i.formula,rowIndex:e,colIndex:t,sheetIndex:this.parent.activeSheetIndex,isFormula:!0}),i&&!i.formula&&this.parent.notify("workbookEditOperation",{action:"updateCellValue",address:[e,t,e,t],value:i.value}),r&&i&&(i.style&&this.parent.notify("applyCellFormat",{style:ZO({},this.getEmptyStyle(i.style),this.parent.commonCellStyle),rowIdx:e,colIdx:t,cell:null,lastCell:null,row:null,hRow:null,isHeightCheckNeeded:!0,manualUpdate:!1}),i.wrap&&this.parent.notify("wrapText",{range:[e,t,e,t],wrap:!1,sheet:n}))}},{key:"getEmptyStyle",value:function(e){var t={};return Object.keys(e).forEach((function(e){t[e]=""})),t}},{key:"getCopiedIdx",value:function(){if(this.copiedInfo){for(var e=0;e<this.parent.sheets.length;e++)if(this.parent.sheets[e].id===this.copiedInfo.sId)return e;this.clearCopiedInfo()}return-1}},{key:"setCopiedInfo",value:function(e,t){var n=this;if(!this.parent.isEdit){var i=new DM;e.promise=i.promise;var a=this.parent.getActiveSheet(),r=e&&e.range||YF(a.selectedRange),s={sheet:a,indexes:[0,0,a.rowCount-1,a.colCount-1],promise:new Promise((function(e,t){e(void 0)}))};!a.isLocalData||e&&e.clipboardData||0!==r[0]||r[2]!==a.rowCount-1||(this.parent.showSpinner(),this.parent.notify("updateSheetFromDataSource",s)),s.promise.then((function(){e&&e.clipboardData||(n.copiedInfo&&n.clearCopiedInfo(),n.copiedInfo={range:r,sId:e&&e.sId?e.sId:a.id,isCut:t},n.hidePaste(!0),n.initCopyIndicator(),KI.isIE||n.getClipboardEle().select(),e&&e.isAction&&document.execCommand(t?"cut":"copy"),n.parent.hideSpinner()),KI.isIE&&n.setExternalCells(e),i.resolve()})),e&&e.clipboardData&&(this.setExternalCells(e),this.parent.element.focus())}}},{key:"clearCopiedInfo",value:function(){this.copiedInfo&&(this.parent.getActiveSheet().id===this.copiedInfo.sId&&ZA(this.parent.getMainContent().getElementsByClassName("e-copy-indicator")[0]),this.copiedInfo=null,this.hidePaste())}},{key:"initCopyIndicator",value:function(){if(this.copiedInfo&&this.parent.getActiveSheet().id===this.copiedInfo.sId){var e=this.parent.createElement("div",{className:"e-copy-indicator"});e.appendChild(this.parent.createElement("div",{className:"e-top"})),e.appendChild(this.parent.createElement("div",{className:"e-bottom"})),e.appendChild(this.parent.createElement("div",{className:"e-left"})),e.appendChild(this.parent.createElement("div",{className:"e-right"})),ZB(e,this.copiedInfo.range,this.parent.getActiveSheet(),!1),this.parent.getMainContent().appendChild(e)}}},{key:"showDialog",value:function(){this.parent.serviceLocator.getService(vj).show({header:"Spreadsheet",target:this.parent.element,height:205,width:340,isModal:!0,showCloseIcon:!0,content:this.parent.serviceLocator.getService(gj).getConstant("PasteAlert")})}},{key:"hidePaste",value:function(e){this.parent.getActiveSheet().isProtected&&(e=!1),this.parent.notify("enableToolbarItems",[{items:[this.parent.element.id+"_paste"],enable:e||!1}])}},{key:"setExternalCells",value:function(e){for(var t,n="",i=this.copiedInfo.range,a=this.parent.getActiveSheet(),r='<html><body><table xmlns="http://www.w3.org/1999/xhtml"><tbody>',s=i[0];s<=i[2];s++){r+="<tr>";for(var l=i[1];l<=i[3];l++){if(r+='<td style="white-space:nowrap;vertical-align:bottom;',(t=mB(s,l,a))&&t.style&&Object.keys(t.style).forEach((function(e){var n=e.match(/[A-Z]/);r+=("backgroundColor"===e?"background":n?e.replace(n[0],"-"+n[0].toLowerCase()):e)+":"+("backgroundColor"===e||"color"===e?t.style[e].slice(0,7):t.style[e])+";"})),r+='">',t&&t.value){var o={formattedText:t.value,value:t.value,format:t.format,onLoad:!0};t.format&&this.parent.notify("getFormattedCell",o),r+=o.formattedText,n+=o.formattedText}r+="</td>",n+=l===i[3]?"":"\t"}r+="</tr>",n+=s===i[2]?"":"\n"}r+="</tbody></table></body></html>",KI.isIE?window.clipboardData.setData("text",n):(e.clipboardData.setData("text/html",r),e.clipboardData.setData("text/plain",n),e.preventDefault())}},{key:"getExternalCells",value:function(e){var t,n,i,a=this,r=[],s=[],l=this.parent.createElement("span");return KI.isIE?n=window.clipboardData.getData("text"):(t=e.clipboardData.getData("text/html"),n=e.clipboardData.getData("text/plain"),l.innerHTML=t),l.querySelector("table")?l.querySelectorAll("tr").forEach((function(e){e.querySelectorAll("td").forEach((function(e,t){s[t]={value:e.textContent,style:a.getStyle(e,l)}})),r.push({cells:s}),s=[]})):n&&(t&&[].slice.call(l.children).forEach((function(e){e.getAttribute("style")&&(i=a.getStyle(e,l))})),n.trim().split("\n").forEach((function(e){e.split("\t").forEach((function(e,t){s[t]={style:i},sB(e)?s[t].formula=e:s[t].value=e})),r.push({cells:s}),s=[]}))),setTimeout((function(){a.getClipboardEle().innerHTML=""}),0),r}},{key:"getStyle",value:function(e,t){var n=[],i={};return(e.classList.length||e.getAttribute("style"))&&(e.classList.length&&n.push(t.querySelector("style").innerHTML.split(e.classList[0])[1].split("{")[1].split("}")[0]),e.getAttribute("style")&&n.push(e.getAttribute("style")),n.forEach((function(e){e.split(";").forEach((function(e){var t=e.split(":")[0].trim();if(["font-family","vertical-align","text-align","text-indent","color","background","font-weight","font-style","font-size","text-decoration"].indexOf(t)>-1){var n=(t="background"===t?"backgroundColor":t).match(/-[a-z]/);i[n?t.replace(n[0],n[0].charAt(1).toUpperCase()):t]=e.split(":")[1]}}))}))),i}},{key:"getClipboardEle",value:function(){return this.parent.element.getElementsByClassName("e-clipboard")[0]}},{key:"getModuleName",value:function(){return"clipboard"}},{key:"destroy",value:function(){this.removeEventListener(),ZA(this.getClipboardEle()),this.parent=null}}]),e}(),DV=function(){function e(t){_classCallCheck(this,e),this.editorElem=null,this.editCellData={},this.isEdit=!1,this.isCellEdit=!0,this.isNewValueEdit=!0,this.keyCodes={BACKSPACE:8,SPACE:32,TAB:9,DELETE:46,ESC:27,ENTER:13,FIRSTALPHABET:65,LASTALPHABET:90,FIRSTNUMBER:48,LASTNUMBER:59,FIRSTNUMPAD:96,LASTNUMPAD:111,SYMBOLSETONESTART:186,SYMBOLSETONEEND:192,SYMBOLSETTWOSTART:219,SYMBOLSETTWOEND:222,FIREFOXEQUALPLUS:61,FIREFOXMINUS:173,F2:113},this.parent=t,this.init()}return _createClass(e,[{key:"init",value:function(){this.addEventListener()}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null,this.editorElem=null}},{key:"addEventListener",value:function(){$I.add(this.parent.element,"dblclick",this.dblClickHandler,this),this.parent.on("mouseDown",this.mouseDownHandler,this),this.parent.on(gH,this.keyUpHandler,this),this.parent.on(vH,this.keyDownHandler,this),this.parent.on(mH,this.performEditOperation,this)}},{key:"removeEventListener",value:function(){$I.remove(this.parent.element,"dblclick",this.dblClickHandler),this.parent.isDestroyed||(this.parent.off("mouseDown",this.mouseDownHandler),this.parent.off(gH,this.keyUpHandler),this.parent.off(vH,this.keyDownHandler),this.parent.off(mH,this.performEditOperation))}},{key:"getModuleName",value:function(){return"edit"}},{key:"performEditOperation",value:function(e){switch(e.action){case"renderEditor":this.renderEditor();break;case"refreshEditor":this.refreshEditor(e.value,e.refreshFormulaBar,e.refreshEditorElem,e.isAppend,e.trigEvent),e.refreshCurPos&&this.setCursorPosition();break;case"startEdit":this.isEdit||(this.isNewValueEdit=e.isNewValueEdit,this.startEdit(e.address,e.value,e.refreshCurPos));break;case"endEdit":this.isEdit&&this.endEdit(e.refreshFormulaBar);break;case"cancelEdit":this.isEdit&&this.cancelEdit(e.refreshFormulaBar);break;case"getCurrentEditValue":e.editedValue=this.editCellData.value;break;case"refreshDependentCellValue":this.refreshDependentCellValue(e.rowIdx,e.colIdx,e.sheetIdx);break;case"getPosition":e.position=this.editorElem.getBoundingClientRect();break;case"focusEditorElem":this.editorElem.focus()}}},{key:"keyUpHandler",value:function(e){this.isEdit&&this.isCellEdit&&this.editCellData.value!==this.editorElem.textContent&&this.refreshEditor(this.editorElem.textContent,this.isCellEdit)}},{key:"keyDownHandler",value:function(e){var t=e.target,n=e.keyCode,i=this.parent.getActiveSheet(),a=GF(i.activeCell),r=mB(a[0],a[1],i)||{};if(!nD(e.target,".e-findtool-dlg")&&!nD(e.target,".e-validationerror-dlg"))if(!i.isProtected||nD(e.target,".e-sheet-rename")||!1===r.isLocked){if(this.isEdit)switch(this.isCellEdit&&this.refreshEditor(this.editorElem.textContent,this.isCellEdit),n){case this.keyCodes.ENTER:KI.isWindows&&e.preventDefault(),this.endEdit(!1,e);break;case this.keyCodes.TAB:this.hasFormulaSuggSelected()||this.endEdit(!1,e);break;case this.keyCodes.ESC:this.cancelEdit(!0,!0,e)}else if(!this.isEdit&&(t.classList.contains("e-spreadsheet")||nD(t,".e-sheet-panel"))){var s=n>=this.keyCodes.FIRSTALPHABET&&n<=this.keyCodes.LASTALPHABET,l=n>=this.keyCodes.FIRSTNUMBER&&n<=this.keyCodes.LASTNUMBER,o=n>=this.keyCodes.FIRSTNUMPAD&&n<=this.keyCodes.LASTNUMPAD,u=n>=this.keyCodes.SYMBOLSETONESTART&&n<=this.keyCodes.SYMBOLSETONEEND;u||(u=n>=this.keyCodes.SYMBOLSETTWOSTART&&n<=this.keyCodes.SYMBOLSETTWOEND);var c=n===this.keyCodes.FIREFOXEQUALPLUS||n===this.keyCodes.FIREFOXMINUS,h=!e.shiftKey&&!e.ctrlKey&&n===this.keyCodes.F2,d=n===this.keyCodes.BACKSPACE;(!e.ctrlKey&&!e.altKey&&(!e.shiftKey&&n===this.keyCodes.SPACE||s||l||o||u||"mozilla"===KI.info.name&&c)||h||d)&&(h&&(this.isNewValueEdit=!1),this.startEdit()),n===this.keyCodes.DELETE&&this.editingHandler("delete")}}else if((n>=this.keyCodes.FIRSTALPHABET&&n<=this.keyCodes.LASTALPHABET||n>=this.keyCodes.FIRSTNUMBER&&n<=this.keyCodes.LASTNUMBER||n===this.keyCodes.DELETE||n===this.keyCodes.BACKSPACE||n===this.keyCodes.SPACE||n>=this.keyCodes.FIRSTNUMPAD&&n<=this.keyCodes.LASTNUMPAD||n>=this.keyCodes.SYMBOLSETONESTART&&n<=this.keyCodes.SYMBOLSETONEEND||n>=219&&n<=222||!e.shiftKey&&!e.ctrlKey&&n===this.keyCodes.F2)&&67!==n&&89!==n&&90!==n){if(i.protectSettings.insertLink&&75===n)return;this.parent.notify("editAlert",null)}}},{key:"renderEditor",value:function(){var e;this.editorElem&&this.parent.element.querySelector("#"+this.parent.element.id+"_edit")||((e=this.parent.createElement("div",{id:this.parent.element.id+"_edit",className:"e-spreadsheet-edit"})).contentEditable="true",e.spellcheck=!1,this.editorElem=e,this.parent.element.querySelector(".e-sheet-content").appendChild(this.editorElem));this.parent.notify("formulaOperation",{action:"renderAutoComplete"})}},{key:"refreshEditor",value:function(e,t,n,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i?e=this.editCellData.value=this.editCellData.value+e:this.editCellData.value=e,n&&(this.editorElem.textContent=e),t&&this.parent.notify("formulaBarOperation",{action:"refreshFormulabar",value:e}),a&&this.editCellData.value===this.editorElem.textContent&&this.triggerEvent("cellEditing")&&this.cancelEdit()}},{key:"startEdit",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=YF(this.parent.getActiveSheet().activeCell);dV(this.parent,i[0],i[1],this.parent.activeSheetIndex)||(this.updateEditCellDetail(e,t),this.initiateEditor(n),this.positionEditor(),this.parent.isEdit=this.isEdit=!0,this.parent.notify("clearCopy",null),this.parent.notify("enableToolbarItems",[{enable:!1}]))}},{key:"setCursorPosition",value:function(){var e=this.editorElem,t=e.textContent.length;if(t){var n=document.getSelection(),i=document.createRange();i.setStart(e.firstChild,t),i.collapse(!0),n.removeAllRanges(),n.addRange(i)}e.focus()}},{key:"hasFormulaSuggSelected",value:function(){var e=document.getElementById(this.parent.element.id+"_ac_popup");return e&&"visible"===e.style.visibility&&e.querySelectorAll(".e-item-focus").length>0}},{key:"editingHandler",value:function(e){switch(e){case"delete":var t=this.parent.getActiveSheet().selectedRange,n=JF(t);t=$F(n=n[0]>n[2]?eH(n):n),this.parent.clearRange(t,null,!0),this.parent.serviceLocator.getService("cell").refreshRange(n),this.parent.notify("selectionComplete",{})}}},{key:"mouseDownHandler",value:function(e){if(!nD(e.target,".e-findtool-dlg")&&this.isEdit){var t=e.target;this.isCellEdit=t.classList.contains("e-spreadsheet-edit"),(t.classList.contains("e-cell")||t.classList.contains("e-header-cell")||t.classList.contains("e-selectall")||nD(t,".e-toolbar-item.e-active"))&&this.endEdit(!1,e)}}},{key:"dblClickHandler",value:function(e){var t=e.target,n=this.parent.getActiveSheet(),i=GF(n.activeCell),a=mB(i[0],i[1],n)||{};n.isProtected&&!1!==a.isLocked?(t.classList.contains("e-active-cell")||t.classList.contains("e-cell"))&&this.parent.notify("editAlert",null):(t.classList.contains("e-active-cell")||t.classList.contains("e-cell")||nD(t,".e-sheet-content"))&&(this.isEdit?this.endEdit():(this.isNewValueEdit=!1,this.startEdit()))}},{key:"updateEditCellDetail",value:function(e,t){var n,i;this.editCellData.sheetIndex||(n=e&&e.split("!").length>1?wB(this.parent,xB(e)):this.parent.activeSheetIndex),this.editCellData.addr||(i=OB(this.parent,n),e=e?QF(e):i.activeCell);var a=YF(e),r=a[0],s=a[1],l=this.parent.getCell(r,s),o=$B(i,a);this.editCellData={addr:e,fullAddr:MB(this.parent,n)+"!"+e,rowIndex:r,colIndex:s,sheetIndex:n,element:l,value:t||"",position:o}}},{key:"initiateEditor",value:function(e){var t=this;this.parent.getData(this.editCellData.fullAddr).then((function(n){n.forEach((function(n,i){var a={cell:n,value:n?n.value:""};t.parent.notify("getFormattedBarText",a);var r=n?a.value:"";n&&n.formula&&(r=n.formula),t.editCellData.oldValue=r,t.editCellData.value?r=t.editCellData.value:t.editCellData.value=r,t.isNewValueEdit?r="":t.isNewValueEdit=!0,r&&t.refreshEditor(r,!1,!0,!1,!1),e&&t.setCursorPosition(),t.triggerEvent("cellEdit")&&t.cancelEdit(!0,!1)}))}))}},{key:"positionEditor",value:function(){var e=this.editCellData.element;e.classList.add("e-ss-edited");var t=mB(this.editCellData.rowIndex,this.editCellData.colIndex,this.parent.getActiveSheet()),n=this.editCellData.position.left+1,i=this.editCellData.position.top+1,a=this.editCellData.element.offsetHeight-3,r=this.editCellData.element.offsetWidth-3,s=this.parent.getMainContent(),l="display:block;top:"+i+"px;"+(this.parent.enableRtl?"right:":"left:")+n+"px;min-width:"+r+"px;max-width:"+(s.offsetWidth-n-28)+"px;"+(t&&t.wrap?"min-height:":"height:")+a+"px;"+(t&&t.wrap?"width:"+r+"px;":"");l+=e.style.cssText,this.editorElem.setAttribute("style",l),e.classList.contains("e-right-align")?this.editorElem.classList.add("e-right-align"):e.classList.contains("e-center-align")&&this.editorElem.classList.add("e-center-align")}},{key:"updateEditedValue",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.editCellData.oldValue,n=t?t.toString().toUpperCase():"",i=!0,a=this.editCellData.addr,r=YF(this.parent.getActiveSheet().activeCell),s=this.parent.getActiveSheet(),l=mB(r[0],r[1],s);if(this.parent.notify("setActionData",{args:{action:"beforeCellSave",eventArgs:{address:this.editCellData.addr}}}),this.parent.allowDataValidation&&l&&l.validation){var o,u=this.parent.element.getElementsByClassName("e-spreadsheet-edit")[0].innerText,c=!0,h=this.parent.activeSheetIndex;o="string"==typeof a?YF(a):a,this.parent.notify("isValidation",{value:u,range:o,sheetIdx:h,isCell:c}),i=this.parent.allowDataValidation,this.editCellData.value=i?u:this.editCellData.value,this.parent.allowDataValidation=!0}if((t!==this.editCellData.value||n.indexOf("=RAND()")>-1||n.indexOf("RAND()")>-1||n.indexOf("=RANDBETWEEN(")>-1||n.indexOf("RANDBETWEEN(")>-1)&&i){var d=this.parent.getActiveSheet(),p=YF(d.activeCell);this.parent.notify("workbookEditOperation",{action:"updateCellValue",address:this.editCellData.addr,value:this.editCellData.value});var f=mB(p[0],p[1],d,!0),m=this.getRefreshNodeArgs(f);this.editCellData.value=m.value,f.formula&&(this.editCellData.formula=f.formula),f.wrap&&this.parent.notify("wrapText",{range:p,wrap:!0,sheet:d}),e&&this.parent.refreshNode(this.editCellData.element,m)}return i}},{key:"refreshDependentCellValue",value:function(e,t,n){if(e&&t&&(e--,t--,(this.editCellData.rowIndex!==e||this.editCellData.colIndex!==t)&&this.parent.activeSheetIndex===n)){var i=this.parent.getCell(e,t);if(i){var a=mB(e,t,OB(this.parent,n)),r=this.getRefreshNodeArgs(a);this.parent.refreshNode(i,r)}}}},{key:"getRefreshNodeArgs",value:function(e){var t={value:(e=e||{}).value,format:e&&e.format?e.format:"",onLoad:!0,formattedText:"",isRightAlign:!1,type:"General"};return this.parent.notify("getFormattedCell",t),t.formattedText=this.parent.allowNumberFormatting?t.formattedText:t.value,{isRightAlign:t.isRightAlign,result:t.formattedText,type:t.type,value:t.value,curSymbol:t.curSymbol}}},{key:"endEdit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e&&this.refreshEditor(this.editCellData.oldValue,!1,!0,!1,!1),this.triggerEvent("beforeCellSave")?t.preventDefault():this.updateEditedValue()?(this.triggerEvent("cellSave",t),this.resetEditState(),this.focusElement()):t&&t.preventDefault()}},{key:"cancelEdit",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;this.refreshEditor(this.editCellData.oldValue,e,!1,!1,!1),t&&this.triggerEvent("cellSave",n),this.resetEditState(),this.focusElement()}},{key:"focusElement",value:function(){this.parent.element.focus(),this.parent.notify("enableToolbarItems",[{enable:!0}])}},{key:"triggerEvent",value:function(e,t){var n={element:this.editCellData.element,value:this.editCellData.value,oldValue:this.editCellData.oldValue,address:this.editCellData.fullAddr};return"cellSave"===e&&(this.editCellData.formula&&(n.formula=this.editCellData.formula),n.originalEvent=t,this.parent.notify(kH,{eventArgs:n,action:"cellSave"})),"cellSave"!==e&&(n.cancel=!1),this.parent.trigger(e,n),n.cancel}},{key:"altEnter",value:function(){var e,t,n,i,a=window.getSelection(),r=a.anchorNode,s=document.createRange();i=3===r.nodeType?a.anchorOffset:r.textContent.length,t=(e=r.textContent).slice(0,i),n=e.slice(i)||" ",r.textContent=t+"\n"+n,s=document.createRange(),3===r.nodeType?(s.setStart(r,i+1),s.setEnd(r,i+1)):1===r.nodeType&&(s.setStart(r.firstChild,i+1),s.setEnd(r.firstChild,i+1)),a.removeAllRanges(),a.addRange(s)}},{key:"resetEditState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.editCellData.element.classList.remove("e-ss-edited"),this.editorElem.textContent="",this.editorElem.removeAttribute("style"),this.editorElem.classList.remove("e-right-align")),this.editCellData={},this.parent.isEdit=this.isEdit=!1,this.isCellEdit=!0,this.parent.notify("formulaOperation",{action:"endEdit"})}}]),e}(),MV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener(),this.mouseMoveEvt=this.mouseMoveHandler.bind(this)}return _createClass(e,[{key:"addEventListener",value:function(){this.parent.on("contentLoaded",this.init,this),this.parent.on("mouseDown",this.mouseDownHandler,this),this.parent.on("virtualContentLoaded",this.virtualContentLoadedHandler,this),this.parent.on("cellNavigate",this.cellNavigateHandler,this),this.parent.on("selectRange",this.selectRange,this),this.parent.on("rowHeightChanged",this.rowHeightChanged,this),this.parent.on("colWidthChanged",this.colWidthChanged,this),this.parent.on("protectSelection",this.protectHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("contentLoaded",this.init),this.parent.off("mouseDown",this.mouseDownHandler),this.parent.off("virtualContentLoaded",this.virtualContentLoadedHandler),this.parent.off("cellNavigate",this.cellNavigateHandler),this.parent.off("selectRange",this.selectRange),this.parent.off("rowHeightChanged",this.rowHeightChanged),this.parent.off("colWidthChanged",this.colWidthChanged),this.parent.off("protectSelection",this.protectHandler))}},{key:"rowHeightChanged",value:function(e){var t=this;zB((function(){var n=t.getActiveCell(),i=GF(t.parent.getActiveSheet().activeCell)[0];if(i===e.rowIdx&&n?n.style.height="".concat(parseInt(n.style.height,10)+e.threshold,"px"):i>e.rowIdx&&n&&(n.style.top="".concat(parseInt(n.style.top,10)+e.threshold,"px")),n=t.getSelectionElement()){var a=eH(YF(t.parent.getActiveSheet().selectedRange)),r=a[0],s=a[2];r<=e.rowIdx&&s>=e.rowIdx&&n?n.style.height="".concat(parseInt(n.style.height,10)+e.threshold,"px"):r>e.rowIdx&&n&&(n.style.top="".concat(parseInt(n.style.top,10)+e.threshold,"px"))}}))}},{key:"colWidthChanged",value:function(e){var t=this;zB((function(){var n=t.getActiveCell(),i=GF(t.parent.getActiveSheet().activeCell)[1];i===e.colIdx&&n?n.style.width="".concat(parseInt(n.style.width,10)+e.threshold,"px"):i>e.colIdx&&n&&(n.style.left="".concat(parseInt(n.style.left,10)+e.threshold,"px")),n=t.getSelectionElement();var a=eH(YF(t.parent.getActiveSheet().selectedRange)),r=a[1];r<=e.colIdx&&a[3]>=e.colIdx&&n?n.style.width="".concat(parseInt(n.style.width,10)+e.threshold,"px"):r>e.colIdx&&n&&(n.style.left="".concat(parseInt(n.style.left,10)+e.threshold,"px"))}))}},{key:"selectRange",value:function(e){this.selectRangeByIdx("Single"===this.parent.selectionSettings.mode?e.indexes.slice(0,2).concat(e.indexes.slice(0,2)):e.indexes,null,null,null,null,e.skipChecking)}},{key:"init",value:function(){this.parent.getActiveSheet();var e=YF(this.parent.getActiveSheet().selectedRange),t=eH(e),n=GF(this.parent.getActiveSheet().activeCell),i=t[0]<=n[0]&&t[2]>=n[0]&&t[1]<=n[1]&&t[3]>=n[1];this.createSelectionElement(),this.selectRangeByIdx(e,null,null,i,!0)}},{key:"createSelectionElement",value:function(){var e=this.parent.getMainContent(),t=this.parent.createElement("div",{className:"e-selection"}),n=this.parent.createElement("div",{className:"e-active-cell"});e.appendChild(t),e.appendChild(n)}},{key:"mouseDownHandler",value:function(e){if(!this.parent.isEdit){if(this.parent.getActiveSheet().isProtected&&!this.parent.getActiveSheet().protectSettings.selectCells)return;if(!nD(e.target,".e-findtool-dlg")&&this.getSheetElement().contains(e.target)&&!e.target.classList.contains("e-colresize")&&!e.target.classList.contains("e-rowresize")){var t=this.parent.getActiveSheet(),n=this.parent.selectionSettings.mode,i=this.getRowIdxFromClientY(rV(e)),a=this.getColIdxFromClientX(aV(e)),r=GF(t.activeCell),s=t.showHeaders&&this.parent.getRowHeaderContent().contains(e.target),l=t.showHeaders&&this.parent.getColumnHeaderContent().contains(e.target);if(3===e.which&&this.isSelected(i,a))return;if("Multiple"===n&&(!iV(e)&&(!tV(e)||tV(e)&&r[0]===i&&r[1]===a)||l||s)&&(document.addEventListener(QB().split(" ")[0],this.mouseMoveEvt),KI.isPointer||document.addEventListener(QB().split(" ")[1],this.mouseMoveEvt,{passive:!1})),iV(e)||$I.add(document,eV(),this.mouseUpHandler,this),tV(e)&&!l&&!s)return void(this.touchEvt=e);if(s)this.isRowSelected=!0,e.shiftKey&&"Single"!==n||(this.startCell=[i,0]),this.selectRangeByIdx([this.startCell[0],0,i,t.colCount-1],e);else if(l)this.isColSelected=!0,e.shiftKey&&"Single"!==n||(this.startCell=[0,a]),this.selectRangeByIdx([0,this.startCell[1],t.rowCount-1,a],e);else if(e.target.classList.contains("e-selectall"))this.startCell=[0,0],this.selectRangeByIdx([].concat(this.startCell,[t.rowCount-1,t.colCount-1]),e);else if(!e.target.classList.contains("e-main-content")){var o=this.isRowSelected||this.isColSelected;this.isRowSelected=!1,this.isColSelected=!1,e.shiftKey&&"Single"!==n||(this.startCell=[i,a]),this.selectRangeByIdx([].concat(this.startCell?this.startCell:GF(t.activeCell),[i,a]),e,null,null,null,null,o)}this.parent.isMobileView()&&(this.parent.element.classList.add("e-mobile-focused"),this.parent.renderModule.setSheetPanelSize())}}}},{key:"mouseMoveHandler",value:function(e){var t=this,n=this.parent.getActiveSheet();nV(e)&&e.preventDefault();var i=this.getScrollContent(),a=i.getBoundingClientRect(),r=aV(e),s=rV(e),l=this.isRowSelected?n.colCount-1:this.getColIdxFromClientX(Math.min(r,a.right)),o=this.isColSelected?n.rowCount-1:this.getRowIdxFromClientY(Math.min(s,a.bottom)),u=YF(n.selectedRange),c={range:[o,l,o,l]};this.parent.notify("activeCellMergedRange",c);var h=s>a.bottom&&o<n.rowCount,d=s<a.top&&o>=0&&!this.isColSelected,p=r>a.right&&l<n.colCount,f=r<a.left&&l>=0&&!this.isRowSelected;if(this.clearInterval(),h||d||p||f)this.scrollInterval=setInterval((function(){if((h||d)&&!t.isColSelected){if((o=t.getRowIdxFromClientY(h?a.bottom:a.top))>=n.rowCount)return void t.clearInterval();i.scrollTop+=(h?1:-1)*dB(n,o)}if((p||f)&&!t.isRowSelected){if((l=t.getColIdxFromClientX(p?a.right:a.left))>=n.colCount)return void t.clearInterval();i.scrollLeft+=(p?1:-1)*BB(n,l)}t.isColSelected||t.isRowSelected||(u=GF(n.activeCell)),t.selectRangeByIdx([].concat(u[0],u[1],[o,l]),e)}),100);else{if(c.range[2]===u[2]&&c.range[3]===u[3])return;this.isColSelected||this.isRowSelected||(u=GF(n.activeCell)),this.selectRangeByIdx([].concat(u[0],u[1],[o,l]),e)}}},{key:"mouseUpHandler",value:function(e){var t=this.getRowIdxFromClientY(rV(e)),n=this.getColIdxFromClientX(aV(e));this.clearInterval(),!iV(e)||this.isColSelected||this.isRowSelected||this.getRowIdxFromClientY(rV(this.touchEvt))!==t||this.getColIdxFromClientX(aV(this.touchEvt))!==n||this.mouseDownHandler(e),document.removeEventListener(QB().split(" ")[0],this.mouseMoveEvt),KI.isPointer||document.removeEventListener(QB().split(" ")[1],this.mouseMoveEvt),$I.remove(document,eV(),this.mouseUpHandler),this.parent.notify("mouseUpAfterSelection",e)}},{key:"isSelected",value:function(e,t){var n=eH(YF(this.parent.getActiveSheet().selectedRange));return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}},{key:"virtualContentLoadedHandler",value:function(){var e=this.parent.getActiveSheet(),t=YF(e.selectedRange);this.isColSelected&&this.isRowSelected?this.selectRangeByIdx([0,0,e.rowCount-1,e.colCount-1],null,!0):this.isColSelected?this.selectRangeByIdx([0,t[1],e.rowCount-1,t[3]],null,!0):this.isRowSelected?this.selectRangeByIdx([t[0],0,t[2],e.colCount-1],null,!0):this.highlightHdr(t,t[0]>=this.parent.viewport.topIndex||t[2]>=this.parent.viewport.topIndex,t[1]>=this.parent.viewport.leftIndex||t[3]>=this.parent.viewport.leftIndex)}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this.scrollInterval),this.scrollInterval=null}))},{key:"getScrollContent",value:function(){return this.parent.getMainContent()}},{key:"getScrollLeft",value:function(){return this.parent.scrollModule?this.parent.scrollModule.prevScroll.scrollLeft:0}},{key:"cellNavigateHandler",value:function(e){var t=this.parent.getActiveSheet();t.isProtected&&!t.protectSettings.selectCells||this.selectRangeByIdx(e.range.concat(e.range))}},{key:"getColIdxFromClientX",value:function(e){for(var t=0,n=this.parent.getActiveSheet(),i=this.parent.getMainContent().getBoundingClientRect(),a=(this.parent.enableRtl?i.right-e:e-i.left)+this.getScrollLeft(),r=0;;r++)if(a<(t+=VB(n,r)))return r}},{key:"getRowIdxFromClientY",value:function(e){for(var t=0,n=this.parent.getActiveSheet(),i=e-this.parent.getMainContent().getBoundingClientRect().top+this.parent.getMainContent().scrollTop,a=0;;a++)if(i<(t+=dB(n,a)))return a}},{key:"selectRangeByIdx",value:function(e,t,n,i,a,r,s){var l=this.getSelectionElement(),o=this.parent.getActiveSheet(),u={range:e,isActiveCell:!1,skipChecking:r};this.isColSelected||this.isRowSelected||this.parent.notify("mergedRange",u);var c={range:$F(e=u.range),cancel:!1};this.parent.trigger("beforeSelect",c),!0!==c.cancel&&(nH(e)||u.isActiveCell?l.classList.add("e-hide"):(l.classList.remove("e-hide"),ZB(l,e,o,this.parent.enableRtl,this.getOffset(e[2],e[3]))),EB(0,$F(e),o),this.UpdateRowColSelected(e),this.highlightHdr(e),n||t&&("mousemove"===t.type||nV(t))||this.updateActiveCell(i?YF(o.activeCell):e,a,s),JO(t)&&(t={type:"mousedown"}),this.parent.notify("selectionComplete",t),this.parent.trigger("select",{range:this.parent.getActiveSheet().selectedRange}))}},{key:"UpdateRowColSelected",value:function(e){var t=this.parent.getActiveSheet();this.isRowSelected=0===e[1]&&e[3]===t.colCount-1,this.isColSelected=0===e[0]&&e[2]===t.rowCount-1}},{key:"updateActiveCell",value:function(e,t,n){var i,a,r=this.parent.getActiveSheet(),s=YF(r.topLeftCell);this.isColSelected?(i=s[0],a=e[1],this.isRowSelected&&(a=s[1])):(i=e[0],a=e[1],this.isRowSelected&&(a=s[1]));var l={range:[i,a,i,a]};this.parent.notify("activeCellMergedRange",l),r.activeCell!==KF((e=l.range)[0],e[1])||t?(r.activeCell=KF(e[0],e[1]),ZB(this.getActiveCell(),e,r,this.parent.enableRtl,this.getOffset(e[2],e[3])),n=!0):ZB(this.getActiveCell(),e,r,this.parent.enableRtl,this.getOffset(e[2],e[3])),n&&this.parent.notify("activeCellChanged",null)}},{key:"getOffset",value:function(e,t){var n={left:{idx:0,size:0},top:{idx:0,size:0}};return this.parent.scrollModule&&(t>=this.parent.scrollModule.offset.left.idx&&(n.left=this.parent.scrollModule.offset.left),e>=this.parent.scrollModule.offset.top.idx&&(n.top=this.parent.scrollModule.offset.top)),n}},{key:"getSelectionElement",value:function(){return this.parent.element.getElementsByClassName("e-selection")[0]}},{key:"getActiveCell",value:function(){return this.parent.getMainContent().getElementsByClassName("e-active-cell")[0]}},{key:"getSheetElement",value:function(){return document.getElementById(this.parent.element.id+"_sheet")}},{key:"highlightHdr",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.parent.getActiveSheet().showHeaders){var i=this.parent.getActiveSheet(),a=[],r=[],s=eH(e);s=this.getHdrIndexes(s);var l=this.parent.element.getElementsByClassName("e-select-all-cell")[0];WA(this.getSheetElement().querySelectorAll(".e-highlight"),"e-highlight"),WA(this.getSheetElement().querySelectorAll(".e-prev-highlight"),"e-prev-highlight"),WA([l],["e-prev-highlight-right","e-prev-highlight-bottom"]),t&&(a=[].slice.call(this.parent.getRowHeaderContent().querySelectorAll("td")).slice(s[0],s[2]+1)),n&&(r=[].slice.call(this.parent.getColumnHeaderContent().querySelectorAll("th")).slice(s[1],s[3]+1)),i.isProtected&&!i.protectSettings.selectCells?WA([].concat(a,r),"e-highlight"):UA([].concat(a,r),"e-highlight"),a.length&&a[0].parentElement.previousElementSibling&&a[0].parentElement.previousElementSibling.classList.add("e-prev-highlight"),r.length&&r[0].previousElementSibling&&r[0].previousElementSibling.classList.add("e-prev-highlight"),this.isRowSelected&&this.isColSelected&&(i.isProtected&&!i.protectSettings.selectCells?document.getElementById("".concat(this.parent.element.id,"_select_all")).classList.remove("e-highlight"):document.getElementById("".concat(this.parent.element.id,"_select_all")).classList.add("e-highlight")),0===s[0]&&l.classList.add("e-prev-highlight-bottom"),0===s[1]&&l.classList.add("e-prev-highlight-right")}}},{key:"protectHandler",value:function(){var e=YF(this.parent.getActiveSheet().selectedRange),t=eH(e),n=GF(this.parent.getActiveSheet().activeCell);this.selectRangeByIdx(e,null,null,t[0]<=n[0]&&t[2]>=n[0]&&t[1]<=n[1]&&t[3]>=n[1])}},{key:"getHdrIndexes",value:function(e){if(this.parent.scrollSettings.enableVirtualization){var t=[],n=this.parent.hiddenCount(this.parent.viewport.topIndex,e[0]),i=this.parent.hiddenCount(this.parent.viewport.leftIndex,e[1],"columns");return t[0]=this.isColSelected?e[0]:e[0]-this.parent.viewport.topIndex<0?0:e[0]-n-this.parent.viewport.topIndex,t[1]=this.isRowSelected?e[1]:e[1]-this.parent.viewport.leftIndex<0?0:e[1]-i-this.parent.viewport.leftIndex,t[2]=this.isColSelected?this.parent.viewport.rowCount+2*this.parent.getThreshold("row"):e[2]-this.parent.hiddenCount(e[0],e[2])-n-this.parent.viewport.topIndex,t[3]=this.isRowSelected?this.parent.viewport.colCount+2*this.parent.getThreshold("col"):e[3]-this.parent.hiddenCount(e[1],e[3],"columns")-i-this.parent.viewport.leftIndex,t}return e}},{key:"getModuleName",value:function(){return"selection"}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}}]),e}(),TV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener(),this.initProps()}return _createClass(e,[{key:"onContentScroll",value:function(e){var t,n,i=this.parent.getMainContent(),a=e.scrollLeft||i.scrollLeft,r=e.scrollTop||i.scrollTop,s=this.parent.enableRtl?this.initScrollValue-a:a;if(this.prevScroll.scrollLeft!==s){var l=s>this.prevScroll.scrollLeft;n=this.offset.left.size,this.offset.left=this.getColOffset(s,l,e.skipHidden),this.parent.getActiveSheet().showHeaders&&(this.parent.getColumnHeaderContent().scrollLeft=a),t={cur:this.offset.left,prev:{idx:this.leftIndex,size:n},increase:l,preventScroll:e.preventScroll},this.parent.notify("horizontalScroll",t),this.updateTopLeftCell(l),this.parent.scrollSettings.enableVirtualization||!l||this.parent.scrollSettings.isFinite||this.updateNonVirtualCols(),this.leftIndex=t.prev.idx,this.prevScroll.scrollLeft=s}if(this.prevScroll.scrollTop!==r){var o=r>this.prevScroll.scrollTop;n=this.offset.top.size,this.offset.top=this.getRowOffset(r,o),this.parent.getActiveSheet().showHeaders&&(this.parent.getRowHeaderContent().scrollTop=r),t={cur:this.offset.top,prev:{idx:this.topIndex,size:n},increase:o,preventScroll:e.preventScroll},this.parent.notify("verticalScroll",t),this.updateTopLeftCell(o),this.parent.scrollSettings.enableVirtualization||!o||this.parent.scrollSettings.isFinite||this.updateNonVirtualRows(),this.topIndex=t.prev.idx,this.prevScroll.scrollTop=r}}},{key:"updateNonVirtualRows",value:function(){var e=this.parent.getActiveSheet(),t=this.parent.getThreshold("row");this.offset.top.idx>e.rowCount-(this.parent.viewport.rowCount+t)&&(this.parent.renderModule.refreshUI({colIndex:0,direction:"first",refresh:"RowPart"},"".concat(KF(e.rowCount,0),":").concat(KF(e.rowCount+t-1,e.colCount-1))),e.rowCount+=t)}},{key:"updateNonVirtualCols",value:function(){var e=this.parent.getActiveSheet(),t=this.parent.getThreshold("col");this.offset.left.idx>e.colCount-(this.parent.viewport.colCount+t)&&(this.parent.renderModule.refreshUI({rowIndex:0,colIndex:e.colCount,direction:"first",refresh:"ColumnPart"},"".concat(KF(0,e.colCount),":").concat(KF(e.rowCount-1,e.colCount+t-1))),e.colCount+=t)}},{key:"updateTopLeftCell",value:function(e){var t=this.offset.top.idx,n=this.offset.left.idx;if(!e){var i=this.parent.getActiveSheet();t=bV(i,t,!0),n=bV(i,n,!0,"columns")}this.parent.getActiveSheet().topLeftCell=KF(t,n)}},{key:"getRowOffset",value:function(e,t){var n,i=this.offset.top.size,a=this.parent.getActiveSheet(),r=t?this.offset.top.idx+1:this.offset.top.idx?this.offset.top.idx-1:0;if(this.parent.scrollSettings.isFinite){if(n=a.rowCount,t&&r+this.parent.viewport.rowCount+this.parent.getThreshold("row")>=n)return{idx:this.offset.top.idx,size:this.offset.top.size}}else n=1/0;for(;r<n;)if(t){if((i+=dB(a,r-1))===e)return{idx:r,size:i};if(i>e)return{idx:r-1,size:i-dB(a,r-1)};r++}else{if(0===i)return{idx:0,size:0};if((i-=dB(a,r))===e)return{idx:r,size:i};if(i<e)return(i+=dB(a,r))>e?{idx:r,size:i-dB(a,r)}:{idx:r+1,size:i};r--}return{idx:this.offset.top.idx,size:this.offset.top.size}}},{key:"getColOffset",value:function(e,t,n){var i,a=this.offset.left.size,r=this.parent.getActiveSheet(),s=t?this.offset.left.idx+1:this.offset.left.idx-1;if(this.parent.scrollSettings.isFinite){if(i=r.colCount,t&&s+this.parent.viewport.colCount+this.parent.getThreshold("col")>=i)return{idx:this.offset.left.idx,size:this.offset.left.size}}else i=1/0;for(;s<i;)if(t){if((a+=BB(r,s-1,n))===e)return{idx:s,size:a};if(a>e)return{idx:s-1,size:a-BB(r,s-1,n)};s++}else{if(0===a)return{idx:0,size:0};if((a-=BB(r,s,n))===e)return{idx:s,size:a};if(a<e)return(a+=BB(r,s,n))>e?{idx:s,size:a-BB(r,s,n)}:{idx:s+1,size:a};s--}return{idx:this.offset.left.idx,size:this.offset.left.size}}},{key:"contentLoaded",value:function(){this.onScroll=this.onContentScroll.bind(this),this.setScrollEvent(),this.parent.enableRtl&&(this.initScrollValue=this.parent.getMainContent().scrollLeft)}},{key:"setScrollEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{set:!0};e.set?$I.add(this.parent.getMainContent(),"scroll",this.onScroll,this):$I.remove(this.parent.getMainContent(),"scroll",this.onScroll)}},{key:"initProps",value:function(){this.topIndex=0,this.leftIndex=0,this.prevScroll={scrollLeft:0,scrollTop:0},this.offset={left:{idx:0,size:0},top:{idx:0,size:0}}}},{key:"getThreshold",value:function(){return"mozilla"===KI.info.name?.5:1}},{key:"setPadding",value:function(){if(this.parent.allowScrolling){var e=this.parent.getColumnHeaderContent(),t=this.parent.getRowHeaderContent(),n=function(){if(null!==WB)return WB;var e,t=document.createElement("div");return t.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth|0,document.body.removeChild(t),WB=e}()-this.getThreshold(),i=this.parent.enableRtl?{padding:"paddingLeft",border:"borderLeftWidth"}:{padding:"paddingRight",border:"borderRightWidth"};n>0&&(e.parentElement.style[i.padding]=n+"px",e.style[i.border]="1px",t.style.marginBottom=n+"px")}}},{key:"addEventListener",value:function(){this.parent.on("contentLoaded",this.contentLoaded,this),this.parent.on("onContentScroll",this.onContentScroll,this),this.parent.on("deInitProperties",this.initProps,this),this.parent.on("spreadsheetDestroyed",this.destroy,this),this.parent.on("setScrollEvent",this.setScrollEvent,this)}},{key:"destroy",value:function(){$I.remove(this.parent.getMainContent(),"scroll",this.onScroll),this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.off("contentLoaded",this.contentLoaded),this.parent.off("onContentScroll",this.onContentScroll),this.parent.off("deInitProperties",this.initProps),this.parent.off("spreadsheetDestroyed",this.destroy),this.parent.off("setScrollEvent",this.setScrollEvent)}}]),e}(),PV=function(){function e(t){_classCallCheck(this,e),this.scroll=[],this.parent=t,this.addEventListener()}return _createClass(e,[{key:"createVirtualElement",value:function(e){var t=this.parent.getActiveSheet(),n=this.parent.getMainContent();this.content=this.parent.createElement("div",{className:"e-virtualable"}),this.content.appendChild(n.querySelector(".e-table")),n.appendChild(this.content);var i,a,r,s,l=n.appendChild(this.parent.createElement("div",{className:"e-virtualtrack"}));this.parent.sheets.length>this.scroll.length&&this.initScroll();var o,u=this.parent.viewport.rowCount+1+2*this.parent.getThreshold("row");t.rowCount>u||t.usedRange.rowIndex>u-1?(!this.parent.scrollSettings.isFinite&&t.rowCount<=t.usedRange.rowIndex&&(t.rowCount=t.usedRange.rowIndex+1),this.setScrollCount(t.rowCount,"row"),r=fB(t,0,this.scroll[this.parent.activeSheetIndex].rowCount-1)):(this.parent.scrollSettings.isFinite||(t.rowCount=u),this.scroll[this.parent.activeSheetIndex].rowCount=t.rowCount,r=1),u=this.parent.viewport.colCount+1+2*this.parent.getThreshold("col"),t.colCount>u||t.usedRange.colIndex>u-1?(!this.parent.scrollSettings.isFinite&&t.colCount<=t.usedRange.colIndex&&(t.colCount=t.usedRange.colIndex+1),o=VB(t,0,u-1),this.setScrollCount(t.colCount,"col"),s=o+VB(t,u,this.scroll[this.parent.activeSheetIndex].colCount-1)):(this.parent.scrollSettings.isFinite||(t.colCount=u),o=VB(t,0,t.colCount-1),this.scroll[this.parent.activeSheetIndex].colCount=t.colCount,s=o),e.startColIdx&&(o=VB(t,e.startColIdx,e.startColIdx+u-1)),JO(this.parent.viewport.leftIndex)&&(this.parent.viewport.leftIndex=0),JO(this.parent.viewport.topIndex)&&(this.parent.viewport.topIndex=0),JO(this.translateX)&&(this.translateX=0),JO(this.translateY)&&(this.translateY=0),t.showHeaders&&(n=this.parent.getRowHeaderContent(),this.rowHeader=this.content.cloneNode(),this.rowHeader.appendChild(n.querySelector(".e-table")),n.appendChild(this.rowHeader),a=n.appendChild(l.cloneNode()),this.rowHeader.style.transform="translate(0px, ".concat(this.translateY,"px)"),n=this.parent.getColumnHeaderContent(),this.colHeader=this.content.cloneNode(),this.colHeader.appendChild(n.querySelector(".e-table")),n.appendChild(this.colHeader),i=n.appendChild(l.cloneNode()),this.colHeader.style.width="".concat(o,"px"),a.style.height="".concat(r,"px"),i.style.width="".concat(s,"px"),this.colHeader.style.transform="translate(".concat(this.translateX,"px, 0px)")),this.content.style.transform="translate(".concat(this.translateX,"px, ").concat(this.translateY,"px)"),this.content.style.width="".concat(o,"px"),l.style.height="".concat(r,"px"),l.style.width="".concat(s,"px")}},{key:"initScroll",value:function(){for(var e=0;e<this.parent.sheets.length;)this.scroll[e]||this.scroll.push({rowCount:0,colCount:0}),e++}},{key:"setScrollCount",value:function(e,t){var n=this.parent.activeSheetIndex;this.scroll[n][t+"Count"]||(this.scroll[n][t+"Count"]=e)}},{key:"getRowAddress",value:function(e){return $F([e[0],this.parent.viewport.leftIndex,e[1],this.parent.viewport.rightIndex])}},{key:"getColAddress",value:function(e){return $F([this.parent.viewport.topIndex,e[0],this.parent.viewport.bottomIndex,e[1]])}},{key:"updateScrollCount",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=this.parent.getActiveSheet(),a=e+this.parent.viewport[t+"Count"]+1+n,r=this.scroll[this.parent.activeSheetIndex][t+"Count"];if(a<r){if(i[t+"Count"]===r)return;a=r}this.parent.scrollSettings.isFinite||(i[t+"Count"]=a)}},{key:"onVerticalScroll",value:function(e){var t=e.cur.idx,n=e.cur.size,i=e.prev.idx,a=Math.abs(t-i),r=this.parent.getThreshold("row");if(a>Math.round(r/2)){var s,l,o;if(t<=r&&!e.increase){if(this.translateY&&i>r&&(this.translateY=0,this.parent.viewport.topIndex=i-r,!e.preventScroll)){if(a<this.parent.viewport.rowCount+r){l=this.parent.viewport.topIndex-1,s=this.parent.skipHidden(0,l)[0],this.parent.viewport.topIndex=s;var u=this.hiddenCount(s,l),c=this.skipHiddenIdx(this.parent.viewport.bottomIndex-(l-s+1-u),e.increase);this.parent.viewport.bottomIndex-=l-s+1-u+this.hiddenCount(c,this.parent.viewport.bottomIndex),this.parent.renderModule.refreshUI({colIndex:this.parent.viewport.leftIndex,rowIndex:s,direction:"last",refresh:"RowPart",skipUpdateOnFirst:!0},this.getRowAddress([0,this.skipHiddenIdx(l,!1)]))}else this.parent.renderModule.refreshUI({rowIndex:0,colIndex:this.parent.viewport.leftIndex,refresh:"Row",skipUpdateOnFirst:!0});this.parent.element.focus()}this.updateScrollCount(r,"row")}if(i<r&&(a=Math.abs(t-r)),t>r){if(o=this.parent.viewport.topIndex,this.parent.viewport.topIndex=t-r,e.increase&&o>this.parent.viewport.topIndex)return void(this.parent.viewport.topIndex=o);if(this.translateY=n-this.getThresholdHeight(this.parent.viewport.topIndex,r),!e.preventScroll){if(a<this.parent.viewport.rowCount+r)if(e.increase){if(s=this.parent.viewport.bottomIndex+1,l=this.parent.viewport.bottomIndex+(this.parent.viewport.topIndex-o),l-=this.hiddenCount(o,this.parent.viewport.topIndex-1),this.parent.viewport.topIndex=this.skipHiddenIdx(this.parent.viewport.topIndex,e.increase),l<=this.parent.viewport.bottomIndex)return;var h=this.parent.skipHidden(s,l);s=h[0],l=this.checkLastIdx(h[1],"row"),this.parent.viewport.bottomIndex=l,this.parent.renderModule.refreshUI({colIndex:this.parent.viewport.leftIndex,rowIndex:s,direction:"first",refresh:"RowPart"},this.getRowAddress([s,l]))}else{l=(s=this.parent.viewport.topIndex)+a-1;var d=this.hiddenCount(s,l),p=this.skipHiddenIdx(this.parent.viewport.bottomIndex-(l-s-d),e.increase);this.parent.viewport.bottomIndex-=a-d+this.hiddenCount(p,this.parent.viewport.bottomIndex),s=this.parent.skipHidden(s,l)[0],this.parent.viewport.topIndex=s,this.parent.renderModule.refreshUI({colIndex:this.parent.viewport.leftIndex,rowIndex:s,direction:"last",refresh:"RowPart"},this.getRowAddress([s,l]))}else this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Row"});this.updateScrollCount(t,"row",r),this.parent.element.focus()}}e.prev.idx=t}}},{key:"skipHiddenIdx",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rows",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.parent.getActiveSheet();return i[n][e]&&i[n][e].hidden&&(t?e++:e--,e=this.skipHiddenIdx(e,t,n,i)),e}},{key:"hiddenCount",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rows",i=0,a=this.parent.getActiveSheet(),r=e;r<=t;r++)a[n][r]&&a[n][r].hidden&&i++;return i}},{key:"checkLastIdx",value:function(e,t){if(this.parent.scrollSettings.isFinite){var n=this.parent.getActiveSheet()[t+"Count"]-1;e>n&&(e=n)}return e}},{key:"onHorizontalScroll",value:function(e){var t=e.cur.idx,n=e.cur.size,i=e.prev.idx,a=Math.abs(t-i),r=this.parent.getThreshold("col");if(a>Math.round(r/2)){var s,l,o;if(t<=r&&!e.increase){if(this.translateX&&i>r&&(this.translateX=0,this.parent.viewport.leftIndex=i-r,!e.preventScroll)){if(a<this.parent.viewport.colCount+r){l=this.parent.viewport.leftIndex-1,s=this.parent.skipHidden(0,l,"columns")[0],this.parent.viewport.leftIndex=s;var u=this.hiddenCount(s,l,"columns"),c=this.skipHiddenIdx(this.parent.viewport.rightIndex-(l-s+1-u),e.increase,"columns");this.parent.viewport.rightIndex-=l-s+1-u+this.hiddenCount(c,this.parent.viewport.rightIndex,"columns"),this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:s,direction:"last",refresh:"ColumnPart",skipUpdateOnFirst:!0},this.getColAddress([0,this.skipHiddenIdx(l,!1,"columns")]))}else this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:0,refresh:"Column",skipUpdateOnFirst:!0});this.parent.element.focus()}this.updateScrollCount(r,"col")}if(i<r&&(a=Math.abs(t-r)),t>r){if(o=this.parent.viewport.leftIndex,this.parent.viewport.leftIndex=t-r,e.increase&&o>this.parent.viewport.leftIndex)return void(this.parent.viewport.leftIndex=o);if(this.translateX=n-this.getThresholdWidth(this.parent.viewport.leftIndex,r),!e.preventScroll){if(a<this.parent.viewport.colCount+r)if(e.increase){if(s=this.parent.viewport.rightIndex+1,l=this.parent.viewport.rightIndex+(this.parent.viewport.leftIndex-o),l-=this.hiddenCount(o,this.parent.viewport.leftIndex-1,"columns"),this.parent.viewport.leftIndex=this.skipHiddenIdx(this.parent.viewport.leftIndex,e.increase,"columns"),l<=this.parent.viewport.rightIndex)return;var h=this.parent.skipHidden(s,l,"columns");s=h[0],l=this.checkLastIdx(h[1],"col"),this.parent.viewport.rightIndex=l,this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:s,direction:"first",refresh:"ColumnPart"},this.getColAddress([s,l]))}else{l=(s=this.parent.viewport.leftIndex)+a-1;var d=this.hiddenCount(s,l,"columns"),p=this.skipHiddenIdx(this.parent.viewport.rightIndex-(l-s-d),e.increase,"columns");this.parent.viewport.rightIndex-=a-d+this.hiddenCount(p,this.parent.viewport.rightIndex,"columns"),s=this.parent.skipHidden(s,l,"columns")[0],this.parent.viewport.leftIndex=s,this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:s,direction:"last",refresh:"ColumnPart"},this.getColAddress([s,l]))}else this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"});this.updateScrollCount(t,"col",r),this.parent.element.focus()}}e.prev.idx=t}}},{key:"getThresholdHeight",value:function(e,t){for(var n=0,i=this.parent.getActiveSheet(),a=e;a<e+t;a++)n+=dB(i,a);return n}},{key:"getThresholdWidth",value:function(e,t){for(var n=0,i=this.parent.getActiveSheet(),a=e;a<e+t;a++)n+=BB(i,a);return n}},{key:"translate",value:function(e){var t=this.parent.getActiveSheet();if("Row"!==e.refresh&&"RowPart"!==e.refresh||(this.content.style.transform="translate(".concat(this.translateX,"px, ").concat(this.translateY,"px)"),t.showHeaders&&(this.rowHeader.style.transform="translate(0px, ".concat(this.translateY,"px)"))),"Column"===e.refresh||"ColumnPart"===e.refresh){var n=this.parent.enableRtl?-this.translateX:this.translateX;this.content.style.transform="translate(".concat(n,"px, ").concat(this.translateY,"px)"),t.showHeaders&&(this.colHeader.style.transform="translate(".concat(n,"px, 0px)"))}}},{key:"updateColumnWidth",value:function(e){if("Column"===e.refresh){this.content.style.width="";var t=this.content.querySelector("tr").getBoundingClientRect().width;this.parent.getActiveSheet().showHeaders&&(this.colHeader.style.width=t+"px"),this.content.style.width=t+"px"}}},{key:"updateUsedRange",value:function(e){if(this.scroll.length){var t=this.parent.getActiveSheet();if("row"===e.update){if(e.index!==this.scroll[this.parent.activeSheetIndex].rowCount-1){var n=this.getVTrackHeight("height");e.index>=this.scroll[this.parent.activeSheetIndex].rowCount?n+=fB(t,this.scroll[this.parent.activeSheetIndex].rowCount,e.index):n-=fB(t,e.index+1,this.scroll[this.parent.activeSheetIndex].rowCount-1),this.scroll[this.parent.activeSheetIndex].rowCount=e.index+1,this.updateVTrack(this.rowHeader,n,"height"),this.scroll[this.parent.activeSheetIndex].rowCount>t.rowCount&&(t.rowCount=this.scroll[this.parent.activeSheetIndex].rowCount)}}else if(e.index>this.scroll[this.parent.activeSheetIndex].colCount){var i=this.getVTrackHeight("width");i+=VB(t,this.scroll[this.parent.activeSheetIndex].colCount,e.index),this.scroll[this.parent.activeSheetIndex].colCount=e.index+1,this.updateVTrack(this.colHeader,i,"width"),this.scroll[this.parent.activeSheetIndex].colCount>t.colCount&&(t.colCount=this.scroll[this.parent.activeSheetIndex].colCount)}}}},{key:"createHeaderElement",value:function(e){this.rowHeader=this.content.cloneNode(),this.colHeader=this.rowHeader.cloneNode(),this.rowHeader.style.width="",this.rowHeader.style.transform="translate(0px, ".concat(this.translateY,"px)"),this.colHeader.style.transform="translate(".concat(this.parent.enableRtl?-this.translateX:this.translateX,"px, 0px)"),this.rowHeader.appendChild(e.element.querySelector("table")),e.element.appendChild(this.rowHeader);var t=this.parent.getColumnHeaderContent();this.colHeader.appendChild(t.querySelector("table")),t.appendChild(this.colHeader);var n=this.content.nextElementSibling.cloneNode(),i=n.cloneNode();n.style.width="",i.style.height="",e.element.appendChild(n),t.appendChild(i)}},{key:"getVTrackHeight",value:function(e){var t=this.content.nextElementSibling.style[e];if(t.includes("e+")){var n=(t=t.split("px")[0]).split("e+");return Number(n[0])*Math.pow(10,Number(n[1]))}return parseInt(t,10)}},{key:"updateVTrackHeight",value:function(e){var t=this.parent.viewport.rowCount+1+2*this.parent.getThreshold("row");e.rowIdx>=t&&e.rowIdx<this.scroll[this.parent.activeSheetIndex].rowCount&&this.updateVTrack(this.rowHeader,this.getVTrackHeight("height")+e.threshold,"height")}},{key:"updateVTrackWidth",value:function(e){if(e.colIdx>=this.parent.viewport.leftIndex&&e.colIdx<=this.parent.viewport.rightIndex){if(this.parent.getActiveSheet().showHeaders){var t=this.parent.getColumnHeaderContent().getElementsByClassName("e-virtualtrack")[0];t.style.width=parseInt(t.style.width,10)+e.threshold+"px"}var n=this.parent.getMainContent().getElementsByClassName("e-virtualtrack")[0];if(n.style.width=parseInt(n.style.width,10)+e.threshold+"px",this.parent.getActiveSheet().showHeaders){var i=this.parent.getColumnHeaderContent().getElementsByClassName("e-virtualable")[0];i.style.width=parseInt(i.style.width,10)+e.threshold+"px"}var a=this.parent.getMainContent().getElementsByClassName("e-virtualable")[0];a.style.width=parseInt(a.style.width,10)+e.threshold+"px"}}},{key:"updateVTrack",value:function(e,t,n){this.parent.getActiveSheet().showHeaders&&(e.nextElementSibling.style[n]="".concat(t,"px")),this.content.nextElementSibling.style[n]="".concat(t,"px")}},{key:"deInitProps",value:function(){this.parent.viewport.leftIndex=null,this.parent.viewport.topIndex=null,this.parent.viewport.bottomIndex=null,this.translateX=null,this.translateY=null}},{key:"updateScrollProps",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sheetIndex:0,sheets:this.parent.sheets};0===this.scroll.length?this.initScroll():t.sheets.forEach((function(){e.scroll.splice(t.sheetIndex,0,{rowCount:0,colCount:0})}))}},{key:"sliceScrollProps",value:function(e){JO(e.sheetIndex)?this.scroll.length=0:this.scroll.splice(e.sheetIndex,1)}},{key:"addEventListener",value:function(){this.parent.on("beforeContentLoaded",this.createVirtualElement,this),this.parent.on("beforeVirtualContentLoaded",this.translate,this),this.parent.on("virtualContentLoaded",this.updateColumnWidth,this),this.parent.on("verticalScroll",this.onVerticalScroll,this),this.parent.on("horizontalScroll",this.onHorizontalScroll,this),this.parent.on("updateUsedRange",this.updateUsedRange,this),this.parent.on("rowHeightChanged",this.updateVTrackHeight,this),this.parent.on("colWidthChanged",this.updateVTrackWidth,this),this.parent.on("beforeHeaderLoaded",this.createHeaderElement,this),this.parent.on("deInitProperties",this.deInitProps,this),this.parent.on("sheetsDestroyed",this.sliceScrollProps,this),this.parent.on("sheetCreated",this.updateScrollProps,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.rowHeader=null,this.colHeader=null,this.content=null,this.parent=null,this.scroll.length=0,this.translateX=null,this.translateY=null}},{key:"removeEventListener",value:function(){this.parent.off("beforeContentLoaded",this.createVirtualElement),this.parent.off("beforeVirtualContentLoaded",this.translate),this.parent.off("virtualContentLoaded",this.updateColumnWidth),this.parent.off("verticalScroll",this.onVerticalScroll),this.parent.off("horizontalScroll",this.onHorizontalScroll),this.parent.off("updateUsedRange",this.updateUsedRange),this.parent.off("rowHeightChanged",this.updateVTrackHeight),this.parent.off("colWidthChanged",this.updateVTrackWidth),this.parent.off("beforeHeaderLoaded",this.createHeaderElement),this.parent.off("sheetsDestroyed",this.sliceScrollProps),this.parent.off("sheetCreated",this.updateScrollProps),this.parent.off("spreadsheetDestroyed",this.destroy)}}]),e}(),LV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){this.parent.on(vH,this.keyDownHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off(vH,this.keyDownHandler)}},{key:"keyDownHandler",value:function(e){if(!this.parent.isEdit&&(document.activeElement.classList.contains("e-spreadsheet")||nD(document.activeElement,".e-sheet"))){var t,n=this.parent.enableRtl,i=this.parent.getActiveSheet(),a={e:e,isFilterCell:!1},r=GF(this.parent.getActiveSheet().activeCell);if([9,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault(),e.shiftKey||!e.altKey||38!==e.keyCode&&40!==e.keyCode||this.parent.notify("filterCellKeyDown",a),!e.shiftKey&&(!n&&37===e.keyCode||n&&39===e.keyCode)||e.shiftKey&&9===e.keyCode)if(r[1]>0)r[1]-=1,t=!0;else{var s=this.parent.getMainContent();0===r[1]&&s.scrollLeft&&!n&&(s.scrollLeft=0)}else if(!a.isFilterCell&&!e.shiftKey&&38===e.keyCode||e.shiftKey&&13===e.keyCode)if(r[0]>0)r[0]-=1,t=!0;else{var l=this.parent.getMainContent();0===r[0]&&l.scrollTop&&(l.scrollTop=0)}else if(!e.shiftKey&&(!n&&39===e.keyCode||n&&37===e.keyCode)||9===e.keyCode){var o=mB(r[0],r[1],i);o&&o.colSpan>1&&(r[1]+=o.colSpan-1),r[1]<i.colCount-1&&(r[1]+=1,t=!0)}else if(!a.isFilterCell&&!e.shiftKey&&40===e.keyCode||13===e.keyCode){var u=mB(r[0],r[1],i);u&&u.rowSpan>1&&(r[0]+=u.rowSpan-1),r[0]<i.rowCount-1&&(r[0]+=1,t=!0)}t&&(this.scrollNavigation(r,!1),i.activeCell=$F(r),this.parent.notify("cellNavigate",{range:r}))}e.target.classList.contains("e-sheet-rename")&&(32===e.keyCode?e.stopPropagation():13!==e.keyCode&&27!==e.keyCode||this.parent.notify("renameSheet",e))}},{key:"scrollNavigation",value:function(e,t){var n=this.parent.enableRtl?-1:1,i=this.parent.getMainContent(),a=this.parent.getActiveSheet(),r=(GF(a.activeCell),GF(a.topLeftCell));this.getBottomIdx(r)<=e[0]||t?i.scrollTop+=dB(a,e[0]):r[0]>e[0]&&(i.scrollTop-=dB(a,e[0])),this.getRightIdx(r)<=e[1]||t?i.scrollLeft+=BB(a,e[1])*n:r[1]>e[1]&&(i.scrollLeft-=BB(a,e[1])*n)}},{key:"getBottomIdx",value:function(e){for(var t=0,n=this.parent.getActiveSheet(),i=e[0];;i++)if((t+=dB(n,i))>=this.parent.viewport.height-17)return i}},{key:"getRightIdx",value:function(e){for(var t=0,n=this.parent.getActiveSheet(),i=this.parent.getMainContent().offsetWidth,a=e[1];;a++)if((t+=BB(n,a))>=i-17)return a}},{key:"getModuleName",value:function(){return"keyboardNavigation"}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}}]),e}(),NV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){this.parent.on(vH,this.keyDownHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off(vH,this.keyDownHandler)}},{key:"keyDownHandler",value:function(e){if(e.ctrlKey){if(nD(e.target,".e-find-dlg")||[79,83,65].indexOf(e.keyCode)>-1&&e.preventDefault(),79===e.keyCode)this.parent.element.querySelector("#"+this.parent.element.id+"_fileUpload").click();else if(83===e.keyCode)this.parent.saveUrl&&this.parent.allowSave&&this.parent.save();else if(67===e.keyCode)this.parent.notify("copy",{promise:Promise});else if(75===e.keyCode){var t,n=GF(this.parent.getActiveSheet().activeCell),i=this.parent.sheets[this.parent.getActiveSheet().id-1].rows[n[0]];e.preventDefault(),JO(i)||(t=i.cells[n[1]]),JO(t)&&gB(n[0],n[1],this.parent.getActiveSheet(),t,!1),this.parent.notify(t&&t.hyperlink?"editHyperlink":"initiateHyperlink",null)}else 90===e.keyCode?this.parent.isEdit||(e.preventDefault(),this.parent.notify("performUndoRedo",{isUndo:!0})):89===e.keyCode&&(this.parent.isEdit||(e.preventDefault(),this.parent.notify("performUndoRedo",{isUndo:!1})));if(!this.parent.getActiveSheet().isProtected){if(70===e.keyCode){e.preventDefault();var a=document.querySelector(".e-spreadsheet-find-ddb");JO(a)||a.click()}else if(71===e.keyCode)e.preventDefault(),this.parent.notify(wH,null);else if(72===e.keyCode)e.preventDefault(),this.parent.notify(_H,null);else if(88===e.keyCode)this.parent.notify("cut",{promise:Promise});else if(86===e.keyCode)this.parent.notify("paste",{isAction:!0});else if(66===e.keyCode){e.preventDefault();var r=this.parent.getCellStyleValue(["fontWeight"],GF(this.parent.getActiveSheet().activeCell)).fontWeight;r="bold"===r?"normal":"bold",this.parent.notify(lH,{style:{fontWeight:r},onActionUpdate:!0,refreshRibbon:!0})}else if(73===e.keyCode){e.preventDefault();var s=this.parent.getCellStyleValue(["fontStyle"],GF(this.parent.getActiveSheet().activeCell)).fontStyle;s="italic"===s?"normal":"italic",this.parent.notify(lH,{style:{fontStyle:s},onActionUpdate:!0,refreshRibbon:!0})}else 85===e.keyCode?(e.preventDefault(),this.parent.notify("textDecorationUpdate",{style:{textDecoration:"underline"},refreshRibbon:!0})):53===e.keyCode&&(e.preventDefault(),this.parent.notify("textDecorationUpdate",{style:{textDecoration:"line-through"},refreshRibbon:!0}));e.shiftKey&&76===e.keyCode&&(this.parent.isEdit||(e.preventDefault(),this.parent.applyFilter()))}}27===e.keyCode&&this.parent.notify("clearCopy",null)}},{key:"getModuleName",value:function(){return"keyboardShortcut"}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}}]),e}(),RV=function(){function e(t){_classCallCheck(this,e),this.checkHeight=!1,this.parent=t,this.row=t.createElement("tr",{className:"e-row"}),this.parent.on("initialLoad",this.addEventListener,this)}return _createClass(e,[{key:"applyCellFormat",value:function(e){var t=Object.keys(e.style),n=this.parent.getActiveSheet();if(!(e.lastCell&&yV(n,e.rowIdx)<=20)||t.length){var i=e.cell||this.parent.getCell(e.rowIdx,e.colIdx);if(i){if(void 0!==e.style.border||void 0!==e.style.borderTop||void 0!==e.style.borderLeft){var a={};Object.keys(e.style).forEach((function(t){a[t]=e.style[t]})),void 0!==a.border&&(Object.assign(i.style,{borderRight:e.style.border,borderBottom:e.style.border}),this.setLeftBorder(e.style.border,i,e.rowIdx,e.colIdx,e.row,e.onActionUpdate,e.first),this.setTopBorder(e.style.border,i,e.rowIdx,e.colIdx,e.pRow,e.pHRow,e.onActionUpdate,e.first,e.lastCell,e.manualUpdate),delete a.border),void 0!==a.borderTop&&(this.setTopBorder(e.style.borderTop,i,e.rowIdx,e.colIdx,e.pRow,e.pHRow,e.onActionUpdate,e.first,e.lastCell,e.manualUpdate),delete a.borderTop),void 0!==a.borderLeft&&(this.setLeftBorder(e.style.borderLeft,i,e.rowIdx,e.colIdx,e.row,e.onActionUpdate,e.first),delete a.borderLeft),Object.keys(a).length&&(void 0!==a.borderBottom&&this.setThickBorderHeight(a.borderBottom,e.rowIdx,e.colIdx,i,e.row,e.hRow,e.onActionUpdate,e.lastCell,e.manualUpdate),Object.assign(i.style,a))}else void 0!==e.style.borderBottom&&this.setThickBorderHeight(e.style.borderBottom,e.rowIdx,e.colIdx,i,e.row,e.hRow,e.onActionUpdate,e.lastCell,e.manualUpdate),Object.assign(i.style,e.style);if(e.isHeightCheckNeeded&&(!n.rows[e.rowIdx]||!n.rows[e.rowIdx].customHeight))if(e.manualUpdate)this.checkHeight||(this.checkHeight=this.isHeightCheckNeeded(e.style,e.onActionUpdate)),this.updateRowHeight(e.rowIdx,e.colIdx,e.lastCell,e.onActionUpdate);else{var r=mB(e.rowIdx,e.colIdx,n);if(r&&r.wrap||!this.isHeightCheckNeeded(e.style)||vV(n,e.rowIdx,e.colIdx,fV(this.parent,e.style)),e.lastCell){var s=yV(n,e.rowIdx);s>20&&s>dB(n,e.rowIdx)&&pV(this.parent,n,s,e.rowIdx,e.row,e.hRow,!1)}}}else this.updateRowHeight(e.rowIdx,e.colIdx,!0,e.onActionUpdate)}}},{key:"updateRowHeight",value:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.checkHeight){this.checkHeight=!1;var r,s=this.parent.getActiveSheet(),l=mB(e,t,s);if(vV(s,e,t,fV(this.parent,l&&l.style||this.parent.cellStyle,l&&l.wrap?gV(this.parent.getDisplayText(l),BB(s,t),l.style,this.parent.cellStyle):1)+a),n){var o=this.parent.getRow(e);if(!o)return;var u=dB(s,e);r=yV(s,e),(i?r!==u:r>u)&&pV(this.parent,s,r,e,o)}}}},{key:"isHeightCheckNeeded",value:function(e,t){var n=Object.keys(e);return(t?n.indexOf("fontSize")>-1:n.indexOf("fontSize")>-1&&Number(e.fontSize.split("pt")[0])>12)||n.indexOf("fontFamily")>-1}},{key:"setLeftBorder",value:function(e,t,n,i,a,r,s){if(!s.includes("Column")){var l=this.parent.getCell(n,i-1,a);l?(r&&""!==e&&i===this.parent.viewport.leftIndex&&(this.parent.getMainContent().scrollLeft-=this.getBorderSize(e)),l.style.borderRight=e):t.style.borderLeft=e}}},{key:"setTopBorder",value:function(e,t,n,i,a,r,s,l,o,u){if(!l.includes("Row")){var c=this.parent.getCell(n-1,i,a);if(c){if(hB(this.parent.getActiveSheet(),n-1)){var h=[Number(c.parentElement.getAttribute("aria-rowindex"))-1,i];if(this.parent.getCellStyleValue(["bottomPriority"],h).bottomPriority)return}s&&""!==e&&this.parent.getActiveSheet().topLeftCell.includes("".concat(n+1))&&(this.parent.getMainContent().scrollTop-=this.getBorderSize(e)),this.setThickBorderHeight(e,n-1,i,c,a,r,s,o,u),c.style.borderBottom=e}else t.style.borderTop=e}}},{key:"setThickBorderHeight",value:function(e,t,n,i,a,r,s,l,o){var u=e?this.getBorderSize(e):1,c=this.parent.getActiveSheet();if(u>2&&(!c.rows[t]||!c.rows[t].customHeight))if(o)this.checkHeight||(this.checkHeight=!0),this.updateRowHeight(t,n,l,s,u);else{var h=dB(c,t),d=Math.ceil(this.parent.calculateHeight(this.parent.getCellStyleValue(["fontFamily","fontSize"],[t,n]),1,3));d>h&&(pV(this.parent,c,d,t,a,r,!1),this.parent.notify("rowHeightChanged",{rowIdx:t,threshold:d-20}))}!s||!l&&this.checkHeight||!(u<3)||c.rows[t]&&c.rows[t].customHeight||(this.checkHeight||(this.checkHeight=!0),this.updateRowHeight(t,n,l,s,u))}},{key:"getBorderSize",value:function(e){var t=e.split(" ")[0];return"thin"===t?1:"medium"===t?2:"thick"===t?3:parseInt(t,10)?parseInt(t,10):1}},{key:"addEventListener",value:function(){this.parent.on("applyCellFormat",this.applyCellFormat,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("initialLoad",this.addEventListener),this.parent.off("applyCellFormat",this.applyCellFormat))}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null,this.row=null,this.checkHeight=null}},{key:"getModuleName",value:function(){return"cellformat"}}]),e}(),FV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){this.parent.on("contentLoaded",this.wireEvents,this),this.parent.on("beforeHeaderLoaded",this.wireEvents,this),this.parent.on(bH,this.autoFit,this),this.parent.on("setAutoFit",this.setAutoFitHandler,this)}},{key:"autoFit",value:function(e){for(var t=e.isRow?this.parent.getRowHeaderTable():this.parent.getColHeaderTable().rows[0],n=e.startIndex;n<=e.endIndex;n++)this.trgtEle=e.isRow?this.parent.getRow(n,t):this.parent.getCell(null,n,t),this.setAutofit(n,!e.isRow)}},{key:"wireEvents",value:function(e){if(this.parent.getActiveSheet().showHeaders){var t=e?e.element:this.parent.getRowHeaderContent(),n=this.parent.getColumnHeaderContent();$I.add(n,"dblclick",this.dblClickHandler,this),$I.add(t,"dblclick",this.dblClickHandler,this),$I.add(n,"mousedown",this.mouseDownHandler,this),$I.add(t,"mousedown",this.mouseDownHandler,this),this.wireResizeCursorEvent(t,n)}}},{key:"wireResizeCursorEvent",value:function(e,t){$I.add(e,"mousemove",this.setTarget,this),$I.add(t,"mousemove",this.setTarget,this)}},{key:"unWireResizeCursorEvent",value:function(){$I.remove(this.parent.getRowHeaderContent(),"mousemove",this.setTarget),$I.remove(this.parent.getColumnHeaderContent(),"mousemove",this.setTarget)}},{key:"unwireEvents",value:function(){this.parent.getActiveSheet().showHeaders&&($I.remove(this.parent.getColumnHeaderContent(),"dblclick",this.dblClickHandler),$I.remove(this.parent.getRowHeaderContent(),"dblclick",this.dblClickHandler),$I.remove(this.parent.getColumnHeaderContent(),"mousedown",this.mouseDownHandler),$I.remove(this.parent.getRowHeaderContent(),"mousedown",this.mouseDownHandler),this.unWireResizeCursorEvent())}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("contentLoaded",this.wireEvents),this.parent.off("beforeHeaderLoaded",this.wireEvents),this.parent.off(bH,this.autoFit),this.parent.off("setAutoFit",this.setAutoFitHandler))}},{key:"mouseMoveHandler",value:function(e){var t=this.parent.element.getElementsByClassName("e-sheet-panel")[0],n=this.parent.element.getElementsByClassName("e-colresize-handler")[0],i=this.parent.element.getElementsByClassName("e-rowresize-handler")[0];(n||i)&&(this.isMouseMoved=!0,n?e.x>this.trgtEle.parentElement.firstChild.getBoundingClientRect().left&&(n.style.left=e.clientX-this.parent.element.getBoundingClientRect().left+"px"):i&&e.y>=this.trgtEle.parentElement.parentElement.firstChild.getBoundingClientRect().top&&(i.style.top=e.clientY-t.getBoundingClientRect().top+"px"))}},{key:"mouseDownHandler",value:function(e){if(this.event=e,this.trgtEle=e.target,this.trgtEle.parentElement.classList.contains("e-hide-end")||this.trgtEle.classList.contains("e-hide-end")){var t=this.trgtEle.offsetHeight,n=e.offsetY;(t>=10&&n<5||t-2<8&&n<Math.ceil((n-2)/2))&&this.trgtEle.classList.add("e-skip-resize")}this.updateTarget(e,this.trgtEle);var i=this.trgtEle,a=i.classList.contains("e-colresize")?"e-colresize-handler":i.classList.contains("e-rowresize")?"e-rowresize-handler":"";this.createResizeHandler(i,a),this.unWireResizeCursorEvent(),$I.add(this.parent.element,"mousemove",this.mouseMoveHandler,this),$I.add(document,"mouseup",this.mouseUpHandler,this)}},{key:"mouseUpHandler",value:function(e){var t=this.parent.element.getElementsByClassName("e-colresize-handler")[0],n=this.parent.element.getElementsByClassName("e-rowresize-handler")[0];this.resizeOn(e),this.isMouseMoved=null;var i=t||n;i&&(this.parent.element.getElementsByClassName("e-sheet-panel")[0].removeChild(i),this.updateCursor(e)),$I.remove(document,"mouseup",this.mouseUpHandler),$I.remove(this.parent.element,"mousemove",this.mouseMoveHandler),this.wireResizeCursorEvent(this.parent.getRowHeaderContent(),this.parent.getColumnHeaderContent())}},{key:"dblClickHandler",value:function(e){if(this.trgtEle=e.target,this.updateTarget(e,this.trgtEle),this.trgtEle.classList.contains("e-colresize")){var t=parseInt(this.trgtEle.getAttribute("aria-colindex"),10)-1,n="".concat(BB(this.parent.getActiveSheet(),t),"px");this.trgtEle.classList.contains("e-unhide-column")?this.showHiddenColumns(t-1):this.setAutofit(t,!0,n)}else if(this.trgtEle.classList.contains("e-rowresize")){var i=parseInt(this.trgtEle.parentElement.getAttribute("aria-rowindex"),10)-1,a="".concat(dB(this.parent.getActiveSheet(),i),"px");this.setAutofit(i,!1,a)}}},{key:"setTarget",value:function(e){var t,n,i,a,r=e.target,s=this.parent.getActiveSheet();if(s.isProtected&&(!s.protectSettings.formatColumns||!s.protectSettings.formatRows)){if(!s.protectSettings.formatRows&&!s.protectSettings.formatColumns)return;if(s.protectSettings.formatRows&&nD(r,".e-colhdr-table"))return;if(s.protectSettings.formatColumns&&nD(r,".e-rowhdr-table"))return}if(nD(r,".e-header-row")?(i=e.offsetX,n=r.offsetWidth,a="e-colresize",r.previousElementSibling?t=r.previousElementSibling:Number(r.getAttribute("aria-colindex"))>1&&(t=r)):nD(r,".e-row")&&(i=e.offsetY,n=r.offsetHeight,a="e-rowresize",r.parentElement.previousElementSibling?t=r.parentElement.previousElementSibling.firstElementChild:Number(r.parentElement.getAttribute("aria-rowindex"))>1&&(t=r)),n-2<8&&i!==Math.ceil((n-2)/2))i<Math.ceil((n-2)/2)?(r.classList.add(a),t.classList.add(a)):i>Math.ceil((n-2)/2)&&r.classList.add(a);else if(n-5<i&&i<=n&&n>=10)r.classList.add(a);else if(i<5&&t&&n>=10)r.classList.add(a),t.classList.add(a);else for(var l="e-colresize"===a?r.parentElement.getElementsByClassName(a):this.parent.getRowHeaderTable().getElementsByClassName(a),o=0;o<l.length;o++)l[o].classList.remove(a)}},{key:"updateTarget",value:function(e,t){if(nD(t,".e-header-row")){if(t.offsetWidth<10&&e.offsetX<Math.ceil((t.offsetWidth-2)/2)||e.offsetX<5&&t.offsetWidth>=10&&t.classList.contains("e-colresize")){var n=this.parent.getActiveSheet(),i=Number(this.trgtEle.getAttribute("aria-colindex"))-2;t.previousElementSibling&&!jB(n,i)?this.trgtEle=t.previousElementSibling:i>-1&&this.trgtEle.classList.add("e-unhide-column")}}else if(t.offsetHeight<10&&e.offsetY<Math.ceil((t.offsetHeight-2)/2)||e.offsetY<5&&t.offsetHeight>=10&&t.classList.contains("e-rowresize")){var a=this.parent.getActiveSheet(),r=Number(t.parentElement.getAttribute("aria-rowindex"))-2;if(t.parentElement.previousElementSibling||hB(a,r))if("dblclick"===e.type&&hB(a,r)){var s,l=eH(YF(this.parent.getActiveSheet().selectedRange));s=r<=l[2]&&r>l[0]?{startIndex:l[0],endIndex:l[2],hide:!1,autoFit:!0}:{startIndex:r,endIndex:r,hide:!1,autoFit:!0},this.parent.notify("hideShow",s)}else hB(a,r)||(this.trgtEle=t.parentElement.previousElementSibling.getElementsByClassName("e-header-cell")[0])}}},{key:"setAutoFitHandler",value:function(e){this.setAutofit(e.idx,e.isCol)}},{key:"setAutofit",value:function(e,t,n){var i=0,a=this.parent.getActiveSheet(),r=this.parent.getMainContent(),s="".concat(t?BB(this.parent.getActiveSheet(),e):dB(this.parent.getActiveSheet(),e),"px"),l=[],o=r.getElementsByClassName("e-content-table")[0];if(this.parent.getActiveSheet().showHeaders&&(t?this.parent.getColHeaderTable():this.parent.getRowHeaderTable()).getElementsByTagName("tr"),t){for(var u=a.rows.length,c=0;c<u;c++)if(a.rows[c]&&a.rows[c].cells&&a.rows[c].cells[e]){var h=this.parent.createElement("td",{className:"e-cell",innerHTML:this.parent.getDisplayText(a.rows[c].cells[e])});if(a.rows[c].cells[e].style){var d=a.rows[c].cells[e].style;d.fontFamily&&(h.style.fontFamily=d.fontFamily),d.fontSize&&(h.style.fontSize=d.fontSize)}l[i]=h,i++}}else for(var p=a.rows[e]&&a.rows[e].cells?a.rows[e].cells.length:0,f=0;f<p;f++)if(a.rows[e]&&a.rows[e].cells[f]){var m=this.parent.createElement("td",{innerHTML:this.parent.getDisplayText(a.rows[e].cells[f])});if(a.rows[e].cells[f].style){var g=a.rows[e].cells[f].style;g.fontFamily&&(m.style.fontFamily=g.fontFamily),g.fontSize&&(m.style.fontSize=g.fontSize)}l[i]=m,i++}var v=cV(o,l,t,this.parent);t&&(v=this.getFloatingElementWidth(v,e));var y=0===v?parseInt(s,10):v,b=parseInt(s,10)>y?-(parseInt(s,10)-y):y-parseInt(s,10);if(t)if(e>=this.parent.viewport.leftIndex&&e<=this.parent.viewport.rightIndex)FB(a,e).width=y>0?y:0,this.parent.notify("colWidthChanged",{threshold:b,colIdx:e}),this.resizeStart(e,this.parent.getViewportIndex(e,!0),y+"px",t,!0,n);else{var k,C=BB(a,e);k=y>0?-(C-y):-C,this.parent.notify("colWidthChanged",{threshold:k,colIdx:e}),FB(a,e).width=y>0?y:0}else if(!t)if(e>=this.parent.viewport.topIndex&&e<=this.parent.viewport.bottomIndex)pB(a,e,(y=y>20?y:20)>0?y:0),this.parent.notify("rowHeightChanged",{threshold:b,rowIdx:e}),this.resizeStart(e,this.parent.getViewportIndex(e),y+"px",t,!0,n);else{var w,_=dB(a,e);w=y>0?-(_-y):-_,this.parent.notify("rowHeightChanged",{threshold:w,rowIdx:e}),pB(a,e,y>0?y:0)}}},{key:"createResizeHandler",value:function(e,t){var n=this.parent.createElement("div",{className:t});e.classList.contains("e-colresize")?(n.style.height=this.parent.getMainContent().clientHeight+e.offsetHeight+"px",n.style.left=this.event.clientX-this.parent.element.getBoundingClientRect().left+"px",n.style.top="0px"):e.classList.contains("e-rowresize")&&(n.style.width=this.parent.getMainContent().clientWidth+e.offsetWidth+"px",n.style.left="0px",n.style.top=this.event.clientY-this.parent.element.getElementsByClassName("e-sheet-panel")[0].getBoundingClientRect().top+"px"),this.parent.element.getElementsByClassName("e-sheet-panel")[0].appendChild(n),this.updateCursor(this.event)}},{key:"setColWidth",value:function(e,t,n,i){var a=this.parent.getActiveSheet(),r=n-i;if(r<0&&i<-r&&(r=-i),n>0){if(this.isMouseMoved&&this.trgtEle.classList.contains("e-unhide-column"))return this.showHiddenColumns(e,n),void this.parent.notify(kH,{eventArgs:{index:e,width:"0px",isCol:!0,sheetIdx:this.parent.activeSheetIndex,oldWidth:"".concat(i,"px"),hide:!1},action:"resize"});this.parent.notify("colWidthChanged",{threshold:r,colIdx:e}),this.resizeStart(e,t,"".concat(n,"px"),!0,!1,"".concat(i,"px")),HB(a,e,{width:n,customWidth:!0})}else this.isMouseMoved&&(this.parent.hideColumn(e),this.parent.notify(kH,{eventArgs:{index:e,width:"0px",isCol:!0,sheetIdx:this.parent.activeSheetIndex,oldWidth:"".concat(i,"px"),hide:!0},action:"resize"}))}},{key:"showHiddenColumns",value:function(e,t){var n,i,a,r=this.parent.getActiveSheet(),s=YF(r.selectedRange);if(e>=s[1]&&e<=s[3]&&s[2]===r.rowCount-1&&GF(r.activeCell)[0]===GF(r.topLeftCell)[0]?(n=s[1],i=s[3],a=this.parent.getMainContent().querySelector("colgroup")):n=i=e,void 0!==t)for(var l=n;l<=i;l++)HB(r,l,{width:t,customWidth:!0}),l>=this.parent.viewport.leftIndex&&l<=this.parent.viewport.rightIndex&&!jB(r,l)&&(a.children[this.parent.getViewportIndex(l,!0)].style.width="".concat(t,"px"));this.trgtEle.classList.remove("e-unhide-column"),this.parent.hideColumn(n,i,!1),void 0===t&&this.autoFit({isRow:!1,startIndex:n,endIndex:i})}},{key:"setRowHeight",value:function(e,t,n,i){var a=this.parent.getActiveSheet(),r=parseInt(this.parent.getMainContent().getElementsByTagName("tr")[t].style.height,10),s=n,l=parseInt(s,10)-r;l<0&&r<-l&&(l=-r),this.parent.notify("rowHeightChanged",{threshold:l,rowIdx:e,isCustomHgt:!0}),this.resizeStart(e,t,s,!1,!1,i),cB(a,e,{height:parseInt(s,10)>0?parseInt(s,10):0,customHeight:!0})}},{key:"resizeOn",value:function(e){var t,n,i=this;if(this.trgtEle.classList.contains("e-rowresize")){var a=this.parent.getActiveSheet(),r=Number(this.trgtEle.parentElement.getAttribute("aria-rowindex"))-2;if(this.isMouseMoved&&hB(a,r)&&this.trgtEle.classList.contains("e-skip-resize")&&e.clientY>this.trgtEle.getBoundingClientRect().top){this.trgtEle.classList.remove("e-skip-resize");var s={startIndex:r,endIndex:r,hide:!1,skipAppend:!0};this.parent.notify("hideShow",s);var l=this.parent.getRowHeaderTable().tBodies[0],o=this.parent.getContentTable().tBodies[0];s.hdrRow.style.display="none",s.row.style.display="none",l.insertBefore(s.hdrRow,l.children[s.insertIdx]),o.insertBefore(s.row,o.children[s.insertIdx]),this.trgtEle=s.hdrRow.firstElementChild,s.hdrRow.nextElementSibling.classList.remove("e-hide-end"),s.mergeCollection.forEach((function(e){i.parent.notify(cH,e)}))}else if(this.trgtEle.classList.contains("e-skip-resize")){if(this.trgtEle.classList.remove("e-skip-resize"),!this.isMouseMoved&&hB(a,r)||!this.trgtEle.parentElement.previousElementSibling)return;this.trgtEle=this.trgtEle.parentElement.previousElementSibling.getElementsByClassName("e-header-cell")[0]}n=t=parseInt(this.trgtEle.parentElement.getAttribute("aria-rowindex"),10)-1,t=this.parent.getViewportIndex(n);var u=this.parent.getMainContent().getElementsByClassName("e-row")[t].style.height,c=e.clientY-this.event.clientY+parseInt(u,10);if(c<=0)return this.parent.hideRow(n),cB(a,n,{height:0,customHeight:!0}),void this.parent.notify(kH,{eventArgs:{index:n,height:"0px",isCol:!1,sheetIdx:this.parent.activeSheetIndex,oldHeight:u},action:"resize"});if(this.setRowHeight(n,t,"".concat(c,"px"),u),"none"===this.trgtEle.parentElement.style.display){var h=this.parent.getActiveSheet(),d=eH(YF(h.selectedRange));if(n<=d[2]&&n>d[0]){var p;c=h.rows[n].height;for(var f=d[0];f<=d[2];f++)f!==n&&(u="".concat(dB(h,f),"px"),cB(h,f,{customHeight:!0,height:c}),hB(h,f)?p||(p=f):(this.parent.getRow(f).style.height="".concat(c,"px"),h.showHeaders&&(this.parent.getRow(f,this.parent.getRowHeaderTable()).style.height="".concat(c,"px"))),this.parent.notify(kH,{eventArgs:{index:f,height:"".concat(c,"px"),isCol:!1,sheetIdx:this.parent.activeSheetIndex,oldHeight:u},action:"resize"}));this.parent.hideRow(d[0],n-1,!1),t+=Math.abs(n-p)}else 0===t||hB(h,n-1)?0!==t&&this.trgtEle.parentElement.classList.add("e-hide-end"):this.trgtEle.parentElement.previousElementSibling.classList.remove("e-hide-start"),this.parent.selectRange(h.selectedRange);this.trgtEle.parentElement.style.display="",this.parent.getContentTable().rows[t].style.display=""}}else if(this.trgtEle.classList.contains("e-colresize")){var m;this.isMouseMoved&&this.trgtEle.classList.contains("e-unhide-column")&&e.clientX<this.trgtEle.getBoundingClientRect().left&&(this.trgtEle.classList.remove("e-unhide-column"),this.trgtEle.previousElementSibling&&(this.trgtEle=this.trgtEle.previousElementSibling)),t=parseInt(this.trgtEle.getAttribute("aria-colindex"),10)-1,this.trgtEle.classList.contains("e-unhide-column")?(t-=1,m=0):m=BB(this.parent.getActiveSheet(),t),this.setColWidth(t,this.parent.getViewportIndex(t,!0),e.clientX-this.event.clientX+m,m)}}},{key:"setWidthAndHeight",value:function(e,t,n){n?e.style.width=parseInt(e.style.width,10)+t+"px":e.style.height=parseInt(e.style.height,10)+t+"px"}},{key:"resizeStart",value:function(e,t,n,i,a,r){var s,l;this.parent.getActiveSheet().showHeaders?oV(t,n,i,this.parent):i?this.parent.element.getElementsByClassName("e-sheet-content")[0].getElementsByTagName("col")[t].style.width=n:this.parent.element.getElementsByClassName("e-sheet-content")[0].getElementsByTagName("tr")[t].style.height=n,i?(s={index:e,width:n,isCol:i,sheetIdx:this.parent.activeSheetIndex,oldWidth:r},l=r!==n):(s={index:e,height:n,isCol:i,sheetIdx:this.parent.activeSheetIndex,oldHeight:r},l=r!==n),l&&this.parent.notify(kH,{eventArgs:s,action:a?"resizeToFit":"resize"})}},{key:"updateCursor",value:function(e){this.parent.element.getElementsByClassName("e-colresize-handler")[0]?this.parent.element.classList.add("e-col-resizing"):this.parent.element.classList.contains("e-col-resizing")&&this.parent.element.classList.remove("e-col-resizing"),this.parent.element.getElementsByClassName("e-rowresize-handler")[0]?this.parent.element.classList.add("e-row-resizing"):this.parent.element.classList.contains("e-row-resizing")&&this.parent.element.classList.remove("e-row-resizing")}},{key:"getFloatingElementWidth",value:function(e,t){var n=e,i={filterRange:[],hasFilter:!1};return this.parent.notify("getFilterRange",i),i.hasFilter&&i.filterRange&&i.filterRange[1]<=t&&i.filterRange[3]>=t&&(n=e+22),n}},{key:"destroy",value:function(){this.unwireEvents(),this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"resize"}}]),e}(),HV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"refreshClients",value:function(e){hV(e,this.parent)}},{key:"addEventListener",value:function(){this.parent.on("collaborativeUpdate",this.refreshClients,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("collaborativeUpdate",this.refreshClients)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"collaborativeEditing"}}]),e}(),BV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"hideShow",value:function(e){if(e.startIndex>e.endIndex){var t=e.startIndex;e.startIndex=e.endIndex,e.endIndex=t}e.actionUpdate&&this.parent.notify(CH,{eventArgs:e,action:"hideShow"}),e.isCol?this.hideCol(e):this.hideRow(e),e.actionUpdate&&this.parent.notify(kH,{eventArgs:e,action:"hideShow"})}},{key:"hideRow",value:function(e){var t,n,i,a,r=this,s=this.parent.getActiveSheet(),l=0;if(e.hide){for(var o,u,c,h=e.startIndex;h<=e.endIndex;h++)if(!hB(s,h))if(void 0===n&&(s.showHeaders&&(u=this.parent.getRowHeaderTable()),o=this.parent.getContentTable(),n=this.parent.getViewportIndex(h),l=0),cB(s,h,{hidden:!0}),c=o.rows[n]){if(!a)for(var d=0;d<=s.usedRange.colIndex;d++)if(((t=mB(h,d,s)||{}).colSpan||t.rowSpan)&&(e.startIndex>=this.parent.viewport.topIndex||this.parent.scrollSettings.enableVirtualization)){a=!0;break}if(a)continue;if(s.showHeaders&&ZA(u.rows[n]),ZA(c),l++,(c=o.rows[n])&&h===e.endIndex)for(var p=void 0,f=(i=bV(s,h+1,!0))!==bV(s,0,!0)&&i===(this.parent.viewport.topIndex>=e.startIndex?e.endIndex+1:this.parent.viewport.topIndex)?"Row":"",m=this.parent.viewport.leftIndex;m<=this.parent.viewport.rightIndex;m++){var g=this.parent.getCellStyleValue(["borderTop"],[i,m]).borderTop;""!==g&&(p=c.cells[m],this.parent.notify("applyCellFormat",{onActionUpdate:!1,rowIdx:i,colIdx:m,style:{borderTop:g},row:c,pRow:c.previousElementSibling,first:f,cell:p}))}}else h<=this.parent.viewport.bottomIndex?l++:l--;if(a&&(e.startIndex>=this.parent.viewport.topIndex||!this.parent.scrollSettings.enableVirtualization))return this.parent.selectRange(s.selectedRange),void this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Row"});if(!l)return;if(this.parent.selectRange(s.selectedRange),this.parent.scrollSettings.enableVirtualization){this.parent.viewport.topIndex>=e.startIndex&&(this.parent.viewport.topIndex=e.endIndex+1),e.startIndex=this.parent.viewport.bottomIndex+1,e.endIndex=e.startIndex+l-1;var v=this.parent.skipHidden(e.startIndex,e.endIndex);e.startIndex=v[0],e.endIndex=v[1],this.parent.viewport.bottomIndex=e.endIndex,this.parent.renderModule.refreshUI({colIndex:this.parent.viewport.leftIndex,direction:"",refresh:"RowPart"},"".concat(KF(e.startIndex,this.parent.viewport.leftIndex),":").concat(KF(e.endIndex,this.parent.viewport.leftIndex+this.parent.viewport.colCount+2*this.parent.getThreshold("col"))))}s.showHeaders&&(0===n?u.rows[0]&&u.rows[0].classList.add("e-hide-end"):(u.rows[n-1]&&u.rows[n-1].classList.add("e-hide-start"),u.rows[n]&&u.rows[n].classList.add("e-hide-end")))}else{for(var y,b,k,C,w,_,x,S,E,O=e.startIndex-1,I=[],A=e.startIndex,D=e.endIndex;A<=D;A++)if(hB(s,A))if(void 0===E)if(A>this.parent.viewport.bottomIndex){if(cB(s,A,{hidden:!1}),void 0===S)return}else{void 0===S&&(S=A),cB(s,A,{hidden:!1}),void 0===n&&(y=document.createDocumentFragment(),b=document.createDocumentFragment(),w=this.parent.serviceLocator.getService("row"),s.showHeaders&&(_=this.parent.getRowHeaderTable().tBodies[0]),x=this.parent.getContentTable().tBodies[0],A<this.parent.viewport.topIndex&&(this.parent.viewport.topIndex=A),n=0===A?0:this.parent.getViewportIndex(A)),O++,s.showHeaders&&(k=w.refresh(A,null,null,!0),y.appendChild(k),ZA(_.lastElementChild)),C=b.appendChild(w.refresh(A,C,k)),ZA(x.lastElementChild);for(var M=this.parent.viewport.leftIndex;M<=this.parent.viewport.rightIndex;M++)if(void 0!==(t=mB(A,M,s)||{}).rowSpan){var T={range:[A,M,A,M],isAction:!1,merge:!0,type:"All",skipChecking:!0};this.parent.notify("activeCellMergedRange",T),I.length&&T.range[1]===I[I.length-1].range[1]||I.push(T)}}else D=A;else{if(e.startIndex===e.endIndex)return;void 0===n?O++:E=A}if(this.parent.viewport.bottomIndex=this.parent.viewport.topIndex+this.parent.viewport.rowCount+2*this.parent.getThreshold("row"),l=this.parent.hiddenCount(this.parent.viewport.topIndex,e.startIndex)+this.parent.hiddenCount(e.endIndex+1,this.parent.viewport.bottomIndex),this.parent.viewport.bottomIndex+=l,e.insertIdx=n,e.row=b.querySelector(".e-row"),e.mergeCollection=I,s.showHeaders&&(e.hdrRow=y.querySelector(".e-row"),0!==n&&!hB(s,O-1)&&_.children[n-1]&&_.children[n-1].classList.remove("e-hide-start"),0!==e.startIndex&&hB(s,e.startIndex-1)&&e.hdrRow.classList.add("e-hide-end"),hB(s,O+1)?y.lastElementChild.classList.add("e-hide-start"):_.children[n]&&_.children[n].classList.remove("e-hide-end")),C&&x.children[n]){i=bV(s,O+1,!0);for(var P=this.parent.viewport.leftIndex;P<=this.parent.viewport.rightIndex;P++){var L=this.parent.getCellStyleValue(["borderTop"],[i,P]).borderTop;if(""!==L){this.parent.notify("applyCellFormat",{onActionUpdate:!1,rowIdx:i,colIdx:P,style:{borderTop:L},pRow:C,cell:x.children[n].children[P],first:""});var N=bV(s,S-1,!1);N>-1?!x.children[n-1]||this.parent.getCellStyleValue(["borderBottom"],[N,P]).borderBottom||this.parent.getCellStyleValue(["borderTop"],[S,P]).borderTop||(x.children[n-1].children[P].style.borderBottom=""):x.children[n].children[P].style.borderTop=""}}}if(e.skipAppend)return;s.showHeaders&&_.insertBefore(y,_.children[n]),x.insertBefore(b,x.children[n]),this.parent.selectRange(s.selectedRange),e.autoFit&&s.showHeaders&&this.parent.notify(bH,{startIndex:e.startIndex,endIndex:e.endIndex,isRow:!0}),I.forEach((function(e){r.parent.notify(cH,e)})),void 0!==E&&E!==e.endIndex&&(e.startIndex=E,this.hideRow(e))}}},{key:"hideCol",value:function(e){for(var t,n=this,i=this.parent.getActiveSheet(),a=[],r=[],s=GF(i.topLeftCell),l=e.startIndex;l<=e.endIndex;l++)(e.hide?!jB(i,l):jB(i,l))&&(HB(i,l,{hidden:e.hide}),this.parent.scrollSettings.enableVirtualization&&(l<this.parent.viewport.leftIndex||l>this.parent.viewport.rightIndex)?l<this.parent.viewport.leftIndex&&r.push(l):(a.push(l),e.hide&&s[1]===l&&(t=!0)));if(r.length||a.length)if(e.hide){if(!a.length)return;if((a.length<=this.parent.getThreshold("col")||!this.parent.scrollSettings.enableVirtualization)&&this.removeCell(i,a),this.parent.scrollSettings.enableVirtualization){if(a[0]===this.parent.viewport.leftIndex&&(this.parent.viewport.leftIndex=bV(i,a[a.length-1]+1,!0,"columns")),t){var o=0;if(a.slice(0,a.indexOf(s[1])).forEach((function(e){o+=BB(i,e,!0)})),o){this.parent.notify("setScrollEvent",{set:!1});var u=this.parent.getMainContent();u.scrollLeft-=o,this.parent.notify("onContentScroll",{scrollLeft:u.scrollLeft,preventScroll:!0,skipHidden:!0}),zB((function(){return n.parent.notify("setScrollEvent",{set:!0})}))}}if(this.parent.scrollSettings.isFinite){var c=bV(i,i.colCount-1,!1,"columns"),h=this.parent.viewport.leftIndex,d=this.parent.viewport.rightIndex;if(d+a.length>=c){var p=bV(i,h-(d+a.length-c),!1,"columns");return p>-1&&(this.parent.viewport.leftIndex=p,this.parent.viewport.leftIndex-=this.parent.hiddenCount(d,c)),this.parent.viewport.rightIndex=c,h===this.parent.viewport.leftIndex&&d===this.parent.viewport.rightIndex||this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===bV(i,0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"}),void this.parent.selectRange(i.selectedRange)}}if(a.length<=this.parent.getThreshold("col")){var f=this.parent.skipHidden(this.parent.viewport.rightIndex+1,this.parent.viewport.rightIndex+a.length,"columns");this.parent.viewport.rightIndex=f[1],this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:f[0],direction:"",refresh:"ColumnPart"},"".concat($F([this.parent.viewport.topIndex,f[0],this.parent.viewport.bottomIndex,f[1]])))}else this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===bV(i,0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"})}this.parent.selectRange(i.selectedRange)}else{if(r.length){if(r.sort((function(e,t){return e-t})),this.parent.scrollSettings.enableVirtualization&&r[0]<this.parent.getThreshold("col")){var m=GF(i.topLeftCell)[0]+1;i.topLeftCell="A".concat(m),this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,rowIndex:this.parent.viewport.topIndex,colIndex:0,refresh:"Column"}),this.parent.selectRange(i.selectedRange)}else this.parent.goTo(KF(this.parent.viewport.topIndex,r[0]));return}a.length<=this.parent.getThreshold("col")||!this.parent.scrollSettings.enableVirtualization?(this.appendCell(i,a),this.parent.scrollSettings.enableVirtualization&&this.parent.notify("virtualContentLoaded",{refresh:"Column"})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===bV(i,0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"}),this.parent.selectRange(i.selectedRange)}}},{key:"removeCell",value:function(e,t){var n,i,a,r,s,l,o,u=this,c=0,h=this.parent.getViewportIndex(t[0],!0)+1;this.parent.scrollSettings.enableVirtualization?(n=this.parent.viewport.topIndex,i=this.parent.viewport.bottomIndex):(n=0,i=e.rowCount-1);var d,p=this.parent.getContentTable();if(l=p.getElementsByTagName("colgroup")[0],e.showHeaders){var f=this.parent.getColHeaderTable();s=f.getElementsByTagName("colgroup")[0],a=f.rows[0]}for(var m=t.length-1;n<=i;)hB(e,n)?n++:(r=p.rows[c],t.forEach((function(i,p){if(ZA(r.cells[h]),0===c&&(e.showHeaders&&(ZA(a.cells[h]),ZA(s.children[h])),ZA(l.children[h])),0===p&&(void 0!==(o=mB(n,i,e)||{}).colSpan&&(void 0===o.rowSpan||o.colSpan>1)&&u.parent.notify("hiddenMerge",{rowIdx:n,colIdx:i,model:"col",start:t[0],end:t[m]})),p===m){d=bV(e,i+1,!0,"columns");var f=u.parent.getCellStyleValue(["borderLeft"],[c,d]).borderLeft;""!==f&&u.parent.notify("applyCellFormat",{onActionUpdate:!1,rowIdx:c,colIdx:d,style:{borderLeft:f},row:r,first:""}),void 0!==(o=mB(n,i,e)||{}).colSpan&&(void 0===o.rowSpan||o.colSpan>1)&&u.parent.notify("hiddenMerge",{rowIdx:n,colIdx:i,model:"col",start:t[0],end:t[m],isEnd:!0})}})),n++,c++);h-1>-1&&e.showHeaders&&a.cells[h-1]&&a.cells[h-1].classList.add("e-hide-start"),a.cells[h]&&a.cells[h].classList.add("e-hide-end")}},{key:"appendCell",value:function(e,t){var n,i,a,r,s,l,o,u=this,c=0;document.createDocumentFragment(),document.createDocumentFragment(),document.createDocumentFragment(),this.parent.scrollSettings.enableVirtualization?(n=this.parent.viewport.topIndex,i=this.parent.viewport.bottomIndex):(n=0,i=e.rowCount-1);var h=this.parent.getContentTable(),d=this.parent.getColHeaderTable();l=h.getElementsByTagName("colgroup")[0],e.showHeaders&&(s=d.getElementsByTagName("colgroup")[0],a=d.rows[0]);var p,f=this.parent.serviceLocator.getService("cell");t.sort((function(e,t){return e-t}));for(var m,g,v=[],y=[],b=t.length-1;n<=i;)hB(e,n)?n++:(r=h.rows[c],t.forEach((function(i,h){if(0===c&&(y[h]=u.parent.getViewportIndex(i,!0),l.children[y[h]]?(l.insertBefore(u.parent.sheetModule.updateCol(e,i),l.children[y[h]]),e.showHeaders&&(g=a.cells[y[h]],0===h&&t[h]&&!jB(e,t[h]-1)&&g.previousElementSibling.classList.remove("e-hide-start"),a.insertBefore(f.renderColHeader(i),g),h!==b||jB(e,t[h]+1)||g.classList.remove("e-hide-end"))):(l.appendChild(u.parent.sheetModule.updateCol(e,i)),e.showHeaders&&a.appendChild(f.renderColHeader(i))),ZA(l.lastChild),e.showHeaders&&(ZA(a.lastChild),h===b&&(ZA(s),d.insertBefore(l.cloneNode(!0),d.tHead[0])))),ZA(r.lastChild),g=r.cells[y[h]],m=f.render({rowIdx:n,colIdx:i,cell:mB(n,i,e),address:KF(n,i),lastCell:i===b,isHeightCheckNeeded:!0,first:i!==bV(e,0,!0,"columns")&&i===u.parent.viewport.leftIndex?"Column":"",checkNextBorder:h===b?"Column":""}),g?r.insertBefore(m,g):r.appendChild(m),0===h&&m.previousSibling&&""!==u.parent.getCellStyleValue(["borderLeft"],[c,bV(e,t[t.length-1]+1,!0,"columns")]).borderLeft&&((o=bV(e,t[0]-1,!1,"columns"))>-1&&!u.parent.getCellStyleValue(["borderRight"],[c,o]).borderRight&&!u.parent.getCellStyleValue(["borderLeft"],[c,t[0]]).borderLeft&&(m.previousSibling.style.borderRight="")),void 0!==(p=mB(c,i,e)||{}).colSpan&&(void 0===p.rowSpan||p.colSpan>1)){var k={range:[c,i,c,i],isAction:!1,merge:!0,type:"All",skipChecking:!0};u.parent.notify("activeCellMergedRange",k),v.length&&k.range[1]===v[v.length-1].range[1]||v.push(k)}})),n++,c++);v.forEach((function(e){u.parent.notify(cH,e)})),this.parent.viewport.rightIndex=bV(e,this.parent.viewport.rightIndex-t.length,!1,"columns")}},{key:"addEventListener",value:function(){this.parent.on("hideShow",this.hideShow,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.off("hideShow",this.hideShow),this.parent.off("spreadsheetDestroyed",this.destroy)}}]),e}(),VV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("initiateHyperlink",this.initiateHyperlinkHandler,this),this.parent.on("editHyperlink",this.editHyperlinkHandler,this),this.parent.on("removeHyperlink",this.removeHyperlinkHandler,this),this.parent.on("openHyperlink",this.openHyperlinkHandler,this),this.parent.on("click",this.hyperlinkClickHandler,this),this.parent.on("createHyperlinkElement",this.createHyperlinkElementHandler,this),this.parent.on(gH,this.keyUpHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("initiateHyperlink",this.initiateHyperlinkHandler),this.parent.off("editHyperlink",this.editHyperlinkHandler),this.parent.off("removeHyperlink",this.removeHyperlinkHandler),this.parent.off("openHyperlink",this.openHyperlinkHandler),this.parent.off("click",this.hyperlinkClickHandler),this.parent.off("createHyperlinkElement",this.createHyperlinkElementHandler),this.parent.off(gH,this.keyUpHandler))}},{key:"getModuleName",value:function(){return"spreadsheetHyperlink"}},{key:"keyUpHandler",value:function(e){var t=e.target;if(t.classList.contains("e-text")&&nD(t,".e-cont")&&nD(t,".e-webpage")&&nD(t,".e-webpage").getElementsByClassName("e-cont")[1]===t.parentElement){var n=(nD(t,".e-hyperlink-dlg")||nD(t,".e-edithyperlink-dlg")).getElementsByClassName("e-footer-content")[0].firstChild;""!==t.value?n.removeAttribute("disabled"):nD(t,".e-link-dialog").querySelector(".e-webpage").querySelectorAll(".e-cont")[1].querySelector(".e-text").value||n.setAttribute("disabled","true")}}},{key:"initiateHyperlinkHandler",value:function(){var e=this,t=this.parent.serviceLocator.getService(gj),n=this.parent.getActiveSheet();if(!n.isProtected||n.protectSettings.insertLink){if(!this.parent.element.querySelector(".e-dlg-container")){var i=this.parent.serviceLocator.getService(vj);i.show({width:323,isModal:!0,showCloseIcon:!0,cssClass:"e-hyperlink-dlg",header:t.getConstant("InsertLink"),beforeOpen:function(){i.dialogInstance.content=e.hyperlinkContent(),i.dialogInstance.dataBind(),e.parent.element.focus()},buttons:[{buttonModel:{content:t.getConstant("Insert"),isPrimary:!0,disabled:!0},click:function(){e.dlgClickHandler(i),i.hide()}}]})}}else this.parent.notify("editAlert",null)}},{key:"dlgClickHandler",value:function(e){var t,n,i=this.parent,a=this.parent.element.querySelector(".e-link-dialog").getElementsByClassName("e-content")[0].querySelector(".e-item.e-active");if(a)if(a.querySelector(".e-webpage"))t=a.getElementsByClassName("e-cont")[0].querySelector(".e-text").value,n=a.getElementsByClassName("e-cont")[1].querySelector(".e-text").value,this.parent.insertHyperlink({address:n},this.parent.getActiveSheet().activeCell,t,!1);else{t=a.getElementsByClassName("e-cont")[0].querySelector(".e-text").value,n=a.getElementsByClassName("e-cont")[1].querySelector(".e-text").value;var r=a.getElementsByClassName("e-cont")[2];if(r.getElementsByClassName("e-list-item")[0].querySelector(".e-active")){for(var s=a.getElementsByClassName("e-cont")[2].querySelector(".e-active").textContent,l=i.sheets,o=0;o<l.length;o++);n=s+"!"+n.toUpperCase(),this.parent.insertHyperlink({address:n},this.parent.getActiveSheet().activeCell,t,!1)}else if(r.querySelector(".e-active"))for(var u=a.getElementsByClassName("e-cont")[2].querySelector(".e-active").textContent,c=0;c<this.parent.definedNames.length;c++)this.parent.definedNames[c].name===u&&this.parent.insertHyperlink({address:this.parent.definedNames[c].name},this.parent.getActiveSheet().activeCell,t,!1)}}},{key:"editHyperlinkHandler",value:function(){var e=this,t=this.parent.serviceLocator.getService(gj),n=this.parent.serviceLocator.getService(vj);n.show({width:323,isModal:!0,showCloseIcon:!0,cssClass:"e-edithyperlink-dlg",header:t.getConstant("EditLink"),beforeOpen:function(){n.dialogInstance.content=e.hyperEditContent(),n.dialogInstance.dataBind(),e.parent.element.focus()},buttons:[{buttonModel:{content:t.getConstant("Update"),isPrimary:!0},click:function(){e.dlgClickHandler(n),n.hide()}}]})}},{key:"openHyperlinkHandler",value:function(){var e=GF(this.parent.getActiveSheet().activeCell),t=this.parent.getCell(e[0],e[1]);t.getElementsByClassName("e-hyperlink")[0]&&(t=t.querySelector(".e-hyperlink")),this.hlOpenHandler(t)}},{key:"removeHyperlinkHandler",value:function(e){this.parent.removeHyperlink(e)}},{key:"hlOpenHandler",value:function(e){var t=this;if(e.classList.contains("e-hyperlink")){var n,i=["",""],a=!0;e.style.color="#551A8B";var r,s,l,o=this.parent.getActiveSheet(),u=parseInt(e.parentElement.getAttribute("aria-colindex"),10)-1,c=parseInt(e.parentElement.parentElement.getAttribute("aria-rowindex"),10)-1,h=o.rows[c].cells[u].hyperlink;if(s={hyperlink:h,cell:this.parent.getActiveSheet().activeCell,target:"_blank",cancel:!1},this.parent.trigger("beforeHyperlinkClick",s),s.cancel)return;if(l={hyperlink:h=s.hyperlink,cell:this.parent.getActiveSheet().activeCell},"string"==typeof h&&(r=h),"object"==typeof h&&(r=h.address),-1===r.indexOf("http://")&&-1===r.indexOf("https://")&&-1===r.indexOf("ftp://")){if(!JO(r)){if(this.parent.definedNames)for(var d=0;d<this.parent.definedNames.length;d++)if(this.parent.definedNames[d].name===r){r=(r=this.parent.definedNames[d].refersTo).slice(1);break}var p;-1!==r.indexOf("!")?-1!==(i=r.split("!"))[0].indexOf(" ")&&(i[0]=i[0].slice(1,i[0].length-1)):(i[0]=this.parent.getActiveSheet().name,i[1]=r),i[1];for(var f=0;f<this.parent.sheets.length;f++)this.parent.sheets[f].name===i[0]&&(p=f);if(o=this.parent.sheets[p],-1!==i[1].indexOf(":")){var m=i[1].indexOf(":"),g=i[1].substr(0,m),v=i[1].substr(m+1,i[1].length);g=g.replace("$",""),(v=v.replace("$","")).match(/\D/g)&&!v.match(/[0-9]/g)&&g.match(/\D/g)&&!g.match(/[0-9]/g)?(g+"1:"+v+o.rowCount,g+="1",v+=o.rowCount,i[1]=g+":"+v):!v.match(/\D/g)&&v.match(/[0-9]/g)&&!g.match(/\D/g)&&g.match(/[0-9]/g)&&(KF(parseInt(g,10)-1,0)+":"+KF(parseInt(v,10)-1,o.colCount-1),n=[parseInt(g,10)-1,0,parseInt(v,10)-1,o.colCount-1],a=!1)}if(n=a?YF(i[1]):n,this.parent.scrollSettings.enableVirtualization&&(n[0]=n[0]>=this.parent.viewport.topIndex?n[0]-this.parent.viewport.topIndex:n[0],n[1]=n[1]>=this.parent.viewport.leftIndex?n[1]-this.parent.viewport.leftIndex:n[1]),!JO(o)){var y=$F(n);if(o===this.parent.getActiveSheet())zB((function(){t.parent.goTo(y)}));else{if(y.indexOf(":")>=0){var b=y.split(":");y=b[0]===b[1]?b[0]:y}zB((function(){t.parent.goTo(t.parent.sheets[p].name+"!"+y)}))}}}}else e.setAttribute("target",s.target);this.parent.trigger("afterHyperlinkClick",l)}}},{key:"hyperlinkClickHandler",value:function(e){var t=e.target;if(nD(t,".e-link-dialog")&&nD(t,".e-toolbar-item")){var n=nD(t,".e-hyperlink-dlg")||nD(t,".e-edithyperlink-dlg"),i=n.getElementsByClassName("e-footer-content")[0].firstChild,a=n.querySelector(".e-document"),r=n.querySelector(".e-webpage"),s=r?r.querySelectorAll(".e-cont")[0].querySelector(".e-text").value:a.querySelectorAll(".e-cont")[0].querySelector(".e-text").value,l=a?a.querySelectorAll(".e-cont")[0].querySelector(".e-text").value:s;if(nD(t,".e-toolbar-items").getElementsByClassName("e-toolbar-item")[1].classList.contains("e-active")){var o=a.querySelectorAll(".e-cont")[2].querySelector(".e-active");a.querySelectorAll(".e-cont")[0].querySelector(".e-text").value=s,nD(o,".e-list-item").classList.contains("e-level-2")&&i.hasAttribute("disabled")?i.removeAttribute("disabled"):nD(o,".e-list-item").classList.contains("e-level-1")&&!i.hasAttribute("disabled")&&i.setAttribute("disabled","true")}else{var u=!r.querySelectorAll(".e-cont")[1].querySelector(".e-text").value;r.querySelectorAll(".e-cont")[0].querySelector(".e-text").value=l,u&&!i.hasAttribute("disabled")?i.setAttribute("disabled","true"):!u&&i.hasAttribute("disabled")&&i.removeAttribute("disabled")}}if(nD(t,".e-list-item")&&t.classList.contains("e-fullrow")){var c=this.parent.element.getElementsByClassName("e-link-dialog")[0].getElementsByClassName("e-content")[0].getElementsByClassName("e-active")[0].getElementsByClassName("e-cont")[1].getElementsByClassName("e-text")[0],h=(nD(t,".e-hyperlink-dlg")||nD(t,".e-edithyperlink-dlg")).getElementsByClassName("e-footer-content")[0].firstChild;nD(t,".e-list-item").classList.contains("e-level-2")?("defName"===nD(t,".e-list-item").getAttribute("data-uid")?c.classList.contains("e-disabled")||c.hasAttribute("readonly")||(c.setAttribute("readonly","true"),c.classList.add("e-disabled"),c.setAttribute("disabled","true")):"sheet"===nD(t,".e-list-item").getAttribute("data-uid")&&c.classList.contains("e-disabled")&&c.hasAttribute("readonly")&&(c.removeAttribute("readonly"),c.classList.remove("e-disabled"),c.removeAttribute("disabled")),h.hasAttribute("disabled")&&h.removeAttribute("disabled")):nD(t,".e-list-item").classList.contains("e-level-1")&&h.setAttribute("disabled","true")}else this.hlOpenHandler(t)}},{key:"createHyperlinkElementHandler",value:function(e){var t=e.cell,n=e.td,i=this.parent.createElement("a",{className:"e-hyperlink"});if(JO(t.hyperlink)||n.querySelector("a"))n.querySelector("a")&&t.hyperlink&&"string"==typeof t.hyperlink&&n.querySelector("a").setAttribute("href",t.hyperlink);else{var a=t.hyperlink;"string"==typeof a?(-1===a.indexOf("http://")&&-1===a.indexOf("https://")&&-1===a.indexOf("ftp://")&&-1!==a.indexOf("www.")&&(a="http://"+a),0===a.indexOf("http://")||0===a.indexOf("https://")||0===a.indexOf("ftp://")?(i.setAttribute("href",a),i.setAttribute("target","_blank")):(a.includes("=")||a.includes("!"))&&i.setAttribute("ref",a),i.innerText=""!==n.innerText?n.innerText:a,n.textContent="",n.innerText="",n.appendChild(i)):"object"==typeof a&&(0===a.address.indexOf("http://")||0===a.address.indexOf("https://")||0===a.address.indexOf("ftp://")?(i.setAttribute("href",a.address),i.setAttribute("target","_blank")):(a.address.includes("=")||a.address.includes("!"))&&i.setAttribute("ref",a.address),"Accounting"===pH(t.format)?i.innerHTML=n.innerHTML:i.innerText=""!==n.innerText?n.innerText:a.address,n.textContent="",n.innerText="",n.appendChild(i))}}},{key:"hyperEditContent",value:function(){var e=!0,t=this.hyperlinkContent(),n=YF(this.parent.getActiveSheet().activeCell),i=this.parent.sheets[this.parent.getActiveSheet().id-1].rows[n[0]].cells[n[1]];this.parent.scrollSettings.enableVirtualization&&(n[0]=n[0]-this.parent.viewport.topIndex,n[1]=n[1]-this.parent.viewport.leftIndex);var a,r=this.parent.getDisplayText(i),s=i.hyperlink;"string"==typeof s?(a=s,r=r||a,-1===a.indexOf("http://")&&-1===a.indexOf("https://")&&-1===a.indexOf("ftp://")&&(e=!1)):"object"==typeof s&&(a=s.address,r=r||a,-1===a.indexOf("http://")&&-1===a.indexOf("https://")&&-1===a.indexOf("ftp://")&&(e=!1));var l=t.querySelector(".e-content");if(e){var o=l.querySelector(".e-webpage");if(o.getElementsByClassName("e-cont")[0].getElementsByClassName("e-text")[0].setAttribute("value",r),"string"==typeof s)o.getElementsByClassName("e-cont")[1].querySelector(".e-text").setAttribute("value",s);else o.getElementsByClassName("e-cont")[1].querySelector(".e-text").setAttribute("value",s.address)}else{var u,c,h=l.querySelector(".e-document");h.getElementsByClassName("e-cont")[0].getElementsByClassName("e-text")[0].setAttribute("value",r);var d;this.parent.getActiveSheet();if(this.parent.definedNames)for(var p=0;p<this.parent.definedNames.length;p++)if(this.parent.definedNames[p].name===a){u=!0;break}if(u){var f;(f=h.getElementsByClassName("e-cont")[1].getElementsByClassName("e-text")[0]).setAttribute("readonly","true"),f.classList.add("e-disabled"),f.setAttribute("disabled","true");for(var m=h.getElementsByClassName("e-cont")[2].querySelectorAll(".e-list-item.e-level-1")[1],g=0;g<m.getElementsByTagName("li").length;g++)m.getElementsByTagName("li")[g].innerText===a&&m.getElementsByTagName("li")[g].classList.add("e-active")}else{a&&-1!==a.indexOf("!")&&(c=a.split("!"),d=parseInt(c[0].replace(/\D/g,""),10)-1,this.parent.sheets[d]);var v=c[0];h.getElementsByClassName("e-cont")[1].querySelector(".e-text").setAttribute("value",c[1]);for(var y=h.getElementsByClassName("e-cont")[2].querySelectorAll(".e-list-item.e-level-1")[0],b=0;b<y.getElementsByTagName("li").length;b++)if(y.getElementsByTagName("li")[b].innerText===v){if(y.getElementsByTagName("li")[b].classList.contains("e-active"))break;y.getElementsByTagName("li")[b].classList.add("e-active")}else y.getElementsByTagName("li")[b].classList.contains("e-active")&&y.getElementsByTagName("li")[b].classList.remove("e-active")}}return t}},{key:"hyperlinkContent",value:function(){this.parent.serviceLocator.getService(gj);var e,t,n=0,i=0,a=!0,r=!0,s=YF(this.parent.getActiveSheet().activeCell),l=this.parent.getActiveSheet(),o=mB(s[0],s[1],l),u=!0;if(o){u=!!(o.value&&"string"==typeof o.value&&null!==o.value.match("[A-Za-z]+")||""===o.value||JO(o.value));var c=o.hyperlink;if("string"==typeof c){var h=c;-1===h.indexOf("http://")&&-1===h.indexOf("https://")&&-1===h.indexOf("ftp://")&&(t=c,a=!1)}else if("object"==typeof c){var d=c.address;-1===d.indexOf("http://")&&-1===d.indexOf("https://")&&-1===d.indexOf("ftp://")&&(t=c.address,a=!1)}if(i=a?0:1,this.parent.definedNames)for(var p=0;p<this.parent.definedNames.length;p++)if(this.parent.definedNames[p].name===t){e=!0,r=!1;break}}var f=this.parent.createElement("div",{className:"e-link-dialog"}),m=this.parent.createElement("div",{className:"e-webpage"}),g=this.parent.createElement("div",{className:"e-document"});new hR({selectedItem:i,items:[{header:{text:"WEB PAGE"},content:m},{header:{text:"THIS DOCUMENT"},content:g}]}).appendTo(f),a?f.querySelector(".e-toolbar-items").querySelector(".e-indicator").setAttribute("style","left: 0; right: 136px"):f.querySelector(".e-toolbar-items").querySelector(".e-indicator").setAttribute("style","left: 136px; right: 0");var v=this.parent.createElement("div",{className:"e-cont"}),y=this.parent.createElement("div",{className:"e-cont"}),b=this.parent.createElement("div",{className:"e-header",innerHTML:"Display Text"}),k=this.parent.createElement("div",{className:"e-header",innerHTML:"URL"}),C=this.parent.createElement("input",{className:"e-input e-text",attrs:{type:"Text"}});u||(C.classList.add("e-disabled"),C.setAttribute("readonly","true"),C.setAttribute("disabled","true")),o&&JO(o.hyperlink)&&C.setAttribute("value",this.parent.getDisplayText(o));var w=this.parent.createElement("input",{className:"e-input e-text",attrs:{type:"Text"}});C.setAttribute("placeholder","Enter the text to display"),w.setAttribute("placeholder","Enter the URL"),v.appendChild(C),v.insertBefore(b,C),y.appendChild(w),y.insertBefore(k,w),m.appendChild(y),m.insertBefore(v,y);for(var _=[],x=[],S=this.parent.sheets;n<this.parent.sheets.length;n++){var E=this.parent.sheets[n].name;S[n]===this.parent.getActiveSheet()?_.push({nodeId:"sheet",nodeText:-1!==E.indexOf(" ")?"'"+E+"'":E,selected:!0}):_.push({nodeId:"sheet",nodeText:-1!==E.indexOf(" ")?"'"+E+"'":E})}for(n=0;n<this.parent.definedNames.length;n++)x.push({nodeId:"defName",nodeText:this.parent.definedNames[n].name});var O=new DR({fields:{dataSource:[{nodeId:"01",nodeText:"Cell Reference",expanded:r,nodeChild:_},{nodeId:"02",nodeText:"Defined Names",expanded:e,nodeChild:x}],id:"nodeId",text:"nodeText",child:"nodeChild"}}),I=this.parent.createElement("div",{className:"e-cont"}),A=this.parent.createElement("div",{className:"e-header",innerHTML:"Cell Reference"}),D=this.parent.createElement("input",{className:"e-input e-text",attrs:{type:"Text"}});D.setAttribute("value","A1"),I.appendChild(D),I.insertBefore(A,D);var M=this.parent.createElement("div",{className:"e-cont"}),T=this.parent.createElement("div",{className:"e-header",innerHTML:"Display Text"}),P=this.parent.createElement("input",{className:"e-input e-text",attrs:{type:"Text"}});u||(P.classList.add("e-disabled"),P.setAttribute("readonly","true"),P.setAttribute("disabled","true")),o&&JO(o.hyperlink)&&P.setAttribute("value",this.parent.getDisplayText(o)),P.setAttribute("placeholder","Enter the text to display"),M.appendChild(P),M.insertBefore(T,P);var L=this.parent.createElement("div",{className:"e-cont"}),N=this.parent.createElement("div",{className:"e-header",innerHTML:"Sheet"}),R=this.parent.createElement("div",{className:"e-refcont"});return L.appendChild(R),L.insertBefore(N,R),g.appendChild(I),g.insertBefore(M,I),O.appendTo(R),g.appendChild(L),f}}]),e}(),jV=function(){function e(t){_classCallCheck(this,e),this.undoCollection=[],this.redoCollection=[],this.isUndo=!1,this.undoRedoStep=100,this.parent=t,this.addEventListener()}return _createClass(e,[{key:"setActionData",value:function(e){var t,n,i=this.parent.getActiveSheet(),a=[],r=e.args,s=r.eventArgs;switch(r.action){case"format":t=YF(r.eventArgs.range);break;case"clipboard":var l=s.copiedInfo;t=YF(QF(s.pastedRange)),l&&l.isCut&&(a=this.getCellDetails(l.range,OB(this.parent,_B(this.parent,l.sId))));break;case"beforeSort":(t=YF(r.eventArgs.range))[0]===t[2]&&t[2]-t[0]==0&&(t[0]=0,t[1]=0,t[2]=i.usedRange.rowIndex,t[3]=i.usedRange.colIndex);break;case"beforeCellSave":t=YF(s.address);break;case"beforeWrap":case"beforeReplace":t=this.parent.getAddressInfo(s.address).indices}n=this.getCellDetails(t,i),this.beforeActionData={cellDetails:n,cutCellDetails:a}}},{key:"getBeforeActionData",value:function(e){e.beforeDetails=this.beforeActionData}},{key:"performUndoRedo",value:function(e){var t=e.isUndo?this.undoCollection.pop():this.redoCollection.pop();if(this.isUndo=e.isUndo,t){switch(t.action){case"cellSave":case"format":case"sorting":case"wrap":t=this.performOperation(t);break;case"clipboard":t=this.undoForClipboard(t);break;case"resize":t=this.undoForResize(t);break;case"hideShow":t.eventArgs.hide=!t.eventArgs.hide,hV(t,this.parent);break;case"replace":t=this.performOperation(t);break;case"insert":case"delete":case"validation":hV(t,this.parent,!e.isUndo);break;case"merge":t.eventArgs.merge=!t.eventArgs.merge,hV(t,this.parent)}e.isUndo?this.redoCollection.push(t):this.undoCollection.push(t),this.undoCollection.length>this.undoRedoStep&&this.undoCollection.splice(0,1),this.redoCollection.length>this.undoRedoStep&&this.redoCollection.splice(0,1),this.updateUndoRedoIcons();var n=Object.assign({},t.eventArgs);n.requestType=e.isUndo?"undo":"redo",delete n.beforeActionData,e.isPublic||this.parent.notify(kH,{eventArgs:n,action:"undoRedo"})}}},{key:"updateUndoRedoCollection",value:function(e){var t=["clipboard","format","sorting","cellSave","resize","resizeToFit","wrap","hideShow","replace","validation","merge"];"insert"!==e.args.action&&"delete"!==e.args.action||"Sheet"===e.args.eventArgs.modelType||t.push(e.args.action);var n=e.args.action;if(-1!==t.indexOf(n)||e.isPublic){var i=e.args.eventArgs;if("clipboard"===n||"sorting"===n||"format"===n||"cellSave"===n||"wrap"===n||"replace"===n||"validation"===n){var a={beforeDetails:{cellDetails:[]}};this.parent.notify("getBeforeActionData",a),i.beforeActionData=a.beforeDetails}this.undoCollection.push(e.args),this.redoCollection=[],this.undoCollection.length>this.undoRedoStep&&this.undoCollection.splice(0,1),this.updateUndoRedoIcons()}}},{key:"clearUndoRedoCollection",value:function(){this.undoCollection=[],this.redoCollection=[],this.updateUndoRedoIcons()}},{key:"updateUndoRedoIcons",value:function(){this.parent.notify("enableToolbarItems",[{items:[this.parent.element.id+"_undo"],enable:this.undoCollection.length>0}]),this.parent.notify("enableToolbarItems",[{items:[this.parent.element.id+"_redo"],enable:this.redoCollection.length>0}])}},{key:"undoForClipboard",value:function(e){var t=this,n=e.eventArgs,i=n.pastedRange.split("!"),a=YF(i[1]),r=wB(this.parent,i[0]),s=OB(this.parent,r),l=n.copiedInfo,o=n.beforeActionData,u=this.checkRefreshNeeded(r);return this.isUndo?(l.isCut&&this.updateCellDetails(o.cutCellDetails,OB(this.parent,_B(this.parent,l.sId)),l.range,u),this.updateCellDetails(o.cellDetails,s,a,u),n.mergeCollection.forEach((function(e){e.merge=!e.merge,t.parent.notify(cH,e),e.merge=!e.merge}))):hV(e,this.parent,l.isCut),u&&this.parent.notify("selectRange",{indexes:a}),e}},{key:"undoForResize",value:function(e){var t=e.eventArgs;if(void 0===t.hide)if(t.isCol){var n=t.oldWidth;t.oldWidth=t.width,t.width=n}else{var i=t.oldHeight;t.oldHeight=t.height,t.height=i}else t.hide=!t.hide;return hV(e,this.parent),e}},{key:"performOperation",value:function(e){var t=e.eventArgs,n="cellSave"===e.action||"wrap"===e.action||"replace"===e.action?t.address.split("!"):t.range.split("!"),i=YF(n[1]),a=wB(this.parent,n[0]),r=OB(this.parent,a),s=t.beforeActionData,l=this.checkRefreshNeeded(a);return this.isUndo?this.updateCellDetails(s.cellDetails,r,i,l,e):hV(e,this.parent),l&&this.parent.notify("selectRange",{indexes:i}),e}},{key:"getCellDetails",value:function(e,t){for(var n,i=[],a=e[0];a<=e[2];a++)for(var r=e[1];r<=e[3];r++)n=mB(a,r,t),i.push({rowIndex:a,colIndex:r,format:n?n.format:null,style:n?n.style:null,value:n?n.value:"",formula:n?n.formula:"",wrap:n&&n.wrap});return i}},{key:"updateCellDetails",value:function(e,t,n,i,a){for(var r=e.length,s=0;s<r;s++)gB(e[s].rowIndex,e[s].colIndex,t,{value:e[s].value,format:e[s].format,style:e[s].style,formula:e[s].formula,wrap:e[s].wrap}),e[s].formula&&this.parent.notify("workbookEditOperation",{action:"updateCellValue",address:[e[s].rowIndex,e[s].colIndex,e[s].rowIndex,e[s].colIndex],value:e[s].formula}),a&&"wrap"===a.action&&a.eventArgs.wrap&&this.parent.notify("wrapText",{range:[e[s].rowIndex,e[s].colIndex,e[s].rowIndex,e[s].colIndex],wrap:!1,sheet:t});i&&this.parent.serviceLocator.getService("cell").refreshRange(n)}},{key:"checkRefreshNeeded",value:function(e){var t=!0;return e!==this.parent.activeSheetIndex&&(this.parent.activeSheetIndex=e,this.parent.dataBind(),t=!1),t}},{key:"addEventListener",value:function(){this.parent.on("performUndoRedo",this.performUndoRedo,this),this.parent.on("updateUndoRedoCollection",this.updateUndoRedoCollection,this),this.parent.on("setActionData",this.setActionData,this),this.parent.on("getBeforeActionData",this.getBeforeActionData,this),this.parent.on("clearUndoRedoCollection",this.clearUndoRedoCollection,this),this.parent.on("setUndoRedo",this.updateUndoRedoIcons,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("performUndoRedo",this.performUndoRedo),this.parent.off("updateUndoRedoCollection",this.updateUndoRedoCollection),this.parent.off("setActionData",this.setActionData),this.parent.off("getBeforeActionData",this.getBeforeActionData),this.parent.off("clearUndoRedoCollection",this.clearUndoRedoCollection),this.parent.off("setUndoRedo",this.updateUndoRedoIcons))}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"undoredo"}}]),e}(),zV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){this.parent.on("ribboClick",this.ribbonClickHandler,this),this.parent.on("wrapText",this.wrapTextHandler,this),this.parent.on("rowHeightChanged",this.rowHeightChangedHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("ribboClick",this.ribbonClickHandler),this.parent.off("wrapText",this.wrapTextHandler),this.parent.off("rowHeightChanged",this.rowHeightChangedHandler))}},{key:"wrapTextHandler",value:function(e){if(KB(this.parent,e.range,!0))for(var t,n,i,a,r,s,l=e.range[0];l<=e.range[2];l++){r=0,a=uB(e.sheet,l).customHeight;for(var o=e.range[1];o<=e.range[3];o++)if((t=e.initial?e.td:this.parent.getCell(l,o))&&(e.wrap?t.classList.add(mj):t.classList.remove(mj),a&&(t.innerHTML=this.parent.createElement("span",{className:"e-wrap-content",innerHTML:t.innerHTML}).outerHTML)),!a){i=BB(e.sheet,o),n=mB(l,o,e.sheet);var u=this.parent.getDisplayText(n);if(u)if(e.wrap){var c=gV(u,i,n.style,this.parent.cellStyle);s=fV(this.parent,n.style||this.parent.cellStyle,c)+1,r=Math.max(r,s),vV(e.sheet,l,o,s)}else s=fV(this.parent,n.style||this.parent.cellStyle,1),vV(e.sheet,l,o,s),r=Math.max(yV(e.sheet,l),20);else e.wrap||(vV(e.sheet,l,o,20),r=20);o===e.range[3]&&(e.wrap&&r>20&&yV(e.sheet,l)<=r||!e.wrap&&yV(e.sheet,l)<dB(e.sheet,l)&&dB(e.sheet,l)>20)&&pV(this.parent,e.sheet,r,l,e.row,e.hRow)}}}},{key:"ribbonClickHandler",value:function(e){var t,n=nD(e.originalEvent.target,".e-btn");if(n&&n.id===this.parent.element.id+"_wrap"){var i=n.classList.contains("e-active"),a=(t=this.parent.getActiveSheet()).name+"!"+t.selectedRange,r={address:a,wrap:i,cancel:!1};this.parent.notify(CH,{action:"beforeWrap",eventArgs:r}),r.cancel||(yB(this.parent.getActiveSheet().selectedRange,i,this.parent),this.parent.notify(kH,{action:"wrap",eventArgs:{address:a,wrap:i}}))}}},{key:"getTextWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parent.cellStyle,n=this.parent.cellStyle,i=document.createElement("canvas").getContext("2d");return i.font=(t.fontStyle||n.fontStyle)+" "+(t.fontWeight||n.fontWeight)+" "+(t.fontSize||n.fontSize)+" "+(t.fontFamily||n.fontFamily),i.measureText(e).width}},{key:"rowHeightChangedHandler",value:function(e){if(e.isCustomHgt)for(var t=this.parent.getActiveSheet(),n=this.parent.viewport.leftIndex,i=n+this.parent.viewport.colCount+2*this.parent.getThreshold("col"),a=n;a<i;a++){var r=mB(e.rowIdx,a,t);if(r&&r.wrap){var s=this.parent.getCell(e.rowIdx,a);s.innerHTML=this.parent.createElement("span",{className:"e-wrap-content",innerHTML:s.innerHTML}).outerHTML}}}},{key:"getModuleName",value:function(){return"wrapText"}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}}]),e}(),qV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"insert",value:function(e){var t;switch(e.isAction&&(t=!0,delete e.isAction),t&&this.parent.notify(CH,{eventArgs:e,action:"insert"}),e.modelType){case"Sheet":this.parent.notify("insertSheetTab",{startIdx:e.index,endIdx:e.index+(e.model.length-1),isAction:t}),this.parent.renderModule.refreshSheet(),this.parent.element.focus();break;case"Row":(!this.parent.scrollSettings.enableVirtualization||e.index<=this.parent.viewport.bottomIndex)&&(this.parent.scrollSettings.enableVirtualization?(e.index<this.parent.viewport.topIndex&&(this.parent.viewport.topIndex+=e.model.length),this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.topIndex===bV(this.parent.getActiveSheet(),0,!0),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Row"})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,rowIndex:e.index,colIndex:0,refresh:"Row"}),this.parent.selectRange(this.parent.getActiveSheet().selectedRange));break;case"Column":(!this.parent.scrollSettings.enableVirtualization||e.index<=this.parent.viewport.rightIndex)&&(this.parent.scrollSettings.enableVirtualization?(e.index<this.parent.viewport.leftIndex&&(this.parent.viewport.leftIndex+=e.model.length),this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===bV(this.parent.getActiveSheet(),0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,rowIndex:0,colIndex:e.index,refresh:"Column"}),this.parent.selectRange(this.parent.getActiveSheet().selectedRange))}t&&this.parent.notify(kH,{eventArgs:e,action:"insert"})}},{key:"addEventListener",value:function(){this.parent.on("insert",this.insert,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("insert",this.insert)}},{key:"getModuleName",value:function(){return"insert"}}]),e}(),UV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"delete",value:function(e){var t;e.isAction&&(t=!0,delete e.isAction),t&&this.parent.notify(CH,{eventArgs:e,action:"delete"}),"Sheet"===e.modelType||("Row"===e.modelType?((!this.parent.scrollSettings.enableVirtualization||e.startIndex<=this.parent.viewport.bottomIndex)&&(this.parent.scrollSettings.enableVirtualization?(e.startIndex<this.parent.viewport.topIndex&&(this.parent.viewport.topIndex-=e.model.length),this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.topIndex===bV(this.parent.getActiveSheet(),0,!0),rowIndex:this.parent.viewport.topIndex,refresh:"Row",colIndex:this.parent.viewport.leftIndex})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,refresh:"Row",rowIndex:e.startIndex,colIndex:0})),this.parent.selectRange(this.parent.getActiveSheet().selectedRange)):((!this.parent.scrollSettings.enableVirtualization||e.startIndex<=this.parent.viewport.rightIndex)&&(this.parent.scrollSettings.enableVirtualization?(e.startIndex<this.parent.viewport.leftIndex&&(this.parent.viewport.leftIndex-=e.model.length),this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===bV(this.parent.getActiveSheet(),0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,refresh:"Column",colIndex:this.parent.viewport.leftIndex})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,refresh:"Column",rowIndex:0,colIndex:e.startIndex})),this.parent.selectRange(this.parent.getActiveSheet().selectedRange))),t&&this.parent.notify(kH,{eventArgs:e,action:"delete"})}},{key:"addEventListener",value:function(){this.parent.on("delete",this.delete,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("delete",this.delete)}},{key:"getModuleName",value:function(){return"delete"}}]),e}(),WV=function(){function e(t){_classCallCheck(this,e),this.data=[],this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener();var e=document.querySelector("#"+this.parent.element.id+"_datavalidation-popup");e&&e.remove(),this.parent=null}},{key:"addEventListener",value:function(){$I.add(this.parent.element,"dblclick",this.listOpen,this),$I.add(document,"mousedown",this.mouseDownHandler,this),this.parent.on("initiatedatavalidation",this.initiateDataValidationHandler,this),this.parent.on("invalidData",this.invalidDataHandler,this),this.parent.on("isValidation",this.checkDataValidation,this),this.parent.on("activeCellChanged",this.listHandler,this),this.parent.on(gH,this.keyUpHandler,this),this.parent.on("removeDataValidation",this.removeValidationHandler,this)}},{key:"removeEventListener",value:function(){$I.remove(this.parent.element,"dblclick",this.listOpen),$I.remove(document,"mousedown",this.mouseDownHandler),this.parent.isDestroyed||(this.parent.off("initiatedatavalidation",this.initiateDataValidationHandler),this.parent.off("invalidData",this.invalidDataHandler),this.parent.off("isValidation",this.checkDataValidation),this.parent.off("activeCellChanged",this.listHandler),this.parent.off(gH,this.keyUpHandler),this.parent.off("removeDataValidation",this.removeValidationHandler))}},{key:"removeValidationHandler",value:function(e){this.parent.removeDataValidation(this.parent.getActiveSheet().selectedRange)}},{key:"mouseDownHandler",value:function(e){var t=e.target,n=nD(t,".e-ddl");n&&"listValid_popup"===n.getAttribute("id")&&this.parent.notify("formulaBarOperation",{action:"refreshFormulabar",value:t.innerText})}},{key:"keyUpHandler",value:function(e){var t=e.target,n=this.parent.element.querySelector(".e-datavalidation-dlg");if(nD(t,".e-values")&&n&&13!==e.keyCode){var i=n.querySelector(".e-values"),a=i.querySelector(".e-dlg-error"),r=n.querySelector(".e-footer-content").querySelector(".e-primary");r.hasAttribute("disabled")&&r.removeAttribute("disabled"),a&&i.removeChild(a)}}},{key:"listOpen",value:function(e){var t=e.target;this.listObj&&t.classList.contains("e-cell")&&t.querySelector(".e-validation-list")&&this.listObj.showPopup()}},{key:"invalidDataHandler",value:function(e){e.isRemoveHighlight?this.parent.removeInvalidHighlight():this.parent.addInvalidHighlight()}},{key:"listHandler",value:function(){var e=this;if(this.parent.allowDataValidation){var t=this.parent.getActiveSheet(),n=this.parent.getMainContent(),i=GF(t.activeCell),a=i[1],r=i[0];this.parent.scrollSettings.enableVirtualization&&(r=r>=this.parent.viewport.topIndex?r-this.parent.viewport.topIndex:r,a=a>=this.parent.viewport.leftIndex?a-this.parent.viewport.leftIndex:a);var s,l=mB(i[0],i[1],t),o=n.getElementsByTagName("tr")[r];if(o&&(s=o.getElementsByClassName("e-cell")[a]),!s)return;if(document.getElementsByClassName("e-validation-list")[0]&&(JA(document.getElementsByClassName("e-validation-list")[0]),this.data=[]),l&&l.validation&&"List"===l.validation.type&&(l.validation.ignoreBlank=!!JO(l.validation.ignoreBlank)||l.validation.ignoreBlank,l.validation.inCellDropDown=!!JO(l.validation.inCellDropDown)||l.validation.inCellDropDown,l.validation.inCellDropDown)){var u=this.parent.createElement("div",{className:"e-validation-list"}),c=this.parent.createElement("input",{id:"listValid"});u.appendChild(c),l.validation.inCellDropDown||(u.style.display="none"),s.insertBefore(u,s.firstChild),this.listObj=new YR({index:0,dataSource:this.data,fields:{text:"text",value:"id"},width:"0px",popupWidth:"200px",popupHeight:"200px",beforeOpen:function(){e.listObj.popupWidth=s.offsetWidth-1,e.data=[],e.updateDataSource(e.listObj,l)},change:function(){e.listValueChange(e.listObj.text)},open:function(e){e.popup.offsetX=4-(s.offsetWidth-20),e.popup.offsetY=-13}}),this.listObj.appendTo("#listValid")}}}},{key:"updateDataSource",value:function(e,t){var n=0,i=this.parent.getActiveSheet(),a=t.validation.value1.toUpperCase();if(-1!==a.indexOf("="))for(var r=YF(a),s=r[0];s<=r[2];s++){i.rows[s]||cB(i,s,{});for(var l=r[1];l<=r[3];l++){i.rows[s].cells||gB(s,l,i,{}),n+=1;var o=this.parent.getDisplayText(t=i.rows[s].cells[l])?this.parent.getDisplayText(t):"";this.data.push({text:o,id:"list-"+n})}}else for(var u=t.validation.value1.split(","),c=0;c<u.length;c++)n+=1,this.data.push({text:u[c],id:"list-"+n});e.dataSource=this.data}},{key:"listValueChange",value:function(e){var t=JF(this.parent.getActiveSheet().activeCell);this.parent.notify("workbookEditOperation",{action:"updateCellValue",address:this.parent.getActiveSheet().activeCell,value:e}),this.parent.serviceLocator.getService("cell").refreshRange(t)}},{key:"initiateDataValidationHandler",value:function(){for(var e,t,n,i,a,r=this,s=this.parent.serviceLocator.getService(gj),l=!0,o=!0,u=!0,c=this.parent.getActiveSheet(),h=YF(c.selectedRange),d=h[0];d<=h[2];d++)if(c.rows[d])for(var p=h[1];p<=h[3];p++)c.rows[d].cells&&c.rows[d].cells[p]&&((a=c.rows[d].cells[p]).validation&&(u=!1,e=a.validation.type,t=a.validation.operator,n=a.validation.value1,i=a.validation.value2,l=a.validation.ignoreBlank,o=a.validation.inCellDropDown));if(!this.parent.element.querySelector(".e-datavalidation-dlg")){var f=this.parent.serviceLocator.getService(vj);f.show({width:375,showCloseIcon:!0,isModal:!0,cssClass:"e-datavalidation-dlg",header:s.getConstant("DataValidation"),target:document.querySelector(".e-control.e-spreadsheet"),beforeOpen:function(){f.dialogInstance.content=r.dataValidationContent(u,e,t,n,i,l,o),f.dialogInstance.dataBind(),r.parent.element.focus()},buttons:[{buttonModel:{content:s.getConstant("CLEARALL"),cssClass:"e-btn e-clearall-btn e-flat"},click:function(){f.dialogInstance.content=r.dataValidationContent(!0,e,t,n,i,l,o),f.dialogInstance.dataBind(),r.parent.element.focus()}},{buttonModel:{content:s.getConstant("APPLY"),isPrimary:!0},click:function(){r.dlgClickHandler(f)}}]}),f.dialogInstance.refresh()}}},{key:"dataValidationContent",value:function(e,t,n,i,a,r,s){var l=this,o=this.parent.serviceLocator.getService(gj),u=e?"0":i,c=e?"0":a,h=this.parent.createElement("div",{className:"e-validation-dlg"}),d=this.parent.createElement("div",{className:"e-cellrange"}),p=this.parent.createElement("div",{className:"e-allowdata"}),f=this.parent.createElement("div",{className:"e-values"}),m=this.parent.createElement("div",{className:"e-ignoreblank"});h.appendChild(d),h.appendChild(p),h.appendChild(f),h.appendChild(m);var g=this.parent.createElement("span",{className:"e-header",innerHTML:o.getConstant("CellRange")}),v=this.parent.createElement("input",{className:"e-input",attrs:{value:this.parent.getActiveSheet().selectedRange}});d.appendChild(g),d.appendChild(v);var y=this.parent.createElement("div",{className:"e-allow"}),b=this.parent.createElement("div",{className:"e-data"});p.appendChild(y),p.appendChild(b);var k=this.parent.createElement("span",{className:"e-header",innerHTML:o.getConstant("Allow")});this.typeData=[{text:o.getConstant("WholeNumber"),id:"type-1"},{text:o.getConstant("Decimal"),id:"type-2"},{text:o.getConstant("Date"),id:"type-3"},{text:o.getConstant("Time"),id:"type-4"},{text:o.getConstant("TextLength"),id:"type-5"},{text:o.getConstant("List"),id:"type-6"}],this.operatorData=[{text:o.getConstant("Between"),id:"operator-1"},{text:o.getConstant("NotBetween"),id:"operator-2"},{text:o.getConstant("EqualTo"),id:"operator-3"},{text:o.getConstant("NotEqualTo"),id:"operator-4"},{text:o.getConstant("Greaterthan"),id:"operator-5"},{text:o.getConstant("Lessthan"),id:"operator-6"},{text:o.getConstant("GreaterThanOrEqualTo"),id:"operator-7"},{text:o.getConstant("LessThanOrEqualTo"),id:"operator-8"}];var C=this.parent.createElement("input",{className:"e-select"}),w=0;if(!e)for(var _=0;_<this.typeData.length;_++)if(t===this.typeData[_].text.replace(" ","")){w=_;break}if(e||"List"!==t){var x=0,S=this.parent.createElement("span",{className:"e-header",innerHTML:o.getConstant("Data")}),E=this.parent.createElement("input",{className:"e-select"});if(!e)for(var O=0;O<this.operatorData.length;O++)if(n===this.FormattedValue(this.operatorData[O].text)){x=O;break}b.appendChild(S),b.appendChild(E),this.dataList=new YR({dataSource:this.operatorData,index:x,popupHeight:"200px",change:function(){l.userInput(A,l.dataList)}}),this.dataList.appendTo(E)}else{var I=this.parent.createElement("input",{className:"e-checkbox"});b.appendChild(I),new GM({label:o.getConstant("InCellDropDown"),checked:s}).appendTo(I)}y.appendChild(k),y.appendChild(C);var A=new YR({dataSource:this.typeData,index:w,popupHeight:"200px",change:function(){l.userInput(A,l.dataList)}});if(A.appendTo(C),e||"List"!==A.value&&("Between"===this.dataList.value||"Not between"===this.dataList.value)){var D=this.parent.createElement("div",{className:"e-minimum"}),M=this.parent.createElement("div",{className:"e-maximum"});f.appendChild(D),f.appendChild(M);var T=this.parent.createElement("span",{className:"e-header",innerHTML:"Minimum"}),P=this.parent.createElement("span",{className:"e-header",innerHTML:"Maximum"}),L=this.parent.createElement("input",{id:"minvalue",className:"e-input",attrs:{value:u}}),N=this.parent.createElement("input",{id:"maxvalue",className:"e-input",attrs:{value:c}});D.appendChild(T),D.appendChild(L),M.appendChild(P),M.appendChild(N),new eN({value:0}).appendTo("#minvalue"),new eN({value:0}).appendTo("#maxvalue")}else if(e&&" List"!==t){var R=this.parent.createElement("span",{className:"e-header",innerHTML:o.getConstant("Value")}),F=this.parent.createElement("input",{className:"e-input",attrs:{value:u}});f.appendChild(R),f.appendChild(F)}else{var H=this.parent.createElement("span",{className:"e-header",innerHTML:o.getConstant("Sources")}),B=this.parent.createElement("input",{className:"e-input",attrs:{value:u}});f.appendChild(H),f.appendChild(B)}var V=r,j=this.parent.createElement("input",{className:"e-checkbox"});return m.appendChild(j),new GM({label:o.getConstant("IgnoreBlank"),checked:V}).appendTo(j),h}},{key:"userInput",value:function(e,t){var n=this.parent.element.querySelector(".e-datavalidation-dlg").querySelector(".e-validation-dlg"),i=n.querySelector(".e-allowdata"),a=n.querySelector(".e-values"),r=this.parent.serviceLocator.getService(gj),s=i.querySelector(".e-data");for(s.querySelector(".e-valid-input");a.lastChild;)a.removeChild(a.lastChild);if("List"===e.value){for(;s.lastChild;)s.removeChild(s.lastChild);var l=this.parent.createElement("input",{className:"e-checkbox"});s.appendChild(l),new GM({label:r.getConstant("InCellDropDown"),checked:!0}).appendTo(l)}else if(s.getElementsByClassName("e-checkbox-wrapper")[0]){for(;s.lastChild;)s.removeChild(s.lastChild);var o=this.parent.createElement("span",{className:"e-header",innerHTML:"Data"}),u=this.parent.createElement("input",{className:"e-select"});s.appendChild(o),s.appendChild(u),t.appendTo(u)}if("List"===e.value||"Between"!==t.value&&"Not between"!==t.value){var c=r.getConstant("List"===e.value?"Sources":"Value"),h=this.parent.createElement("span",{className:"e-header",innerHTML:c}),d=this.parent.createElement("input","List"===e.value?{className:"e-input",attrs:{placeholder:"Enter value"}}:{className:"e-input",attrs:{value:"0"}});a.appendChild(h),a.appendChild(d)}else{var p=this.parent.createElement("div",{className:"e-minimum"}),f=this.parent.createElement("div",{className:"e-maximum"});a.appendChild(p),a.appendChild(f);var m=this.parent.createElement("span",{className:"e-header",innerHTML:"Minimum"}),g=this.parent.createElement("span",{className:"e-header",innerHTML:"Maximum"}),v=this.parent.createElement("input",{id:"min",className:"e-input",attrs:{value:"0"}}),y=this.parent.createElement("input",{id:"max",className:"e-input",attrs:{value:"0"}});new eN({value:0}).appendTo("min"),new eN({value:0}).appendTo("max"),p.appendChild(m),p.appendChild(v),f.appendChild(g),f.appendChild(y)}}},{key:"dlgClickHandler",value:function(e){var t,n,i=this.parent.serviceLocator.getService(gj),a=!0,r=this.parent.element.querySelector(".e-datavalidation-dlg"),s=r.querySelector(".e-footer-content"),l=r.getElementsByClassName("e-dlg-content")[0].getElementsByClassName("e-validation-dlg")[0],o=l.getElementsByClassName("e-allowdata")[0],u=o.getElementsByClassName("e-allow")[0].getElementsByTagName("input")[0],c=o.getElementsByClassName("e-data")[0].getElementsByTagName("input")[0],h=l.getElementsByClassName("e-values")[0],d=h.getElementsByTagName("input")[0].value,p=h.getElementsByTagName("input")[1]?h.getElementsByTagName("input")[1].value:"",f="true"===l.querySelector(".e-ignoreblank").querySelector(".e-checkbox-wrapper").getAttribute("aria-checked"),m=o.querySelector(".e-data").querySelector(".e-checkbox-wrapper")?!!o.querySelector(".e-data").querySelector(".e-checkbox-wrapper").querySelector(".e-check"):null,g=l.querySelector(".e-cellrange").getElementsByTagName("input")[0].value,v=u.value;c&&(n=c.value,n=this.FormattedValue(n)),v&&(v=v.replace(" ",""));var y=[],b=[];if(""!==d&&b.push(d),""!==p&&b.push(p),"List"===v)if(-1!==d.indexOf("=")){if(-1!==d.indexOf(":")){var k=y=d.split(":"),C=y,w=k[0].replace(/[0-9]/g,"").replace("=","")===k[1].replace(/[0-9]/g,""),_=C[0].replace(/\D/g,"").replace("=","")===C[1].replace(/\D/g,"");(a=!!w||!!_)||(t=i.getConstant("DialogError"))}}else d.length>256&&(a=!1,t=i.getConstant("ListLengthError"));if("List"!==v||a){var x=this.parent.getActiveSheet(),S=this.isDialogValidator(b,v,n);if(t=S.errorMsg,a=S.isValidate){var E=GF(this.parent.getActiveSheet().activeCell);if(x&&x.rows[E[0]]&&x.rows[E[0]].cells[E[1]]&&x.rows[E[0]].cells[E[1]].validation&&"List"===x.rows[E[0]].cells[E[1]].validation.type){var O=this.parent.getMainContent().getElementsByTagName("tr")[E[0]].getElementsByClassName("e-cell")[E[1]];O&&O.getElementsByClassName("e-validation-list")[0]&&(O.removeChild(O.getElementsByClassName("e-validation-list")[0]),this.listObj.destroy())}this.parent.addDataValidation({type:v,operator:n,value1:d,value2:p,ignoreBlank:f,inCellDropDown:m},g),"List"===v&&a&&this.listHandler(),document.getElementsByClassName("e-validationerror-dlg")[0]||(e.dialogInstance?e.dialogInstance.hide():e.hide())}}if(!a){var I=this.parent.createElement("div",{className:"e-dlg-error",id:"e-invalid",innerHTML:t});h.appendChild(I),s.querySelector(".e-primary").setAttribute("disabled","true")}}},{key:"FormattedValue",value:function(e){switch(e){case"Between":e="Between";break;case"Not between":e="NotBetween";break;case"Equal to":e="EqualTo";break;case"Not equal to":e="NotEqualTo";break;case"Greater than":e="GreaterThan";break;case"Less than":e="LessThan";break;case"Greater than or equal to":e="GreaterThanOrEqualTo";break;case"Less than or equal to":e="LessThanOrEqualTo";break;default:e="Between"}return e}},{key:"isDialogValidator",value:function(e,t,n){var i,a=this.parent.serviceLocator.getService(gj),r=0;if("List"===t?!(e.length>0):"Between"===n||"NotBetween"===n?2!==e.length:!(e.length>0))i={isValidate:!1,errorMsg:a.getConstant("EmptyError")};else{for(var s=0;s<e.length&&(i=this.formatValidation(e[s],t)).isValidate;s++)r+=1;i.isValidate=r===e.length}return{isValidate:i.isValidate,errorMsg:i.errorMsg}}},{key:"isValidationHandler",value:function(e){var t,n,i=this.parent.serviceLocator.getService(gj);e.value=e.value?e.value:"";var a=e.value,r=mB(e.range[0],e.range[1],this.parent.sheets[e.sheetIdx]),s=e.value,l=r.validation.value1,o=r.validation.value2,u=r.validation.operator,c=r.validation.type,h=r.validation.ignoreBlank,d=this.formatValidation(e.value,c);if(t=d.isValidate,d.errorMsg,t){if(t=!1,"Date"===c||"Time"===c)for(var p=0;p<=3;p++){e.value=0===p?e.value:1===p?r.validation.value1:r.validation.value2;var f={value:e.value,rowIndex:e.range[0],colIndex:e.range[1],sheetIndex:e.sheetIdx,updatedVal:""};""!==e.value&&this.parent.notify("checkDateFormat",f);var m=f.updatedVal;0===p?s="Date"===c?m:m.slice(m.indexOf(".")+1,m.length):1===p?l="Date"===c?m:m.slice(m.indexOf(".")+1,m.length):o="Date"===c?m:m.slice(m.indexOf(".")+1,m.length)}else"TextLength"===r.validation.type&&(s=e.value.toString().length.toString());if("List"===c)if(-1!==l.indexOf("="))for(var g=0;g<this.data.length;g++)e.value===this.data[g].text&&(t=!0);else for(var v=l.split(","),y=0;y<v.length;y++)e.value===v[y]&&(t=!0);else switch("Decimal"===c?(s=parseFloat(s.toString()),l=parseFloat(l.toString()),o=o?parseFloat(o.toString()):null):(s=parseInt(s.toString(),10),l=parseInt(l.toString(),10),o=o?parseInt(o.toString(),10):null),u){case"EqualTo":t=s===l||!(!h||""!==a);break;case"NotEqualTo":t=s!==l||!(!h||""!==a);break;case"Between":t=s>=l&&s<=o||!(!h||""!==a);break;case"NotBetween":t=!(s>=l&&s<=o);break;case"GreaterThan":t=s>l||!(!h||""!==a);break;case"LessThan":t=s<l||!(!h||""!==a);break;case"GreaterThanOrEqualTo":t=s>=l||!(!h||""!==a);break;case"LessThanOrEqualTo":t=s<=l||!(!h||""!==a)}}if(n=i.getConstant("ValidationError"),t){r&&r.validation&&r.validation.isHighlighted&&(r.validation.isHighlighted=!1);var b=this.parent.getCellStyleValue(["backgroundColor","color"],[e.range[0],e.range[1]]);this.parent.notify("applyCellFormat",{style:b,rowIdx:e.range[0],colIdx:e.range[1],isHeightCheckNeeded:!0,manualUpdate:!0,onActionUpdate:!0})}return{isValidate:t,errorMsg:n}}},{key:"checkDataValidation",value:function(e){var t=this.isValidationHandler({value:e.value,range:e.range,sheetIdx:e.sheetIdx});!t.isValidate&&e.isCell&&this.validationErrorHandler(t.errorMsg),this.parent.allowDataValidation=t.isValidate}},{key:"formatValidation",value:function(e,t){var n,i,a,r=this.parent.element.getElementsByClassName("e-sheet-panel")[0],s=this.parent.createElement("form",{id:"formId",className:"form-horizontal"}),l=this.parent.createElement("input",{id:"e-validation",innerHTML:e});switch(l.setAttribute("name","validation"),l.setAttribute("type","text"),l.setAttribute("value",e),s.appendChild(l),r.appendChild(s),t){case"Date":a={rules:{validation:{date:!0}},customPlacement:function(e,t){i=t.innerText}};break;case"Decimal":a={rules:{validation:{number:!0}},customPlacement:function(e,t){i=t.innerText}};break;case"WholeNumber":a={rules:{validation:{regex:/^\d*\.?[0]*$/}},customPlacement:function(e,t){i=t.innerText}}}return n=new cN("#formId",a).validate(),r.removeChild(r.getElementsByClassName("form-horizontal")[0]),{isValidate:n,errorMsg:i}}},{key:"validationErrorHandler",value:function(e){var t=this,n=document.getElementsByClassName("e-spreadsheet-edit")[0],i=this.parent.serviceLocator.getService(gj);if(!this.parent.element.querySelector(".e-validationerror-dlg")){var a=this.parent.serviceLocator.getService(vj),r={width:400,height:200,isModal:!0,showCloseIcon:!0,cssClass:"e-validationerror-dlg",target:document.querySelector(".e-control.e-spreadsheet"),beforeOpen:function(){n.focus(),a.dialogInstance.content=e,a.dialogInstance.dataBind()},buttons:[{buttonModel:{content:i.getConstant("Retry"),isPrimary:!0},click:function(){t.errorDlgHandler(a,"Retry")}},{buttonModel:{content:i.getConstant("Cancel")},click:function(){t.errorDlgHandler(a,"Cancel")}}]};a.show(r,!1)}}},{key:"errorDlgHandler",value:function(e,t){if("Retry"===t){var n=document.getElementsByClassName("e-spreadsheet-edit")[0];if(this.parent.getMainContent(),e.hide(),n.innerText){var i=document.createRange();i.setStart(n.childNodes[0],0),i.setEnd(n.childNodes[0],n.innerText.length);var a=window.getSelection();a.removeAllRanges(),a.addRange(i),this.listObj&&this.listObj.showPopup()}}else{var r=GF(this.parent.getActiveSheet().activeCell),s=this.parent.getDisplayText(this.parent.getActiveSheet().rows[r[0]].cells[r[1]]);this.parent.notify(mH,{action:"cancelEdit",value:s,refreshFormulaBar:!0,refreshEditorElem:!0,isAppend:!1,trigEvent:!0}),e.hide()}}},{key:"getModuleName",value:function(){return"dataValidation"}}]),e}(),YV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.init()}return _createClass(e,[{key:"init",value:function(){this.addEventListener()}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("applyProtect",this.protect,this),this.parent.on("protectSheet",this.protectSheetHandler,this),this.parent.on("editAlert",this.editProtectedAlert,this),this.parent.on("applyLockCells",this.lockCellsHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("applyProtect",this.protect),this.parent.off("protectSheet",this.protectSheetHandler),this.parent.off("editAlert",this.editProtectedAlert),this.parent.off("applyLockCells",this.lockCellsHandler))}},{key:"protect",value:function(e){this.parent.notify("clearCopy",null),e.isActive?(this.parent.getActiveSheet().isProtected=!1,this.parent.notify("updateToggleItem",{props:"Protect"}),this.parent.notify("protectSheet",{isActive:e.isActive}),this.parent.notify("protectSelection",null)):this.createDialogue()}},{key:"createDialogue",value:function(){var e=this,t=this.parent.serviceLocator.getService(gj),n=[{text:t.getConstant("SelectCells"),id:"1"},{text:t.getConstant("FormatCells"),id:"2"},{text:t.getConstant("FormatRows"),id:"3"},{text:t.getConstant("FormatColumns"),id:"4"},{text:t.getConstant("InsertLinks"),id:"5"}];this.optionList=new hT({width:"250px",dataSource:n,showCheckBox:!0,select:this.dialogOpen.bind(this)});var i=this.parent.createElement("div",{className:"e-protect-content",innerHTML:t.getConstant("ProtectAllowUser")});this.parent.getActiveSheet().isProtected=!1;var a=new GM({checked:!0,label:t.getConstant("ProtectContent"),cssClass:"e-protect-checkbox"}),r=this.parent.createElement("div",{className:"e-protect-option-list",id:this.parent.element.id+"_option_list"}),s=this.parent.createElement("div",{className:"e-header-content",innerHTML:t.getConstant("ProtectSheet")}),l=this.parent.createElement("input",{id:this.parent.element.id+"_protect_check",attrs:{type:"checkbox"}});this.dialog=this.parent.serviceLocator.getService("dialog"),this.dialog.show({header:s.outerHTML,content:l.outerHTML+i.outerHTML+r.outerHTML,showCloseIcon:!0,isModal:!0,cssClass:"e-protect-dlg",beforeOpen:function(){return e.parent.element.focus()},open:function(){e.okBtnFocus()},beforeClose:function(){var t=document.getElementById(e.parent.element.id+"_protect_check");$I.remove(t,"focus",e.okBtnFocus),$I.remove(a.element,"click",e.checkBoxClickHandler),e.parent.element.focus()},buttons:[{click:this.selectOption.bind(this,this.dialog,this),buttonModel:{content:t.getConstant("Ok"),isPrimary:!0}}]}),a.appendTo("#"+this.parent.element.id+"_protect_check"),this.optionList.appendTo("#"+this.parent.element.id+"_option_list"),this.optionList.selectMultipleItems([{id:"1"}]),$I.add(a.element,"click",this.checkBoxClickHandler,this)}},{key:"okBtnFocus",value:function(){var e=this;document.getElementById(this.parent.element.id+"_protect_check").addEventListener("focus",(function(){e.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").focus()}))}},{key:"checkBoxClickHandler",value:function(){!1===document.getElementById(this.parent.element.id+"_protect_check").checked?this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").disabled=!0:(this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").disabled=!1,this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").focus())}},{key:"dialogOpen",value:function(){this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").focus()}},{key:"selectOption",value:function(){var e=this.parent.serviceLocator.getService(gj),t=this.optionList.getSelectedItems();this.parent.getActiveSheet().isProtected=!0;var n={selectCells:t.text.indexOf(e.getConstant("SelectCells"))>-1,formatCells:t.text.indexOf(e.getConstant("FormatCells"))>-1,formatRows:t.text.indexOf(e.getConstant("FormatRows"))>-1,formatColumns:t.text.indexOf(e.getConstant("FormatColumns"))>-1,insertLink:t.text.indexOf(e.getConstant("InsertLinks"))>-1};this.parent.protectSheet(null,n),this.parent.notify("protectSelection",null),this.parent.notify("clearUndoRedoCollection",null),this.dialog.hide()}},{key:"protectSheetHandler",value:function(e){var t=this.parent.getActiveSheet(),n=this.parent.element.id,i=[n+"_undo",n+"_redo",n+"_cut",n+"_copy",n+"_paste",n+"_number_format",n+"_font_name",n+"_font_size",n+"_bold",n+"_italic",n+"_line-through",n+"_underline",n+"_font_color_picker",n+"_fill_color_picker",n+"_borders",n+"_merge_cells",n+"_text_align",n+"_vertical_align",n+"_wrap",n+"_sorting"],a=[n+"_cut",n+"_copy",n+"_number_format",n+"_font_name",n+"_font_size",n+"_bold",n+"_italic",n+"_line-through",n+"_underline",n+"_font_color_picker",n+"_fill_color_picker",n+"_borders",n+"_text_align",n+"_vertical_align",n+"_wrap",n+"_sorting"],r=[n+"_insert_function"],s=[n+"_hyperlink"],l=[n+"_find"],o=[n+"_datavalidation"],u=document.getElementById(this.parent.element.id+"_sheet_panel");u&&(t.isProtected&&t.protectSettings.selectCells?u.classList.remove("e-protected"):u.classList.add("e-protected"),t.isProtected||u.classList.remove("e-protected")),this.parent.dataBind(),this.parent.notify("protectCellFormat",{disableHomeBtnId:i,enableHomeBtnId:a,enableFrmlaBtnId:r,enableInsertBtnId:s,findBtnId:l,dataValidationBtnId:o}),this.parent.notify("enableFormulaInput",null),this.parent.notify("updateToggleItem",{props:"Protect"})}},{key:"editProtectedAlert",value:function(){var e=this,t=this.parent.serviceLocator.getService(gj);this.dialog=this.parent.serviceLocator.getService("dialog"),this.dialog.dialogInstance||this.dialog.show({content:t.getConstant("EditAlert"),isModal:!0,closeOnEscape:!0,showCloseIcon:!0,width:"400px",beforeOpen:function(){return e.parent.element.focus()},close:function(){return e.parent.element.focus()}})}},{key:"lockCellsHandler",value:function(e){var t=this.parent.getActiveSheet();gB(e.rowIdx,e.colIdx,t,{isLocked:!!e.isLocked&&e.isLocked},!0)}},{key:"getModuleName",value:function(){return"protectSheet"}}]),e}(),GV=function(){function e(t){_classCallCheck(this,e),this.shortValue="",this.parent=t,this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){this.parent.on(_H,this.renderFindDlg,this),this.parent.on(wH,this.renderGotoDlg,this),this.parent.on("gotoHandler",this.gotoHandler,this),this.parent.on("findHandler",this.findHandler,this),this.parent.on("replaceHandler",this.replaceHandler,this),this.parent.on(uH,this.showDialog,this),this.parent.on("replaceAllDialog",this.replaceAllDialog,this),this.parent.on("findUndoRedo",this.findUndoRedo,this),this.parent.on("findKeyUp",this.findKeyUp,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off(_H,this.renderFindDlg),this.parent.off(wH,this.renderGotoDlg),this.parent.off("gotoHandler",this.gotoHandler),this.parent.off("findHandler",this.findHandler),this.parent.off("replaceHandler",this.replaceHandler),this.parent.off(uH,this.showDialog),this.parent.off("replaceAllDialog",this.replaceAllDialog),this.parent.off("findUndoRedo",this.findUndoRedo),this.parent.off("findKeyUp",this.findKeyUp))}},{key:"findUndoRedo",value:function(e){var t={address:e.address,compareVal:e.compareVal,cancel:!1};"before"===e.undoRedoOpt?this.parent.notify(CH,{action:"beforeReplace",eventArgs:t}):"after"===e.undoRedoOpt?t.cancel||this.parent.notify(kH,{action:"replace",eventArgs:{address:e.address,compareVal:e.compareVal}}):"beforeReplaceAll"===e.undoRedoOpt?t.cancel||this.parent.notify(CH,{action:"beforeReplaceAll",eventArgs:{replaceValue:e.replaceValue,addressCollection:e.Collection}}):"afterReplaceAll"!==e.undoRedoOpt||t.cancel||this.parent.notify(kH,{action:"replaceAll",eventArgs:{replaceValue:e.replaceValue,addressCollection:e.Collection}})}},{key:"renderFindDlg",value:function(){var e=this,t=this.parent.serviceLocator.getService(gj),n=this.parent.serviceLocator.getService(vj);if(JO(this.parent.element.querySelector(".e-find-dlg"))){var i={isModal:!1,showCloseIcon:!0,cssClass:"e-find-dlg",allowDragging:!0,header:t.getConstant("FindAndReplace"),closeOnEscape:!1,beforeOpen:function(){n.dialogInstance.content=e.findandreplaceContent(),n.dialogInstance.dataBind(),e.parent.element.focus()},buttons:[{buttonModel:{content:t.getConstant("FindPreviousBtn"),isPrimary:!0,cssClass:"e-btn-findPrevious",disabled:!0},click:function(){e.dialogMessage(),e.findDlgClick("prev")}},{buttonModel:{content:t.getConstant("FindNextBtn"),isPrimary:!0,cssClass:"e-btn-findNext",disabled:!0},click:function(){e.dialogMessage(),e.findDlgClick("next")}},{buttonModel:{content:t.getConstant("ReplaceBtn"),isPrimary:!0,cssClass:"e-btn-replace",disabled:!0},click:function(){e.dialogMessage(),e.findDlgClick("replace")}},{buttonModel:{content:t.getConstant("ReplaceAllBtn"),isPrimary:!0,cssClass:"e-btn-replaceAll",disabled:!0},click:function(){e.dialogMessage(),e.findDlgClick("replaceAll")}}],open:function(){e.parent.element.querySelector(".e-text-findNext").value&&(oD(e.parent.element.querySelector(".e-btn-findPrevious"),"btn").disabled=!1,oD(e.parent.element.querySelector(".e-btn-findNext"),"btn").disabled=!1)},close:function(){n.hide()}};n.show(i,!1)}else n.hide()}},{key:"dialogMessage",value:function(){this.parent.element.querySelector(".e-replace-alert-span")?this.parent.element.querySelector(".e-replace-alert-span").remove():this.parent.element.querySelector(".e-find-alert-span")&&this.parent.element.querySelector(".e-find-alert-span").remove()}},{key:"renderGotoDlg",value:function(){var e=this,t=this.parent.serviceLocator.getService(gj),n=this.parent.serviceLocator.getService(vj);if(JO(this.parent.element.querySelector(".e-find-dlg"))){var i={width:300,isModal:!1,showCloseIcon:!0,cssClass:"e-goto-dlg",allowDragging:!0,header:t.getConstant("GotoHeader"),beforeOpen:function(){n.dialogInstance.content=e.GotoContent(),n.dialogInstance.dataBind(),e.parent.element.focus()},buttons:[{buttonModel:{content:t.getConstant("Ok"),isPrimary:!0,cssClass:"e-btn-goto-ok"},click:function(){e.gotoHandler()}}],close:function(){n.hide()},open:function(){e.textFocus()}};n.show(i,!1)}else n.hide()}},{key:"textFocus",value:function(){var e=this;this.parent.element.querySelector(".e-text-goto").addEventListener("focus",(function(){e.parent.element.querySelector(".e-goto-alert-span")&&e.parent.element.querySelector(".e-goto-alert-span").remove()}))}},{key:"findDlgClick",value:function(e){"prev"===e?this.findHandler({findOption:e}):"next"===e?this.findHandler({findOption:e}):this.replaceHandler({findDlgArgs:e})}},{key:"findHandler",value:function(e){var t=this.parent.element.querySelector(".e-text-findNext");t||((t=this.parent.element.querySelector(".e-text-findNext-short"))||this.gotoAlert());var n=t.value;if(""!==t.value){var i,a=this.parent.activeSheetIndex,r=this.parent.element.querySelector(".e-findnreplace-checkcase");i=!!r&&oD(r,"checkbox").checked;var s,l=this.parent.element.querySelector(".e-findnreplace-checkmatch");s=!!l&&oD(l,"checkbox").checked;var o,u=this.parent.element.querySelector(".e-findnreplace-searchby");o=u?oD(u,"dropdownlist").value.toString():"By Row";var c,h=this.parent.element.querySelector(".e-findnreplace-searchwithin");c=h?oD(h,"dropdownlist").value.toString():"Sheet";var d={value:n,sheetIndex:a,findOpt:e.findOption,mode:c,isCSen:i,isEMatch:s,searchBy:o};"next"===e.findOption||"prev"===e.findOption?this.parent.find(d):"count"===e.countArgs.countOpt&&(this.parent.notify("count",d),e.countArgs.findCount=d.findCount)}}},{key:"replaceHandler",value:function(e){var t=this.parent.activeSheetIndex,n=this.parent.element.querySelector(".e-text-findNext"),i=this.parent.element.querySelector(".e-text-replaceInp"),a=oD(this.parent.element.querySelector(".e-findnreplace-checkcase"),"checkbox"),r=oD(this.parent.element.querySelector(".e-findnreplace-checkmatch"),"checkbox"),s=oD(this.parent.element.querySelector(".e-findnreplace-searchby"),"dropdownlist"),l=oD(this.parent.element.querySelector(".e-findnreplace-searchwithin"),"dropdownlist"),o={value:n.value,mode:l.value.toString(),isCSen:a.checked,isEMatch:r.checked,searchBy:s.value.toString(),findOpt:"next",replaceValue:i.value,replaceBy:e.findDlgArgs?e.findDlgArgs:e.replaceMode,sheetIndex:t};this.parent.replace(o)}},{key:"gotoHandler",value:function(e){if(e)this.parent.goTo(e.address);else{var t=this.parent.element.querySelector(".e-text-goto").value,n=t.split("");if(""===t||isNaN(parseInt(n[1],10)))return void this.gotoAlert();var i=t.toString().toUpperCase();this.parent.goTo(i)}}},{key:"gotoAlert",value:function(){var e=this.parent.serviceLocator.getService(gj),t=this.parent.createElement("span",{className:"e-goto-alert-span",innerHTML:e.getConstant("InsertingEmptyValue")});this.parent.element.querySelector(".e-goto-dlg").querySelector(".e-dlg-content").appendChild(t)}},{key:"showDialog",value:function(){this.parent.element.querySelector(".e-replace-alert-span")&&this.parent.element.querySelector(".e-replace-alert-span").remove();var e=this.parent.serviceLocator.getService(gj),t=this.parent.createElement("span",{className:"e-find-alert-span",innerHTML:e.getConstant("NoElements")});this.parent.element.querySelector(".e-find-dlg").querySelector(".e-dlg-content").appendChild(t)}},{key:"replaceAllDialog",value:function(e){this.parent.element.querySelector(".e-find-alert-span")&&this.parent.element.querySelector(".e-find-alert-span").remove();var t=this.parent.serviceLocator.getService(gj),n=this.parent.createElement("span",{className:"e-replace-alert-span",innerHTML:e.count+t.getConstant("ReplaceAllEnd")+e.replaceValue});this.parent.element.querySelector(".e-find-dlg").querySelector(".e-dlg-content").appendChild(n)}},{key:"findKeyUp",value:function(e){var t=this.parent.element.querySelector(".e-text-findNext").value;JO(t)||""===t?(oD(this.parent.element.querySelector(".e-btn-findPrevious"),"btn").disabled=!0,oD(this.parent.element.querySelector(".e-btn-findNext"),"btn").disabled=!0,this.dialogMessage()):(oD(this.parent.element.querySelector(".e-btn-findPrevious"),"btn").disabled=!1,oD(this.parent.element.querySelector(".e-btn-findNext"),"btn").disabled=!1);var n=this.parent.element.querySelector(".e-text-findNext").value,i=this.parent.element.querySelector(".e-text-replaceInp").value;JO(n)||JO(i)||""===n||""===i?(oD(this.parent.element.querySelector(".e-btn-replace"),"btn").disabled=!0,oD(this.parent.element.querySelector(".e-btn-replaceAll"),"btn").disabled=!0,this.dialogMessage()):!1===this.parent.getActiveSheet().isProtected&&(oD(this.parent.element.querySelector(".e-btn-replace"),"btn").disabled=!1,oD(this.parent.element.querySelector(".e-btn-replaceAll"),"btn").disabled=!1)}},{key:"findandreplaceContent",value:function(){this.parent.element.querySelector(".e-text-findNext-short")&&(this.shortValue=this.parent.element.querySelector(".e-text-findNext-short").value);var e=this.parent.createElement("div",{className:"e-link-dialog"}),t=this.parent.createElement("div",{className:"e-find"}),n=this.parent.createElement("div",{className:"e-findCheck"}),i=this.parent.serviceLocator.getService(gj);e.appendChild(t);var a=this.parent.createElement("div",{className:"e-cont"}),r=this.parent.createElement("p",{className:"e-header",innerHTML:i.getConstant("FindWhat")}),s=this.parent.createElement("input",{className:"e-input e-text-findNext",attrs:{type:"Text",placeholder:i.getConstant("FindValue"),value:this.shortValue}});a.appendChild(s),a.insertBefore(r,s),t.appendChild(a);var l=new AN({width:"70%"});l.createElement=this.parent.createElement,l.appendTo(s);var o=this.parent.createElement("div",{className:"e-cont"}),u=this.parent.createElement("p",{className:"e-header",innerHTML:i.getConstant("ReplaceWith")}),c=this.parent.createElement("input",{className:"e-input e-text-replaceInp",attrs:{type:"Text",placeholder:i.getConstant("ReplaceValue")}});o.appendChild(c),o.insertBefore(u,c),t.appendChild(o);var h=new AN({width:"70%"});h.createElement=this.parent.createElement,h.appendTo(c);var d=[{Id:"Sheet",Within:i.getConstant("Sheet")},{Id:"Workbook",Within:i.getConstant("Workbook")}],p=new YR({dataSource:d,cssClass:"e-searchby",fields:{value:"Id",text:"Within"},width:"50%",index:0}),f=this.parent.createElement("input",{className:"e-findnreplace-searchwithin",attrs:{type:"select",label:i.getConstant("SearchBy")}}),m=this.parent.createElement("p",{className:"e-header",innerHTML:i.getConstant("SearchWithin")});t.appendChild(m),t.appendChild(f),p.createElement=this.parent.createElement,p.appendTo(f);var g=[{Id:"By Row",Search:i.getConstant("ByRow")},{Id:"By Column",Search:i.getConstant("ByColumn")}],v=new YR({dataSource:g,cssClass:"e-searchby",fields:{value:"Id",text:"Search"},width:"50%",index:0}),y=this.parent.createElement("input",{className:"e-findnreplace-searchby",attrs:{type:"select",label:i.getConstant("SearchBy")}}),b=this.parent.createElement("p",{className:"e-header",innerHTML:i.getConstant("SearchBy")});t.appendChild(b),t.appendChild(y),v.createElement=this.parent.createElement,v.appendTo(y);var k=new GM({label:i.getConstant("MatchCase"),checked:!1,cssClass:"e-findnreplace-casecheckbox"}),C=this.parent.createElement("input",{className:"e-findnreplace-checkcase",attrs:{type:"checkbox"}});n.appendChild(C),k.createElement=this.parent.createElement,k.appendTo(C);var w=new GM({label:i.getConstant("MatchExactCellElements"),checked:!1,cssClass:"e-findnreplace-exactmatchcheckbox"}),_=this.parent.createElement("input",{className:"e-findnreplace-checkmatch",attrs:{type:"checkbox"}});return n.appendChild(_),w.createElement=this.parent.createElement,w.appendTo(_),t.appendChild(n),e}},{key:"GotoContent",value:function(){var e=this.parent.serviceLocator.getService(gj),t=this.parent.createElement("div",{className:"e-link-dialog"}),n=this.parent.createElement("div",{className:"e-goto"});t.appendChild(n);var i=this.parent.createElement("div",{className:"e-cont"}),a=this.parent.createElement("p",{className:"e-header",innerHTML:e.getConstant("Reference")}),r=new AN({placeholder:e.getConstant("EntercellAddress")}),s=this.parent.createElement("input",{className:"e-text-goto",attrs:{type:"Text"}});return i.appendChild(s),i.insertBefore(a,s),n.appendChild(i),r.createElement=this.parent.createElement,r.appendTo(s),t}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"findAndReplace"}}]),e}(),XV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"merge",value:function(e){var t=this;e.showDialog?this.parent.serviceLocator.getService(vj).show({target:this.parent.element,height:180,width:400,isModal:!0,showCloseIcon:!0,content:this.parent.serviceLocator.getService(gj).getConstant("PasteMergeAlert"),beforeOpen:function(){return t.parent.element.focus()}}):this.parent.serviceLocator.getService("cell").refresh(e.rowIdx,e.colIdx,e.lastCell,e.element)}},{key:"hideHandler",value:function(e){var t,n=this.parent.getActiveSheet(),i={range:[e.rowIdx,e.colIdx,e.rowIdx,e.colIdx]};this.parent.notify("activeCellMergedRange",i),i.range=i.range;var a=mB(i.range[0],i.range[1],n)||{},r="row"===e.model?i.range[0]:i.range[1];if(t=r+((a["".concat(e.model,"Span")]||1)-1),!(!e.isEnd&&(e.start===r||jB(n,r))||e.isEnd&&e.start>r&&!jB(n,r))&&a["".concat(e.model,"Span")]>1&&t>=e.start)if("row"===e.model?hB(n,r):jB(n,r)){if(e.end<t&&(t-e.end>1||a.rowSpan>1)){var s=this.parent.getCell(e.rowIdx,e.end+1);if(s&&(t-e.end>1&&(s.colSpan=t-e.end),s.style.display=""),a.rowSpan>1){var l=a.rowSpan-this.parent.hiddenCount(e.rowIdx,e.rowIdx+(a.rowSpan-1));l>1&&(s.rowSpan=l)}}}else this.merge({rowIdx:i.range[0],colIdx:i.range[1]})}},{key:"checkPrevMerge",value:function(e){var t,n,i,a=this.parent.getActiveSheet();e.isRow?e.rowIdx-1>-1&&hB(a,e.rowIdx-1)&&(void 0===(t=mB(e.rowIdx-1,e.colIdx,a)||{}).rowSpan&&void 0===t.colSpan||!(void 0===t.colSpan||t.colSpan>1||e.colIdx-1>-1&&jB(a,e.colIdx-1))||(n={range:[e.rowIdx-1,e.colIdx,e.rowIdx-1,e.colIdx]},this.parent.notify("activeCellMergedRange",n),n.range=n.range,hB(a,n.range[0])&&n.range[2]>=e.rowIdx&&((t=mB(n.range[0],n.range[1],a)||{}).rowSpan>1&&((i=n.range[2]-e.rowIdx+1-this.parent.hiddenCount(e.rowIdx,e.rowIdx+(n.range[2]-e.rowIdx)))>1&&(e.td.rowSpan=i,e.td.style.display=""),t.colSpan>1&&!(e.colIdx-1>-1&&jB(a,e.colIdx-1))&&((i=t.colSpan-this.parent.hiddenCount(e.colIdx,e.colIdx+(t.colSpan-1),"columns"))>1&&(e.td.colSpan=i,e.td.style.display="")))))):e.colIdx-1>-1&&jB(a,e.colIdx-1)&&(void 0===(t=mB(e.rowIdx,e.colIdx-1,a)||{}).colSpan&&void 0===t.rowSpan||!(void 0===t.rowSpan||t.rowSpan>1||e.rowIdx-1>-1&&hB(a,e.rowIdx-1))||(n={range:[e.rowIdx,e.colIdx-1,e.rowIdx,e.colIdx-1]},this.parent.notify("activeCellMergedRange",n),n.range=n.range,jB(a,n.range[1])&&n.range[3]>=e.colIdx&&((t=mB(n.range[0],n.range[1],a)||{}).colSpan>1&&((i=n.range[3]-e.colIdx+1-this.parent.hiddenCount(e.colIdx,e.colIdx+(t.colSpan-1),"columns"))>1&&(e.td.colSpan=i,e.td.style.display=""),t.rowSpan>1&&!(e.rowIdx-1>-1&&hB(a,e.rowIdx-1))&&((i=t.rowSpan-this.parent.hiddenCount(e.rowIdx,e.rowIdx+(t.rowSpan-1)))>1&&(e.td.rowSpan=i,e.td.style.display=""))))))}},{key:"checkMerge",value:function(e){var t=this.parent.getActiveSheet(),n=mB(e.rowIdx,e.colIdx,t)||{};if(e.isRow){if(void 0===n.colSpan||jB(t,e.colIdx-1)){var i={range:[e.rowIdx,e.colIdx,e.rowIdx,e.colIdx]};if(i.range=i.range,this.parent.notify("activeCellMergedRange",i),jB(t,e.colIdx-1)&&!jB(t,i.range[1]))return;n=mB(i.range[0],i.range[1],t);var a=i.range[2]-e.rowIdx+1-this.parent.hiddenCount(e.rowIdx,i.range[2]);a>1&&(this.merge({rowIdx:i.range[0],colIdx:i.range[1],element:e.td}),e.td.rowSpan=a)}}else if(void 0===n.rowSpan||hB(t,e.rowIdx-1)){var r={range:[e.rowIdx,e.colIdx,e.rowIdx,e.colIdx]};if(r.range=r.range,this.parent.notify("activeCellMergedRange",r),hB(t,e.rowIdx-1)&&!hB(t,r.range[0]))return;n=mB(r.range[0],r.range[1],t);var s=r.range[3]-e.colIdx+1-this.parent.hiddenCount(e.colIdx,r.range[3],"columns");s>1&&(this.merge({rowIdx:r.range[0],colIdx:r.range[1],element:e.td}),e.td.colSpan=s)}}},{key:"addEventListener",value:function(){this.parent.on("applyMerge",this.merge,this),this.parent.on("hiddenMerge",this.hideHandler,this),this.parent.on("checkPrevMerge",this.checkPrevMerge,this),this.parent.on("checkMerge",this.checkMerge,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("applyMerge",this.merge),this.parent.off("hiddenMerge",this.hideHandler),this.parent.off("checkPrevMerge",this.checkPrevMerge),this.parent.off("checkMerge",this.checkMerge))}},{key:"getModuleName",value:function(){return"merge"}}]),e}(),KV=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},$V=(wV=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),KV([bD("")],wV.prototype,"text",void 0),KV([bD("")],wV.prototype,"iconCss",void 0),KV([bD("left")],wV.prototype,"iconPosition",void 0),wV),ZV=(CV=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),KV([kD({},$V)],CV.prototype,"header",void 0),KV([CD([],$N)],CV.prototype,"content",void 0),KV([bD("")],CV.prototype,"cssClass",void 0),KV([bD(!1)],CV.prototype,"disabled",void 0),CV),JV=(kV=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"preRender",value:function(){}},{key:"render",value:function(){this.element.id||(this.element.id=eI("ribbon")),this.renderRibbon()}},{key:"destroy",value:function(){var e=this.tabObj.element.querySelector(".e-drop-icon");if(e&&e.removeEventListener("click",this.ribbonExpandCollapse.bind(this)),this.menuItems.length){var t=document.getElementById("".concat(this.element.id,"_menu"));t&&oD(t,"menu").destroy()}this.toolbarObj.destroy(),this.tabObj.destroy(),this.element.innerHTML="",this.toolbarObj=null,this.tabObj=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getTabItems",value:function(){var e=this,t=[];return this.menuItems.length&&t.push({header:{text:this.initMenu(this.menuItems)},content:this.toolbarObj.element,cssClass:"e-menu-tab"}),this.items.forEach((function(n){t.push({header:n.header,content:e.toolbarObj.element})})),t}},{key:"initMenu",value:function(e){var t=this,n=this.createElement("ul",{id:"".concat(this.element.id,"_menu")});this.element.appendChild(n);var i=new nR({cssClass:"e-file-menu",items:e,showItemOnClick:!0,beforeOpen:function(n){n.parentItem.text===e[0].text&&(i.showItemOnClick=!1),t.trigger("beforeOpen",n)},select:function(e){t.trigger("fileMenuItemSelect",e)},beforeClose:function(n){"mouseover"!==n.event.type||nD(n.event.target,".e-menu-popup")?(t.trigger("beforeClose",n),n.parentItem&&n.parentItem.text!==e[0].text||requestAnimationFrame((function(){return i.setProperties({showItemOnClick:!0},!0)}))):n.cancel=!0},beforeItemRender:function(e){t.trigger("beforeFileMenuItemRender",e)}});return i.createElement=this.createElement,i.appendTo(n),n.parentElement}},{key:"renderRibbon",value:function(){var e=this,t=this.createElement("div"),n=this.createElement("div");this.toolbarObj=new ZN({items:this.items[this.selectedTab].content,clicked:function(t){return e.trigger("clicked",t)}}),this.toolbarObj.createElement=this.createElement,this.toolbarObj.appendTo(n),this.tabObj=new hR({selectedItem:this.getIndex(this.selectedTab),animation:{next:{duration:0},previous:{duration:0}},items:this.getTabItems(),selecting:function(t){if(e.menuItems.length&&0===t.selectingIndex)t.cancel=!0;else{if(t.selectingIndex===e.getIndex(e.selectedTab))return;var n;e.updateToolbar(e.getIndex(t.selectingIndex,!0)),e.toolbarObj.dataBind(),e.element.classList.contains("e-collapsed")&&$I.remove(t.selectedItem,"click",e.ribbonExpandCollapse),e.menuItems.length?((n=Object.assign({},t)).selectingIndex-=1,n.selectedIndex-=1):n=t,e.trigger("selecting",n)}},selected:function(t){t.selectedIndex!==e.getIndex(e.selectedTab)&&(e.setProperties({selectedTab:e.getIndex(t.selectedIndex,!0)},!0),e.element.classList.contains("e-collapsed")&&(e.element.classList.remove("e-collapsed"),e.trigger("expandCollapse",{element:e.toolbarObj.element,expanded:!0})))},created:function(){var t=e.createElement("span",{className:"e-drop-icon e-icons"});t.addEventListener("click",e.ribbonExpandCollapse.bind(e));var n=e.tabObj.element.querySelector(".e-tab-header");n.insertBefore(t,n.getElementsByClassName("e-toolbar-items")[0]),e.toolbarObj.refreshOverflow()}}),this.element.appendChild(t),this.tabObj.createElement=this.createElement,this.tabObj.appendTo(t)}},{key:"ribbonExpandCollapse",value:function(e){var t,n={element:this.toolbarObj.element,expanded:!0};this.element.classList.contains("e-collapsed")?(t=this.tabObj.element.querySelector(".e-tab-header").getElementsByClassName("e-toolbar-item")[this.tabObj.selectedItem],this.element.classList.remove("e-collapsed"),t.classList.add("e-active"),$I.remove(t,"click",this.ribbonExpandCollapse),this.trigger("expandCollapse",n)):(t=this.tabObj.element.querySelector(".e-tab-header .e-toolbar-item.e-active"),this.element.classList.add("e-collapsed"),n.expanded=!1,t.classList.remove("e-active"),$I.add(t,"click",this.ribbonExpandCollapse,this),this.trigger("expandCollapse",n))}},{key:"getIndex",value:function(e,t){return this.menuItems.length?t?e-1:e+1:e}},{key:"updateToolbar",value:function(e){this.toolbarObj.items=this.items[e].content,this.toolbarObj.dataBind()}},{key:"enableMenuItems",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;this.menuItems.length&&oD(document.getElementById("".concat(this.element.id,"_menu")),"menu").enableItems(e,t,n)}},{key:"hideMenuItems",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(this.menuItems.length){var i=oD(document.getElementById("".concat(this.element.id,"_menu")),"menu");t?i.hideItems(e,n):i.showItems(e,n)}}},{key:"addMenuItems",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;if(this.menuItems.length){var a=oD(document.getElementById("".concat(this.element.id,"_menu")),"menu");n?a.insertAfter(e.reverse(),t,i):a.insertBefore(e,t,i)}}},{key:"hideTabs",value:function(e){var t,n,i,a,r=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(s||(a=this.isAllHidden()),e.forEach((function(e){(t=r.getTabIndex(e,-1))>-1&&(s?r.items[t].cssClass.includes(" e-hide")||(r.items[t].cssClass="".concat(r.items[t].cssClass," e-hide"),r.tabObj.items[r.getIndex(t)].cssClass=r.items[t].cssClass,void 0===n&&t===r.selectedTab&&(n=!0),i=!0):r.items[t].cssClass.includes(" e-hide")&&(r.items[t].cssClass=r.items[t].cssClass.replace(" e-hide",""),r.tabObj.items[r.getIndex(t)].cssClass=r.items[t].cssClass,void 0===n&&t===r.selectedTab&&(n=!0),i=!0))})),this.setProperties({items:this.items},!0),this.tabObj.items=this.tabObj.items,this.tabObj.dataBind(),s&&(a=this.isAllHidden())&&(n=!1),!s&&a&&(n=!n),i&&a&&(this.element.classList.contains("e-collapsed")?(this.element.classList.remove("e-collapsed"),this.element.querySelector(".e-drop-icon").classList.remove("e-hide")):(this.element.classList.add("e-collapsed"),this.element.querySelector(".e-drop-icon").classList.add("e-hide"))),n)for(var l=0;l<this.items.length;l++)if(!this.items[l].cssClass.includes(" e-hide")){this.tabObj.selectedItem=this.getIndex(l),this.tabObj.dataBind();break}}},{key:"isAllHidden",value:function(){for(var e=!0,t=0;t<this.items.length;t++)if(!this.items[t].cssClass.includes(" e-hide")){e=!1;break}return e}},{key:"enableTabs",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){var i=t.getTabIndex(e,-1);i>-1&&(t.items[i].disabled=!n,i=t.getIndex(i),t.tabObj.enableTab(i,n))})),this.setProperties({items:this.items},!0)}},{key:"addTabs",value:function(e,t){var n=this,i=this.getTabIndex(t);e.forEach((function(e){e=new ZV(n.items[0],"items",e,!0),n.items.splice(i,0,e),n.tabObj.addTab([{header:e.header,content:n.toolbarObj.element}],n.getIndex(i)),i++})),this.setProperties({items:this.items},!0),this.setProperties({selectedTab:this.getIndex(this.tabObj.selectedItem,!0)},!0)}},{key:"getTabIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.items.length;if(e)for(var n=0;n<this.items.length;n++)if(this.items[n].header.text===e){t=n;break}return t}},{key:"addToolbarItems",value:function(e,t,n){var i=this,a=this.getTabIndex(e);JO(n)&&(n=this.items[a].content.length),t.forEach((function(e){e=new $N(i.items[a].content[0],"content",e,!0),i.items[a].content.splice(n,0,e),n++})),this.setProperties({items:this.items},!0),a===this.selectedTab&&t.length&&this.updateToolbar(a)}},{key:"enableItems",value:function(e,t,n){if(void 0===n&&(n=!0),t){var i=this.getTabIndex(e,-1);if(i<0)return;for(var a=0;a<t.length;a++){if("string"==typeof t[a])for(var r=0;r<this.items[i].content.length;r++)if(this.items[i].content[r].id===t[a]){t[a]=r;break}if("string"==typeof t[a])return;this.items[i].content[t[a]].disabled=!n}i===this.selectedTab&&this.updateToolbar(i)}else this.toolbarObj.disable(!n)}},{key:"hideToolbarItems",value:function(e,t){for(var n,i=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;r<this.items.length;r++)if(this.items[r].header.text===e){n=r,t.forEach((function(e){i.items[n].content[e]&&(a?i.items[n].content[e].cssClass.includes(" e-hide")||(i.items[n].content[e].cssClass=i.items[n].content[e].cssClass+" e-hide"):i.items[n].content[e].cssClass.includes(" e-hide")&&(i.items[n].content[e].cssClass=i.items[n].content[e].cssClass.replace(" e-hide","")))}));break}this.setProperties({items:this.items},!0),void 0!==n&&n===this.selectedTab&&this.updateToolbar(n)}},{key:"getModuleName",value:function(){return"ribbon"}},{key:"getPersistData",value:function(){return this.addOnPersist([])}},{key:"onPropertyChanged",value:function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++)switch(i[n]){case"selectedTab":this.tabObj.selectedItem=this.getIndex(e.selectedTab),this.tabObj.dataBind()}}}]),n}(zD),KV([bD("")],kV.prototype,"cssClass",void 0),KV([bD(!0)],kV.prototype,"menuType",void 0),KV([CD([],zN)],kV.prototype,"menuItems",void 0),KV([bD(0)],kV.prototype,"selectedTab",void 0),KV([CD([],ZV)],kV.prototype,"items",void 0),KV([wD()],kV.prototype,"selecting",void 0),KV([wD()],kV.prototype,"fileMenuItemSelect",void 0),KV([wD()],kV.prototype,"beforeFileMenuItemRender",void 0),KV([wD()],kV.prototype,"beforeOpen",void 0),KV([wD()],kV.prototype,"beforeClose",void 0),KV([wD()],kV.prototype,"selectFormat",void 0),KV([wD()],kV.prototype,"clicked",void 0),KV([wD()],kV.prototype,"created",void 0),KV([wD()],kV.prototype,"expandCollapse",void 0),kV=KV([_D],kV)),QV=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"render",value:function(){var e=this,t=this.parent.element.id,n=this.parent.createElement("input",{attrs:{type:"color"}});this.fontColorPicker=new EN({value:"#000000ff",mode:"Palette",showButtons:!1,presetColors:yj,enableOpacity:!1,beforeClose:function(t){return e.beforeCloseHandler(e.fontColorPicker)},open:this.openHandler.bind(this),beforeModeSwitch:function(t){return e.beforeModeSwitch(e.fontColorPicker,t)},change:function(t){var n={style:{color:e.fontColorPicker.getValue(t.currentValue.rgba)},onActionUpdate:!0};e.parent.notify(lH,n),n.cancel?e.fontColorPicker.setProperties({value:e.fontColorPicker.getValue(t.previousValue.rgba,"HEXA")},!0):e.updateSelectedColor(n.style.color,e.fontColorPicker.element),e.parent.element.focus()},created:function(){return e.wireFocusEvent(e.fontColorPicker.element,"#000000")}}),this.fontColorPicker.createElement=this.parent.createElement,this.parent.element.appendChild(n),this.fontColorPicker.appendTo(n),n.parentElement.id="".concat(t,"_font_color_picker"),UA([n.nextElementSibling.getElementsByClassName("e-selected-color")[0]],["e-icons","e-font-color"]),n=this.parent.createElement("input",{attrs:{type:"color"}}),this.filColorPicker=new EN({value:"#ffff00ff",mode:"Palette",presetColors:bj,showButtons:!1,enableOpacity:!1,open:this.openHandler.bind(this),beforeClose:function(t){return e.beforeCloseHandler(e.filColorPicker)},beforeModeSwitch:function(t){return e.beforeModeSwitch(e.filColorPicker,t)},change:function(t){var n={style:{backgroundColor:e.filColorPicker.getValue(t.currentValue.rgba)},onActionUpdate:!0};e.parent.notify(lH,n),n.cancel?e.filColorPicker.setProperties({value:e.filColorPicker.getValue(t.previousValue.rgba,"HEXA")},!0):e.updateSelectedColor(n.style.backgroundColor,e.filColorPicker.element),e.parent.element.focus()},created:function(){return e.wireFocusEvent(e.filColorPicker.element,"#ffff00")}}),this.filColorPicker.createElement=this.parent.createElement,this.parent.element.appendChild(n),this.filColorPicker.appendTo(n),n.parentElement.id="".concat(t,"_fill_color_picker"),UA([n.nextElementSibling.getElementsByClassName("e-selected-color")[0]],["e-icons","e-fill-color"])}},{key:"updateSelectedColor",value:function(e,t){t.nextElementSibling.querySelector(".e-selected-color").style.borderBottomColor=e}},{key:"wireFocusEvent",value:function(e,t){var n=this;this.updateSelectedColor(t,e),(e=e.parentElement.querySelector(".e-split-colorpicker")).addEventListener("focus",(function(){n.parent.element.focus()}))}},{key:"openHandler",value:function(e){e.element.querySelector(".e-mode-switch-btn").title=this.parent.serviceLocator.getService(gj).getConstant("MoreColors")}},{key:"beforeCloseHandler",value:function(e){e.modeSwitcher||e.setProperties({modeSwitcher:!0},!0),e.showButtons&&e.setProperties({showButtons:!1},!0)}},{key:"beforeModeSwitch",value:function(e,t){var n=this.parent.serviceLocator.getService(gj);"Picker"===t.mode?(e.showButtons=!0,e.dataBind(),t.element.querySelector(".e-apply").title=n.getConstant("Apply"),t.element.querySelector(".e-cancel").title=n.getConstant("Cancel"),t.element.querySelector(".e-mode-switch-btn").title=n.getConstant("StandardColors")):(e.showButtons=!1,e.dataBind(),t.element.querySelector(".e-mode-switch-btn").title=n.getConstant("MoreColors"))}},{key:"destroy",value:function(){this.parent&&(this.removeEventListener(),this.fontColorPicker.destroy(),this.fontColorPicker=null,this.filColorPicker.destroy(),this.filColorPicker=null,this.parent=null)}},{key:"addEventListener",value:function(){this.parent.on("beforeRibbonCreate",this.render,this),this.parent.on("destroyRibbonComponents",this.destroy,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}},{key:"removeEventListener",value:function(){this.parent.off("beforeRibbonCreate",this.render),this.parent.off("destroyRibbonComponents",this.destroy),this.parent.on("spreadsheetDestroyed",this.destroy,this)}}]),e}(),ej=function(){function e(t){_classCallCheck(this,e),this.border="1px solid #000000",this.fontNameIndex=5,this.numPopupWidth=0,this.findValue="",this.parent=t,this.addEventListener(),new QV(t)}return _createClass(e,[{key:"getModuleName",value:function(){return"ribbon"}},{key:"initRibbon",value:function(e){this.parent.showRibbon||!this.ribbon?(this.parent.notify("beforeRibbonCreate",{}),this.parent.isMobileView()?this.createMobileView():this.createRibbon(e)):this.destroy()}},{key:"getRibbonMenuItems",value:function(){var e=this.parent.serviceLocator.getService(gj),t=this.parent.element.id;return[{text:this.parent.isMobileView()?"":e.getConstant("File"),iconCss:this.parent.isMobileView()?"e-icons e-file-menu-icon":null,id:"".concat(t,"_File"),items:[{text:e.getConstant("New"),id:"".concat(t,"_New"),iconCss:"e-new e-icons"},{text:e.getConstant("Open"),id:"".concat(t,"_Open"),iconCss:"e-open e-icons"},{text:e.getConstant("SaveAs"),iconCss:"e-save e-icons",id:"".concat(t,"_Save_As"),items:[{text:e.getConstant("ExcelXlsx"),id:"".concat(t,"_Xlsx"),iconCss:"e-xlsx e-icons"},{text:e.getConstant("ExcelXls"),id:"".concat(t,"_Xls"),iconCss:"e-xls e-icons"},{text:e.getConstant("CSV"),id:"".concat(t,"_Csv"),iconCss:"e-csv e-icons"}]}]}]}},{key:"getRibbonItems",value:function(){var e=this,t=this.parent.element.id,n=this.parent.serviceLocator.getService(gj),i=[{header:{text:n.getConstant("Home")},content:[{prefixIcon:"e-undo-icon",tooltipText:"".concat(n.getConstant("Undo")," (Ctrl+Z)"),id:t+"_undo",disabled:!0},{prefixIcon:"e-redo-icon",tooltipText:"".concat(n.getConstant("Redo")," (Ctrl+Y)"),id:t+"_redo",disabled:!0},{type:"Separator",id:t+"_separator_1"},{prefixIcon:"e-cut-icon",tooltipText:"".concat(n.getConstant("Cut")," (Ctrl+X)"),id:t+"_cut"},{prefixIcon:"e-copy-icon",tooltipText:"".concat(n.getConstant("Copy")," (Ctrl+C)"),id:t+"_copy"},{tooltipText:"".concat(n.getConstant("Paste")," (Ctrl+V)"),template:this.getPasteBtn(t),id:t+"_paste",disabled:!0},{type:"Separator",id:t+"_separator_2"},{template:this.getNumFormatDDB(t),tooltipText:n.getConstant("NumberFormat"),id:t+"_number_format"},{type:"Separator",id:t+"_separator_3"},{template:this.getFontNameDDB(t),tooltipText:n.getConstant("Font"),id:t+"_font_name"},{type:"Separator",id:t+"_separator_4"},{template:this.getFontSizeDDB(t),tooltipText:n.getConstant("FontSize"),id:t+"_font_size"},{type:"Separator",id:t+"_separator_5"},{template:this.getBtn(t,"bold"),tooltipText:"".concat(n.getConstant("Bold")," (Ctrl+B)"),id:t+"_bold"},{template:this.getBtn(t,"italic"),tooltipText:"".concat(n.getConstant("Italic")," (Ctrl+I)"),id:t+"_italic"},{template:this.getBtn(t,"line-through"),tooltipText:"".concat(n.getConstant("Strikethrough")," (Ctrl+5)"),id:t+"_line-through"},{template:this.getBtn(t,"underline"),tooltipText:"".concat(n.getConstant("Underline")," (Ctrl+U)"),id:t+"_underline"},{template:document.getElementById("".concat(t,"_font_color_picker")),tooltipText:n.getConstant("TextColor"),id:t+"_font_color_picker"},{type:"Separator",id:t+"_separator_6"},{template:document.getElementById("".concat(t,"_fill_color_picker")),tooltipText:n.getConstant("FillColor"),id:t+"_fill_color_picker"},{template:this.getBordersDBB(t),id:t+"_borders"},{template:this.getMergeSplitBtn(t),tooltipText:n.getConstant("MergeCells"),id:t+"_merge_cells",disabled:!0},{type:"Separator",id:t+"_separator_7"},{template:this.getTextAlignDDB(t),tooltipText:n.getConstant("HorizontalAlignment"),id:t+"_text_align"},{template:this.getVerticalAlignDDB(t),tooltipText:n.getConstant("VerticalAlignment"),id:t+"_vertical_align"},{template:this.getBtn(t,"wrap",!1),tooltipText:"".concat(n.getConstant("WrapText")),id:t+"_wrap"}]},{header:{text:n.getConstant("Insert")},content:[{prefixIcon:"e-hyperlink-icon",text:n.getConstant("Link"),id:t+"_hyperlink",tooltipText:n.getConstant("Link"),click:function(){e.getHyperlinkDlg()}}]},{header:{text:n.getConstant("Formulas")},content:[{prefixIcon:"e-insert-function",tooltipText:n.getConstant("InsertFunction"),text:n.getConstant("InsertFunction"),id:t+"_insert_function"}]},{header:{text:n.getConstant("Data")},content:[{prefixIcon:"e-protect-icon",text:n.getConstant("ProtectSheet"),id:t+"_protect",tooltipText:n.getConstant("ProtectSheet")},{type:"Separator",id:t+"_separator_8"},{template:this.datavalidationDDB(t),tooltipText:n.getConstant("DataValidation"),id:t+"_datavalidation"}]},{header:{text:n.getConstant("View")},content:[{prefixIcon:"e-hide-headers",text:this.getLocaleText("Headers"),id:t+"_headers",tooltipText:this.getLocaleText("Headers")},{type:"Separator",id:t+"_separator_9"},{prefixIcon:"e-hide-gridlines",text:this.getLocaleText("GridLines"),id:t+"_gridlines",tooltipText:this.getLocaleText("GridLines")}]}];return(this.parent.allowSorting||this.parent.allowFiltering)&&i.find((function(e){return e.header&&e.header.text===n.getConstant("Home")})).content.push({type:"Separator",id:t+"_separator_10"},{template:this.getSortFilterDDB(t),tooltipText:n.getConstant("SortAndFilter"),id:t+"_sorting"}),this.parent.allowFindAndReplace&&i.find((function(e){return e.header&&e.header.text===n.getConstant("Home")})).content.push({template:this.getFindDDb(t),prefixIcon:"e-tbar-search-icon tb-icons",tooltipText:n.getConstant("FindReplaceTooltip"),id:t+"_find"}),i}},{key:"getPasteBtn",value:function(e){var t=this,n=this.parent.element.appendChild(this.parent.createElement("button",{id:e+"_paste"})),i=this.parent.serviceLocator.getService(gj);return this.pasteSplitBtn=new kL({iconCss:"e-icons e-paste-icon",items:[{text:i.getConstant("All"),id:"All"},{text:i.getConstant("Values"),id:"Values"},{text:i.getConstant("Formats"),id:"Formats"}],select:function(e){t.parent.notify("paste",{type:e.item.id,isAction:!0})},click:function(){t.parent.notify("paste",{isAction:!0})},close:function(){t.parent.element.focus()}}),this.pasteSplitBtn.createElement=this.parent.createElement,this.pasteSplitBtn.appendTo(n),n.parentElement}},{key:"getHyperlinkDlg",value:function(){var e,t=YF(this.parent.getActiveSheet().activeCell),n=this.parent.sheets[this.parent.getActiveSheet().id-1].rows[t[0]];JO(n)||(e=n.cells[t[1]]),JO(e)&&gB(t[0],t[1],this.parent.getActiveSheet(),e,!1),this.parent.notify(e&&e.hyperlink?"editHyperlink":"initiateHyperlink",null)}},{key:"getLocaleText",value:function(e,t){var n,i=this.parent.serviceLocator.getService(gj);return this.parent.getActiveSheet()["show"+e]?(t&&this.parent.getMainContent().classList.remove("e-hide-"+e.toLowerCase()),n=i.getConstant("Hide"+e)):(t&&this.parent.getMainContent().classList.add("e-hide-"+e.toLowerCase()),n=i.getConstant("Show"+e)),n}},{key:"getLocaleProtectText",value:function(e,t){var n,i=this.parent.serviceLocator.getService(gj);return this.parent.getActiveSheet().isProtected?(t&&this.parent.getMainContent().classList.remove("e-hide-"+e.toLowerCase()),n=i.getConstant("Unprotect"+e)):(t&&this.parent.getMainContent().classList.add("e-hide-"+e.toLowerCase()),n=i.getConstant("Protect"+e)),n}},{key:"createRibbon",value:function(e){var t=this.parent.createElement("div",{id:"".concat(this.parent.element.id,"_ribbon")});if(this.ribbon=new JV({selectedTab:0,menuItems:this.getRibbonMenuItems(),items:this.getRibbonItems(),fileMenuItemSelect:this.fileMenuItemSelect.bind(this),beforeOpen:this.fileMenuBeforeOpen.bind(this),beforeClose:this.fileMenuBeforeClose.bind(this),clicked:this.toolbarClicked.bind(this),created:this.ribbonCreated.bind(this),selecting:this.tabSelecting.bind(this),expandCollapse:this.expandCollapseHandler.bind(this),beforeFileMenuItemRender:this.beforeRenderHandler.bind(this)}),this.ribbon.createElement=this.parent.createElement,e&&e.uiUpdate){var n=this.parent.element.querySelector(".e-formula-bar-panel")||document.getElementById(this.parent.element.id+"_sheet_panel");this.parent.element.insertBefore(t,n)}else this.parent.element.appendChild(t);this.ribbon.appendTo(t)}},{key:"tabSelecting",value:function(e){e.selectingIndex!==this.ribbon.selectedTab&&(this.refreshRibbonContent(e.selectingIndex),this.parent.notify("tabSwitch",{activeTab:e.selectingIndex}))}},{key:"beforeRenderHandler",value:function(e){var t=this.parent.serviceLocator.getService(gj);e.item.text!==t.getConstant("Open")||this.parent.openUrl&&this.parent.allowOpen||e.element.classList.add("e-disabled"),e.item.text!==t.getConstant("SaveAs")||this.parent.saveUrl&&this.parent.allowSave||e.element.classList.add("e-disabled")}},{key:"getNumFormatDDB",value:function(e){var t=this,n=this.parent.createElement("button",{id:e+"_number_format"});return n.appendChild(this.parent.createElement("span",{className:"e-tbar-btn-text",innerHTML:"General"})),this.numFormatDDB=new vL({items:this.getNumFormatDdbItems(e),content:"",select:function(e){return t.numDDBSelect(e)},open:function(e){return t.numDDBOpen(e)},beforeItemRender:function(e){return t.previewNumFormat(e)},close:function(){return t.parent.element.focus()},cssClass:"e-flat e-numformat-ddb",beforeOpen:function(e){return t.tBarDdbBeforeOpen(e.element,e.items)}}),this.numFormatDDB.createElement=this.parent.createElement,this.numFormatDDB.appendTo(n),n}},{key:"getFontSizeDDB",value:function(e){var t=this;return this.fontSizeDdb=new vL({cssClass:"e-font-size-ddb",content:"11",items:[{text:"8"},{text:"9"},{text:"10"},{text:"11"},{text:"12"},{text:"14"},{text:"16"},{text:"18"},{text:"20"},{text:"22"},{text:"24"},{text:"26"},{text:"28"},{text:"36"},{text:"48"},{text:"72"}],beforeOpen:function(e){t.tBarDdbBeforeOpen(e.element,e.items),t.refreshSelected(t.fontSizeDdb,e.element,"content","text")},select:function(e){var n={style:{fontSize:"".concat(e.item.text,"pt")},onActionUpdate:!0};t.parent.notify(lH,n),n.cancel||(t.fontSizeDdb.content=n.style.fontSize.split("pt")[0],t.fontSizeDdb.dataBind())},close:function(){return t.parent.element.focus()}}),this.fontSizeDdb.createElement=this.parent.createElement,this.fontSizeDdb.appendTo(this.parent.createElement("button",{id:e+"_font_size"})),this.fontSizeDdb.element}},{key:"getBordersDBB",value:function(e){var t,n=this,i=this.parent.serviceLocator.getService(gj);this.bordersMenu=new nR({cssClass:"e-borders-menu",items:[{iconCss:"e-icons e-top-borders",text:i.getConstant("TopBorders"),id:"".concat(e,"-top-border")},{iconCss:"e-icons e-left-borders",text:i.getConstant("LeftBorders"),id:"".concat(e,"-left-border")},{iconCss:"e-icons e-right-borders",text:i.getConstant("RightBorders"),id:"".concat(e,"-right-border")},{iconCss:"e-icons e-bottom-borders",text:i.getConstant("BottomBorders"),id:"".concat(e,"-bottom-border")},{iconCss:"e-icons e-all-borders",text:i.getConstant("AllBorders"),id:"".concat(e,"-all-border")},{iconCss:"e-icons e-horizontal-borders",text:i.getConstant("HorizontalBorders"),id:"".concat(e,"-horizontal-border")},{iconCss:"e-icons e-vertical-borders",text:i.getConstant("VerticalBorders"),id:"".concat(e,"-vertical-border")},{iconCss:"e-icons e-outside-borders",text:i.getConstant("OutsideBorders"),id:"".concat(e,"-outside-border")},{iconCss:"e-icons e-inside-borders",text:i.getConstant("InsideBorders"),id:"".concat(e,"-inside-border")},{iconCss:"e-icons e-no-borders",text:i.getConstant("NoBorders"),id:"".concat(e,"-no-border")},{separator:!0,id:"border_separator"},{text:i.getConstant("BorderColor"),id:"".concat(e,"_border_color"),items:[{id:"".concat(e,"_border_colors")}]},{text:i.getConstant("BorderStyle"),id:"".concat(e,"-border-style"),items:[{iconCss:"e-icons e-selected-icon",id:"".concat(e,"_style_1px")},{id:"".concat(e,"_style_2px")},{id:"".concat(e,"_style_3px")},{id:"".concat(e,"_style_dashed")},{id:"".concat(e,"_style_dotted")},{id:"".concat(e,"_style_double")}]}],orientation:"Vertical",beforeOpen:function(e){"Border Color"===e.parentItem.text?(t=n.colorPicker.element.parentElement,e.element.firstElementChild.appendChild(t),t.style.display="inline-block",e.element.parentElement.classList.add("e-border-color")):e.element.classList.add("e-border-style")},beforeClose:function(i){if("Border Color"===i.parentItem.text){var a=i.event.target;if(nD(a,"#".concat(e,"_borders_menu"))||nD(a,".e-palette")||nD(a,".e-apply")||nD(a,".e-cancel")||i.event&&"mouseover"!==i.event.type&&!nD(a,".e-borders-menu"))return n.colorPicker.showButtons&&(n.colorPicker.showButtons=!1,n.colorPicker.refresh()),t.style.display="",void n.parent.element.appendChild(t);i.cancel=!0}},onOpen:function(e){"Border Color"===e.parentItem.text&&(e.element.parentElement.style.overflow="visible")},select:this.borderSelected.bind(this)}),this.bordersMenu.createElement=this.parent.createElement;var a=this.parent.element.appendChild(this.parent.createElement("ul",{id:e+"_borders_menu",styles:"display: none;"}));this.bordersMenu.appendTo(a),a.classList.add("e-ul");var r=this.parent.createElement("input",{id:"".concat(e,"_cell_border_color"),attrs:{type:"color"}});this.parent.element.appendChild(r),this.colorPicker=new EN({cssClass:"e-border-colorpicker",mode:"Palette",showButtons:!1,inline:!0,enableOpacity:!1,change:function(e){var t=n.border.split(" ");t[2]=e.currentValue.hex,n.border=t.join(" ")},beforeModeSwitch:function(e){zB((function(){n.colorPicker.showButtons="Picker"===e.mode,n.colorPicker.dataBind()}))},created:function(){t=n.colorPicker.element.parentElement}}),this.colorPicker.createElement=this.parent.createElement,this.colorPicker.appendTo(r);var s=this.parent.element.appendChild(this.parent.createElement("button",{id:e+"_border_options",attrs:{title:i.getConstant("Borders")}}));return this.borderSplitBtn=new kL({iconCss:"e-icons e-all-borders",cssClass:"e-borders-ddb",target:this.bordersMenu.element.parentElement,created:function(){n.bordersMenu.element.style.display="",eD(".e-dropdown-btn",s.parentElement).title=i.getConstant("SelectBorderOption")},click:function(){return n.setBorder(n.borderSplitBtn.iconCss)},beforeOpen:function(e){return n.tBarDdbBeforeOpen(e.element.firstElementChild,n.bordersMenu.items,1)},beforeClose:function(e){e.event&&nD(e.event.target,".e-borders-menu")&&(e.cancel=!0)},close:function(){return n.parent.element.focus()}}),this.borderSplitBtn.createElement=this.parent.createElement,this.borderSplitBtn.appendTo(s),this.borderSplitBtn.element.parentElement}},{key:"borderSelected",value:function(e){if(!e.item.items.length&&e.item.id!=="".concat(this.parent.element.id,"_border_colors")){if(e.item.id.includes("_style")){var t=this.parent.element.id,n=this.border.split(" "),i="solid"===n[1]?"".concat(t,"_style_").concat(n[0]):"".concat(t,"_style_").concat(n[1]);if(i===e.item.id)return;return e.item.id==="".concat(t,"_style_1px")||e.item.id==="".concat(t,"_style_2px")||e.item.id==="".concat(t,"_style_3px")?(n[0]=e.item.id.split("".concat(t,"_style_"))[1],n[1]="solid"):(n[1]=e.item.id.split("".concat(t,"_style_"))[1],n[0]="double"===n[1]?"3px":"1px"),this.border=n.join(" "),this.bordersMenu.items[12].items.forEach((function(t){t.id===i&&(t.iconCss=null),t.id===e.item.id&&(t.iconCss="e-icons e-selected-icon")})),void this.bordersMenu.setProperties({items:this.bordersMenu.items},!0)}this.borderSplitBtn.toggle(),this.setBorder(e.item.iconCss)}}},{key:"setBorder",value:function(e){switch(this.parent.showSpinner(),this.borderSplitBtn.iconCss=e,this.borderSplitBtn.dataBind(),e){case"e-icons e-top-borders":this.parent.notify(lH,{style:{borderTop:this.border},onActionUpdate:!0});break;case"e-icons e-left-borders":this.parent.notify(lH,{style:{borderLeft:this.border},onActionUpdate:!0});break;case"e-icons e-right-borders":this.parent.notify(lH,{style:{borderRight:this.border},onActionUpdate:!0});break;case"e-icons e-bottom-borders":this.parent.notify(lH,{style:{borderBottom:this.border},onActionUpdate:!0});break;case"e-icons e-all-borders":this.parent.notify(lH,{style:{border:this.border},onActionUpdate:!0});break;case"e-icons e-horizontal-borders":this.parent.notify(lH,{style:{border:this.border},onActionUpdate:!0,borderType:"Horizontal"});break;case"e-icons e-vertical-borders":this.parent.notify(lH,{style:{border:this.border},onActionUpdate:!0,borderType:"Vertical"});break;case"e-icons e-outside-borders":this.parent.notify(lH,{style:{border:this.border},onActionUpdate:!0,borderType:"Outer"});break;case"e-icons e-inside-borders":this.parent.notify(lH,{style:{border:this.border},onActionUpdate:!0,borderType:"Inner"});break;case"e-icons e-no-borders":this.parent.notify(lH,{style:{border:""},onActionUpdate:!0})}this.parent.hideSpinner()}},{key:"getFontNameDDB",value:function(e){var t=this,n=this.parent.createElement("button",{id:e+"_font_name"});return n.appendChild(this.parent.createElement("span",{className:"e-tbar-btn-text",innerHTML:"Calibri"})),this.fontNameDdb=new vL({cssClass:"e-font-family",items:this.getFontFamilyItems(),select:function(e){var n={style:{fontFamily:e.item.text},onActionUpdate:!0};t.parent.notify(lH,n),n.cancel||t.refreshFontNameSelection(n.style.fontFamily)},close:function(){return t.parent.element.focus()},beforeOpen:function(e){return t.tBarDdbBeforeOpen(e.element,e.items)}}),this.fontNameDdb.createElement=this.parent.createElement,this.fontNameDdb.appendTo(n),n}},{key:"getBtn",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new zM({iconCss:"e-icons e-".concat(t,"-icon"),isToggle:!0});return i.createElement=this.parent.createElement,i.appendTo(this.parent.createElement("button",{id:"".concat(e,"_").concat(t)})),n&&i.element.addEventListener("click",this.toggleBtnClicked.bind(this)),i.element}},{key:"datavalidationDDB",value:function(e){var t=this,n=this.parent.serviceLocator.getService(gj);return this.datavalidationDdb=new vL({cssClass:"e-datavalidation-ddb",iconCss:"e-datavalidation-icon e-icons",items:[{text:n.getConstant("DataValidation")},{text:n.getConstant("HighlightInvalidData")},{text:n.getConstant("ClearHighlight")},{text:n.getConstant("ClearValidation")}],beforeOpen:function(e){t.refreshSelected(t.datavalidationDdb,e.element,"iconCss")},select:function(e){switch(e.item.text){case n.getConstant("DataValidation"):t.parent.notify("initiatedatavalidation",null);break;case n.getConstant("HighlightInvalidData"):t.parent.notify("invalidData",{isRemoveHighlight:!1});break;case n.getConstant("ClearHighlight"):t.parent.notify("invalidData",{isRemoveHighlight:!0});break;case n.getConstant("ClearValidation"):t.parent.notify("removeDataValidation",null);break;default:var i=e.item.text===n.getConstant("SortAscending")?"Ascending":"Descending";t.parent.notify("applySort",{sortOptions:{sortDescriptors:{order:i}}})}},close:function(){return t.parent.element.focus()}}),this.datavalidationDdb.createElement=this.parent.createElement,this.datavalidationDdb.appendTo(this.parent.createElement("button",{id:e+"_datavalidation"})),this.datavalidationDdb.element}},{key:"getTextAlignDDB",value:function(e){var t=this;return this.textAlignDdb=new vL({cssClass:"e-align-ddb",iconCss:"e-icons e-left-icon",items:[{iconCss:"e-icons e-left-icon"},{iconCss:"e-icons e-center-icon"},{iconCss:"e-icons e-right-icon"}],beforeItemRender:this.alignItemRender.bind(this),beforeOpen:function(e){t.refreshSelected(t.textAlignDdb,e.element,"iconCss")},select:function(e){var n={style:{textAlign:e.item.iconCss.split(" e-")[1].split("-icon")[0]},onActionUpdate:!0};t.parent.notify(lH,n),n.cancel||(t.textAlignDdb.iconCss="e-icons e-".concat(n.style.textAlign,"-icon"),t.textAlignDdb.dataBind())},close:function(){return t.parent.element.focus()}}),this.textAlignDdb.createElement=this.parent.createElement,this.textAlignDdb.appendTo(this.parent.createElement("button",{id:e+"_text_align"})),this.textAlignDdb.element}},{key:"getVerticalAlignDDB",value:function(e){var t=this;return this.verticalAlignDdb=new vL({cssClass:"e-align-ddb",iconCss:"e-icons e-bottom-icon",items:[{iconCss:"e-icons e-top-icon"},{iconCss:"e-icons e-middle-icon"},{iconCss:"e-icons e-bottom-icon"}],beforeItemRender:this.alignItemRender.bind(this),beforeOpen:function(e){t.refreshSelected(t.verticalAlignDdb,e.element,"iconCss")},select:function(e){var n={style:{verticalAlign:e.item.iconCss.split(" e-")[1].split("-icon")[0]},onActionUpdate:!0};t.parent.notify(lH,n),n.cancel||(t.verticalAlignDdb.iconCss="e-icons e-".concat(n.style.verticalAlign,"-icon"),t.verticalAlignDdb.dataBind())},close:function(){return t.parent.element.focus()}}),this.verticalAlignDdb.createElement=this.parent.createElement,this.verticalAlignDdb.appendTo(this.parent.createElement("button",{id:e+"_vertical_align"})),this.verticalAlignDdb.element}},{key:"getMergeSplitBtn",value:function(e){var t=this;this.parent.element.appendChild(this.parent.createElement("button",{id:e+"_merge"}));var n,i,a=this.parent.serviceLocator.getService(gj);return this.mergeSplitBtn=new kL({cssClass:"e-merge-ddb",iconCss:"e-icons e-merge-icon",items:[{text:a.getConstant("MergeAll"),id:"".concat(e,"_merge_all")},{text:a.getConstant("MergeHorizontally"),id:"".concat(e,"_merge_horizontally")},{text:a.getConstant("MergeVertically"),id:"".concat(e,"_merge_vertically")},{separator:!0,id:"".concat(e,"_merge_separator")},{text:a.getConstant("Unmerge"),id:"".concat(e,"_unmerge")}],select:function(e){n=!1,e.item.id==="".concat(t.parent.element.id,"_unmerge")?t.unMerge():t.merge(e.item.id)},beforeOpen:function(){n=t.mergeSplitBtn.element.classList.contains("e-active"),i=t.parent.getActiveSheet().activeCell},close:function(){n&&i===t.parent.getActiveSheet().activeCell&&t.mergeSplitBtn.element.classList.add("e-active"),i=null,t.parent.element.focus()},click:function(e){n=!1,e.element.classList.contains("e-active")?(t.toggleActiveState(!1),t.unMerge()):(t.toggleActiveState(!0),t.merge("".concat(t.parent.element.id,"_merge_all")))},created:function(){t.mergeSplitBtn.element.title=a.getConstant("MergeCells"),t.mergeSplitBtn.element.nextElementSibling.title=a.getConstant("SelectMergeType")}}),this.mergeSplitBtn.createElement=this.parent.createElement,this.mergeSplitBtn.appendTo("#"+e+"_merge"),this.mergeSplitBtn.element.parentElement}},{key:"unMerge",value:function(){this.parent.showSpinner(),this.parent.notify(cH,{merge:!1,range:this.parent.getActiveSheet().selectedRange,isAction:!0,refreshRibbon:!0,type:"All"}),this.parent.hideSpinner()}},{key:"merge",value:function(e){for(var t,n,i=this,a=this.parent.getActiveSheet(),r=YF(a.selectedRange),s=r[0];s<=r[2];s++)for(var l=r[1];l<=r[3];l++)s===r[0]&&l===r[1]&&e.includes("merge_all")||s===r[0]&&e.includes("merge_vertically")||l===r[1]&&e.includes("_merge_horizontally")||((t=mB(s,l,a)||{}).value||t.formula)&&(n=!0);if(n){var o=this.parent.serviceLocator.getService(vj);o.show({target:this.parent.element,height:200,width:400,isModal:!0,showCloseIcon:!0,content:this.parent.serviceLocator.getService(gj).getConstant("MergeCellsAlert"),beforeOpen:function(){return i.parent.element.focus()},buttons:[{buttonModel:{content:this.parent.serviceLocator.getService(gj).getConstant("Ok"),isPrimary:!0},click:function(){o.hide(),i.performMerge(e)}}]})}else this.performMerge(e)}},{key:"performMerge",value:function(e){var t=this.parent.element.id;switch(this.parent.showSpinner(),e){case"".concat(t,"_merge_all"):this.parent.notify(cH,{merge:!0,range:this.parent.getActiveSheet().selectedRange,type:"All",isAction:!0,refreshRibbon:!0});break;case"".concat(t,"_merge_horizontally"):this.parent.notify(cH,{merge:!0,range:this.parent.getActiveSheet().selectedRange,type:"Horizontally",isAction:!0});break;case"".concat(t,"_merge_vertically"):this.parent.notify(cH,{merge:!0,range:this.parent.getActiveSheet().selectedRange,type:"Vertically",isAction:!0})}this.parent.hideSpinner()}},{key:"getSortFilterDDB",value:function(e){var t=this,n=this.parent.serviceLocator.getService(gj);return this.sortingDdb=new vL({cssClass:"e-sort-filter-ddb",iconCss:"e-icons e-sort-filter-icon",items:[{text:n.getConstant("SortAscending"),iconCss:"e-icons e-sort-asc"},{text:n.getConstant("SortDescending"),iconCss:"e-icons e-sort-desc"},{text:n.getConstant("CustomSort")+"...",iconCss:"e-icons e-sort-custom"},{separator:!0},{text:n.getConstant("Filter"),iconCss:"e-icons e-filter-apply",id:e+"_applyfilter"},{text:n.getConstant("ClearAllFilter"),iconCss:"e-icons e-filter-clear",id:e+"_clearfilter"},{text:n.getConstant("ReapplyFilter"),iconCss:"e-icons e-filter-reapply",id:e+"_reapplyfilter"}],beforeItemRender:function(n){var i={isFiltered:!1,isClearAll:!0};t.parent.notify("getFilteredColumn",i),n.item.id!==e+"_clearfilter"&&n.item.id!==e+"_reapplyfilter"||(i.isFiltered?n.element.classList.remove("e-disabled"):n.element.classList.add("e-disabled"))},beforeOpen:function(e){t.refreshSelected(t.sortingDdb,e.element,"iconCss")},select:function(e){switch(e.item.text){case n.getConstant("Filter"):t.parent.applyFilter();break;case n.getConstant("ClearAllFilter"):t.parent.clearFilter();break;case n.getConstant("ReapplyFilter"):t.parent.notify("reapplyFilter",null);break;case n.getConstant("CustomSort")+"...":t.parent.notify("initiateCustomSort",null);break;default:var i=e.item.text===n.getConstant("SortAscending")?"Ascending":"Descending";t.parent.notify("applySort",{sortOptions:{sortDescriptors:{order:i}}})}},close:function(){return t.parent.element.focus()}}),this.sortingDdb.createElement=this.parent.createElement,this.sortingDdb.appendTo(this.parent.createElement("button",{id:e+"_sorting"})),this.sortingDdb.element}},{key:"getFindDDb",value:function(e){var t=this,n=this.parent.createElement("button",{id:e+"_findbtn"});return this.findDdb=new zM({cssClass:"e-spreadsheet-find-ddb e-caret-hide",iconCss:"e-icons e-search-icon"}),this.findDdb.createElement=this.parent.createElement,this.findDdb.appendTo(n),n.onclick=function(){t.findToolDlg()},this.findDdb.element}},{key:"findToolDlg",value:function(){var e,t=this;if(JO(this.parent.element.querySelector(".e-findtool-dlg"))){var n,i=this.parent.createElement("div",{className:"e-input-group"}),a=this.parent.createElement("input",{className:"e-input e-text-findNext-short",attrs:{type:"Text",value:this.findValue}});a.setAttribute("placeholder","FindValue");var r=this.parent.createElement("span",{className:"e-input-group-icon"});a.onkeyup=function(){e={countOpt:"count",findCount:""},t.parent.notify("findHandler",{countArgs:e}),r.textContent=e.findCount;var i=e.findCount.split("of"),a=document.querySelector(".e-text-findNext-short").value,s=document.querySelector(".e-findRib-next"),l=document.querySelector(".e-findRib-prev");JO(a)||""===a||"0"===i[1]?(n.enableItems(s,!1),n.enableItems(l,!1)):JO(a)&&"0"===i[1]||(n.enableItems(s,!0),n.enableItems(l,!0))},a.onkeydown=function(n){e={countOpt:"count",findCount:""},t.parent.notify("findHandler",{countArgs:e}),t.findOnKeyDown(n,e.findCount)},i.appendChild(a),i.appendChild(r),n=new ZN({clicked:function(e){"e-findRib-next"===e.item.cssClass?t.parent.notify("findHandler",{findOption:"next"}):"e-findRib-prev"===e.item.cssClass?t.parent.notify("findHandler",{findOption:"prev"}):"e-findRib-more"===e.item.cssClass&&(t.parent.notify(_H,null),t.findDialog.hide())},width:"auto",height:"auto",items:[{type:"Input",template:i},{prefixIcon:"e-icons e-prev-icon",tooltipText:"Find Previous",type:"Button",cssClass:"e-findRib-prev",disabled:!0},{prefixIcon:"e-icons e-next-icon",tooltipText:"Find Next",type:"Button",cssClass:"e-findRib-next",disabled:!0},{type:"Separator"},{prefixIcon:"e-icons e-option-icon",tooltipText:"More Options",type:"Button",cssClass:"e-findRib-more"},{prefixIcon:"e-icons e-close",tooltipText:"Close",type:"Button",cssClass:"e-findRib-close"}],cssClass:"e-find-toolObj"});var s=this.parent.createElement("div",{className:"e-find-toolbar"}),l=this.parent.createElement("div",{className:"e-dlg-div"});this.findDialog=new zP({isModal:!1,showCloseIcon:!1,cssClass:"e-findtool-dlg",content:s,visible:!1,allowDragging:!0,target:this.parent.element.querySelector(".e-main-panel"),beforeOpen:function(){$I.add(document,"click",t.closeDialog,t)},open:function(){t.textFocus(n.element)},beforeClose:function(){t.findValue=t.parent.element.querySelector(".e-text-findNext-short").value,n.destroy();var e=document.querySelector(".e-find-toolbar");$I.remove(e,"focus",t.textFocus),$I.remove(document,"click",t.closeDialog),t.parent.element.focus()},created:function(){n.createElement=t.parent.createElement,n.appendTo(s),t.findDialog.width=getComputedStyle(document.querySelector(".e-findtool-dlg")).width;var e=t.parent.element.querySelector(".e-main-panel").getBoundingClientRect().width-parseInt(t.findDialog.width.toString(),10)-14;t.findDialog.position={X:e,Y:t.parent.sheets[t.parent.activeSheetIndex].showHeaders?31:0},t.findDialog.dataBind(),t.findDialog.show()}}),this.findDialog.createElement=this.parent.createElement,this.findDialog.appendTo(l)}else JO(this.parent.element.querySelector(".e-findtool-dlg"))||(this.findDialog.hide(),ZA(this.parent.element.querySelector(".e-findtool-dlg")),this.findDialog=null,this.parent.element.focus())}},{key:"findOnKeyDown",value:function(e,t){document.querySelector(".e-text-findNext-short").value&&"0"!==t.split("of")[1]&&(e.shiftKey?13===e.keyCode&&this.parent.notify("findHandler",{findOption:"prev"}):13===e.keyCode&&this.parent.notify("findHandler",{findOption:"next"}))}},{key:"closeDialog",value:function(e){!nD(e.target,".e-findRib-close")&&nD(e.target,".e-spreadsheet")||JO(this.findDialog)||(this.findDialog.hide(),ZA(this.parent.element.querySelector(".e-findtool-dlg")),this.findDialog=null)}},{key:"textFocus",value:function(e){document.querySelector(".e-find-toolbar").addEventListener("focus",(function(){var e=document.querySelector(".e-text-findNext-short");e.focus(),e.classList.add("e-input-focus"),e.setSelectionRange(0,e.value.length)}))}},{key:"ribbonCreated",value:function(){this.ribbon.element.querySelector(".e-drop-icon").title=this.parent.serviceLocator.getService(gj).getConstant("CollapseToolbar")}},{key:"alignItemRender",value:function(e){var t=e.item.iconCss.split(" e-")[1].split("-icon")[0];t=t[0].toUpperCase()+t.slice(1,t.length),e.element.title=this.parent.serviceLocator.getService(gj).getConstant("Align"+t)}},{key:"toggleBtnClicked",value:function(e){var t,n,i,a,r,s=nD(e.target,".e-btn"),l=this.parent.element.id,o=lH;switch(s.id){case"".concat(l,"_bold"):n={fontWeight:"normal"},i={fontWeight:"bold"},r="fontWeight";break;case"".concat(l,"_italic"):n={fontStyle:"normal"},i={fontStyle:"italic"},r="fontStyle";break;case"".concat(l,"_line-through"):o="textDecorationUpdate",i=n={textDecoration:"line-through"},r="textDecoration";break;case"".concat(l,"_underline"):o="textDecorationUpdate",i=n={textDecoration:"underline"},r="textDecoration"}s.classList.contains("e-active")?(t=i[r],a={style:i,onActionUpdate:!0},this.parent.notify(o,a),a.cancel&&s.classList.remove("e-active")):(t=n[r],a={style:n,onActionUpdate:!0},this.parent.notify(o,a),a.cancel&&s.classList.add("e-active")),a.cancel||t===a.style[r]||this.refreshToggleBtn(GF(this.parent.getActiveSheet().activeCell)),this.parent.element.focus()}},{key:"getCellStyleValue",value:function(e,t){var n=mB(t[0],t[1],this.parent.getActiveSheet()),i=this.parent.cellStyle[e];return n&&n.style&&n.style[e]&&(i=n.style[e]),i}},{key:"refreshSelected",value:function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,a=0;a<e.items.length;a++)if(e.items[a][i]===e[n]){t.children[a].classList.add("e-selected");break}}},{key:"expandCollapseHandler",value:function(e){var t=this.ribbon.element.querySelector(".e-drop-icon"),n=this.parent.serviceLocator.getService(gj);t.title=n.getConstant(e.expanded?"CollapseToolbar":"ExpandToolbar"),this.parent.setPanelSize()}},{key:"getNumFormatDdbItems",value:function(e){var t=this.parent.serviceLocator.getService(gj);return[{id:e+"item1",text:t.getConstant("General")},{id:e+"item2",text:t.getConstant("Number")},{id:e+"item3",text:t.getConstant("Currency")},{id:e+"item4",text:t.getConstant("Accounting")},{id:e+"item5",text:t.getConstant("ShortDate")},{id:e+"item6",text:t.getConstant("LongDate")},{id:e+"item7",text:t.getConstant("Time")},{id:e+"item8",text:t.getConstant("Percentage")},{id:e+"item9",text:t.getConstant("Fraction")},{id:e+"item10",text:t.getConstant("Scientific")},{id:e+"item11",text:t.getConstant("Text")}]}},{key:"getFontFamilyItems",value:function(){return[{text:"Arial"},{text:"Arial Black"},{text:"Axettac Demo"},{text:"Batang"},{text:"Book Antiqua"},{text:"Calibri",iconCss:"e-icons e-selected-icon"},{text:"Courier"},{text:"Courier New"},{text:"Din Condensed"},{text:"Georgia"},{text:"Helvetica"},{text:"Helvetica New"},{text:"Roboto"},{text:"Tahoma"},{text:"Times New Roman"},{text:"Verdana"}]}},{key:"numDDBSelect",value:function(e){var t={format:dH(e.item.text),range:this.parent.getActiveSheet().selectedRange,cancel:!1,requestType:"NumberFormat"},n={range:this.parent.getActiveSheet().name+"!"+t.range,format:t.format,requestType:"NumberFormat"};this.parent.trigger("beforeCellFormat",t),this.parent.notify(CH,{eventArgs:t,action:"format"}),t.cancel||(this.parent.notify("applyNumber",t),this.parent.notify("selectionComplete",{type:"mousedown"}),this.refreshNumFormatSelection(e.item.text),this.parent.notify(kH,{eventArgs:n,action:"format"}))}},{key:"tBarDdbBeforeOpen",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.parent.viewport.height,a=parseInt(getComputedStyle(e.firstElementChild).height,10)*(t.length-n)+2*parseInt(getComputedStyle(e).paddingTop,10);if(n){var r=getComputedStyle(e.querySelector(".e-separator"));a+=n*(parseInt(r.borderBottomWidth,10)+2*parseInt(r.marginTop,10))}a>i?(e.style.height="".concat(i,"px"),e.style.overflowY="auto"):e.style.height&&(e.style.height="",e.style.overflowY="")}},{key:"numDDBOpen",value:function(e){this.numPopupWidth=0;for(var t=e.element.querySelectorAll("span.e-numformat-preview-text"),n=0,i=t.length;n<i;n++)this.numPopupWidth<t[n].offsetWidth&&(this.numPopupWidth=t[n].offsetWidth);var a=this.numPopupWidth+160;document.querySelector(".e-numformat-ddb.e-dropdown-popup").style.width="".concat(a,"px")}},{key:"previewNumFormat",value:function(e){var t=GF(this.parent.getActiveSheet().activeCell),n=mB(t[0],t[1],this.parent.getActiveSheet()),i={type:e.item.text,formattedText:"",value:n&&n.value?n.value:"",format:dH(e.item.text),sheetIndex:this.parent.activeSheetIndex,onLoad:!0},a=this.parent.createElement("div",{className:"e-numformat-text",styles:"width:100%",innerHTML:e.element.innerHTML});e.element.innerHTML="",this.parent.notify("getFormattedCell",i);var r=this.parent.createElement("span",{className:"e-numformat-preview-text",styles:"float:right;",innerHTML:i.formattedText.toString()});a.appendChild(r),e.element.appendChild(a)}},{key:"refreshRibbonContent",value:function(e){if(this.ribbon){JO(e)&&(e=this.ribbon.selectedTab);var t=this.parent.serviceLocator.getService(gj),n=this.parent.getActiveSheet();switch(this.ribbon.items[e].header.text){case t.getConstant("Home"):this.refreshHomeTabContent(GF(n.activeCell));break;case t.getConstant("Insert"):case t.getConstant("Formulas"):break;case t.getConstant("Data"):this.refreshDataTabContent(e);break;case t.getConstant("View"):this.refreshViewTabContent(e)}}}},{key:"refreshHomeTabContent",value:function(e){JO(document.getElementById(this.parent.element.id+"_number_format"))||(this.numFormatDDB=oD(document.getElementById(this.parent.element.id+"_number_format"),vL));var t=this.parent.getActiveSheet(),n=GF(this.parent.getActiveSheet().activeCell),i=this.parent.serviceLocator.getService(gj),a=mB(n[0],n[1],this.parent.getActiveSheet())||{},r=pH(a.format?a.format:"General");if(this.numFormatDDB&&(t.isProtected&&!t.protectSettings.formatCells?(r="General",this.refreshNumFormatSelection(r)):this.refreshNumFormatSelection(i.getConstant(r))),this.fontNameDdb&&this.refreshFontNameSelection(t.isProtected&&!t.protectSettings.formatCells?"Calibri":this.getCellStyleValue("fontFamily",e)),this.fontSizeDdb){var s=this.getCellStyleValue("fontSize",e);t.isProtected&&!t.protectSettings.formatCells?this.fontSizeDdb.content="11":(s=s.includes("pt")?s.split("pt")[0]:"11")!==this.fontSizeDdb.content&&(this.fontSizeDdb.content=s,this.fontSizeDdb.dataBind())}if(this.textAlignDdb){var l=this.getCellStyleValue("textAlign",e);if(t.isProtected&&!t.protectSettings.formatCells)this.textAlignDdb.iconCss="e-icons e-left-icon";else{void 0===a.value||"left"!==l||"Accounting"!==r&&!sH(a.value)||(l="right");var o="e-icons e-".concat(l.toLowerCase(),"-icon");o!==this.textAlignDdb.iconCss&&(this.textAlignDdb.iconCss=o,this.textAlignDdb.dataBind())}}if(this.verticalAlignDdb){var u="e-icons e-".concat(this.getCellStyleValue("verticalAlign",e).toLowerCase(),"-icon");t.isProtected&&!t.protectSettings.formatCells?this.verticalAlignDdb.iconCss="e-icons e-bottom-icon":u!==this.verticalAlignDdb.iconCss&&(this.verticalAlignDdb.iconCss=u,this.verticalAlignDdb.dataBind())}if(this.refreshToggleBtn(e),!t.isProtected&&(a.rowSpan>1||a.colSpan>1))this.enableToolbarItems([{tab:i.getConstant("Home"),items:["".concat(this.parent.element.id,"_merge_cells")],enable:!0}]),this.toggleActiveState(!0);else{var c=YF(t.selectedRange);this.enableToolbarItems([{tab:i.getConstant("Home"),items:["".concat(this.parent.element.id,"_merge_cells")],enable:c[0]!==c[2]||c[1]!==c[3]}]),this.toggleActiveState(!1)}}},{key:"toggleActiveState",value:function(e){var t=this.parent.serviceLocator.getService(gj);this.parent.getActiveSheet().isProtected||(e?(this.mergeSplitBtn.element.classList.add("e-active"),this.mergeSplitBtn.element.title=t.getConstant("UnmergeCells")):(this.mergeSplitBtn.element.classList.contains("e-active")&&this.mergeSplitBtn.element.classList.remove("e-active"),this.mergeSplitBtn.element.title=t.getConstant("MergeCells")))}},{key:"refreshToggleBtn",value:function(e){var t,n,i,a=this,r=this.parent.getActiveSheet(),s=this.parent.element.id,l=mB(e[0],e[1],r),o=["fontWeight","fontStyle","textDecoration","textDecoration"];["bold","italic","line-through","underline","wrap"].forEach((function(u,c){(t=document.getElementById("".concat(s,"_").concat(u)))&&(r.isProtected&&!r.protectSettings.formatCells?t.classList.remove("e-active"):"wrap"===u?i=l&&l.wrap:(n=a.getCellStyleValue(o[c],e).toLowerCase(),i=n.indexOf(u)>-1),i?t.classList.add("e-active"):t.classList.contains("e-active")&&t.classList.remove("e-active"))}))}},{key:"refreshFontNameSelection",value:function(e){if(e!==this.fontNameDdb.items[this.fontNameIndex].text){this.fontNameDdb.element.firstElementChild.textContent=e;for(var t=0;t<this.fontNameDdb.items.length;t++)if(this.fontNameDdb.items[t].text===e){this.fontNameDdb.items[t].iconCss="e-icons e-selected-icon",this.fontNameDdb.items[this.fontNameIndex].iconCss="",this.fontNameDdb.setProperties({items:this.fontNameDdb.items},!0),this.fontNameIndex=t;break}}}},{key:"refreshNumFormatSelection",value:function(e){this.parent.serviceLocator.getService(gj);for(var t=0;t<this.numFormatDDB.items.length;t++)""!==this.numFormatDDB.items[t].iconCss&&(this.numFormatDDB.items[t].iconCss=""),this.numFormatDDB.items[t].text===e&&(this.numFormatDDB.items[t].iconCss="e-icons e-selected-icon");this.numFormatDDB.element.firstElementChild.textContent=e,this.numFormatDDB.setProperties({items:this.numFormatDDB.items},!0)}},{key:"fileMenuItemSelect",value:function(e){var t=this,n=ZO({cancel:!1},e);this.parent.trigger("fileMenuItemSelect",n);var i=this.parent.element.id;if(!n.cancel)switch(e.item.id){case"".concat(i,"_Open"):this.parent.element.querySelector("#"+i+"_fileUpload").click();break;case"".concat(i,"_Xlsx"):case"".concat(i,"_Xls"):case"".concat(i,"_Csv"):this.parent.save({saveType:e.item.id.split("".concat(i,"_"))[1]});break;case"".concat(i,"_New"):var a=this.parent.serviceLocator.getService(vj);a.show({height:200,width:400,isModal:!0,showCloseIcon:!0,content:this.parent.serviceLocator.getService(gj).getConstant("DestroyAlert"),beforeOpen:function(){return t.parent.element.focus()},buttons:[{buttonModel:{content:this.parent.serviceLocator.getService(gj).getConstant("Ok"),isPrimary:!0},click:function(){a.hide(),t.blankWorkbook()}}]})}}},{key:"toolbarClicked",value:function(e){if("spreadsheet_find"!==e.item.id){var t=this.parent.element.id,n=this.parent.getActiveSheet();switch(e.item.id){case t+"_headers":var i={isShow:!n.showHeaders,sheetIdx:this.parent.activeSheetIndex,cancel:!1};if(this.parent.notify(kH,{eventArgs:i,action:"headers"}),i.cancel)return;n.showHeaders=!n.showHeaders,this.parent.serviceLocator.getService("sheet").showHideHeaders(),this.toggleRibbonItems({props:"Headers",activeTab:this.ribbon.selectedTab}),this.parent.element.focus();break;case t+"_gridlines":var a={isShow:!n.showGridLines,sheetIdx:this.parent.activeSheetIndex,cancel:!1};if(this.parent.notify(kH,{eventArgs:a,action:"gridLines"}),a.cancel)return;n.showGridLines=!n.showGridLines,this.toggleRibbonItems({props:"GridLines",activeTab:this.ribbon.selectedTab}),this.parent.element.focus();break;case t+"_protect":n.isProtected=!n.isProtected,this.parent.setProperties({sheets:this.parent.sheets},!0);var r;r=!n.isProtected,this.parent.notify("applyProtect",{isActive:r,id:t+"_protect"});break;case t+"_undo":this.parent.notify("performUndoRedo",{isUndo:!0});break;case t+"_redo":this.parent.notify("performUndoRedo",{isUndo:!1})}this.parent.notify("ribboClick",e)}}},{key:"toggleRibbonItems",value:function(e){var t=this.parent.serviceLocator.getService(gj).getConstant("View"),n=this.parent.serviceLocator.getService(gj).getConstant("Data");if(this.ribbon.items[this.ribbon.selectedTab].header.text===t){if(JO(e.activeTab))for(var i=0,a=this.ribbon.items.length;i<a;i++)if(this.ribbon.items[i].header.text===t){e.activeTab=i;break}for(var r,s=this.getLocaleText(e.props,!0),l="".concat(this.parent.element.id,"_").concat(e.props.toLowerCase()),o=this.ribbon.items[e.activeTab].content.length;r<o;r++)"Separator"!==this.ribbon.items[e.activeTab].content[r].type&&this.ribbon.items[e.activeTab].content[r].id===l&&(this.ribbon.items[e.activeTab].content[r].text=s,this.ribbon.setProperties({items:this.ribbon.items},!0));this.ribbon.items[this.ribbon.selectedTab].header.text===t&&this.updateToggleText(e.props.toLowerCase(),s)}if(this.ribbon.items[this.ribbon.selectedTab].header.text===n){if(JO(e.activeTab))for(var u=0,c=this.ribbon.items.length;u<c;u++)if(this.ribbon.items[u].header.text===n){e.activeTab=u;break}for(var h,d=this.getLocaleProtectText("Sheet",!0),p="".concat(this.parent.element.id,"_").concat(e.props.toLowerCase()),f=this.ribbon.items[e.activeTab].content.length;h<f;h++)"Separator"!==this.ribbon.items[e.activeTab].content[h].type&&this.ribbon.items[e.activeTab].content[h].id===p&&(this.ribbon.items[e.activeTab].content[h].text=d,this.ribbon.setProperties({items:this.ribbon.items},!0));this.ribbon.items[this.ribbon.selectedTab].header.text===n&&this.updateToggleText(e.props.toLowerCase(),d)}}},{key:"enableFileMenuItems",value:function(e){this.ribbon.enableMenuItems(e.items,e.enable,e.isUniqueId)}},{key:"hideRibbonTabs",value:function(e){this.ribbon.hideTabs(e.tabs,e.hide)}},{key:"addRibbonTabs",value:function(e){this.ribbon.addTabs(e.items,e.insertBefore),eD(".e-ribbon .e-tab-header .e-toolbar-item:not(.e-menu-tab).e-hide",this.parent.element)&&this.parent.updateActiveBorder(tD(".e-ribbon .e-tab-header .e-toolbar-item:not(.e-menu-tab)",this.parent.element)[this.ribbon.selectedTab])}},{key:"updateToggleText",value:function(e,t){var n=this;zB((function(){n.ribbon.element.querySelector("#".concat(n.parent.element.id,"_").concat(e," .e-tbar-btn-text")).textContent=t}))}},{key:"refreshViewTabContent",value:function(e){for(var t,n=this.parent.element.id,i=0;i<this.ribbon.items[e].content.length;i++)if("Separator"!==this.ribbon.items[e].content[i].type){if(this.ribbon.items[e].content[i].id==="".concat(n,"_headers")){if(this.updateViewTabContent(e,"Headers",i),t)break;t=!0}if(this.ribbon.items[e].content[i].id==="".concat(n,"_gridlines")){if(this.updateViewTabContent(e,"GridLines",i),t)break;t=!0}}}},{key:"updateViewTabContent",value:function(e,t,n){var i=this.parent.getActiveSheet(),a=this.parent.serviceLocator.getService(gj);i["show"+t]?this.ribbon.items[e].content[n].text===a.getConstant("Show"+t)&&this.updateShowHideBtn("Hide",t,n,e):this.ribbon.items[e].content[n].text===a.getConstant("Hide"+t)&&this.updateShowHideBtn("Show",t,n,e)}},{key:"updateShowHideBtn",value:function(e,t,n,i){var a=this.parent.serviceLocator.getService(gj).getConstant(e+t);this.ribbon.items[i].content[n].text=a,this.ribbon.setProperties({items:this.ribbon.items},!0),this.updateToggleText(t.toLowerCase(),a)}},{key:"refreshDataTabContent",value:function(e){for(var t,n=this.parent.element.id,i=0;i<this.ribbon.items[e].content.length;i++)if("Separator"!==this.ribbon.items[e].content[i].type&&this.ribbon.items[e].content[i].id==="".concat(n,"_protect")){if(this.updateDataTabContent(e,"Sheet",i),t)break;t=!0}}},{key:"updateDataTabContent",value:function(e,t,n){var i=this.parent.getActiveSheet(),a=this.parent.serviceLocator.getService(gj);i.isProtected?this.ribbon.items[e].content[n].text===a.getConstant("Protect"+t)&&(this.ribbon.items[e].content[n].cssClass="e-active",this.updateProtectBtn("Unprotect",t,n,e)):this.updateProtectBtn("Protect",t,n,e)}},{key:"updateProtectBtn",value:function(e,t,n,i){var a=this.parent.serviceLocator.getService(gj).getConstant(e+t);this.ribbon.items[i].content[n].text=a,this.ribbon.setProperties({items:this.ribbon.items},!0),this.updateToggleText("protect",a)}},{key:"addToolbarItems",value:function(e){this.ribbon.addToolbarItems(e.tab,e.items,e.index)}},{key:"enableToolbarItems",value:function(e){var t=this;e.forEach((function(e){t.ribbon.enableItems(e.tab||t.ribbon.items[t.ribbon.selectedTab].header.text,e.items,e.enable)}))}},{key:"createMobileView",value:function(){var e=this,t=this.parent.element.id,n=this.parent.createElement("div",{className:"e-header-toolbar"}),i=this.parent.createElement("ul");n.appendChild(i);var a=new ZN({items:[{prefixIcon:"e-tick-icon",align:"Left",id:t+"focused_tick",cssClass:"e-focused-tick"},{template:i,align:"Right",id:t+"file_menu"}],clicked:function(n){switch(n.item.id){case t+"focused_tick":e.parent.element.classList.remove("e-mobile-focused"),e.parent.renderModule.setSheetPanelSize()}},created:function(){var t=new nR({cssClass:"e-mobile e-file-menu",enableRtl:!0,showItemOnClick:!0,items:e.getRibbonMenuItems(),select:e.fileMenuItemSelect.bind(e),beforeOpen:function(t){t.element.parentElement.classList.remove("e-rtl"),e.fileMenuBeforeOpen(t)},beforeClose:e.fileMenuBeforeClose.bind(e)});t.createElement=e.parent.createElement,t.appendTo(i)}});a.createElement=this.parent.createElement,a.appendTo(n),this.parent.element.insertBefore(n,this.parent.element.firstElementChild),this.renderMobileToolbar()}},{key:"renderMobileToolbar",value:function(){var e=this,t=this.parent.createElement("div",{className:"e-toolbar-panel e-ribbon"}),n=this.parent.createElement("div"),i=this.parent.createElement("button");t.appendChild(n),t.appendChild(i),t.style.display="block",this.parent.element.appendChild(t);var a=new vL({cssClass:"e-caret-hide",content:this.ribbon.items[0].header.text,items:[{text:this.ribbon.items[0].header.text},{text:this.ribbon.items[1].header.text},{text:this.ribbon.items[2].header.text},{text:this.ribbon.items[3].header.text}],select:function(t){t.item.text!==a.content&&(r.element.style.display="none",a.content=t.item.text,a.dataBind(),r.items=e.ribbon.items[a.items.indexOf(t.item)+1].content,r.width="calc(100% - ".concat(i.getBoundingClientRect().width,"px)"),r.element.style.display="",r.dataBind(),r.items[0].text=t.item.text,r.dataBind())},open:function(e){var t=e.element.parentElement,n=t.getBoundingClientRect(),i=fT(a.element,"right","bottom");t.style.left="".concat(i.left-n.width,"px"),t.style.top="".concat(i.top-n.height,"px");for(var r=0;r<a.items.length;r++)if(a.content===a.items[r].text){e.element.children[r].classList.add("e-selected");break}},close:function(){return e.parent.element.focus()}});a.createElement=this.parent.createElement,a.appendTo(i);var r=new ZN({width:"calc(100% - ".concat(i.getBoundingClientRect().width,"px)"),items:this.ribbon.items[0].content,clicked:this.toolbarClicked.bind(this)});r.createElement=this.parent.createElement,r.appendTo(n),t.style.display=""}},{key:"fileMenuBeforeOpen",value:function(e){var t,n=this,i=this.parent.serviceLocator.getService(gj),a=[".xlsx",".xls",".csv"];e.parentItem.text===i.getConstant("SaveAs")&&[].slice.call(e.element.children).forEach((function(e,i){t=n.parent.createElement("div",{innerHTML:e.innerHTML}),e.innerHTML="",t.appendChild(n.parent.createElement("span",{className:"e-extension",innerHTML:a[i]})),e.appendChild(t)})),this.parent.trigger("fileMenuBeforeOpen",e)}},{key:"enableRibbonTabs",value:function(e){this.ribbon.enableTabs(e.tabs,e.enable)}},{key:"fileMenuBeforeClose",value:function(e){this.parent.trigger("fileMenuBeforeClose",e)}},{key:"hideFileMenuItems",value:function(e){this.ribbon.hideMenuItems(e.items,e.hide,e.isUniqueId)}},{key:"addFileMenuItems",value:function(e){this.ribbon.addMenuItems(e.items,e.text,e.insertAfter,e.isUniqueId)}},{key:"hideToolbarItems",value:function(e){this.ribbon.hideToolbarItems(e.tab,e.indexes,e.hide)}},{key:"protectSheetHandler",value:function(e){var t=this.parent.getActiveSheet(),n=this.parent.serviceLocator.getService(gj);t.isProtected&&t.protectSettings.formatCells||!t.isProtected?(this.enableToolbarItems([{tab:n.getConstant("Home"),items:e.enableHomeBtnId,enable:!0}]),this.parent.notify("setUndoRedo",null)):this.enableToolbarItems([{tab:n.getConstant("Home"),items:e.disableHomeBtnId,enable:!1}]),this.enableToolbarItems(t.isProtected&&t.protectSettings.insertLink||!t.isProtected?[{tab:n.getConstant("Insert"),items:e.enableInsertBtnId,enable:!0}]:[{tab:n.getConstant("Insert"),items:e.enableInsertBtnId,enable:!1}]),this.enableToolbarItems(t.isProtected&&t.protectSettings.selectCells||!t.isProtected?[{tab:n.getConstant("Home"),items:e.findBtnId,enable:!0}]:[{tab:n.getConstant("Home"),items:e.findBtnId,enable:!1}]),t.isProtected?(this.enableToolbarItems([{tab:n.getConstant("Data"),items:e.dataValidationBtnId,enable:!1}]),this.enableToolbarItems([{tab:n.getConstant("Formulas"),items:e.enableFrmlaBtnId,enable:!1}])):(this.enableToolbarItems([{tab:n.getConstant("Data"),items:e.dataValidationBtnId,enable:!0}]),this.enableToolbarItems([{tab:n.getConstant("Formulas"),items:e.enableFrmlaBtnId,enable:!0}]))}},{key:"updateMergeItem",value:function(e){if("mousemove"===e.type||"pointermove"===e.type||e.shiftKey&&"mousedown"===e.type||e.target&&nD(e.target,".e-header-cell")){var t=YF(this.parent.getActiveSheet().selectedRange);t[1]===t[3]&&t[0]===t[2]||this.parent.getActiveSheet().isProtected||(this.enableToolbarItems([{tab:this.parent.serviceLocator.getService(gj).getConstant("Home"),items:["".concat(this.parent.element.id,"_merge_cells")],enable:!0}]),this.toggleActiveState(!1))}}},{key:"blankWorkbook",value:function(){this.parent.sheets.length=0,this.parent.sheetNameCount=1,this.parent.notify("sheetsDestroyed",{}),this.parent.createSheet(),this.parent.activeSheetIndex=this.parent.sheets.length-1,this.parent.notify("refreshSheetTabs",{}),this.parent.renderModule.refreshSheet()}},{key:"addEventListener",value:function(){this.parent.on("ribbon",this.initRibbon,this),this.parent.on("enableToolbarItems",this.enableToolbarItems,this),this.parent.on("activeCellChanged",this.refreshRibbonContent,this),this.parent.on("updateToggleItem",this.toggleRibbonItems,this),this.parent.on("enableFileMenuItems",this.enableFileMenuItems,this),this.parent.on("hideRibbonTabs",this.hideRibbonTabs,this),this.parent.on("addRibbonTabs",this.addRibbonTabs,this),this.parent.on("addToolbarItems",this.addToolbarItems,this),this.parent.on("hideFileMenuItems",this.hideFileMenuItems,this),this.parent.on("addFileMenuItems",this.addFileMenuItems,this),this.parent.on("hideToolbarItems",this.hideToolbarItems,this),this.parent.on("enableRibbonTabs",this.enableRibbonTabs,this),this.parent.on("protectCellFormat",this.protectSheetHandler,this),this.parent.on("selectionComplete",this.updateMergeItem,this),this.parent.on("blankWorkbook",this.blankWorkbook,this)}},{key:"destroy",value:function(){var e=this.parent.element,t=this.ribbon.element,n=e.id;["bold","italic","line-through","underline"].forEach((function(t){!function(e,t){if(e){var n=oD(e,t);n&&n.destroy()}}(e.querySelector("#"+"".concat(n,"_").concat(t)),zM)})),this.pasteSplitBtn.destroy(),this.pasteSplitBtn=null,this.mergeSplitBtn.destroy(),this.mergeSplitBtn=null,this.numFormatDDB.destroy(),this.numFormatDDB=null,this.fontSizeDdb.destroy(),this.fontSizeDdb=null,this.fontNameDdb.destroy(),this.fontNameDdb=null,this.textAlignDdb.destroy(),this.textAlignDdb=null,this.verticalAlignDdb.destroy(),this.verticalAlignDdb=null,this.sortingDdb.destroy(),this.sortingDdb=null,this.colorPicker.destroy(),this.colorPicker=null,this.bordersMenu.destroy(),this.bordersMenu=null,this.borderSplitBtn.destroy(),this.borderSplitBtn=null,this.findDdb.destroy(),this.findDdb=null,this.parent.notify("destroyRibbonComponents",null),this.ribbon.destroy(),t&&ZA(t),this.ribbon=null,this.removeEventListener()}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("ribbon",this.initRibbon),this.parent.off("enableToolbarItems",this.enableToolbarItems),this.parent.off("activeCellChanged",this.refreshRibbonContent),this.parent.off("updateToggleItem",this.toggleRibbonItems),this.parent.off("enableFileMenuItems",this.enableFileMenuItems),this.parent.off("hideRibbonTabs",this.hideRibbonTabs),this.parent.off("addRibbonTabs",this.addRibbonTabs),this.parent.off("addToolbarItems",this.addToolbarItems),this.parent.off("hideFileMenuItems",this.hideFileMenuItems),this.parent.off("addFileMenuItems",this.addFileMenuItems),this.parent.off("hideToolbarItems",this.hideToolbarItems),this.parent.off("enableRibbonTabs",this.enableRibbonTabs),this.parent.off("protectCellFormat",this.protectSheetHandler),this.parent.off("selectionComplete",this.updateMergeItem),this.parent.off("blankWorkbook",this.blankWorkbook))}}]),e}(),tj=function(){function e(t){_classCallCheck(this,e),this.categoryCollection=[],this.formulaCollection=[],this.parent=t,this.addEventListener()}return _createClass(e,[{key:"getModuleName",value:function(){return"formulaBar"}},{key:"createFormulaBar",value:function(e){if(this.parent.showFormulaBar||!this.insertFnRipple){var t=this.parent.serviceLocator.getService(gj),n=this.parent.element.id,i=this.parent.createElement("div",{className:"e-formula-bar-panel"});if(!this.parent.isMobileView()){var a=this.parent.createElement("input",{id:n+"_name_box",attrs:{type:"text"}});i.appendChild(a),this.comboBoxInstance=new $R({value:"A1",cssClass:"e-name-box",width:"",noRecordsTemplate:"",fields:{text:"name",value:"refersTo"},beforeOpen:this.nameBoxBeforeOpen.bind(this),blur:this.nameBoxBlur.bind(this),select:this.nameBoxSelect.bind(this),change:function(e){}}),this.comboBoxInstance.createElement=this.parent.createElement,this.comboBoxInstance.appendTo(a),this.comboBoxInstance.element.parentElement.title=t.getConstant("NameBox")}i.appendChild(this.parent.createElement("button",{className:"e-btn e-css e-flat e-icon-btn e-insert-function",attrs:{title:t.getConstant("InsertFunction")}})).appendChild(this.parent.createElement("span",{className:"e-btn-icon e-icons"})),this.insertFnRipple=AD(i,{selector:".e-insert-function"}),i.appendChild(this.parent.createElement("div",{className:"e-separator"}));var r=i.appendChild(this.parent.createElement("textarea",{className:"e-formula-bar e-css",id:n+"_formula_input",attrs:{title:t.getConstant("FormulaBar"),spellcheck:"false"}}));r.rows=1,this.parent.isMobileView()?(r.placeholder=t.getConstant("MobileFormulaBarPlaceHolder"),$I.add(r,"focus",this.textAreaFocusIn,this),$I.add(r,"blur",this.textAreaFocusOut,this)):i.appendChild(this.parent.createElement("span",{className:"e-drop-icon e-icons",attrs:{title:t.getConstant("ExpandFormulaBar")}})),e&&e.uiUpdate?this.parent.element.insertBefore(i,document.getElementById(n+"_sheet_panel")):this.parent.element.appendChild(i)}else this.destroy()}},{key:"textAreaFocusIn",value:function(e){var t=this.parent.element.querySelector(".e-formula-bar-panel"),n=this.parent.createElement("button",{className:"e-btn e-css e-flat e-icon-btn e-formula-submit"});n.appendChild(this.parent.createElement("span",{className:"e-btn-icon e-icons e-tick-icon"})),t.classList.add("e-focused"),t.appendChild(n)}},{key:"textAreaFocusOut",value:function(e){var t=this.parent.element.querySelector(".e-formula-bar-panel");t.classList.remove("e-focused"),ZA(t.querySelector(".e-formula-submit"))}},{key:"keyDownHandler",value:function(e){var t=e.target;this.parent.isEdit&&!this.parent.getActiveSheet().isProtected&&t.classList.contains("e-formula-bar")&&this.parent.notify(mH,{action:"refreshEditor",value:t.value,refreshEditorElem:!0})}},{key:"keyUpHandler",value:function(e){if(this.parent.isEdit){var t=e.target;if(t.classList.contains("e-formula-bar")){var n={action:"getCurrentEditValue",editedValue:""};this.parent.notify(mH,n),n.editedValue!==t.value&&this.parent.notify(mH,{action:"refreshEditor",value:t.value,refreshEditorElem:!0})}}}},{key:"nameBoxBeforeOpen",value:function(e){this.comboBoxInstance.element.classList.contains("e-name-editing")?e.cancel=!0:this.comboBoxInstance.element.select()}},{key:"nameBoxBlur",value:function(e){this.comboBoxInstance.element.classList.contains("e-name-editing")&&(this.comboBoxInstance.element.classList.remove("e-name-editing"),this.UpdateValueAfterMouseUp())}},{key:"nameBoxSelect",value:function(e){if(e.isInteracted){var t=e.itemData.refersTo.substr(1),n=wB(this.parent,xB(t)),i=QF(t),a=OB(this.parent,n);if(-1!==i.indexOf(":")){var r=i.indexOf(":"),s=i.substr(0,r),l=i.substr(r+1,i.length);s=s.replace("$",""),(l=l.replace("$","")).match(/\D/g)&&!l.match(/[0-9]/g)&&s.match(/\D/g)&&!s.match(/[0-9]/g)?i=(s+="1")+":"+(l+=a.rowCount):!l.match(/\D/g)&&l.match(/[0-9]/g)&&!s.match(/\D/g)&&s.match(/[0-9]/g)&&(i=(s=KF(parseInt(s,10)-1,0))+":"+(l=KF(parseInt(l,10)-1,a.colCount-1)))}n===this.parent.activeSheetIndex?(this.parent.selectRange(i),this.parent.element.focus()):(EB(0,i,a),this.parent.activeSheetIndex=n)}}},{key:"formulaBarUpdateHandler",value:function(e){var t,n=this,i=this.parent.getActiveSheet().selectedRange.split(":"),a=new TI;if("mousemove"===e.type||"pointermove"===e.type){var r=YF(i[0]),s=YF(i[1]);t="".concat(Math.abs(r[0]-s[0])+1,"R x ").concat(Math.abs(r[1]-s[1])+1,"C")}else t=i[0],this.parent.getData("".concat(MB(this.parent),"!").concat(t)).then((function(e){var t,i="";e.forEach((function(e,r){var s=e&&e.format?pH(e.format):"General";e&&(JO(e.value)||(t=rH(Number(e.value)),i="Invalid Date"===t.toString()||"ShortDate"!==s&&"LongDate"!==s?"Invalid Date"!==t.toString()&&"Time"===s?a.formatDate(t,{type:"dateTime",skeleton:"yMd"})+" "+a.formatDate(t,{type:"dateTime",skeleton:"hms"}):e.value:a.formatDate(t,{type:"date",skeleton:"yMd"})),e.formula&&(i=e.formula)),document.getElementById(n.parent.element.id+"_formula_input").value=i}))}));this.updateComboBoxValue(t)}},{key:"UpdateValueAfterMouseUp",value:function(){this.updateComboBoxValue(this.parent.getActiveSheet().selectedRange.split(":")[0])}},{key:"updateComboBoxValue",value:function(e){var t=this.parent.getActiveSheet(),n={action:"getNameFromRange",range:MB(this.parent)+"!"+t.selectedRange,definedName:null};if(this.parent.notify("formulaOperation",n),n.definedName&&(e=n.definedName.name),!this.parent.isMobileView()){if(this.comboBoxInstance.text===e)return;this.comboBoxInstance.text=e,this.comboBoxInstance.dataBind()}}},{key:"disabletextarea",value:function(){this.getFormulaBar().disabled=!!this.parent.getActiveSheet().isProtected}},{key:"formulaBarClickHandler",value:function(e){var t=this,n=e.target;if(n.classList.contains("e-drop-icon")&&nD(n,".e-formula-bar-panel"))this.toggleFormulaBar(n);else if(n.classList.contains("e-formula-bar"))this.parent.isEdit||this.parent.getActiveSheet().isProtected?this.parent.getActiveSheet().isProtected&&this.parent.notify("editAlert",null):this.parent.notify(mH,{action:"startEdit",refreshCurPos:!1});else if(n.parentElement&&n.parentElement.classList.contains("e-name-box"))if(n.classList.contains("e-ddl-icon")){var i={action:"getNames",names:[]};this.parent.notify("formulaOperation",i),this.comboBoxInstance.dataSource=i.names}else this.comboBoxInstance.element.classList.add("e-name-editing"),this.comboBoxInstance.element.select();if(!JO(n.offsetParent)&&(n.offsetParent.classList.contains("e-insert-function")||n.classList.contains("e-insert-function")||this.parent.element.id+"_insert_function"===n.offsetParent.id||this.parent.element.id+"_insert_function"===n.id||n.parentElement.classList.contains("e-insert-function")||this.parent.element.id+"_insert_function"===n.parentElement.id)){if(this.parent.getActiveSheet().isProtected)return void this.parent.notify("editAlert",null);var a=!this.parent.isEdit,r={action:"getCurrentEditValue",editedValue:""};if(!a){var s={action:"isFormulaEditing",isFormulaEdit:!1};this.parent.notify("formulaOperation",s),a=s.isFormulaEdit,this.parent.notify(mH,r)}if(a||""===r.editedValue){""===r.editedValue&&this.parent.notify(mH,{action:"refreshEditor",value:"="});var l=this.parent.serviceLocator.getService(gj),o=this.parent.createElement("div",{className:"e-formula-description",id:this.parent.element.id+"_description_content"}),u=this.parent.createElement("div",{className:"e-category-content",id:this.parent.element.id+"_category_content",innerHTML:l.getConstant("PickACategory")}),c=this.parent.createElement("input",{className:"e-formula-category",id:this.parent.element.id+"_formula_category"}),h=this.parent.createElement("div",{className:"e-formula-list",id:this.parent.element.id+"_formula_list"}),d=this.parent.createElement("div",{className:"e-description-content",innerHTML:l.getConstant("Description")}),p=this.parent.createElement("div",{className:"e-header-content",innerHTML:l.getConstant("InsertFunction")}),f={action:"getFormulaCategory",categoryCollection:[]};this.parent.notify(oH,f),this.categoryCollection=f.categoryCollection,this.categoryList=new YR({dataSource:this.categoryCollection,index:0,width:"285px",popupHeight:"210px",select:this.dropDownSelect.bind(this)});var m={action:"getLibraryFormulas",formulaCollection:[]};this.parent.notify(oH,m),this.formulaCollection=m.formulaCollection,this.formulaList=new hT({dataSource:this.formulaCollection.sort(),actionComplete:this.updateFormulaList.bind(this),select:this.listSelected.bind(this),width:"285px",height:"200px"}),this.dialog=this.parent.serviceLocator.getService("dialog"),this.dialog.show({header:p.outerHTML,content:u.outerHTML+c.outerHTML+h.outerHTML+d.outerHTML+o.outerHTML,width:"320px",height:"485px",cssClass:"e-spreadsheet-function-dlg",showCloseIcon:!0,isModal:!0,beforeOpen:function(){return t.parent.element.focus()},open:this.dialogOpen.bind(this),beforeClose:this.dialogBeforeClose.bind(this),close:this.dialogClose.bind(this),buttons:[{click:this.selectFormula.bind(this,this.dialog,this),buttonModel:{content:l.getConstant("Ok"),isPrimary:!0}}]}),this.categoryList.appendTo("#"+this.parent.element.id+"_formula_category"),this.formulaList.appendTo("#"+this.parent.element.id+"_formula_list"),$I.add(this.formulaList.element,"dblclick",this.formulaClickHandler,this)}}}},{key:"toggleFormulaBar",value:function(e){var t=e.parentElement,n=this.parent.serviceLocator.getService(gj);t.classList.contains("e-expanded")?(t.classList.remove("e-expanded"),document.getElementById(this.parent.element.id+"_formula_input").rows=1,e.title=n.getConstant("ExpandFormulaBar")):(t.classList.add("e-expanded"),document.getElementById(this.parent.element.id+"_formula_input").rows=3,e.title=n.getConstant("CollapseFormulaBar")),this.parent.setPanelSize()}},{key:"dialogOpen",value:function(){this.focusOkButton()}},{key:"dialogClose",value:function(){var e={action:"getCurrentEditValue",editedValue:""};this.parent.notify(mH,e),"="===e.editedValue.toString().trim()&&this.parent.notify(mH,{action:"refreshEditor",value:""})}},{key:"dialogBeforeClose",value:function(){$I.remove(this.formulaList.element,"dblclick",this.formulaClickHandler);var e=document.getElementById("_dialog-content");e.parentNode.removeChild(e),this.dialog.dialogInstance.storeActiveElement=document.getElementById(this.parent.element.id+"_edit")}},{key:"selectFormula",value:function(e,t){var n=t.formulaList.getSelectedItems().text,i=OB(this.parent,this.parent.activeSheetIndex);this.parent.isEdit?this.parent.notify(mH,{action:"refreshEditor",value:n+"(",refreshFormulaBar:!0,refreshEditorElem:!0,isAppend:!0}):(this.parent.notify(mH,{action:"startEdit",value:"="+n+"(",address:i.activeCell}),this.parent.notify("formulaBarOperation",{action:"refreshFormulabar",value:"="+n+"("})),e.hide()}},{key:"listSelected",value:function(){this.updateFormulaDescription()}},{key:"updateFormulaList",value:function(){this.activeListFormula(),this.updateFormulaDescription()}},{key:"dropDownSelect",value:function(e){this.formulaCollection=[];var t={action:"getLibraryFormulas",formulaCollection:[]};if("All"===e.item.textContent)this.parent.notify(oH,t),this.formulaCollection=t.formulaCollection;else{var n={action:"dropDownSelectFormulas",formulaCollection:[],selectCategory:e.item.textContent};this.parent.notify(oH,n),this.formulaCollection=n.formulaCollection}this.formulaList.dataSource=this.formulaCollection.sort()}},{key:"focusOkButton",value:function(){document.getElementById("_dialog-content").nextElementSibling.firstElementChild.focus()}},{key:"activeListFormula",value:function(){var e=document.getElementById(this.parent.element.id+"_formula_list");this.formulaList.selectItem(e.children[0].children[0].firstElementChild)}},{key:"updateFormulaDescription",value:function(){var e=this.formulaList.getSelectedItems().text;this.parent.notify(oH,{action:"getFormulaDescription",description:"",selectedList:e}),this.focusOkButton(),e="AND"===e?"CalculateAND":"OR"===e?"CalculateOR":e,document.getElementById(this.parent.element.id+"_description_content").innerHTML=this.parent.serviceLocator.getService(gj).getConstant(e)}},{key:"formulaClickHandler",value:function(e){var t=e.target,n=OB(this.parent,this.parent.activeSheetIndex);(t.offsetParent.classList.contains("e-text-content")||t.classList.contains("e-list-item"))&&(this.parent.isEdit?this.parent.notify(mH,{action:"refreshEditor",value:t.innerText+"(",refreshFormulaBar:!0,refreshEditorElem:!0,isAppend:!0}):(this.parent.notify(mH,{action:"startEdit",value:"="+t.innerText+"(",address:n.activeCell}),this.parent.notify("formulaBarOperation",{action:"refreshFormulabar",value:"="+t.innerText+"("})),this.dialog.hide())}},{key:"addEventListener",value:function(){this.parent.on("formulaBar",this.createFormulaBar,this),this.parent.on("click",this.formulaBarClickHandler,this),this.parent.on(vH,this.keyDownHandler,this),this.parent.on(gH,this.keyUpHandler,this),this.parent.on("selectionComplete",this.formulaBarUpdateHandler,this),this.parent.on("mouseUpAfterSelection",this.UpdateValueAfterMouseUp,this),this.parent.on("formulaBarOperation",this.editOperationHandler,this),this.parent.on("enableFormulaInput",this.disabletextarea,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.comboBoxInstance.destroy(),this.comboBoxInstance=null,this.insertFnRipple(),this.insertFnRipple=null;var e=this.parent.element.querySelector(".e-formula-bar-panel");e&&ZA(e)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("formulaBar",this.createFormulaBar),this.parent.off("click",this.formulaBarClickHandler),this.parent.off(vH,this.keyDownHandler),this.parent.off(gH,this.keyUpHandler),this.parent.off("selectionComplete",this.formulaBarUpdateHandler),this.parent.off("mouseUpAfterSelection",this.UpdateValueAfterMouseUp),this.parent.off("formulaBarOperation",this.editOperationHandler),this.parent.off("enableFormulaInput",this.disabletextarea))}},{key:"editOperationHandler",value:function(e){switch(e.action){case"refreshFormulabar":this.getFormulaBar().value=QO(e.value)?"":e.value;break;case"getPosition":e.position=this.getFormulaBar().getBoundingClientRect()}}},{key:"getFormulaBar",value:function(){return this.parent.element.querySelector("#"+this.parent.element.id+"_formula_input")}}]),e}(),nj=function(){function e(t){_classCallCheck(this,e),this.isFormulaBar=!1,this.isFormula=!1,this.isPopupOpened=!1,this.isPreventClose=!1,this.isSubFormula=!1,this.keyCodes={UP:38,DOWN:40,LEFT:37,RIGHT:39,FIRSTALPHABET:65,LASTALPHABET:90,SPACE:32,BACKSPACE:8,TAB:9,DELETE:46,ENTER:13,ESC:27},this.parent=t,this.addEventListener()}return _createClass(e,[{key:"getModuleName",value:function(){return"formula"}},{key:"destroy",value:function(){this.removeEventListener(),this.autocompleteInstance&&this.autocompleteInstance.destroy(),this.autocompleteInstance=null,this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("formulaOperation",this.performFormulaOperation,this),this.parent.on(gH,this.keyUpHandler,this),this.parent.on(vH,this.keyDownHandler,this),this.parent.on("click",this.formulaClick,this),this.parent.on("refreshFormulaDatasource",this.refreshFormulaDatasource,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("formulaOperation",this.performFormulaOperation),this.parent.off(gH,this.keyUpHandler),this.parent.off(vH,this.keyDownHandler),this.parent.off("click",this.formulaClick),this.parent.off("refreshFormulaDatasource",this.refreshFormulaDatasource))}},{key:"performFormulaOperation",value:function(e){switch(e.action){case"renderAutoComplete":this.renderAutoComplete();break;case"endEdit":this.endEdit();break;case"addDefinedName":e.isAdded=this.addDefinedName(e.definedName);break;case"getNames":e.sheetName||(e.sheetName=MB(this.parent)),e.names=this.getNames(e.sheetName);break;case"getNameFromRange":e.definedName=this.getNameFromRange(e.range);break;case"isFormulaEditing":e.isFormulaEdit=this.isFormula;break;case"isCircularReference":var t=this.parent.serviceLocator.getService(gj);this.parent.serviceLocator.getService(vj).show({height:180,width:400,isModal:!0,showCloseIcon:!0,content:t.getConstant("CircularReference")}),e.argValue="0"}}},{key:"renderAutoComplete",value:function(){if(!this.parent.element.querySelector("#"+this.parent.element.id+"_ac")){var e=this.parent.createElement("input",{id:this.parent.element.id+"_ac",className:"e-ss-ac"});this.parent.element.appendChild(e);var t={action:"getLibraryFormulas",formulaCollection:[]};this.parent.notify(oH,t);var n={dataSource:t.formulaCollection,cssClass:"e-ss-atc",popupWidth:"130px",allowFiltering:!0,filterType:"StartsWith",sortOrder:"Ascending",open:this.onSuggestionOpen.bind(this),close:this.onSuggestionClose.bind(this),select:this.onSelect.bind(this),actionComplete:this.onSuggestionComplete.bind(this)};this.autocompleteInstance=new iF(n,e),this.autocompleteInstance.createElement=this.parent.createElement}}},{key:"onSuggestionOpen",value:function(e){var t=this;this.isPopupOpened=!0;var n=this.getPopupPosition();e.popup.offsetX=n.left,e.popup.offsetY=n.top+n.height,e.popup.refreshPosition(),e.popup.element.firstChild.style.maxHeight="180px",new Promise((function(e,t){setTimeout((function(){e()}),100)})).then((function(){t.triggerKeyDownEvent(t.keyCodes.DOWN)}))}},{key:"onSuggestionClose",value:function(e){this.isPreventClose?e.cancel=!0:this.isPopupOpened=!1}},{key:"onSelect",value:function(e){var t="="+e.itemData.value+"(";if(this.isSubFormula){var n=this.getEditingValue(),i=n.lastIndexOf(this.getArgumentSeparator());i>-1?t=n.slice(0,i+1):(i=n.lastIndexOf("("))>-1&&(t=n.slice(0,i+1)),t+=e.itemData.value+"("}this.parent.notify(mH,{action:"refreshEditor",value:t,refreshFormulaBar:!0,refreshEditorElem:!0,refreshCurPos:!this.isFormulaBar})}},{key:"onSuggestionComplete",value:function(e){this.isPreventClose=e.result.length>0,this.isPreventClose||(e.cancel=!0,this.hidePopUp())}},{key:"refreshFormulaDatasource",value:function(){var e={action:"getLibraryFormulas",formulaCollection:[]};this.parent.notify(oH,e),this.autocompleteInstance.dataSource=e.formulaCollection}},{key:"keyUpHandler",value:function(e){if(this.parent.isEdit){var t=this.getEditingValue();this.isFormula=sB(t),(this.isFormula||this.isPopupOpened)&&(e.keyCode!==this.keyCodes.TAB&&this.isFormula&&(t=this.getSuggestionKeyFromFormula(t)),this.refreshFormulaSuggestion(e,t))}else this.isPopupOpened&&this.hidePopUp()}},{key:"keyDownHandler",value:function(e){var t=e.keyCode;if(this.isFormula){if(this.isPopupOpened)switch(t){case this.keyCodes.UP:case this.keyCodes.DOWN:e.preventDefault(),this.triggerKeyDownEvent(t);break;case this.keyCodes.TAB:e.preventDefault(),this.triggerKeyDownEvent(this.keyCodes.ENTER)}}else{var n=e.target;if(n.id===this.parent.element.id+"_name_box")switch(t){case this.keyCodes.ENTER:this.addDefinedName({name:n.value}),this.parent.element.focus();break;case this.keyCodes.ESC:this.parent.element.focus()}}}},{key:"formulaClick",value:function(e){this.parent.isEdit&&(this.isFormulaBar=e.target.classList.contains("e-formula-bar"))}},{key:"refreshFormulaSuggestion",value:function(e,t){if(t.length>0){var n=this.autocompleteInstance.element,i=this.isPopupOpened;this.isNavigationKey(e.keyCode)||(n.value=t,n.dispatchEvent(new Event("input")),n.dispatchEvent(new Event("keyup")),i&&this.triggerKeyDownEvent(this.keyCodes.DOWN))}else this.isPopupOpened&&(this.isPreventClose=!1,this.hidePopUp())}},{key:"endEdit",value:function(){if(this.isSubFormula=!1,this.isPreventClose=!1,this.isFormula=!1,this.isFormulaBar=!1,this.isPopupOpened){this.hidePopUp();var e=document.querySelector("#"+this.parent.element.id+"_ac_popup");e&&ZA(e),this.isPopupOpened=!1}}},{key:"hidePopUp",value:function(){this.autocompleteInstance.hidePopup()}},{key:"getSuggestionKeyFromFormula",value:function(e){var t="";if(e=e.substr(1)){var n=e.lastIndexOf("("),i=(e=e.substr(n+1)).split(this.getArgumentSeparator());1===i.length?(t=i[0],this.isSubFormula=n>-1):(t=i[i.length-1],this.isSubFormula=!0);var a=t.match(/\w/);(!a||a&&0!==a.index)&&(t="")}return t}},{key:"getPopupPosition",value:function(){var e={position:null};return this.isFormulaBar?(e.action="getPosition",this.parent.notify("formulaBarOperation",e)):(e.action="getPosition",this.parent.notify(mH,e)),e.position}},{key:"getEditingValue",value:function(){var e={action:"getCurrentEditValue",editedValue:""};return this.parent.notify(mH,e),e.editedValue}},{key:"isNavigationKey",value:function(e){return e===this.keyCodes.UP||e===this.keyCodes.DOWN||e===this.keyCodes.LEFT||e===this.keyCodes.RIGHT}},{key:"triggerKeyDownEvent",value:function(e){var t=this.autocompleteInstance.element;t.dispatchEvent(new Event("input"));var n=new Event("keydown");n.keyCode=e,n.which=e,n.altKey=!1,n.shiftKey=!1,n.ctrlKey=!1,t.dispatchEvent(n)}},{key:"getArgumentSeparator",value:function(){if(this.argumentSeparator)return this.argumentSeparator;var e={action:"getArgumentSeparator",argumentSeparator:""};return this.parent.notify(oH,e),this.argumentSeparator=e.argumentSeparator,e.argumentSeparator}},{key:"getNames",value:function(e){return this.parent.definedNames.filter((function(t){return"Workbook"===t.scope||""===t.scope||t.scope===e}))}},{key:"getNameFromRange",value:function(e){var t=e.slice(0,e.indexOf(":")),n=e.slice(e.indexOf("!")+1).split(":"),i=n.length>1&&n[0]===n[1],a=this.parent.definedNames.filter((function(n,a){return!(!i||n.refersTo!=="="+t)||n.refersTo==="="+e}));return a&&a[0]}},{key:"addDefinedName",value:function(e){var t=e.name,n=!1;if(!e.refersTo){var i=OB(this.parent,this.parent.activeSheetIndex),a=MB(this.parent);a=-1!==a.indexOf(" ")?"'"+a+"'":a;var r=i.selectedRange;if(!JO(r)){var s=r.indexOf(":"),l=r.substr(0,s),o=r.substr(s+1,r.length);parseInt(o.replace(/\D/g,""),10)===i.rowCount&&1===parseInt(l.replace(/\D/g,""),10)?(o=o.replace(/[0-9]/g,""),r="$"+(l=l.replace(/[0-9]/g,""))+":$"+o):GF(o)[1]===i.colCount-1&&0===GF(l)[1]?(o=o.replace(/\D/g,""),r="$"+(l=l.replace(/\D/g,""))+":$"+o):r=l===o?l:r}e.refersTo=a+"!"+r,e.scope="Workbook"}if(t.length>0&&/^([a-zA-Z_0-9.]){0,255}$/.test(t)){var u={action:"addDefinedName",definedName:e,isAdded:!1};this.parent.notify(oH,u),n=u.isAdded,u.isAdded||this.parent.serviceLocator.getService(vj).show({content:this.parent.serviceLocator.getService(gj).getConstant("DefineNameExists"),width:"300"})}else this.parent.serviceLocator.getService(vj).show({content:this.parent.serviceLocator.getService(gj).getConstant("DefineNameInValid"),width:"300"});return n}}]),e}(),ij=function(){function e(t){_classCallCheck(this,e),this.aggregateContent="",this.isSelectCancel=!1,this.parent=t,this.addEventListener()}return _createClass(e,[{key:"getModuleName",value:function(){return"sheetTabs"}},{key:"createSheetTabs",value:function(){var e=this;if(this.parent.showSheetTabs||!this.tabInstance){var t=this.parent.serviceLocator.getService(gj),n=this.parent.createElement("div",{className:"e-sheet-tab-panel",id:this.parent.element.id+"_sheet_tab_panel"}),i=this.parent.createElement("button",{className:"e-add-sheet-tab e-btn e-css e-flat e-icon-btn"+(this.parent.allowInsert?"":" e-disabled"),attrs:{title:t.getConstant("AddSheet")}});i.appendChild(this.parent.createElement("span",{className:"e-btn-icon e-icons e-add-icon"})),i.addEventListener("click",this.addSheetTab.bind(this)),i.disabled=!this.parent.allowInsert,n.appendChild(i),this.parent.allowInsert&&(this.addBtnRipple=AD(n,{selector:".e-add-sheet-tab"}));var a=this.parent.createElement("button",{attrs:{title:t.getConstant("ListAllSheets")}});n.appendChild(a),this.parent.element.appendChild(n);var r=this.getSheetTabItems();this.dropDownInstance=new vL({iconCss:"e-icons",items:r.ddbItems,beforeItemRender:function(t){var n=e.parent.sheets[e.dropDownInstance.items.indexOf(t.item)];"Hidden"===n.state?t.element.classList.add("e-hide"):"VeryHidden"===n.state&&(t.element.style.display="none")},select:function(t){return e.updateSheetTab({idx:e.dropDownInstance.items.indexOf(t.item)})},beforeOpen:function(t){return e.beforeOpenHandler(e.dropDownInstance,t.element)},open:function(t){return e.openHandler(e.dropDownInstance,t.element,"left")},cssClass:"e-sheets-list e-flat e-caret-hide",close:function(){return e.parent.element.focus()}}),this.dropDownInstance.createElement=this.parent.createElement,this.dropDownInstance.appendTo(a);var s=this.parent.createElement("div",{className:"e-sheet-tab"});this.tabInstance=new hR({selectedItem:this.parent.activeSheetIndex,overflowMode:"Scrollable",items:r.tabItems,scrollStep:250,selecting:function(t){var n={currentSheetIndex:t.selectingIndex,previousSheetIndex:t.selectedIndex,cancel:!1};e.isSelectCancel||e.parent.notify(CH,{eventArgs:n,action:"gotoSheet"}),e.isSelectCancel=n.cancel},selected:function(t){t.selectedIndex!==t.previousIndex&&(e.isSelectCancel?(e.tabInstance.selectedItem=t.previousIndex,e.tabInstance.dataBind(),e.parent.element.focus()):(e.parent.activeSheetIndex=t.selectedIndex,e.parent.dataBind(),e.updateDropDownItems(t.selectedIndex,t.previousIndex),e.parent.element.focus(),e.parent.notify(kH,{eventArgs:{previousSheetIndex:t.previousIndex,currentSheetIndex:t.selectedIndex},action:"gotoSheet"})))},created:function(){var t=e.tabInstance.element.querySelector(".e-toolbar-items");t.classList.add("e-sheet-tabs-items"),$I.add(t,"dblclick",e.renameSheetTab,e)}}),n.appendChild(s),this.tabInstance.createElement=this.parent.createElement,this.tabInstance.appendTo(s),$I.remove(this.tabInstance.element,"keydown",this.tabInstance.spaceKeyDown);for(var l=r.tabItems.length,o=0;o<l;o++){var u=MB(this.parent,o);this.parent.notify(oH,{action:"addSheet",sheetName:"Sheet"+(o+1),index:o+1,visibleName:u})}this.parent.notify(oH,{action:"initiateDefinedNames"}),this.parent.notify("protectSheet",null)}else this.destroy()}},{key:"updateDropDownItems",value:function(e,t){t>-1&&(this.dropDownInstance.items[t].iconCss=""),this.dropDownInstance.items[e].iconCss="e-selected-icon e-icons",this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0)}},{key:"beforeOpenHandler",value:function(e,t){var n=this.parent.viewport.height;parseInt(getComputedStyle(t.firstElementChild).height,10)*e.items.length+2*parseInt(getComputedStyle(t).paddingTop,10)>n&&(t.style.height="".concat(n,"px"),t.style.overflowY="auto"),t.parentElement.style.visibility="hidden"}},{key:"openHandler",value:function(e,t,n){var i,a=t.parentElement;if(-1===ET(a).indexOf("bottom")){i="auto"===t.style.overflowY?this.parent.viewport.height:a.getBoundingClientRect().height;var r=fT(e.element,n,"top");"right"===n&&(r.left-=a.getBoundingClientRect().width),a.style.left="".concat(r.left,"px"),a.style.top="".concat(r.top-i,"px")}a.style.visibility=""}},{key:"getSheetTabItems",value:function(){var e,t=this,n=[],i=[];return this.parent.sheets.forEach((function(a,r){e=MB(t.parent,r),n.push({header:{text:e},cssClass:"Visible"===a.state?"":"e-hide"}),i.push({text:e,iconCss:r===t.parent.activeSheetIndex?"e-selected-icon e-icons":""})})),{tabItems:n,ddbItems:i}}},{key:"refreshSheetTab",value:function(){var e=this.getSheetTabItems();this.dropDownInstance.items=e.ddbItems,this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0),this.tabInstance.items=e.tabItems,this.tabInstance.selectedItem=this.parent.activeSheetIndex,this.tabInstance.dataBind()}},{key:"addSheetTab",value:function(){this.parent.notify("insertModel",{model:this.parent,start:this.parent.activeSheetIndex+1,end:this.parent.activeSheetIndex+1,modelType:"Sheet",isAction:!0,activeSheetIndex:this.parent.activeSheetIndex+1}),this.parent.element.focus()}},{key:"insertSheetTab",value:function(e){this.dropDownInstance.items[this.tabInstance.selectedItem].iconCss="";for(var t=e.startIdx;t<=e.endIdx;t++){var n=this.parent.sheets[t].name;this.dropDownInstance.items.splice(t,0,{text:n}),this.tabInstance.addTab([{header:{text:n},content:""}],t)}this.dropDownInstance.items[e.startIdx].iconCss="e-selected-icon e-icons",this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0),e.isAction&&this.updateSheetTab({idx:e.startIdx})}},{key:"updateSheetTab",value:function(e){"activeSheetChanged"===e.name?e.idx=this.parent.skipHiddenSheets(e.idx):"Hidden"===this.parent.sheets[e.idx].state&&(this.parent.sheets[e.idx].state="Visible",this.tabInstance.items[e.idx].cssClass="",this.tabInstance.items=this.tabInstance.items,this.tabInstance.dataBind()),this.tabInstance.selectedItem=e.idx,this.tabInstance.dataBind(),this.parent.notify("protectSheet",null)}},{key:"switchSheetTab",value:function(e){var t=nD(e.event.target,".e-toolbar-item");if(t){for(var n=t.querySelector(".e-tab-text").textContent,i=0,a=this.tabInstance.items.length;i<a;i++)if(this.tabInstance.items[i].header.text===n){this.parent.activeSheetIndex!==i&&this.updateSheetTab({idx:i});break}e.element.classList.contains("e-contextmenu")&&e.items[0]&&e.items[0].id==="".concat(this.parent.element.id,"_cmenu_insert_sheet")&&(1===this.skipHiddenSheets()&&(e.element.children[1].classList.add("e-disabled"),e.element.children[3].classList.add("e-disabled")),this.parent.allowInsert||e.element.children[0].classList.add("e-disabled"))}}},{key:"skipHiddenSheets",value:function(){var e=this.parent.sheets.length;return this.parent.sheets.forEach((function(t){"Visible"!==t.state&&--e})),e}},{key:"renameSheetTab",value:function(){var e=this.tabInstance.element.querySelector(".e-toolbar-item.e-active");if(e){var t=(e=e.querySelector(".e-text-wrap")).querySelector(".e-tab-text").textContent,n=this.parent.createElement("input",{id:this.parent.element.id+"_rename_input",className:"e-input e-sheet-rename",styles:"width: ".concat(e.getBoundingClientRect().width,"px"),attrs:{type:"text",name:"Rename",required:"",value:t,spellcheck:"false",maxlength:"31"}});e.firstElementChild.style.display="none",e.appendChild(n),$I.add(document,"mousedown touchstart",this.renameInputFocusOut,this),$I.add(n,"input",this.updateWidth,this),n.focus(),n.setSelectionRange(0,t.length),$I.remove(nD(e,".e-toolbar-items"),"dblclick",this.renameSheetTab)}}},{key:"updateWidth",value:function(e){var t=e.target,n=t.value.length,i=t.value.split(" ");if(i.length){var a=i.length-1;n-=a,n+=.5*a}t.style.width="".concat(n,"ch")}},{key:"renameInputFocusOut",value:function(e){var t=e.target;if("mousedown"!==e.type&&"touchstart"!==e.type||!t.classList.contains("e-sheet-rename")&&!nD(t,".e-dlg-container")){if(t=document.getElementById(this.parent.element.id+"_rename_input"),"keydown"===e.type&&27===e.keyCode)return this.removeRenameInput(t),void this.parent.element.focus();var n=t.value,i=this.parent.serviceLocator.getService(gj);if(n){var a=this.tabInstance.selectedItem;if(n.match(new RegExp(".*[\\[\\]\\*\\\\/\\?].*")))this.showRenameDialog(t,i.getConstant("SheetRenameInvalidAlert"));else{if(this.tabInstance.items[a].header.text!==n)for(var r=0,s=this.parent.sheets.length;r<s;r++)if(r!==this.parent.activeSheetIndex&&this.parent.sheets[r].name.toLowerCase()===n.toLowerCase())return void this.showRenameDialog(t,i.getConstant("SheetRenameAlreadyExistsAlert"));var l=this.removeRenameInput(t);this.tabInstance.items[a].header.text!==n&&(this.parent.sheets[a].name=n,this.updateSheetName({value:n,idx:a,items:l})),("keydown"===e.type||nD(e.target,".e-spreadsheet"))&&this.parent.element.focus()}}else this.showRenameDialog(t,i.getConstant("SheetRenameEmptyAlert"));var o=this.parent.getActiveSheet().id;this.parent.notify(oH,{action:"renameUpdation",value:n,sheetId:o}),this.parent.notify(kH,{eventArgs:{index:o,value:n},action:"renameSheet"})}}},{key:"updateSheetName",value:function(e){this.tabInstance.items[e.idx].header.text=e.value,this.dropDownInstance.items[e.idx].text=e.value,this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0),e.value.indexOf("  ")>-1?(this.tabInstance.setProperties({items:this.tabInstance.items},!0),e.items.querySelector(".e-toolbar-item.e-active .e-tab-text").textContent=e.value):(this.tabInstance.items=this.tabInstance.items,this.tabInstance.dataBind())}},{key:"hideSheet",value:function(){this.parent.getActiveSheet().state="Hidden",this.tabInstance.items[this.parent.activeSheetIndex].cssClass="e-hide",this.tabInstance.items=this.tabInstance.items,this.tabInstance.dataBind(),this.tabInstance.selectedItem=this.parent.skipHiddenSheets(this.parent.activeSheetIndex===this.parent.sheets.length-1?this.parent.activeSheetIndex-1:this.parent.activeSheetIndex+1),this.tabInstance.dataBind()}},{key:"removeRenameInput",value:function(e){var t=e.parentElement.querySelector(".e-tab-text"),n=nD(e,".e-toolbar-items");return $I.add(n,"dblclick",this.renameSheetTab,this),$I.remove(document,"mousedown touchstart",this.renameInputFocusOut),$I.remove(e,"input",this.updateWidth),JA(e),t.style.display="",n}},{key:"showRenameDialog",value:function(e,t){var n=this.parent.serviceLocator.getService(vj);n.dialogInstance||n.show({target:document.getElementById(this.parent.element.id+"_sheet_panel"),height:180,width:400,isModal:!0,showCloseIcon:!0,content:t,beforeOpen:function(){return e.focus()},close:function(){return e.setSelectionRange(0,e.value.length)}})}},{key:"focusRenameInput",value:function(){var e=document.getElementById(this.parent.element.id+"_rename_input");e&&e.focus()}},{key:"removeSheetTab",value:function(e){var t=this;if(!e.count||e.count!==this.parent.sheets.length){var n=this.parent.serviceLocator.getService(gj);if(this.skipHiddenSheets()>1){var i=e.sheetName?OB(this.parent,wB(this.parent,e.sheetName)):this.parent.getActiveSheet(),a=e.index||wB(this.parent,i.name),r={index:a,sheetCount:this.parent.sheets.length,sheetName:i.name};if(i.rows&&i.rows.length&&(1!==i.rows.length||i.rows[0].cells&&i.rows[0].cells.length)){var s=this.parent.serviceLocator.getService(vj);e.clicked?this.forceDelete(a):s.show({height:200,width:400,isModal:!0,showCloseIcon:!0,content:n.getConstant("DeleteSheetAlert"),beforeOpen:function(){return t.parent.element.focus()},buttons:[{buttonModel:{content:n.getConstant("Ok"),isPrimary:!0},click:function(){s.hide(),t.forceDelete(a),t.parent.notify("clearUndoRedoCollection",null),e&&!e.isAction&&(r.sheetCount=t.parent.sheets.length,t.parent.notify(kH,{eventArgs:r,action:"removeSheet"}))}}]})}else this.destroySheet(a),this.parent.notify(oH,{action:"deleteSheetTab",sheetName:"",index:a}),this.parent.notify("clearUndoRedoCollection",null),e&&!e.isAction&&(r.sheetCount=this.parent.sheets.length,this.parent.notify(kH,{eventArgs:r,action:"removeSheet"}))}else this.parent.serviceLocator.getService(vj).show({target:document.getElementById(this.parent.element.id+"_sheet_panel"),height:180,width:400,isModal:!0,showCloseIcon:!0,content:n.getConstant("DeleteSingleLastSheetAlert"),beforeOpen:function(){return t.parent.element.focus()}})}}},{key:"forceDelete",value:function(e){this.destroySheet(e),this.parent.notify(oH,{action:"deleteSheetTab",sheetName:"",index:e})}},{key:"destroySheet",value:function(e){var t=e||this.parent.activeSheetIndex;this.parent.removeSheet(t),this.parent.notify("sheetsDestroyed",{sheetIndex:t}),this.dropDownInstance.items.splice(t,1),this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0),this.tabInstance.removeTab(t);var n=this.parent.skipHiddenSheets(this.tabInstance.selectedItem);this.parent.setProperties({activeSheetIndex:n},!0),this.parent.renderModule.refreshSheet(),this.tabInstance.selectedItem=n,this.tabInstance.dataBind(),this.updateDropDownItems(n),this.parent.notify("protectSheet",null),this.parent.element.focus()}},{key:"showAggregate",value:function(){var e=this;nH(YF(this.parent.getActiveSheet().selectedRange))||zB((function(){var t={Count:0,Sum:"0",Avg:"0",Min:"0",Max:"0"};if(e.parent.notify("aggregateComputation",t),t.Count){e.aggregateContent||(e.aggregateContent=t.Sum?"Sum":"Count");var n=e.aggregateContent,i="".concat(n,": ").concat(t[n]);if(e.aggregateDropDown)e.updateAggregateContent(i,t);else{var a=e.parent.createElement("button");document.getElementById("".concat(e.parent.element.id,"_sheet_tab_panel")).appendChild(a),e.aggregateDropDown=new vL({content:i,items:e.getAggregateItems(t),select:function(n){return e.updateAggregateContent(n.item.text,t)},beforeOpen:function(t){return e.beforeOpenHandler(e.aggregateDropDown,t.element)},open:function(t){return e.openHandler(e.aggregateDropDown,t.element,"right")},close:function(){return e.parent.element.focus()},cssClass:"e-aggregate-list e-flat"}),e.aggregateDropDown.createElement=e.parent.createElement,e.aggregateDropDown.appendTo(a)}}}))}},{key:"getAggregateItems",value:function(e){var t,n,i=this,a=[];return Object.keys(e).forEach((function(r){"aggregateComputation"!==e[r]&&(t="".concat(r,": ").concat(e[r]),n=r===i.aggregateContent?"e-selected-icon e-icons":"",a.push({text:t,iconCss:n}))})),a}},{key:"updateAggregateContent",value:function(e,t){this.aggregateContent=e.split(": ")[0],this.aggregateDropDown.content=e,this.aggregateDropDown.dataBind(),this.aggregateDropDown.setProperties({items:this.getAggregateItems(t)},!0)}},{key:"removeAggregate",value:function(){this.aggregateDropDown&&nH(YF(this.parent.getActiveSheet().selectedRange))&&(this.aggregateDropDown.destroy(),JA(this.aggregateDropDown.element),this.aggregateDropDown=null)}},{key:"addEventListener",value:function(){this.parent.on("sheetTabs",this.createSheetTabs,this),this.parent.on("refreshSheetTabs",this.refreshSheetTab,this),this.parent.on("insertSheetTab",this.insertSheetTab,this),this.parent.on("removeSheetTab",this.removeSheetTab,this),this.parent.on("renameSheetTab",this.renameSheetTab,this),this.parent.on(yH,this.switchSheetTab,this),this.parent.on("activeSheetChanged",this.updateSheetTab,this),this.parent.on("renameSheet",this.renameInputFocusOut,this),this.parent.on("activeCellChanged",this.removeAggregate,this),this.parent.on("verticalScroll",this.focusRenameInput,this),this.parent.on("horizontalScroll",this.focusRenameInput,this),this.parent.on("sheetNameUpdate",this.updateSheetName,this),this.parent.on("hideSheet",this.hideSheet,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.dropDownInstance.destroy(),this.dropDownInstance=null,this.tabInstance.destroy(),this.tabInstance=null,this.aggregateDropDown=null,this.aggregateContent=null,this.addBtnRipple(),this.addBtnRipple=null,$I.remove(document,"mousedown touchstart",this.renameInputFocusOut);var e=document.getElementById(this.parent.element.id+"_sheet_tab_panel");e&&JA(e),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("sheetTabs",this.createSheetTabs),this.parent.off("refreshSheetTabs",this.refreshSheetTab),this.parent.off("insertSheetTab",this.insertSheetTab),this.parent.off("removeSheetTab",this.removeSheetTab),this.parent.off("renameSheetTab",this.renameSheetTab),this.parent.off(yH,this.switchSheetTab),this.parent.off("activeSheetChanged",this.updateSheetTab),this.parent.off("renameSheet",this.renameInputFocusOut),this.parent.off("activeCellChanged",this.removeAggregate),this.parent.off("verticalScroll",this.focusRenameInput),this.parent.off("horizontalScroll",this.focusRenameInput),this.parent.off("sheetNameUpdate",this.updateSheetName),this.parent.off("hideSheet",this.hideSheet))}}]),e}(),aj=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener(),this.renderFileUpload()}return _createClass(e,[{key:"addEventListener",value:function(){this.parent.on("openSuccess",this.openSuccess,this),this.parent.on("openFailure",this.openFailed,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("openSuccess",this.openSuccess),this.parent.off("openFailure",this.openFailed))}},{key:"renderFileUpload",value:function(){var e=this.parent.element.id+"_fileUpload";this.parent.element.appendChild(this.parent.createElement("input",{id:e,attrs:{type:"file",accept:".xls, .xlsx, .csv",name:"fileUpload"}}));var t=document.getElementById(e);t.onchange=this.fileSelect.bind(this),t.onerror=this.openFailed.bind(this),t.style.display="none"}},{key:"fileSelect",value:function(e){var t=e.target.files[0];t&&t.length<1||(this.parent.open({file:t}),document.getElementById(this.parent.element.id+"_fileUpload").value="")}},{key:"openSuccess",value:function(e){if(["UnsupportedFile","InvalidUrl"].indexOf(e.data)>-1)return this.parent.serviceLocator.getService(vj).show({content:this.parent.serviceLocator.getService("spreadsheetLocale").getConstant(e.data),width:"300"}),void this.parent.hideSpinner();this.parent.element&&(this.parent.trigger("openComplete",{response:e}),this.parent.notify(kH,{response:e,action:"import"}),this.parent.renderModule.refreshSheet(),this.parent.notify("refreshSheetTabs",this),this.parent.hideSpinner())}},{key:"openFailed",value:function(e){this.parent.trigger("openFailure",e),this.parent.hideSpinner()}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"open"}}]),e}(),rj=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("beginSave",this.initiateSave,this),this.parent.on("saveCompleted",this.saveCompleted,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("beginSave",this.initiateSave),this.parent.off("saveCompleted",this.saveCompleted))}},{key:"getModuleName",value:function(){return"save"}},{key:"initiateSave",value:function(e){this.parent.showSpinner()}},{key:"saveCompleted",value:function(e){this.parent.hideSpinner()}}]),e}(),sj=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.init()}return _createClass(e,[{key:"init",value:function(){this.initContextMenu(),this.addEventListener()}},{key:"initContextMenu",value:function(){var e=document.createElement("ul");e.id=this.parent.element.id+"_contextmenu",this.parent.element.appendChild(e),this.contextMenuInstance=new QN({cssClass:"e-spreadsheet-contextmenu",target:"#"+this.parent.element.id,filter:"e-numericcontainer e-active-cell e-selection e-row e-header-row e-select-all-cell e-sheet-tabs-items",select:this.selectHandler.bind(this),beforeOpen:this.beforeOpenHandler.bind(this),beforeClose:this.beforeCloseHandler.bind(this)},e)}},{key:"beforeCloseHandler",value:function(e){this.parent.trigger("contextMenuBeforeClose",e)}},{key:"selectHandler",value:function(e){var t=ZO({cancel:!1},e);this.parent.trigger("contextMenuItemSelect",t);var n,i=this.parent.element.id+"_cmenu";if(!t.cancel)switch(this.parent.serviceLocator.getService(gj),e.item.id){case i+"_cut":this.parent.notify("cut",{isAction:!0,promise:Promise});break;case i+"_copy":this.parent.notify("copy",{isAction:!0,promise:Promise});break;case i+"_paste":this.parent.notify("paste",{isAction:!0});break;case i+"_pastevalues":this.parent.notify("paste",{type:"Values",isAction:!0});break;case i+"_pasteformats":this.parent.notify("paste",{type:"Formats",isAction:!0});break;case i+"_rename":this.parent.notify("renameSheetTab",{});break;case i+"_delete_sheet":this.parent.notify("removeSheetTab",{});break;case i+"_insert_sheet":this.parent.notify("insertModel",{model:this.parent,start:this.parent.activeSheetIndex,end:this.parent.activeSheetIndex,modelType:"Sheet",isAction:!0});break;case i+"_hide_sheet":this.parent.notify("hideSheet",null);break;case i+"_ascending":this.parent.notify("applySort",null);break;case i+"_descending":this.parent.notify("applySort",{sortOptions:{sortDescriptors:{order:"Descending"}}});break;case i+"_customsort":this.parent.notify("initiateCustomSort",null);break;case i+"_filtercellvalue":this.parent.notify("filterByCellValue",null);break;case i+"_clearfilter":var a=ZF(GF(this.parent.getActiveSheet().activeCell)[1]+1);this.parent.notify("clearFilter",{field:a});break;case i+"_reapplyfilter":this.parent.notify("reapplyFilter",null);break;case i+"_hide_row":n=YF(this.parent.getActiveSheet().selectedRange),this.parent.notify("hideShow",{startIndex:n[0],endIndex:n[2],hide:!0,isCol:!1,actionUpdate:!0}),this.parent.element.focus();break;case i+"_unhide_row":n=YF(this.parent.getActiveSheet().selectedRange),this.parent.notify("hideShow",{startIndex:n[0],endIndex:n[2],hide:!1,isCol:!1,actionUpdate:!0}),this.parent.element.focus();break;case i+"_hide_column":n=YF(this.parent.getActiveSheet().selectedRange),this.parent.notify("hideShow",{startIndex:n[1],endIndex:n[3],hide:!0,isCol:!0,actionUpdate:!0}),this.parent.element.focus();break;case i+"_unhide_column":n=YF(this.parent.getActiveSheet().selectedRange),this.parent.notify("hideShow",{startIndex:n[1],endIndex:n[3],hide:!1,isCol:!0,actionUpdate:!0}),this.parent.element.focus();break;case i+"_insert_row_above":case i+"_delete_row":n=YF(this.parent.getActiveSheet().selectedRange),this.parent.notify("".concat(e.item.id.substr(i.length+1,6),"Model"),{model:this.parent.getActiveSheet(),start:n[0],end:n[2],modelType:"Row",isAction:!0}),this.parent.element.focus();break;case i+"_insert_row_below":n=eH(YF(this.parent.getActiveSheet().selectedRange)),this.parent.notify("insertModel",{model:this.parent.getActiveSheet(),start:n[2]+1,end:n[2]+1+(n[2]-n[0]),modelType:"Row",isAction:!0}),this.parent.element.focus();break;case i+"_insert_column_before":case i+"_delete_column":n=YF(this.parent.getActiveSheet().selectedRange),this.parent.notify("".concat(e.item.id.substr(i.length+1,6),"Model"),{model:this.parent.getActiveSheet(),start:n[1],end:n[3],modelType:"Column",isAction:!0}),this.parent.element.focus();break;case i+"_insert_column_after":n=eH(YF(this.parent.getActiveSheet().selectedRange)),this.parent.notify("insertModel",{model:this.parent.getActiveSheet(),start:n[3]+1,end:n[3]+1+(n[3]-n[1]),modelType:"Column",isAction:!0}),this.parent.element.focus();break;case i+"_hyperlink":this.parent.notify("initiateHyperlink",null);break;case i+"_editHyperlink":this.parent.notify("editHyperlink",null);break;case i+"_openHyperlink":this.parent.notify("openHyperlink",null);break;case i+"_removeHyperlink":this.parent.removeHyperlink(this.parent.getActiveSheet().selectedRange);break;case i+"_protect":var r,s=this.parent.getActiveSheet();s.isProtected=!s.isProtected,r=!s.isProtected,this.parent.notify("applyProtect",{isActive:r})}}},{key:"getInsertModel",value:function(e,t){for(var n=[],i=e;i<=t;i++)n.push(i===e?{index:i}:{});return n}},{key:"beforeOpenHandler",value:function(e){var t,n=this.getTarget(e.event.target);e.element.classList.contains("e-contextmenu")?(t=this.getDataSource(n),this.contextMenuInstance.items=t,this.contextMenuInstance.dataBind()):t=e.items,this.parent.trigger("contextMenuBeforeOpen",e),this.parent.notify(yH,ZO(e,{target:n,items:t}))}},{key:"getTarget",value:function(e){return nD(e,".e-sheet-content")?"Content":nD(e,".e-column-header")?"ColumnHeader":nD(e,".e-row-header")?"RowHeader":nD(e,".e-sheet-tabs-items")?"Footer":nD(e,".e-selectall-container")?"SelectAll":""}},{key:"getDataSource",value:function(e){var t=this.parent.serviceLocator.getService(gj),n=[],i=this.parent.element.id+"_cmenu";if("Content"===e)this.setClipboardData(n,t,i),n.push({separator:!0}),this.setFilterItems(n,i),this.setSortItems(n,i),n.push({separator:!0}),this.setHyperLink(n,i);else if("RowHeader"===e){this.setClipboardData(n,t,i);var a=YF(this.parent.getActiveSheet().selectedRange);this.setInsertDeleteItems(n,t,"Row",i,[a[0],a[2]],["Above","Below"]),this.setHideShowItems(n,t,"Row",i,[a[0],a[2]])}else if("ColumnHeader"===e){this.setClipboardData(n,t,i);var r=YF(this.parent.getActiveSheet().selectedRange);this.setInsertDeleteItems(n,t,"Column",i,[r[1],r[3]],["Before","After"]),this.setHideShowItems(n,t,"Column",i,[r[1],r[3]])}else"SelectAll"===e?(this.setClipboardData(n,t,i),this.setFilterItems(n,i),this.setSortItems(n,i)):"Footer"===e&&(n.push({text:t.getConstant("Insert"),id:i+"_insert_sheet"}),n.push({text:t.getConstant("Delete"),iconCss:"e-icons e-delete",id:i+"_delete_sheet"}),n.push({text:t.getConstant("Rename"),id:i+"_rename"}),n.push({text:t.getConstant("Hide"),id:i+"_hide_sheet"}),this.setProtectSheetItems(n,i));return n}},{key:"setProtectSheetItems",value:function(e,t){var n=this.parent.serviceLocator.getService(gj);this.parent.getActiveSheet().isProtected?e.push({text:n.getConstant("UnprotectSheet"),id:t+"_protect",iconCss:"e-icons e-protect-icon"}):e.push({text:n.getConstant("ProtectSheet"),id:t+"_protect",iconCss:"e-icons e-protect-icon"})}},{key:"setFilterItems",value:function(e,t){if(this.parent.allowFiltering){var n=this.parent.serviceLocator.getService(gj),i={clearFilterText:null,isFiltered:!1};this.parent.notify("getFilteredColumn",i),e.push({text:n.getConstant("Filter"),id:t+"_filter",iconCss:"",items:[{text:i.clearFilterText,iconCss:"e-icons e-filter-clear",id:t+"_clearfilter"},{text:n.getConstant("ReapplyFilter"),iconCss:"e-icons e-filter-reapply",id:t+"_reapplyfilter"},{separator:!0},{text:n.getConstant("FilterCellValue"),iconCss:"",id:t+"_filtercellvalue"}]})}}},{key:"setSortItems",value:function(e,t){var n=this.parent.serviceLocator.getService(gj);this.parent.allowSorting&&e.push({text:n.getConstant("Sort"),id:t+"_sort",iconCss:"e-icons e-sort-icon",items:[{text:n.getConstant("SortAscending"),iconCss:"e-icons e-sort-asc",id:t+"_ascending"},{text:n.getConstant("SortDescending"),iconCss:"e-icons e-sort-desc",id:t+"_descending"},{text:n.getConstant("CustomSort")+"...",iconCss:"e-icons e-sort-custom",id:t+"_customsort"}]})}},{key:"setHyperLink",value:function(e,t){var n=this.parent.getActiveSheet();if(this.parent.allowHyperlink){var i=this.parent.serviceLocator.getService(gj);!document.activeElement.getElementsByClassName("e-hyperlink")[0]&&!document.activeElement.classList.contains("e-hyperlink")||n.isProtected&&!n.protectSettings.insertLink?e.push({text:i.getConstant("Hyperlink"),iconCss:"e-icons e-hyperlink-icon",id:t+"_hyperlink"}):e.push({text:i.getConstant("EditHyperlink"),iconCss:"e-icons e-edithyperlink-icon",id:t+"_editHyperlink"},{text:i.getConstant("OpenHyperlink"),iconCss:"e-icons e-openhyperlink-icon",id:t+"_openHyperlink"},{text:i.getConstant("RemoveHyperlink"),iconCss:"e-icons e-removehyperlink-icon",id:t+"_removeHyperlink"})}}},{key:"setClipboardData",value:function(e,t,n){this.parent.enableClipboard&&(e.push({text:t.getConstant("Cut"),iconCss:"e-icons e-cut-icon",id:n+"_cut"}),e.push({text:t.getConstant("Copy"),iconCss:"e-icons e-copy-icon",id:n+"_copy"}),e.push({text:t.getConstant("Paste"),iconCss:"e-icons e-paste-icon",id:n+"_paste"}),e.push({text:t.getConstant("PasteSpecial"),id:n+"_pastespecial",items:[{text:t.getConstant("Values"),id:n+"_pastevalues"},{text:t.getConstant("Formats"),id:n+"_pasteformats"}]}))}},{key:"setInsertDeleteItems",value:function(e,t,n,i,a,r){e.push({separator:!0}),["Insert","Delete"].forEach((function(s){e.push(a[0]===a[1]?{text:t.getConstant("".concat(s).concat(n)),id:i+"_".concat(s.toLowerCase(),"_").concat(n.toLowerCase())}:{text:t.getConstant("".concat(s).concat(n,"s")),id:i+"_".concat(s.toLowerCase(),"_").concat(n.toLowerCase())}),"Insert"===s&&(e[e.length-1].items=[],r.forEach((function(n){e[e.length-1].items.push({text:t.getConstant(n),id:"".concat(e[e.length-1].id,"_").concat(n.toLowerCase())})})))}))}},{key:"setHideShowItems",value:function(e,t,n,i,a){e.push(a[0]===a[1]?{text:t.getConstant("Hide".concat(n)),id:i+"_hide_".concat(n.toLowerCase())}:{text:t.getConstant("Hide".concat(n,"s")),id:i+"_hide_".concat(n.toLowerCase())}),this.parent.hiddenCount(a[0],a[1],"".concat(n.toLowerCase(),"s"))&&e.push({text:t.getConstant("UnHide".concat(n,"s")),id:i+"_unhide_".concat(n.toLowerCase())})}},{key:"addEventListener",value:function(){this.parent.on("addContextMenuItems",this.addItemsHandler,this),this.parent.on("removeContextMenuItems",this.removeItemsHandler,this),this.parent.on("enableContextMenuItems",this.enableItemsHandler,this)}},{key:"addItemsHandler",value:function(e){e.insertAfter?this.contextMenuInstance.insertAfter(e.items,e.text,e.isUniqueId):this.contextMenuInstance.insertBefore(e.items,e.text,e.isUniqueId)}},{key:"removeItemsHandler",value:function(e){this.contextMenuInstance.removeItems(e.items,e.isUniqueId)}},{key:"enableItemsHandler",value:function(e){this.contextMenuInstance.enableItems(e.items,e.enable,e.isUniqueId)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("addContextMenuItems",this.addItemsHandler),this.parent.off("removeContextMenuItems",this.removeItemsHandler),this.parent.off("enableContextMenuItems",this.enableItemsHandler))}},{key:"getModuleName",value:function(){return"contextMenu"}},{key:"destroy",value:function(){this.removeEventListener(),this.contextMenuInstance.destroy();var e=document.getElementById(this.parent.element.id+"_contextmenu");e&&ZA(e),this.parent=null}}]),e}(),lj=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"refreshCellElement",value:function(e){var t=this.parent.getCell(e.rowIndex,e.colIndex);JO(t)||this.parent.refreshNode(t,e)}},{key:"addEventListener",value:function(){this.parent.on("refreshCellElem",this.refreshCellElement,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||this.parent.off("refreshCellElem",this.refreshCellElement)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"getModuleName",value:function(){return"numberFormat"}}]),e}(),oj=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("applySort",this.applySortHandler,this),this.parent.on("sortComplete",this.sortCompleteHandler,this),this.parent.on("initiateCustomSort",this.initiateCustomSortHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("applySort",this.applySortHandler),this.parent.off("sortComplete",this.sortCompleteHandler),this.parent.off("initiateCustomSort",this.initiateCustomSortHandler))}},{key:"getModuleName",value:function(){return"sort"}},{key:"isValidSortRange",value:function(){var e=this.parent.getActiveSheet(),t=eH(JF(e.selectedRange));return!(t[0]>e.usedRange.rowIndex||t[1]>e.usedRange.colIndex)}},{key:"sortRangeAlertHandler",value:function(e){this.parent.serviceLocator.getService(vj).show({height:180,width:400,isModal:!0,showCloseIcon:!0,content:e.error}),this.parent.hideSpinner()}},{key:"initiateCustomSortHandler",value:function(){var e=this,t=this.parent.serviceLocator.getService(gj);if(this.isValidSortRange()){var n=this.parent.serviceLocator.getService(vj);n.show({height:400,width:560,isModal:!0,showCloseIcon:!0,cssClass:"e-customsort-dlg",header:t.getConstant("CustomSort"),beforeOpen:function(){n.dialogInstance.content=e.customSortContent(),n.dialogInstance.dataBind(),e.parent.element.focus()},buttons:[{buttonModel:{content:t.getConstant("Ok"),isPrimary:!0},click:function(){var t=n.dialogInstance.content,i=oD(t.getElementsByClassName("e-list-sort e-listview e-lib")[0],"listview").dataSource;e.clearError();var a=t.getElementsByClassName("e-sort-error")[0];if(a.style.display="block",!e.validateError(i,t,a)){n.hide();var r=oD(t.getElementsByClassName("e-sort-checkheader")[0],"checkbox"),s=oD(t.getElementsByClassName("e-sort-checkcase")[0],"checkbox");e.applySortHandler({sortOptions:{sortDescriptors:i,containsHeader:r.checked,caseSensitive:s.checked}})}}}]})}else this.sortRangeAlertHandler({error:t.getConstant("SortOutOfRangeError")})}},{key:"validateError",value:function(e,t,n){var i=this.parent.serviceLocator.getService(gj);if(e.some((function(e){return""===e.field.toString()})))return Array.prototype.some.call(t.getElementsByClassName("e-sort-field"),(function(e){var t=!oD(e,"dropdownlist").value;return t&&e.parentElement.classList.add("e-error"),t})),n.innerText=i.getConstant("SortEmptyFieldError"),!0;var a=new Set,r="",s=e.some((function(e){return r=e.field.toString(),a.size===a.add(e.field).size})),l="";if(s){var o=0;return Array.prototype.some.call(t.getElementsByClassName("e-sort-field"),(function(e){var t=oD(e,"dropdownlist");return t.value===r&&(e.parentElement.classList.add("e-error"),l=t.text,o++),2===o})),n.innerHTML="<strong>"+l+"</strong>"+i.getConstant("SortDuplicateFieldError"),!0}return!1}},{key:"customSortContent",value:function(){var e=this.parent.createElement("div",{className:"e-sort-dialog"}),t=this.getFields(),n=eI("customSort"),i=this.getCustomListview(n);this.setHeaderTab(e,i,t);var a=this.parent.createElement("div",{className:"e-sort-listsection",styles:""});e.appendChild(a);var r=this.parent.createElement("div",{className:"e-list-sort",styles:""});a.appendChild(r),i.createElement=this.parent.createElement,i.appendTo(r),this.renderListItem(n,i,!0,t);var s=this.parent.createElement("div",{className:"e-sort-error"});return e.appendChild(s),e}},{key:"getFields",value:function(){var e=this.parent.getActiveSheet(),t=eH(JF(e.selectedRange));if(t[0]===t[2]&&t[2]-t[0]==0){t[0]=0,t[1]=0,t[3]=e.usedRange.colIndex;var n={filterRange:[],hasFilter:!1};this.parent.notify("getFilterRange",n),n.hasFilter&&n.filterRange&&(t[0]=n.filterRange[0])}for(var i,a=[];t[1]<=t[3];t[1]++){var r=mB(t[0],t[1],e);if(r&&r.value){var s={formattedText:r.value,value:r.value,format:r.format,onLoad:!0};r.format&&this.parent.notify("getFormattedCell",s),i=s.formattedText}else i="Column "+ZF(t[1]+1);a.push({text:i,value:"Column "+ZF(t[1]+1)})}return a}},{key:"setHeaderTab",value:function(e,t,n){var i=this,a=this.parent.serviceLocator.getService(gj),r=this.parent.createElement("div",{className:"e-sort-header",styles:"",innerHTML:""});e.appendChild(r);var s=this.parent.createElement("button",{className:"e-btn e-sort-addbtn e-flat",innerHTML:a.getConstant("AddColumn")}),l=this.parent.element.querySelector(".e-customsort-dlg .e-footer-content");l.insertBefore(s,l.firstElementChild),s.addEventListener("click",(function(){if(t){var e=eI("customSort");t.addItem([{id:e,text:a.getConstant("ThenBy"),field:"",order:"ascending"}]),i.renderListItem(e,t,o.checked,n,!0)}}));var o=new GM({label:a.getConstant("ContainsHeader"),checked:!0,change:function(t){var i=t.checked?{text:"text",value:"value"}:{text:"value"};Array.prototype.forEach.call(e.getElementsByClassName("e-sort-field e-dropdownlist e-lib"),(function(e){var t=oD(e,"dropdownlist");t.dataSource=null,t.dataSource=n,t.fields=i,t.dataBind()}))},cssClass:"e-sort-headercheckbox"}),u=this.parent.createElement("input",{className:"e-sort-checkheader",attrs:{type:"checkbox"}});r.appendChild(u),o.createElement=this.parent.createElement,o.appendTo(u);var c=new GM({label:a.getConstant("CaseSensitive"),checked:!1,cssClass:"e-sort-casecheckbox"}),h=this.parent.createElement("input",{className:"e-sort-checkcase",attrs:{type:"checkbox"}});r.appendChild(h),c.createElement=this.parent.createElement,c.appendTo(h)}},{key:"getCustomListview",value:function(e){var t=[{id:e,text:this.parent.serviceLocator.getService(gj).getConstant("SortBy"),field:"",order:"ascending"}];return RD=!1,new hT({dataSource:t,fields:{id:"id"},height:"100%",template:'<div class="e-sort-listwrapper"><span class="text">${text}</span><div class="e-sort-row"><div class="e-sort-field"></div><div class="e-sort-order"><span class="e-sort-ordertxt" style="display:none;">${order}</span></div><span class="e-icons e-sort-delete"></span></div>',cssClass:"e-sort-template"})}},{key:"deleteHandler",value:function(e,t){e.getElementsByClassName("e-sort-delete")[0].addEventListener("click",(function(){e&&t.removeItem(e)}))}},{key:"renderListItem",value:function(e,t,n,i,a){var r=this,s=this.parent.serviceLocator.getService(gj),l=t.element.querySelector("li[data-uid="+e+"]"),o=n?{text:"text",value:"value"}:{text:"value"},u=l.getElementsByClassName("e-sort-field")[0],c=new YR({dataSource:i,width:"auto",cssClass:"e-sort-field-ddl",fields:o,placeholder:s.getConstant("SelectAColumn"),change:function(n){n.value&&(Array.prototype.some.call(t.dataSource,(function(t){return t.id===e&&(t.field=n.value.toString().replace("Column ","")),t.id===e})),r.clearError())}});c.createElement=this.parent.createElement,c.appendTo(u),a||(c.index=0);var h=l.getElementsByClassName("e-sort-order")[0],d="ascending"===h.getElementsByClassName("e-sort-ordertxt")[0].innerText.toLocaleLowerCase(),p=new KM({label:s.getConstant("SortAscending"),name:"sortAZ_"+e,value:"ascending",checked:d,cssClass:"e-sort-radiobutton",change:function(n){r.setRadioBtnValue(t,e,n.value)}}),f=this.parent.createElement("input",{id:"orderAsc_"+e,className:"e-sort-radioasc",styles:"",attrs:{type:"radio"}});h.appendChild(f),p.createElement=this.parent.createElement,p.appendTo(f);var m=new KM({label:s.getConstant("SortDescending"),name:"sortAZ_"+e,value:"descending",checked:!d,cssClass:"e-sort-radiobutton",change:function(n){r.setRadioBtnValue(t,e,n.value)}}),g=this.parent.createElement("input",{id:"orderDesc_"+e,className:"e-sort-radiodesc",styles:"",attrs:{type:"radio"}});h.appendChild(g),m.createElement=this.parent.createElement,m.appendTo(g),this.deleteHandler(l,t)}},{key:"setRadioBtnValue",value:function(e,t,n){n&&Array.prototype.some.call(e.dataSource,(function(e){return e.id===t&&(e.order=n),e.id===t}))}},{key:"clearError",value:function(){var e=document.getElementsByClassName("e-sort-dialog")[0],t=e.getElementsByClassName("e-sort-error")[0];"none"!==t.style.display&&""!==t.innerHTML&&(t.style.display="none",Array.prototype.forEach.call(e.getElementsByClassName("e-error"),(function(e){e.classList.remove("e-error")})))}},{key:"applySortHandler",value:function(e){var t=this,n=this.parent.getActiveSheet(),i={range:e&&e.range||n.selectedRange,sortOptions:e&&e.sortOptions||{sortDescriptors:{}},cancel:!1};if(this.parent.trigger("beforeSort",i),!i.cancel){this.parent.notify(CH,{eventArgs:i,action:"beforeSort"}),this.parent.showSpinner();var a=eH(JF(i.range)),r={filterRange:[],hasFilter:!1};a[0]===a[2]&&a[2]-a[0]==0&&(this.parent.notify("getFilterRange",r),r.hasFilter&&r.filterRange&&(a[0]=r.filterRange[0],a[1]=0,a[2]=n.usedRange.rowIndex,a[3]=n.usedRange.colIndex,i.sortOptions.containsHeader=!0)),this.parent.sort(i.sortOptions,$F(a)).then((function(e){return t.parent.trigger("sortComplete",e),t.parent.notify(kH,{eventArgs:e,action:"sorting"}),Promise.resolve(e)})).catch((function(e){return t.sortRangeAlertHandler({error:e}),Promise.reject(e)}))}}},{key:"sortCompleteHandler",value:function(e){var t=JF(e.range);e.sortOptions.containsHeader&&(t[0]+=1),this.parent.serviceLocator.getService("cell").refreshRange(t),this.parent.hideSpinner()}}]),e}(),uj=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.filterCollection=new Map,this.filterClassList=new Map,this.filterRange=new Map,this.addEventListener()}return _createClass(e,[{key:"destroy",value:function(){this.removeEventListener(),this.filterRange=null,this.filterCollection=null,this.filterClassList=null,this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("filterRangeAlert",this.filterRangeAlertHandler,this),this.parent.on("initiateFilterUI",this.initiateFilterUIHandler,this),this.parent.on("mouseDown",this.filterMouseDownHandler,this),this.parent.on("renderFilterCell",this.renderFilterCellHandler,this),this.parent.on("clearAllFilter",this.clearAllFilterHandler,this),this.parent.on("before-filter-cmenu-open",this.beforeFilterMenuOpenHandler,this),this.parent.on("beforeCustomFilterOpen",this.beforeCustomFilterOpenHandler,this),this.parent.on("reapplyFilter",this.reapplyFilterHandler,this),this.parent.on("filterByCellValue",this.filterByCellValueHandler,this),this.parent.on("clearFilter",this.clearFilterHandler,this),this.parent.on("getFilteredColumn",this.getFilteredColumnHandler,this),this.parent.on(yH,this.cMenuBeforeOpenHandler,this),this.parent.on("filter-cbox-value",this.filterCboxValueHandler,this),this.parent.on("getFilterRange",this.getFilterRangeHandler,this),this.parent.on("filterCellKeyDown",this.filterCellKeyDownHandler,this)}},{key:"removeEventListener",value:function(){this.parent.isDestroyed||(this.parent.off("filterRangeAlert",this.filterRangeAlertHandler),this.parent.off("initiateFilterUI",this.initiateFilterUIHandler),this.parent.off("mouseDown",this.filterMouseDownHandler),this.parent.off("renderFilterCell",this.renderFilterCellHandler),this.parent.off("clearAllFilter",this.clearAllFilterHandler),this.parent.off("before-filter-cmenu-open",this.beforeFilterMenuOpenHandler),this.parent.off("beforeCustomFilterOpen",this.beforeCustomFilterOpenHandler),this.parent.off("reapplyFilter",this.reapplyFilterHandler),this.parent.off("filterByCellValue",this.filterByCellValueHandler),this.parent.off("clearFilter",this.clearFilterHandler),this.parent.off("getFilteredColumn",this.getFilteredColumnHandler),this.parent.off(yH,this.cMenuBeforeOpenHandler),this.parent.on("filter-cbox-value",this.filterCboxValueHandler),this.parent.off("getFilterRange",this.getFilterRangeHandler),this.parent.off("filterCellKeyDown",this.filterCellKeyDownHandler))}},{key:"getModuleName",value:function(){return"filter"}},{key:"isInValidFilterRange",value:function(e){var t=eH(JF(e.selectedRange));return t[0]>e.usedRange.rowIndex||t[1]>e.usedRange.colIndex}},{key:"filterRangeAlertHandler",value:function(e){this.parent.serviceLocator.getService(vj).show({content:e.error,isModal:!0,height:180,width:400,showCloseIcon:!0}),this.parent.hideSpinner()}},{key:"beforeFilterMenuOpenHandler",value:function(e){var t=this.parent.serviceLocator.getService(gj);e.element.classList.add("e-spreadsheet-contextmenu");var n=e.element.querySelector("ul");this.addMenuItem(n,t.getConstant("SortDescending"),"e-filter-sortdesc","e-sort-desc"),this.addMenuItem(n,t.getConstant("SortAscending"),"e-filter-sortasc","e-sort-asc"),e.element.appendChild(n)}},{key:"addMenuItem",value:function(e,t,n,i){var a=this.parent.createElement("li",{className:n+" e-menu-item"});a.innerHTML=t,a.insertBefore(this.parent.createElement("span",{className:"e-menu-icon e-icons "+i}),a.firstChild),e.insertBefore(a,e.firstChild)}},{key:"initiateFilterUIHandler",value:function(e){var t=this,n=e?e.predicates:null,i=this.parent.activeSheetIndex;if(!(this.filterRange.size>0&&this.filterRange.has(i))||(this.removeFilter(i),n)){var a=OB(this.parent,i);if(this.isInValidFilterRange(a)){var r=this.parent.serviceLocator.getService(gj);this.filterRangeAlertHandler({error:r.getConstant("FilterOutOfRangeError")})}else if(this.processRange(a,i,e?e.range:null),n){var s=this.filterRange.get(i).slice();s[0]=s[0]+1,s[2]=a.usedRange.rowIndex,bB(this.parent,"".concat(a.name,"!").concat($F(s)),!0,!0).then((function(e){t.filterSuccessHandler(new AM(e),{action:"filtering",filterCollection:n,field:n[0].field}),n.forEach((function(e){t.filterClassList.get(i)[e.field].indexOf(" e-filtered")<0&&(t.filterClassList.get(i)[e.field]+=" e-filtered")})),t.refreshFilterRange()}))}}}},{key:"processRange",value:function(e,t,n){var i=eH(JF(n||e.selectedRange));i[0]===i[2]&&i[2]-i[0]==0&&(i[0]=0,i[1]=0,i[2]=e.usedRange.rowIndex,i[3]=e.usedRange.colIndex),this.filterRange.set(t,i),this.filterCollection.set(t,[]),this.filterClassList.set(t,{}),this.refreshFilterRange(i)}},{key:"removeFilter",value:function(e){this.filterCollection.get(e).length&&this.parent.clearFilter();var t=this.filterRange.get(e).slice();this.filterRange.delete(e),this.filterCollection.delete(e),this.filterClassList.delete(e),this.refreshFilterRange(t,!0)}},{key:"filterByCellValueHandler",value:function(){var e=this,t=this.parent.activeSheetIndex,n=this.parent.getActiveSheet();if(this.isInValidFilterRange(n)){var i=this.parent.serviceLocator.getService(gj);this.filterRangeAlertHandler({error:i.getConstant("FilterOutOfRangeError")})}else{var a=GF(n.activeCell);this.isFilterRange(t,a[0],a[1])||this.processRange(n,t);var r=this.filterRange.get(t).slice();r[0]=r[0]+1,r[2]=n.usedRange.rowIndex;var s=ZF(a[1]+1),l=this.getColumnType(n,a[1]+1,r),o=[{field:s,operator:"date"===l||"datetime"===l||"boolean"===l?"equal":"contains",value:mB(a[0],a[1],n).value,matchCase:!1,type:l}];bB(this.parent,"".concat(n.name,"!").concat($F(r)),!0,!0).then((function(t){e.filterSuccessHandler(new AM(t),{action:"filtering",filterCollection:o,field:s})}))}}},{key:"renderFilterCellHandler",value:function(e){var t=this.parent.activeSheetIndex;if(this.filterRange.has(t)&&this.isFilterCell(t,e.rowIndex,e.colIndex)){if(!e.td)return;var n=ZF(e.colIndex+1);if(this.filterClassList.has(t)&&!this.filterClassList.get(t)[n]&&(this.filterClassList.get(t)[n]=""),e.td.querySelector(".e-filter-btn"))oD(e.td.querySelector(".e-filter-iconbtn"),"btn").iconCss="e-icons e-filter-icon"+this.filterClassList.get(t)[n];else{var i=this.parent.createElement("div",{className:"e-filter-btn"}),a=new zM({iconCss:"e-icons e-filter-icon"+this.filterClassList.get(t)[n],cssClass:"e-filter-iconbtn"});e.td.insertBefore(i,e.td.firstChild),a.createElement=this.parent.createElement,a.appendTo(i)}}}},{key:"refreshFilterRange",value:function(e,t){for(var n=e||this.filterRange.get(this.parent.activeSheetIndex).slice(),i=n[1];i<=n[3];i++){var a=this.parent.getCell(n[0],i);if(t){if(a.hasChildNodes()){var r=a.querySelector(".e-filter-btn");a.removeChild(r)}}else this.renderFilterCellHandler({td:a,rowIndex:n[0],colIndex:i})}}},{key:"isFilterCell",value:function(e,t,n){var i=this.filterRange.get(e);return i&&i[0]===t&&i[1]<=n&&i[3]>=n}},{key:"isFilterRange",value:function(e,t,n){var i=this.filterRange.get(e);return i&&i[0]<=t&&i[2]>=t&&i[1]<=n&&i[3]>=n}},{key:"getFilteredColumnHandler",value:function(e){var t=this.parent.activeSheetIndex,n=this.parent.serviceLocator.getService(gj);if(e.clearFilterText=n.getConstant("ClearFilter"),this.filterRange.has(t)){var i=this.filterCollection.get(t);if(e.isClearAll)return void(e.isFiltered=i&&i.length>0);var a=this.filterRange.get(t).slice(),r=this.parent.getActiveSheet(),s=GF(r.activeCell);if(this.isFilterRange(t,s[0],s[1])){e.field=ZF(s[1]+1);var l=mB(a[0],s[1],r),o=this.parent.getDisplayText(l);e.clearFilterText=n.getConstant("ClearFilterFrom")+'"'+(o?o.toString():"Column "+e.field)+'"',i.some((function(t){return e.isFiltered=t.field===e.field,e.isFiltered}))}}}},{key:"cMenuBeforeOpenHandler",value:function(e){var t=this.parent.element.id+"_cmenu";if(e.parentItem&&e.parentItem.id===t+"_filter"&&""===e.target){var n={isFiltered:!1};this.getFilteredColumnHandler(n),this.parent.enableContextMenuItems([t+"_clearfilter",t+"_reapplyfilter"],!!n.isFiltered,!0)}}},{key:"closeDialog",value:function(){var e=oD(this.parent.element.querySelector(".e-filter-popup"),"dialog");e&&e.hide()}},{key:"isPopupOpened",value:function(){var e=this.parent.element.querySelector(".e-filter-popup");return e&&"none"!==e.style.display}},{key:"filterCellKeyDownHandler",value:function(e){var t=this.parent.activeSheetIndex,n=this.parent.getActiveSheet(),i=GF(n.activeCell);if(this.isFilterCell(t,i[0],i[1])){e.isFilterCell=!0;var a=$B(n,i),r=this.parent.getCell(i[0],i[1]);this.isPopupOpened()&&this.closeDialog(),this.openDialog(r,a.left,a.top)}else e.isFilterCell=!1}},{key:"filterMouseDownHandler",value:function(e){var t=e.target;if(t.classList.contains("e-filter-icon")){if(this.isPopupOpened())return void this.closeDialog();this.openDialog(t,e.x,e.y)}else this.isPopupOpened()&&(t.classList.contains("e-searchinput")||t.classList.contains("e-searchclear")||!t.offsetParent||t.offsetParent.classList.contains("e-filter-popup")?this.selectSortItemHandler(t):this.closeDialog())}},{key:"openDialog",value:function(e,t,n){var i=this,a=IF(e,"e-cell"),r=parseInt(a.getAttribute("aria-colindex"),10),s=ZF(r);this.parent.showSpinner();var l=this.parent.activeSheetIndex,o=this.filterRange.get(l).slice(),u=this.parent.getActiveSheet(),c=mB(o[0],r-1,u),h=this.parent.getDisplayText(c);o[0]=o[0]+1,o[2]=u.usedRange.rowIndex,bB(this.parent,"".concat(u.name,"!").concat($F(o)),!0,!0).then((function(a){var c;a.some((function(e,t){return e&&(c=new AM(a.slice(t))),!!e}));var d={type:i.getColumnType(u,r,o),field:s,displayName:h||"Column "+s,dataSource:c,height:i.parent.element.classList.contains("e-bigger")?800:500,columns:[],hideSearchbox:!1,filteredColumns:i.filterCollection.get(l),column:{field:s,filter:{}},handler:i.filterSuccessHandler.bind(i,new AM(a)),target:e,position:{X:t,Y:n},localeObj:i.parent.serviceLocator.getService(gj)};new WF(i.parent,i.getLocalizedCustomOperators()).openDialog(d),i.parent.hideSpinner()}))}},{key:"filterCboxValueHandler",value:function(e){if(e.column&&e.data){var t=GF(e.column.field+e.data.dataObj.__rowIndex),n=mB(t[0],t[1],this.parent.getActiveSheet());n&&n.format&&(e.value=this.parent.getDisplayText(n))}}},{key:"selectSortItemHandler",value:function(e){var t=e.classList.contains("e-filter-sortasc")?"Ascending":e.classList.contains("e-filter-sortdesc")?"Descending":null;if(t){var n=this.parent.getActiveSheet(),i=this.parent.activeSheetIndex,a=this.filterRange.get(i).slice();a[0]=a[0]+1,a[2]=n.usedRange.rowIndex,this.parent.notify("applySort",{sortOptions:{sortDescriptors:{order:t}},range:$F(a)});for(var r=ZF(JF(n.activeCell)[1]+1),s=0,l=Object.keys(this.filterClassList.get(i));s<l.length;s++){var o=l[s],u=this.filterClassList.get(i)[o].replace(/\se-sortasc-filter|\se-sortdesc-filter/gi,"");o===r&&(u+="Ascending"===t?" e-sortasc-filter":" e-sortdesc-filter"),this.filterClassList.get(i)[o]=u}this.refreshFilterRange(),this.closeDialog()}}},{key:"filterSuccessHandler",value:function(e,t){for(var n=this.parent.activeSheetIndex,i=this.filterCollection.get(n),a=new AM(i),r=new kM,s=a.executeLocal(r.where("field","equal",t.field)),l=0;l<s.length;l++){for(var o=-1,u=0;u<i.length;u++)if(i[u].field===s[l].field){o=u;break}-1!==o&&i.splice(o,1)}"filtering"===t.action?(i=i.concat(t.filterCollection)).length&&this.filterClassList.get(n)[t.field].indexOf(" e-filtered")<0&&(this.filterClassList.get(n)[t.field]+=" e-filtered"):this.filterClassList.get(n)[t.field]=this.filterClassList.get(n)[t.field].replace(" e-filtered",""),this.filterCollection.set(n,i);var c={datasource:e,predicates:this.getPredicates(n)};this.filterRange.get(n)[2]=OB(this.parent,n).usedRange.rowIndex,this.applyFilter(c,$F(this.filterRange.get(n)))}},{key:"applyFilter",value:function(e,t){var n=this,i={range:t,filterOptions:e,cancel:!1};this.parent.trigger("beforeFilter",i),i.cancel||(this.parent.showSpinner(),this.parent.filter(e,t).then((function(e){return n.refreshFilterRange(),n.parent.hideSpinner(),n.parent.trigger("filterComplete",e),Promise.resolve(e)})).catch((function(e){return n.filterRangeAlertHandler({error:e}),Promise.reject(e)})))}},{key:"getPredicates",value:function(e){for(var t=[],n=UF.getPredicate(this.filterCollection.get(e)),i=0,a=Object.keys(n);i<a.length;i++){var r=a[i];t.push(n[r])}return t}},{key:"getColumnType",value:function(e,t,n){for(var i=0,a=0,r=0,s=n[0];s<=e.usedRange.rowIndex;s++){var l=mB(s,t-1,e);if(l)if(l.format)switch(pH(l.format).toLowerCase()){case"number":case"currency":case"accounting":case"percentage":i++;break;case"shortdate":case"longdate":r++;break;case"time":i++;break;default:a++}else"string"==typeof l.value?a++:i++;else a++}return i>a&&i>r&&i>0?"number":a>i&&a>r&&a>0?"string":r>i&&r>a&&r>0?"date":"datetime"}},{key:"beforeCustomFilterOpenHandler",value:function(){this.closeDialog()}},{key:"clearAllFilterHandler",value:function(){if(this.filterRange.has(this.parent.activeSheetIndex)){this.filterCollection.set(this.parent.activeSheetIndex,[]);for(var e=0,t=Object.keys(this.filterClassList.get(this.parent.activeSheetIndex));e<t.length;e++){var n=t[e];this.filterClassList.get(this.parent.activeSheetIndex)[n]=""}this.refreshFilterRange()}}},{key:"clearFilterHandler",value:function(e){this.filterSuccessHandler(null,{action:"clear-filter",filterCollection:[],field:e.field})}},{key:"reapplyFilterHandler",value:function(){var e=this.parent.activeSheetIndex;this.filterRange.has(e)&&this.applyFilter({predicates:this.getPredicates(e)},$F(this.filterRange.get(e)))}},{key:"getFilterRangeHandler",value:function(e){var t=e.sheetIdx||this.parent.activeSheetIndex;this.filterRange&&this.filterRange.has(t)?(e.hasFilter=!0,e.filterRange=this.filterRange.get(t)):(e.hasFilter=!1,e.filterRange=null)}},{key:"getLocalizedCustomOperators",value:function(){var e=this.parent.serviceLocator.getService(gj),t=[{value:"equal",text:e.getConstant("Equal")},{value:"greaterthan",text:e.getConstant("GreaterThan")},{value:"greaterthanorequal",text:e.getConstant("GreaterThanOrEqual")},{value:"lessthan",text:e.getConstant("LessThan")},{value:"lessthanorequal",text:e.getConstant("LessThanOrEqual")},{value:"notequal",text:e.getConstant("NotEqual")}];return{stringOperator:[{value:"startswith",text:e.getConstant("StartsWith")},{value:"endswith",text:e.getConstant("EndsWith")},{value:"contains",text:e.getConstant("Contains")},{value:"equal",text:e.getConstant("Equal")},{value:"notequal",text:e.getConstant("NotEqual")}],numberOperator:t,dateOperator:t,datetimeOperator:t,booleanOperator:[{value:"equal",text:e.getConstant("Equal")},{value:"notequal",text:e.getConstant("NotEqual")}]}}}]),e}(),cj=function(){function e(){_classCallCheck(this,e),Ij.Inject(ej,tj,ij,MV,DV,LV,NV,AV,fH,aj,sj,rj,lj,RV,nj,oj,HV,jV,FV,uj,VV,zV,qV,UV,YV,WV,GV,XV)}return _createClass(e,[{key:"getModuleName",value:function(){return"basic"}},{key:"destroy",value:function(){}}]),e}(),hj=function(){function e(){_classCallCheck(this,e),Ij.Inject(ej,tj,ij,MV,DV,LV,NV,AV,fH,aj,rj,lj,RV,nj,oj,FV,HV,jV,uj,VV,zV,qV,UV,WV,YV,GV,XV)}return _createClass(e,[{key:"getModuleName",value:function(){return"all"}},{key:"destroy",value:function(){}}]),e}(),dj=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},pj=(xV=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),dj([bD(!1)],xV.prototype,"isFinite",void 0),dj([bD(!0)],xV.prototype,"enableVirtualization",void 0),xV),fj=(_V=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(HD),dj([bD("Multiple")],_V.prototype,"mode",void 0),_V),mj="e-wraptext",gj="spreadsheetLocale",vj="dialog",yj={Custom:["#ffffff","#000000","#e7e6e6","#44546a","#4472c4","#ed7d31","#a5a5a5","#ffc000","#70ad47","#ff0000","#f2f2f2","#808080","#cfcdcd","#d5dce4","#d9e2f3","#fbe4d5","#ededed","#fff2cc","#e2efd9","#ffcccc","#d9d9d9","#595959","#aeaaaa","#acb9ca","#b4c6e7","#f7caac","#dbdbdb","#ffe599","#c5e0b3","#ff8080","#bfbfbf","#404040","#747070","#8496b0","#8eaadb","#f4b083","#c9c9c9","#ffd966","#a8d08d","#ff3333","#a6a6a6","#262626","#3b3838","#323e4f","#2f5496","#c45911","#7b7b7b","#bf8f00","#538135","#b30000","#7f7f7f","#0d0d0d","#161616","#212934","#1f3763","#823b0b","#525252","#7f5f00","#375623","#660000"]},bj={Custom:["#ffffff","#000000","#ffff00","#00ff00","#00ffff","#0000ff","#ff0000","#000080","#800080","#996633","#f2f2f2","#808080","#ffffcc","#b3ffb3","#ccffff","#ccccff","#ffcccc","#ccccff","#ff80ff","#f2e6d9","#d9d9d9","#595959","#ffff80","#80ff80","#b3ffff","#8080ff","#ff8080","#8080ff","#ff00ff","#dfbf9f","#bfbfbf","#404040","#ffff33","#33ff33","#33ffff","#3333ff","#ff3333","#0000b3","#b300b3","#c68c53","#a6a6a6","#262626","#e6e600","#00b300","#009999","#000099","#b30000","#000066","#660066","#86592d","#7f7f7f","#0d0d0d","#999900","#006600","#006666","#000066","#660000","#00004d","#4d004d","#734d26"]},kj={FindValue:"Find value",ReplaceValue:"Replace value",FindReplaceTooltip:"Find & Replace",InsertingEmptyValue:"Reference value is not valid.",ReplaceAllEnd:" matches replaced with ",ByRow:"By Rows",ByColumn:"By Columns",MatchCase:"Match case   ",MatchExactCellElements:"Match exact cell contents",Replace:"Replace...",Find:"Find and Replace...",Goto:"Goto...",EntercellAddress:"Enter cell address",GotoSpecial:"GotoSpecial...",FindAndReplace:"Find and Replace",FindNextBtn:"Find Next",FindPreviousBtn:"Find Previous",ReplaceBtn:"Replace",ReplaceAllBtn:"Replace All",GotoHeader:"Go To",GotoSpecialHeader:"Go To Special",Sheet:"Sheet",Workbook:"Workbook",NoElements:"We couldn't find what you were looking for.",FindWhat:"Find what",ReplaceWith:"Replace with",Cut:"Cut",Copy:"Copy",Paste:"Paste",PasteSpecial:"Paste Special",Link:"Link",SpreadsheetHyperlink:"SpreadsheetHyperlink",Hyperlink:"Hyperlink",EditHyperlink:"Edit Hyperlink",OpenHyperlink:"Open Hyperlink",RemoveHyperlink:"Remove Hyperlink",InsertLink:"Insert Link",EditLink:"Edit Link",All:"All",Values:"Values",Formats:"Formats",Bold:"Bold",Font:"Font",FontSize:"Font Size",Italic:"Italic",Underline:"Underline",Strikethrough:"Strikethrough",TextColor:"Text Color",FillColor:"Fill Color",HorizontalAlignment:"Horizontal Alignment",AlignLeft:"Align Left",AlignCenter:"Center",AlignRight:"Align Right",VerticalAlignment:"Vertical Alignment",AlignTop:"Align Top",AlignMiddle:"Align Middle",AlignBottom:"Align Bottom",WrapText:"Wrap Text",MergeCells:"Merge Cells",MergeAll:"Merge All",MergeHorizontally:"Merge Horizontally",MergeVertically:"Merge Vertically",Unmerge:"Unmerge",UnmergeCells:"Unmerge Cells",SelectMergeType:"Select Merge Type",MergeCellsAlert:"Merging cells will only preserve the top-leftmost(Uppermost) value. Merge anyway?",PasteMergeAlert:'We can"t do that to a merge cell.',Borders:"Borders",SelectBorderOption:"Select Border Option",TopBorders:"Top Borders",LeftBorders:"Left Borders",RightBorders:"Right Borders",BottomBorders:"Bottom Borders",AllBorders:"All Borders",HorizontalBorders:"Horizontal Borders",VerticalBorders:"Vertical Borders",OutsideBorders:"Outside Borders",InsideBorders:"Inside Borders",NoBorders:"No Borders",BorderColor:"Border Color",BorderStyle:"Border Style",InsertFunction:"Insert Function",Insert:"Insert",Delete:"Delete",Rename:"Rename",Hide:"Hide",Unhide:"Unhide",NameBox:"Name Box",ShowHeaders:"Show Headers",HideHeaders:"Hide Headers",ShowGridLines:"Show Gridlines",HideGridLines:"Hide Gridlines",AddSheet:"Add Sheet",ListAllSheets:"List All Sheets",FullScreen:"Full Screen",CollapseToolbar:"Collapse Toolbar",ExpandToolbar:"Expand Toolbar",CollapseFormulaBar:"Collapse Formula Bar",ExpandFormulaBar:"Expand Formula Bar",File:"File",Home:"Home",Formulas:"Formulas",View:"View",New:"New",Open:"Open",SaveAs:"Save As",Update:"Update",ExcelXlsx:"Microsoft Excel",ExcelXls:"Microsoft Excel 97-2003",CSV:"Comma-separated values",FormulaBar:"Formula Bar",Sort:"Sort",SortAscending:"Ascending",SortDescending:"Descending",CustomSort:"Custom Sort",AddColumn:"Add Column",ContainsHeader:"Data contains header",CaseSensitive:"Case sensitive",SortBy:"Sort by",ThenBy:"Then by",SelectAColumn:"Select a column",SortEmptyFieldError:"Sort criteria column should not be empty.",SortDuplicateFieldError:" is mentioned more than once. Duplicate columns must be removed.",SortOutOfRangeError:"Select a cell or range inside the used range and try again.",SortAndFilter:"Sort & Filter",Filter:"Filter",ClearAllFilter:"Clear",ClearFilterFrom:"Clear Filter From ",ReapplyFilter:"Reapply",FilterCellValue:"Filter by Value of Selected Cell",FilterOutOfRangeError:"Select a cell or range inside the used range and try again.",HideRow:"Hide Row",HideRows:"Hide Rows",UnHideRows:"UnHide Rows",HideColumn:"Hide Column",HideColumns:"Hide Columns",UnHideColumns:"UnHide Columns",InsertRow:"Insert Row",InsertRows:"Insert Rows",Above:"Above",Below:"Below",InsertColumn:"Insert Column",InsertColumns:"Insert Columns",Before:"Before",After:"After",DeleteRow:"Delete Row",DeleteRows:"Delete Rows",DeleteColumn:"Delete Column",DeleteColumns:"Delete Columns",Ok:"Ok",Close:"Close",Cancel:"Cancel",Apply:"Apply",MoreColors:"More Colors",StandardColors:"Standard Colors",General:"General",Number:"Number",Currency:"Currency",Accounting:"Accounting",ShortDate:"Short Date",LongDate:"Long Date",Time:"Time",Percentage:"Percentage",Fraction:"Fraction",Scientific:"Scientific",Text:"Text",MobileFormulaBarPlaceHolder:"Enter value or Formula",NumberFormat:"Number Format",PasteAlert:"You can't paste this here, because the copy area and paste area aren't in the same size. Please try pasting in a different range.",DestroyAlert:"Are you sure you want to destroy the current workbook without saving and create a new workbook?",SheetRenameInvalidAlert:"Sheet name contains invalid character.",SheetRenameEmptyAlert:"Sheet name cannot be empty.",SheetRenameAlreadyExistsAlert:"Sheet name already exists. Please enter another name.",DeleteSheetAlert:"You can't undo deleting sheets, and you might be removing some data. If you don't need it, click OK to delete.",DeleteSingleLastSheetAlert:"A Workbook must contain at least one visible worksheet.",PickACategory:"Pick a category",Description:"Description",UnsupportedFile:"Unsupported File",InvalidUrl:"Invalid URL",SUM:"Adds a series of numbers and/or cells.",SUMIF:"Adds the cells based on specified condition.",SUMIFS:"Adds the cells based on specified conditions.",ABS:"Returns the value of a number without its sign.",RAND:"Returns a random number between 0 and 1.",RANDBETWEEN:"Returns a random integer based on specified values.",FLOOR:"Rounds a number down to the nearest multiple of a given factor.",CEILING:"Rounds a number up to the nearest multiple of a given factor.",PRODUCT:"Multiplies a series of numbers and/or cells.",AVERAGE:"Calculates average for the series of numbers and/or cells excluding text.",AVERAGEIF:"Calculates average for the cells based on specified criterion.",AVERAGEIFS:"Calculates average for the cells based on specified conditions.",AVERAGEA:"Calculates the average for the cells evaluating TRUE as 1, text and FALSE as 0.",COUNT:"Counts the cells that contain numeric values in a range.",COUNTIF:"Counts the cells based on specified condition.",COUNTIFS:"Counts the cells based on specified conditions.",COUNTA:"Counts the cells that contains values in a range.",MIN:"Returns the smallest number of the given arguments.",MAX:"Returns the largest number of the given arguments.",DATE:"Returns the date based on given year, month, and day.",DAY:"Returns the day from the given date.",DAYS:"Returns the number of days between two dates.",IF:"Returns value based on the given expression.",IFS:"Returns value based on the given multiple expressions.",CalculateAND:"Returns TRUE if all the arguments are TRUE, otherwise returns FALSE.",CalculateOR:"Returns TRUE if any of the arguments are TRUE, otherwise returns FALSE.",IFERROR:"Returns value if no error found else it will return specified value.",CHOOSE:"Returns a value from list of values, based on index number.",INDEX:"Returns a value of the cell in a given range based on row and column number.",FIND:"Returns the position of a string within another string, which is case sensitive",CONCATENATE:"Combines two or more strings together.",CONCAT:"Concatenates a list or a range of text strings.",SUBTOTAL:"Returns subtotal for a range using the given function number.",RADIANS:"Converts degrees into radians.",MATCH:"Returns the relative position of a specified value in given range.",LN:"Returns the natural logarithm of a number.",INTERCEPT:"Calculates the point of the Y-intercept line via linear regression.",SLOPE:"Returns the slope of the line from linear regression of the data points.",DefineNameExists:"This name already exists, try different name.",DefineNameInValid:"The name that you entered is not valid.",CircularReference:"When a formula refers to one or more circular references, this may result in an incorrect calculation.",ShowRowsWhere:"Show rows where:",OR:"OR",AND:"AND",CustomFilterDatePlaceHolder:"Choose a date",CustomFilterPlaceHolder:"Enter the value",CustomFilter:"Custom Filter",Between:"Between",DateTimeFilter:"DateTime Filters",Undo:"Undo",Redo:"Redo",DateFilter:"Date Filters",TextFilter:"Text Filters",NumberFilter:"Number Filters",ClearFilter:"Clear Filter",NoResult:"No Matches Found",FilterFalse:"False",FilterTrue:"True",Blanks:"Blanks",SelectAll:"Select All",GreaterThanOrEqual:"Greater Than Or Equal",GreaterThan:"Greater Than",LessThanOrEqual:"Less Than Or Equal",LessThan:"Less Than",NotEqual:"Not Equal",Equal:"Equal",Contains:"Contains",EndsWith:"Ends With",StartsWith:"Starts With",ClearButton:"Clear",FilterButton:"Filter",CancelButton:"Cancel",OKButton:"OK",Search:"Search",ProtectSheet:"Protect Sheet",UnprotectSheet:"Unprotect Sheet",LockCells:"Lock Cells",SelectCells:"Select cells",FormatCells:"Format cells",FormatRows:"Format rows",FormatColumns:"Format columns",InsertLinks:"Insert links",ProtectContent:"Protect the contents of locked cells",ProtectAllowUser:" Allow all users of this worksheet to:",EditAlert:"The cell you're trying to change is protected. To make change, unprotect the sheet.",SearchWithin:"Search within",SearchBy:"Search by",Reference:"Reference",DataValidation:"Data Validation",CLEARALL:"CLEAR ALL",APPLY:"APPLY",CellRange:"Cell Range",Allow:"Allow",Data:"Data",Minimum:"Minimum",Maximum:"Maximum",IgnoreBlank:"Ignore blank",WholeNumber:"Whole Number",Decimal:"Decimal",Date:"Date",TextLength:"Text Length",List:"List",NotBetween:"Not between",EqualTo:"Equal to",NotEqualTo:"Not equal to",Greaterthan:"Greater than",Lessthan:"Less than",GreaterThanOrEqualTo:"Greater than or equal to",LessThanOrEqualTo:"Less than or equal to",InCellDropDown:"In-cell-dropdown",Sources:"Sources",Value:"Value",Retry:"Retry",EnterValue:"Enter value",DialogError:"The list source must be a reference to single row or column.",ListLengthError:"The list values allows only upto 256 charcters",ValidationError:"This value doesn't match the data validation restrictions defined for the cell.",EmptyError:"You must enter a value",ClearHighlight:"Clear Highlight",HighlightInvalidData:"Highlight Invalid Data",ClearValidation:"Clear Validation",ISNUMBER:"Returns true when the value parses as a numeric value.",ROUND:"Rounds a number to a specified number of digits.",GEOMEAN:"Returns the geometric mean of an array or range of positive data.",POWER:"Returns the result of a number raised to power",LOG:"Returns the logarithm of a number to the base that you specify.",TRUNC:"Returns the truncated value of a number to a specified number of decimal places.",EXP:"Returns e raised to the power of the given number."},Cj=function(){function e(t){_classCallCheck(this,e),this.freezePane=!1,this.colGroupWidth=30,this.parent=t,this.col=t.createElement("col"),this.rowRenderer=t.serviceLocator.getService("row"),this.cellRenderer=t.serviceLocator.getService("cell"),this.addEventListener()}return _createClass(e,[{key:"refreshSelectALLContent",value:function(){var e;if(this.freezePane){var t=this.getSelectAllTable().querySelector("thead"),n=this.rowRenderer.render();t.appendChild(n),e=this.parent.createElement("th",{className:"e-select-all-cell"}),n.appendChild(e)}else(e=this.headerPanel.firstElementChild).classList.add("e-select-all-cell");e.appendChild(this.parent.createElement("button",{className:"e-selectall e-icons",id:"".concat(this.parent.element.id,"_select_all")}))}},{key:"updateLeftColGroup",value:function(e,t){e&&(this.colGroupWidth=e),t||(t=this.getRowHeaderPanel());var n=t.querySelector("table");this.detachColGroup(n);var i=this.parent.createElement("colgroup"),a="".concat(this.colGroupWidth,"px"),r=this.col.cloneNode();r.style.width=a,i.appendChild(r),n.insertBefore(i,n.querySelector("tbody")),t.style.width=a,this.freezePane?(n=this.getSelectAllTable(),this.detachColGroup(n),n.insertBefore(i.cloneNode(!0),n.querySelector("thead"))):this.getSelectAllContent().style.width=a,this.parent.getActiveSheet().showHeaders&&(this.getColHeaderPanel().style.width="calc(100% - ".concat(a,")"),this.getContentPanel().style.width="calc(100% - ".concat(a,")"))}},{key:"detachColGroup",value:function(e){var t=e.querySelector("colgroup");t&&ZA(t)}},{key:"renderPanel",value:function(){this.contentPanel=this.parent.createElement("div",{className:"e-main-panel"});var e=this.parent.getActiveSheet(),t=this.parent.element.id;e.showHeaders?(this.contentPanel.appendChild(this.parent.createElement("div",{className:"e-row-header",id:"".concat(t,"_row_header")})),this.initHeaderPanel(),this.parent.allowScrolling&&this.parent.scrollModule.setPadding()):this.updateHideHeaders();var n=this.contentPanel.appendChild(this.parent.createElement("div",{className:"e-sheet-content",id:"".concat(t,"_main_content")}));e.showGridLines||n.classList.add("e-hide-gridlines"),this.parent.allowScrolling||(n.style.overflow="hidden")}},{key:"initHeaderPanel",value:function(){var e=this.parent.element.id;this.headerPanel=this.parent.createElement("div",{className:"e-header-panel"}),this.headerPanel.appendChild(this.parent.createElement("div",{className:"e-selectall-container",id:"".concat(e,"_selectall")})),this.headerPanel.appendChild(this.parent.createElement("div",{className:"e-column-header",id:"".concat(e,"_col_header")}))}},{key:"createTable",value:function(){this.parent.getActiveSheet().showHeaders&&this.createHeaderTable(),this.updateTable("tbody","content",this.contentPanel.lastElementChild)}},{key:"createHeaderTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.contentPanel.querySelector(".e-row-header");this.freezePane&&this.updateTable("thead","selectall",this.headerPanel.querySelector(".e-selectall-container")),this.updateTable("thead","colhdr",this.headerPanel.querySelector(".e-column-header")),this.updateTable("tbody","rowhdr",e),this.updateLeftColGroup(null,e)}},{key:"updateTable",value:function(e,t,n){var i=this.parent.createElement("table",{className:"e-table",attrs:{role:"grid"}});i.classList.add("e-".concat(t,"-table")),n.appendChild(i),i.appendChild(this.parent.createElement(e))}},{key:"renderTable",value:function(e){var t,n,i,a=this,r=this.parent.getActiveSheet(),s=document.createDocumentFragment();this.createTable();var l,o,u,c=this.parent.createElement("colgroup"),h=this.contentPanel.querySelector(".e-sheet-content tbody");r.showHeaders&&(s.appendChild(this.headerPanel),this.refreshSelectALLContent(),l=this.contentPanel.querySelector(".e-row-header tbody"),o=this.headerPanel.querySelector(".e-column-header thead"),this.getColHeaderTable().insertBefore(c,o),u=this.rowRenderer.render(),o.appendChild(u)),s.appendChild(this.contentPanel),this.parent.notify("beforeContentLoaded",{startColIdx:e.indexes[1]});var d=r.colCount.toString(),p=r.colCount.toString(),f=e.top&&e.left?"RowColumn":e.top?"Row":e.left?"Column":"";r.showHeaders&&(this.parent.getColHeaderTable().setAttribute("aria-colcount",d),this.parent.getRowHeaderTable().setAttribute("aria-rowcount",p)),QA(this.parent.getContentTable(),{"aria-rowcount":p,"aria-colcount":d}),e.cells.forEach((function(s,o){(t=YF(o))[1]===e.indexes[1]&&(r.showHeaders&&(i=a.rowRenderer.render(t[0],!0),l.appendChild(i),i.appendChild(a.cellRenderer.renderRowHeader(t[0]))),n=a.rowRenderer.render(t[0]),h.appendChild(n)),n.appendChild(a.cellRenderer.render({colIdx:t[1],rowIdx:t[0],cell:s,address:o,lastCell:t[1]===e.indexes[3],isHeightCheckNeeded:!0,row:n,hRow:i,pRow:n.previousSibling,pHRow:r.showHeaders?i.previousSibling:null,first:f?f.includes("Row")?t[0]===e.indexes[0]?"Row":f.includes("Column")&&t[1]===e.indexes[1]?"Column":"":t[1]===e.indexes[1]?"Column":"":""})),t[0]===e.indexes[0]&&(a.updateCol(r,t[1],c),r.showHeaders&&u.appendChild(a.cellRenderer.renderColHeader(t[1])))})),this.getContentTable().insertBefore(c.cloneNode(!0),h),zB((function(){var t=a.parent.getMainContent();if(document.getElementById(a.parent.element.id+"_sheet").appendChild(s),e.top&&(t.scrollTop=e.top,r.showHeaders&&(a.parent.getRowHeaderContent().scrollTop=e.top)),e.left&&(t.scrollLeft=e.left,r.showHeaders&&(a.parent.getColumnHeaderContent().scrollLeft=e.left)),a.parent.notify("contentLoaded",null),a.parent.notify(mH,{action:"renderEditor"}),a.parent.isOpen||a.parent.hideSpinner(),lV(a.parent.getMainContent(),{busy:!1}),a.parent.trigger("dataBound",{}),e.initLoad){var n=!0;if(a.parent.scrollSettings.enableVirtualization)for(var i=0;i<r.ranges.length;i++)if(r.ranges[i].info.count-1>a.parent.viewport.bottomIndex){n=!1;break}n&&a.triggerCreatedEvent()}}))}},{key:"triggerCreatedEvent",value:function(){this.parent.createdHandler&&(this.parent.createdHandler.observers?this.parent.created.observers=this.parent.createdHandler.observers:this.parent.setProperties({created:this.parent.createdHandler},!0),this.parent.createdHandler=void 0,this.parent.trigger("created",null))}},{key:"refreshColumnContent",value:function(e){var t,n,i,a,r=this,s=0,l=this.parent.getActiveSheet(),o=document.createDocumentFragment(),u=document.createDocumentFragment(),c=this.parent.element.querySelector(".e-sheet-content tbody");c=o.appendChild(c.cloneNode(!0));var h,d,p=this.parent.element.querySelector(".e-sheet-content colgroup");p=p.cloneNode(),l.showHeaders&&(u.appendChild(p),d=this.parent.element.querySelector(".e-column-header thead"),d=u.appendChild(d.cloneNode(!0)),(h=d.querySelector("tr")).innerHTML=""),e.cells.forEach((function(i,o){if((t=YF(o))[0]===e.indexes[0]&&(r.updateCol(l,t[1],p),l.showHeaders&&h.appendChild(r.cellRenderer.renderColHeader(t[1]))),t[1]===e.indexes[1]){if(!(n=c.children[s]))return;n.innerHTML="",s++}a=n.appendChild(r.cellRenderer.render({colIdx:t[1],rowIdx:t[0],cell:i,address:o,row:n,pRow:n.previousSibling,first:e.skipUpdateOnFirst||t[1]!==e.indexes[1]?r.parent.scrollSettings.enableVirtualization&&t[0]===e.indexes[0]&&r.parent.viewport.topIndex!==bV(l,0,!0)?"Row":"":"Column"})),r.checkColMerge(t,e.indexes,a,i)})),o.insertBefore(p.cloneNode(!0),c),zB((function(){l.showHeaders&&(qB(i=r.getColHeaderTable()),i.appendChild(u)),qB(i=r.getContentTable()),i.appendChild(o),r.parent.notify("virtualContentLoaded",{refresh:"Column"}),r.parent.isOpen||r.parent.hideSpinner(),lV(r.parent.getMainContent(),{busy:!1})}))}},{key:"refreshRowContent",value:function(e){var t,n,i,a,r,s,l=this,o=this.colGroupWidth,u=this.parent.getActiveSheet(),c=document.createDocumentFragment(),h=this.parent.createElement("tbody");u.showHeaders&&(a=document.createDocumentFragment(),r=h.cloneNode(),a.appendChild(r)),c.appendChild(h),e.cells.forEach((function(a,c){(t=YF(c))[1]===e.indexes[1]&&(u.showHeaders&&(i=l.rowRenderer.render(t[0],!0),r.appendChild(i),i.appendChild(l.cellRenderer.renderRowHeader(t[0])),o=UB(t[0]+1)),n=l.rowRenderer.render(t[0]),h.appendChild(n)),s=n.appendChild(l.cellRenderer.render({rowIdx:t[0],colIdx:t[1],cell:a,address:c,lastCell:t[1]===e.indexes[3],row:n,hRow:i,pRow:n.previousSibling,pHRow:u.showHeaders?i.previousSibling:null,isHeightCheckNeeded:!0,first:e.skipUpdateOnFirst||t[0]!==e.indexes[0]?l.parent.scrollSettings.enableVirtualization&&t[1]===e.indexes[1]&&l.parent.viewport.leftIndex!==bV(u,0,!0,"columns")?"Column":"":"Row"})),l.checkRowMerge(t,e.indexes,s,a)})),this.colGroupWidth!==o&&this.updateLeftColGroup(o),u.showHeaders&&(ZA(this.contentPanel.querySelector(".e-row-header tbody")),this.getRowHeaderTable().appendChild(a)),ZA(this.contentPanel.querySelector(".e-sheet-content tbody")),this.getContentTable().appendChild(c),this.parent.notify("virtualContentLoaded",{refresh:"Row"}),this.parent.isOpen||this.parent.hideSpinner(),lV(this.parent.getMainContent(),{busy:!1})}},{key:"updateCol",value:function(e,t,n){var i=this.col.cloneNode();return i.style.width=aI(BB(e,t)),n?n.appendChild(i):i}},{key:"updateColContent",value:function(e){var t=this;zB((function(){var n,i,a,r,s,l,o,u,c=0,h=t.parent.getActiveSheet();h.showHeaders&&(l=t.parent.element.querySelector(".e-column-header .e-header-row"),u=l.firstElementChild);var d,p=t.parent.element.querySelector(".e-sheet-content colgroup"),f=p.firstElementChild,m=t.parent.element.querySelector(".e-sheet-content tbody");e.cells.forEach((function(a,g){if(!d){if(n=YF(g),"first"===e.direction&&n[1]===e.indexes[1]&&t.checkColMerge([n[0],t.parent.viewport.leftIndex],e.indexes,(m.rows[c]||{cells:[]}).cells[e.indexes[3]-e.indexes[1]+1],mB(n[0],t.parent.viewport.leftIndex,h)||{}),n[0]===e.indexes[0]&&("last"===e.direction?((o=t.col.cloneNode()).style.width=aI(BB(h,n[1])),p.insertBefore(o,f),h.showHeaders&&l.insertBefore(t.cellRenderer.renderColHeader(n[1]),u)):(t.updateCol(h,n[1],p),h.showHeaders&&l.appendChild(t.cellRenderer.renderColHeader(n[1]))),t.parent.scrollSettings.enableVirtualization&&e.direction&&(ZA(p[e.direction+"ElementChild"]),h.showHeaders&&ZA(l[e.direction+"ElementChild"]))),n[1]===e.indexes[1]){if(i=m.children[c],c++,!i)return void(d=!0);r=i.firstElementChild}s=t.cellRenderer.render({colIdx:n[1],rowIdx:n[0],cell:a,address:g,lastCell:n[1]===e.indexes[3],isHeightCheckNeeded:"first"===e.direction,first:"last"!==e.direction||e.skipUpdateOnFirst||n[1]!==e.indexes[1]?"":"Column",checkNextBorder:"last"===e.direction&&n[3]===e.indexes[3]?"Column":""}),"last"===e.direction?(t.checkColMerge(n,e.indexes,s,a,(m.rows[c-1]||{cells:[]}).cells[0]),i.insertBefore(s,r)):i.appendChild(s),t.parent.scrollSettings.enableVirtualization&&e.direction&&ZA(i[e.direction+"ElementChild"])}})),h.showHeaders&&(ZA((a=t.getColHeaderTable()).querySelector("colgroup")),a.insertBefore(p.cloneNode(!0),a.querySelector("thead"))),t.parent.scrollSettings.enableVirtualization&&t.parent.notify("virtualContentLoaded",{refresh:"Column"}),t.parent.isOpen||t.parent.hideSpinner(),lV(t.parent.getMainContent(),{busy:!1})}))}},{key:"updateRowContent",value:function(e){var t,n,i,a,r,s,l=this,o=this.colGroupWidth,u=this.parent.getActiveSheet(),c=0,h=this.parent.getMainContent().querySelector("tbody");u.showHeaders&&(r=document.createDocumentFragment(),a=this.parent.getRowHeaderContent().querySelector("tbody"));var d=document.createDocumentFragment();this.parent.showSpinner(),e.cells.forEach((function(p,f){s=YF(f),"first"===e.direction&&s[0]===e.indexes[0]&&l.checkRowMerge([l.parent.viewport.topIndex,s[1]],e.indexes,(h.rows[e.indexes[2]-e.indexes[0]+1]||{cells:[]}).cells[c],mB(l.parent.viewport.topIndex,s[1],u)||{}),s[1]===e.indexes[1]&&(u.showHeaders&&(n=l.rowRenderer.render(s[0],!0),r.appendChild(n),n.appendChild(l.cellRenderer.renderRowHeader(s[0])),o=UB(s[0]+1),l.parent.scrollSettings.enableVirtualization&&e.direction&&ZA(a[e.direction+"ElementChild"])),t=l.rowRenderer.render(s[0]),d.appendChild(t),l.parent.scrollSettings.enableVirtualization&&e.direction&&ZA(h[e.direction+"ElementChild"])),i=t.appendChild(l.cellRenderer.render({colIdx:s[1],rowIdx:s[2],cell:p,address:f,lastCell:s[1]===e.indexes[3],row:t,pHRow:u.showHeaders?n.previousSibling:null,checkNextBorder:"last"===e.direction&&s[2]===e.indexes[2]?"Row":"",pRow:t.previousSibling,isHeightCheckNeeded:"first"===e.direction||""===e.direction,hRow:n,first:"last"!==e.direction||e.skipUpdateOnFirst||s[0]!==e.indexes[0]?"":"Row"})),"last"===e.direction&&l.checkRowMerge(s,e.indexes,i,p,h.rows[0].cells[c]),c++})),this.colGroupWidth!==o&&this.updateLeftColGroup(o),"last"===e.direction?(u.showHeaders&&a.insertBefore(r,a.firstElementChild),h.insertBefore(d,h.firstElementChild)):(u.showHeaders&&a.appendChild(r),h.appendChild(d)),this.parent.scrollSettings.enableVirtualization&&this.parent.notify("virtualContentLoaded",{refresh:"Row"}),this.parent.isOpen||this.parent.hideSpinner(),lV(this.parent.getMainContent(),{busy:!1})}},{key:"checkRowMerge",value:function(e,t,n,i,a){!this.parent.scrollSettings.enableVirtualization||!n||e[0]!==this.parent.viewport.topIndex||JO(i.rowSpan)&&JO(i.colSpan)||(i.rowSpan<0&&this.parent.notify("checkMerge",{td:n,rowIdx:e[0],colIdx:e[1],isRow:!0}),a&&(a.colSpan||a.rowSpan)&&this.cellRenderer.refresh(e[0]+(t[2]-t[0])+1,e[1],null,a))}},{key:"checkColMerge",value:function(e,t,n,i,a){!this.parent.scrollSettings.enableVirtualization||!n||e[1]!==this.parent.viewport.leftIndex||JO(i.rowSpan)&&JO(i.colSpan)||(i.colSpan<0&&this.parent.notify("checkMerge",{td:n,colIdx:e[1],rowIdx:e[0]}),a&&(a.colSpan||a.rowSpan)&&this.cellRenderer.refresh(e[0],e[1]+(t[3]-t[1])+1,null,a))}},{key:"showHideHeaders",value:function(){var e=this,t=this.parent.getActiveSheet();if(t.showHeaders)if(this.parent.scrollSettings.enableVirtualization){var n=[this.parent.viewport.topIndex,this.parent.viewport.leftIndex,this.parent.viewport.bottomIndex,this.parent.viewport.rightIndex];this.renderHeaders([n[0],n[2]],[n[1],n[3]])}else this.renderHeaders([0,t.rowCount-1],[0,t.colCount-1]),"A1"!==t.topLeftCell&&this.parent.goTo(t.topLeftCell);else zB((function(){ZA(e.headerPanel),ZA(e.getRowHeaderPanel()),e.getContentPanel().style.width="",e.updateHideHeaders()}))}},{key:"renderHeaders",value:function(e,t){var n=this,i=this.parent.getActiveSheet();this.initHeaderPanel();var a=document.createDocumentFragment(),r=document.createDocumentFragment();a.appendChild(this.headerPanel);var s=r.appendChild(this.parent.createElement("div",{className:"e-row-header",id:"".concat(this.parent.element.id,"_row_header")}));this.createHeaderTable(s),this.parent.notify("beforeHeaderLoaded",{element:s}),this.refreshSelectALLContent();var l,o=s.querySelector("tbody"),u=this.headerPanel.querySelector(".e-column-header thead"),c=this.rowRenderer.render();u.appendChild(c);for(var h=t[0];h<=t[1];h++)jB(i,h)||c.appendChild(this.cellRenderer.renderColHeader(h));var d=UB(e[1]);this.colGroupWidth!==d&&this.updateLeftColGroup(d,s);for(var p=e[0];p<=e[1];p++)hB(i,p)||((l=this.rowRenderer.render(p,!0)).appendChild(this.cellRenderer.renderRowHeader(p)),o.appendChild(l));zB((function(){n.getColHeaderTable().insertBefore(n.getContentTable().querySelector("colgroup").cloneNode(!0),u);var e=document.getElementById(n.parent.element.id+"_sheet");e.classList.remove("e-hide-headers"),e.insertBefore(a,n.contentPanel);var t=n.getContentPanel();n.contentPanel.insertBefore(r,t),n.parent.scrollModule.setPadding(),s.scrollTop=t.scrollTop,n.getColHeaderPanel().scrollLeft=t.scrollLeft}))}},{key:"updateHideHeaders",value:function(){document.getElementById(this.parent.element.id+"_sheet").classList.add("e-hide-headers"),this.headerPanel=null}},{key:"getSelectAllContent",value:function(){return this.headerPanel.getElementsByClassName("e-selectall-container")[0]}},{key:"getSelectAllTable",value:function(){return this.headerPanel.getElementsByClassName("e-selectall-table")[0]}},{key:"getColHeaderTable",value:function(){return this.headerPanel.getElementsByClassName("e-colhdr-table")[0]}},{key:"getRowHeaderTable",value:function(){return this.contentPanel.getElementsByClassName("e-rowhdr-table")[0]}},{key:"getContentTable",value:function(){return this.contentPanel.getElementsByClassName("e-content-table")[0]}},{key:"getRowHeaderPanel",value:function(){return this.contentPanel.getElementsByClassName("e-row-header")[0]}},{key:"getColHeaderPanel",value:function(){return this.headerPanel.getElementsByClassName("e-column-header")[0]}},{key:"getContentPanel",value:function(){return this.contentPanel.getElementsByClassName("e-sheet-content")[0]}},{key:"addEventListener",value:function(){this.parent.on("created",this.triggerCreatedEvent,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"removeEventListener",value:function(){this.parent.off("created",this.triggerCreatedEvent),this.parent.off("spreadsheetDestroyed",this.destroy)}}]),e}(),wj=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.element=this.parent.createElement("tr",{attrs:{role:"row"}}),this.cellRenderer=t.serviceLocator.getService("cell")}return _createClass(e,[{key:"render",value:function(e,t,n){var i=this.element.cloneNode();if(void 0===e)return i.classList.add("e-header-row"),i;i.classList.add("e-row");var a=this.parent.getActiveSheet();return QA(i,{"aria-rowindex":(e+1).toString()}),i.style.height="".concat(dB(a,e),"px"),t&&!n&&(hB(a,e+1)&&!hB(a,e-1)&&i.classList.add("e-hide-start"),0!==e&&hB(a,e-1)&&!hB(a,e+1)&&i.classList.add("e-hide-end")),i}},{key:"refresh",value:function(e,t,n,i){var a,r=this.parent.getActiveSheet();if(i)(a=this.render(e,!0,!0)).appendChild(this.cellRenderer.renderRowHeader(e));else{a=this.render(e);for(var s=this.parent.viewport.leftIndex;s<=this.parent.viewport.rightIndex;s++)jB(r,s)||a.appendChild(this.cellRenderer.render({colIdx:s,rowIdx:e,cell:mB(e,s,r),address:KF(e,s),lastCell:s===this.parent.viewport.rightIndex,row:a,hRow:n,isHeightCheckNeeded:!0,pRow:t,first:e===this.parent.viewport.topIndex&&bV(r,e,!0)!==bV(r,0,!0)?"Row":""}))}return a}}]),e}(),_j=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.element=this.parent.createElement("td"),this.th=this.parent.createElement("th",{className:"e-header-cell"}),this.tableRow=t.createElement("tr",{className:"e-row"})}return _createClass(e,[{key:"renderColHeader",value:function(e){var t=this.th.cloneNode();QA(t,{role:"columnheader","aria-colindex":(e+1).toString(),tabindex:"-1"}),t.innerHTML=ZF(e+1);var n=this.parent.getActiveSheet();return jB(n,e+1)&&t.classList.add("e-hide-start"),0!==e&&jB(n,e-1)&&t.classList.add("e-hide-end"),t}},{key:"renderRowHeader",value:function(e){var t=this.element.cloneNode();return UA([t],"e-header-cell"),QA(t,{role:"rowheader",tabindex:"-1"}),t.innerHTML=(e+1).toString(),t}},{key:"render",value:function(e){if(e.td=this.element.cloneNode(),e.td.className="e-cell",QA(e.td,{role:"gridcell","aria-colindex":(e.colIdx+1).toString(),tabindex:"-1"}),this.checkMerged(e))return e.td;e.td.innerHTML=this.processTemplates(e.cell,e.rowIdx,e.colIdx),e.isRefresh=!1,this.update(e),dV(this.parent,e.rowIdx,e.colIdx,this.parent.activeSheetIndex)||this.parent.notify("renderFilterCell",{td:e.td,rowIndex:e.rowIdx,colIndex:e.colIdx});var t={cell:e.cell,element:e.td,address:e.address};return this.parent.trigger("beforeCellRender",t),this.updateRowHeight({rowIdx:e.rowIdx,cell:t.element,lastCell:e.lastCell,rowHgt:20,row:e.row,hRow:e.hRow}),t.element}},{key:"update",value:function(e){if(!e.isRefresh||(e.td.rowSpan&&e.td.removeAttribute("rowSpan"),e.td.colSpan&&e.td.removeAttribute("colSpan"),!this.checkMerged(e))){if(e.cell&&e.cell.formula&&!e.cell.value){var t=sB(e.cell.formula);this.parent.notify(oH,{action:"refreshCalculate",value:e.cell.formula,rowIndex:e.rowIdx,colIndex:e.colIdx,isFormula:t}),e.cell.value=mB(e.rowIdx,e.colIdx,this.parent.getActiveSheet()).value}var n={type:e.cell&&pH(e.cell.format),value:e.cell&&e.cell.value,format:e.cell&&e.cell.format?e.cell.format:"General",formattedText:e.cell&&e.cell.value,onLoad:!0,isRightAlign:!1,cell:e.cell,rowIdx:e.rowIdx.toString(),colIdx:e.colIdx.toString()};e.cell&&this.parent.notify("getFormattedCell",n),JO(e.td)||this.parent.refreshNode(e.td,{type:n.type,result:n.formattedText,curSymbol:LI(this.parent.locale,"USD"),isRightAlign:n.isRightAlign,value:n.value||""});var i,a={};if(e.cell){if(e.cell.style&&(a=e.cell.style.properties?vB(e.cell.style,!0):e.cell.style),e.cell.hyperlink&&this.parent.notify("createHyperlinkElement",{cell:e.cell,td:e.td,rowIdx:e.rowIdx,colIdx:e.colIdx}),e.cell.wrap&&this.parent.notify("wrapText",{range:[e.rowIdx,e.colIdx,e.rowIdx,e.colIdx],wrap:!0,sheet:this.parent.getActiveSheet(),initial:!0,td:e.td,row:e.row,hRow:e.hRow}),e.cell.rowSpan>1){var r=e.cell.rowSpan-this.parent.hiddenCount(e.rowIdx,e.rowIdx+(e.cell.rowSpan-1));r>1&&(e.td.rowSpan=r)}if(e.cell.colSpan>1){var s=e.cell.colSpan-this.parent.hiddenCount(e.colIdx,e.colIdx+(e.cell.colSpan-1),"columns");s>1&&(e.td.colSpan=s)}}if(e.isRefresh&&this.removeStyle(e.td,e.rowIdx,e.colIdx),(Object.keys(a).length||Object.keys(this.parent.commonCellStyle).length||e.lastCell)&&this.parent.notify("applyCellFormat",{style:ZO({},this.parent.commonCellStyle,a),rowIdx:e.rowIdx,colIdx:e.colIdx,cell:e.td,first:e.first,row:e.row,lastCell:e.lastCell,hRow:e.hRow,pRow:e.pRow,isHeightCheckNeeded:e.isHeightCheckNeeded,manualUpdate:e.manualUpdate}),"Row"===e.checkNextBorder){var l=this.parent.getCellStyleValue(["borderTop"],[Number(this.parent.getContentTable().rows[0].getAttribute("aria-rowindex"))-1,e.colIdx]).borderTop;""===l||e.cell&&e.cell.style&&e.cell.style.bottomPriority||this.parent.notify("applyCellFormat",{style:{borderBottom:l},rowIdx:e.rowIdx,colIdx:e.colIdx,cell:e.td})}if("Column"===e.checkNextBorder){var o=this.parent.getCellStyleValue(["borderLeft"],[e.rowIdx,e.colIdx+1]).borderLeft;""===o||e.cell&&e.cell.style&&(e.cell.style.borderRight||e.cell.style.border)||this.parent.notify("applyCellFormat",{style:{borderRight:o},rowIdx:e.rowIdx,colIdx:e.colIdx,cell:e.td})}if(e.cell&&e.cell.hyperlink&&!dV(this.parent,e.rowIdx,e.colIdx,this.parent.activeSheetIndex))"string"==typeof e.cell.hyperlink?0!==(i=e.cell.hyperlink).indexOf("http://")&&0!==i.indexOf("https://")&&0!==i.indexOf("ftp://")&&(e.cell.hyperlink=0===i.indexOf("www.")?"http://"+i:i):0!==(i=e.cell.hyperlink.address).indexOf("http://")&&0!==i.indexOf("https://")&&0!==i.indexOf("ftp://")&&(e.cell.hyperlink.address=0===i.indexOf("www.")?"http://"+i:i),this.parent.notify("createHyperlinkElement",{cell:e.cell,td:e.td,rowIdx:e.rowIdx,colIdx:e.colIdx});e.cell&&e.cell.validation&&e.cell.validation.isHighlighted&&(e.td.style.backgroundColor="#ffff00",e.td.style.color="#ff0000")}}},{key:"checkMerged",value:function(e){return!(!e.cell||!(e.cell.colSpan<0||e.cell.rowSpan<0)||(e.td.style.display="none",e.cell.colSpan<0&&this.parent.notify("checkPrevMerge",e),e.cell.rowSpan<0&&(e.isRow=!0,this.parent.notify("checkPrevMerge",e)),0))}},{key:"processTemplates",value:function(e,t,n){for(var i,a=this.parent.getActiveSheet(),r=a.ranges,s=0,l=r.length;s<l;s++)if(r[s].template&&((i=YF(r[s].address.length?r[s].address:r[s].startCell))[0]<=t&&i[1]<=n&&i[2]>=t&&i[3]>=n)){if(e)return this.compileCellTemplate(r[s].template);if(!mB(t,n,a,!0))return this.compileCellTemplate(r[s].template)}return""}},{key:"compileCellTemplate",value:function(e){return _A(0===e.trim().indexOf("#")?document.querySelector(e).innerHTML.trim():e)({},null,null,"",!0)[0].outerHTML}},{key:"updateRowHeight",value:function(e){if(e.cell&&e.cell.children.length){var t=e.cell.cloneNode(!0);this.tableRow.appendChild(t)}if(e.lastCell&&this.tableRow.childElementCount){var n=this.parent.getActiveSheet(),i=e.row||this.parent.getRow(e.rowIdx),a=dB(n,e.rowIdx),r=this.getRowHeightOnInit();r>a&&(i.style.height="".concat(r,"px"),n.showHeaders&&((e.hRow||this.parent.getRow(e.rowIdx,this.parent.getRowHeaderTable())).style.height="".concat(r,"px")),pB(n,e.rowIdx,r)),this.tableRow.innerHTML=""}}},{key:"getRowHeightOnInit",value:function(){var e=this.parent.createElement("table",{className:"e-table e-test-table"});e.appendChild(this.parent.createElement("tbody")).appendChild(this.tableRow),this.parent.element.appendChild(e);var t=Math.round(this.tableRow.getBoundingClientRect().height);return this.parent.element.removeChild(e),t<20?20:t}},{key:"removeStyle",value:function(e,t,n){e.style.length&&e.removeAttribute("style");var i=this.parent.getCell(t-1,n);i&&i.style.borderBottom&&(t=Number(i.parentElement.getAttribute("aria-rowindex"))-1,this.parent.getCellStyleValue(["borderBottom"],[t,n]).borderBottom||(i.style.borderBottom=""));var a=e.previousElementSibling;a&&a.style.borderRight&&(n=Number(a.getAttribute("aria-colindex"))-1,this.parent.getCellStyleValue(["borderRight"],[t,n]).borderRight||(a.style.borderRight=""))}},{key:"refreshRange",value:function(e){var t=this.parent.getActiveSheet(),n=e.slice();if(KB(this.parent,n,!0))for(var i=n[0];i<=n[2];i++)if(!hB(t,i))for(var a=n[1];a<=n[3];a++){var r=this.parent.getCell(i,a);r&&(this.update({rowIdx:i,colIdx:a,td:r,cell:mB(i,a,t),lastCell:a===n[3],isRefresh:!0,isHeightCheckNeeded:!0,manualUpdate:!0,first:""}),this.parent.notify("renderFilterCell",{td:r,rowIndex:i,colIndex:a}))}}},{key:"refresh",value:function(e,t,n,i){var a=this.parent.getActiveSheet();if((i||!hB(a,e)&&!jB(a,t))&&(i||!this.parent.scrollSettings.enableVirtualization||e>=this.parent.viewport.topIndex&&e<=this.parent.viewport.bottomIndex&&t>=this.parent.viewport.leftIndex&&t<=this.parent.viewport.rightIndex)){var r=i||this.parent.getCell(e,t);this.update({rowIdx:e,colIdx:t,td:r,cell:mB(e,t,a),lastCell:n,isRefresh:!0,isHeightCheckNeeded:!0,manualUpdate:!0,first:""}),this.parent.notify("renderFilterCell",{td:r,rowIndex:e,colIndex:t})}}}]),e}(),xj=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"render",value:function(){this.parent.activeSheetIndex=this.parent.skipHiddenSheets(this.parent.activeSheetIndex),this.parent.isMobileView()||(this.parent.notify("ribbon",null),this.parent.notify("formulaBar",null));var e=this.parent.createElement("div",{id:this.parent.element.id+"_sheet_panel",className:"e-sheet-panel"});if(this.parent.enableRtl&&e.classList.add("e-rtl"),this.parent.element.appendChild(e),this.parent.showSheetTabs)this.parent.notify("sheetTabs",null);else{var t=MB(this.parent,0);this.parent.notify(oH,{action:"addSheet",sheetName:"Sheet1",index:1,visibleName:t}),this.parent.notify(oH,{action:"initiateDefinedNames"})}this.parent.isMobileView()&&(this.parent.notify("formulaBar",null),this.parent.notify("ribbon",null)),this.setSheetPanelSize(),this.renderSheet(e),this.checkTopLeftCell(!0)}},{key:"checkTopLeftCell",value:function(e){var t=this.parent.getActiveSheet();if(this.parent.scrollSettings.enableVirtualization&&"A1"!==t.topLeftCell){var n=GF(t.topLeftCell),i=n[0]?fB(t,0,n[0]-1):0,a=n[1]?VB(t,0,n[1]-1):0;this.parent.notify("onContentScroll",{scrollLeft:a,scrollTop:i,preventScroll:!0});var r=this.parent.getThreshold("row"),s=n[0]>r?n[0]-r:0;r=this.parent.getThreshold("col"),this.refreshUI({rowIndex:s,colIndex:n[1]>r?n[1]-r:0,refresh:"All",top:i,left:a})}else this.refreshUI({rowIndex:0,colIndex:0,refresh:"All"},null,e)}},{key:"renderSheet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.getElementById(this.parent.element.id+"_sheet_panel");e.appendChild(this.parent.createElement("div",{className:"e-sheet",id:this.parent.element.id+"_sheet"})),this.parent.serviceLocator.getService("sheet").renderPanel()}},{key:"refreshUI",value:function(e,t,n){var i=this.parent.serviceLocator.getService("sheet"),a=this.parent.getActiveSheet(),r=MB(this.parent);if(this.parent.showSpinner(),!t)if(this.parent.scrollSettings.enableVirtualization){var s=e.rowIndex+this.parent.viewport.rowCount+2*this.parent.getThreshold("row"),l=a.rowCount-1;this.parent.scrollSettings.isFinite&&s>l&&(s=l);var o=e.colIndex+this.parent.viewport.colCount+2*this.parent.getThreshold("col");l=a.colCount-1,this.parent.scrollSettings.isFinite&&o>l&&(o=l);var u=this.parent.skipHidden(e.rowIndex,s),c=e.rowIndex;if(e.rowIndex!==u[0]){var h=GF(a.topLeftCell);h[0]===e.rowIndex&&(a.topLeftCell=KF(u[0],h[1])),e.rowIndex=u[0]}s=u[1],u=this.parent.skipHidden(e.colIndex,o,"columns");var d=e.colIndex;if(e.colIndex!==u[0]){var p=GF(a.topLeftCell);p[1]===e.colIndex&&(a.topLeftCell=KF(p[0],u[0])),e.colIndex=u[0]}o=u[1],this.parent.viewport.topIndex=e.rowIndex,this.parent.viewport.bottomIndex=s,this.parent.viewport.leftIndex=e.colIndex,this.parent.viewport.rightIndex=o,t="".concat(KF(c,d),":").concat(KF(s,o))}else t="A1:".concat(KF(a.rowCount-1,a.colCount-1));"All"===e.refresh&&this.parent.trigger("beforeDataBound",{}),lV(this.parent.getMainContent(),{busy:!0}),this.parent.getData("".concat(r,"!").concat(t)).then((function(a){var r=[e.rowIndex,e.colIndex].concat(_toConsumableArray(GF(t.split(":")[1])));switch(e.refresh){case"All":i.renderTable({cells:a,indexes:r,top:e.top,left:e.left,initLoad:n});break;case"Row":i.refreshRowContent({cells:a,indexes:r,skipUpdateOnFirst:e.skipUpdateOnFirst});break;case"Column":i.refreshColumnContent({cells:a,indexes:r,skipUpdateOnFirst:e.skipUpdateOnFirst});break;case"RowPart":i.updateRowContent({cells:a,indexes:r,direction:e.direction,skipUpdateOnFirst:e.skipUpdateOnFirst});break;case"ColumnPart":i.updateColContent({cells:a,indexes:r,direction:e.direction,skipUpdateOnFirst:e.skipUpdateOnFirst})}})),this.parent.notify("beforeVirtualContentLoaded",{refresh:e.refresh})}},{key:"removeSheet",value:function(){JA(document.getElementById(this.parent.element.id+"_sheet"))}},{key:"refreshSheet",value:function(){this.removeSheet(),this.renderSheet(),this.parent.notify("deInitProperties",{}),this.checkTopLeftCell()}},{key:"setSheetPanelSize",value:function(){var e,t=document.getElementById(this.parent.element.id+"_sheet_panel"),n=this.parent.element.getBoundingClientRect();"auto"===this.parent.height?(t.style.height="260px",e=230):(e=n.height-GB(t),t.style.height="".concat(e,"px"),e-=32),this.parent.viewport.height=e,this.parent.viewport.width=n.width-32,this.parent.viewport.rowCount=this.roundValue(e,20),this.parent.viewport.colCount=this.roundValue(n.width,64)}},{key:"roundValue",value:function(e,t){var n=e/t,i=Math.round(n);return Math.abs(n-i)<.5?i:i-1}},{key:"instantiateRenderer",value:function(){this.parent.serviceLocator.register("cell",new _j(this.parent)),this.parent.serviceLocator.register("row",new wj(this.parent)),this.parent.serviceLocator.register("sheet",new Cj(this.parent))}},{key:"destroy",value:function(){this.removeEventListener(),this.parent=null}},{key:"addEventListener",value:function(){this.parent.on("initialLoad",this.instantiateRenderer,this),this.parent.on("dataRefresh",this.refreshSheet,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}},{key:"removeEventListener",value:function(){this.parent.off("initialLoad",this.instantiateRenderer),this.parent.off("dataRefresh",this.refreshSheet),this.parent.off("spreadsheetDestroyed",this.destroy)}}]),e}(),Sj=function(){function e(t){_classCallCheck(this,e),this.parent=t}return _createClass(e,[{key:"show",value:function(e,t){var n,i=this;t=!!JO(t);var a=e.close||null,r={header:"Spreadsheet",cssClass:this.parent.cssClass,target:this.parent.element,buttons:[]};e.close=function(){i.dialogInstance.destroy(),JA(i.dialogInstance.element),i.dialogInstance=null,a&&a()},ZO(r,e),t&&(n=this.parent.serviceLocator.getService(gj).getConstant(r.buttons.length?"Cancel":"Ok"),r.buttons.push({buttonModel:{content:n,isPrimary:0===r.buttons.length},click:this.hide.bind(this)}));var s=this.parent.createElement("div");document.body.appendChild(s),this.dialogInstance=new zP(r),this.dialogInstance.createElement=this.parent.createElement,this.dialogInstance.appendTo(s),this.dialogInstance.refreshPosition()}},{key:"hide",value:function(){this.dialogInstance&&this.dialogInstance.hide()}},{key:"destroy",value:function(){this.parent=null}}]),e}(),Ej=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.addEventListener()}return _createClass(e,[{key:"initializeActionBegin",value:function(){var e=this,t=this.parent.beforeCellFormat;this.parent.beforeCellFormat=function(n){e.actionEventHandler({evtArgs:n,evtFunc:t,actionType:"begin",eventType:"format"})};var n=this.parent.beforeOpen;this.parent.beforeOpen=function(t){e.actionEventHandler({evtArgs:t,evtFunc:n,actionType:"begin",eventType:"beforeOpen"})};var i=this.parent.beforeSave;this.parent.beforeSave=function(t){e.actionEventHandler({evtArgs:t,evtFunc:i,actionType:"begin",eventType:"beforeSave"})};var a=this.parent.beforeSort;this.parent.beforeSort=function(t){e.actionEventHandler({evtArgs:t,evtFunc:a,actionType:"begin",eventType:"beforeSort"})}}},{key:"initializeActionComplete",value:function(){var e=this,t=this.parent.sortComplete;this.parent.sortComplete=function(n){e.actionEventHandler({evtArgs:n,evtFunc:t,actionType:"complete",eventType:"sorting"})};var n=this.parent.cellSave;this.parent.cellSave=function(t){e.actionEventHandler({evtArgs:t,evtFunc:n,actionType:"complete",eventType:"cellSave"})}}},{key:"actionEventHandler",value:function(e){e.evtFunc&&e.evtFunc.apply(this,[e]),"begin"===e.actionType?this.actionBeginHandler({eventArgs:e.evtArgs,action:e.eventType}):this.actionCompleteHandler({eventArgs:e.evtArgs,action:e.eventType})}},{key:"actionBeginHandler",value:function(e){this.parent.trigger("actionBegin",{action:e.action,args:e}),"clipboard"!==e.action&&"beforeSort"!==e.action&&"format"!==e.action&&"cellSave"!==e.action&&"beforeWrap"!==e.action&&"beforeReplace"!==e.action||this.parent.notify("setActionData",{args:e})}},{key:"actionCompleteHandler",value:function(e){this.parent.trigger("actionComplete",e),"undoRedo"!==e.action&&"gotoSheet"!==e.action&&this.parent.notify("updateUndoRedoCollection",{args:e})}},{key:"addEventListener",value:function(){this.parent.on(kH,this.actionCompleteHandler,this),this.parent.on(CH,this.actionBeginHandler,this)}},{key:"removeEventListener",value:function(){this.parent.off(kH,this.actionCompleteHandler),this.parent.off(CH,this.actionBeginHandler)}}]),e}(),Oj=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ij=(EV=SV=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).isEdit=!1,a.viewport={rowCount:0,colCount:0,height:0,topIndex:0,leftIndex:0,width:0,bottomIndex:0,rightIndex:0},a.needsID=!0,SV.Inject(ej,tj,ij,MV,DV,LV,NV,AV,fH,aj,sj,rj,lj,RV,nj,zV,YH,xH,SH,WH,hH,zH,oj,qH,FV,jV,UH,uj,VV,GH,qV,UV,XH,KH,WV,$H,YV,GV,XV,QH,ZH),i&&a.appendTo(i),a}return _createClass(n,[{key:"getCell",value:function(e,t,n){return t=this.getViewportIndex(t,!0),n||(n=this.getRow(e)),n?n.cells[t]:n}},{key:"getRow",value:function(e,t){return e=this.getViewportIndex(e),(t=t||this.getContentTable())?t.rows[e]:null}},{key:"hiddenCount",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rows",i=this.getActiveSheet(),a=0,r=e;r<=t;r++)i[n][r]&&i[n][r].hidden&&a++;return a}},{key:"getViewportIndex",value:function(e,t){return this.scrollSettings.enableVirtualization&&(t?(e-=this.hiddenCount(this.viewport.leftIndex,e,"columns"),e-=this.viewport.leftIndex):(e-=this.hiddenCount(this.viewport.topIndex,e),e-=this.viewport.topIndex)),e}},{key:"preRender",value:function(){_get(_getPrototypeOf(n.prototype),"preRender",this).call(this),this.serviceLocator=new LB,this.initServices()}},{key:"initServices",value:function(){this.serviceLocator.register(gj,new tM(this.getModuleName(),kj,this.locale)),this.serviceLocator.register(vj,new Sj(this)),this.serviceLocator.register("actionEvents",new Ej(this))}},{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.element.setAttribute("tabindex","0"),lV(this.element,{role:"grid"}),this.renderModule=new xj(this),this.notify("initialLoad",null),this.renderSpreadsheet(),this.wireEvents(),this.created&&(this.created.observers?this.created.observers.length>0&&(this.createdHandler={observers:this.created.observers},this.created.observers=[]):(this.createdHandler=this.created,this.setProperties({created:void 0},!0)))}},{key:"renderSpreadsheet",value:function(){this.cssClass&&UA([this.element],this.cssClass.split(" ")),this.setHeight(),this.setWidth(),KP({target:this.element},this.createElement),this.isMobileView()&&-1===this.cssClass.indexOf("e-mobile-view")&&this.element.classList.add("e-mobile-view"),this.sheetModule=this.serviceLocator.getService("sheet"),this.allowScrolling&&(this.scrollModule=new TV(this)),this.scrollSettings.enableVirtualization&&new PV(this),this.renderModule.render(),new BV(this)}},{key:"showSpinner",value:function(){rL(this.element)}},{key:"hideSpinner",value:function(){lL(this.element)}},{key:"protectSheet",value:function(e,t){"string"==typeof e&&(e=wB(this,e)),e&&(this.sheets[e].isProtected=!0,this.sheets[e].protectSettings=t),e=this.getActiveSheet().index,this.getActiveSheet().isProtected=!0,_get(_getPrototypeOf(n.prototype),"protectSheet",this).call(this,e,t)}},{key:"unprotectSheet",value:function(e){"string"==typeof e&&(e=wB(this,e)),e?this.sheets[e].isProtected=!1:this.getActiveSheet().isProtected=!1,_get(_getPrototypeOf(n.prototype),"unprotectSheet",this).call(this,e)}},{key:"find",value:function(e){_get(_getPrototypeOf(n.prototype),"findHandler",this).call(this,e)}},{key:"replace",value:function(e){_get(_getPrototypeOf(n.prototype),"replaceHandler",this).call(this,e)}},{key:"findAll",value:function(e,t,n,i,a){var r=[];return this.notify("findAllValues",{value:e,mode:t=t||"Sheet",sheetIndex:a=a||this.activeSheetIndex,isCSen:n=n||!1,isEMatch:i=i||!1,findCollection:r}),r}},{key:"goTo",value:function(e){if(e.includes("!")){var t=e.split("!"),n=wB(this,t[0]);if(void 0===n)return;if(n!==this.activeSheetIndex){var i=t[1].split(":")[0];this.sheets[n].activeCell=i,this.sheets[n].selectedRange=t[1];var a=GF(i);return a[0]<this.viewport.rowCount&&(a[0]=0),a[1]<this.viewport.colCount&&(a[1]=0),this.sheets[n].topLeftCell=KF(a[0],a[1]),this.activeSheetIndex=n,void this.dataBind()}}var r=YF(e),s=this.getActiveSheet(),l=r[0]>=this.viewport.topIndex&&r[0]<this.viewport.bottomIndex&&r[1]>=this.viewport.leftIndex&&r[1]<this.viewport.rightIndex;if(l){this.selectRange(e);var o=GF(s.topLeftCell);if(o[2]=o[0]+this.viewport.rowCount,o[3]=o[1]+this.viewport.colCount,r[0]>=o[0]&&r[0]<o[2]&&r[1]>=o[1]&&r[1]<o[3])return}var u,c,h,d,p,f,m,g=this.getMainContent();0===r[0]?d=fB(s,0):(d=fB(s,0,r[0]-1),this.scrollSettings.enableVirtualization&&(m=d+this.getContentTable().getBoundingClientRect().height)>(f=parseInt(g.querySelector(".e-virtualtrack").style.height,10))&&(m+=10,(u=g.querySelector(".e-virtualtrack")).style.height="".concat(m,"px"),s.showHeaders&&((h=this.getRowHeaderContent().querySelector(".e-virtualtrack")).style.height="".concat(m,"px")),zB((function(){u.style.height="".concat(f,"px"),s.showHeaders&&(h.style.height="".concat(f,"px"))})))),g.scrollTop=d,0===r[1]?d=VB(s,0):(d=VB(s,0,r[1]-1),this.scrollSettings.enableVirtualization&&(m=d+this.getContentTable().getBoundingClientRect().width)>(p=parseInt(g.querySelector(".e-virtualtrack").style.width,10))&&(m+=10,(u=g.querySelector(".e-virtualtrack")).style.width="".concat(m,"px"),s.showHeaders&&((c=this.getColumnHeaderContent().querySelector(".e-virtualtrack")).style.width="".concat(m,"px")),zB((function(){u.style.width="".concat(p,"px"),s.showHeaders&&(c.style.width="".concat(p,"px"))})))),g.scrollLeft=d,l||this.selectRange(e)}},{key:"resize",value:function(){this.renderModule.setSheetPanelSize(),this.scrollSettings.enableVirtualization&&this.renderModule.refreshSheet()}},{key:"cut",value:function(e){var t=new Promise((function(e,t){e(void 0)}));return this.notify("cut",e?{range:JF(e),sId:this.sheets[wB(this,xB(e))].id,promise:t}:{promise:t}),t}},{key:"copy",value:function(e){var t=new Promise((function(e,t){e(void 0)}));return this.notify("copy",e?{range:JF(e),sId:this.sheets[wB(this,xB(e))].id,promise:t}:{promise:t}),t}},{key:"paste",value:function(e,t){this.notify("paste",{range:JF(e),sIdx:wB(this,xB(e)),type:t,isAction:!1})}},{key:"updateAction",value:function(e){var t=JSON.parse(e);this.notify("collaborativeUpdate",{action:t.action,eventArgs:t.eventArgs})}},{key:"setHeight",value:function(){this.height.toString().indexOf("%")>-1&&(this.element.style.minHeight="400px"),this.element.style.height=aI(this.height)}},{key:"setWidth",value:function(){(this.width.toString().indexOf("%")>-1||"auto"===this.width)&&(this.element.style.minWidth="300px"),this.element.style.width=aI(this.width)}},{key:"setColWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=this.getThreshold("col"),a=this.viewport.leftIndex+this.viewport.colCount+2*i,r=JO(n)?this.getActiveSheet():this.sheets[n];if(r){var s=t,l="number"==typeof e?e+"px":e;if(t=JO(t)?GF(r.activeCell)[1]:t,r===this.getActiveSheet())if(t>=this.viewport.leftIndex&&t<=a){this.scrollSettings.enableVirtualization&&(t-=this.viewport.leftIndex);var o=this.getColumnHeaderContent().getElementsByClassName("e-header-cell")[t],u=parseInt(this.getMainContent().getElementsByTagName("col")[t].style.width,10),c=parseInt(l,10)-u;c<0&&u<-c&&(GF(r.activeCell),c=-u);var h=parseInt(o.getAttribute("aria-colindex"),10)-1;this.getActiveSheet()===r&&(this.notify("colWidthChanged",{threshold:c,colIdx:h}),oV(t,l,!0,this))}else{var d,p=BB(r,t);d=parseInt(l,10)>0?-(p-parseInt(l,10)):-p,this.notify("colWidthChanged",{threshold:d,colIdx:t})}FB(r,s).width=parseInt(l,10)>0?parseInt(l,10):0,r.columns[s].customWidth=!0}}},{key:"setRowHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=JO(n)?this.getActiveSheet():this.sheets[n];if(i){var a=t,r="number"==typeof e?e+"px":e;if(t=JO(t)?GF(i.activeCell)[0]:t,i===this.getActiveSheet())if(t<=this.viewport.bottomIndex&&t>=this.viewport.topIndex){this.scrollSettings.enableVirtualization&&(t-=this.viewport.topIndex);var s=this.getRowHeaderContent().getElementsByClassName("e-header-cell")[t],l=parseInt(this.getMainContent().getElementsByTagName("tr")[t].style.height,10),o=parseInt(r,10)-l;o<0&&l<-o&&(o=-l);var u=parseInt(s.parentElement.getAttribute("aria-rowindex"),10)-1;this.getActiveSheet()===i&&(this.notify("rowHeightChanged",{threshold:o,rowIdx:u}),oV(t,r,!1,this))}else{var c,h=dB(i,t);c=parseInt(r,10)>0?-(h-parseInt(r,10)):-h,this.notify("rowHeightChanged",{threshold:c,rowIdx:t})}pB(i,a,parseInt(r,10)>0?parseInt(r,10):0),i.rows[a].customHeight=!0}}},{key:"autoFit",value:function(e){var t=this.getIndexes(e),n=t.startIdx,i=t.endIdx,a=t.isCol,r=a?XF("XFD"):1048576;if(n<=r)for(i>r&&(i=r);n<=i;n++)this.notify("setAutoFit",{idx:n,isCol:a})}},{key:"getIndexes",value:function(e){var t,n,i,a,r;if(-1!==e.indexOf(":")){var s=e.split(":");i=s[0],a=s[1]}else i=e,a=e;if(!JO(i)){var l=this.getAddress(i);i=l.address,t=l.isCol}if(!JO(a)){var o=this.getAddress(a);a=o.address,n=o.isCol}return{startIdx:(r=!0===t&&!0===n)?XF(i.toUpperCase()):parseInt(i,10),endIdx:r?XF(a.toUpperCase()):parseInt(a,10),isCol:r}}},{key:"getAddress",value:function(e){var t;return e.substring(0,1).match(/\D/g)?(t=!0,{address:e=e.replace(/[0-9]/g,""),isCol:t}):e.substring(0,1).match(/[0-9]/g)&&e.match(/\D/g)?{address:"",isCol:!1}:{address:e=(parseInt(e,10)-1).toString(),isCol:t}}},{key:"addHyperlink",value:function(e,t){this.insertHyperlink(e,t,"",!0)}},{key:"removeHyperlink",value:function(e){var t,n,i=this.getActiveSheet();if(e&&-1!==e.indexOf("!")){t=e.split("!");for(var a=this.sheets,r=0;r<a.length;r++)a[r].name===t[0]&&(n=r);i=this.sheets[n],e=t[1]}for(var s,l=YF(e||this.getActiveSheet().activeCell),o=l[0];o<=l[2];o++)for(var u=l[1];u<=l[3];u++)if(i&&i.rows[o]&&i.rows[o].cells[u]&&((s=i.rows[o].cells[u]).value="string"==typeof s.hyperlink?s.value?s.value:s.hyperlink:s.value?s.value:s.hyperlink.address,delete s.hyperlink,i===this.getActiveSheet())){var c=void 0,h=void 0;this.scrollSettings.enableVirtualization&&(c=o-this.viewport.topIndex,h=u-this.viewport.leftIndex);var d=this.element.getElementsByClassName("e-sheet-content")[0].getElementsByClassName("e-row")[c].getElementsByClassName("e-cell")[h];d.getElementsByClassName("e-hyperlink")[0]&&(d.innerText=d.getElementsByClassName("e-hyperlink")[0].innerHTML)}}},{key:"insertHyperlink",value:function(e,t,i,a){if(this.allowHyperlink){var r,s,l,o=this.getActiveSheet(),u={hyperlink:e,cell:t=t||this.getActiveSheet().activeCell,cancel:!1},c={hyperlink:e,cell:t};if(a||this.trigger("beforeHyperlinkCreate",u),!u.cancel){if(_get(_getPrototypeOf(n.prototype),"addHyperlink",this).call(this,e=u.hyperlink,t=u.cell),t&&-1!==t.indexOf("!")){r=t.split("!");for(var h=this.sheets,d=0;d<h.length;d++)h[d].name===r[0]&&(s=d);o=this.sheets[s],t=r[1]}if(!o)return;l=YF(t=t||this.getActiveSheet().activeCell),"string"==typeof e||e.address,JO(o.rows[l[0]].cells[l[1]].value),a||this.trigger("afterHyperlinkCreate",c),o===this.getActiveSheet()&&this.serviceLocator.getService("cell").refreshRange(l)}}}},{key:"addDataValidation",value:function(e,t){_get(_getPrototypeOf(n.prototype),"addDataValidation",this).call(this,e,t)}},{key:"removeDataValidation",value:function(e){_get(_getPrototypeOf(n.prototype),"removeDataValidation",this).call(this,e)}},{key:"addInvalidHighlight",value:function(e){_get(_getPrototypeOf(n.prototype),"addInvalidHighlight",this).call(this,e)}},{key:"removeInvalidHighlight",value:function(e){_get(_getPrototypeOf(n.prototype),"removeInvalidHighlight",this).call(this,e)}},{key:"setPanelSize",value:function(){if("auto"!==this.height){var e=document.getElementById(this.element.id+"_sheet_panel");e.style.height="".concat(this.element.getBoundingClientRect().height-GB(e),"px")}}},{key:"open",value:function(e){this.isOpen=!0,_get(_getPrototypeOf(n.prototype),"open",this).call(this,e),this.isOpen&&this.showSpinner()}},{key:"hideRow",value:function(e,t,i,a){JO(t)&&(t=e),JO(i)&&(i=!0),a=wB(this,a)||0,this.renderModule&&a===this.activeSheetIndex?this.notify("hideShow",{startIndex:e,endIndex:t,hide:i}):_get(_getPrototypeOf(n.prototype),"hideRow",this).call(this,e,t,i,a)}},{key:"hideColumn",value:function(e,t,i,a){JO(t)&&(t=e),JO(i)&&(i=!0),a=wB(this,a)||0,this.renderModule&&a===this.activeSheetIndex?this.notify("hideShow",{startIndex:e,endIndex:t,hide:i,isCol:!0}):_get(_getPrototypeOf(n.prototype),"hideColumn",this).call(this,e,t,i,a)}},{key:"refresh",value:function(e){e?this.notify("blankWorkbook",{}):_get(_getPrototypeOf(n.prototype),"refresh",this).call(this)}},{key:"getRowHeaderContent",value:function(){return this.sheetModule.getRowHeaderPanel()}},{key:"getColumnHeaderContent",value:function(){return this.sheetModule.getColHeaderPanel()}},{key:"getMainContent",value:function(){return this.sheetModule.getContentPanel()}},{key:"getContentTable",value:function(){return this.sheetModule.getContentTable()}},{key:"getRowHeaderTable",value:function(){return this.sheetModule.getRowHeaderTable()}},{key:"getColHeaderTable",value:function(){return this.sheetModule.getColHeaderTable()}},{key:"getThreshold",value:function(e){var t=Math.round((this.viewport[e+"Count"]+1)/2);return t<15?15:t}},{key:"isMobileView",value:function(){return(this.cssClass.indexOf("e-mobile-view")>-1||KI.isDevice)&&-1===this.cssClass.indexOf("e-desktop-view")&&!1}},{key:"getValueRowCol",value:function(e,t,i){return _get(_getPrototypeOf(n.prototype),"getValueRowCol",this).call(this,e,t,i)}},{key:"updateCell",value:function(e,t){t=t||this.getActiveSheet().activeCell,_get(_getPrototypeOf(n.prototype),"updateCell",this).call(this,e,t),this.serviceLocator.getService("cell").refreshRange(JF(t)),this.notify("activeCellChanged",null)}},{key:"sort",value:function(e,t){var i=this;return this.allowSorting?_get(_getPrototypeOf(n.prototype),"sort",this).call(this,e,t).then((function(e){return i.notify("sortComplete",e),Promise.resolve(e)})):Promise.reject()}},{key:"setValueRowCol",value:function(e,t,i,a){if("circular reference: "===t){var r={action:"isCircularReference",argValue:t};this.notify("formulaOperation",r),t=r.argValue}_get(_getPrototypeOf(n.prototype),"setValueRowCol",this).call(this,e,t,i,a),e=_B(this,e),this.notify(mH,{action:"refreshDependentCellValue",rowIdx:i,colIdx:a,sheetIdx:e})}},{key:"getModuleName",value:function(){return"spreadsheet"}},{key:"refreshNode",value:function(e,t){var n,i=e.querySelector("#"+this.element.id+"_currency"),a="e-right-align";if(t){if(t.result=JO(t.result)?"":t.result.toString(),i&&ZA(i),"Accounting"===t.type&&sH(t.value))return e.querySelector("a")?e.querySelector("a").textContent=t.result.split(t.curSymbol).join(""):e.innerHTML="",e.appendChild(this.createElement("span",{id:this.element.id+"_currency",innerHTML:"".concat(t.curSymbol),styles:"float: left"})),e.querySelector("a")||(e.innerHTML+=t.result.split(t.curSymbol).join("")),void e.classList.add(a);!t.result||"true"!==t.result.toLowerCase()&&"false"!==t.result.toLowerCase()||(t.result=t.result.toUpperCase(),a="e-center-align",t.isRightAlign=!0),n=t.result,t.isRightAlign?e.classList.add(a):e.classList.remove(a)}if(n=JO(n)?"":n,!JO(e)){var r=e.lastChild;e.querySelector(".e-hyperlink")&&(r=e.querySelector(".e-hyperlink").lastChild),!r||3!==r.nodeType&&1!==r.nodeType?e.appendChild(document.createTextNode(n)):r.nodeValue=n}}},{key:"calculateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e&&e.fontSize||this.cellStyle.fontSize,a="Arial Black"===e.fontFamily?1.44:1.24;return(i.indexOf("pt")>-1?1.33*parseInt(i,10):parseInt(i,10))*a*t+n*a}},{key:"skipHidden",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rows",a=this.getActiveSheet();this.scrollSettings.isFinite&&(n=("rows"===i?a.rowCount:a.colCount)-1);for(var r=e;r<=t;r++)if(a[i][r]&&a[i][r].hidden&&(e===r&&e++,t++,n&&t>n)){t=n;break}return[e,t]}},{key:"updateActiveBorder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".e-ribbon",n=eD("".concat(t," .e-tab-header .e-indicator"),this.element);n.style.display="none",iD(n,{left:"",right:""}),iD(n,{left:e.offsetLeft+"px",right:e.parentElement.offsetWidth-(e.offsetLeft+e.offsetWidth)+"px"}),n.style.display=""}},{key:"skipHiddenSheets",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.sheets[e]&&"Visible"!==this.sheets[e].state&&(void 0===t&&(t=e),e&&e+1===this.sheets.length?e=t-1:e<t?e--:e++,e=this.skipHiddenSheets(e,t,++n)),n===this.sheets.length?(this.sheets[0].state="Visible",0):e}},{key:"undo",value:function(){this.notify("performUndoRedo",{isUndo:!0,isPublic:!0})}},{key:"redo",value:function(){this.notify("performUndoRedo",{isUndo:!1,isPublic:!0})}},{key:"updateUndoRedoCollection",value:function(e){this.notify("updateUndoRedoCollection",{args:e,isPublic:!0})}},{key:"addDefinedName",value:function(e){var t={action:"addDefinedName",isAdded:!1,definedName:e};return this.notify("formulaOperation",t),t.isAdded}},{key:"removeDefinedName",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeDefinedName",this).call(this,e,t)}},{key:"mouseClickHandler",value:function(e){this.notify("click",e)}},{key:"mouseDownHandler",value:function(e){this.notify("mouseDown",e)}},{key:"keyUpHandler",value:function(e){nD(e.target,".e-find-dlg")?this.notify("findKeyUp",e):this.notify(gH,e)}},{key:"keyDownHandler",value:function(e){nD(e.target,".e-findtool-dlg")||this.notify(vH,e)}},{key:"wireEvents",value:function(){$I.add(this.element,"click",this.mouseClickHandler,this),$I.add(this.element,JB(),this.mouseDownHandler,this),$I.add(this.element,"keyup",this.keyUpHandler,this),$I.add(this.element,"keydown",this.keyDownHandler,this),$I.add(this.element,"noderefresh",this.refreshNode,this)}},{key:"destroy",value:function(){this.unwireEvents(),this.notify("spreadsheetDestroyed",null),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.element.innerHTML="",this.element.removeAttribute("tabindex"),this.element.removeAttribute("role"),this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("min-height"),this.element.style.removeProperty("min-width")}},{key:"unwireEvents",value:function(){$I.remove(this.element,"click",this.mouseClickHandler),$I.remove(this.element,JB(),this.mouseDownHandler),$I.remove(this.element,"keyup",this.keyUpHandler),$I.remove(this.element,"keydown",this.keyDownHandler),$I.remove(this.element,"noderefresh",this.refreshNode)}},{key:"addContextMenuItems",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;this.notify("addContextMenuItems",{items:e,text:t,insertAfter:n,isUniqueId:i})}},{key:"removeContextMenuItems",value:function(e,t){this.notify("removeContextMenuItems",{items:e,isUniqueId:t})}},{key:"enableContextMenuItems",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;this.notify("enableContextMenuItems",{items:e,enable:t,isUniqueId:n})}},{key:"enableFileMenuItems",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;this.notify("enableFileMenuItems",{items:e,enable:t,isUniqueId:n})}},{key:"hideFileMenuItems",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;this.notify("hideFileMenuItems",{items:e,hide:t,isUniqueId:n})}},{key:"addFileMenuItems",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;this.notify("addFileMenuItems",{items:e,text:t,insertAfter:n,isUniqueId:i})}},{key:"hideRibbonTabs",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.notify("hideRibbonTabs",{tabs:e,hide:t})}},{key:"enableRibbonTabs",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.notify("enableRibbonTabs",{tabs:e,enable:t})}},{key:"addRibbonTabs",value:function(e,t){this.notify("addRibbonTabs",{items:e,insertBefore:t})}},{key:"enableToolbarItems",value:function(e,t,n){this.notify("enableToolbarItems",[{tab:e,items:t,enable:void 0===n||n}])}},{key:"hideToolbarItems",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.notify("hideToolbarItems",{tab:e,indexes:t,hide:n})}},{key:"addToolbarItems",value:function(e,t,n){this.notify("addToolbarItems",{tab:e,items:t,index:n})}},{key:"selectRange",value:function(e){this.notify("selectRange",{indexes:YF(e)})}},{key:"startEdit",value:function(){this.notify(mH,{action:"startEdit",isNewValueEdit:!1})}},{key:"closeEdit",value:function(){this.notify(mH,{action:"cancelEdit"})}},{key:"endEdit",value:function(){this.notify(mH,{action:"endEdit"})}},{key:"onPropertyChanged",value:function(e,t){var i=this;_get(_getPrototypeOf(n.prototype),"onPropertyChanged",this).call(this,e,t);for(var a=0,r=Object.keys(e);a<r.length;a++)switch(r[a]){case"enableRtl":e.enableRtl?document.getElementById(this.element.id+"_sheet_panel").classList.add("e-rtl"):document.getElementById(this.element.id+"_sheet_panel").classList.remove("e-rtl");break;case"cssClass":t.cssClass&&WA([this.element],t.cssClass.split(" ")),e.cssClass&&UA([this.element],e.cssClass.split(" "));break;case"activeSheetIndex":this.renderModule.refreshSheet(),this.notify("activeSheetChanged",{idx:e.activeSheetIndex});break;case"width":this.setWidth(),this.resize();break;case"height":this.setHeight(),this.resize();break;case"showRibbon":this.notify("ribbon",{uiUpdate:!0});break;case"showFormulaBar":this.notify("formulaBar",{uiUpdate:!0});break;case"showSheetTabs":this.notify("sheetTabs",null);break;case"cellStyle":this.renderModule.refreshSheet();break;case"sheets":this.renderModule.refreshSheet(),this.showSheetTabs&&Object.keys(e.sheets).forEach((function(t){i.notify("sheetNameUpdate",{items:i.element.querySelector(".e-sheet-tabs-items").children[t],value:e.sheets[t].name,idx:t})}));break;case"locale":this.refresh()}}},{key:"requiredModules",value:function(){return function(e,t){t.push({member:"basic",args:[]}),t.push({member:"all",args:[]}),e.showRibbon&&t.push({member:"ribbon",args:[e]}),e.showFormulaBar&&t.push({member:"formulaBar",args:[e]}),e.showSheetTabs&&t.push({member:"sheetTabs",args:[e]}),e.allowEditing&&(t.push({member:"edit",args:[e]}),t.push({member:"formula",args:[e]}),t.push({member:"workbookFormula",args:[e]}),t.push({member:"workbookEdit",args:[e]})),e.allowOpen&&t.push({member:"open",args:[e]}),e.allowSave&&t.push({member:"save",args:[e]}),e.enableContextMenu&&t.push({member:"contextMenu",args:[e]}),"None"!==e.selectionSettings.mode&&t.push({member:"selection",args:[e]}),e.enableKeyboardNavigation&&t.push({member:"keyboardNavigation",args:[e]}),e.allowNumberFormatting&&t.push({member:"numberFormat",args:[e]}),e.enableKeyboardShortcut&&t.push({member:"keyboardShortcut",args:[e]}),e.enableClipboard&&t.push({member:"clipboard",args:[e]}),e.allowCellFormatting&&t.push({member:"cellformat",args:[e]}),e.allowSorting&&t.push({member:"sort",args:[e]}),e.allowResizing&&t.push({member:"resize",args:[e]}),t.push({member:"collaborativeEditing",args:[e]}),t.push({member:"protectSheet",args:[e]}),e.allowHyperlink&&t.push({member:"spreadsheetHyperlink",args:[e]}),e.allowUndoRedo&&t.push({member:"undoredo",args:[e]}),e.allowFiltering&&t.push({member:"filter",args:[e]}),e.allowWrap&&t.push({member:"wrapText",args:[e]}),e.allowInsert&&t.push({member:"insert",args:[e]}),e.allowDelete&&t.push({member:"delete",args:[e]}),e.allowDataValidation&&t.push({member:"dataValidation",args:[e]}),e.allowFindAndReplace&&t.push({member:"findAndReplace",args:[e]}),e.allowMerge&&t.push({member:"merge",args:[e]})}(e=this,t=[]),eB(e,t),t;var e,t}},{key:"appendTo",value:function(e){_get(_getPrototypeOf(n.prototype),"appendTo",this).call(this,e)}},{key:"filter",value:function(e,t){return this.allowFiltering?(t=t||this.getActiveSheet().selectedRange,_get(_getPrototypeOf(n.prototype),"filter",this).call(this,e,t)):Promise.reject()}},{key:"clearFilter",value:function(e){e?this.notify("clearFilter",{field:e}):_get(_getPrototypeOf(n.prototype),"clearFilter",this).call(this)}},{key:"applyFilter",value:function(e,t){this.notify("initiateFilterUI",{predicates:e,range:t})}},{key:"addCustomFunction",value:function(e,t){_get(_getPrototypeOf(n.prototype),"addCustomFunction",this).call(this,e,t),this.notify("refreshFormulaDatasource",null)}}]),n}(RB),Oj([bD("")],EV.prototype,"cssClass",void 0),Oj([bD(!0)],EV.prototype,"allowScrolling",void 0),Oj([bD(!0)],EV.prototype,"allowResizing",void 0),Oj([bD(!0)],EV.prototype,"enableClipboard",void 0),Oj([bD(!0)],EV.prototype,"enableContextMenu",void 0),Oj([bD(!0)],EV.prototype,"enableKeyboardNavigation",void 0),Oj([bD(!0)],EV.prototype,"enableKeyboardShortcut",void 0),Oj([bD(!0)],EV.prototype,"allowUndoRedo",void 0),Oj([bD(!0)],EV.prototype,"allowWrap",void 0),Oj([kD({},fj)],EV.prototype,"selectionSettings",void 0),Oj([kD({},pj)],EV.prototype,"scrollSettings",void 0),Oj([wD()],EV.prototype,"beforeCellRender",void 0),Oj([wD()],EV.prototype,"beforeSelect",void 0),Oj([wD()],EV.prototype,"select",void 0),Oj([wD()],EV.prototype,"contextMenuBeforeOpen",void 0),Oj([wD()],EV.prototype,"fileMenuBeforeOpen",void 0),Oj([wD()],EV.prototype,"contextMenuBeforeClose",void 0),Oj([wD()],EV.prototype,"fileMenuBeforeClose",void 0),Oj([wD()],EV.prototype,"contextMenuItemSelect",void 0),Oj([wD()],EV.prototype,"fileMenuItemSelect",void 0),Oj([wD()],EV.prototype,"beforeDataBound",void 0),Oj([wD()],EV.prototype,"dataBound",void 0),Oj([wD()],EV.prototype,"cellEdit",void 0),Oj([wD()],EV.prototype,"cellEditing",void 0),Oj([wD()],EV.prototype,"cellSave",void 0),Oj([wD()],EV.prototype,"beforeCellSave",void 0),Oj([wD()],EV.prototype,"created",void 0),Oj([wD()],EV.prototype,"beforeSort",void 0),Oj([wD()],EV.prototype,"beforeHyperlinkCreate",void 0),Oj([wD()],EV.prototype,"afterHyperlinkCreate",void 0),Oj([wD()],EV.prototype,"beforeHyperlinkClick",void 0),Oj([wD()],EV.prototype,"afterHyperlinkClick",void 0),Oj([wD()],EV.prototype,"actionBegin",void 0),Oj([wD()],EV.prototype,"actionComplete",void 0),Oj([wD()],EV.prototype,"openComplete",void 0),Oj([wD()],EV.prototype,"sortComplete",void 0),EV=SV=Oj([_D],EV)),Aj=["customWidth","hidden","index","width"],Dj=[],Mj=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).viewContainerRef=e,dM("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Dj),i.directivePropList=Aj,i}return n}(pM),Tj=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"columns")}return n}(fM),Pj=["activeCell","colCount","columns","index","isProtected","name","protectSettings","ranges","rowCount","rows","selectedRange","showGridLines","showHeaders","state","topLeftCell","usedRange"],Lj=[],Nj=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).viewContainerRef=e,i.tags=["rows","columns","ranges"],dM("currentInstance",_assertThisInitialized(i),i.viewContainerRef),i.registerEvents(Lj),i.directivePropList=Pj,i}return n}(pM),Rj=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"sheets")}return n}(fM),Fj=function(e,t,n,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Hj=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Bj=["actionBegin","actionComplete","afterHyperlinkClick","afterHyperlinkCreate","beforeCellFormat","beforeCellRender","beforeCellSave","beforeDataBound","beforeHyperlinkClick","beforeHyperlinkCreate","beforeOpen","beforeSave","beforeSelect","beforeSort","cellEdit","cellEditing","cellSave","contextMenuBeforeClose","contextMenuBeforeOpen","contextMenuItemSelect","created","dataBound","fileMenuBeforeClose","fileMenuBeforeOpen","fileMenuItemSelect","openComplete","openFailure","queryCellInfo","saveComplete","select","sortComplete"],Vj=[""],jj=(IV=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r){var s;_classCallCheck(this,n),(s=t.call(this)).ngEle=e,s.srenderer=i,s.viewContainerRef=a,s.injector=r,s.tags=["sheets","definedNames"],s.element=s.ngEle.nativeElement,s.injectedModules=s.injectedModules||[];try{var l=s.injector.get("SpreadsheetClipboard");-1===s.injectedModules.indexOf(l)&&s.injectedModules.push(l)}catch(ZK){}try{var o=s.injector.get("SpreadsheetEdit");-1===s.injectedModules.indexOf(o)&&s.injectedModules.push(o)}catch(S){}try{var u=s.injector.get("SpreadsheetKeyboardNavigation");-1===s.injectedModules.indexOf(u)&&s.injectedModules.push(u)}catch(E){}try{var c=s.injector.get("SpreadsheetKeyboardShortcut");-1===s.injectedModules.indexOf(c)&&s.injectedModules.push(c)}catch(O){}try{var h=s.injector.get("SpreadsheetCollaborativeEditing");-1===s.injectedModules.indexOf(h)&&s.injectedModules.push(h)}catch(I){}try{var d=s.injector.get("SpreadsheetSelection");-1===s.injectedModules.indexOf(d)&&s.injectedModules.push(d)}catch(A){}try{var p=s.injector.get("SpreadsheetContextMenu");-1===s.injectedModules.indexOf(p)&&s.injectedModules.push(p)}catch(D){}try{var f=s.injector.get("SpreadsheetFormulaBar");-1===s.injectedModules.indexOf(f)&&s.injectedModules.push(f)}catch(M){}try{var m=s.injector.get("SpreadsheetRibbon");-1===s.injectedModules.indexOf(m)&&s.injectedModules.push(m)}catch(T){}try{var g=s.injector.get("SpreadsheetSave");-1===s.injectedModules.indexOf(g)&&s.injectedModules.push(g)}catch(P){}try{var v=s.injector.get("SpreadsheetOpen");-1===s.injectedModules.indexOf(v)&&s.injectedModules.push(v)}catch(L){}try{var y=s.injector.get("SpreadsheetSheetTabs");-1===s.injectedModules.indexOf(y)&&s.injectedModules.push(y)}catch(N){}try{var b=s.injector.get("SpreadsheetDataBind");-1===s.injectedModules.indexOf(b)&&s.injectedModules.push(b)}catch(R){}try{var k=s.injector.get("SpreadsheetAllModule");-1===s.injectedModules.indexOf(k)&&s.injectedModules.push(k)}catch(F){}try{var C=s.injector.get("SpreadsheetBasicModule");-1===s.injectedModules.indexOf(C)&&s.injectedModules.push(C)}catch(H){}try{var w=s.injector.get("SpreadsheetCellFormat");-1===s.injectedModules.indexOf(w)&&s.injectedModules.push(w)}catch(B){}try{var _=s.injector.get("SpreadsheetNumberFormat");-1===s.injectedModules.indexOf(_)&&s.injectedModules.push(_)}catch(V){}try{var x=s.injector.get("SpreadsheetFormula");-1===s.injectedModules.indexOf(x)&&s.injectedModules.push(x)}catch(j){}return s.registerEvents(Bj),s.addTwoWay.call(_assertThisInitialized(s),Vj),dM("currentInstance",_assertThisInitialized(s),s.viewContainerRef),s.context=new mM,s}return _createClass(n,[{key:"ngOnInit",value:function(){this.context.ngOnInit(this)}},{key:"ngAfterViewInit",value:function(){this.context.ngAfterViewInit(this)}},{key:"ngOnDestroy",value:function(){this.context.ngOnDestroy(this)}},{key:"ngAfterContentChecked",value:function(){this.tagObjects[0].instance=this.childSheets,this.childDefinedNames&&(this.tagObjects[1].instance=this.childDefinedNames),this.context.ngAfterContentChecked(this)}}]),n}(Ij),Fj([function(e,t){var n={set:vM(t),get:yM(t,void 0),enumerable:!0,configurable:!0};Object.defineProperty(e,t,n)},Hj("design:type",Object)],IV.prototype,"template",void 0),IV=Fj([(OV=[mM],function(e){!function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){e.prototype.hasOwnProperty(n)&&!t.isFormBase||(e.prototype[n]=t.prototype[n])}))}))}(e,OV)})],IV)),zj=function e(){_classCallCheck(this,e)},qj=function e(){_classCallCheck(this,e)},Uj=Qn({encapsulation:2,styles:[],data:{}});function Wj(e){return ns(2,[],null,null)}var Yj=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onOpenComplete",value:function(){var e=this.spreadsheetObj.getActiveSheet().rows,t=this.spreadsheetObj.getActiveSheet().columns;this.rowsLength=e.length,this.colsLength=t.length,this.spreadsheetObj.cellFormat({fontWeight:"bold",fontSize:"12pt",backgroundColor:"#279377",textAlign:"center",color:"#ffffff",borderBottom:"1px solid #e0e0e0"},"A1:"+this.columnToLetter(this.colsLength)+"1"),this.spreadsheetObj.cellFormat({backgroundColor:"#e2e2e2 ",fontWeight:"bold",fontSize:"12pt",color:"#000000",borderBottom:"1px solid #e0e0e0"},"C"+(this.rowsLength+2)+":"+this.columnToLetter(this.colsLength-1)+(this.rowsLength+6)),this.spreadsheetObj.updateCell({value:"Max Possible"},"C"+(this.rowsLength+2)),this.spreadsheetObj.updateCell({value:"50% of Max"},"C"+(this.rowsLength+3)),this.spreadsheetObj.updateCell({value:"Average"},"C"+(this.rowsLength+4)),this.spreadsheetObj.updateCell({value:"Average out of 4"},"C"+(this.rowsLength+5)),this.spreadsheetObj.updateCell({value:"Successful Students"},"C"+(this.rowsLength+6)),this.spreadsheetObj.numberFormat("0.00","C"+(this.rowsLength+2)+":"+this.columnToLetter(this.colsLength-1)+(this.rowsLength+6));for(var n=0;n<this.colsLength-4;n++)this.spreadsheetObj.updateCell({value:"10"},""+this.columnToLetter(n+4)+(this.rowsLength+2));for(var i=0;i<this.colsLength-4;i++)this.spreadsheetObj.updateCell({formula:"="+this.columnToLetter(i+4)+(this.rowsLength+2)+"/2"},""+this.columnToLetter(i+4)+(this.rowsLength+3));for(var a=0;a<this.colsLength-2;a++)this.spreadsheetObj.updateCell({formula:"=AVERAGE("+this.columnToLetter(a+3)+"2:"+this.columnToLetter(a+3)+(this.rowsLength-1)+")"},""+this.columnToLetter(a+3)+(this.rowsLength+4));for(var r=0;r<this.colsLength-4;r++)this.spreadsheetObj.updateCell({formula:"="+this.columnToLetter(r+4)+(this.rowsLength+4)+"*4/"+this.columnToLetter(r+4)+(this.rowsLength+2)},""+this.columnToLetter(r+4)+(this.rowsLength+5));for(var s=0;s<this.colsLength-4;s++)this.spreadsheetObj.updateCell({formula:"=COUNTIF("+this.columnToLetter(s+4)+"2:"+this.columnToLetter(s+4)+(this.rowsLength-1)+',">=&'+this.columnToLetter(s+4)+(this.rowsLength+4)+'")'},""+this.columnToLetter(s+4)+(this.rowsLength+6))}},{key:"onCellClick",value:function(e){console.log("clicked");for(var t=0;t<this.colsLength-4;t++)this.spreadsheetObj.updateCell({formula:"="+this.columnToLetter(t+4)+(this.rowsLength+2)+"/2"},""+this.columnToLetter(t+4)+(this.rowsLength+3));for(var n=0;n<this.colsLength-2;n++)this.spreadsheetObj.updateCell({formula:"=AVERAGE("+this.columnToLetter(n+3)+"2:"+this.columnToLetter(n+3)+(this.rowsLength-1)+")"},""+this.columnToLetter(n+3)+(this.rowsLength+4));for(var i=0;i<this.colsLength-4;i++)this.spreadsheetObj.updateCell({formula:"="+this.columnToLetter(i+4)+(this.rowsLength+4)+"*4/"+this.columnToLetter(i+4)+(this.rowsLength+2)},""+this.columnToLetter(i+4)+(this.rowsLength+5))}},{key:"calculateCountIf",value:function(e,t){return Number(e)/Number(t)}},{key:"columnToLetter",value:function(e){for(var t,n="";e>0;)t=(e-1)%26,n=String.fromCharCode(t+65)+n,e=(e-t-1)/26;return n}}]),e}(),Gj=Qn({encapsulation:0,styles:[["li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}#spreadsheet_360697829_0_sheet_panel[_ngcontent-%COMP%]{height:510px!important}"]],data:{}});function Xj(e){return ns(0,[Ur(671088640,1,{spreadsheetObj:0}),(e()(),Br(1,16777216,null,null,21,"ejs-spreadsheet",[["allowOpen","true"],["allowSave","true"],["openUrl","https://ej2services.syncfusion.com/production/web-services/api/spreadsheet/open"],["saveUrl","https://ej2services.syncfusion.com/production/web-services/api/spreadsheet/save"]],null,[[null,"openComplete"],[null,"select"]],(function(e,t,n){var i=!0,a=e.component;return"openComplete"===t&&(i=!1!==a.onOpenComplete()&&i),"select"===t&&(i=!1!==a.onCellClick(n)&&i),i}),Wj,Uj)),la(2,6537216,[[1,4],["spreadsheet",4]],3,jj,[cn,fn,Rn,Nt],{allowOpen:[0,"allowOpen"],allowSave:[1,"allowSave"],openUrl:[2,"openUrl"],saveUrl:[3,"saveUrl"],showFormulaBar:[4,"showFormulaBar"],showSheetTabs:[5,"showSheetTabs"]},{openComplete:"openComplete",select:"select"}),Ur(603979776,2,{childSheets:0}),Ur(603979776,3,{childDefinedNames:0}),Ur(603979776,4,{template:0}),(e()(),Br(6,0,null,null,16,"e-sheets",[],null,null,null,null,null)),la(7,7421952,[[2,4]],1,Rj,[],null,null),Ur(603979776,5,{children:1}),(e()(),Br(9,16777216,null,null,13,"e-sheet",[],null,null,null,null,null)),la(10,11091968,[[5,4]],3,Nj,[Rn],null,null),Ur(603979776,6,{childRows:0}),Ur(603979776,7,{childColumns:0}),Ur(603979776,8,{childRanges:0}),(e()(),Br(14,0,null,null,8,"e-columns",[],null,null,null,null,null)),la(15,7421952,[[7,4]],1,Tj,[],null,null),Ur(603979776,9,{children:1}),(e()(),Br(17,16777216,null,null,1,"e-column",[],null,null,null,null,null)),la(18,11091968,[[9,4]],0,Mj,[Rn],{customWidth:[0,"customWidth"]},null),(e()(),Br(19,16777216,null,null,1,"e-column",[],null,null,null,null,null)),la(20,11091968,[[9,4]],0,Mj,[Rn],{customWidth:[0,"customWidth"]},null),(e()(),Br(21,16777216,null,null,1,"e-column",[],null,null,null,null,null)),la(22,11091968,[[9,4]],0,Mj,[Rn],{customWidth:[0,"customWidth"]},null)],(function(e,t){e(t,2,0,"true","true","https://ej2services.syncfusion.com/production/web-services/api/spreadsheet/open","https://ej2services.syncfusion.com/production/web-services/api/spreadsheet/save",!1,!1),e(t,7,0),e(t,10,0),e(t,15,0),e(t,18,0,100),e(t,20,0,140),e(t,22,0,140)}),null)}var Kj=Vi("app-scoreSheet",Yj,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"app-scoreSheet",[],null,null,null,Xj,Gj)),la(1,114688,null,0,Yj,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),$j=function(){function e(t){_classCallCheck(this,e),this.viewRef=t}return _createClass(e,[{key:"ngTransclude",set:function(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)},get:function(){return this._ngTransclude}}]),e}(),Zj=function e(){_classCallCheck(this,e),this.type="tabs"},Jj=function(){function e(t,n,i){_classCallCheck(this,e),this.renderer=n,this.elementRef=i,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,t)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.isDestroyed=!0}},{key:"addTab",value:function(e){this.tabs.push(e),e.active=1===this.tabs.length&&void 0===e.active}},{key:"removeTab",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reselect:!0,emit:!0},n=this.tabs.indexOf(e);if(-1!==n&&!this.isDestroyed){if(t.reselect&&e.active&&this.hasAvailableTabs(n)){var i=this.getClosestTabIndex(n);this.tabs[i].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(n,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}},{key:"keyNavActions",value:function(e,t){var n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void n[t%n.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),n[t+1])return void n[(t+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{var i;e.preventDefault();var a=1,r=t;do{r-a<0?(i=n[r=n.length-1],a=0):i=n[r-a],a++}while(i.classList.contains("disabled"));i.focus()}else{var s;e.preventDefault();var l=0;do{s=n[l%n.length],l++}while(s.classList.contains("disabled"));s.focus()}else{var o,u=1,c=t;do{c-u<0?(o=n[c=n.length-1],u=0):o=n[c-u],u++}while(o.classList.contains("disabled"));o.focus()}else{var h,d=1;do{h=n[(t+d)%n.length],d++}while(h.classList.contains("disabled"));h.focus()}}},{key:"getClosestTabIndex",value:function(e){var t=this.tabs.length;if(!t)return-1;for(var n=1;n<=t;n+=1){var i=e-n,a=e+n;if(this.tabs[i]&&!this.tabs[i].disabled)return i;if(this.tabs[a]&&!this.tabs[a].disabled)return a}return-1}},{key:"hasAvailableTabs",value:function(e){var t=this.tabs.length;if(!t)return!1;for(var n=0;n<t;n+=1)if(!this.tabs[n].disabled&&n!==e)return!0;return!1}},{key:"setClassMap",value:function(){this.classMap=_defineProperty2({"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified},"nav-".concat(this.type),!0)}},{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=e,this.setClassMap()}},{key:"justified",get:function(){return this._justified},set:function(e){this._justified=e,this.setClassMap()}},{key:"type",get:function(){return this._type},set:function(e){this._type=e,this.setClassMap()}}]),e}(),Qj=function(){function e(t,n,i){_classCallCheck(this,e),this.elementRef=n,this.renderer=i,this.selectTab=new Ma,this.deselect=new Ma,this.removed=new Ma,this.addClass=!0,this.tabset=t,this.tabset.addTab(this)}return _createClass(e,[{key:"ngOnInit",value:function(){this.removable=this.removable}},{key:"ngOnDestroy",value:function(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}},{key:"customClass",get:function(){return this._customClass},set:function(e){var t=this;this.customClass&&this.customClass.split(" ").forEach((function(e){t.renderer.removeClass(t.elementRef.nativeElement,e)})),this._customClass=e?e.trim():null,this.customClass&&this.customClass.split(" ").forEach((function(e){t.renderer.addClass(t.elementRef.nativeElement,e)}))}},{key:"active",get:function(){return this._active},set:function(e){var t=this;this._active!==e&&(this.disabled&&e||!e?this._active&&!e&&(this.deselect.emit(this),this._active=e):(this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach((function(e){e!==t&&(e.active=!1)}))))}}]),e}(),ez=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[Zj]}}}]),e}(),tz=Qn({encapsulation:0,styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"],data:{}});function nz(e){return ns(0,[(e()(),Br(0,0,null,null,1,"span",[["class","bs-remove-tab"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(n.preventDefault(),i=!1!==a.removeTab(e.parent.context.$implicit)&&i),i}),null,null)),(e()(),Qr(-1,null,[" \u274c"]))],null,null)}function iz(e){return ns(0,[(e()(),Br(0,0,null,null,8,"li",[],[[2,"active",null],[2,"disabled",null]],[[null,"keydown"]],(function(e,t,n){var i=!0;return"keydown"===t&&(i=!1!==e.component.keyNavActions(n,e.context.index)&&i),i}),null,null)),la(1,278528,null,0,Co,[An,Dn,cn,fn],{ngClass:[0,"ngClass"]},null),Jr(32,2,Be(2)),(e()(),Br(3,0,null,null,5,"a",[["class","nav-link"],["href","javascript:void(0);"]],[[1,"id",0],[2,"active",null],[2,"disabled",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=0!=(e.context.$implicit.active=!0)&&i),i}),null,null)),(e()(),Br(4,16777216,null,null,2,"span",[],null,null,null,null,null)),la(5,16384,null,0,$j,[Rn],{ngTransclude:[0,"ngTransclude"]},null),(e()(),Qr(6,null,["",""])),(e()(),Hr(16777216,null,null,1,null,nz)),la(8,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,2,0,"nav-item",t.context.$implicit.customClass||"");e(t,1,0,n),e(t,5,0,t.context.$implicit.headingRef),e(t,8,0,t.context.$implicit.removable)}),(function(e,t){e(t,0,0,t.context.$implicit.active,t.context.$implicit.disabled),e(t,3,0,t.context.$implicit.id?t.context.$implicit.id+"-link":"",t.context.$implicit.active,t.context.$implicit.disabled),e(t,6,0,t.context.$implicit.heading)}))}function az(e){return ns(0,[(e()(),Br(0,0,null,null,3,"ul",[["class","nav"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==n.preventDefault()&&i),i}),null,null)),la(1,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Hr(16777216,null,null,1,null,iz)),la(3,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(4,0,null,null,1,"div",[["class","tab-content"]],null,null,null,null,null)),Kr(null,0)],(function(e,t){var n=t.component;e(t,1,0,"nav",n.classMap),e(t,3,0,n.tabs)}),null)}var rz=function(){function e(t,n){_classCallCheck(this,e),this.outlineService=t,this.authService=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.outlineService.getCourses(this.authService.decodedToken.nameid).subscribe((function(t){e.courses=t})),this.outlineService.getUser(this.authService.decodedToken.nameid).subscribe((function(t){e.instructor=t})),this.dateGroup=new wc({date:new Cc(new Date)}),this.outlineService.getStudentLO().subscribe((function(t){e.studentLOs=t}))}},{key:"selectCourse",value:function(e){this.selectedCourse=this.courses[e]}}]),e}(),sz=Qn({encapsulation:0,styles:[[".center[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid grey;border-collapse:collapse}"]],data:{}});function lz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],{value:[0,"value"]},null),la(2,147456,null,0,ic,[cn,fn,[8,null]],{value:[0,"value"]},null),(e()(),Qr(3,null,[""," "]))],(function(e,t){e(t,1,0,t.context.index),e(t,2,0,t.context.index)}),(function(e,t){e(t,3,0,t.context.$implicit.courseCode)}))}function oz(e){return ns(0,[(e()(),Br(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),Br(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(3,null,["",": ",""])),(e()(),Br(4,0,null,null,0,"input",[["type","text"]],null,null,null,null,null))],null,(function(e,t){e(t,3,0,null==t.context.$implicit?null:t.context.$implicit.sloCode,null==t.context.$implicit?null:t.context.$implicit.studentLearningOutcome)}))}function uz(e){return ns(0,[(e()(),Br(0,0,null,null,88,"tabset",[["class","ml-3"]],[[2,"tab-container",null]],null,null,az,tz)),la(1,180224,null,0,Jj,[Zj,fn,cn],null,null),(e()(),Br(2,0,null,0,72,"tab",[["class","mt-2"],["heading","Cover >"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),la(3,212992,null,0,Qj,[Jj,cn,fn],{heading:[0,"heading"]},null),(e()(),Br(4,0,null,null,70,"table",[["class","center"]],null,null,null,null,null)),(e()(),Br(5,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),Br(6,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["COURSE CODE:"])),(e()(),Br(8,0,null,null,8,"td",[],null,null,null,null,null)),(e()(),Br(9,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["name","courses"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==Zi(e,10).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,10).onTouched()&&i),"ngModel"===t&&(i=!1!==a.courses&&i),"change"===t&&(i=!1!==a.selectCourse(n.target.value)&&i),i}),null,null)),la(10,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(12,671744,null,0,Dc,[[8,null],[8,null],[8,null],[6,Iu]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Dc]),la(14,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,lz)),la(16,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(17,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(18,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["COURSE NAME:"])),(e()(),Br(20,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(21,null,[" ",""])),(e()(),Br(22,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(23,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["SEMESTER:"])),(e()(),Br(25,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(26,null,["",""])),(e()(),Br(27,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(28,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["INSTRUCTOR:"])),(e()(),Br(30,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(31,null,["",". "," ",""])),(e()(),Br(32,0,null,null,42,"tr",[],null,null,null,null,null)),(e()(),Br(33,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["DATE:"])),(e()(),Br(35,0,null,null,39,"td",[],null,null,null,null,null)),(e()(),Br(36,0,null,null,38,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,38).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,38).onReset()&&i),i}),null,null)),la(37,16384,null,0,Mc,[],null,null),la(38,4210688,null,0,Sc,[[8,null],[8,null]],null,null),ua(2048,null,Tu,null,[Sc]),la(40,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(41,0,null,null,33,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Br(42,0,null,null,32,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,43).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,43).onReset()&&i),i}),null,null)),la(43,540672,null,0,Pc,[[8,null],[8,null]],{form:[0,"form"]},null),ua(2048,null,Tu,null,[Pc]),la(45,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(46,0,null,null,28,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nE,US)),la(47,7520256,null,9,HS,[cn,Mt,[2,Cb],[2,Wv],[2,RS],zg,er,[2,SS]],null,null),Ur(603979776,1,{_controlNonStatic:0}),Ur(335544320,2,{_controlStatic:0}),Ur(603979776,3,{_labelChildNonStatic:0}),Ur(335544320,4,{_labelChildStatic:0}),Ur(603979776,5,{_placeholderChild:0}),Ur(603979776,6,{_errorChildren:1}),Ur(603979776,7,{_hintChildren:1}),Ur(603979776,8,{_prefixChildren:1}),Ur(603979776,9,{_suffixChildren:1}),ua(2048,null,FS,null,[HS]),(e()(),Br(58,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","date"],["matInput",""],["readonly",""]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"change"],[null,"blur"],[null,"keydown"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Zi(e,59)._onInput(n.target.value)&&i),"change"===t&&(i=!1!==Zi(e,59)._onChange()&&i),"blur"===t&&(i=!1!==Zi(e,59)._onBlur()&&i),"keydown"===t&&(i=!1!==Zi(e,59)._onKeydown(n)&&i),"input"===t&&(i=!1!==Zi(e,61)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,61).onTouched()&&i),"compositionstart"===t&&(i=!1!==Zi(e,61)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Zi(e,61)._compositionEnd(n.target.value)&&i),"focus"===t&&(i=!1!==Zi(e,66)._focusChanged(!0)&&i),"blur"===t&&(i=!1!==Zi(e,66)._focusChanged(!1)&&i),"input"===t&&(i=!1!==Zi(e,66)._onInput()&&i),i}),null,null)),la(59,4341760,null,0,_E,[cn,[2,Zy],[2,Jy],[2,FS]],{matDatepicker:[0,"matDatepicker"]},null),ua(1024,null,Bu,(function(e){return[e]}),[_E]),la(61,16384,null,0,Du,[fn,cn,[2,Au]],null,null),ua(1024,null,Iu,(function(e,t){return[e,t]}),[Du,_E]),la(63,671744,null,0,Hc,[[3,Tu],[6,Bu],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),ua(2048,null,AE,null,[_E]),la(66,999424,null,0,TE,[cn,zg,[6,Lu],[2,Sc],[2,Pc],ub,[6,AE],OE,er],{readonly:[0,"readonly"]},null),la(67,16384,null,0,Ru,[[4,Lu]],null,null),ua(2048,[[1,4],[2,4]],AS,null,[TE]),(e()(),Br(69,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[1,"tabindex",0],[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==Zi(e,71)._button.focus()&&i),i}),cO,oO)),la(70,16384,[[9,4]],0,PS,[],null,null),la(71,1753088,null,1,xE,[rE,Mt,[8,null]],{datepicker:[0,"datepicker"]},null),Ur(603979776,10,{_customIcon:0}),(e()(),Br(73,16777216,null,1,1,"mat-datepicker",[],null,null,null,lO,sO)),la(74,180224,[["picker",4]],0,CE,[uy,Bv,er,Rn,vE,[2,Zy],[2,Wv],[2,kl]],null,null),(e()(),Br(75,0,null,0,5,"tab",[["class","mt-2"],["heading","Explanations >"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),la(76,212992,null,0,Qj,[Jj,cn,fn],{heading:[0,"heading"]},null),(e()(),Br(77,0,null,null,2,"table",[["class","center"],["style","width: 80%;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,oz)),la(79,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(80,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),Br(81,0,null,0,3,"tab",[["class","mt-2"],["heading","Evaluation >"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),la(82,212992,null,0,Qj,[Jj,cn,fn],{heading:[0,"heading"]},null),(e()(),Br(83,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Evaluation"])),(e()(),Br(85,0,null,0,3,"tab",[["class","mt-2"],["heading","Summary"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),la(86,212992,null,0,Qj,[Jj,cn,fn],{heading:[0,"heading"]},null),(e()(),Br(87,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Summary"]))],(function(e,t){var n=t.component;e(t,3,0,"Cover >"),e(t,12,0,"courses"),e(t,16,0,n.courses),e(t,43,0,n.dateGroup),e(t,59,0,Zi(t,74)),e(t,63,0,"date"),e(t,66,0,""),e(t,71,0,Zi(t,74)),e(t,76,0,"Explanations >"),e(t,79,0,n.studentLOs),e(t,82,0,"Evaluation >"),e(t,86,0,"Summary")}),(function(e,t){var n=t.component;e(t,0,0,Zi(t,1).clazz),e(t,2,0,Zi(t,3).id,Zi(t,3).active,Zi(t,3).addClass),e(t,9,0,Zi(t,14).ngClassUntouched,Zi(t,14).ngClassTouched,Zi(t,14).ngClassPristine,Zi(t,14).ngClassDirty,Zi(t,14).ngClassValid,Zi(t,14).ngClassInvalid,Zi(t,14).ngClassPending),e(t,21,0,null==n.selectedCourse?null:n.selectedCourse.name),e(t,26,0,null==n.selectedCourse?null:n.selectedCourse.semester),e(t,31,0,null==n.instructor?null:n.instructor.title,null==n.instructor?null:n.instructor.name,null==n.instructor?null:n.instructor.surName),e(t,36,0,Zi(t,40).ngClassUntouched,Zi(t,40).ngClassTouched,Zi(t,40).ngClassPristine,Zi(t,40).ngClassDirty,Zi(t,40).ngClassValid,Zi(t,40).ngClassInvalid,Zi(t,40).ngClassPending),e(t,42,0,Zi(t,45).ngClassUntouched,Zi(t,45).ngClassTouched,Zi(t,45).ngClassPristine,Zi(t,45).ngClassDirty,Zi(t,45).ngClassValid,Zi(t,45).ngClassInvalid,Zi(t,45).ngClassPending),e(t,46,1,["standard"==Zi(t,47).appearance,"fill"==Zi(t,47).appearance,"outline"==Zi(t,47).appearance,"legacy"==Zi(t,47).appearance,Zi(t,47)._control.errorState,Zi(t,47)._canLabelFloat,Zi(t,47)._shouldLabelFloat(),Zi(t,47)._hasFloatingLabel(),Zi(t,47)._hideControlPlaceholder(),Zi(t,47)._control.disabled,Zi(t,47)._control.autofilled,Zi(t,47)._control.focused,"accent"==Zi(t,47).color,"warn"==Zi(t,47).color,Zi(t,47)._shouldForward("untouched"),Zi(t,47)._shouldForward("touched"),Zi(t,47)._shouldForward("pristine"),Zi(t,47)._shouldForward("dirty"),Zi(t,47)._shouldForward("valid"),Zi(t,47)._shouldForward("invalid"),Zi(t,47)._shouldForward("pending"),!Zi(t,47)._animationsEnabled]),e(t,58,1,[Zi(t,59)._datepicker?"dialog":null,(null==Zi(t,59)._datepicker?null:Zi(t,59)._datepicker.opened)&&Zi(t,59)._datepicker.id||null,Zi(t,59).min?Zi(t,59)._dateAdapter.toIso8601(Zi(t,59).min):null,Zi(t,59).max?Zi(t,59)._dateAdapter.toIso8601(Zi(t,59).max):null,Zi(t,59).disabled,Zi(t,66)._isServer,Zi(t,66).id,Zi(t,66).placeholder,Zi(t,66).disabled,Zi(t,66).required,Zi(t,66).readonly&&!Zi(t,66)._isNativeSelect||null,Zi(t,66)._ariaDescribedby||null,Zi(t,66).errorState,Zi(t,66).required.toString(),Zi(t,67).ngClassUntouched,Zi(t,67).ngClassTouched,Zi(t,67).ngClassPristine,Zi(t,67).ngClassDirty,Zi(t,67).ngClassValid,Zi(t,67).ngClassInvalid,Zi(t,67).ngClassPending]),e(t,69,0,Zi(t,71).disabled?null:-1,Zi(t,71).datepicker&&Zi(t,71).datepicker.opened,Zi(t,71).datepicker&&"accent"===Zi(t,71).datepicker.color,Zi(t,71).datepicker&&"warn"===Zi(t,71).datepicker.color),e(t,75,0,Zi(t,76).id,Zi(t,76).active,Zi(t,76).addClass),e(t,81,0,Zi(t,82).id,Zi(t,82).active,Zi(t,82).addClass),e(t,85,0,Zi(t,86).id,Zi(t,86).active,Zi(t,86).addClass)}))}var cz,hz=Vi("app-evaluation",rz,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"app-evaluation",[],null,null,null,uz,sz)),la(1,114688,null,0,rz,[wO,n_],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),dz=function(){function e(t,n,i,a){_classCallCheck(this,e),this.outlineService=t,this.alertify=n,this.authService=i,this.fileService=a,this.yearSemesters=["Fall/2020","Spring/2020","Fall/2021","Spring/2021","Fall/2022","Spring/2022","Fall/2023","Spring/2023"],this.isInstructor=!1,this.courses=[],this.sortedFiles=new Array,this.filesToSave=new Array}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.outlineService.getStudyPrograms().subscribe((function(t){t.forEach((function(t){t.courses.forEach((function(t){1===t.instructorID&&e.courses.push(t)}))}))})),"instructor"===JSON.parse(localStorage.getItem("user")).typeOfUser&&(this.isInstructor=!0),this.yearSemesterForm=new wc({yearSemester:new Cc}),this.coursesForm=new wc({course:new Cc})}},{key:"onCourseSelected",value:function(e){var t=this;this.filesFromApi=null,this.sortedFiles=new Array,this.fileService.getCourseFiles(this.authService.decodedToken.nameid,this.coursesForm.get("course").value).subscribe((function(e){e.forEach((function(e){t.sortedFiles[e.desId-1]=e})),console.log(t.sortedFiles)})),this.courseSelected=!0}},{key:"deleteFile",value:function(e){var t=this;window.confirm("are your sure")&&this.fileService.deleteFile(this.authService.decodedToken.nameid,e).subscribe((function(n){t.alertify.success("File Deleted"),t.sortedFiles[e]=null}),(function(e){t.alertify.error(e)}))}},{key:"SaveFiles",value:function(){for(var e=this,t=0;t<13;t++)null!=this.filesToSave[t]&&(console.log(this.filesToSave[t]),this.fileService.fileUpload(this.authService.decodedToken.nameid,this.filesToSave[t]).subscribe((function(t){e.alertify.success("File Saved")}),(function(t){e.alertify.error("File Not Saved")}),(function(){window.location.reload()})))}},{key:"handle1Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","1"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[0]=n}},{key:"handle2Input",value:function(e){console.log(e[0]);var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","2"),n.append("Description",e[0].name),n.append("CourseCode",t),this.filesToSave[1]=n}},{key:"handle3Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","3"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[2]=n}},{key:"handle4Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","4"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[3]=n}},{key:"handle5Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","5"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[4]=n}},{key:"handle6Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","6"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[5]=n}},{key:"handle7Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","7"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[6]=n}},{key:"handle8Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","8"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[7]=n}},{key:"handle9Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","9"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[8]=n}},{key:"handle10Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","10"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[9]=n}},{key:"handle11Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","11"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[10]=n}},{key:"handle12Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","12"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[11]=n}},{key:"handle13Input",value:function(e){var t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","13"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[12]=n}}]),e}(),pz=((cz=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.baseUrl=n}return _createClass(e,[{key:"getCourseFiles",value:function(e,t){return this.http.get(this.baseUrl+"Files/"+e+"/"+t)}},{key:"deleteFile",value:function(e,t){return this.http.delete(this.baseUrl+"Files/"+e+"/"+t)}},{key:"fileUpload",value:function(e,t){return this.http.post(this.baseUrl+"Files/"+e,t)}}]),e}()).\u0275prov=ce({factory:function(){return new cz(Me(su),Me("BASE_URL"))},token:cz,providedIn:"root"}),cz),fz=Qn({encapsulation:0,styles:[["table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid grey;border-collapse:collapse}.center[_ngcontent-%COMP%]{margin:auto;width:93%}.fa[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function mz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],{value:[0,"value"]},null),la(2,147456,null,0,ic,[cn,fn,[8,null]],{value:[0,"value"]},null),(e()(),Qr(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function gz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),la(1,147456,null,0,tc,[cn,fn,[2,ec]],{value:[0,"value"]},null),la(2,147456,null,0,ic,[cn,fn,[8,null]],{value:[0,"value"]},null),(e()(),Qr(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.courseCode),e(t,2,0,t.context.$implicit.courseCode)}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function vz(e){return ns(0,[(e()(),Br(0,0,null,null,6,"div",[["class","center"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"button",[["class","btn btn-success mr-2"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.SaveFiles(),i=0!=(Zi(e,3).disabled=!1)&&i),i}),null,null)),(e()(),Qr(-1,null,["Save Files"])),(e()(),Br(3,0,[["add",1]],null,1,"button",[["class","btn btn-dark mr-2"],["id","#addFilesBtn"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.addFiles=!0,i=0!=(Zi(e,3).disabled=!0)&&i),i}),null,null)),(e()(),Qr(-1,null,["Add Files"])),(e()(),Br(5,0,[["del",1]],null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.deleteFiles=!0,i=0!=(Zi(e,5).disabled=!0)&&i),i}),null,null)),(e()(),Qr(-1,null,["Delete Files"]))],null,null)}function yz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle1Input(n.target.files)&&i),i}),null,null))],null,null)}function bz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[0].id)&&i),i}),null,null))],null,null)}function kz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Cz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle2Input(n.target.files)&&i),i}),null,null))],null,null)}function wz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[1].id)&&i),i}),null,null))],null,null)}function _z(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban w3-tiny"],["style","color: red;"]],null,null,null,null,null))],null,null)}function xz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle3Input(n.target.files)&&i),i}),null,null))],null,null)}function Sz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[2].id)&&i),i}),null,null))],null,null)}function Ez(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Oz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle4Input(n.target.files)&&i),i}),null,null))],null,null)}function Iz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[3].id)&&i),i}),null,null))],null,null)}function Az(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Dz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle5Input(n.target.files)&&i),i}),null,null))],null,null)}function Mz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[4].id)&&i),i}),null,null))],null,null)}function Tz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Pz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle6Input(n.target.files)&&i),i}),null,null))],null,null)}function Lz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[5].id)&&i),i}),null,null))],null,null)}function Nz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Rz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle7Input(n.target.files)&&i),i}),null,null))],null,null)}function Fz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[6].id)&&i),i}),null,null))],null,null)}function Hz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Bz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle8Input(n.target.files)&&i),i}),null,null))],null,null)}function Vz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[7].id)&&i),i}),null,null))],null,null)}function jz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function zz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle8Input(n.target.files)&&i),i}),null,null))],null,null)}function qz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[8].id)&&i),i}),null,null))],null,null)}function Uz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Wz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle9Input(n.target.files)&&i),i}),null,null))],null,null)}function Yz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[9].id)&&i),i}),null,null))],null,null)}function Gz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Xz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle10Input(n.target.files)&&i),i}),null,null))],null,null)}function Kz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[10].id)&&i),i}),null,null))],null,null)}function $z(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Zz(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle11Input(n.target.files)&&i),i}),null,null))],null,null)}function Jz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[11].id)&&i),i}),null,null))],null,null)}function Qz(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function eq(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Br(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle12Input(n.target.files)&&i),i}),null,null))],null,null)}function tq(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.deleteFile(a.sortedFiles[12].id)&&i),i}),null,null))],null,null)}function nq(e){return ns(0,[(e()(),Br(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function iq(e){return ns(0,[(e()(),Br(0,0,null,null,35,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,2).onReset()&&i),i}),null,null)),la(1,16384,null,0,Mc,[],null,null),la(2,4210688,null,0,Sc,[[8,null],[8,null]],null,null),ua(2048,null,Tu,null,[Sc]),la(4,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(5,0,null,null,30,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),Br(6,0,null,null,14,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(7,0,null,null,13,"div",[["class","form-group ml-5 mt-5"],["style","width: 200px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,8).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,8).onReset()&&i),i}),null,null)),la(8,540672,null,0,Pc,[[8,null],[8,null]],{form:[0,"form"]},null),ua(2048,null,Tu,null,[Pc]),la(10,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(11,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Semester"])),(e()(),Br(13,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","yearSemester"],["id","inlineFormCustomSelectPref"],["name","yearSemesters"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==Zi(e,14).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,14).onTouched()&&i),"ngModel"===t&&(i=!1!==a.yearSemesters&&i),i}),null,null)),la(14,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(16,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(18,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,mz)),la(20,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(21,0,null,null,14,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Br(22,0,null,null,13,"div",[["class","form-group ml-5 mt-5"],["style","width: 200px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Zi(e,23).onSubmit(n)&&i),"reset"===t&&(i=!1!==Zi(e,23).onReset()&&i),i}),null,null)),la(23,540672,null,0,Pc,[[8,null],[8,null]],{form:[0,"form"]},null),ua(2048,null,Tu,null,[Pc]),la(25,16384,null,0,Fu,[[4,Tu]],null,null),(e()(),Br(26,0,null,null,1,"label",[["class","my-1 mr-2"],["for","courseForm"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Course"])),(e()(),Br(28,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","course"],["id","courseForm"],["name","courses"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==Zi(e,29).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Zi(e,29).onTouched()&&i),"ngModel"===t&&(i=!1!==a.courses&&i),"change"===t&&(i=!1!==a.onCourseSelected(n)&&i),i}),null,null)),la(29,16384,null,0,ec,[fn,cn],null,null),ua(1024,null,Iu,(function(e){return[e]}),[ec]),la(31,671744,null,0,Hc,[[3,Tu],[8,null],[8,null],[6,Iu],[2,Tc]],{name:[0,"name"]},null),ua(2048,null,Lu,null,[Hc]),la(33,16384,null,0,Ru,[[4,Lu]],null,null),(e()(),Hr(16777216,null,null,1,null,gz)),la(35,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Hr(16777216,null,null,1,null,vz)),la(37,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(38,0,null,null,206,"table",[["class"," ml-5 mt-1"],["style","width: 90%;"]],null,null,null,null,null)),(e()(),Br(39,0,null,null,9,"thead",[],null,null,null,null,null)),(e()(),Br(40,0,null,null,8,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Br(41,0,null,null,1,"td",[["style","width: 5%;font-weight: bold;"]],null,null,null,null,null)),(e()(),Qr(-1,null,["No"])),(e()(),Br(43,0,null,null,1,"td",[["style","width: 40%;font-weight: bold;"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Item"])),(e()(),Br(45,0,null,null,1,"td",[["style","width: 10%; text-align: center;font-weight: bold;"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Available"])),(e()(),Br(47,0,null,null,1,"td",[["style","width: 10%;text-align: center;font-weight: bold;"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Not Available"])),(e()(),Br(49,0,null,null,195,"tbody",[],null,null,null,null,null)),(e()(),Br(50,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Br(51,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["1"])),(e()(),Br(53,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Course Syllabus in ABET format"])),(e()(),Br(55,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,yz)),la(57,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(58,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(59,null,["",""])),(e()(),Hr(16777216,null,null,1,null,bz)),la(61,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(62,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,kz)),la(64,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(65,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Br(66,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["2"])),(e()(),Br(68,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Homeworks"])),(e()(),Br(70,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Cz)),la(72,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(73,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(74,null,["",""])),(e()(),Hr(16777216,null,null,1,null,wz)),la(76,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(77,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,_z)),la(79,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(80,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Br(81,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["3"])),(e()(),Br(83,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Quiz with solutions "])),(e()(),Br(85,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,xz)),la(87,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(88,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(89,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Sz)),la(91,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(92,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Ez)),la(94,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(95,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Br(96,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["4"])),(e()(),Br(98,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Midterm 1 with solutions "])),(e()(),Br(100,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Oz)),la(102,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(103,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(104,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Iz)),la(106,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(107,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Az)),la(109,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(110,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Br(111,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["5"])),(e()(),Br(113,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Midterm 2 with solutions"])),(e()(),Br(115,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Dz)),la(117,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(118,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(119,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Mz)),la(121,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(122,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Tz)),la(124,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(125,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Br(126,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["6"])),(e()(),Br(128,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Final Exam with solutions"])),(e()(),Br(130,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Pz)),la(132,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(133,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(134,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Lz)),la(136,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(137,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Nz)),la(139,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(140,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Br(141,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["7"])),(e()(),Br(143,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Projects (definition + one or two samples)"])),(e()(),Br(145,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Rz)),la(147,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(148,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(149,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Fz)),la(151,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(152,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Hz)),la(154,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(155,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Br(156,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["8"])),(e()(),Br(158,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Assignments"])),(e()(),Br(160,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Bz)),la(162,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(163,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(164,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Vz)),la(166,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(167,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,jz)),la(169,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(170,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Br(171,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["9"])),(e()(),Br(173,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Lab sheets"])),(e()(),Br(175,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,zz)),la(177,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(178,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(179,null,["",""])),(e()(),Hr(16777216,null,null,1,null,qz)),la(181,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(182,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Uz)),la(184,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(185,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Br(186,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["10"])),(e()(),Br(188,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Best-Worst-Median Midterm 1 papers"])),(e()(),Br(190,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Wz)),la(192,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(193,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(194,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Yz)),la(196,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(197,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Gz)),la(199,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(200,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Br(201,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["11"])),(e()(),Br(203,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Best-Worst-Median Midterm 2 papers "])),(e()(),Br(205,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Xz)),la(207,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(208,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(209,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Kz)),la(211,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(212,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,$z)),la(214,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(215,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Br(216,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["12"])),(e()(),Br(218,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Best-Worst-Median Final Exam papers"])),(e()(),Br(220,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Zz)),la(222,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(223,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(224,null,["",""])),(e()(),Hr(16777216,null,null,1,null,Jz)),la(226,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(227,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,Qz)),la(229,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(230,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Br(231,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["13"])),(e()(),Br(233,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Course evolution document (Excel file)"])),(e()(),Br(235,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,eq)),la(237,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(238,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Qr(239,null,["",""])),(e()(),Hr(16777216,null,null,1,null,tq)),la(241,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(242,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,nq)),la(244,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,8,0,n.yearSemesterForm),e(t,16,0,"yearSemester"),e(t,20,0,n.yearSemesters),e(t,23,0,n.coursesForm),e(t,31,0,"course"),e(t,35,0,n.courses),e(t,37,0,n.isInstructor&&n.courseSelected),e(t,57,0,n.addFiles&&null==n.sortedFiles[0]),e(t,61,0,null!=n.sortedFiles[0]&&n.deleteFiles),e(t,64,0,null==n.sortedFiles[0]),e(t,72,0,n.addFiles&&null==n.sortedFiles[1]),e(t,76,0,null!=n.sortedFiles[1]&&n.deleteFiles),e(t,79,0,null==n.sortedFiles[1]),e(t,87,0,n.addFiles&&null==n.sortedFiles[2]),e(t,91,0,null!=n.sortedFiles[2]&&n.deleteFiles),e(t,94,0,null==n.sortedFiles[2]),e(t,102,0,n.addFiles&&null==n.sortedFiles[3]),e(t,106,0,null!=n.sortedFiles[3]&&n.deleteFiles),e(t,109,0,null==n.sortedFiles[3]),e(t,117,0,n.addFiles&&null==n.sortedFiles[4]),e(t,121,0,null!=n.sortedFiles[4]&&n.deleteFiles),e(t,124,0,null==n.sortedFiles[4]),e(t,132,0,n.addFiles&&null==n.sortedFiles[5]),e(t,136,0,null!=n.sortedFiles[5]&&n.deleteFiles),e(t,139,0,null==n.sortedFiles[5]),e(t,147,0,n.addFiles&&null==n.sortedFiles[6]),e(t,151,0,null!=n.sortedFiles[6]&&n.deleteFiles),e(t,154,0,null==n.sortedFiles[6]),e(t,162,0,n.addFiles&&null==n.sortedFiles[7]),e(t,166,0,null!=n.sortedFiles[7]&&n.deleteFiles),e(t,169,0,null==n.sortedFiles[7]),e(t,177,0,n.addFiles&&null==n.sortedFiles[8]),e(t,181,0,null!=n.sortedFiles[8]&&n.deleteFiles),e(t,184,0,null==n.sortedFiles[8]),e(t,192,0,n.addFiles&&null==n.sortedFiles[9]),e(t,196,0,null!=n.sortedFiles[9]&&n.deleteFiles),e(t,199,0,null==n.sortedFiles[9]),e(t,207,0,n.addFiles&&null==n.sortedFiles[10]),e(t,211,0,null!=n.sortedFiles[10]&&n.deleteFiles),e(t,214,0,null==n.sortedFiles[10]),e(t,222,0,n.addFiles&&null==n.sortedFiles[11]),e(t,226,0,null!=n.sortedFiles[11]&&n.deleteFiles),e(t,229,0,null==n.sortedFiles[11]),e(t,237,0,n.addFiles&&null==n.sortedFiles[12]),e(t,241,0,null!=n.sortedFiles[12]&&n.deleteFiles),e(t,244,0,null==n.sortedFiles[12])}),(function(e,t){var n=t.component;e(t,0,0,Zi(t,4).ngClassUntouched,Zi(t,4).ngClassTouched,Zi(t,4).ngClassPristine,Zi(t,4).ngClassDirty,Zi(t,4).ngClassValid,Zi(t,4).ngClassInvalid,Zi(t,4).ngClassPending),e(t,7,0,Zi(t,10).ngClassUntouched,Zi(t,10).ngClassTouched,Zi(t,10).ngClassPristine,Zi(t,10).ngClassDirty,Zi(t,10).ngClassValid,Zi(t,10).ngClassInvalid,Zi(t,10).ngClassPending),e(t,13,0,Zi(t,18).ngClassUntouched,Zi(t,18).ngClassTouched,Zi(t,18).ngClassPristine,Zi(t,18).ngClassDirty,Zi(t,18).ngClassValid,Zi(t,18).ngClassInvalid,Zi(t,18).ngClassPending),e(t,22,0,Zi(t,25).ngClassUntouched,Zi(t,25).ngClassTouched,Zi(t,25).ngClassPristine,Zi(t,25).ngClassDirty,Zi(t,25).ngClassValid,Zi(t,25).ngClassInvalid,Zi(t,25).ngClassPending),e(t,28,0,Zi(t,33).ngClassUntouched,Zi(t,33).ngClassTouched,Zi(t,33).ngClassPristine,Zi(t,33).ngClassDirty,Zi(t,33).ngClassValid,Zi(t,33).ngClassInvalid,Zi(t,33).ngClassPending),e(t,58,0,Oi(1,"",null==n.sortedFiles[0]?null:n.sortedFiles[0].url,"")),e(t,59,0,null==n.sortedFiles[0]?null:n.sortedFiles[0].description),e(t,73,0,Oi(1,"",null==n.sortedFiles[1]?null:n.sortedFiles[1].url,"")),e(t,74,0,null==n.sortedFiles[1]?null:n.sortedFiles[1].description),e(t,88,0,Oi(1,"",null==n.sortedFiles[2]?null:n.sortedFiles[2].url,"")),e(t,89,0,null==n.sortedFiles[2]?null:n.sortedFiles[2].description),e(t,103,0,Oi(1,"",null==n.sortedFiles[3]?null:n.sortedFiles[3].url,"")),e(t,104,0,null==n.sortedFiles[3]?null:n.sortedFiles[3].description),e(t,118,0,Oi(1,"",null==n.sortedFiles[4]?null:n.sortedFiles[4].url,"")),e(t,119,0,null==n.sortedFiles[4]?null:n.sortedFiles[4].description),e(t,133,0,Oi(1,"",null==n.sortedFiles[5]?null:n.sortedFiles[5].url,"")),e(t,134,0,null==n.sortedFiles[5]?null:n.sortedFiles[5].description),e(t,148,0,Oi(1,"",null==n.sortedFiles[6]?null:n.sortedFiles[6].url,"")),e(t,149,0,null==n.sortedFiles[6]?null:n.sortedFiles[6].description),e(t,163,0,Oi(1,"",null==n.sortedFiles[7]?null:n.sortedFiles[7].url,"")),e(t,164,0,null==n.sortedFiles[7]?null:n.sortedFiles[7].description),e(t,178,0,Oi(1,"",null==n.sortedFiles[8]?null:n.sortedFiles[8].url,"")),e(t,179,0,null==n.sortedFiles[8]?null:n.sortedFiles[8].description),e(t,193,0,Oi(1,"",null==n.sortedFiles[9]?null:n.sortedFiles[9].url,"")),e(t,194,0,null==n.sortedFiles[9]?null:n.sortedFiles[9].description),e(t,208,0,Oi(1,"",null==n.sortedFiles[10]?null:n.sortedFiles[10].url,"")),e(t,209,0,null==n.sortedFiles[10]?null:n.sortedFiles[10].description),e(t,223,0,Oi(1,"",null==n.sortedFiles[11]?null:n.sortedFiles[11].url,"")),e(t,224,0,null==n.sortedFiles[11]?null:n.sortedFiles[11].description),e(t,238,0,Oi(1,"",null==n.sortedFiles[12]?null:n.sortedFiles[12].url,"")),e(t,239,0,null==n.sortedFiles[12]?null:n.sortedFiles[12].description)}))}var aq=Vi("app-checkList",dz,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"app-checkList",[],null,null,null,iq,fz)),la(1,114688,null,0,dz,[wO,a_,n_,pz],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);function rq(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function sq(e){return"string"==typeof e}function lq(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function oq(e){return e&&e.getTime&&!isNaN(e.getTime())}function uq(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function cq(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function hq(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function dq(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pq(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function fq(e){return void 0===e}function mq(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=rq(t)),n}var gq={},vq={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function yq(e,t){var n=e.toLowerCase(),i=e;n in vq&&(i=vq[n]),gq[n]=gq["".concat(n,"s")]=gq[t]=i}function bq(e){return sq(e)?gq[e]||gq[e.toLowerCase()]:void 0}function kq(e,t,n){var i="".concat(Math.abs(e));return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}var Cq={},wq={},_q=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function xq(e,t,n,i){e&&(wq[e]=i),t&&(wq[t[0]]=function(){return kq(i.apply(null,arguments),t[1],t[2])}),n&&(wq[n]=function(t,n){return n.locale.ordinal(i.apply(null,arguments),e)})}function Sq(e,t,n){var i=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e),i}function Eq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=new Date(e,t,n,i,a,r,s);return e<100&&e>=0&&isFinite(l.getFullYear())&&l.setFullYear(e),l}function Oq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCHours():e.getHours()}function Iq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCMinutes():e.getMinutes()}function Aq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCSeconds():e.getSeconds()}function Dq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCMilliseconds():e.getMilliseconds()}function Mq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCDay():e.getDay()}function Tq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCDate():e.getDate()}function Pq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCMonth():e.getMonth()}function Lq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.getUTCFullYear():e.getFullYear()}function Nq(e,t){return!(!e||!t)&&Rq(e,t)&&Pq(e)===Pq(t)}function Rq(e,t){return!(!e||!t)&&Lq(e)===Lq(t)}function Fq(e,t){return!(!e||!t)&&Rq(e,t)&&Nq(e,t)&&Tq(e)===Tq(t)}var Hq=/\d/,Bq=/\d\d/,Vq=/\d{3}/,jq=/\d{4}/,zq=/[+-]?\d{6}/,qq=/\d\d?/,Uq=/\d\d\d\d?/,Wq=/\d\d\d\d\d\d?/,Yq=/\d{1,3}/,Gq=/\d{1,4}/,Xq=/[+-]?\d{1,6}/,Kq=/\d+/,$q=/[+-]?\d+/,Zq=/Z|[+-]\d\d(?::?\d\d)?/gi,Jq=/[+-]?\d+(\.\d{1,3})?/,Qq=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,eU={};function tU(e,t,n){eU[e]=uq(t)?t:function(e,i){return e&&n?n:t}}function nU(e,t){return dq(eU,e)?eU[e](!1,t):new RegExp(iU(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,a){return t||n||i||a}))))}function iU(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var aU={};function rU(e,t){var n,i=sq(e)?[e]:e,a=t;if(cq(t)&&(a=function(e,n,i){return n[t]=mq(e),i}),hq(i)&&uq(a))for(n=0;n<i.length;n++)aU[i[n]]=a}function sU(e,t){rU(e,(function(e,n,i,a){return i._w=i._w||{},t(e,i._w,i,a)}))}function lU(e,t,n){return null!=t&&dq(aU,e)&&aU[e](t,n._a,n,e),n}function oU(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function uU(e,t){return Lq(e,t.isUTC).toString()}function cU(e){return mq(e)+(mq(e)>68?1900:2e3)}function hU(e){return dU(e)?366:365}function dU(e){return e%4==0&&e%100!=0||e%400==0}function pU(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return 1===n?dU(e+(t-n)/12)?29:28:31-n%7%2}var fU={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function mU(e,t){var n=Object.assign({},fU,t),i=e.getFullYear()+(n.year||0),a=e.getMonth()+(n.month||0),r=e.getDate()+(n.day||0);return n.month&&!n.day&&(r=Math.min(r,pU(i,a))),Eq(i,a,r,e.getHours()+(n.hour||0),e.getMinutes()+(n.minute||0),e.getSeconds()+(n.seconds||0))}function gU(e,t){return cq(t)?t:e}function vU(e,t,n){var i=Math.min(Tq(e),pU(Lq(e),t));return n?e.setUTCMonth(t,i):e.setMonth(t,i),e}function yU(e,t,n){return n?e.setUTCDate(t):e.setDate(t),e}function bU(e){return new Date(e.getTime())}function kU(e,t,n){var i=bU(e);switch(t){case"year":vU(i,0,n);case"quarter":case"month":yU(i,1,n);case"week":case"isoWeek":case"day":case"date":!function(e,t,n){n?e.setUTCHours(0):e.setHours(0)}(i,0,n);case"hours":!function(e,t,n){n?e.setUTCMinutes(0):e.setMinutes(0)}(i,0,n);case"minutes":!function(e,t,n){n?e.setUTCSeconds(0):e.setSeconds(0)}(i,0,n);case"seconds":!function(e,t,n){n?e.setUTCMilliseconds(0):e.setMilliseconds(0)}(i,0,n)}return"week"===t&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PW(e,0-RW(e,n.locale,n.isUTC),"day")}(i,0,{isUTC:n}),"isoWeek"===t&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$U();return sq(e)?t.weekdaysParse(e)%7||7:cq(e)&&isNaN(e)?null:e}(1,n.locale);NW(e,function(e,t){return Mq(e,void 0)}(e)%7?i:i-7)}(i),"quarter"===t&&vU(i,3*Math.floor(Pq(i,n)/3),n),i}function CU(e,t,n){var i=t;return"date"===i&&(i="day"),function(e,t,n,i){return LW(e,DW(1,"milliseconds"),-1,i)}(PW(kU(e,i,n),1,"isoWeek"===i?"week":i,n),0,0,n)}function wU(e,t){var n=+kU(e,"day",t),i=+kU(e,"year",t);return Math.round((n-i)/864e5)+1}function _U(e,t,n){var i=t-n+7;return-(Sq(e,0,i).getUTCDay()-t+7)%7+i-1}function xU(e,t,n,i){var a,r,s=_U(Lq(e,i),t,n),l=Math.floor((wU(e,i)-s-1)/7)+1;return l<1?a=l+SU(r=Lq(e,i)-1,t,n):l>SU(Lq(e,i),t,n)?(a=l-SU(Lq(e,i),t,n),r=Lq(e,i)+1):(r=Lq(e,i),a=l),{week:a,year:r}}function SU(e,t,n){var i=_U(e,t,n),a=_U(e+1,t,n);return(hU(e)-i+a)/7}var EU=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,OU="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),IU="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),AU="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),DU="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),MU={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},TU=Qq,PU=Qq,LU=function(){function e(t){_classCallCheck(this,e),t&&this.set(t)}return _createClass(e,[{key:"set",value:function(e){var t;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];this[uq(n)?t:"_".concat(t)]=n}this._config=e}},{key:"calendar",value:function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return uq(i)?i.call(null,t,n):i}},{key:"longDateFormat",value:function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}},{key:"ordinal",value:function(e,t){return this._ordinal.replace("%d",e.toString(10))}},{key:"preparse",value:function(e){return e}},{key:"postformat",value:function(e){return e}},{key:"relativeTime",value:function(e,t,n,i){var a=this._relativeTime[n];return uq(a)?a(e,t,n,i):a.replace(/%d/i,e.toString(10))}},{key:"pastFuture",value:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return uq(n)?n(t):n.replace(/%s/i,t)}},{key:"months",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return hq(this._months)?this._months:this._months.standalone;if(hq(this._months))return this._months[Pq(e,n)];var i=(this._months.isFormat||EU).test(t)?"format":"standalone";return this._months[i][Pq(e,n)]}},{key:"monthsShort",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return hq(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(hq(this._monthsShort))return this._monthsShort[Pq(e,n)];var i=EU.test(t)?"format":"standalone";return this._monthsShort[i][Pq(e,n)]}},{key:"monthsParse",value:function(e,t,n){var i,a,r;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=new Date(Date.UTC(2e3,r)),n&&!this._longMonthsParse[r]){var s=this.months(i,"",!0).replace(".",""),l=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[r]=new RegExp("^".concat(s,"$"),"i"),this._shortMonthsParse[r]=new RegExp("^".concat(l,"$"),"i")}if(n||this._monthsParse[r]||(a="^".concat(this.months(i,"",!0),"|^").concat(this.monthsShort(i,"",!0)),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}},{key:"monthsRegex",value:function(e){return this._monthsParseExact?(dq(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(dq(this,"_monthsRegex")||(this._monthsRegex=PU),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}},{key:"monthsShortRegex",value:function(e){return this._monthsParseExact?(dq(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(dq(this,"_monthsShortRegex")||(this._monthsShortRegex=TU),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}},{key:"week",value:function(e,t){return xU(e,this._week.dow,this._week.doy,t).week}},{key:"firstDayOfWeek",value:function(){return this._week.dow}},{key:"firstDayOfYear",value:function(){return this._week.doy}},{key:"weekdays",value:function(e,t,n){if(!e)return hq(this._weekdays)?this._weekdays:this._weekdays.standalone;if(hq(this._weekdays))return this._weekdays[Mq(e,n)];var i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][Mq(e,n)]}},{key:"weekdaysMin",value:function(e,t,n){return e?this._weekdaysMin[Mq(e,n)]:this._weekdaysMin}},{key:"weekdaysShort",value:function(e,t,n){return e?this._weekdaysShort[Mq(e,n)]:this._weekdaysShort}},{key:"weekdaysParse",value:function(e,t,n){var i,a;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){var r=NW(new Date(Date.UTC(2e3,1)),i,null,!0);if(n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^".concat(this.weekdays(r,"",!0).replace(".",".?"),"$"),"i"),this._shortWeekdaysParse[i]=new RegExp("^".concat(this.weekdaysShort(r,"",!0).replace(".",".?"),"$"),"i"),this._minWeekdaysParse[i]=new RegExp("^".concat(this.weekdaysMin(r,"",!0).replace(".",".?"),"$"),"i")),this._weekdaysParse[i]||(a="^".concat(this.weekdays(r,"",!0),"|^").concat(this.weekdaysShort(r,"",!0),"|^").concat(this.weekdaysMin(r,"",!0)),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),!(hq(this._fullWeekdaysParse)&&hq(this._shortWeekdaysParse)&&hq(this._minWeekdaysParse)&&hq(this._weekdaysParse)))return;if(n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}},{key:"weekdaysRegex",value:function(e){return this._weekdaysParseExact?(dq(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(dq(this,"_weekdaysRegex")||(this._weekdaysRegex=Qq),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}},{key:"weekdaysShortRegex",value:function(e){return this._weekdaysParseExact?(dq(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(dq(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qq),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}},{key:"weekdaysMinRegex",value:function(e){return this._weekdaysParseExact?(dq(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(dq(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qq),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}},{key:"isPM",value:function(e){return"p"===e.toLowerCase().charAt(0)}},{key:"meridiem",value:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}},{key:"formatLongDate",value:function(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:MU;var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}},{key:"handleMonthStrictParse",value:function(e,t,n){var i,a,r,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=new Date(2e3,i),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=this._shortMonthsParse.indexOf(s))?a:null:-1!==(a=this._longMonthsParse.indexOf(s))?a:null:"MMM"===t?-1!==(a=this._shortMonthsParse.indexOf(s))?a:-1!==(a=this._longMonthsParse.indexOf(s))?a:null:-1!==(a=this._longMonthsParse.indexOf(s))?a:-1!==(a=this._shortMonthsParse.indexOf(s))?a:null}},{key:"handleWeekStrictParse",value:function(e,t,n){var i,a,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a){var s=NW(new Date(Date.UTC(2e3,1)),a,null,!0);this._minWeekdaysParse[a]=this.weekdaysMin(s).toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s).toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase()}if(hq(this._weekdaysParse)&&hq(this._shortWeekdaysParse)&&hq(this._minWeekdaysParse))return n?"dddd"===t?-1!==(i=this._weekdaysParse.indexOf(r))?i:null:"ddd"===t?-1!==(i=this._shortWeekdaysParse.indexOf(r))?i:null:-1!==(i=this._minWeekdaysParse.indexOf(r))?i:null:"dddd"===t?-1!==(i=this._weekdaysParse.indexOf(r))?i:-1!==(i=this._shortWeekdaysParse.indexOf(r))?i:-1!==(i=this._minWeekdaysParse.indexOf(r))?i:null:"ddd"===t?-1!==(i=this._shortWeekdaysParse.indexOf(r))?i:-1!==(i=this._weekdaysParse.indexOf(r))?i:-1!==(i=this._minWeekdaysParse.indexOf(r))?i:null:-1!==(i=this._minWeekdaysParse.indexOf(r))?i:-1!==(i=this._weekdaysParse.indexOf(r))?i:-1!==(i=this._shortWeekdaysParse.indexOf(r))?i:null}},{key:"computeMonthsParse",value:function(){var e,t,n=[],i=[],a=[];for(t=0;t<12;t++)e=new Date(2e3,t),n.push(this.monthsShort(e,"")),i.push(this.months(e,"")),a.push(this.months(e,"")),a.push(this.monthsShort(e,""));for(n.sort(NU),i.sort(NU),a.sort(NU),t=0;t<12;t++)n[t]=iU(n[t]),i[t]=iU(i[t]);for(t=0;t<24;t++)a[t]=iU(a[t]);this._monthsRegex=new RegExp("^(".concat(a.join("|"),")"),"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^(".concat(i.join("|"),")"),"i"),this._monthsShortStrictRegex=new RegExp("^(".concat(n.join("|"),")"),"i")}},{key:"computeWeekdaysParse",value:function(){var e,t=[],n=[],i=[],a=[];for(e=0;e<7;e++){var r=NW(new Date(Date.UTC(2e3,1)),e,null,!0),s=this.weekdaysMin(r),l=this.weekdaysShort(r),o=this.weekdays(r);t.push(s),n.push(l),i.push(o),a.push(s),a.push(l),a.push(o)}for(t.sort(NU),n.sort(NU),i.sort(NU),a.sort(NU),e=0;e<7;e++)n[e]=iU(n[e]),i[e]=iU(i[e]),a[e]=iU(a[e]);this._weekdaysRegex=new RegExp("^(".concat(a.join("|"),")"),"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^(".concat(i.join("|"),")"),"i"),this._weekdaysShortStrictRegex=new RegExp("^(".concat(n.join("|"),")"),"i"),this._weekdaysMinStrictRegex=new RegExp("^(".concat(t.join("|"),")"),"i")}},{key:"invalidDate",get:function(){return this._invalidDate},set:function(e){this._invalidDate=e}}]),e}();function NU(e,t){return t.length-e.length}var RU={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:MU,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:OU,monthsShort:IU,week:{dow:0,doy:6},weekdays:AU,weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysShort:DU,meridiemParse:/[ap]\.?m?\.?/i};function FU(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&mq(e[i])!==mq(t[i]))&&s++;return s+r}function HU(e,t){xq(null,[e,e.length,!1],null,t)}function BU(e,t){return jU(e,t.locale).toString()}function VU(e){return zU(e).toString()}function jU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$U(),n=arguments.length>2?arguments[2]:void 0;return xU(e,t.firstDayOfWeek(),t.firstDayOfYear(),n).year}function zU(e,t){return xU(e,1,4,t).year}function qU(e,t){xq(e,null,null,(function(e,n){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t._isUTC?t._offset||0:function(e){return 15*-Math.round(e.getTimezoneOffset()/15)}(e)}(e,{_isUTC:n.isUTC,_offset:n.offset}),a="+";return i<0&&(i=-i,a="-"),a+kq(~~(i/60),2)+t+kq(~~i%60,2)}))}var UU,WU=/([\+\-]|\d\d)/gi,YU={},GU={};function XU(e){return e?e.toLowerCase().replace("_","-"):e}function KU(e){return YU[e]||console.error('Khronos locale error: please load locale "'.concat(e,'" before using it')),YU[e]}function $U(e){return YU.en||(function e(t,n){var i;return t&&(fq(n)?i=$U(t):sq(t)&&(i=function t(n,i){if(null===i)return delete YU[n],UU=$U("en"),null;if(i){var a=RU;if(i.abbr=n,null!=i.parentLocale){if(null==YU[i.parentLocale])return GU[i.parentLocale]||(GU[i.parentLocale]=[]),GU[i.parentLocale].push({name:n,config:i}),null;a=YU[i.parentLocale]._config}return YU[n]=new LU(function(e,t){var n,i=Object.assign({},e);for(var a in t)dq(t,a)&&(pq(e[a])&&pq(t[a])?(i[a]={},Object.assign(i[a],e[a]),Object.assign(i[a],t[a])):null!=t[a]?i[a]=t[a]:delete i[a]);for(n in e)dq(e,n)&&!dq(t,n)&&pq(e[n])&&(i[n]=Object.assign({},i[n]));return i}(a,i)),GU[n]&&GU[n].forEach((function(e){t(e.name,e.config)})),e(n),YU[n]}}(t,n)),i&&(UU=i)),UU&&UU._abbr}("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===mq(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),xq("w",["ww",2,!1],"wo",(function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$U();arguments.length>2&&arguments[2];return t.week(e,void 0)}(e,t.locale).toString(10)})),xq("W",["WW",2,!1],"Wo",(function(e){return function(e,t){return xU(e,1,4,void 0).week}(e).toString(10)})),yq("week","w"),yq("isoWeek","W"),tU("w",qq),tU("ww",qq,Bq),tU("W",qq),tU("WW",qq,Bq),sU(["w","ww","W","WW"],(function(e,t,n,i){return t[i.substr(0,1)]=mq(e),n})),xq(null,["gg",2,!1],null,(function(e,t){return(jU(e,t.locale)%100).toString()})),xq(null,["GG",2,!1],null,(function(e){return(zU(e)%100).toString()})),HU("gggg",BU),HU("ggggg",BU),HU("GGGG",VU),HU("GGGGG",VU),yq("weekYear","gg"),yq("isoWeekYear","GG"),tU("G",$q),tU("g",$q),tU("GG",qq,Bq),tU("gg",qq,Bq),tU("GGGG",Gq,jq),tU("gggg",Gq,jq),tU("GGGGG",Xq,zq),tU("ggggg",Xq,zq),sU(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){return t[i.substr(0,2)]=mq(e),n})),sU(["gg","GG"],(function(e,t,n,i){return t[i]=cU(e),n})),xq("Y",null,null,(function(e,t){var n=Lq(e,t.isUTC);return n<=9999?n.toString(10):"+".concat(n)})),xq(null,["YY",2,!1],null,(function(e,t){return(Lq(e,t.isUTC)%100).toString(10)})),xq(null,["YYYY",4,!1],null,uU),xq(null,["YYYYY",5,!1],null,uU),xq(null,["YYYYYY",6,!0],null,uU),yq("year","y"),tU("Y",$q),tU("YY",qq,Bq),tU("YYYY",Gq,jq),tU("YYYYY",Xq,zq),tU("YYYYYY",Xq,zq),rU(["YYYYY","YYYYYY"],0),rU("YYYY",(function(e,t,n){return t[0]=2===e.length?cU(e):mq(e),n})),rU("YY",(function(e,t,n){return t[0]=cU(e),n})),rU("Y",(function(e,t,n){return t[0]=parseInt(e,10),n})),xq("z",null,null,(function(e,t){return t.isUTC?"UTC":""})),xq("zz",null,null,(function(e,t){return t.isUTC?"Coordinated Universal Time":""})),xq("X",null,null,(function(e){return function(e){return Math.floor(e.valueOf()/1e3)}(e).toString(10)})),xq("x",null,null,(function(e){return e.valueOf().toString(10)})),tU("x",$q),tU("X",Jq),rU("X",(function(e,t,n){return n._d=new Date(1e3*parseFloat(e)),n})),rU("x",(function(e,t,n){return n._d=new Date(mq(e)),n})),xq("s",["ss",2,!1],null,(function(e,t){return Aq(e,t.isUTC).toString(10)})),yq("second","s"),tU("s",qq),tU("ss",qq,Bq),rU(["s","ss"],5),xq("Q",null,"Qo",(function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.ceil((Pq(e,t)+1)/3)}(e,t.isUTC).toString(10)})),yq("quarter","Q"),tU("Q",Hq),rU("Q",(function(e,t,n){return t[1]=3*(mq(e)-1),n})),qU("Z",":"),qU("ZZ",""),tU("Z",Zq),tU("ZZ",Zq),rU(["Z","ZZ"],(function(e,t,n){return n._useUTC=!0,n._tzm=function(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1].match(WU)||["-","0","0"],a=60*parseInt(i[1],10)+mq(i[2]);return 0===a?0:"+"===i[0]?a:-a}(Zq,e),n})),xq("M",["MM",2,!1],"Mo",(function(e,t){return(Pq(e,t.isUTC)+1).toString(10)})),xq("MMM",null,null,(function(e,t){return t.locale.monthsShort(e,t.format,t.isUTC)})),xq("MMMM",null,null,(function(e,t){return t.locale.months(e,t.format,t.isUTC)})),yq("month","M"),tU("M",qq),tU("MM",qq,Bq),tU("MMM",(function(e,t){return t.monthsShortRegex(e)})),tU("MMMM",(function(e,t){return t.monthsRegex(e)})),rU(["M","MM"],(function(e,t,n){return t[1]=mq(e)-1,n})),rU(["MMM","MMMM"],(function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);return null!=a?t[1]=a:oU(n).invalidMonth=!!e,n})),xq("m",["mm",2,!1],null,(function(e,t){return Iq(e,t.isUTC).toString(10)})),yq("minute","m"),tU("m",qq),tU("mm",qq,Bq),rU(["m","mm"],4),function(){var e;for(xq("S",null,null,(function(e,t){return(~~(Dq(e,t.isUTC)/100)).toString(10)})),xq(null,["SS",2,!1],null,(function(e,t){return(~~(Dq(e,t.isUTC)/10)).toString(10)})),xq(null,["SSS",3,!1],null,(function(e,t){return Dq(e,t.isUTC).toString(10)})),xq(null,["SSSS",4,!1],null,(function(e,t){return(10*Dq(e,t.isUTC)).toString(10)})),xq(null,["SSSSS",5,!1],null,(function(e,t){return(100*Dq(e,t.isUTC)).toString(10)})),xq(null,["SSSSSS",6,!1],null,(function(e,t){return(1e3*Dq(e,t.isUTC)).toString(10)})),xq(null,["SSSSSSS",7,!1],null,(function(e,t){return(1e4*Dq(e,t.isUTC)).toString(10)})),xq(null,["SSSSSSSS",8,!1],null,(function(e,t){return(1e5*Dq(e,t.isUTC)).toString(10)})),xq(null,["SSSSSSSSS",9,!1],null,(function(e,t){return(1e6*Dq(e,t.isUTC)).toString(10)})),yq("millisecond","ms"),tU("S",Yq,Hq),tU("SS",Yq,Bq),tU("SSS",Yq,Vq),e="SSSS";e.length<=9;e+="S")tU(e,Kq);function t(e,t,n){return t[6]=mq(1e3*parseFloat("0.".concat(e))),n}for(e="S";e.length<=9;e+="S")rU(e,t)}(),function(){function e(e,t){return Oq(e,t)%12||12}function t(e,t){xq(e,null,null,(function(e,n){return n.locale.meridiem(Oq(e,n.isUTC),Iq(e,n.isUTC),t)}))}function n(e,t){return t._meridiemParse}xq("H",["HH",2,!1],null,(function(e,t){return Oq(e,t.isUTC).toString(10)})),xq("h",["hh",2,!1],null,(function(t,n){return e(t,n.isUTC).toString(10)})),xq("k",["kk",2,!1],null,(function(e,t){return function(e,t){return Oq(e,t)||24}(e,t.isUTC).toString(10)})),xq("hmm",null,null,(function(t,n){return"".concat(e(t,n.isUTC)).concat(kq(Iq(t,n.isUTC),2))})),xq("hmmss",null,null,(function(t,n){return"".concat(e(t,n.isUTC)).concat(kq(Iq(t,n.isUTC),2)).concat(kq(Aq(t,n.isUTC),2))})),xq("Hmm",null,null,(function(e,t){return"".concat(Oq(e,t.isUTC)).concat(kq(Iq(e,t.isUTC),2))})),xq("Hmmss",null,null,(function(e,t){return"".concat(Oq(e,t.isUTC)).concat(kq(Iq(e,t.isUTC),2)).concat(kq(Aq(e,t.isUTC),2))})),t("a",!0),t("A",!1),yq("hour","h"),tU("a",n),tU("A",n),tU("H",qq),tU("h",qq),tU("k",qq),tU("HH",qq,Bq),tU("hh",qq,Bq),tU("kk",qq,Bq),tU("hmm",Uq),tU("hmmss",Wq),tU("Hmm",Uq),tU("Hmmss",Wq),rU(["H","HH"],3),rU(["k","kk"],(function(e,t,n){var i=mq(e);return t[3]=24===i?0:i,n})),rU(["a","A"],(function(e,t,n){return n._isPm=n._locale.isPM(e),n._meridiem=e,n})),rU(["h","hh"],(function(e,t,n){return t[3]=mq(e),oU(n).bigHour=!0,n})),rU("hmm",(function(e,t,n){var i=e.length-2;return t[3]=mq(e.substr(0,i)),t[4]=mq(e.substr(i)),oU(n).bigHour=!0,n})),rU("hmmss",(function(e,t,n){var i=e.length-4,a=e.length-2;return t[3]=mq(e.substr(0,i)),t[4]=mq(e.substr(i,2)),t[5]=mq(e.substr(a)),oU(n).bigHour=!0,n})),rU("Hmm",(function(e,t,n){var i=e.length-2;return t[3]=mq(e.substr(0,i)),t[4]=mq(e.substr(i)),n})),rU("Hmmss",(function(e,t,n){var i=e.length-4,a=e.length-2;return t[3]=mq(e.substr(0,i)),t[4]=mq(e.substr(i,2)),t[5]=mq(e.substr(a)),n}))}(),xq("DDD",["DDDD",3,!1],"DDDo",(function(e){return wU(e).toString(10)})),yq("dayOfYear","DDD"),tU("DDD",Yq),tU("DDDD",Vq),rU(["DDD","DDDD"],(function(e,t,n){return n._dayOfYear=mq(e),n})),xq("d",null,"do",(function(e,t){return Mq(e,t.isUTC).toString(10)})),xq("dd",null,null,(function(e,t){return t.locale.weekdaysMin(e,t.format,t.isUTC)})),xq("ddd",null,null,(function(e,t){return t.locale.weekdaysShort(e,t.format,t.isUTC)})),xq("dddd",null,null,(function(e,t){return t.locale.weekdays(e,t.format,t.isUTC)})),xq("e",null,null,(function(e,t){return RW(e,t.locale,t.isUTC).toString(10)})),xq("E",null,null,(function(e,t){return function(e,t){return Mq(e,t)||7}(e,t.isUTC).toString(10)})),yq("day","d"),yq("weekday","e"),yq("isoWeekday","E"),tU("d",qq),tU("e",qq),tU("E",qq),tU("dd",(function(e,t){return t.weekdaysMinRegex(e)})),tU("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),tU("dddd",(function(e,t){return t.weekdaysRegex(e)})),sU(["dd","ddd","dddd"],(function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);return null!=a?t.d=a:oU(n).invalidWeekday=!!e,n})),sU(["d","e","E"],(function(e,t,n,i){return t[i]=mq(e),n})),xq("D",["DD",2,!1],"Do",(function(e,t){return Tq(e,t.isUTC).toString(10)})),yq("date","D"),tU("D",qq),tU("DD",qq,Bq),tU("Do",(function(e,t){return t._dayOfMonthOrdinalParse||t._ordinalParse})),rU(["D","DD"],2),rU("Do",(function(e,t,n){return t[2]=mq(e.match(qq)[0]),n}))),e?function(e){for(var t,n,i=0;i<e.length;){var a=XU(e[i]).split("-"),r=a.length;for(t=(t=XU(e[i+1]))?t.split("-"):null;r>0;){if(n=KU(a.slice(0,r).join("-")))return n;if(t&&t.length>=r&&FU(a,t,!0)>=r-1)break;r--}i++}return null}(hq(e)?e:[e]):UU}var ZU=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],JU=ZU.reduce((function(e,t){return e[t]=!0,e}),{});function QU(e){return e<0?Math.floor(e):Math.ceil(e)}function eW(e){return 4800*e/146097}function tW(e){return 146097*e/4800}var nW=Math.round;function iW(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}var aW=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this._data={},this._locale=$U(),this._locale=n&&n._locale||$U();var i=t.year||0,a=t.quarter||0,r=t.month||0,s=t.week||0,l=t.day||0,o=t.hours||0,u=t.minutes||0,c=t.seconds||0,h=t.milliseconds||0;return this._isValid=function(e){if(Object.keys(e).some((function(t){return t in JU&&null===e[t]||isNaN(e[t])})))return!1;for(var t=!1,n=0;n<ZU.length;++n)if(e[ZU[n]]){if(t)return!1;e[ZU[n]]!==mq(e[ZU[n]])&&(t=!0)}return!0}(t),this._milliseconds=+h+1e3*c+60*u*1e3+1e3*o*60*60,this._days=+l+7*s,this._months=+r+3*a+12*i,function(e){var t=e._milliseconds,n=e._days,i=e._months,a=e._data;t>=0&&n>=0&&i>=0||t<=0&&n<=0&&i<=0||(t+=864e5*QU(tW(i)+n),n=0,i=0),a.milliseconds=t%1e3;var r=rq(t/1e3);a.seconds=r%60;var s=rq(r/60);a.minutes=s%60;var l=rq(s/60);a.hours=l%24,n+=rq(l/24);var o=rq(eW(n));i+=o,n-=QU(tW(o));var u=rq(i/12);return i%=12,a.day=n,a.month=i,a.year=u,e}(this)}return _createClass(e,[{key:"isValid",value:function(){return this._isValid}},{key:"humanize",value:function(e){if(!this.isValid())return this.localeData().invalidDate;var t=this.localeData(),n=function(e,t,n){var i=DW(e).abs(),a=nW(i.as("s")),r=nW(i.as("m")),s=nW(i.as("h")),l=nW(i.as("d")),o=nW(i.as("M")),u=nW(i.as("y")),c=a<=44&&["s",a]||a<45&&["ss",a]||r<=1&&["m"]||r<45&&["mm",r]||s<=1&&["h"]||s<22&&["hh",s]||l<=1&&["d"]||l<26&&["dd",l]||o<=1&&["M"]||o<11&&["MM",o]||u<=1&&["y"]||["yy",u];return iW.apply(null,[c[0],c[1],t,+e>0,n])}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}},{key:"localeData",value:function(){return this._locale}},{key:"locale",value:function(e){return e?(this._locale=$U(e)||this._locale,this):this._locale._abbr}},{key:"abs",value:function(){var e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}},{key:"as",value:function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds,a=bq(e);if("month"===a||"year"===a)return t=this._days+i/864e5,n=this._months+eW(t),"month"===a?n:n/12;switch(t=this._days+Math.round(tW(this._months)),a){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit ".concat(a))}}},{key:"valueOf",value:function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*mq(this._months/12):NaN}}]),e}();function rW(e){if(null==e._isValid){var t=oU(e),n=Array.prototype.some.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d&&e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function sW(e,t){return e._d=new Date(NaN),Object.assign(oU(e),t||{userInvalidated:!0}),e}var lW=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oW=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,uW=/Z|[+-]\d\d(?::?\d\d)?/,cW=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],hW=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],dW=/^\/?Date\((\-?\d+)/i,pW={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},fW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function mW(e){if(!sq(e._i))return e;var t,n,i,a,r,s,l=e._i,o=lW.exec(l)||oW.exec(l);if(!o)return e._isValid=!1,e;for(r=0,s=cW.length;r<s;r++)if(cW[r][1].exec(o[1])){n=cW[r][0],t=!1!==cW[r][2];break}if(null==n)return e._isValid=!1,e;if(o[3]){for(r=0,s=hW.length;r<s;r++)if(hW[r][1].exec(o[3])){i=(o[2]||" ")+hW[r][0];break}if(null==i)return e._isValid=!1,e}if(!t&&null!=i)return e._isValid=!1,e;if(o[4]){if(!uW.exec(o[4]))return e._isValid=!1,e;a="Z"}return e._f=n+(i||"")+(a||""),_W(e)}function gW(e){var t=parseInt(e,10);return t<=49?t+2e3:t}function vW(e){if(!sq(e._i))return e;var t=fW.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(!t)return function(e){return e._isValid=!1,e}(e);var n,i,a,r,s,l,o,u=(n=t[4],i=t[3],a=t[2],r=t[5],s=t[6],l=t[7],o=[gW(n),IU.indexOf(i),parseInt(a,10),parseInt(r,10),parseInt(s,10)],l&&o.push(parseInt(l,10)),o);return function(e,t,n){return!e||DU.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(oU(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],u,e)?(e._a=u,e._tzm=function(e,t,n){if(e)return pW[e];if(t)return 0;var i=parseInt(n,10),a=i%100;return(i-a)/100*60+a}(t[8],t[9],t[10]),e._d=Sq.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),oU(e).rfc2822=!0,e):e}function yW(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=$U(n||"en");if(!r)throw new Error('Locale "'.concat(n,'" is not defined, please add it with "defineLocale(...)"'));var s=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!oq(e))return n.invalidDate;var r=bW(t,n);return Cq[r]=Cq[r]||function(e){for(var t,n=e.match(_q),i=n.length,a=new Array(i),r=0;r<i;r++)a[r]=wq[n[r]]?wq[n[r]]:(t=n[r]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t,n,r){for(var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l="",o=0;o<i;o++)l+=uq(a[o])?a[o].call(null,t,{format:e,locale:n,isUTC:r,offset:s}):a[o];return l}}(r),Cq[r](e,n,i,a)}(e,t||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),r,i,a);return s?r.postformat(s):s}function bW(e,t){var n=e,i=5,a=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,r=function(e){return t.formatLongDate(e)||e};for(a.lastIndex=0;i>=0&&a.test(n);)n=n.replace(a,r),a.lastIndex=0,i-=1;return n}function kW(e,t,n){return null!=e?e:null!=t?t:n}function CW(e){var t,n,i,a,r,s=[];if(e._d)return e;for(i=function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,a,r,s,l,o;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,s=4,n=kW(t.GG,e._a[0],xU(new Date,1,4).year),i=kW(t.W,1),((a=kW(t.E,1))<1||a>7)&&(o=!0);else{r=e._locale._week.dow,s=e._locale._week.doy;var u=xU(new Date,r,s);n=kW(t.gg,e._a[0],u.year),i=kW(t.w,u.week),null!=t.d?((a=t.d)<0||a>6)&&(o=!0):null!=t.e?(a=t.e+r,(t.e<0||t.e>6)&&(o=!0)):a=r}i<1||i>SU(n,r,s)?oU(e)._overflowWeeks=!0:null!=o?oU(e)._overflowWeekday=!0:(l=function(e,t,n,i,a){var r,s,l=1+7*(t-1)+(7+n-i)%7+_U(e,i,a);return l<=0?s=hU(r=e-1)+l:l>hU(e)?(r=e+1,s=l-hU(e)):(r=e,s=l),{year:r,dayOfYear:s}}(n,i,a,r,s),e._a[0]=l.year,e._dayOfYear=l.dayOfYear)}(e),null!=e._dayOfYear&&(r=kW(e._a[0],i[0]),(e._dayOfYear>hU(r)||0===e._dayOfYear)&&(oU(e)._overflowDayOfYear=!0),n=new Date(Date.UTC(r,0,e._dayOfYear)),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];return 24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Sq:Eq).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(oU(e).weekdayMismatch=!0),e}function wW(e){var t,n=e._a;return n&&-2===oU(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>pU(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,oU(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),oU(e)._overflowWeeks&&-1===t&&(t=7),oU(e)._overflowWeekday&&-1===t&&(t=8),oU(e).overflow=t),e}function _W(e){if("ISO_8601"===e._f)return mW(e);if("RFC_2822"===e._f)return vW(e);if(e._a=[],oU(e).empty=!0,hq(e._f)||!e._i&&0!==e._i)return e;var t,n,i,a,r=e._i.toString(),s=0,l=r.length,o=bW(e._f,e._locale).match(_q)||[];for(t=0;t<o.length;t++)n=o[t],(i=(r.match(nU(n,e._locale))||[])[0])&&((a=r.substr(0,r.indexOf(i))).length>0&&oU(e).unusedInput.push(a),r=r.slice(r.indexOf(i)+i.length),s+=i.length),wq[n]?(i?oU(e).empty=!1:oU(e).unusedTokens.push(n),lU(n,i,e)):e._strict&&!i&&oU(e).unusedTokens.push(n);return oU(e).charsLeftOver=l-s,r.length>0&&oU(e).unusedInput.push(r),e._a[3]<=12&&!0===oU(e).bigHour&&e._a[3]>0&&(oU(e).bigHour=void 0),oU(e).parsedDateParts=e._a.slice(0),oU(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i=t;if(null==n)return i;if(null!=e.meridiemHour)return e.meridiemHour(i,n);if(null==e.isPM)return i;var a=e.isPM(n);return a&&i<12&&(i+=12),a||12!==i||(i=0),i}(e._locale,e._a[3],e._meridiem),CW(e),wW(e)}function xW(e,t,n,i,a){return lq(e)?e:function(e,t,n,i,a){var r={},s=e;return(pq(s)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(s)||hq(s)&&0===s.length)&&(s=void 0),r._useUTC=r._isUTC=a,r._l=n,r._i=s,r._f=t,r._strict=i,function(e){var t=wW(function(e){var t=e._i,n=e._f;return e._locale=e._locale||$U(e._l),null===t||void 0===n&&""===t?sW(e,{nullInput:!0}):(sq(t)&&(e._i=t=e._locale.preparse(t)),lq(t)?(e._d=bU(t),e):(hq(n)?function(e){var t,n,i,a,r;if(!e._f||0===e._f.length)return oU(e).invalidFormat=!0,sW(e);for(r=0;r<e._f.length;r++)a=0,t=Object.assign({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],_W(t),rW(t)&&(a+=oU(t).charsLeftOver,a+=10*oU(t).unusedTokens.length,oU(t).score=a,(null==i||a<i)&&(i=a,n=t));Object.assign(e,n||t)}(e):n?_W(e):function(e){var t=e._i;if(fq(t))e._d=new Date;else if(lq(t))e._d=bU(t);else if(sq(t))!function(e){if(!sq(e._i))return e;var t=dW.exec(e._i);null!==t?e._d=new Date(+t[1]):(mW(e),!1!==e._isValid||(delete e._isValid,vW(e),!1!==e._isValid||(delete e._isValid,sW(e))))}(e);else if(hq(t)&&t.length){var n=t.slice(0);e._a=n.map((function(e){return sq(e)?parseInt(e,10):e})),CW(e)}else if(pq(t))!function(e){if(e._d)return e;var t=e._i;if(pq(t)){var n=function(e){var t,n,i={};for(n in e)dq(e,n)&&((t=bq(n))&&(i[t]=e[n]));return i}(t);e._a=[n.year,n.month,n.day,n.hours,n.minutes,n.seconds,n.milliseconds].map((function(e){return sq(e)?parseInt(e,10):e}))}CW(e)}(e);else{if(!cq(t))return sW(e);e._d=new Date(t)}}(e),rW(e)||(e._d=null),e))}(e));return t._d=new Date(null!=t._d?t._d.getTime():NaN),rW(Object.assign({},t,{_isValid:null}))||(t._d=new Date(NaN)),t}(r)}(e,t,n,i,a)._d}function SW(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function EW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";return!(!e||!t)&&("milliseconds"===n?e.valueOf()>t.valueOf():t.valueOf()<kU(e,n).valueOf())}function OW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";return!(!e||!t)&&("milliseconds"===n?e.valueOf()<t.valueOf():CU(e,n).valueOf()<t.valueOf())}var IW=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,AW=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function DW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e,t){if(null==e)return{};if(e instanceof aW)return{milliseconds:e._milliseconds,day:e._days,month:e._months};if(cq(e))return t?_defineProperty2({},t,e):{milliseconds:e};if(sq(e)){var n=IW.exec(e);if(n){var i="-"===n[1]?-1:1;return{year:0,day:mq(n[2])*i,hours:mq(n[3])*i,minutes:mq(n[4])*i,seconds:mq(n[5])*i,milliseconds:mq(SW(1e3*mq(n[6])))*i}}if(n=AW.exec(e)){var a="-"===n[1]?-1:1;return{year:MW(n[2],a),month:MW(n[3],a),week:MW(n[4],a),day:MW(n[5],a),hours:MW(n[6],a),minutes:MW(n[7],a),seconds:MW(n[8],a)}}}if(pq(e)&&("from"in e||"to"in e)){var r=function(e,t){if(!oq(e)||!oq(t))return{milliseconds:0,months:0};var n,i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n._isUTC)return e;var i=bU(t),a=6e4*(n._offset||0),r=e.valueOf()-i.valueOf()+a;return i.setTime(i.valueOf()+r),i}(t,e,{_offset:e.getTimezoneOffset()});return OW(e,i)?n=TW(e,i):((n=TW(i,e)).milliseconds=-n.milliseconds,n.months=-n.months),n}(xW(e.from),xW(e.to));return{milliseconds:r.milliseconds,month:r.months}}return e}(e,t);return new aW(i,n)}function MW(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function TW(e,t){var n={milliseconds:0,months:0};return n.months=Pq(t)-Pq(e)+12*(Lq(t)-Lq(e)),EW(PW(bU(e),n.months,"month"),t)&&--n.months,n.milliseconds=+t-+PW(bU(e),n.months,"month"),n}function PW(e,t,n,i){return LW(e,DW(t,n),1,i)}function LW(e,t,n,i){var a=t._milliseconds,r=SW(t._days),s=SW(t._months);return s&&vU(e,Pq(e,i)+s*n,i),r&&yU(e,Tq(e,i)+r*n,i),a&&function(e,t){e.setTime(t)}(e,function(e){return e.getTime()}(e)+a*n),bU(e)}function NW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$U(),i=arguments.length>3?arguments[3]:void 0,a=Mq(e,i);return PW(e,function(e,t){if(!sq(e))return e;var n=parseInt(e,10);if(!isNaN(n))return n;var i=t.weekdaysParse(e);return cq(i)?i:null}(t,n)-a,"day")}function RW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$U(),n=arguments.length>2?arguments[2]:void 0;return(Mq(e,n)+7-t.firstDayOfWeek())%7}var FW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),r=t.call(this,e),i.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Pg(e,t))}}(Tg)).pipe(Ub((function(e,t){return t?a(e,t):e}),e)).subscribe((function(e){return r.next(e)})),r}return n}(Uc),HW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this))._dispatcher=e,r._reducer=i,r.source=a,r}return _createClass(n,[{key:"select",value:function(e){return this.source.pipe(B(e)).pipe((function(e){return e.lift(new rh(void 0,void 0))}))}},{key:"lift",value:function(e){var t=new n(this._dispatcher,this._reducer,this);return t.operator=e,t}},{key:"dispatch",value:function(e){this._dispatcher.next(e)}},{key:"next",value:function(e){this._dispatcher.next(e)}},{key:"error",value:function(e){this._dispatcher.error(e)}},{key:"complete",value:function(){}}]),n}(w);function BW(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function VW(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function jW(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=BW(e),n=t.overflow,i=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(String(n)+String(a)+String(i))?e:jW(VW(e))}var zW="undefined"!=typeof window&&"undefined"!=typeof document,qW=zW&&!(!window.MSInputMethodContext||!document.documentMode),UW=zW&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function WW(e){return 11===e?qW:10===e?UW:qW||UW}function YW(e){if(!e)return document.documentElement;for(var t,n=WW(10)?document.body:null,i=e.offsetParent||null;i===n&&e.nextElementSibling&&t!==e.nextElementSibling;)i=(t=e.nextElementSibling).offsetParent;var a=i&&i.nodeName;return a&&"BODY"!==a&&"HTML"!==a?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===BW(i,"position")?YW(i):i:t?t.ownerDocument.documentElement:document.documentElement}function GW(e){return null!==e.parentNode?GW(e.parentNode):e}function XW(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,a=n?t:e,r=document.createRange();r.setStart(i,0),r.setEnd(a,0);var s,l,o=r.commonAncestorContainer;if(e!==o&&t!==o||i.contains(a))return"BODY"===(l=(s=o).nodeName)||"HTML"!==l&&YW(s.firstElementChild)!==s?YW(o):o;var u=GW(e);return u.host?XW(u.host,t):XW(e,GW(t).host)}function KW(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border".concat(n,"Width")])+parseFloat(e["border".concat(i,"Width")])}function $W(e,t,n,i){return Math.max(t["offset".concat(e)],t["scroll".concat(e)],n["client".concat(e)],n["offset".concat(e)],n["scroll".concat(e)],WW(10)?parseInt(n["offset".concat(e)],10)+parseInt(i["margin".concat("Height"===e?"Top":"Left")],10)+parseInt(i["margin".concat("Height"===e?"Bottom":"Right")],10):0)}function ZW(e){var t=e.body,n=e.documentElement,i=WW(10)&&getComputedStyle(n);return{height:$W("Height",t,n,i),width:$W("Width",t,n,i)}}function JW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var a=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||a)[n]}return e[n]}function QW(e){return Object.assign({},e,{right:e.left+e.width,bottom:e.top+e.height})}function eY(e){var t={};try{if(WW(10)){t=e.getBoundingClientRect();var n=JW(e,"top"),i=JW(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch($K){return}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?ZW(e.ownerDocument):{},s=e.offsetWidth-(r.width||e.clientWidth||a.right-a.left),l=e.offsetHeight-(r.height||e.clientHeight||a.bottom-a.top);if(s||l){var o=BW(e);s-=KW(o,"x"),l-=KW(o,"y"),a.width-=s,a.height-=l}return QW(a)}function tY(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=WW(10),a="HTML"===t.nodeName,r=eY(e),s=eY(t),l=jW(e),o=BW(t),u=parseFloat(o.borderTopWidth),c=parseFloat(o.borderLeftWidth);n&&a&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=QW({top:r.top-s.top-u,left:r.left-s.left-c,width:r.width,height:r.height});if(h.marginTop=0,h.marginLeft=0,!i&&a){var d=parseFloat(o.marginTop),p=parseFloat(o.marginLeft);h.top-=u-d,h.bottom-=u-d,h.left-=c-p,h.right-=c-p,h.marginTop=d,h.marginLeft=p}return(i&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=JW(t,"top"),a=JW(t,"left"),r=n?-1:1;return e.top+=i*r,e.bottom+=i*r,e.left+=a*r,e.right+=a*r,e}(h,t)),h}function nY(e){if(!e||!e.parentElement||WW())return document.documentElement;for(var t=e.parentElement;t&&"none"===BW(t,"transform");)t=t.parentElement;return t||document.documentElement}function iY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=a?nY(e):XW(e,t);if("viewport"===i)r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=tY(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:JW(n),l=t?0:JW(n,"left");return QW({top:s-Number(i.top)+Number(i.marginTop),left:l-Number(i.left)+Number(i.marginLeft),width:a,height:r})}(s,a);else{var l;"scrollParent"===i?"BODY"===(l=jW(VW(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===i?e.ownerDocument.documentElement:i;var o=tY(l,s,a);if("HTML"!==l.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===BW(t,"position")||e(VW(t)))}(s))r=o;else{var u=ZW(e.ownerDocument),c=u.height,h=u.width;r.top+=o.top-o.marginTop,r.bottom=Number(c)+Number(o.top),r.left+=o.left-o.marginLeft,r.right=Number(h)+Number(o.left)}}return r.left+=n,r.top+=n,r.right-=n,r.bottom-=n,r}function aY(e){return e.width*e.height}function rY(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["top","bottom","right","left"],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"viewport",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(-1===e.indexOf("auto"))return e;var l=iY(n,i,s,r),o={top:{width:l.width,height:t.top-l.top},right:{width:l.right-t.right,height:l.height},bottom:{width:l.width,height:l.bottom-t.bottom},left:{width:t.left-l.left,height:l.height}},u=Object.keys(o).map((function(e){return Object.assign({key:e},o[e],{area:aY(o[e])})})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),h=(c=c.filter((function(e){return a.some((function(t){return t===e.key}))}))).length>0?c[0].key:u[0].key,d=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(h)),h+(d?"-".concat(d):"")}function sY(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:Number(e.offsetWidth)+i,height:Number(e.offsetHeight)+n}}function lY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return tY(t,n?nY(e):XW(e,t),n)}function oY(e,t,n){var i=n.split(" ")[0],a=sY(e),r={width:a.width,height:a.height},s=-1!==["right","left"].indexOf(i),l=s?"top":"left",o=s?"left":"top",u=s?"height":"width",c=s?"width":"height";return r[l]=t[l]+t[u]/2-a[u]/2,r[o]=i===o?t[o]-a[c]:t[function(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}(o)],r}function uY(e,t){return e&&e.modifiers&&e.modifiers[t]&&e.modifiers[t].enabled}function cY(e,t,n){Object.keys(t).forEach((function(i){var a,r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&""!==(a=t[i])&&!isNaN(parseFloat(a))&&isFinite(a)&&(r="px"),n?n.setStyle(e,i,"".concat(String(t[i])).concat(r)):e.style[i]=String(t[i])+r}))}function hY(e){var t,n=e.offsets.target,i=e.instance.target.querySelector(".arrow");if(!i)return e;var a=-1!==["left","right"].indexOf(e.placement),r=a?"height":"width",s=a?"Top":"Left",l=s.toLowerCase(),o=a?"left":"top",u=a?"bottom":"right",c=sY(i)[r];e.offsets.host[u]-c<n[l]&&(n[l]-=n[l]-(e.offsets.host[u]-c)),Number(e.offsets.host[l])+Number(c)>n[u]&&(n[l]+=Number(e.offsets.host[l])+Number(c)-Number(n[u])),n=QW(n);var h=Number(e.offsets.host[l])+Number(e.offsets.host[r]/2-c/2),d=BW(e.instance.target),p=parseFloat(d["margin".concat(s)]),f=parseFloat(d["border".concat(s,"Width")]),m=h-n[l]-p-f;return m=Math.max(Math.min(n[r]-c,m),0),e.offsets.arrow=(_defineProperty2(t={},l,Math.round(m)),_defineProperty2(t,o,""),t),e.instance.arrow=i,e}function dY(e){if(e.offsets.target=QW(e.offsets.target),!uY(e.options,"flip"))return e.offsets.target=Object.assign({},e.offsets.target,oY(e.instance.target,e.offsets.host,e.placement)),e;var t=iY(e.instance.target,e.instance.host,0,"viewport",!1),n=e.placement.split(" ")[0],i=e.placement.split(" ")[1]||"",a=rY("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),r=[n,a];return r.forEach((function(a,s){if(n!==a||r.length===s+1)return e;var l="left"===(n=e.placement.split(" ")[0])&&Math.floor(e.offsets.target.right)>Math.floor(e.offsets.host.left)||"right"===n&&Math.floor(e.offsets.target.left)<Math.floor(e.offsets.host.right)||"top"===n&&Math.floor(e.offsets.target.bottom)>Math.floor(e.offsets.host.top)||"bottom"===n&&Math.floor(e.offsets.target.top)<Math.floor(e.offsets.host.bottom),o=Math.floor(e.offsets.target.left)<Math.floor(t.left),u=Math.floor(e.offsets.target.right)>Math.floor(t.right),c=Math.floor(e.offsets.target.top)<Math.floor(t.top),h=Math.floor(e.offsets.target.bottom)>Math.floor(t.bottom),d="left"===n&&o||"right"===n&&u||"top"===n&&c||"bottom"===n&&h,p=-1!==["top","bottom"].indexOf(n),f=p&&"left"===i&&o||p&&"right"===i&&u||!p&&"left"===i&&c||!p&&"right"===i&&h;(l||d||f)&&((l||d)&&(n=r[s+1]),f&&(i=function(e){return"right"===e?"left":"left"===e?"right":e}(i)),e.placement=n+(i?" ".concat(i):""),e.offsets.target=Object.assign({},e.offsets.target,oY(e.instance.target,e.offsets.host,e.placement)))})),e}function pY(e){if(!uY(e.options,"preventOverflow"))return e;var t=e.instance.target.style,n=t.top,i=t.left,a=t.transform;t.top="",t.left="",t.transform="";var r=iY(e.instance.target,e.instance.host,0,"scrollParent",!1);t.top=n,t.left=i,t.transform=a;var s,l={primary:function(t){var n=e.offsets.target[t];return e.offsets.target[t]<r[t]&&(n=Math.max(e.offsets.target[t],r[t])),_defineProperty2({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=e.offsets.target[n];return e.offsets.target[t]>r[t]&&(i=Math.min(e.offsets.target[n],r[t]-("right"===t?e.offsets.target.width:e.offsets.target.height))),_defineProperty2({},n,i)}};return["left","right","top","bottom"].forEach((function(t){s=-1!==["left","top"].indexOf(t)?"primary":"secondary",e.offsets.target=Object.assign({},e.offsets.target,l[s](t))})),e}function fY(e){var t=e.placement,n=t.split(" ")[0],i=t.split(" ")[1];if(i){var a=e.offsets,r=a.host,s=a.target,l=-1!==["bottom","top"].indexOf(n),o=l?"left":"top",u=l?"width":"height";e.offsets.target=Object.assign({},s,{start:_defineProperty2({},o,r[o]),end:_defineProperty2({},o,r[o]+r[u]-s[u])}[i])}return e}var mY=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"position",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.offset(e,t,!1)}},{key:"offset",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return lY(t,e)}},{key:"positionElements",value:function(e,t,n,i,a){return[dY,fY,pY,hY].reduce((function(e,t){return t(e)}),function(e,t,n,i){var a=lY(e,t);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*\s*(start|end)*$/)||(n="auto");var r=!!n.match(/auto/g),s=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;return{options:i,instance:{target:e,host:t,arrow:null},offsets:{target:oY(e,a,s),host:a,arrow:null},positionFixed:!1,placement:s=rY(s,a,e,t,i?i.allowedPositions:void 0),placementAuto:r}}(t,e,n,a))}}]),e}()),gY=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.update$$=new I,this.positionElements=new Map,this.isDisabled=!1,Bo(n)&&(this.triggerEvent$=K(th(window,"scroll"),th(window,"resize"),dl(0,Eg),this.update$$),this.triggerEvent$.subscribe((function(){i.isDisabled||i.positionElements.forEach((function(e){var n,a,r,s,l,o,u,c;n=vY(e.target),a=vY(e.element),r=e.attachment,s=e.appendToBody,l=i.options,o=t.createRenderer(null,null),u=mY.positionElements(n,a,r,s,l),c=function(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left),top:Math.round(e.offsets.target.top),bottom:Math.round(e.offsets.target.bottom),right:Math.floor(e.offsets.target.right)}}(u),cY(a,{"will-change":"transform",top:"0px",left:"0px",transform:"translate3d(".concat(c.left,"px, ").concat(c.top,"px, 0px)")},o),u.instance.arrow&&cY(u.instance.arrow,u.offsets.arrow,o),function(e,t){var n=e.instance.target,i=n.className;e.placementAuto&&(-1!==(i=(i=(i=i.replace(/bs-popover-auto/g,"bs-popover-".concat(e.placement))).replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(e.placement))).replace(/\sauto/g," ".concat(e.placement))).indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom/g,"".concat(e.placement.split(" ")[0])),t?t.setAttribute(n,"class",i):n.className=i}(u,o)}))})))}return _createClass(e,[{key:"position",value:function(e){this.addPositionElement(e)}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"addPositionElement",value:function(e){this.positionElements.set(vY(e.element),e)}},{key:"calcPosition",value:function(){this.update$$.next()}},{key:"deletePositionElement",value:function(e){this.positionElements.delete(vY(e))}},{key:"setOptions",value:function(e){this.options=e}},{key:"event$",get:function(){return this.triggerEvent$}}]),e}();function vY(e){return"string"==typeof e?document.querySelector(e):e instanceof cn?e.nativeElement:e}var yY,bY=function(){function e(t,n){_classCallCheck(this,e),this.open=t,this.close=n||t}return _createClass(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),kY={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},CY="undefined"!=typeof window&&window||{};function wY(){return void 0===CY||(void 0===CY.__theme?yY?"bs3"===yY:"bs3"===(yY=function(){if("undefined"==typeof document)return null;var e=document.createElement("span");e.innerText="test bs version",document.body.appendChild(e),e.classList.add("d-none");var t=e.getBoundingClientRect();return document.body.removeChild(e),t&&0===t.top?"bs4":"bs3"}()):"bs4"!==CY.__theme)}"undefined"==typeof console||console;var _Y=function e(t,n,i){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=i},xY=function(){function e(t,n,i,a,r,s,l,o){_classCallCheck(this,e),this._viewContainerRef=t,this._renderer=n,this._elementRef=i,this._injector=a,this._componentFactoryResolver=r,this._ngZone=s,this._applicationRef=l,this._posService=o,this.onBeforeShow=new Ma,this.onShown=new Ma,this.onBeforeHide=new Ma,this.onHidden=new Ma,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}return _createClass(e,[{key:"attach",value:function(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}},{key:"to",value:function(e){return this.container=e||this.container,this}},{key:"position",value:function(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this}},{key:"provide",value:function(e){return this._providers.push(e),this}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);var t=Nt.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof cn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}},{key:"hide",value:function(){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);var e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this}},{key:"toggle",value:function(){this.isShown?this.hide():this.show()}},{key:"dispose",value:function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}},{key:"listen",value:function(e){var t=this;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return e.hide?e.hide():void t.hide()},i=this._listenOpts.show=function(n){e.show?e.show(n):t.show(n),n()};return this._unregisterListenersFn=function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kY,n=(e||"").trim();if(0===n.length)return[];var i=n.split(/\s+/).map((function(e){return e.split(":")})).map((function(e){var n=t[e[0]]||e;return new bY(n[0],n[1])})),a=i.filter((function(e){return e.isManual()}));if(a.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===a.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(t.triggers),i=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;var a=[],r=[],s=function(){r.forEach((function(e){return a.push(e())})),r.length=0};return n.forEach((function(n){var l=n.open===n.close,o=l?t.toggle:t.show;l||r.push((function(){return e.listen(i,n.close,t.hide)})),a.push(e.listen(i,n.open,(function(){return o(s)})))})),function(){a.forEach((function(e){return e()}))}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:n,toggle:function(e){t.isShown?n():i(e)}}),this}},{key:"_removeGlobalListener",value:function(){this._globalListener&&(this._globalListener(),this._globalListener=null)}},{key:"attachInline",value:function(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this}},{key:"_registerOutsideClick",value:function(){var e=this;if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){var t=this._componentRef.location.nativeElement;setTimeout((function(){var n;e._globalListener=(n={targets:[t,e._elementRef.nativeElement],outsideClick:e._listenOpts.outsideClick,hide:function(){return e._listenOpts.hide()}}).outsideClick?e._renderer.listen("document","click",(function(e){n.target&&n.target.contains(e.target)||n.targets&&n.targets.some((function(t){return t.contains(e.target)}))||n.hide()})):Function.prototype}))}var n;this._listenOpts.outsideEsc&&(this._globalListener=(n={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:function(){return e._listenOpts.hide()}}).outsideEsc?this._renderer.listen("document","keyup.esc",(function(e){n.target&&n.target.contains(e.target)||n.targets&&n.targets.some((function(t){return t.contains(e.target)}))||n.hide()})):Function.prototype)}}},{key:"getInnerComponent",value:function(){return this._innerComponent}},{key:"_subscribePositioning",value:function(){var e=this;!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe((function(){e._posService.position({element:e._componentRef.location,target:e._elementRef,attachment:e.attachment,appendToBody:"body"===e.container})})),this._zoneSubscription=this._ngZone.onStable.subscribe((function(){e._componentRef&&e._posService.calcPosition()})))}},{key:"_unsubscribePositioning",value:function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}},{key:"_getContentRef",value:function(e,t,n){if(!e)return new _Y([]);if(e instanceof Ln){if(this._viewContainerRef){var i=this._viewContainerRef.createEmbeddedView(e,t);return i.markForCheck(),new _Y([i.rootNodes],i)}var a=e.createEmbeddedView({});return this._applicationRef.attachView(a),new _Y([a.rootNodes],a)}if("function"==typeof e){var r=this._componentFactoryResolver.resolveComponentFactory(e),s=Nt.create({providers:this._providers,parent:this._injector}),l=r.create(s);return Object.assign(l.instance,n),this._applicationRef.attachView(l.hostView),new _Y([[l.location.nativeElement]],l.hostView,l)}return new _Y([[this._renderer.createText("".concat(e))]])}},{key:"isShown",get:function(){return!this._isHiding&&!!this._componentRef}}]),e}(),SY=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this._componentFactoryResolver=t,this._ngZone=n,this._injector=i,this._posService=a,this._applicationRef=r}return _createClass(e,[{key:"createLoader",value:function(e,t,n){return new xY(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}]),e}(),EY=function e(){_classCallCheck(this,e),this.adaptivePosition=!1,this.isAnimated=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w"},OY=function(){function e(){_classCallCheck(this,e),this._customRangesFish=[]}return _createClass(e,[{key:"setViewMode",value:function(e){}},{key:"navigateTo",value:function(e){}},{key:"dayHoverHandler",value:function(e){}},{key:"weekHoverHandler",value:function(e){}},{key:"monthHoverHandler",value:function(e){}},{key:"yearHoverHandler",value:function(e){}},{key:"daySelectHandler",value:function(e){}},{key:"monthSelectHandler",value:function(e){}},{key:"yearSelectHandler",value:function(e){}},{key:"_stopPropagation",value:function(e){e.stopPropagation()}},{key:"minDate",set:function(e){this._effects.setMinDate(e)}},{key:"maxDate",set:function(e){this._effects.setMaxDate(e)}},{key:"daysDisabled",set:function(e){this._effects.setDaysDisabled(e)}},{key:"datesDisabled",set:function(e){this._effects.setDatesDisabled(e)}},{key:"isDisabled",set:function(e){this._effects.setDisabled(e)}},{key:"dateCustomClasses",set:function(e){this._effects.setDateCustomClasses(e)}}]),e}(),IY=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"calculate",value:function(){return{type:e.CALCULATE}}},{key:"format",value:function(){return{type:e.FORMAT}}},{key:"flag",value:function(){return{type:e.FLAG}}},{key:"select",value:function(t){return{type:e.SELECT,payload:t}}},{key:"changeViewMode",value:function(t){return{type:e.CHANGE_VIEWMODE,payload:t}}},{key:"navigateTo",value:function(t){return{type:e.NAVIGATE_TO,payload:t}}},{key:"navigateStep",value:function(t){return{type:e.NAVIGATE_OFFSET,payload:t}}},{key:"setOptions",value:function(t){return{type:e.SET_OPTIONS,payload:t}}},{key:"selectRange",value:function(t){return{type:e.SELECT_RANGE,payload:t}}},{key:"hoverDay",value:function(t){return{type:e.HOVER,payload:t.isHovered?t.cell.date:null}}},{key:"minDate",value:function(t){return{type:e.SET_MIN_DATE,payload:t}}},{key:"maxDate",value:function(t){return{type:e.SET_MAX_DATE,payload:t}}},{key:"daysDisabled",value:function(t){return{type:e.SET_DAYSDISABLED,payload:t}}},{key:"datesDisabled",value:function(t){return{type:e.SET_DATESDISABLED,payload:t}}},{key:"isDisabled",value:function(t){return{type:e.SET_IS_DISABLED,payload:t}}},{key:"setDateCustomClasses",value:function(t){return{type:e.SET_DATE_CUSTOM_CLASSES,payload:t}}},{key:"setLocale",value:function(t){return{type:e.SET_LOCALE,payload:t}}}]),e}();return e.CALCULATE="[datepicker] calculate dates matrix",e.FORMAT="[datepicker] format datepicker values",e.FLAG="[datepicker] set flags",e.SELECT="[datepicker] select date",e.NAVIGATE_OFFSET="[datepicker] shift view date",e.NAVIGATE_TO="[datepicker] change view date",e.SET_OPTIONS="[datepicker] update render options",e.HOVER="[datepicker] hover date",e.CHANGE_VIEWMODE="[datepicker] switch view mode",e.SET_MIN_DATE="[datepicker] set min date",e.SET_MAX_DATE="[datepicker] set max date",e.SET_DAYSDISABLED="[datepicker] set days disabled",e.SET_DATESDISABLED="[datepicker] set dates disabled",e.SET_IS_DISABLED="[datepicker] set is disabled",e.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",e.SET_LOCALE="[datepicker] set datepicker locale",e.SELECT_RANGE="[daterangepicker] select dates range",e}(),AY=function(){function e(){_classCallCheck(this,e),this._defaultLocale="en",this._locale=new Uc(this._defaultLocale),this._localeChange=this._locale.asObservable()}return _createClass(e,[{key:"use",value:function(e){e!==this.currentLocale&&this._locale.next(e)}},{key:"locale",get:function(){return this._locale}},{key:"localeChange",get:function(){return this._localeChange}},{key:"currentLocale",get:function(){return this._locale.getValue()}}]),e}(),DY=function(){function e(t,n){_classCallCheck(this,e),this._actions=t,this._localeService=n,this._subs=[]}return _createClass(e,[{key:"init",value:function(e){return this._store=e,this}},{key:"setValue",value:function(e){this._store.dispatch(this._actions.select(e))}},{key:"setRangeValue",value:function(e){this._store.dispatch(this._actions.selectRange(e))}},{key:"setMinDate",value:function(e){return this._store.dispatch(this._actions.minDate(e)),this}},{key:"setMaxDate",value:function(e){return this._store.dispatch(this._actions.maxDate(e)),this}},{key:"setDaysDisabled",value:function(e){return this._store.dispatch(this._actions.daysDisabled(e)),this}},{key:"setDatesDisabled",value:function(e){return this._store.dispatch(this._actions.datesDisabled(e)),this}},{key:"setDisabled",value:function(e){return this._store.dispatch(this._actions.isDisabled(e)),this}},{key:"setDateCustomClasses",value:function(e){return this._store.dispatch(this._actions.setDateCustomClasses(e)),this}},{key:"setOptions",value:function(e){var t=Object.assign({locale:this._localeService.currentLocale},e);return this._store.dispatch(this._actions.setOptions(t)),this}},{key:"setBindings",value:function(e){return e.daysCalendar=this._store.select((function(e){return e.flaggedMonths})).pipe(fl((function(e){return!!e}))),e.monthsCalendar=this._store.select((function(e){return e.flaggedMonthsCalendar})).pipe(fl((function(e){return!!e}))),e.yearsCalendar=this._store.select((function(e){return e.yearsCalendarFlagged})).pipe(fl((function(e){return!!e}))),e.viewMode=this._store.select((function(e){return e.view.mode})),e.options=this._store.select((function(e){return e.showWeekNumbers})).pipe(B((function(e){return{showWeekNumbers:e}}))),this}},{key:"setEventHandlers",value:function(e){var t=this;return e.setViewMode=function(e){t._store.dispatch(t._actions.changeViewMode(e))},e.navigateTo=function(e){t._store.dispatch(t._actions.navigateStep(e.step))},e.dayHoverHandler=function(e){var n=e.cell;n.isOtherMonth||n.isDisabled||(t._store.dispatch(t._actions.hoverDay(e)),n.isHovered=e.isHovered)},e.monthHoverHandler=function(e){e.cell.isHovered=e.isHovered},e.yearHoverHandler=function(e){e.cell.isHovered=e.isHovered},e.monthSelectHandler=function(e){e.isDisabled||t._store.dispatch(t._actions.navigateTo({unit:{month:Pq(e.date),year:Lq(e.date)},viewMode:"day"}))},e.yearSelectHandler=function(e){e.isDisabled||t._store.dispatch(t._actions.navigateTo({unit:{year:Lq(e.date)},viewMode:"month"}))},this}},{key:"registerDatepickerSideEffects",value:function(){var e=this;return this._subs.push(this._store.select((function(e){return e.view})).subscribe((function(t){e._store.dispatch(e._actions.calculate())}))),this._subs.push(this._store.select((function(e){return e.monthsModel})).pipe(fl((function(e){return!!e}))).subscribe((function(t){return e._store.dispatch(e._actions.format())}))),this._subs.push(this._store.select((function(e){return e.formattedMonths})).pipe(fl((function(e){return!!e}))).subscribe((function(t){return e._store.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.selectedDate})).pipe(fl((function(e){return!!e}))).subscribe((function(t){return e._store.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.selectedRange})).pipe(fl((function(e){return!!e}))).subscribe((function(t){return e._store.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.monthsCalendar})).subscribe((function(){return e._store.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.yearsCalendarModel})).pipe(fl((function(e){return!!e}))).subscribe((function(){return e._store.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.hoveredDate})).pipe(fl((function(e){return!!e}))).subscribe((function(t){return e._store.dispatch(e._actions.flag())}))),this._subs.push(this._store.select((function(e){return e.dateCustomClasses})).pipe(fl((function(e){return!!e}))).subscribe((function(t){return e._store.dispatch(e._actions.flag())}))),this._subs.push(this._localeService.localeChange.subscribe((function(t){return e._store.dispatch(e._actions.setLocale(t))}))),this}},{key:"destroy",value:function(){var e,t=_createForOfIteratorHelper(this._subs);try{for(t.s();!(e=t.n()).done;){e.value.unsubscribe()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),MY={date:new Date,mode:"day"},TY=Object.assign(new EY,{locale:"en",view:MY,selectedRange:[],monthViewOptions:{width:7,height:6}});function PY(e,t,n){var i=t&&OW(CU(e,"month"),t,"day"),a=n&&EW(kU(e,"month"),n,"day");return i||a}function LY(e,t,n){var i=t&&OW(CU(e,"year"),t,"day"),a=n&&EW(kU(e,"year"),n,"day");return i||a}function NY(e,t){for(var n=e.initialDate,i=new Array(e.height),a=0;a<e.height;a++){i[a]=new Array(e.width);for(var r=0;r<e.width;r++)i[a][r]=t(n),n=mU(n,e.shift)}return i}function RY(e,t){var n,i=Eq((n=e).getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds()),a=function(e,t){return function(e,t){return e.getDay()===t}(e,t.firstDayOfWeek)?e:mU(e,{day:-function(e,t){if(0===t)return e;var n=e-t%7;return n<0?n+7:n}(Mq(e),t.firstDayOfWeek)})}(i,t);return{daysMatrix:NY({width:t.width,height:t.height,initialDate:a,shift:{day:1}},(function(e){return e})),month:i}}function FY(e){var t=$U(e),n=t.weekdaysShort(),i=t.firstDayOfWeek();return[].concat(_toConsumableArray(n.slice(i)),_toConsumableArray(n.slice(0,i)))}function HY(e,t){return!t||e>=t}var BY={month:1};function VY(e,t){return{months:NY({width:3,height:4,initialDate:kU(e,"year"),shift:BY},(function(e){return{date:e,label:yW(e,t.monthLabel,t.locale)}})),monthTitle:"",yearTitle:yW(e,t.yearTitle,t.locale)}}var jY=-1*(Math.floor(8)-1),zY={year:1};function qY(e,t){var n=NY({width:4,height:4,initialDate:mU(e,{year:jY}),shift:zY},(function(e){return{date:e,label:yW(e,t.yearLabel,t.locale)}}));return{years:n,monthTitle:"",yearTitle:function(e,t){return"".concat(yW(e[0][0].date,t.yearTitle,t.locale)," - ").concat(yW(e[3][3].date,t.yearTitle,t.locale))}(n,t)}}function UY(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TY,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IY.CALCULATE:return function(e){var t=e.displayMonths,n=e.view.date;if("day"===e.view.mode){e.monthViewOptions.firstDayOfWeek=$U(e.locale).firstDayOfWeek();for(var i=new Array(t),a=0;a<t;a++)i[a]=RY(n,e.monthViewOptions),n=mU(n,{month:1});return Object.assign({},e,{monthsModel:i})}if("month"===e.view.mode){for(var r=new Array(t),s=0;s<t;s++)r[s]=VY(n,WY(e)),n=mU(n,{year:1});return Object.assign({},e,{monthsCalendar:r})}if("year"===e.view.mode){for(var l=new Array(t),o=0;o<t;o++)l[o]=qY(n,WY(e)),n=mU(n,{year:16});return Object.assign({},e,{yearsCalendarModel:l})}return e}(e);case IY.FORMAT:return function(e,t){if("day"===e.view.mode){var n=e.monthsModel.map((function(t,n){return function(e,t,n){return{month:e.month,monthTitle:yW(e.month,t.monthTitle,t.locale),yearTitle:yW(e.month,t.yearTitle,t.locale),weekNumbers:(i=e.daysMatrix,a=t.weekNumbers,r=t.locale,i.map((function(e){return e[0]?yW(e[0],a,r):""}))),weekdays:FY(t.locale),weeks:e.daysMatrix.map((function(e,i){return{days:e.map((function(e,a){return{date:e,label:yW(e,t.dayLabel,t.locale),monthIndex:n,weekIndex:i,dayIndex:a}}))}}))};var i,a,r}(t,WY(e),n)}));return Object.assign({},e,{formattedMonths:n})}var i=e.displayMonths,a=e.view.date;if("month"===e.view.mode){for(var r=new Array(i),s=0;s<i;s++)r[s]=VY(a,WY(e)),a=mU(a,{year:1});return Object.assign({},e,{monthsCalendar:r})}if("year"===e.view.mode){for(var l=new Array(i),o=0;o<i;o++)l[o]=qY(a,WY(e)),a=mU(a,{year:16});return Object.assign({},e,{yearsCalendarModel:l})}return e}(e);case IY.FLAG:return function(e,t){if("day"===e.view.mode){var n=e.formattedMonths.map((function(t,n){return function(e,t){return e.weeks.forEach((function(n){n.days.forEach((function(i,a){var r,s,l=!Nq(i.date,e.month),o=!l&&Fq(i.date,t.hoveredDate),u=!l&&t.selectedRange&&Fq(i.date,t.selectedRange[0]),c=!l&&t.selectedRange&&Fq(i.date,t.selectedRange[1]),h=!l&&Fq(i.date,t.selectedDate)||u||c,d=!l&&t.selectedRange&&function(e,t,n){return!(!e||!t[0])&&(t[1]?e>t[0]&&e<=t[1]:!!n&&e>t[0]&&e<=n)}(i.date,t.selectedRange,t.hoveredDate),p=t.isDisabled||OW(i.date,t.minDate,"day")||EW(i.date,t.maxDate,"day")||(r=i.date,!(void 0===(s=t.daysDisabled)||!s||!s.length)&&s.some((function(e){return e===r.getDay()})))||function(e,t){return!(void 0===t||!t||!t.length)&&t.some((function(t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";if(!e||!t)return!1;if("milliseconds"===n)return e.valueOf()===t.valueOf();var i=t.valueOf();return kU(e,n).valueOf()<=i&&i<=CU(e,n).valueOf()}(e,t,"date")}))}(i.date,t.datesDisabled),f=new Date,m=!l&&Fq(i.date,f),g=t.dateCustomClasses&&t.dateCustomClasses.map((function(e){return Fq(i.date,e.date)?e.classes:[]})).reduce((function(e,t){return e.concat(t)}),[]).join(" ")||"",v=Object.assign({},i,{isOtherMonth:l,isHovered:o,isSelected:h,isSelectionStart:u,isSelectionEnd:c,isInRange:d,isDisabled:p,isToday:m,customClasses:g});i.isOtherMonth===v.isOtherMonth&&i.isHovered===v.isHovered&&i.isSelected===v.isSelected&&i.isSelectionStart===v.isSelectionStart&&i.isSelectionEnd===v.isSelectionEnd&&i.isDisabled===v.isDisabled&&i.isInRange===v.isInRange&&i.customClasses===v.customClasses||(n.days[a]=v)}))})),e.hideLeftArrow=t.isDisabled||t.monthIndex>0&&t.monthIndex!==t.displayMonths,e.hideRightArrow=t.isDisabled||t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,e.disableLeftArrow=PY(mU(e.month,{month:-1}),t.minDate,t.maxDate),e.disableRightArrow=PY(mU(e.month,{month:1}),t.minDate,t.maxDate),e}(t,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,daysDisabled:e.daysDisabled,datesDisabled:e.datesDisabled,hoveredDate:e.hoveredDate,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:e.displayMonths,dateCustomClasses:e.dateCustomClasses,monthIndex:n})}));return Object.assign({},e,{flaggedMonths:n})}if("month"===e.view.mode){var i=e.monthsCalendar.map((function(t,n){return a={isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredMonth:e.hoveredMonth,displayMonths:e.displayMonths,monthIndex:n},(i=t).months.forEach((function(e,t){e.forEach((function(e,n){var r=Nq(e.date,a.hoveredMonth),s=a.isDisabled||PY(e.date,a.minDate,a.maxDate),l=Object.assign(e,{isHovered:r,isDisabled:s});e.isHovered===l.isHovered&&e.isDisabled===l.isDisabled||(i.months[t][n]=l)}))})),i.hideLeftArrow=a.monthIndex>0&&a.monthIndex!==a.displayMonths,i.hideRightArrow=a.monthIndex<a.displayMonths&&a.monthIndex+1!==a.displayMonths,i.disableLeftArrow=LY(mU(i.months[0][0].date,{year:-1}),a.minDate,a.maxDate),i.disableRightArrow=LY(mU(i.months[0][0].date,{year:1}),a.minDate,a.maxDate),i;var i,a}));return Object.assign({},e,{flaggedMonthsCalendar:i})}if("year"===e.view.mode){var a=e.yearsCalendarModel.map((function(t,n){return function(e,t){e.years.forEach((function(n,i){n.forEach((function(n,a){var r=Rq(n.date,t.hoveredYear),s=t.isDisabled||LY(n.date,t.minDate,t.maxDate),l=Object.assign(n,{isHovered:r,isDisabled:s});n.isHovered===l.isHovered&&n.isDisabled===l.isDisabled||(e.years[i][a]=l)}))})),e.hideLeftArrow=t.yearIndex>0&&t.yearIndex!==t.displayMonths,e.hideRightArrow=t.yearIndex<t.displayMonths&&t.yearIndex+1!==t.displayMonths,e.disableLeftArrow=LY(mU(e.years[0][0].date,{year:-1}),t.minDate,t.maxDate);var n=e.years.length-1;return e.disableRightArrow=LY(mU(e.years[n][e.years[n].length-1].date,{year:1}),t.minDate,t.maxDate),e}(t,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredYear:e.hoveredYear,displayMonths:e.displayMonths,yearIndex:n})}));return Object.assign({},e,{yearsCalendarFlagged:a})}return e}(e);case IY.NAVIGATE_OFFSET:var n=mU(kU(e.view.date,"month"),t.payload);return Object.assign({},e,{view:{mode:e.view.mode,date:n}});case IY.NAVIGATE_TO:var i,a=t.payload,r=function(e,t){return Eq(gU(e.getFullYear(),t.year),gU(e.getMonth(),t.month),gU(e.getDate(),t.day),gU(e.getHours(),t.hour),gU(e.getMinutes(),t.minute),gU(e.getSeconds(),t.seconds),gU(e.getMilliseconds(),t.milliseconds))}(e.view.date,a.unit);return HY(a.viewMode,e.minMode)?i={view:{date:r,mode:a.viewMode}}:i={selectedDate:r,view:{date:r,mode:e.view.mode}},Object.assign({},e,i);case IY.CHANGE_VIEWMODE:return HY(t.payload,e.minMode)?Object.assign({},e,{view:{date:e.view.date,mode:t.payload}}):e;case IY.HOVER:return Object.assign({},e,{hoveredDate:t.payload});case IY.SELECT:var s={selectedDate:t.payload,view:e.view},l=e.view.mode,o=YY(t.payload||e.view.date,e.minDate,e.maxDate);return s.view={mode:l,date:o},Object.assign({},e,s);case IY.SET_OPTIONS:var u=t.payload,c=u.minMode?u.minMode:e.view.mode,h=YY(oq(u.value)&&u.value||hq(u.value)&&oq(u.value[0])&&u.value[0]||e.view.date,u.minDate,u.maxDate);return u.view={mode:c,date:h},u.value&&(hq(u.value)&&(u.selectedRange=u.value),u.value instanceof Date&&(u.selectedDate=u.value)),Object.assign({},e,u);case IY.SELECT_RANGE:var d={selectedRange:t.payload,view:e.view},p=e.view.mode,f=YY(t.payload&&t.payload[0]||e.view.date,e.minDate,e.maxDate);return d.view={mode:p,date:f},Object.assign({},e,d);case IY.SET_MIN_DATE:return Object.assign({},e,{minDate:t.payload});case IY.SET_MAX_DATE:return Object.assign({},e,{maxDate:t.payload});case IY.SET_IS_DISABLED:return Object.assign({},e,{isDisabled:t.payload});case IY.SET_DATE_CUSTOM_CLASSES:return Object.assign({},e,{dateCustomClasses:t.payload});default:return e}}function WY(e){return{locale:e.locale,monthTitle:e.monthTitle,yearTitle:e.yearTitle,dayLabel:e.dayLabel,monthLabel:e.monthLabel,yearLabel:e.yearLabel,weekNumbers:e.weekNumbers}}function YY(e,t,n){var i=Array.isArray(e)?e[0]:e;return t&&EW(t,i,"day")?t:n&&OW(n,i,"day")?n:i}var GY=function(e){_inherits(n,e);var t=_createSuper(n);function n(){_classCallCheck(this,n);var e=new Uc({type:"[datepicker] dispatcher init"});return t.call(this,e,UY,new FW(TY,e,UY))}return n}(HW),XY=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s,l){var o;return _classCallCheck(this,n),(o=t.call(this))._config=e,o._store=i,o._element=a,o._actions=r,o._positionService=l,o.valueChange=new Ma,o.animationState="void",o._subs=[],o._effects=s,o}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition}},allowedPositions:["top","bottom"]}),this._positionService.event$.pipe(gh(1)).subscribe((function(){e._positionService.disable(),e.animationState=e._config.isAnimated?e.isTopPosition?"animated-up":"animated-down":"unanimated"})),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this._effects.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select((function(e){return e.selectedDate})).subscribe((function(t){return e.valueChange.emit(t)})))}},{key:"positionServiceEnable",value:function(){this._positionService.enable()}},{key:"daySelectHandler",value:function(e){(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this._store.dispatch(this._actions.select(e.date))}},{key:"ngOnDestroy",value:function(){var e,t=_createForOfIteratorHelper(this._subs);try{for(t.s();!(e=t.n()).done;){e.value.unsubscribe()}}catch(n){t.e(n)}finally{t.f()}this._effects.destroy()}},{key:"value",set:function(e){this._effects.setValue(e)}},{key:"isTopPosition",get:function(){return this._element.nativeElement.classList.contains("top")}}]),n}(OY),KY=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(EY),$Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s,l){return _classCallCheck(this,n),t.call(this,e,i,a,r,s,l)}return n}(XY),ZY=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).displayMonths=2,e.isAnimated=!1,e}return n}(EY),JY=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,s,l){var o;return _classCallCheck(this,n),(o=t.call(this))._actions=i,o._config=a,o._store=r,o._element=s,o._positionService=l,o.valueChange=new Ma,o.animationState="void",o._rangeStack=[],o._subs=[],o._effects=e,o}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition}},allowedPositions:["top","bottom"]}),this._positionService.event$.pipe(gh(1)).subscribe((function(){e._positionService.disable(),e.animationState=e._config.isAnimated?e.isTopPosition?"animated-up":"animated-down":"unanimated"})),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this._effects.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select((function(e){return e.selectedRange})).subscribe((function(t){return e.valueChange.emit(t)})))}},{key:"positionServiceEnable",value:function(){this._positionService.enable()}},{key:"daySelectHandler",value:function(e){(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||(1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),0===this._rangeStack.length&&(this._rangeStack=[e.date]),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[]))}},{key:"ngOnDestroy",value:function(){var e,t=_createForOfIteratorHelper(this._subs);try{for(t.s();!(e=t.n()).done;){e.value.unsubscribe()}}catch(n){t.e(n)}finally{t.f()}this._effects.destroy()}},{key:"value",set:function(e){this._effects.setRangeValue(e)}},{key:"isTopPosition",get:function(){return this._element.nativeElement.classList.contains("top")}}]),n}(OY),QY=function e(){_classCallCheck(this,e)},eG=function e(){_classCallCheck(this,e)},tG=function e(){_classCallCheck(this,e)},nG=function(){function e(t,n,i){_classCallCheck(this,e),this._config=t,this._elRef=n,this._renderer=i}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.day.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day.customClasses&&this.day.customClasses.split(" ").filter((function(e){return e})).forEach((function(t){e._renderer.addClass(e._elRef.nativeElement,t)}))}}]),e}(),iG=function(){var e={UP:0,DOWN:1};return e[e.UP]="UP",e[e.DOWN]="DOWN",e}(),aG=function(){function e(){_classCallCheck(this,e),this.onNavigate=new Ma,this.onViewMode=new Ma}return _createClass(e,[{key:"navTo",value:function(e){this.onNavigate.emit(e?iG.DOWN:iG.UP)}},{key:"view",value:function(e){this.onViewMode.emit(e)}}]),e}(),rG=function(){function e(t){_classCallCheck(this,e),this._config=t,this.onNavigate=new Ma,this.onViewMode=new Ma,this.onSelect=new Ma,this.onHover=new Ma,this.onHoverWeek=new Ma}return _createClass(e,[{key:"navigateTo",value:function(e){this.onNavigate.emit({step:{month:iG.DOWN===e?-1:1}})}},{key:"changeViewMode",value:function(e){this.onViewMode.emit(e)}},{key:"selectDay",value:function(e){this.onSelect.emit(e)}},{key:"selectWeek",value:function(e){var t=this;if(this._config.selectWeek)if(e.days&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)this.onSelect.emit(e.days[0]);else if(0!==e.days.length){var n=e.days.find((function(e){return t._config.selectFromOtherMonth?!e.isDisabled:!e.isOtherMonth&&!e.isDisabled}));this.onSelect.emit(n)}}},{key:"weekHoverHandler",value:function(e,t){var n=this;this._config.selectWeek&&e.days.find((function(e){return n._config.selectFromOtherMonth?!e.isDisabled:!e.isOtherMonth&&!e.isDisabled}))&&(e.isHovered=t,this.isWeekHovered=t,this.onHoverWeek.emit(e))}},{key:"hoverDay",value:function(e,t){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=t),this.onHover.emit({cell:e,isHovered:t})}}]),e}(),sG=function(){function e(){_classCallCheck(this,e),this.onNavigate=new Ma,this.onViewMode=new Ma,this.onSelect=new Ma,this.onHover=new Ma}return _createClass(e,[{key:"navigateTo",value:function(e){this.onNavigate.emit({step:{year:iG.DOWN===e?-1:1}})}},{key:"viewMonth",value:function(e){this.onSelect.emit(e)}},{key:"hoverMonth",value:function(e,t){this.onHover.emit({cell:e,isHovered:t})}},{key:"changeViewMode",value:function(e){this.onViewMode.emit(e)}}]),e}(),lG=function e(){_classCallCheck(this,e),this.ampm="ok",this.hours=0,this.minutes=0},oG=function(){function e(){_classCallCheck(this,e),this.onNavigate=new Ma,this.onViewMode=new Ma,this.onSelect=new Ma,this.onHover=new Ma}return _createClass(e,[{key:"navigateTo",value:function(e){this.onNavigate.emit({step:{year:16*(iG.DOWN===e?-1:1)}})}},{key:"viewYear",value:function(e){this.onSelect.emit(e)}},{key:"hoverYear",value:function(e,t){this.onHover.emit({cell:e,isHovered:t})}},{key:"changeViewMode",value:function(e){this.onViewMode.emit(e)}}]),e}(),uG=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[SY,gY,GY,IY,EY,ZY,KY,DY,AY]}}}]),e}(),cG=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"format",value:function(e,t,n){return yW(e,t,n)}}]),e}(),hG=function(){function e(){_classCallCheck(this,e),this.selectionDone=new Ma(void 0),this.update=new Ma(!1),this.activeDateChange=new Ma(void 0),this.stepDay={},this.stepMonth={},this.stepYear={},this.modes=["day","month","year"],this.dateFormatter=new cG}return _createClass(e,[{key:"ngOnInit",value:function(){this.uniqueId="datepicker--".concat(Math.floor(1e4*Math.random())),this.initDate?(this.activeDate=this.initDate,this.selectedDate=new Date(this.activeDate.valueOf()),this.update.emit(this.activeDate)):void 0===this.activeDate&&(this.activeDate=new Date)}},{key:"ngOnChanges",value:function(e){this.refreshView(),this.checkIfActiveDateGotUpdated(e.activeDate)}},{key:"checkIfActiveDateGotUpdated",value:function(e){if(e&&!e.firstChange){var t=e.previousValue;t&&t instanceof Date&&t.getTime()!==e.currentValue.getTime()&&this.activeDateChange.emit(this.activeDate)}}},{key:"setCompareHandler",value:function(e,t){"day"===t&&(this.compareHandlerDay=e),"month"===t&&(this.compareHandlerMonth=e),"year"===t&&(this.compareHandlerYear=e)}},{key:"compare",value:function(e,t){if(void 0!==e&&void 0!==t)return"day"===this.datepickerMode&&this.compareHandlerDay?this.compareHandlerDay(e,t):"month"===this.datepickerMode&&this.compareHandlerMonth?this.compareHandlerMonth(e,t):"year"===this.datepickerMode&&this.compareHandlerYear?this.compareHandlerYear(e,t):void 0}},{key:"setRefreshViewHandler",value:function(e,t){"day"===t&&(this.refreshViewHandlerDay=e),"month"===t&&(this.refreshViewHandlerMonth=e),"year"===t&&(this.refreshViewHandlerYear=e)}},{key:"refreshView",value:function(){"day"===this.datepickerMode&&this.refreshViewHandlerDay&&this.refreshViewHandlerDay(),"month"===this.datepickerMode&&this.refreshViewHandlerMonth&&this.refreshViewHandlerMonth(),"year"===this.datepickerMode&&this.refreshViewHandlerYear&&this.refreshViewHandlerYear()}},{key:"dateFilter",value:function(e,t){return this.dateFormatter.format(e,t,this.locale)}},{key:"isActive",value:function(e){return 0===this.compare(e.date,this.activeDate)&&(this.activeDateId=e.uid,!0)}},{key:"createDateObject",value:function(e,t){var n={};return n.date=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.date=this.fixTimeZone(n.date),n.label=this.dateFilter(e,t),n.selected=0===this.compare(e,this.selectedDate),n.disabled=this.isDisabled(e),n.current=0===this.compare(e,new Date),n.customClass=this.getCustomClassForDate(n.date),n}},{key:"split",value:function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}},{key:"fixTimeZone",value:function(e){var t=e.getHours();return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23===t?t+2:0)}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.datepickerMode===this.minMode?(this.activeDate||(this.activeDate=new Date(0,0,0,0,0,0,0)),this.activeDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.activeDate=this.fixTimeZone(this.activeDate),t&&this.selectionDone.emit(this.activeDate)):(this.activeDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.activeDate=this.fixTimeZone(this.activeDate),t&&(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)-1])),this.selectedDate=new Date(this.activeDate.valueOf()),this.update.emit(this.activeDate),this.refreshView()}},{key:"move",value:function(e){var t;if("day"===this.datepickerMode&&(t=this.stepDay),"month"===this.datepickerMode&&(t=this.stepMonth),"year"===this.datepickerMode&&(t=this.stepYear),t){var n=this.activeDate.getFullYear()+e*(t.years||0),i=this.activeDate.getMonth()+e*(t.months||0);this.activeDate=new Date(n,i,1),this.refreshView(),this.activeDateChange.emit(this.activeDate)}}},{key:"toggleMode",value:function(e){var t=e||1;this.datepickerMode===this.maxMode&&1===t||this.datepickerMode===this.minMode&&-1===t||(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)+t],this.refreshView())}},{key:"getCustomClassForDate",value:function(e){var t=this;if(!this.customClass)return"";var n=this.customClass.find((function(n){return n.date.valueOf()===e.valueOf()&&n.mode===t.datepickerMode}),this);return void 0===n?"":n.clazz}},{key:"compareDateDisabled",value:function(e,t){if(void 0!==e&&void 0!==t)return"day"===e.mode&&this.compareHandlerDay?this.compareHandlerDay(e.date,t):"month"===e.mode&&this.compareHandlerMonth?this.compareHandlerMonth(e.date,t):"year"===e.mode&&this.compareHandlerYear?this.compareHandlerYear(e.date,t):void 0}},{key:"isDisabled",value:function(e){var t=this,n=!1;return this.dateDisabled&&this.dateDisabled.forEach((function(i){0===t.compareDateDisabled(i,e)&&(n=!0)})),this.dayDisabled&&(n=n||this.dayDisabled.indexOf(e.getDay())>-1),n||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0}},{key:"activeDate",get:function(){return this._activeDate},set:function(e){this._activeDate=e}}]),e}(),dG=function e(){_classCallCheck(this,e),this.locale="en",this.datepickerMode="day",this.startingDay=0,this.yearRange=20,this.minMode="day",this.maxMode="year",this.showWeeks=!0,this.formatDay="DD",this.formatMonth="MMMM",this.formatYear="YYYY",this.formatDayHeader="dd",this.formatDayTitle="MMMM YYYY",this.formatMonthTitle="YYYY",this.onlyCurrentMonth=!1,this.monthColLimit=3,this.yearColLimit=5,this.shortcutPropagation=!1},pG=function(){function e(t){_classCallCheck(this,e),this.datepickerMode="day",this.showWeeks=!0,this.selectionDone=new Ma(void 0),this.activeDateChange=new Ma(void 0),this.onChange=Function.prototype,this.onTouched=Function.prototype,this._now=new Date,this.config=t,this.configureOptions()}return _createClass(e,[{key:"configureOptions",value:function(){Object.assign(this,this.config)}},{key:"onUpdate",value:function(e){this.activeDate=e,this.onChange(e)}},{key:"onSelectionDone",value:function(e){this.selectionDone.emit(e)}},{key:"onActiveDateChange",value:function(e){this.activeDateChange.emit(e)}},{key:"writeValue",value:function(e){if(0!==this._datePicker.compare(e,this._activeDate))return e&&e instanceof Date?(this.activeDate=e,void this._datePicker.select(e,!1)):void(this.activeDate=e?new Date(e):void 0)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"activeDate",get:function(){return this._activeDate||this._now},set:function(e){this._activeDate=e}}]),e}(),fG=function(){function e(t){_classCallCheck(this,e),this.labels=[],this.rows=[],this.weekNumbers=[],this.datePicker=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.datePicker.stepDay={months:1},this.datePicker.setRefreshViewHandler((function(){var t=this.activeDate.getFullYear(),n=this.activeDate.getMonth(),i=new Date(t,n,1),a=this.startingDay-i.getDay(),r=a>0?7-a:-a,s=new Date(i.getTime());r>0&&s.setDate(1-r);for(var l=e.getDates(s,42),o=[],u=0;u<42;u++){var c=this.createDateObject(l[u],this.formatDay);c.secondary=l[u].getMonth()!==n,c.uid=this.uniqueId+"-"+u,o[u]=c}e.labels=[];for(var h=0;h<7;h++)e.labels[h]={},e.labels[h].abbr=this.dateFilter(o[h].date,this.formatDayHeader),e.labels[h].full=this.dateFilter(o[h].date,"EEEE");if(e.title=this.dateFilter(this.activeDate,this.formatDayTitle),e.rows=this.split(o,7),this.showWeeks){e.weekNumbers=[];for(var d=(11-this.startingDay)%7,p=e.rows.length,f=0;f<p;f++)e.weekNumbers.push(e.getISO8601WeekNumber(e.rows[f][d].date))}}),"day"),this.datePicker.setCompareHandler((function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.getTime()-i.getTime()}),"day"),this.datePicker.refreshView()}},{key:"getDates",value:function(e,t){for(var n,i=new Array(t),a=new Date(e.getTime()),r=0;r<t;)n=new Date(a.getTime()),n=this.datePicker.fixTimeZone(n),i[r++]=n,a=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1);return i}},{key:"getISO8601WeekNumber",value:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t.getTime())/864e5)/7)+1}},{key:"isBs4",get:function(){return!wY()}}]),e}(),mG=function(){function e(t){_classCallCheck(this,e),this.rows=[],this.datePicker=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.datePicker.stepMonth={years:1},this.datePicker.setRefreshViewHandler((function(){for(var t,n=new Array(12),i=this.activeDate.getFullYear(),a=0;a<12;a++)t=new Date(i,a,1),t=this.fixTimeZone(t),n[a]=this.createDateObject(t,this.formatMonth),n[a].uid=this.uniqueId+"-"+a;e.title=this.dateFilter(this.activeDate,this.formatMonthTitle),e.rows=this.split(n,e.datePicker.monthColLimit)}),"month"),this.datePicker.setCompareHandler((function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.getTime()-i.getTime()}),"month"),this.datePicker.refreshView()}},{key:"isBs4",get:function(){return!wY()}}]),e}(),gG=function(){function e(t){_classCallCheck(this,e),this.rows=[],this.datePicker=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.datePicker.stepYear={years:this.datePicker.yearRange},this.datePicker.setRefreshViewHandler((function(){for(var t,n=new Array(this.yearRange),i=e.getStartingYear(this.activeDate.getFullYear()),a=0;a<this.yearRange;a++)t=new Date(i+a,0,1),t=this.fixTimeZone(t),n[a]=this.createDateObject(t,this.formatYear),n[a].uid=this.uniqueId+"-"+a;e.title=[n[0].label,n[this.yearRange-1].label].join(" - "),e.rows=this.split(n,e.datePicker.yearColLimit)}),"year"),this.datePicker.setCompareHandler((function(e,t){return e.getFullYear()-t.getFullYear()}),"year"),this.datePicker.refreshView()}},{key:"getStartingYear",value:function(e){return(e-1)/this.datePicker.yearRange*this.datePicker.yearRange+1}},{key:"isBs4",get:function(){return!wY()}}]),e}(),vG=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[dG]}}}]),e}(),yG=Qn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"datepickerAnimation",definitions:[{type:0,name:"animated-down",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-down",animation:[{type:6,styles:{height:0,overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:0,name:"animated-up",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-up",animation:[{type:6,styles:{height:"*",overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:1,expr:"* => unanimated",animation:{type:4,styles:null,timings:"0s"},options:null}],options:{}}]}});function bG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"bs-days-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onHoverWeek"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.dayHoverHandler(n)&&i),"onHoverWeek"===t&&(i=!1!==a.weekHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.daySelectHandler(n)&&i),i}),KX,qX)),la(1,49152,null,0,rG,[EY],{calendar:[0,"calendar"],options:[1,"options"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"}),oa(131072,Ro,[Mt]),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,Jn(t,1,1,Zi(t,2).transform(n.options)))}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,3).transform(i.daysCalendar)))?null:n.length)>1)}))}function kG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,bG)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.daysCalendar)))}),null)}function CG(e){return ns(0,[(e()(),Br(0,0,null,null,2,"bs-month-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.monthHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.monthSelectHandler(n)&&i),i}),QX,$X)),la(1,49152,null,0,sG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),oa(131072,Ro,[Mt])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function wG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,CG)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.monthsCalendar)))}),null)}function _G(e){return ns(0,[(e()(),Br(0,0,null,null,2,"bs-years-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.yearHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.yearSelectHandler(n)&&i),i}),iK,eK)),la(1,49152,null,0,oG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),oa(131072,Ro,[Mt])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function xG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,_G)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.yearsCalendar)))}),null)}function SG(e){return ns(0,[(e()(),Br(0,0,null,null,4,"div",[["class","bs-datepicker-buttons"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"button",[["class","btn btn-success"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Apply"])),(e()(),Br(3,0,null,null,1,"button",[["class","btn btn-default"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Cancel"]))],null,null)}function EG(e){return ns(0,[(e()(),Br(0,0,null,null,2,"div",[["class","bs-datepicker-custom-range"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"bs-custom-date-view",[],null,null,null,lK,aK)),la(2,49152,null,0,tG,[],{ranges:[0,"ranges"]},null)],(function(e,t){e(t,2,0,t.component._customRangesFish)}),null)}function OG(e){return ns(0,[(e()(),Br(0,0,null,null,15,"div",[["class","bs-datepicker"]],null,null,null,null,null)),la(1,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Br(2,0,null,null,11,"div",[["class","bs-datepicker-container"]],[[24,"@datepickerAnimation",0]],[[null,"@datepickerAnimation.done"]],(function(e,t,n){var i=!0;return"@datepickerAnimation.done"===t&&(i=!1!==e.component.positionServiceEnable()&&i),i}),null,null)),(e()(),Br(3,0,null,null,8,"div",[["class","bs-calendar-container"],["role","application"]],null,null,null,null,null)),la(4,16384,null,0,Ao,[],{ngSwitch:[0,"ngSwitch"]},null),oa(131072,Ro,[Mt]),(e()(),Hr(16777216,null,null,1,null,kG)),la(7,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,wG)),la(9,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,xG)),la(11,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,SG)),la(13,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,EG)),la(15,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"bs-datepicker",n.containerClass),e(t,4,0,Jn(t,4,0,Zi(t,5).transform(n.viewMode))),e(t,7,0,"day"),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,!1),e(t,15,0,!1)}),(function(e,t){e(t,2,0,t.component.animationState)}))}function IG(e){return ns(0,[(e()(),Hr(16777216,null,null,2,null,OG)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,1,0,Jn(t,1,0,Zi(t,2).transform(n.viewMode)))}),null)}var AG=Vi("bs-datepicker-container",XY,(function(e){return ns(0,[(e()(),Br(0,0,null,null,3,"bs-datepicker-container",[["aria-label","calendar"],["class","bottom"],["role","dialog"],["style","position: absolute; display: block;"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Zi(e,3)._stopPropagation(n)&&i),i}),IG,yG)),ua(512,null,GY,GY,[]),ua(512,null,DY,DY,[IY,AY]),la(3,245760,null,0,XY,[EY,GY,cn,IY,DY,gY],null,null)],(function(e,t){e(t,3,0)}),null)}),{},{},[]),DG=Qn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"datepickerAnimation",definitions:[{type:0,name:"animated-down",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-down",animation:[{type:6,styles:{height:0,overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:0,name:"animated-up",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-up",animation:[{type:6,styles:{height:"*",overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:1,expr:"* => unanimated",animation:{type:4,styles:null,timings:"0s"},options:null}],options:{}}]}});function MG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"bs-days-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onHoverWeek"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.dayHoverHandler(n)&&i),"onHoverWeek"===t&&(i=!1!==a.weekHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.daySelectHandler(n)&&i),i}),KX,qX)),la(1,49152,null,0,rG,[EY],{calendar:[0,"calendar"],options:[1,"options"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"}),oa(131072,Ro,[Mt]),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,Jn(t,1,1,Zi(t,2).transform(n.options)))}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,3).transform(i.daysCalendar)))?null:n.length)>1)}))}function TG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,MG)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.daysCalendar)))}),null)}function PG(e){return ns(0,[(e()(),Br(0,0,null,null,2,"bs-month-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.monthHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.monthSelectHandler(n)&&i),i}),QX,$X)),la(1,49152,null,0,sG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),oa(131072,Ro,[Mt])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function LG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,PG)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.monthsCalendar)))}),null)}function NG(e){return ns(0,[(e()(),Br(0,0,null,null,2,"bs-years-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.yearHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.yearSelectHandler(n)&&i),i}),iK,eK)),la(1,49152,null,0,oG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),oa(131072,Ro,[Mt])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function RG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,NG)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.yearsCalendar)))}),null)}function FG(e){return ns(0,[(e()(),Br(0,0,null,null,4,"div",[["class","bs-datepicker-buttons"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"button",[["class","btn btn-success"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Apply"])),(e()(),Br(3,0,null,null,1,"button",[["class","btn btn-default"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Cancel"]))],null,null)}function HG(e){return ns(0,[(e()(),Br(0,0,null,null,2,"div",[["class","bs-datepicker-custom-range"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"bs-custom-date-view",[],null,null,null,lK,aK)),la(2,49152,null,0,tG,[],{ranges:[0,"ranges"]},null)],(function(e,t){e(t,2,0,t.component._customRangesFish)}),null)}function BG(e){return ns(0,[(e()(),Br(0,0,null,null,15,"div",[["class","bs-datepicker"]],null,null,null,null,null)),la(1,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Br(2,0,null,null,11,"div",[["class","bs-datepicker-container"]],[[24,"@datepickerAnimation",0]],[[null,"@datepickerAnimation.done"]],(function(e,t,n){var i=!0;return"@datepickerAnimation.done"===t&&(i=!1!==e.component.positionServiceEnable()&&i),i}),null,null)),(e()(),Br(3,0,null,null,8,"div",[["class","bs-calendar-container"],["role","application"]],null,null,null,null,null)),la(4,16384,null,0,Ao,[],{ngSwitch:[0,"ngSwitch"]},null),oa(131072,Ro,[Mt]),(e()(),Hr(16777216,null,null,1,null,TG)),la(7,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,LG)),la(9,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,RG)),la(11,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,FG)),la(13,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,HG)),la(15,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"bs-datepicker",n.containerClass),e(t,4,0,Jn(t,4,0,Zi(t,5).transform(n.viewMode))),e(t,7,0,"day"),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,!1),e(t,15,0,!1)}),(function(e,t){e(t,2,0,t.component.animationState)}))}function VG(e){return ns(0,[(e()(),Hr(16777216,null,null,2,null,BG)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,1,0,Jn(t,1,0,Zi(t,2).transform(n.viewMode)))}),null)}var jG=Vi("bs-datepicker-inline-container",$Y,(function(e){return ns(0,[(e()(),Br(0,0,null,null,3,"bs-datepicker-inline-container",[["style","display: inline-block;"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Zi(e,3)._stopPropagation(n)&&i),i}),VG,DG)),ua(512,null,GY,GY,[]),ua(512,null,DY,DY,[IY,AY]),la(3,245760,null,0,$Y,[EY,GY,cn,IY,DY,gY],null,null)],(function(e,t){e(t,3,0)}),null)}),{},{},[]),zG=Qn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"datepickerAnimation",definitions:[{type:0,name:"animated-down",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-down",animation:[{type:6,styles:{height:0,overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:0,name:"animated-up",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-up",animation:[{type:6,styles:{height:"*",overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:1,expr:"* => unanimated",animation:{type:4,styles:null,timings:"0s"},options:null}],options:{}}]}});function qG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"bs-days-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onHoverWeek"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.dayHoverHandler(n)&&i),"onHoverWeek"===t&&(i=!1!==a.weekHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.daySelectHandler(n)&&i),i}),KX,qX)),la(1,49152,null,0,rG,[EY],{calendar:[0,"calendar"],options:[1,"options"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"}),oa(131072,Ro,[Mt]),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,Jn(t,1,1,Zi(t,2).transform(n.options)))}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,3).transform(i.daysCalendar)))?null:n.length)>1)}))}function UG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,qG)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.daysCalendar)))}),null)}function WG(e){return ns(0,[(e()(),Br(0,0,null,null,2,"bs-month-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.monthHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.monthSelectHandler(n)&&i),i}),QX,$X)),la(1,49152,null,0,sG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),oa(131072,Ro,[Mt])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function YG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,WG)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.monthsCalendar)))}),null)}function GG(e){return ns(0,[(e()(),Br(0,0,null,null,2,"bs-years-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.setViewMode(n)&&i),"onHover"===t&&(i=!1!==a.yearHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==a.yearSelectHandler(n)&&i),i}),iK,eK)),la(1,49152,null,0,oG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),oa(131072,Ro,[Mt])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Jn(t,0,0,Zi(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function XG(e){return ns(0,[(e()(),Br(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,2,null,GG)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,2,0,Jn(t,2,0,Zi(t,3).transform(n.yearsCalendar)))}),null)}function KG(e){return ns(0,[(e()(),Br(0,0,null,null,4,"div",[["class","bs-datepicker-buttons"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"button",[["class","btn btn-success"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Apply"])),(e()(),Br(3,0,null,null,1,"button",[["class","btn btn-default"]],null,null,null,null,null)),(e()(),Qr(-1,null,["Cancel"]))],null,null)}function $G(e){return ns(0,[(e()(),Br(0,0,null,null,2,"div",[["class","bs-datepicker-custom-range"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"bs-custom-date-view",[],null,null,null,lK,aK)),la(2,49152,null,0,tG,[],{ranges:[0,"ranges"]},null)],(function(e,t){e(t,2,0,t.component._customRangesFish)}),null)}function ZG(e){return ns(0,[(e()(),Br(0,0,null,null,15,"div",[["class","bs-datepicker"]],null,null,null,null,null)),la(1,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Br(2,0,null,null,11,"div",[["class","bs-datepicker-container"]],[[24,"@datepickerAnimation",0]],[[null,"@datepickerAnimation.done"]],(function(e,t,n){var i=!0;return"@datepickerAnimation.done"===t&&(i=!1!==e.component.positionServiceEnable()&&i),i}),null,null)),(e()(),Br(3,0,null,null,8,"div",[["class","bs-calendar-container"],["role","application"]],null,null,null,null,null)),la(4,16384,null,0,Ao,[],{ngSwitch:[0,"ngSwitch"]},null),oa(131072,Ro,[Mt]),(e()(),Hr(16777216,null,null,1,null,UG)),la(7,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,YG)),la(9,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,XG)),la(11,278528,null,0,Do,[Rn,Ln,Ao],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hr(16777216,null,null,1,null,KG)),la(13,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,$G)),la(15,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"bs-datepicker",n.containerClass),e(t,4,0,Jn(t,4,0,Zi(t,5).transform(n.viewMode))),e(t,7,0,"day"),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,!1),e(t,15,0,!1)}),(function(e,t){e(t,2,0,t.component.animationState)}))}function JG(e){return ns(0,[(e()(),Hr(16777216,null,null,2,null,ZG)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),oa(131072,Ro,[Mt])],(function(e,t){var n=t.component;e(t,1,0,Jn(t,1,0,Zi(t,2).transform(n.viewMode)))}),null)}var QG=Vi("bs-daterangepicker-container",JY,(function(e){return ns(0,[(e()(),Br(0,0,null,null,3,"bs-daterangepicker-container",[["aria-label","calendar"],["class","bottom"],["role","dialog"],["style","position: absolute; display: block;"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Zi(e,3)._stopPropagation(n)&&i),i}),JG,zG)),ua(512,null,DY,DY,[IY,AY]),ua(512,null,GY,GY,[]),la(3,245760,null,0,JY,[DY,IY,EY,GY,cn,gY],null,null)],(function(e,t){e(t,3,0)}),null)}),{},{},[]),eX=Qn({encapsulation:2,styles:[],data:{}});function tX(e){return ns(0,[Ur(671088640,1,{_datePicker:0}),(e()(),Br(1,0,null,null,7,"datepicker-inner",[],null,[[null,"update"],[null,"selectionDone"],[null,"activeDateChange"]],(function(e,t,n){var i=!0,a=e.component;return"update"===t&&(i=!1!==a.onUpdate(n)&&i),"selectionDone"===t&&(i=!1!==a.onSelectionDone(n)&&i),"activeDateChange"===t&&(i=!1!==a.onActiveDateChange(n)&&i),i}),rX,iX)),la(2,638976,[[1,4]],0,hG,[],{locale:[0,"locale"],datepickerMode:[1,"datepickerMode"],startingDay:[2,"startingDay"],yearRange:[3,"yearRange"],minDate:[4,"minDate"],maxDate:[5,"maxDate"],minMode:[6,"minMode"],maxMode:[7,"maxMode"],showWeeks:[8,"showWeeks"],formatDay:[9,"formatDay"],formatMonth:[10,"formatMonth"],formatYear:[11,"formatYear"],formatDayHeader:[12,"formatDayHeader"],formatDayTitle:[13,"formatDayTitle"],formatMonthTitle:[14,"formatMonthTitle"],onlyCurrentMonth:[15,"onlyCurrentMonth"],shortcutPropagation:[16,"shortcutPropagation"],customClass:[17,"customClass"],monthColLimit:[18,"monthColLimit"],yearColLimit:[19,"yearColLimit"],dateDisabled:[20,"dateDisabled"],dayDisabled:[21,"dayDisabled"],initDate:[22,"initDate"],activeDate:[23,"activeDate"]},{selectionDone:"selectionDone",update:"update",activeDateChange:"activeDateChange"}),(e()(),Br(3,0,null,0,1,"daypicker",[["tabindex","0"]],null,null,null,bX,sX)),la(4,114688,null,0,fG,[hG],null,null),(e()(),Br(5,0,null,0,1,"monthpicker",[["tabindex","0"]],null,null,null,xX,kX)),la(6,114688,null,0,mG,[hG],null,null),(e()(),Br(7,0,null,0,1,"yearpicker",[["tabindex","0"]],null,null,null,AX,SX)),la(8,114688,null,0,gG,[hG],null,null)],(function(e,t){var n=t.component;e(t,2,1,[n.config.locale,n.datepickerMode,n.startingDay,n.yearRange,n.minDate,n.maxDate,n.minMode,n.maxMode,n.showWeeks,n.formatDay,n.formatMonth,n.formatYear,n.formatDayHeader,n.formatDayTitle,n.formatMonthTitle,n.onlyCurrentMonth,n.shortcutPropagation,n.customClass,n.monthColLimit,n.yearColLimit,n.dateDisabled,n.dayDisabled,n.initDate,n.activeDate]),e(t,4,0),e(t,6,0),e(t,8,0)}),null)}var nX=Vi("datepicker",pG,(function(e){return ns(0,[(e()(),Br(0,0,null,null,2,"datepicker",[],null,null,null,tX,eX)),ua(5120,null,Iu,(function(e){return[e]}),[pG]),la(2,49152,null,0,pG,[dG],null,null)],null,null)}),{datepickerMode:"datepickerMode",initDate:"initDate",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",maxMode:"maxMode",showWeeks:"showWeeks",formatDay:"formatDay",formatMonth:"formatMonth",formatYear:"formatYear",formatDayHeader:"formatDayHeader",formatDayTitle:"formatDayTitle",formatMonthTitle:"formatMonthTitle",startingDay:"startingDay",yearRange:"yearRange",onlyCurrentMonth:"onlyCurrentMonth",shortcutPropagation:"shortcutPropagation",monthColLimit:"monthColLimit",yearColLimit:"yearColLimit",customClass:"customClass",dateDisabled:"dateDisabled",dayDisabled:"dayDisabled",activeDate:"activeDate"},{selectionDone:"selectionDone",activeDateChange:"activeDateChange"},[]),iX=Qn({encapsulation:2,styles:[],data:{}});function aX(e){return ns(0,[(e()(),Br(0,0,null,null,1,"div",[["class","well well-sm bg-faded p-a card"],["role","application"]],null,null,null,null,null)),Kr(null,0)],null,null)}function rX(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,aX)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.datepickerMode)}),null)}var sX=Qn({encapsulation:0,styles:["[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%] {\n      color: #292b2c;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    [_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%] {\n      color: #292b2c !important;\n    }"],data:{}});function lX(e){return ns(0,[(e()(),Br(0,0,null,null,1,"button",[["class","btn btn-default btn-secondary btn-sm pull-left float-left"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(-1)&&i),i}),null,null)),(e()(),Qr(-1,null,["\u2039"]))],null,null)}function oX(e){return ns(0,[(e()(),Br(0,0,null,null,1,"button",[["class","btn btn-default btn-secondary btn-sm pull-left float-left"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(-1)&&i),i}),null,null)),(e()(),Qr(-1,null,["<"]))],null,null)}function uX(e){return ns(0,[(e()(),Br(0,0,null,null,1,"button",[["class","btn btn-default btn-secondary btn-sm pull-right float-right"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(1)&&i),i}),null,null)),(e()(),Qr(-1,null,["\u203a"]))],null,null)}function cX(e){return ns(0,[(e()(),Br(0,0,null,null,1,"button",[["class","btn btn-default btn-secondary btn-sm pull-right float-right"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(1)&&i),i}),null,null)),(e()(),Qr(-1,null,["> "]))],null,null)}function hX(e){return ns(0,[(e()(),Br(0,0,null,null,0,"th",[],null,null,null,null,null))],null,null)}function dX(e){return ns(0,[(e()(),Br(0,0,null,null,3,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"small",[["aria-label","labelz.full"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),Qr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit.abbr)}))}function pX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"em",[],null,null,null,null,null)),(e()(),Qr(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.weekNumbers[t.parent.parent.context.index])}))}function fX(e){return ns(0,[(e()(),Br(0,0,null,null,6,"button",[["style","min-width:100%;"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.select(e.parent.context.$implicit.date)&&i),i}),null,null)),la(1,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zr(2,{"btn-secondary":0,"btn-info":1,disabled:2,active:3,"btn-default":4}),(e()(),Br(3,0,null,null,3,"span",[],null,null,null,null,null)),la(4,278528,null,0,Co,[An,Dn,cn,fn],{ngClass:[0,"ngClass"]},null),Zr(5,{"text-muted":0,"text-info":1}),(e()(),Qr(6,null,["",""]))],(function(e,t){var n=t.component,i=Oi(1,"btn btn-sm ",t.parent.context.$implicit.customClass,""),a=e(t,2,0,n.isBs4&&!t.parent.context.$implicit.selected&&!n.datePicker.isActive(t.parent.context.$implicit),t.parent.context.$implicit.selected,t.parent.context.$implicit.disabled,!n.isBs4&&n.datePicker.isActive(t.parent.context.$implicit),!n.isBs4);e(t,1,0,i,a);var r=e(t,5,0,t.parent.context.$implicit.secondary||t.parent.context.$implicit.current,!n.isBs4&&t.parent.context.$implicit.current);e(t,4,0,r)}),(function(e,t){e(t,0,0,t.parent.context.$implicit.disabled),e(t,6,0,t.parent.context.$implicit.label)}))}function mX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"td",[["class","text-center"],["role","gridcell"]],[[8,"id",0]],null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,fX)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!(t.component.datePicker.onlyCurrentMonth&&t.context.$implicit.secondary))}),(function(e,t){e(t,0,0,t.context.$implicit.uid)}))}function gX(e){return ns(0,[(e()(),Br(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,pX)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,mX)),la(4,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.datePicker.showWeeks),e(t,4,0,t.parent.context.$implicit)}),null)}function vX(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,gX)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(0,null,null,0))],(function(e,t){e(t,1,0,!(t.component.datePicker.onlyCurrentMonth&&t.context.$implicit[0].secondary&&t.context.$implicit[6].secondary))}),null)}function yX(e){return ns(0,[(e()(),Br(0,0,null,null,26,"table",[["aria-activedescendant","activeDateId"],["role","grid"]],[[1,"aria-labelledby",0]],null,null,null,null)),(e()(),Br(1,0,null,null,22,"thead",[],null,null,null,null,null)),(e()(),Br(2,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),Br(3,0,null,null,4,"th",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,lX)),la(5,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,oX)),la(7,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(8,0,null,null,5,"th",[],[[1,"colspan",0]],null,null,null,null)),(e()(),Br(9,0,null,null,4,"button",[["class","btn btn-default btn-secondary btn-sm"],["style","width:100%;"],["tabindex","-1"],["type","button"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.toggleMode(0)&&i),i}),null,null)),la(10,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zr(11,{disabled:0}),(e()(),Br(12,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Qr(13,null,["",""])),(e()(),Br(14,0,null,null,4,"th",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,uX)),la(16,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,cX)),la(18,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(19,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,hX)),la(21,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,dX)),la(23,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(24,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,vX)),la(26,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,5,0,!n.isBs4),e(t,7,0,n.isBs4);var i=e(t,11,0,n.datePicker.datepickerMode===n.datePicker.maxMode);e(t,10,0,"btn btn-default btn-secondary btn-sm",i),e(t,16,0,!n.isBs4),e(t,18,0,n.isBs4),e(t,21,0,n.datePicker.showWeeks),e(t,23,0,n.labels),e(t,26,0,n.rows)}),(function(e,t){var n=t.component;e(t,0,0,n.datePicker.uniqueId+"-title"),e(t,8,0,5+(n.datePicker.showWeeks?1:0)),e(t,9,0,n.datePicker.uniqueId+"-title",n.datePicker.datepickerMode===n.datePicker.maxMode),e(t,13,0,n.title)}))}function bX(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,yX)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,"day"===t.component.datePicker.datepickerMode)}),null)}var kX=Qn({encapsulation:0,styles:["[_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%] {\n      color: #fff !important;\n    }"],data:{}});function CX(e){return ns(0,[(e()(),Br(0,0,null,null,8,"td",[["class","text-center"],["role","gridcell"]],[[1,"id",0]],null,null,null,null)),la(1,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Br(2,0,null,null,6,"button",[["class","btn btn-default"],["style","min-width:100%;"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.select(e.context.$implicit.date)&&i),i}),null,null)),la(3,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zr(4,{"btn-link":0,"btn-info":1,disabled:2,active:3}),(e()(),Br(5,0,null,null,3,"span",[],null,null,null,null,null)),la(6,278528,null,0,Co,[An,Dn,cn,fn],{ngClass:[0,"ngClass"]},null),Zr(7,{"text-success":0,"text-info":1}),(e()(),Qr(8,null,["",""]))],(function(e,t){var n=t.component;e(t,1,0,"text-center",t.context.$implicit.customClass);var i=e(t,4,0,n.isBs4&&!t.context.$implicit.selected&&!n.datePicker.isActive(t.context.$implicit),t.context.$implicit.selected||n.isBs4&&!t.context.$implicit.selected&&n.datePicker.isActive(t.context.$implicit),t.context.$implicit.disabled,!n.isBs4&&n.datePicker.isActive(t.context.$implicit));e(t,3,0,"btn btn-default",i);var a=e(t,7,0,n.isBs4&&t.context.$implicit.current,!n.isBs4&&t.context.$implicit.current);e(t,6,0,a)}),(function(e,t){e(t,0,0,t.context.$implicit.uid),e(t,2,0,t.context.$implicit.disabled),e(t,8,0,t.context.$implicit.label)}))}function wX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,CX)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function _X(e){return ns(0,[(e()(),Br(0,0,null,null,17,"table",[["role","grid"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),Br(2,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),Br(3,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Br(4,0,null,null,1,"button",[["class","btn btn-default btn-sm pull-left float-left"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(-1)&&i),i}),null,null)),(e()(),Qr(-1,null,["\u2039"])),(e()(),Br(6,0,null,null,5,"th",[],[[1,"colspan",0]],null,null,null,null)),(e()(),Br(7,0,null,null,4,"button",[["class","btn btn-default btn-sm"],["style","width:100%;"],["tabindex","-1"],["type","button"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.toggleMode(0)&&i),i}),null,null)),la(8,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zr(9,{disabled:0}),(e()(),Br(10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Qr(11,null,["",""])),(e()(),Br(12,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Br(13,0,null,null,1,"button",[["class","btn btn-default btn-sm pull-right float-right"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(1)&&i),i}),null,null)),(e()(),Qr(-1,null,["\u203a"])),(e()(),Br(15,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,wX)),la(17,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,i=e(t,9,0,n.datePicker.datepickerMode===n.maxMode);e(t,8,0,"btn btn-default btn-sm",i),e(t,17,0,n.rows)}),(function(e,t){var n=t.component;e(t,6,0,n.datePicker.monthColLimit-2<=0?1:n.datePicker.monthColLimit-2),e(t,7,0,n.datePicker.uniqueId+"-title",n.datePicker.datepickerMode===n.maxMode),e(t,11,0,n.title)}))}function xX(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,_X)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,"month"===t.component.datePicker.datepickerMode)}),null)}var SX=Qn({encapsulation:0,styles:["[_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%] {\n      color: #fff !important;\n    }"],data:{}});function EX(e){return ns(0,[(e()(),Br(0,0,null,null,7,"td",[["class","text-center"],["role","gridcell"]],[[1,"id",0]],null,null,null,null)),(e()(),Br(1,0,null,null,6,"button",[["class","btn btn-default"],["style","min-width:100%;"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.select(e.context.$implicit.date)&&i),i}),null,null)),la(2,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zr(3,{"btn-link":0,"btn-info":1,disabled:2,active:3}),(e()(),Br(4,0,null,null,3,"span",[],null,null,null,null,null)),la(5,278528,null,0,Co,[An,Dn,cn,fn],{ngClass:[0,"ngClass"]},null),Zr(6,{"text-success":0,"text-info":1}),(e()(),Qr(7,null,["",""]))],(function(e,t){var n=t.component,i=e(t,3,0,n.isBs4&&!t.context.$implicit.selected&&!n.datePicker.isActive(t.context.$implicit),t.context.$implicit.selected||n.isBs4&&!t.context.$implicit.selected&&n.datePicker.isActive(t.context.$implicit),t.context.$implicit.disabled,!n.isBs4&&n.datePicker.isActive(t.context.$implicit));e(t,2,0,"btn btn-default",i);var a=e(t,6,0,n.isBs4&&t.context.$implicit.current,!n.isBs4&&t.context.$implicit.current);e(t,5,0,a)}),(function(e,t){e(t,0,0,t.context.$implicit.uid),e(t,1,0,t.context.$implicit.disabled),e(t,7,0,t.context.$implicit.label)}))}function OX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,EX)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function IX(e){return ns(0,[(e()(),Br(0,0,null,null,17,"table",[["role","grid"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),Br(2,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),Br(3,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Br(4,0,null,null,1,"button",[["class","btn btn-default btn-sm pull-left float-left"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(-1)&&i),i}),null,null)),(e()(),Qr(-1,null,["\u2039"])),(e()(),Br(6,0,null,null,5,"th",[],[[1,"colspan",0]],null,null,null,null)),(e()(),Br(7,0,null,null,4,"button",[["class","btn btn-default btn-sm"],["role","heading"],["style","width:100%;"],["tabindex","-1"],["type","button"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.toggleMode(0)&&i),i}),null,null)),la(8,278528,null,0,Co,[An,Dn,cn,fn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zr(9,{disabled:0}),(e()(),Br(10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Qr(11,null,["",""])),(e()(),Br(12,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Br(13,0,null,null,1,"button",[["class","btn btn-default btn-sm pull-right float-right"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(1)&&i),i}),null,null)),(e()(),Qr(-1,null,["\u203a"])),(e()(),Br(15,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,OX)),la(17,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,i=e(t,9,0,n.datePicker.datepickerMode===n.datePicker.maxMode);e(t,8,0,"btn btn-default btn-sm",i),e(t,17,0,n.rows)}),(function(e,t){var n=t.component;e(t,6,0,n.datePicker.yearColLimit-2<=0?1:n.datePicker.yearColLimit-2),e(t,7,0,n.datePicker.uniqueId+"-title",n.datePicker.datepickerMode===n.datePicker.maxMode),e(t,11,0,n.title)}))}function AX(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,IX)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,"year"===t.component.datePicker.datepickerMode)}),null)}var DX=Qn({encapsulation:2,styles:[],data:{}});function MX(e){return ns(2,[(e()(),Qr(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.day.label)}))}var TX=Qn({encapsulation:2,styles:[],data:{}});function PX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"div",[["class","current-timedate"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Qr(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.title)}))}var LX=Qn({encapsulation:2,styles:[],data:{}});function NX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"button",[["class","current"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.view("month")&&i),i}),null,null)),(e()(),Br(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Qr(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.calendar.monthTitle)}))}function RX(e){return ns(2,[(e()(),Br(0,0,null,null,2,"button",[["class","previous"]],[[8,"disabled",0],[4,"visibility",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.navTo(!0)&&i),i}),null,null)),(e()(),Br(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Qr(-1,null,["\u2039"])),(e()(),Qr(-1,null,[" \u200b "])),(e()(),Hr(16777216,null,null,1,null,NX)),la(5,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Qr(-1,null,[" \u200b "])),(e()(),Br(7,0,null,null,2,"button",[["class","current"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.view("year")&&i),i}),null,null)),(e()(),Br(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Qr(9,null,["",""])),(e()(),Qr(-1,null,[" \u200b "])),(e()(),Br(11,0,null,null,2,"button",[["class","next"]],[[8,"disabled",0],[4,"visibility",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.navTo(!1)&&i),i}),null,null)),(e()(),Br(12,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Qr(-1,null,["\u203a"]))],(function(e,t){e(t,5,0,t.component.calendar.monthTitle)}),(function(e,t){var n=t.component;e(t,0,0,n.calendar.disableLeftArrow,n.calendar.hideLeftArrow?"hidden":"visible"),e(t,9,0,n.calendar.yearTitle),e(t,11,0,n.calendar.disableRightArrow,n.calendar.hideRightArrow?"hidden":"visible")}))}var FX=Qn({encapsulation:2,styles:[],data:{}});function HX(e){return ns(0,[(e()(),Br(0,0,null,null,15,"div",[["class","bs-timepicker-container"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,5,"div",[["class","bs-timepicker-controls"]],null,null,null,null,null)),(e()(),Br(2,0,null,null,1,"button",[["class","bs-decrease"]],null,null,null,null,null)),(e()(),Qr(-1,null,["-"])),(e()(),Br(4,0,null,null,0,"input",[["placeholder","00"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),Br(5,0,null,null,1,"button",[["class","bs-increase"]],null,null,null,null,null)),(e()(),Qr(-1,null,["+"])),(e()(),Br(7,0,null,null,5,"div",[["class","bs-timepicker-controls"]],null,null,null,null,null)),(e()(),Br(8,0,null,null,1,"button",[["class","bs-decrease"]],null,null,null,null,null)),(e()(),Qr(-1,null,["-"])),(e()(),Br(10,0,null,null,0,"input",[["placeholder","00"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),Br(11,0,null,null,1,"button",[["class","bs-increase"]],null,null,null,null,null)),(e()(),Qr(-1,null,["+"])),(e()(),Br(13,0,null,null,2,"button",[["class","switch-time-format"]],null,null,null,null,null)),(e()(),Qr(14,null,[""," "])),(e()(),Br(15,0,null,null,0,"img",[["alt",""],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg=="]],null,null,null,null,null))],null,(function(e,t){var n=t.component;e(t,4,0,n.hours),e(t,10,0,n.minutes),e(t,14,0,n.ampm)}))}var BX=Qn({encapsulation:2,styles:[],data:{}});function VX(e){return ns(0,[(e()(),Br(0,0,null,null,1,"bs-current-date",[["title","hey there"]],null,null,null,PX,TX)),la(1,49152,null,0,eG,[],{title:[0,"title"]},null)],(function(e,t){e(t,1,0,"hey there")}),null)}function jX(e){return ns(0,[(e()(),Br(0,0,null,null,1,"bs-timepicker",[],null,null,null,HX,FX)),la(1,49152,null,0,lG,[],null,null)],null,null)}function zX(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,VX)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(2,0,null,null,1,"div",[["class","bs-datepicker-head"]],null,null,null,null,null)),Kr(null,0),(e()(),Br(4,0,null,null,1,"div",[["class","bs-datepicker-body"]],null,null,null,null,null)),Kr(null,1),(e()(),Hr(16777216,null,null,1,null,jX)),la(7,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,!1),e(t,7,0,!1)}),null)}var qX=Qn({encapsulation:2,styles:[],data:{}});function UX(e){return ns(0,[(e()(),Br(0,0,null,null,0,"th",[],null,null,null,null,null))],null,null)}function WX(e){return ns(0,[(e()(),Br(0,0,null,null,1,"th",[["aria-label","weekday"]],null,null,null,null,null)),(e()(),Qr(1,null,[""," "]))],null,(function(e,t){e(t,1,0,t.component.calendar.weekdays[t.context.index])}))}function YX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"td",[["class","week"]],[[2,"active-week",null]],null,null,null,null)),(e()(),Br(1,0,null,null,1,"span",[],null,[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.selectWeek(e.parent.context.$implicit)&&i),"mouseenter"===t&&(i=!1!==a.weekHoverHandler(e.parent.context.$implicit,!0)&&i),"mouseleave"===t&&(i=!1!==a.weekHoverHandler(e.parent.context.$implicit,!1)&&i),i}),null,null)),(e()(),Qr(2,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.isWeekHovered),e(t,2,0,n.calendar.weekNumbers[t.parent.context.index])}))}function GX(e){return ns(0,[(e()(),Br(0,0,null,null,3,"td",[["role","gridcell"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,2,"span",[["bsDatepickerDayDecorator",""]],[[2,"disabled",null],[2,"is-highlighted",null],[2,"is-other-month",null],[2,"is-active-other-month",null],[2,"in-range",null],[2,"select-start",null],[2,"select-end",null],[2,"selected",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.selectDay(e.context.$implicit)&&i),"mouseenter"===t&&(i=!1!==a.hoverDay(e.context.$implicit,!0)&&i),"mouseleave"===t&&(i=!1!==a.hoverDay(e.context.$implicit,!1)&&i),i}),MX,DX)),la(2,114688,null,0,nG,[EY,cn,fn],{day:[0,"day"]},null),(e()(),Qr(3,null,["",""]))],(function(e,t){e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,1,0,Zi(t,2).day.isDisabled,Zi(t,2).day.isHovered,Zi(t,2).day.isOtherMonth,Zi(t,2).day.isOtherMonthHovered,Zi(t,2).day.isInRange,Zi(t,2).day.isSelectionStart,Zi(t,2).day.isSelectionEnd,Zi(t,2).day.isSelected),e(t,3,0,t.context.$implicit.label)}))}function XX(e){return ns(0,[(e()(),Br(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,YX)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,GX)),la(4,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.options.showWeekNumbers),e(t,4,0,t.context.$implicit.days)}),null)}function KX(e){return ns(0,[(e()(),Br(0,0,null,null,13,"bs-calendar-layout",[],null,null,null,zX,BX)),la(1,49152,null,0,QY,[],null,null),(e()(),Br(2,0,null,0,1,"bs-datepicker-navigation-view",[],null,[[null,"onNavigate"],[null,"onViewMode"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.changeViewMode(n)&&i),i}),RX,LX)),la(3,49152,null,0,aG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode"}),(e()(),Br(4,0,null,1,9,"table",[["class","days weeks"],["role","grid"]],null,null,null,null,null)),(e()(),Br(5,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Br(6,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,UX)),la(8,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,WX)),la(10,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(11,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,XX)),la(13,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.calendar),e(t,8,0,n.options.showWeekNumbers),e(t,10,0,n.calendar.weekdays),e(t,13,0,n.calendar.weeks)}),null)}var $X=Qn({encapsulation:2,styles:[],data:{}});function ZX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"td",[["role","gridcell"]],[[2,"disabled",null],[2,"is-highlighted",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.viewMonth(e.context.$implicit)&&i),"mouseenter"===t&&(i=!1!==a.hoverMonth(e.context.$implicit,!0)&&i),"mouseleave"===t&&(i=!1!==a.hoverMonth(e.context.$implicit,!1)&&i),i}),null,null)),(e()(),Br(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Qr(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.isDisabled,t.context.$implicit.isHovered),e(t,2,0,t.context.$implicit.label)}))}function JX(e){return ns(0,[(e()(),Br(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,ZX)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function QX(e){return ns(0,[(e()(),Br(0,0,null,null,7,"bs-calendar-layout",[],null,null,null,zX,BX)),la(1,49152,null,0,QY,[],null,null),(e()(),Br(2,0,null,0,1,"bs-datepicker-navigation-view",[],null,[[null,"onNavigate"],[null,"onViewMode"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.changeViewMode(n)&&i),i}),RX,LX)),la(3,49152,null,0,aG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode"}),(e()(),Br(4,0,null,1,3,"table",[["class","months"],["role","grid"]],null,null,null,null,null)),(e()(),Br(5,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,JX)),la(7,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.calendar),e(t,7,0,n.calendar.months)}),null)}var eK=Qn({encapsulation:2,styles:[],data:{}});function tK(e){return ns(0,[(e()(),Br(0,0,null,null,2,"td",[["role","gridcell"]],[[2,"disabled",null],[2,"is-highlighted",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==a.viewYear(e.context.$implicit)&&i),"mouseenter"===t&&(i=!1!==a.hoverYear(e.context.$implicit,!0)&&i),"mouseleave"===t&&(i=!1!==a.hoverYear(e.context.$implicit,!1)&&i),i}),null,null)),(e()(),Br(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Qr(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.isDisabled,t.context.$implicit.isHovered),e(t,2,0,t.context.$implicit.label)}))}function nK(e){return ns(0,[(e()(),Br(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,tK)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function iK(e){return ns(0,[(e()(),Br(0,0,null,null,7,"bs-calendar-layout",[],null,null,null,zX,BX)),la(1,49152,null,0,QY,[],null,null),(e()(),Br(2,0,null,0,1,"bs-datepicker-navigation-view",[],null,[[null,"onNavigate"],[null,"onViewMode"]],(function(e,t,n){var i=!0,a=e.component;return"onNavigate"===t&&(i=!1!==a.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==a.changeViewMode(n)&&i),i}),RX,LX)),la(3,49152,null,0,aG,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode"}),(e()(),Br(4,0,null,1,3,"table",[["class","years"],["role","grid"]],null,null,null,null,null)),(e()(),Br(5,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,nK)),la(7,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.calendar),e(t,7,0,n.calendar.years)}),null)}var aK=Qn({encapsulation:2,styles:[],data:{}});function rK(e){return ns(0,[(e()(),Br(0,0,null,null,1,"button",[],null,null,null,null,null)),(e()(),Qr(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.label)}))}function sK(e){return ns(0,[(e()(),Br(0,0,null,null,1,"button",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Custom Range"]))],null,null)}function lK(e){return ns(2,[(e()(),Br(0,0,null,null,4,"div",[["class","bs-datepicker-predefined-btns"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,rK)),la(2,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Hr(16777216,null,null,1,null,sK)),la(4,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.ranges),e(t,4,0,n.isCustomRangeShown)}),null)}var oK=Qn({encapsulation:2,styles:[["table,td,th{border:1px solid #000;border-collapse:collapse}"]],data:{}});function uK(e){return ns(0,[(e()(),Br(0,0,null,null,10,"div",[["style","margin-right: 10px;"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Instructor Information"])),(e()(),Br(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(4,null,["",": "," ",""])),(e()(),Br(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(6,null,["Email: ",""])),(e()(),Br(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(8,null,["Office: "," "])),(e()(),Br(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(10,null,["Office Tel: ",""]))],null,(function(e,t){var n=t.component;e(t,4,0,null==n.data.instructor?null:n.data.instructor.title,null==n.data.instructor?null:n.data.instructor.name,null==n.data.instructor?null:n.data.instructor.surName),e(t,6,0,null==n.data.instructor?null:n.data.instructor.email),e(t,8,0,null==n.data.instructor?null:n.data.instructor.office),e(t,10,0,null==n.data.instructor?null:n.data.instructor.officeTel)}))}function cK(e){return ns(0,[(e()(),Br(0,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Assistant Information"])),(e()(),Br(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(4,null,["",": "," "," "])),(e()(),Br(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(6,null,["Email: ",""])),(e()(),Br(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(8,null,["Office: ",""])),(e()(),Br(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(10,null,["Office Tel: ",""]))],null,(function(e,t){var n=t.component;e(t,4,0,null==n.data.selectedAssistant?null:n.data.selectedAssistant.title,null==n.data.selectedAssistant?null:n.data.selectedAssistant.name,null==n.data.selectedAssistant?null:n.data.selectedAssistant.surName),e(t,6,0,null==n.data.selectedAssistant?null:n.data.selectedAssistant.email),e(t,8,0,null==n.data.selectedAssistant?null:n.data.selectedAssistant.office),e(t,10,0,null==n.data.selectedAssistant?null:n.data.selectedAssistant.officeTel)}))}function hK(e){return ns(0,[(e()(),Br(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Prerequisite(s)"]))],null,null)}function dK(e){return ns(0,[(e()(),Br(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(1,null,[""," ",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.preCourseCode,t.context.$implicit.preCourseName)}))}function pK(e){return ns(0,[(e()(),Br(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,hK)),la(2,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Hr(16777216,null,null,1,null,dK)),la(4,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,null==!(null!=n.data.selectedCourse&&n.data.selectedCourse.prerequisites)),e(t,4,0,null==n.data.selectedCourse?null:n.data.selectedCourse.prerequisites)}),null)}function fK(e){return ns(0,[(e()(),Br(0,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"td",[["style","width: 10%;"]],null,null,null,null,null)),(e()(),Qr(2,null,["",""])),(e()(),Br(3,0,null,null,1,"td",[["style","width: 20%;"]],null,null,null,null,null)),(e()(),Qr(4,null,["",""])),(e()(),Br(5,0,null,null,1,"td",[["style","width: 70%;"]],null,null,null,null,null)),(e()(),Qr(6,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.$implicit.week),e(t,4,0,t.context.$implicit.date),e(t,6,0,t.context.$implicit.topic)}))}function mK(e){return ns(0,[(e()(),Br(0,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"td",[["style","width: 10%;"]],null,null,null,null,null)),(e()(),Qr(2,null,["",""])),(e()(),Br(3,0,null,null,1,"td",[["style","width: 20%;"]],null,null,null,null,null)),(e()(),Qr(4,null,["",""])),(e()(),Br(5,0,null,null,1,"td",[["style","width: 70%;"]],null,null,null,null,null)),(e()(),Qr(6,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.$implicit.lab),e(t,4,0,t.context.$implicit.week),e(t,6,0,t.context.$implicit.desc)}))}function gK(e){return ns(0,[(e()(),Br(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"td",[["style","width: 10%;"]],null,null,null,null,null)),(e()(),Qr(2,null,["",""])),(e()(),Br(3,0,null,null,1,"td",[["style","width: 90%;"]],null,null,null,null,null)),(e()(),Qr(4,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.$implicit.number),e(t,4,0,t.context.$implicit.outcome)}))}function vK(e){return ns(0,[(e()(),Br(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(2,null,[""," "])),(e()(),Br(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(4,null,[""," "]))],null,(function(e,t){e(t,2,0,t.context.$implicit.type),e(t,4,0,t.context.$implicit.percentage)}))}function yK(e){return ns(0,[(e()(),Br(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(1,null,["",":",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.id,t.context.$implicit.outcome)}))}function bK(e){return ns(0,[oa(0,Fo,[qa]),(e()(),Br(1,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),la(2,81920,null,0,dy,[[2,ay],cn,uy],null,null),(e()(),Qr(-1,null,["Preview Outline"])),(e()(),Br(4,0,null,null,111,"mat-dialog-content",[["class","mat-typography mat-dialog-content"]],null,null,null,null,null)),la(5,16384,null,0,py,[],null,null),(e()(),Br(6,0,null,null,109,"div",[["id","contentToConvert"]],null,null,null,null,null)),(e()(),Br(7,0,null,null,108,"table",[["style","width: 100%;"]],null,null,null,null,null)),(e()(),Br(8,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Br(9,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Br(10,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Qr(11,null,[""," ",""])),(e()(),Br(12,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Br(13,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,uK)),la(15,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(16,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Br(17,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,cK)),la(19,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(20,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Br(21,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,pK)),la(23,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(24,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),Br(25,0,null,null,9,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Br(26,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Br(27,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Time Table(s)"])),(e()(),Br(29,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(30,null,[" "," ",", ",""])),(e()(),Br(31,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(32,null,[" "," ",", ",""])),(e()(),Br(33,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(34,null,[" (Lab) "," ",", ",""])),(e()(),Br(35,0,null,null,4,"tr",[["style","width: 100%;"]],null,null,null,null,null)),(e()(),Br(36,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(37,null,["Program Name: ",""])),(e()(),Br(38,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(39,null,["Program Code: ",""])),(e()(),Br(40,0,null,null,9,"tr",[],null,null,null,null,null)),(e()(),Br(41,0,null,null,8,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Br(42,0,null,null,7,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Br(43,0,null,null,6,"tr",[["style","width: 100%;"]],null,null,null,null,null)),(e()(),Br(44,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(45,null,["Course Code: ",""])),(e()(),Br(46,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(47,null,["Credits: ",""])),(e()(),Br(48,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Qr(49,null,["Year/Semester: ",""])),(e()(),Br(50,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Br(51,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Qr(52,null,[" Course Type: "," "])),(e()(),Br(53,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Br(54,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Qr(55,null,[" Course Description: "," "])),(e()(),Br(56,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Br(57,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Qr(58,null,[" Textbooks: "," "])),(e()(),Br(59,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Br(60,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Qr(61,null,[" Reading List: "," "])),(e()(),Br(62,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(63,0,null,null,3,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Br(64,0,null,null,2,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,fK)),la(66,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(67,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(68,0,null,null,3,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Br(69,0,null,null,2,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,mK)),la(71,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(72,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(73,0,null,null,3,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Br(74,0,null,null,2,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,gK)),la(76,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(77,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),Br(78,0,null,null,10,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Br(79,0,null,null,9,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Br(80,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Br(81,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Br(82,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Assessments"])),(e()(),Br(84,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Qr(-1,null,["Percentage(%)"])),(e()(),Br(86,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,vK)),la(88,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(89,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Br(90,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Qr(91,null,[" Attendance grade: "," "])),(e()(),Br(92,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Br(93,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Qr(94,null,[" Policy on makeups: "," "])),(e()(),Br(95,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Br(96,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Qr(97,null,[" Policy on the NG grade: "," "])),(e()(),Br(98,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Br(99,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Qr(100,null,[" Policy on missed labs: "," "])),(e()(),Br(101,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Br(102,0,null,null,2,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Hr(16777216,null,null,1,null,yK)),la(104,278528,null,0,_o,[Rn,Ln,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Br(105,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),Br(106,0,null,null,9,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Br(107,0,null,null,8,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Br(108,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Br(109,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Br(110,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Qr(111,null,["Prepared by: ",": "," ",""])),(e()(),Br(112,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),Br(113,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Qr(114,null,["Date Prepared: ",""])),Jr(128,115,Be(2)),(e()(),Br(116,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),la(117,16384,null,0,fy,[],null,null),(e()(),Br(118,0,null,null,3,"button",[["class","mat-focus-indicator"],["mat-button",""],["mat-dialog-close",""]],[[1,"aria-label",0],[1,"type",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Zi(e,119).dialogRef.close(Zi(e,119).dialogResult)&&i),i}),BE,HE)),la(119,606208,null,0,hy,[[2,ay],cn,uy],{dialogResult:[0,"dialogResult"]},null),la(120,180224,null,0,NE,[cn,Fy,[2,SS]],null,null),(e()(),Qr(-1,0,["Cancel"])),(e()(),Br(122,0,null,null,3,"button",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"aria-label",0],[1,"type",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==Zi(e,123).dialogRef.close(Zi(e,123).dialogResult)&&i),"click"===t&&(i=!1!==a.print()&&i),i}),BE,HE)),la(123,606208,null,0,hy,[[2,ay],cn,uy],{dialogResult:[0,"dialogResult"]},null),la(124,180224,null,0,NE,[cn,Fy,[2,SS]],null,null),(e()(),Qr(-1,0,["Save"]))],(function(e,t){var n=t.component;e(t,2,0),e(t,15,0,n.data.instructor),e(t,19,0,n.data.selectedAssistant),e(t,23,0,n.data.selectedAssistant),e(t,66,0,n.data.fieldArray),e(t,71,0,n.data.labArray),e(t,76,0,n.data.learningOutcomeArray),e(t,88,0,n.data.assessmentArray),e(t,104,0,n.data.selectedStudentOutcomes),e(t,119,0,""),e(t,123,0,!0)}),(function(e,t){var n=t.component;e(t,1,0,Zi(t,2).id),e(t,11,0,null==n.data.selectedCourse?null:n.data.selectedCourse.courseCode,null==n.data.selectedCourse?null:n.data.selectedCourse.name),e(t,30,0,n.data.lectureFormGroup.get("day1").value,n.data.lectureFormGroup.get("time1").value,n.data.lectureFormGroup.get("room1").value),e(t,32,0,n.data.lectureFormGroup.get("day2").value,n.data.lectureFormGroup.get("time2").value,n.data.lectureFormGroup.get("room2").value),e(t,34,0,n.data.labFormGroup.get("day").value,n.data.labFormGroup.get("time").value,n.data.labFormGroup.get("labRoom").value),e(t,37,0,null==n.data.selectedProg?null:n.data.selectedProg.programName),e(t,39,0,null==n.data.selectedProg?null:n.data.selectedProg.programCode),e(t,45,0,null==n.data.selectedCourse?null:n.data.selectedCourse.courseCode),e(t,47,0,null==n.data.selectedCourse?null:n.data.selectedCourse.credits),e(t,49,0,n.data.yearSemesterForm.get("yearSemester").value),e(t,52,0,n.data.reqOrElec),e(t,55,0,n.data.courseDesc),e(t,58,0,n.data.textBooks),e(t,61,0,n.data.readingList),e(t,91,0,n.data.attendanceGrade),e(t,94,0,n.data.makeupPolicy),e(t,97,0,n.data.NGPolicy),e(t,100,0,n.data.missedLabs),e(t,111,0,null==n.data.instructor?null:n.data.instructor.title,null==n.data.instructor?null:n.data.instructor.name,null==n.data.instructor?null:n.data.instructor.surName);var i=Jn(t,114,0,e(t,115,0,Zi(t,0),n.data.dateGroup.get("date").value));e(t,114,0,i),e(t,118,0,Zi(t,119).ariaLabel||null,Zi(t,119).type,Zi(t,120).disabled||null,"NoopAnimations"===Zi(t,120)._animationMode),e(t,122,0,Zi(t,123).ariaLabel||null,Zi(t,123).type,Zi(t,124).disabled||null,"NoopAnimations"===Zi(t,124)._animationMode)}))}var kK=Vi("app-outlinePreview",kO,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"app-outlinePreview",[],null,null,null,bK,oK)),la(1,114688,null,0,kO,[ay,ry,cg],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),CK=Gy((function e(t){_classCallCheck(this,e),this._elementRef=t})),wK=function e(){_classCallCheck(this,e)},_K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a){var r;return _classCallCheck(this,n),(r=t.call(this,e))._platform=i,r._document=a,r}return _createClass(n,[{key:"ngAfterViewInit",value:function(){var e=this;it()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe((function(){return e._checkToolbarMixedModes()})))}},{key:"_checkToolbarMixedModes",value:function(){var e=this;this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter((function(e){return!(e.classList&&e.classList.contains("mat-toolbar-row"))})).filter((function(t){return t.nodeType!==(e._document?e._document.COMMENT_NODE:8)})).some((function(e){return!(!e.textContent||!e.textContent.trim())}))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}]),n}(CK),xK=function e(){_classCallCheck(this,e)},SK=Qn({encapsulation:2,styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],data:{}});function EK(e){return ns(2,[Kr(null,0),Kr(null,1)],null,null)}var OK=function(){function e(t,n,i){_classCallCheck(this,e),this.authService=t,this.alertify=n,this.router=i}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"loggedIn",value:function(){return this.authService.isLoggedIn()}},{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.authService.decodedToken=null,this.authService.currentUser=null,this.alertify.message("logged out"),this.router.navigate(["login"])}}]),e}(),IK=Qn({encapsulation:0,styles:[[".mat-toolbar[_ngcontent-%COMP%]{background-color:#2b7ae0}"]],data:{}});function AK(e){return ns(0,[(e()(),Br(0,0,null,null,6,"div",[["class","mat-toolbar-row"],["style","display: flex; justify-content: flex-end; margin-right: 20px;"]],null,null,null,null,null)),(e()(),Br(1,0,null,null,1,"a",[["style","margin-right: 10px; text-align: justify;"]],null,null,null,null,null)),(e()(),Qr(2,null,[" Welcome "," "])),(e()(),Br(3,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Br(4,0,null,null,2,"a",[["class","mat-icon"],["routerLink","/login"],["style","font-size:38px; cursor: pointer; color: #E2E4E6;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==Zi(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==a.logout()&&i),i}),null,null)),la(5,671744,null,0,dw,[hw,nC,Tl],{routerLink:[0,"routerLink"]},null),(e()(),Br(6,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null))],(function(e,t){e(t,5,0,"/login")}),(function(e,t){var n=t.component;e(t,2,0,null==n.authService.decodedToken?null:n.authService.decodedToken.unique_name),e(t,4,0,Zi(t,5).target,Zi(t,5).href)}))}function DK(e){return ns(0,[(e()(),Br(0,0,null,null,25,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,EK,SK)),la(1,4243456,null,1,_K,[cn,zg,kl],{color:[0,"color"]},null),Ur(603979776,1,{_toolbarRows:1}),(e()(),Br(3,0,null,1,22,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),la(4,16384,[[1,4]],0,wK,[],null,null),(e()(),Br(5,0,null,null,18,"div",[["class","col"]],null,null,null,null,null)),(e()(),Br(6,0,null,null,17,"div",[["class","mat-toolbar-row"]],null,null,null,null,null)),(e()(),Br(7,0,null,null,16,"div",[],null,null,null,null,null)),(e()(),Br(8,0,null,null,3,"a",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Zi(e,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==Zi(e,10)._haltDisabledEvents(n)&&i),i}),jE,VE)),la(9,671744,null,0,dw,[hw,nC,Tl],{routerLink:[0,"routerLink"]},null),la(10,180224,null,0,RE,[Fy,cn,[2,SS]],null,null),(e()(),Qr(-1,0,[" Create Outline "])),(e()(),Br(12,0,null,null,3,"a",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Zi(e,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==Zi(e,14)._haltDisabledEvents(n)&&i),i}),jE,VE)),la(13,671744,null,0,dw,[hw,nC,Tl],{routerLink:[0,"routerLink"]},null),la(14,180224,null,0,RE,[Fy,cn,[2,SS]],null,null),(e()(),Qr(-1,0,[" Score Sheet "])),(e()(),Br(16,0,null,null,3,"a",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Zi(e,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==Zi(e,18)._haltDisabledEvents(n)&&i),i}),jE,VE)),la(17,671744,null,0,dw,[hw,nC,Tl],{routerLink:[0,"routerLink"]},null),la(18,180224,null,0,RE,[Fy,cn,[2,SS]],null,null),(e()(),Qr(-1,0,[" Check List "])),(e()(),Br(20,0,null,null,3,"a",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Zi(e,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==Zi(e,22)._haltDisabledEvents(n)&&i),i}),jE,VE)),la(21,671744,null,0,dw,[hw,nC,Tl],{routerLink:[0,"routerLink"]},null),la(22,180224,null,0,RE,[Fy,cn,[2,SS]],null,null),(e()(),Qr(-1,0,[" Evaluation "])),(e()(),Hr(16777216,null,null,1,null,AK)),la(25,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"primary"),e(t,9,0,"/outline"),e(t,13,0,"/scoreSheet"),e(t,17,0,"/checkList"),e(t,21,0,"/evaluation"),e(t,25,0,n.loggedIn())}),(function(e,t){e(t,0,0,Zi(t,1)._toolbarRows.length>0,0===Zi(t,1)._toolbarRows.length),e(t,8,0,Zi(t,9).target,Zi(t,9).href,Zi(t,10).disabled?-1:Zi(t,10).tabIndex||0,Zi(t,10).disabled||null,Zi(t,10).disabled.toString(),"NoopAnimations"===Zi(t,10)._animationMode),e(t,12,0,Zi(t,13).target,Zi(t,13).href,Zi(t,14).disabled?-1:Zi(t,14).tabIndex||0,Zi(t,14).disabled||null,Zi(t,14).disabled.toString(),"NoopAnimations"===Zi(t,14)._animationMode),e(t,16,0,Zi(t,17).target,Zi(t,17).href,Zi(t,18).disabled?-1:Zi(t,18).tabIndex||0,Zi(t,18).disabled||null,Zi(t,18).disabled.toString(),"NoopAnimations"===Zi(t,18)._animationMode),e(t,20,0,Zi(t,21).target,Zi(t,21).href,Zi(t,22).disabled?-1:Zi(t,22).tabIndex||0,Zi(t,22).disabled||null,Zi(t,22).disabled.toString(),"NoopAnimations"===Zi(t,22)._animationMode)}))}var MK=Qn({encapsulation:0,styles:[[""]],data:{}});function TK(e){return ns(0,[(e()(),Br(0,0,null,null,1,"app-navbar",[],null,null,null,DK,IK)),la(1,114688,null,0,OK,[n_,a_,hw],null,null)],(function(e,t){e(t,1,0)}),null)}function PK(e){return ns(0,[(e()(),Hr(16777216,null,null,1,null,TK)),la(1,16384,null,0,So,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(e()(),Br(2,0,null,null,0,"div",[["class","loading"]],null,null,null,null,null)),(e()(),Br(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),la(4,212992,null,0,gw,[mw,Rn,sn,[8,null],Mt],null,null)],(function(e,t){e(t,1,0,t.component.isLogged()),e(t,4,0)}),null)}var LK=Vi("app-root",Eu,(function(e){return ns(0,[(e()(),Br(0,0,null,null,1,"app-root",[],null,null,null,PK,MK)),la(1,114688,null,0,Eu,[n_],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),NK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e).pipe(Hb((function(e){if(e instanceof iu){if(401===e.status)return Sh(e.statusText);var t=e.headers.get("Aplication-Error");if(t)return Sh(t);var n=e.error,i="";if(n.errors&&"object"==typeof n.errors)for(var a in n.errors)n.errors[a]&&(i+=n.errors[a]+"\n");else if(n&&"object"==typeof n)for(var r in n)n[r]&&(i+=n[r]+"\n");return Sh(i||n||"Server Error")}})))}}]),e}();n("zwY0");var RK=function e(){_classCallCheck(this,e),this.altFormat="F j, Y",this.altInput=!1,this.altInputClass="",this.allowInput=!1,this.appendTo=void 0,this.ariaDateFormat="F j, Y",this.clickOpens=!0,this.dateFormat="Y-m-d",this.defaultHour=12,this.defaultMinute=0,this.defaultSeconds=0,this.disable=[],this.disableMobile=!1,this.enable=[],this.enableTime=!1,this.enableSeconds=!1,this.formatDate=void 0,this.hourIncrement=1,this.inline=!1,this.maxDate=void 0,this.minDate=void 0,this.minuteIncrement=5,this.mode="single",this.nextArrow=">",this.noCalendar=!1,this.now=new Date,this.prevArrow="<",this.shorthandCurrentMonth=!1,this.static=!1,this.time24hr=!1,this.utc=!1,this.weekNumbers=!1,this.wrap=!1,this.plugins=[],this.locale="default",this.convertModelValue=!1,this.showMonths=1},FK=new xe("flatpickr defaults");function HK(e){var t=new RK;return Object.assign(t,e),t}var BK,VK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:FK,useValue:t},{provide:RK,useFactory:HK,deps:[FK]}]}}}]),e}(),jK=((BK=function(){function e(t,n,i){_classCallCheck(this,e),this.authService=t,this.router=n,this.alertify=i}return _createClass(e,[{key:"canActivate",value:function(){return!!this.authService.isLoggedIn()||(this.alertify.error("You shall not pass !!"),this.router.navigate(["/login"]),!1)}}]),e}()).\u0275prov=ce({factory:function(){return new BK(Me(n_),Me(hw),Me(a_))},token:BK,providedIn:"root"}),BK),zK=function e(){_classCallCheck(this,e)},qK=function e(){_classCallCheck(this,e)},UK=function e(){_classCallCheck(this,e)},WK=function e(){_classCallCheck(this,e)},YK=function e(){_classCallCheck(this,e)},GK=function e(){_classCallCheck(this,e)},XK=function e(){_classCallCheck(this,e)},KK=new ll(cl,[Eu],(function(e){return function(e){for(var t={},n=[],i=null,a=0;a<e.length;a++){var r=e[a];r.token===Pt&&(i=r.value),1073741824&r.flags&&n.push(r.token),r.index=a,t[Zn(r.token)]=r}return{factory:null,providersByKey:t,providers:e,modules:n,scope:i}}([Pi(512,sn,ln,[[8,[np,Sp,sf,uf,zp,Wp,Zp,vg,kg,Sb,jw,o_,qO,Kj,hz,aq,rO,UE,AG,QG,jG,nX,kK,LK]],[3,sn],Ne]),Pi(5120,qa,Nr,[[3,qa]]),Pi(4608,yo,bo,[qa]),Pi(4608,VS,VS,[]),Pi(4608,ub,ub,[]),Pi(4608,Xu,Xu,[]),Pi(4608,Rd,Rd,[sn,Nt,Nd,Ed]),Pi(4608,jc,jc,[]),Pi(5120,xa,Rr,[er]),Pi(5120,Ra,Fa,[]),Pi(5120,An,Pr,[]),Pi(5120,Dn,Lr,[]),Pi(4608,cg,hg,[kl]),Pi(6144,gn,null,[cg]),Pi(4608,tg,ig,[]),Pi(5120,Hm,(function(e,t,n,i,a,r,s,l){return[new Qm(e,t,n),new ug(i),new ag(a,r,s,l)]}),[kl,er,Va,kl,kl,tg,za,[2,ng]]),Pi(4608,Bm,Bm,[Hm,er]),Pi(135680,zm,zm,[kl]),Pi(4608,Km,Km,[Bm,zm,Ra]),Pi(5120,N_,wS,[]),Pi(5120,_x,_S,[]),Pi(4608,$x,CS,[kl,N_,_x]),Pi(5120,dn,xS,[Km,$x,er]),Pi(6144,jm,null,[zm]),Pi(4608,ur,ur,[er]),Pi(4608,Bv,Bv,[yv,Iv,sn,Fv,Ev,Nt,er,kl,Wv,[2,Hl]]),Pi(5120,Vv,jv,[Bv]),Pi(5120,ly,oy,[Bv]),Pi(135680,uy,uy,[Bv,Nt,[2,Hl],[2,sy],ly,[3,uy],Iv]),Pi(5120,nC,Pw,[hw]),Pi(4608,kw,kw,[]),Pi(6144,yw,null,[kw]),Pi(135680,Cw,Cw,[hw,kr,$a,Nt,yw]),Pi(4608,bw,bw,[]),Pi(5120,ww,Iw,[hw,jo,_w]),Pi(5120,Fw,Rw,[Lw]),Pi(5120,ja,(function(e){return[e]}),[Fw]),Pi(4608,Xv,fS,[dn,kl]),Pi(4608,gu,vu,[kl,Va,fu]),Pi(4608,yu,yu,[gu,mu]),Pi(4608,_u,_u,[wu]),Pi(5120,ou,(function(e,t,n){return[e,new xu(t,n),new NK]}),[yu,wu,_u]),Pi(4608,du,du,[]),Pi(6144,hu,null,[du]),Pi(4608,pu,pu,[hu]),Pi(6144,Uo,null,[pu]),Pi(4608,qo,bu,[Uo,Nt]),Pi(4608,su,su,[qo]),Pi(4608,rE,rE,[]),Pi(5120,vE,yE,[Bv]),Pi(4608,Zy,rb,[[2,$y],zg]),Pi(4608,Zj,Zj,[]),Pi(5120,RK,HK,[FK]),Pi(4608,gY,gY,[dn,Va]),Pi(4608,SY,SY,[sn,er,Nt,gY,yr]),Pi(4608,GY,GY,[]),Pi(4608,IY,IY,[]),Pi(4608,EY,EY,[]),Pi(4608,ZY,ZY,[]),Pi(4608,KY,KY,[]),Pi(4608,AY,AY,[]),Pi(4608,DY,DY,[IY,AY]),Pi(4608,dG,dG,[]),Pi(4608,Fo,Fo,[qa]),Pi(5120,"BASE_URL",ul,[]),Pi(4608,n_,n_,[su,"BASE_URL"]),Pi(4608,a_,a_,[]),Pi(4608,jK,jK,[n_,hw,a_]),Pi(4608,wO,wO,[su,"BASE_URL"]),Pi(1073742336,Ho,Ho,[]),Pi(1073742336,zj,zj,[]),Pi(1073742336,qj,qj,[]),Pi(1073742336,qg,qg,[]),Pi(1073742336,IE,IE,[]),Pi(1073742336,Yv,Yv,[]),Pi(1073742336,Yy,Yy,[jy,[2,Wy],[2,kl]]),Pi(1073742336,qS,qS,[]),Pi(1073742336,BS,BS,[]),Pi(1073742336,PE,PE,[]),Pi(1073742336,Nh,Nh,[]),Pi(1073742336,Hh,Hh,[]),Pi(1073742336,Bh,Bh,[]),Pi(1073742336,Vh,Vh,[]),Pi(1073742336,jh,jh,[]),Pi(1073742336,Vc,Vc,[]),Pi(1073742336,zc,zc,[]),Pi(1073742336,xd,xd,[]),Pi(1073742336,Sd,Sd,[]),Pi(1073742336,Fd,Fd,[]),Pi(1073742336,Hd,Hd,[]),Pi(1073742336,Bd,Bd,[]),Pi(1073742336,jd,jd,[]),Pi(1073742336,zd,zd,[]),Pi(1073742336,qd,qd,[]),Pi(1073742336,Wd,Wd,[]),Pi(1073742336,Yd,Yd,[]),Pi(1073742336,Xd,Xd,[]),Pi(1073742336,Zd,Zd,[]),Pi(1073742336,Ud,Ud,[]),Pi(1073742336,Jd,Jd,[]),Pi(1073742336,Am,Am,[]),Pi(1073742336,qc,qc,[]),Pi(1073742336,bb,bb,[]),Pi(1073742336,f_,f_,[]),Pi(1024,We,dg,[]),Pi(1024,pr,(function(){return[Ew()]}),[]),Pi(512,Lw,Lw,[Nt]),Pi(1024,La,(function(e,t){return[(n=e,Nm("probe",Fm),Nm("coreTokens",Object.assign(Object.assign({},Rm),function(e){return e.reduce((function(e,t){return e[t.name]=t.token,e}),{})}(n||[]))),function(){return Fm}),Nw(t)];var n}),[[2,pr],Lw]),Pi(512,Na,Na,[[2,La]]),Pi(131584,yr,yr,[er,za,Nt,We,sn,Na]),Pi(1073742336,Fr,Fr,[yr]),Pi(1073742336,fg,fg,[[3,fg]]),Pi(1073742336,ez,ez,[]),Pi(1073742336,zK,zK,[]),Pi(1073742336,uv,uv,[]),Pi(1073742336,Qg,Qg,[]),Pi(1073742336,ev,ev,[]),Pi(1073742336,qv,qv,[]),Pi(1073742336,gy,gy,[]),Pi(1024,xw,Dw,[[3,hw]]),Pi(512,Lk,Nk,[]),Pi(512,mw,mw,[]),Pi(256,_w,{},[]),Pi(1024,Tl,Aw,[Cl,[2,Nl],_w]),Pi(512,Hl,Hl,[Tl,Cl]),Pi(512,$a,$a,[]),Pi(512,kr,_r,[$a,[2,Cr]]),Pi(1024,aw,(function(){return[[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:t_},{path:"outline",component:CO,canActivate:[jK]},{path:"scoreSheet",component:Yj,canActivate:[jK]},{path:"evaluation",component:rz,canActivate:[jK]},{path:"checkList",component:dz,canActivate:[jK]}]]}),[]),Pi(1024,hw,Tw,[Lk,mw,Hl,Nt,kr,$a,aw,_w,[2,sw],[2,nw]]),Pi(1073742336,Ow,Ow,[[2,xw],[2,hw]]),Pi(1073742336,qK,qK,[]),Pi(1073742336,VK,VK,[]),Pi(1073742336,ES,ES,[]),Pi(1073742336,ku,ku,[]),Pi(1073742336,Cu,Cu,[]),Pi(1073742336,xK,xK,[]),Pi(1073742336,UK,UK,[]),Pi(1073742336,cb,cb,[]),Pi(1073742336,kb,kb,[]),Pi(1073742336,WK,WK,[]),Pi(1073742336,YK,YK,[]),Pi(1073742336,Yw,Yw,[]),Pi(1073742336,GK,GK,[]),Pi(1073742336,XK,XK,[]),Pi(1073742336,FE,FE,[]),Pi(1073742336,zy,zy,[jy]),Pi(1073742336,SE,SE,[]),Pi(1073742336,lb,lb,[]),Pi(1073742336,ob,ob,[]),Pi(1073742336,uG,uG,[]),Pi(1073742336,vG,vG,[]),Pi(1073742336,Su,Su,[[3,Su]]),Pi(1073742336,cl,cl,[]),Pi(256,"SpreadsheetClipboard",AV,[]),Pi(256,"SpreadsheetEdit",DV,[]),Pi(256,"SpreadsheetKeyboardNavigation",LV,[]),Pi(256,"SpreadsheetKeyboardShortcut",NV,[]),Pi(256,"SpreadsheetCollaborativeEditing",HV,[]),Pi(256,"SpreadsheetSelection",MV,[]),Pi(256,"SpreadsheetContextMenu",sj,[]),Pi(256,"SpreadsheetFormulaBar",tj,[]),Pi(256,"SpreadsheetRibbon",ej,[]),Pi(256,"SpreadsheetSave",rj,[]),Pi(256,"SpreadsheetOpen",aj,[]),Pi(256,"SpreadsheetSheetTabs",ij,[]),Pi(256,"SpreadsheetDataBind",fH,[]),Pi(256,"SpreadsheetAllModule",hj,[]),Pi(256,"SpreadsheetBasicModule",cj,[]),Pi(256,"SpreadsheetCellFormat",RV,[]),Pi(256,"SpreadsheetNumberFormat",lj,[]),Pi(256,"SpreadsheetFormula",nj,[]),Pi(256,Ua,"USD",[]),Pi(256,Pt,"root",[]),Pi(256,SS,"BrowserAnimations",[]),Pi(256,fu,"XSRF-TOKEN",[]),Pi(256,mu,"X-XSRF-TOKEN",[]),Pi(256,wu,{tokenGetter:ol,whitelistedDomains:["localhost:5000"],blacklistedRoutes:["localhost:5000/auth"]},[]),Pi(256,Jy,sb,[]),Pi(256,FK,{},[])])}));(function(){if(nt)throw new Error("Cannot enable prod mode after platform setup.");tt=!1})(),pg().bootstrapModuleFactory(KK).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zwY0:function(e,t,n){e.exports=function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},i={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},a=function(e){return("0"+e).slice(-2)},r=function(e){return!0===e?1:0};function s(e,t,n){var i;return void 0===n&&(n=!1),function(){var a=this,r=arguments;null!==i&&clearTimeout(i),i=window.setTimeout((function(){i=null,n||e.apply(a,r)}),t),n&&!i&&e.apply(a,r)}}var l=function(e){return e instanceof Array?e:[e]};function o(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function u(e,t,n){var i=window.document.createElement(e);return n=n||"",i.className=t=t||"",void 0!==n&&(i.textContent=n),i}function c(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function h(e,t){var n=u("div","numInputWrapper"),i=u("input","numInput "+e),a=u("span","arrowUp"),r=u("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var s in t)i.setAttribute(s,t[s]);return n.appendChild(i),n.appendChild(a),n.appendChild(r),n}var d=function(){},p=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},f={D:d,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*r(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),a=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return a.setDate(a.getDate()-a.getDay()+n.firstDayOfWeek),a},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:d,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:d,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},m={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},g={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[g.w(e,t,n)]},F:function(e,t,n){return p(g.n(e,t,n)-1,!1,t)},G:function(e,t,n){return a(g.h(e,t,n))},H:function(e){return a(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[r(e.getHours()>11)]},M:function(e,t){return p(e.getMonth(),!0,t)},S:function(e){return a(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return a(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return a(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return a(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},v=function(e){var t=e.config,a=void 0===t?n:t,r=e.l10n,s=void 0===r?i:r;return function(e,t,n){var i=n||s;return void 0!==a.formatDate?a.formatDate(e,t,i):t.split("").map((function(t,n,r){return g[t]&&"\\"!==r[n-1]?g[t](e,i,a):"\\"!==t?t:""})).join("")}},y=function(e){var t=e.config,a=void 0===t?n:t,r=e.l10n,s=void 0===r?i:r;return function(e,t,i,r){if(0===e||e){var l,o=r||s,u=e;if(e instanceof Date)l=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)l=new Date(e);else if("string"==typeof e){var c=t||(a||n).dateFormat,h=String(e).trim();if("today"===h)l=new Date,i=!0;else if(/Z$/.test(h)||/GMT$/.test(h))l=new Date(e);else if(a&&a.parseDate)l=a.parseDate(e,c);else{l=a&&a.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d=void 0,p=[],g=0,v=0,y="";g<c.length;g++){var b=c[g],k="\\"===b;if(m[b]&&"\\"!==c[g-1]&&!k){y+=m[b];var C=new RegExp(y).exec(e);C&&(d=!0)&&p["Y"!==b?"push":"unshift"]({fn:f[b],val:C[++v]})}else k||(y+=".");p.forEach((function(e){return l=(0,e.fn)(l,e.val,o)||l}))}l=d?l:void 0}}if(l instanceof Date&&!isNaN(l.getTime()))return!0===i&&l.setHours(0,0,0,0),l;a.errorHandler(new Error("Invalid date provided: "+u))}}};function b(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function k(d,f){var g={config:e({},n,w.defaultConfig),l10n:i};function k(e){return e.bind(g)}function C(){var e=g.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer){var t=(g.days.offsetWidth+1)*e.showMonths;g.daysContainer.style.width=t+"px",g.calendarContainer.style.width=t+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display")}}))}function _(e){0===g.selectedDates.length&&te(),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==g.amPM&&e.target===g.amPM&&(g.amPM.textContent=g.l10n.amPM[r(g.amPM.textContent===g.l10n.amPM[0])]);var i=parseFloat(n.getAttribute("min")),s=parseFloat(n.getAttribute("max")),l=parseFloat(n.getAttribute("step")),o=parseInt(n.value,10),u=o+l*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==n.value&&2===n.value.length){var c=n===g.hourElement,h=n===g.minuteElement;u<i?(u=s+u+r(!c)+(r(c)&&r(!g.amPM)),h&&L(void 0,-1,g.hourElement)):u>s&&(u=n===g.hourElement?u-s-r(!g.amPM):i,h&&L(void 0,1,g.hourElement)),g.amPM&&c&&(1===l?u+o===23:Math.abs(u-o)>l)&&(g.amPM.textContent=g.l10n.amPM[r(g.amPM.textContent===g.l10n.amPM[0])]),n.value=a(u)}}(e);var t=g._input.value;x(),ge(),g._input.value!==t&&g._debouncedChange()}function x(){if(void 0!==g.hourElement&&void 0!==g.minuteElement){var e=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(g.minuteElement.value,10)||0)%60,n=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0;void 0!==g.amPM&&(e=e%12+12*r(g.amPM.textContent===g.l10n.amPM[1]));var i=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===b(g.latestSelectedDateObj,g.config.minDate,!0);if(void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===b(g.latestSelectedDateObj,g.config.maxDate,!0)){var a=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate;(e=Math.min(e,a.getHours()))===a.getHours()&&(t=Math.min(t,a.getMinutes())),t===a.getMinutes()&&(n=Math.min(n,a.getSeconds()))}if(i){var s=void 0!==g.config.minTime?g.config.minTime:g.config.minDate;(e=Math.max(e,s.getHours()))===s.getHours()&&(t=Math.max(t,s.getMinutes())),t===s.getMinutes()&&(n=Math.max(n,s.getSeconds()))}O(e,t,n)}}function S(e){var t=e||g.latestSelectedDateObj;t&&O(t.getHours(),t.getMinutes(),t.getSeconds())}function E(){var e=g.config.defaultHour,t=g.config.defaultMinute,n=g.config.defaultSeconds;if(void 0!==g.config.minDate){var i=g.config.minDate.getHours(),a=g.config.minDate.getMinutes();(e=Math.max(e,i))===i&&(t=Math.max(a,t)),e===i&&t===a&&(n=g.config.minDate.getSeconds())}if(void 0!==g.config.maxDate){var r=g.config.maxDate.getHours(),s=g.config.maxDate.getMinutes();(e=Math.min(e,r))===r&&(t=Math.min(s,t)),e===r&&t===s&&(n=g.config.maxDate.getSeconds())}O(e,t,n)}function O(e,t,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(e%24,t,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=a(g.config.time_24hr?e:(12+e)%12+12*r(e%12==0)),g.minuteElement.value=a(t),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[r(e>=12)]),void 0!==g.secondElement&&(g.secondElement.value=a(n)))}function I(e){var t=parseInt(e.target.value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&K(t)}function A(e,t,n,i){return t instanceof Array?t.forEach((function(t){return A(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return A(e,t,n,i)})):(e.addEventListener(t,n,i),void g._handlers.push({element:e,event:t,handler:n,options:i}))}function D(e){return function(t){1===t.which&&e(t)}}function M(){he("onChange")}function T(e,t){var n=void 0!==e?g.parseDate(e):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now),i=g.currentYear,a=g.currentMonth;try{void 0!==n&&(g.currentYear=n.getFullYear(),g.currentMonth=n.getMonth())}catch(r){r.message="Invalid date supplied: "+n,g.config.errorHandler(r)}t&&g.currentYear!==i&&(he("onYearChange"),j()),!t||g.currentYear===i&&g.currentMonth===a||he("onMonthChange"),g.redraw()}function P(e){~e.target.className.indexOf("arrow")&&L(e,e.target.classList.contains("arrowUp")?1:-1)}function L(e,t,n){var i=e&&e.target,a=n||i&&i.parentNode&&i.parentNode.firstChild,r=de("increment");r.delta=t,a&&a.dispatchEvent(r)}function N(e,t,n,i){var a=$(t,!0),r=u("span","flatpickr-day "+e,t.getDate().toString());return r.dateObj=t,r.$i=i,r.setAttribute("aria-label",g.formatDate(t,g.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===b(t,g.now)&&(g.todayDateElem=r,r.classList.add("today"),r.setAttribute("aria-current","date")),a?(r.tabIndex=-1,pe(t)&&(r.classList.add("selected"),g.selectedDateElem=r,"range"===g.config.mode&&(o(r,"startRange",g.selectedDates[0]&&0===b(t,g.selectedDates[0],!0)),o(r,"endRange",g.selectedDates[1]&&0===b(t,g.selectedDates[1],!0)),"nextMonthDay"===e&&r.classList.add("inRange")))):r.classList.add("flatpickr-disabled"),"range"===g.config.mode&&function(e){return!("range"!==g.config.mode||g.selectedDates.length<2)&&b(e,g.selectedDates[0])>=0&&b(e,g.selectedDates[1])<=0}(t)&&!pe(t)&&r.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(t)+"</span>"),he("onDayCreate",r),r}function R(e){e.focus(),"range"===g.config.mode&&Q(e)}function F(e){for(var t=e>0?g.config.showMonths:-1,n=e>0?0:g.config.showMonths-1;n!=t;n+=e)for(var i=g.daysContainer.children[n],a=e>0?i.children.length:-1,r=e>0?0:i.children.length-1;r!=a;r+=e){var s=i.children[r];if(-1===s.className.indexOf("hidden")&&$(s.dateObj))return s}}function H(e,t){var n=Z(document.activeElement||document.body),i=void 0!==e?e:n?document.activeElement:void 0!==g.selectedDateElem&&Z(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&Z(g.todayDateElem)?g.todayDateElem:F(t>0?1:-1);return void 0===i?g._input.focus():n?void function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():g.currentMonth,i=t>0?g.config.showMonths:-1,a=t>0?1:-1,r=n-g.currentMonth;r!=i;r+=a)for(var s=g.daysContainer.children[r],l=s.children.length,o=n-g.currentMonth===r?e.$i+t:t<0?s.children.length-1:0;o>=0&&o<l&&o!=(t>0?l:-1);o+=a){var u=s.children[o];if(-1===u.className.indexOf("hidden")&&$(u.dateObj)&&Math.abs(e.$i-o)>=Math.abs(t))return R(u)}g.changeMonth(a),H(F(a),0)}(i,t):R(i)}function B(e,t){for(var n=(new Date(e,t,1).getDay()-g.l10n.firstDayOfWeek+7)%7,i=g.utils.getDaysInMonth((t-1+12)%12),a=g.utils.getDaysInMonth(t),r=window.document.createDocumentFragment(),s=g.config.showMonths>1,l=s?"prevMonthDay hidden":"prevMonthDay",o=s?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,h=0;c<=i;c++,h++)r.appendChild(N(l,new Date(e,t-1,c),c,h));for(c=1;c<=a;c++,h++)r.appendChild(N("",new Date(e,t,c),c,h));for(var d=a+1;d<=42-n&&(1===g.config.showMonths||h%7!=0);d++,h++)r.appendChild(N(o,new Date(e,t+1,d%a),d,h));var p=u("div","dayContainer");return p.appendChild(r),p}function V(){if(void 0!==g.daysContainer){c(g.daysContainer),g.weekNumbers&&c(g.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<g.config.showMonths;t++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),e.appendChild(B(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(e),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&Q()}}function j(){if(!(g.config.showMonths>1||"dropdown"!==g.config.monthSelectorType)){var e=function(e){return!(void 0!==g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&e<g.config.minDate.getMonth()||void 0!==g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()&&e>g.config.maxDate.getMonth())};g.monthsDropdownContainer.tabIndex=-1,g.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=u("option","flatpickr-monthDropdown-month");n.value=new Date(g.currentYear,t).getMonth().toString(),n.textContent=p(t,g.config.shorthandCurrentMonth,g.l10n),n.tabIndex=-1,g.currentMonth===t&&(n.selected=!0),g.monthsDropdownContainer.appendChild(n)}}}function z(){var e,t=u("div","flatpickr-month"),n=window.document.createDocumentFragment();g.config.showMonths>1||"static"===g.config.monthSelectorType?e=u("span","cur-month"):(g.monthsDropdownContainer=u("select","flatpickr-monthDropdown-months"),A(g.monthsDropdownContainer,"change",(function(e){var t=parseInt(e.target.value,10);g.changeMonth(t-g.currentMonth),he("onMonthChange")})),j(),e=g.monthsDropdownContainer);var i=h("cur-year",{tabindex:"-1"}),a=i.getElementsByTagName("input")[0];a.setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&a.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(a.setAttribute("max",g.config.maxDate.getFullYear().toString()),a.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear());var r=u("div","flatpickr-current-month");return r.appendChild(e),r.appendChild(i),n.appendChild(r),t.appendChild(n),{container:t,yearElement:a,monthElement:e}}function q(){c(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var e=g.config.showMonths;e--;){var t=z();g.yearElements.push(t.yearElement),g.monthElements.push(t.monthElement),g.monthNav.appendChild(t.container)}g.monthNav.appendChild(g.nextMonthNav)}function U(){g.weekdayContainer?c(g.weekdayContainer):g.weekdayContainer=u("div","flatpickr-weekdays");for(var e=g.config.showMonths;e--;){var t=u("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(t)}return W(),g.weekdayContainer}function W(){if(g.weekdayContainer){var e=g.l10n.firstDayOfWeek,t=g.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Y(e,t){void 0===t&&(t=!0);var n=t?e:e-g.currentMonth;n<0&&!0===g._hidePrevMonthArrow||n>0&&!0===g._hideNextMonthArrow||(g.currentMonth+=n,(g.currentMonth<0||g.currentMonth>11)&&(g.currentYear+=g.currentMonth>11?1:-1,g.currentMonth=(g.currentMonth+12)%12,he("onYearChange"),j()),V(),he("onMonthChange"),fe())}function G(e){return!(!g.config.appendTo||!g.config.appendTo.contains(e))||g.calendarContainer.contains(e)}function X(e){if(g.isOpen&&!g.config.inline){var t="function"==typeof(s=e).composedPath?s.composedPath()[0]:s.target,n=G(t),i=t===g.input||t===g.altInput||g.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(g.input)||~e.path.indexOf(g.altInput)),a="blur"===e.type?i&&e.relatedTarget&&!G(e.relatedTarget):!i&&!n&&!G(e.relatedTarget),r=!g.config.ignoredFocusElements.some((function(e){return e.contains(t)}));a&&r&&(void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&_(),g.close(),"range"===g.config.mode&&1===g.selectedDates.length&&(g.clear(!1),g.redraw()))}var s}function K(e){if(!(!e||g.config.minDate&&e<g.config.minDate.getFullYear()||g.config.maxDate&&e>g.config.maxDate.getFullYear())){var t=g.currentYear!==e;g.currentYear=e||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),t&&(g.redraw(),he("onYearChange"),j())}}function $(e,t){void 0===t&&(t=!0);var n=g.parseDate(e,void 0,t);if(g.config.minDate&&n&&b(n,g.config.minDate,void 0!==t?t:!g.minDateHasTime)<0||g.config.maxDate&&n&&b(n,g.config.maxDate,void 0!==t?t:!g.maxDateHasTime)>0)return!1;if(0===g.config.enable.length&&0===g.config.disable.length)return!0;if(void 0===n)return!1;for(var i=g.config.enable.length>0,a=i?g.config.enable:g.config.disable,r=0,s=void 0;r<a.length;r++){if("function"==typeof(s=a[r])&&s(n))return i;if(s instanceof Date&&void 0!==n&&s.getTime()===n.getTime())return i;if("string"==typeof s&&void 0!==n){var l=g.parseDate(s,void 0,!0);return l&&l.getTime()===n.getTime()?i:!i}if("object"==typeof s&&void 0!==n&&s.from&&s.to&&n.getTime()>=s.from.getTime()&&n.getTime()<=s.to.getTime())return i}return!i}function Z(e){return void 0!==g.daysContainer&&-1===e.className.indexOf("hidden")&&g.daysContainer.contains(e)}function J(e){var t=e.target===g._input,n=g.config.allowInput,i=g.isOpen&&(!n||!t),a=g.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return g.setDate(g._input.value,!0,e.target===g.altInput?g.config.altFormat:g.config.dateFormat),e.target.blur();g.open()}else if(G(e.target)||i||a){var r=!!g.timeContainer&&g.timeContainer.contains(e.target);switch(e.keyCode){case 13:r?(e.preventDefault(),_(),se()):le(e);break;case 27:e.preventDefault(),se();break;case 8:case 46:t&&!g.config.allowInput&&(e.preventDefault(),g.clear());break;case 37:case 39:if(r||t)g.hourElement&&g.hourElement.focus();else if(e.preventDefault(),void 0!==g.daysContainer&&(!1===n||document.activeElement&&Z(document.activeElement))){var s=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Y(s),H(F(1),0)):H(void 0,s)}break;case 38:case 40:e.preventDefault();var l=40===e.keyCode?1:-1;g.daysContainer&&void 0!==e.target.$i||e.target===g.input||e.target===g.altInput?e.ctrlKey?(e.stopPropagation(),K(g.currentYear-l),H(F(1),0)):r||H(void 0,7*l):e.target===g.currentYearElement?K(g.currentYear-l):g.config.enableTime&&(!r&&g.hourElement&&g.hourElement.focus(),_(e),g._debouncedChange());break;case 9:if(r){var o=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].concat(g.pluginElements).filter((function(e){return e})),u=o.indexOf(e.target);if(-1!==u){var c=o[u+(e.shiftKey?-1:1)];e.preventDefault(),(c||g._input).focus()}}else!g.config.noCalendar&&g.daysContainer&&g.daysContainer.contains(e.target)&&e.shiftKey&&(e.preventDefault(),g._input.focus())}}if(void 0!==g.amPM&&e.target===g.amPM)switch(e.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],x(),ge();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],x(),ge()}(t||G(e.target))&&he("onKeyDown",e)}function Q(e){if(1===g.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():g.days.firstElementChild.dateObj.getTime(),n=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),i=Math.min(t,g.selectedDates[0].getTime()),a=Math.max(t,g.selectedDates[0].getTime()),r=!1,s=0,l=0,o=i;o<a;o+=864e5)$(new Date(o),!0)||(r=r||o>i&&o<a,o<n&&(!s||o>s)?s=o:o>n&&(!l||o<l)&&(l=o));for(var u=0;u<g.config.showMonths;u++)for(var c=g.daysContainer.children[u],h=function(i,a){var o,u,h,d=c.children[i],p=d.dateObj.getTime(),f=s>0&&p<s||l>0&&p>l;return f?(d.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){d.classList.remove(e)})),"continue"):r&&!f?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){d.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=g.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&p===n?d.classList.add("startRange"):n>t&&p===n&&d.classList.add("endRange"),p>=s&&(0===l||p<=l)&&(u=n,h=t,(o=p)>Math.min(u,h)&&o<Math.max(u,h))&&d.classList.add("inRange"))))},d=0,p=c.children.length;d<p;d++)h(d)}}function ee(){!g.isOpen||g.config.static||g.config.inline||ae()}function te(){g.setDate(void 0!==g.config.minDate?new Date(g.config.minDate.getTime()):new Date,!0),E(),ge()}function ne(e){return function(t){var n=g.config["_"+e+"Date"]=g.parseDate(t,g.config.dateFormat),i=g.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(g["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),g.selectedDates&&(g.selectedDates=g.selectedDates.filter((function(e){return $(e)})),g.selectedDates.length||"min"!==e||S(n),ge()),g.daysContainer&&(re(),void 0!==n?g.currentYearElement[e]=n.getFullYear().toString():g.currentYearElement.removeAttribute(e),g.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function ie(){"object"!=typeof g.config.locale&&void 0===w.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=e({},w.l10ns.default,"object"==typeof g.config.locale?g.config.locale:"default"!==g.config.locale?w.l10ns[g.config.locale]:void 0),m.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")",void 0===e({},f,JSON.parse(JSON.stringify(d.dataset||{}))).time_24hr&&void 0===w.defaultConfig.time_24hr&&(g.config.time_24hr=g.l10n.time_24hr),g.formatDate=v(g),g.parseDate=y({config:g.config,l10n:g.l10n})}function ae(e){if(void 0!==g.calendarContainer){he("onPreCalendarPosition");var t=e||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=g.calendarContainer.offsetWidth,a=g.config.position.split(" "),r=a[0],s=a.length>1?a[1]:null,l=t.getBoundingClientRect(),u=window.innerHeight-l.bottom,c="above"===r||"below"!==r&&u<n&&l.top>n,h=window.pageYOffset+l.top+(c?-n-2:t.offsetHeight+2);if(o(g.calendarContainer,"arrowTop",!c),o(g.calendarContainer,"arrowBottom",c),!g.config.inline){var d=window.pageXOffset+l.left-(null!=s&&"center"===s?(i-l.width)/2:0),p=window.document.body.offsetWidth-(window.pageXOffset+l.right),f=d+i>window.document.body.offsetWidth,m=p+i>window.document.body.offsetWidth;if(o(g.calendarContainer,"rightMost",f),!g.config.static)if(g.calendarContainer.style.top=h+"px",f)if(m){var v=document.styleSheets[0];if(void 0===v)return;var y=window.document.body.offsetWidth,b=Math.max(0,y/2-i/2),k=v.cssRules.length,C="{left:"+l.left+"px;right:auto;}";o(g.calendarContainer,"rightMost",!1),o(g.calendarContainer,"centerMost",!0),v.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+C,k),g.calendarContainer.style.left=b+"px",g.calendarContainer.style.right="auto"}else g.calendarContainer.style.left="auto",g.calendarContainer.style.right=p+"px";else g.calendarContainer.style.left=d+"px",g.calendarContainer.style.right="auto"}}}function re(){g.config.noCalendar||g.isMobile||(fe(),V())}function se(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function le(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,i=g.latestSelectedDateObj=new Date(n.dateObj.getTime()),a=(i.getMonth()<g.currentMonth||i.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode;if(g.selectedDateElem=n,"single"===g.config.mode)g.selectedDates=[i];else if("multiple"===g.config.mode){var r=pe(i);r?g.selectedDates.splice(parseInt(r),1):g.selectedDates.push(i)}else"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=i,g.selectedDates.push(i),0!==b(i,g.selectedDates[0],!0)&&g.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(x(),a){var s=g.currentYear!==i.getFullYear();g.currentYear=i.getFullYear(),g.currentMonth=i.getMonth(),s&&(he("onYearChange"),j()),he("onMonthChange")}fe(),V(),ge(),g.config.enableTime&&setTimeout((function(){return g.showTimeInput=!0}),50),a||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():R(n),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect&&("single"===g.config.mode&&!g.config.enableTime||"range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime)&&se(),M()}}g.parseDate=y({config:g.config,l10n:g.l10n}),g._handlers=[],g.pluginElements=[],g.loadedPlugins=[],g._bind=A,g._setHoursFromDate=S,g._positionCalendar=ae,g.changeMonth=Y,g.changeYear=K,g.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],g.latestSelectedDateObj=void 0,!0===t&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),g.showTimeInput=!1,!0===g.config.enableTime&&E(),g.redraw(),e&&he("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),he("onClose")},g._createElement=u,g.destroy=function(){void 0!==g.config&&he("onDestroy");for(var e=g._handlers.length;e--;){var t=g._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var n=g.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly"),g.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete g[e]}catch(t){}}))},g.isEnabled=$,g.jumpToDate=T,g.open=function(e,t){if(void 0===t&&(t=g._positionElement),!0===g.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void he("onOpen");if(!g._input.disabled&&!g.config.inline){var n=g.isOpen;g.isOpen=!0,n||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),he("onOpen"),ae(t)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(0===g.selectedDates.length&&te(),!1!==g.config.allowInput||void 0!==e&&g.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return g.hourElement.select()}),50))}},g.redraw=re,g.set=function(e,n){if(null!==e&&"object"==typeof e)for(var i in Object.assign(g.config,e),e)void 0!==oe[i]&&oe[i].forEach((function(e){return e()}));else g.config[e]=n,void 0!==oe[e]?oe[e].forEach((function(e){return e()})):t.indexOf(e)>-1&&(g.config[e]=l(n));g.redraw(),ge(!1)},g.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=g.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return g.clear(t);ue(e,n),g.showTimeInput=g.selectedDates.length>0,g.latestSelectedDateObj=g.selectedDates[g.selectedDates.length-1],g.redraw(),T(),S(),0===g.selectedDates.length&&g.clear(!1),ge(t),t&&he("onChange")},g.toggle=function(e){if(!0===g.isOpen)return g.close();g.open(e)};var oe={locale:[ie,W],showMonths:[q,C,U],minDate:[T],maxDate:[T]};function ue(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return g.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[g.parseDate(e,t)];else if("string"==typeof e)switch(g.config.mode){case"single":case"time":n=[g.parseDate(e,t)];break;case"multiple":n=e.split(g.config.conjunction).map((function(e){return g.parseDate(e,t)}));break;case"range":n=e.split(g.l10n.rangeSeparator).map((function(e){return g.parseDate(e,t)}))}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));g.selectedDates=n.filter((function(e){return e instanceof Date&&$(e,!1)})),"range"===g.config.mode&&g.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function ce(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?g.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:g.parseDate(e.from,void 0),to:g.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function he(e,t){if(void 0!==g.config){var n=g.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](g.selectedDates,g.input.value,g,t);"onChange"===e&&(g.input.dispatchEvent(de("change")),g.input.dispatchEvent(de("input")))}}function de(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function pe(e){for(var t=0;t<g.selectedDates.length;t++)if(0===b(g.selectedDates[t],e))return""+t;return!1}function fe(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach((function(e,t){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),g.config.showMonths>1||"static"===g.config.monthSelectorType?g.monthElements[t].textContent=p(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ":g.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function me(e){return g.selectedDates.map((function(t){return g.formatDate(t,e)})).filter((function(e,t,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(e)===t})).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function ge(e){void 0===e&&(e=!0),void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=me(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=me(g.config.altFormat)),!1!==e&&he("onValueUpdate")}function ve(e){var t=g.prevMonthNav.contains(e.target),n=g.nextMonthNav.contains(e.target);t||n?Y(t?-1:1):g.yearElements.indexOf(e.target)>=0?e.target.select():e.target.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):e.target.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}return function(){g.element=g.input=d,g.isOpen=!1,function(){var i=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=e({},f,JSON.parse(JSON.stringify(d.dataset||{}))),r={};g.config.parseDate=a.parseDate,g.config.formatDate=a.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(e){g.config._enable=ce(e)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(e){g.config._disable=ce(e)}});var s="time"===a.mode;a.dateFormat||!a.enableTime&&!s||(r.dateFormat=a.noCalendar||s?"H:i"+(a.enableSeconds?":S":""):(w.defaultConfig.dateFormat||n.dateFormat)+" H:i"+(a.enableSeconds?":S":"")),a.altInput&&(a.enableTime||s)&&!a.altFormat&&(r.altFormat=a.noCalendar||s?"h:i"+(a.enableSeconds?":S K":" K"):(w.defaultConfig.altFormat||n.altFormat)+" h:i"+(a.enableSeconds?":S":"")+" K"),a.altInputClass||(g.config.altInputClass=g.input.className+" "+g.config.altInputClass),Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:ne("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:ne("max")});var o=function(e){return function(t){g.config["min"===e?"_minTime":"_maxTime"]=g.parseDate(t,"H:i:S")}};Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:o("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:o("max")}),"time"===a.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,r,a);for(var u=0;u<i.length;u++)g.config[i[u]]=!0===g.config[i[u]]||"true"===g.config[i[u]];for(t.filter((function(e){return void 0!==g.config[e]})).forEach((function(e){g.config[e]=l(g.config[e]||[]).map(k)})),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable.length&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<g.config.plugins.length;u++){var c=g.config.plugins[u](g)||{};for(var h in c)t.indexOf(h)>-1?g.config[h]=l(c[h]).map(k).concat(g.config[h]):void 0===a[h]&&(g.config[h]=c[h])}he("onParseConfig")}(),ie(),g.input=g.config.wrap?d.querySelector("[data-input]"):d,g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=u(g.input.nodeName,g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),g._positionElement=g.config.positionElement||g._input):g.config.errorHandler(new Error("Invalid input element specified")),function(){g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date;var e=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null);e&&ue(e,g.config.dateFormat),g._initialDate=g.selectedDates.length>0?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),g.selectedDates.length>0&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(g.config.minDate.getHours()>0||g.config.minDate.getMinutes()>0||g.config.minDate.getSeconds()>0),g.maxDateHasTime=!!g.config.maxDate&&(g.config.maxDate.getHours()>0||g.config.maxDate.getMinutes()>0||g.config.maxDate.getSeconds()>0),Object.defineProperty(g,"showTimeInput",{get:function(){return g._showTimeInput},set:function(e){g._showTimeInput=e,g.calendarContainer&&o(g.calendarContainer,"showTimeInput",e),g.isOpen&&ae()}})}(),g.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=g.currentMonth),void 0===t&&(t=g.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:g.l10n.daysInMonth[e]}},g.isMobile||function(){var e=window.document.createDocumentFragment();if(g.calendarContainer=u("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,!g.config.noCalendar){if(e.appendChild((g.monthNav=u("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=u("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=u("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,q(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(e){g.__hidePrevMonthArrow!==e&&(o(g.prevMonthNav,"flatpickr-disabled",e),g.__hidePrevMonthArrow=e)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(e){g.__hideNextMonthArrow!==e&&(o(g.nextMonthNav,"flatpickr-disabled",e),g.__hideNextMonthArrow=e)}}),g.currentYearElement=g.yearElements[0],fe(),g.monthNav)),g.innerContainer=u("div","flatpickr-innerContainer"),g.config.weekNumbers){var t=function(){g.calendarContainer.classList.add("hasWeeks");var e=u("div","flatpickr-weekwrapper");e.appendChild(u("span","flatpickr-weekday",g.l10n.weekAbbreviation));var t=u("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;g.innerContainer.appendChild(n),g.weekNumbers=i,g.weekWrapper=n}g.rContainer=u("div","flatpickr-rContainer"),g.rContainer.appendChild(U()),g.daysContainer||(g.daysContainer=u("div","flatpickr-days"),g.daysContainer.tabIndex=-1),V(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),e.appendChild(g.innerContainer)}g.config.enableTime&&e.appendChild(function(){g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar"),g.timeContainer=u("div","flatpickr-time"),g.timeContainer.tabIndex=-1;var e=u("span","flatpickr-time-separator",":"),t=h("flatpickr-hour",{"aria-label":g.l10n.hourAriaLabel});g.hourElement=t.getElementsByTagName("input")[0];var n=h("flatpickr-minute",{"aria-label":g.l10n.minuteAriaLabel});if(g.minuteElement=n.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=a(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?g.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(g.config.defaultHour)),g.minuteElement.value=a(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():g.config.defaultMinute),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.timeContainer.appendChild(t),g.timeContainer.appendChild(e),g.timeContainer.appendChild(n),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds){g.timeContainer.classList.add("hasSeconds");var i=h("flatpickr-second");g.secondElement=i.getElementsByTagName("input")[0],g.secondElement.value=a(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():g.config.defaultSeconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.timeContainer.appendChild(u("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(i)}return g.config.time_24hr||(g.amPM=u("span","flatpickr-am-pm",g.l10n.amPM[r((g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour)>11)]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer}()),o(g.calendarContainer,"rangeMode","range"===g.config.mode),o(g.calendarContainer,"animate",!0===g.config.animate),o(g.calendarContainer,"multiMonth",g.config.showMonths>1),g.calendarContainer.appendChild(e);var s=void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType;if((g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!s&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)){var l=u("div","flatpickr-wrapper");g.element.parentNode&&g.element.parentNode.insertBefore(l,g.element),l.appendChild(g.element),g.altInput&&l.appendChild(g.altInput),l.appendChild(g.calendarContainer)}g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)}(),function(){if(g.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+e+"]"),(function(t){return A(t,"click",g[e])}))})),g.isMobile)!function(){var e=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=u("input",g.input.className+" flatpickr-mobile"),g.mobileInput.step=g.input.getAttribute("step")||"any",g.mobileInput.tabIndex=1,g.mobileInput.type=e,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",g.selectedDates.length>0&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(t){}A(g.mobileInput,"change",(function(e){g.setDate(e.target.value,!1,g.mobileFormatStr),he("onChange"),he("onClose")}))}();else{var e=s(ee,50);g._debouncedChange=s(M,300),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&A(g.daysContainer,"mouseover",(function(e){"range"===g.config.mode&&Q(e.target)})),A(window.document.body,"keydown",J),g.config.inline||g.config.static||A(window,"resize",e),void 0!==window.ontouchstart?A(window.document,"touchstart",X):A(window.document,"mousedown",D(X)),A(window.document,"focus",X,{capture:!0}),!0===g.config.clickOpens&&(A(g._input,"focus",g.open),A(g._input,"mousedown",D(g.open))),void 0!==g.daysContainer&&(A(g.monthNav,"mousedown",D(ve)),A(g.monthNav,["keyup","increment"],I),A(g.daysContainer,"mousedown",D(le))),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&(A(g.timeContainer,["increment"],_),A(g.timeContainer,"blur",_,{capture:!0}),A(g.timeContainer,"mousedown",D(P)),A([g.hourElement,g.minuteElement],["focus","click"],(function(e){return e.target.select()})),void 0!==g.secondElement&&A(g.secondElement,"focus",(function(){return g.secondElement&&g.secondElement.select()})),void 0!==g.amPM&&A(g.amPM,"mousedown",D((function(e){_(e),M()}))))}}(),(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&S(g.config.noCalendar?g.latestSelectedDateObj||g.config.minDate:void 0),ge(!1)),C(),g.showTimeInput=g.selectedDates.length>0||g.config.noCalendar;var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!g.isMobile&&i&&ae(),he("onReady")}(),g}function C(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],a=0;a<n.length;a++){var r=n[a];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=k(r,t||{}),i.push(r._flatpickr)}catch(s){console.error(s)}}return 1===i.length?i[0]:i}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},a=0,r=t;a<r.length;a++){var s=r[a];i(s)}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return C(this,e)},HTMLElement.prototype.flatpickr=function(e){return C([this],e)});var w=function(e,t){return"string"==typeof e?C(window.document.querySelectorAll(e),t):e instanceof Node?C([e],t):C(e,t)};return w.defaultConfig={},w.l10ns={en:e({},i),default:e({},i)},w.localize=function(t){w.l10ns.default=e({},w.l10ns.default,t)},w.setDefaults=function(t){w.defaultConfig=e({},w.defaultConfig,t)},w.parseDate=y({}),w.formatDate=v({}),w.compareDates=b,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return C(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=w),w}()}},[[0,0]]]);