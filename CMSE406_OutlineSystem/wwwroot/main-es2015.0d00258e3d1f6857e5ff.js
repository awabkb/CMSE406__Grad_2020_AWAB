(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"5RHE":function(e,t,n){var i,s;i=function(){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){if("object"!==i(e.console)){e.console={};for(var t,n,s=e.console,l=function(){},r=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=r.pop();)s[t]||(s[t]={});for(;n=a.pop();)s[n]||(s[n]=l)}var o,h,c,d,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===e.btoa&&(e.btoa=function(e){var t,n,i,s,l,r=0,a=0,o="",h=[];if(!e)return e;for(;t=(l=e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<8|e.charCodeAt(r++))>>18&63,n=l>>12&63,i=l>>6&63,s=63&l,h[a++]=u.charAt(t)+u.charAt(n)+u.charAt(i)+u.charAt(s),r<e.length;);o=h.join("");var c=e.length%3;return(c?o.slice(0,c-3):o)+"===".slice(c||3)}),void 0===e.atob&&(e.atob=function(e){var t,n,i,s,l,r,a=0,o=0,h=[];if(!e)return e;for(e+="";t=(r=u.indexOf(e.charAt(a++))<<18|u.indexOf(e.charAt(a++))<<12|(s=u.indexOf(e.charAt(a++)))<<6|(l=u.indexOf(e.charAt(a++))))>>16&255,n=r>>8&255,i=255&r,h[o++]=64==s?String.fromCharCode(t):64==l?String.fromCharCode(t,n):String.fromCharCode(t,n,i),a<e.length;);return h.join("")}),Array.prototype.map||(Array.prototype.map=function(e){if(null==this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,i=new Array(n),s=1<arguments.length?arguments[1]:void 0,l=0;l<n;l++)l in t&&(i[l]=e.call(s,t[l],l,t));return i}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(null==this||"function"!=typeof e)throw new TypeError;for(var n=Object(this),i=n.length>>>0,s=0;s<i;s++)s in n&&e.call(t,n[s],s,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],s=0;s<n;){var l=t[s];if(e.call(i,l,s,t))return l;s++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,h=!{toString:null}.propertyIsEnumerable("toString"),d=(c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!==i(e)&&("function"!=typeof e||null===e))throw new TypeError;var t,n,s=[];for(t in e)o.call(e,t)&&s.push(t);if(h)for(n=0;n<d;n++)o.call(e,c[n])&&s.push(c[n]);return s})),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var l,r,a,o,h,c,d,u,p,m,f,g,b,v,y,w,C,x,_,S,k,E,O,I,D,A,M,T,P,L,N,R,F,H,B,V,j,z,q,U,W,Y,$,G,X,K,Z,J,Q,ee,te,ne,ie,se,le,re,ae,oe,he,ce,de,ue=function(l){function r(e){if("object"!==i(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!i],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var r in t[n]){var a=t[n][r];try{a[0].apply(e,i)}catch(n){l.console&&console.error("jsPDF PubSub Error",n.message,n)}a[1]&&s.push(r)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function a(e,t,n,s){var o={},h=[],c=1;"object"===i(e)&&(e=(o=e).orientation,t=o.unit||t,n=o.format||n,s=o.compress||o.compressPdf||s,h=o.filters||(!0===s?["FlateEncode"]:h),c="number"==typeof o.userUnit?Math.abs(o.userUnit):1),t=t||"mm",e=(""+(e||"P")).toLowerCase();var d=o.putOnlyUsedFonts||!0,u={},p={internal:{},__private__:{}};p.__private__.PubSub=r;var m="1.3",f=p.__private__.getPdfVersion=function(){return m},g=(p.__private__.setPdfVersion=function(e){m=e},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),b=(p.__private__.getPageFormats=function(){return g},p.__private__.getPageFormat=function(e){return g[e]});"string"==typeof n&&(n=b(n)),n=n||b("a4");var v,y=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(2)},w=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return e.toFixed(3)},C="00000000000000000000000000000000",x=p.__private__.getFileId=function(){return C},_=p.__private__.setFileId=function(e){return e=e||"12345678901234567890123456789012".split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),C=e};p.setFileId=function(e){return _(e),this},p.getFileId=function(){return x()};var S=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",i=Math.floor(Math.abs(t/60)),s=Math.abs(t%60),l=[n,R(i),"'",R(s),"'"].join("");return["D:",e.getFullYear(),R(e.getMonth()+1),R(e.getDate()),R(e.getHours()),R(e.getMinutes()),R(e.getSeconds()),l].join("")},k=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,i=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),r=parseInt(e.substr(14,2),10);return parseInt(e.substr(16,2),10),parseInt(e.substr(20,2),10),new Date(t,n,i,s,l,r,0)},E=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),"object"===i(e)&&"[object Date]"===Object.prototype.toString.call(e))t=S(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return v=t},O=p.__private__.getCreationDate=function(e){var t=v;return"jsDate"===e&&(t=k(v)),t};p.setCreationDate=function(e){return E(e),this},p.getCreationDate=function(e){return O(e)};var I,D,A,M,T,P,L,N,R=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},F=!1,H=[],B=[],V=0,j=(p.__private__.setCustomOutputDestination=function(e){D=e},p.__private__.resetCustomOutputDestination=function(e){D=void 0},p.__private__.out=function(e){var t;return e="string"==typeof e?e:e.toString(),(t=void 0===D?F?H[I]:B:D).push(e),F||(V+=e.length+1),t}),z=p.__private__.write=function(e){return j(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},q=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},U=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],W=(p.__private__.getStandardFonts=function(e){return U},o.fontSize||16),Y=(p.__private__.setFontSize=p.setFontSize=function(e){return W=e,this},p.__private__.getFontSize=p.getFontSize=function(){return W}),$=o.R2L||!1,G=(p.__private__.setR2L=p.setR2L=function(e){return $=e,this},p.__private__.getR2L=p.getR2L=function(e){return $},p.__private__.setZoomMode=function(e){if(/^\d*\.?\d*\%$/.test(e))A=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');A=e}else A=parseInt(e,10)}),X=(p.__private__.getZoomMode=function(){return A},p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');M=e}),K=(p.__private__.getPageMode=function(){return M},p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');T=e}),Z=(p.__private__.getLayoutMode=function(){return T},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return G(e),K(t),X(n),this},{title:"",subject:"",author:"",keywords:"",creator:""}),J=(p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(Z).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Z[e]},p.__private__.getDocumentProperties=function(e){return Z},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in Z)Z.hasOwnProperty(t)&&e[t]&&(Z[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(Z).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Z[e]=t},0),Q=[],ee={},te={},ne=0,ie=[],se=[],le=new r(p),re=o.hotfixes||[],ae=p.__private__.newObject=function(){var e=oe();return he(e,!0),e},oe=p.__private__.newObjectDeferred=function(){return Q[++J]=function(){return V},J},he=function(e,t){return t="boolean"==typeof t&&t,Q[e]=V,t&&j(e+" 0 obj"),e},ce=p.__private__.newAdditionalObject=function(){var e={objId:oe(),content:""};return se.push(e),e},de=oe(),ue=oe(),pe=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2===t.length&&("g"===t[1]||"G"===t[1])){var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var i="#",s=0;s<3;s++)i+=("0"+Math.floor(255*parseFloat(t[s])).toString(16)).slice(-2);return i},me=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,s=e.ch2,l=e.ch3,r=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new RGBColor(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var h=parseInt(n.substr(1),16);n=h>>16&255,s=h>>8&255,l=255&h}if(void 0===s||void 0===r&&n===s&&s===l)if("string"==typeof n)t=n+" "+a[0];else switch(e.precision){case 2:t=y(n/255)+" "+a[0];break;case 3:default:t=w(n/255)+" "+a[0]}else if(void 0===r||"object"===i(r)){if(r&&!isNaN(r.a)&&0===r.a)return["1.000","1.000","1.000",a[1]].join(" ");if("string"==typeof n)t=[n,s,l,a[1]].join(" ");else switch(e.precision){case 2:t=[y(n/255),y(s/255),y(l/255),a[1]].join(" ");break;default:case 3:t=[w(n/255),w(s/255),w(l/255),a[1]].join(" ")}}else if("string"==typeof n)t=[n,s,l,r,a[2]].join(" ");else switch(e.precision){case 2:t=[y(n/255),y(s/255),y(l/255),y(r/255),a[2]].join(" ");break;case 3:default:t=[w(n/255),w(s/255),w(l/255),w(r/255),a[2]].join(" ")}return t},fe=p.__private__.getFilters=function(){return h},ge=p.__private__.putStream=function(e){var t,n=(e=e||{}).data||"",i=e.filters||fe(),s=e.alreadyAppliedFilters||[],l=e.addLength1||!1,r=n.length;!0===i&&(i=["FlateEncode"]);var o=e.additionalKeyValues||[],h=(t=void 0!==a.API.processDataByFilters?a.API.processDataByFilters(n,i):{data:n,reverseChain:[]}).reverseChain+(Array.isArray(s)?s.join(" "):s.toString());0!==t.data.length&&(o.push({key:"Length",value:t.data.length}),!0===l&&o.push({key:"Length1",value:r})),0!=h.length&&(h.split("/").length-1==1?o.push({key:"Filter",value:h}):o.push({key:"Filter",value:"["+h+"]"})),j("<<");for(var c=0;c<o.length;c++)j("/"+o[c].key+" "+o[c].value);j(">>"),0!==t.data.length&&(j("stream"),j(t.data),j("endstream"))},be=p.__private__.putPage=function(e){var t=e.number,n=e.data,i=e.objId,s=e.contentsObjId;he(i,!0),j("<</Type /Page"),j("/Parent "+e.rootDictionaryObjId+" 0 R"),j("/Resources "+e.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(y(e.mediaBox.bottomLeftX))+" "+parseFloat(y(e.mediaBox.bottomLeftY))+" "+y(e.mediaBox.topRightX)+" "+y(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&j("/CropBox ["+y(e.cropBox.bottomLeftX)+" "+y(e.cropBox.bottomLeftY)+" "+y(e.cropBox.topRightX)+" "+y(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&j("/BleedBox ["+y(e.bleedBox.bottomLeftX)+" "+y(e.bleedBox.bottomLeftY)+" "+y(e.bleedBox.topRightX)+" "+y(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&j("/TrimBox ["+y(e.trimBox.bottomLeftX)+" "+y(e.trimBox.bottomLeftY)+" "+y(e.trimBox.topRightX)+" "+y(e.trimBox.topRightY)+"]"),null!==e.artBox&&j("/ArtBox ["+y(e.artBox.bottomLeftX)+" "+y(e.artBox.bottomLeftY)+" "+y(e.artBox.topRightX)+" "+y(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&j("/UserUnit "+e.userUnit),le.publish("putPage",{objId:i,pageContext:ie[t],pageNumber:t,page:n}),j("/Contents "+s+" 0 R"),j(">>"),j("endobj");var l=n.join("\n");return he(s,!0),ge({data:l,filters:fe()}),j("endobj"),i},ve=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ne;e++)ie[e].objId=oe(),ie[e].contentsObjId=oe();for(e=1;e<=ne;e++)n.push(be({number:e,data:H[e],objId:ie[e].objId,contentsObjId:ie[e].contentsObjId,mediaBox:ie[e].mediaBox,cropBox:ie[e].cropBox,bleedBox:ie[e].bleedBox,trimBox:ie[e].trimBox,artBox:ie[e].artBox,userUnit:ie[e].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:ue}));he(de,!0),j("<</Type /Pages");var i="/Kids [";for(t=0;t<ne;t++)i+=n[t]+" 0 R ";j(i+"]"),j("/Count "+ne),j(">>"),j("endobj"),le.publish("postPutPages")},ye=function(e,t,n){te.hasOwnProperty(t)||(te[t]={}),te[t][n]=e},we=function(e,t,n,i,s){s=s||!1;var l="F"+(Object.keys(ee).length+1).toString(10),r={id:l,postScriptName:e,fontName:t,fontStyle:n,encoding:i,isStandardFont:s,metadata:{}};return le.publish("addFont",{font:r,instance:this}),void 0!==l&&(ee[l]=r,ye(l,t,n)),l},Ce=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,i,s,l,r,a,o,h,c;if(s=(t=t||{}).sourceEncoding||"Unicode",r=t.outputEncoding,(t.autoencode||r)&&ee[P].metadata&&ee[P].metadata[s]&&ee[P].metadata[s].encoding&&(l=ee[P].metadata[s].encoding,!r&&ee[P].encoding&&(r=ee[P].encoding),!r&&l.codePages&&(r=l.codePages[0]),"string"==typeof r&&(r=l[r]),r)){for(o=!1,a=[],n=0,i=e.length;n<i;n++)(h=r[e.charCodeAt(n)])?a.push(String.fromCharCode(h)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(o=!0);e=a.join("")}for(n=e.length;void 0===o&&0!==n;)e.charCodeAt(n-1)>>8&&(o=!0),n--;if(!o)return e;for(a=t.noBOM?[]:[254,255],n=0,i=e.length;n<i;n++){if((c=(h=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(c),a.push(h-(c<<8))}return String.fromCharCode.apply(void 0,a)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xe=p.__private__.beginPage=function(e,t){var i,s="string"==typeof t&&t.toLowerCase();if("string"==typeof e&&(i=b(e.toLowerCase()))&&(e=i[0],t=i[1]),Array.isArray(e)&&(t=e[1],e=e[0]),(isNaN(e)||isNaN(t))&&(e=n[0],t=n[1]),s){switch(s.substr(0,1)){case"l":e<t&&(s="s");break;case"p":t<e&&(s="s")}"s"===s&&(i=e,e=t,t=i)}(14400<e||14400<t)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),e=Math.min(14400,e),t=Math.min(14400,t)),n=[e,t],F=!0,H[++ne]=[],ie[ne]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e),topRightY:Number(t)}},Se(ne)},_e=function(){xe.apply(this,arguments),Ue(qe),j(Je),0!==st&&j(st+" J"),0!==rt&&j(rt+" j"),le.publish("addPage",{pageNumber:ne})},Se=function(e){0<e&&e<=ne&&(I=e)},ke=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return H.length-1},Ee=function(e,t,n){var i,s=void 0;return n=n||{},t=void 0!==t?t:ee[P].fontStyle,i=(e=void 0!==e?e:ee[P].fontName).toLowerCase(),void 0!==te[i]&&void 0!==te[i][t]?s=te[i][t]:void 0!==te[e]&&void 0!==te[e][t]?s=te[e][t]:!1===n.disableWarning&&console.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),s||n.noFallback||null==(s=te.times[t])&&(s=te.times.normal),s},Oe=p.__private__.putInfo=function(){for(var e in ae(),j("<<"),j("/Producer (jsPDF "+a.version+")"),Z)Z.hasOwnProperty(e)&&Z[e]&&j("/"+e.substr(0,1).toUpperCase()+e.substr(1)+" ("+Ce(Z[e])+")");j("/CreationDate ("+v+")"),j(">>"),j("endobj")},De=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||de;switch(ae(),j("<<"),j("/Type /Catalog"),j("/Pages "+t+" 0 R"),A||(A="fullwidth"),A){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+A;"%"===n.substr(n.length-1)&&(A=parseInt(A)/100),"number"==typeof A&&j("/OpenAction [3 0 R /XYZ null null "+y(A)+"]")}switch(T||(T="continuous"),T){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}M&&j("/PageMode /"+M),le.publish("putCatalog"),j(">>"),j("endobj")},Ae=p.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(J+1)),j("/Root "+J+" 0 R"),j("/Info "+(J-1)+" 0 R"),j("/ID [ <"+C+"> <"+C+"> ]"),j(">>")},Me=p.__private__.putHeader=function(){j("%PDF-"+m),j("%\xba\xdf\xac\xe0")},Te=p.__private__.putXRef=function(){var e=1,t="0000000000";for(j("xref"),j("0 "+(J+1)),j("0000000000 65535 f "),e=1;e<=J;e++)j("function"==typeof Q[e]?(t+Q[e]()).slice(-10)+" 00000 n ":void 0!==Q[e]?(t+Q[e]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Pe=p.__private__.buildDocument=function(){F=!1,V=J=0,B=[],Q=[],se=[],de=oe(),ue=oe(),le.publish("buildDocument"),Me(),ve(),function(){le.publish("putAdditionalObjects");for(var e=0;e<se.length;e++){var t=se[e];he(t.objId,!0),j(t.content),j("endobj")}le.publish("postPutAdditionalObjects")}(),function(){for(var e in ee)ee.hasOwnProperty(e)&&(!1===d||!0===d&&u.hasOwnProperty(e))&&(le.publish("putFont",{font:t=ee[e],out:j,newObject:ae,putStream:ge}),!0!==t.isAlreadyPutted&&(t.objectNumber=ae(),j("<<"),j("/Type /Font"),j("/BaseFont /"+t.postScriptName),j("/Subtype /Type1"),"string"==typeof t.encoding&&j("/Encoding /"+t.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj")));var t}(),le.publish("putResources"),he(ue,!0),j("<<"),function(){for(var e in j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),j("/Font <<"),ee)ee.hasOwnProperty(e)&&(!1===d||!0===d&&u.hasOwnProperty(e))&&j("/"+e+" "+ee[e].objectNumber+" 0 R");j(">>"),j("/XObject <<"),le.publish("putXobjectDict"),j(">>")}(),j(">>"),j("endobj"),le.publish("postPutResources"),Oe(),De();var e=V;return Te(),Ae(),j("startxref"),j(""+e),j("%%EOF"),F=!0,B.join("\n")},Le=p.__private__.getBlob=function(e){return new Blob([q(e)],{type:"application/pdf"})},Ne=p.output=p.__private__.output=((N=function(e,t){t=t||{};var n=Pe();switch("string"==typeof t?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return n;case"save":p.save(t.filename);break;case"arraybuffer":return q(n);case"blob":return Le(n);case"bloburi":case"bloburl":if(void 0!==l.URL&&"function"==typeof l.URL.createObjectURL)return l.URL&&l.URL.createObjectURL(Le(n))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+t.filename+";base64,"+btoa(n);case"dataurlnewwindow":var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',s=l.open();if(null!==s&&s.document.write(i),s||"undefined"==typeof safari)return s;case"datauri":case"dataurl":return l.document.location.href="data:application/pdf;filename="+t.filename+";base64,"+btoa(n);default:return null}}).foo=function(){try{return N.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!l.console)throw new Error(n);l.console.error(n,e),l.alert&&alert(n)}},(N.foo.bar=N).foo),Re=function(e){return!0===Array.isArray(re)&&-1<re.indexOf(e)};switch(t){case"pt":L=1;break;case"mm":L=72/25.4;break;case"cm":L=72/2.54;break;case"in":L=72;break;case"px":L=1==Re("px_scaling")?.75:96/72;break;case"pc":case"em":L=12;break;case"ex":L=6;break;default:throw new Error("Invalid unit: "+t)}E(),_();var Fe=p.__private__.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ie[e].objId,pageNumber:e,pageContext:ie[e]}},He=p.__private__.getPageInfoByObjId=function(e){for(var t in ie)if(ie[t].objId===e)break;if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Fe(t)},Be=p.__private__.getCurrentPageInfo=function(){return{objId:ie[I].objId,pageNumber:I,pageContext:ie[I]}};p.addPage=function(){return _e.apply(this,arguments),this},p.setPage=function(){return Se.apply(this,arguments),this},p.insertPage=function(e){return this.addPage(),this.movePage(I,e),this},p.movePage=function(e,t){if(t<e){for(var n=H[e],i=ie[e],s=e;t<s;s--)H[s]=H[s-1],ie[s]=ie[s-1];H[t]=n,ie[t]=i,this.setPage(t)}else if(e<t){for(n=H[e],i=ie[e],s=e;s<t;s++)H[s]=H[s+1],ie[s]=ie[s+1];H[t]=n,ie[t]=i,this.setPage(t)}return this},p.deletePage=function(){return(function(e){0<e&&e<=ne&&(H.splice(e,1),--ne<I&&(I=ne),this.setPage(I))}).apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,s){var l;"number"!=typeof e||"number"!=typeof t||"string"!=typeof n&&!Array.isArray(n)||(l=n,n=t,t=e,e=l);var r=arguments[3],a=arguments[4],o=arguments[5];if("object"===i(r)&&null!==r||("string"==typeof a&&(o=a,a=null),"string"==typeof r&&(o=r,r=null),"number"==typeof r&&(a=r,r=null),s={flags:r,angle:a,align:o}),(r=r||{}).noBOM=r.noBOM||!0,r.autoencode=r.autoencode||!0,isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var h,c="",d="number"==typeof s.lineHeightFactor?s.lineHeightFactor:ze,p=s.scope||this;function m(e){for(var t,n=e.concat(),i=[],s=n.length;s--;)"string"==typeof(t=n.shift())?i.push(t):Array.isArray(e)&&1===t.length?i.push(t[0]):i.push([t[0],t[1],t[2]]);return i}function f(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var i,s,l=e.concat(),r=[],a=l.length;a--;)"string"==typeof(i=l.shift())?r.push(t(i)[0]):Array.isArray(i)&&"string"===i[0]&&(s=t(i[0],i[1],i[2]),r.push([s[0],s[1],s[2]]));n=r}return n}var g=!1,b=!0;if("string"==typeof e)g=!0;else if(Array.isArray(e)){for(var v,C=e.concat(),x=[],_=C.length;_--;)("string"!=typeof(v=C.shift())||Array.isArray(v)&&"string"!=typeof v[0])&&(b=!1);g=b}if(!1===g)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');var S=ee[P].encoding;"WinAnsiEncoding"!==S&&"StandardEncoding"!==S||(e=f(e,(function(e,t,n){return[(i=e,i=i.split("\t").join(Array(s.TabLen||9).join(" ")),Ce(i,r)),t,n];var i}))),"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var k=W/p.internal.scaleFactor,E=k*(ze-1);switch(s.baseline){case"bottom":n-=E;break;case"top":n+=k-E;break;case"hanging":n+=k-2*E;break;case"middle":n+=k/2-E}0<(z=s.maxWidth||0)&&("string"==typeof e?e=p.splitTextToSize(e,z):"[object Array]"===Object.prototype.toString.call(e)&&(e=p.splitTextToSize(e.join(" "),z)));var O={text:e,x:t,y:n,options:s,mutex:{pdfEscape:Ce,activeFontKey:P,fonts:ee,activeFontSize:W}};le.publish("preProcessText",O),e=O.text,a=(s=O.options).angle;var I=p.internal.scaleFactor,D=[];if(a){a*=Math.PI/180;var A=Math.cos(a),M=Math.sin(a);D=[y(A),y(M),y(-1*M),y(A)]}void 0!==(V=s.charSpace)&&(c+=w(V*I)+" Tc\n");var T=-1,L=void 0!==s.renderingMode?s.renderingMode:s.stroke,N=p.internal.getCurrentPageInfo().pageContext;switch(L){case 0:case!1:case"fill":T=0;break;case 1:case!0:case"stroke":T=1;break;case 2:case"fillThenStroke":T=2;break;case 3:case"invisible":T=3;break;case 4:case"fillAndAddForClipping":T=4;break;case 5:case"strokeAndAddPathForClipping":T=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":T=6;break;case 7:case"addToPathForClipping":T=7}var R=void 0!==N.usedRenderingMode?N.usedRenderingMode:-1;-1!==T?c+=T+" Tr\n":-1!==R&&(c+="0 Tr\n"),-1!==T&&(N.usedRenderingMode=T),o=s.align||"left";var F=W*d,H=p.internal.pageSize.getWidth(),B=(I=p.internal.scaleFactor,ee[P]),V=s.charSpace||nt,z=s.maxWidth||0,q=(r={},[]);if("[object Array]"===Object.prototype.toString.call(e)){var U,Y;x=m(e),"left"!==o&&(Y=x.map((function(e){return p.getStringUnitWidth(e,{font:B,charSpace:V,fontSize:W})*W/I}))),Math.max.apply(Math,Y);var G,X=0;if("right"===o){t-=Y[0],e=[];var K=0;for(_=x.length;K<_;K++)U=0===K?(G=Ge(t),Xe(n)):(G=(X-Y[K])*I,-F),e.push([x[K],G,U]),X=Y[K]}else if("center"===o)for(t-=Y[0]/2,e=[],K=0,_=x.length;K<_;K++)U=0===K?(G=Ge(t),Xe(n)):(G=(X-Y[K])/2*I,-F),e.push([x[K],G,U]),X=Y[K];else if("left"===o)for(e=[],K=0,_=x.length;K<_;K++)U=0===K?Xe(n):-F,G=0===K?Ge(t):0,e.push(x[K]);else{if("justify"!==o)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],z=0!==z?z:H,K=0,_=x.length;K<_;K++)U=0===K?Xe(n):-F,G=0===K?Ge(t):0,K<_-1&&q.push(((z-Y[K])/(x[K].split(" ").length-1)*I).toFixed(2)),e.push([x[K],G,U])}}!0===("boolean"==typeof s.R2L?s.R2L:$)&&(e=f(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),le.publish("postProcessText",O={text:e,x:t,y:n,options:s,mutex:{pdfEscape:Ce,activeFontKey:P,fonts:ee,activeFontSize:W}}),h=O.mutex.isHex,x=m(e=O.text),e=[];var Z,J,Q,te=0,ne=(_=x.length,"");for(K=0;K<_;K++)ne="",Array.isArray(x[K])?(Z=parseFloat(x[K][1]),J=parseFloat(x[K][2]),Q=(h?"<":"(")+x[K][0]+(h?">":")"),te=1):(Z=Ge(t),J=Xe(n),Q=(h?"<":"(")+x[K]+(h?">":")")),void 0!==q&&void 0!==q[K]&&(ne=q[K]+" Tw\n"),e.push(0!==D.length&&0===K?ne+D.join(" ")+" "+Z.toFixed(2)+" "+J.toFixed(2)+" Tm\n"+Q:1===te||0===te&&0===K?ne+Z.toFixed(2)+" "+J.toFixed(2)+" Td\n"+Q:ne+Q);e=e.join(0===te?" Tj\nT* ":" Tj\n"),e+=" Tj\n";var ie="BT\n/"+P+" "+W+" Tf\n"+(W*d).toFixed(2)+" TL\n"+et+"\n";return ie+=c,ie+=e,j(ie+="ET"),u[P]=!0,p},p.__private__.lstext=p.lstext=function(e,t,n,i){return console.warn("jsPDF.lstext is deprecated"),this.text(e,t,n,{charSpace:i})},p.__private__.clip=p.clip=function(e){j("evenodd"===e?"W*":"W"),j("n")},p.__private__.clip_fixed=p.clip_fixed=function(e){console.log("clip_fixed is deprecated"),p.clip(e)};var Ve=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(e)&&(t=!0),t},je=p.__private__.getStyle=function(e){var t="S";return"F"===e?t="f":"FD"===e||"DF"===e?t="B":"f"!==e&&"f*"!==e&&"B"!==e&&"B*"!==e||(t=e),t};p.__private__.line=p.line=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[n-e,i-t]],e,t)},p.__private__.lines=p.lines=function(e,t,n,i,s,l){var r,a,o,h,c,d,u,p,m,f,g,b;if("number"==typeof e&&(b=n,n=t,t=e,e=b),i=i||[1,1],l=l||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(i)||!Ve(s)||"boolean"!=typeof l)throw new Error("Invalid arguments passed to jsPDF.lines");for(j(w(Ge(t))+" "+w(Xe(n))+" m "),r=i[0],a=i[1],h=e.length,f=t,g=n,o=0;o<h;o++)2===(c=e[o]).length?(g=c[1]*a+g,j(w(Ge(f=c[0]*r+f))+" "+w(Xe(g))+" l")):(d=c[0]*r+f,u=c[1]*a+g,p=c[2]*r+f,m=c[3]*a+g,f=c[4]*r+f,g=c[5]*a+g,j(w(Ge(d))+" "+w(Xe(u))+" "+w(Ge(p))+" "+w(Xe(m))+" "+w(Ge(f))+" "+w(Xe(g))+" c"));return l&&j(" h"),null!==s&&j(je(s)),this},p.__private__.rect=p.rect=function(e,t,n,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!Ve(s))throw new Error("Invalid arguments passed to jsPDF.rect");return j([y(Ge(e)),y(Xe(t)),y(n*L),y(-i*L),"re"].join(" ")),null!==s&&j(je(s)),this},p.__private__.triangle=p.triangle=function(e,t,n,i,s,l,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(s)||isNaN(l)||!Ve(r))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,i-t],[s-n,l-i],[e-s,t-l]],e,t,[1,1],r,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,i,s,l,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(s)||isNaN(l)||!Ve(r))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return this.lines([[n-2*s,0],[s*a,0,s,l-l*a,s,l],[0,i-2*l],[0,l*a,-s*a,l,-s,l],[2*s-n,0],[-s*a,0,-s,-l*a,-s,-l],[0,2*l-i],[0,-l*a,s*a,-l,s,-l]],e+s,t,[1,1],r),this},p.__private__.ellipse=p.ellipse=function(e,t,n,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!Ve(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var l=4/3*(Math.SQRT2-1)*n,r=4/3*(Math.SQRT2-1)*i;return j([y(Ge(e+n)),y(Xe(t)),"m",y(Ge(e+n)),y(Xe(t-r)),y(Ge(e+l)),y(Xe(t-i)),y(Ge(e)),y(Xe(t-i)),"c"].join(" ")),j([y(Ge(e-l)),y(Xe(t-i)),y(Ge(e-n)),y(Xe(t-r)),y(Ge(e-n)),y(Xe(t)),"c"].join(" ")),j([y(Ge(e-n)),y(Xe(t+r)),y(Ge(e-l)),y(Xe(t+i)),y(Ge(e)),y(Xe(t+i)),"c"].join(" ")),j([y(Ge(e+l)),y(Xe(t+i)),y(Ge(e+n)),y(Xe(t+r)),y(Ge(e+n)),y(Xe(t)),"c"].join(" ")),null!==s&&j(je(s)),this},p.__private__.circle=p.circle=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||!Ve(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,i)},p.setFont=function(e,t){return P=Ee(e,t,{disableWarning:!1}),this},p.setFontStyle=p.setFontType=function(e){return P=Ee(void 0,e),this},p.__private__.getFontList=p.getFontList=function(){var e,t,n,i={};for(e in te)if(te.hasOwnProperty(e))for(t in i[e]=n=[],te[e])te[e].hasOwnProperty(t)&&n.push(t);return i},p.addFont=function(e,t,n,i){we.call(this,e,t,n,i=i||"Identity-H")};var ze,qe=o.lineWidth||.200025,Ue=p.__private__.setLineWidth=p.setLineWidth=function(e){return j((e*L).toFixed(2)+" w"),this},We=(p.__private__.setLineDash=a.API.setLineDash=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return(e*L).toFixed(3)})).join(" "),t=parseFloat((t*L).toFixed(3)),j("["+e+"] "+t+" d"),this},p.__private__.getLineHeight=p.getLineHeight=function(){return W*ze}),Ye=(We=p.__private__.getLineHeight=p.getLineHeight=function(){return W*ze},p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(ze=e),this}),$e=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ze};Ye(o.lineHeight);var Ge=p.__private__.getHorizontalCoordinate=function(e){return e*L},Xe=p.__private__.getVerticalCoordinate=function(e){return ie[I].mediaBox.topRightY-ie[I].mediaBox.bottomLeftY-e*L},Ke=p.__private__.getHorizontalCoordinateString=function(e){return y(e*L)},Ze=p.__private__.getVerticalCoordinateString=function(e){return y(ie[I].mediaBox.topRightY-ie[I].mediaBox.bottomLeftY-e*L)},Je=o.strokeColor||"0 G",Qe=(p.__private__.getStrokeColor=p.getDrawColor=function(){return pe(Je)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,i){return Je=me({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"draw",precision:2}),j(Je),this},o.fillColor||"0 g"),et=(p.__private__.getFillColor=p.getFillColor=function(){return pe(Qe)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,i){return Qe=me({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"fill",precision:2}),j(Qe),this},o.textColor||"0 g"),tt=p.__private__.getTextColor=p.getTextColor=function(){return pe(et)},nt=(p.__private__.setTextColor=p.setTextColor=function(e,t,n,i){return et=me({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"text",precision:3}),this},o.charSpace||0),it=p.__private__.getCharSpace=p.getCharSpace=function(){return nt},st=(p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nt=e,this},0);p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return j((st=t)+" J"),this};var lt,rt=0;for(var at in p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return j((rt=t)+" j"),this},p.__private__.setMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return lt=parseFloat(y(e*L)),j(lt+" M"),this},p.save=function(e,t){if(e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1!==t.returnPromise)return new Promise((function(t,n){try{var i=Ie(Le(Pe()),e);"function"==typeof Ie.unload&&l.setTimeout&&setTimeout(Ie.unload,911),t(i)}catch(t){n(t.message)}}));Ie(Le(Pe()),e),"function"==typeof Ie.unload&&l.setTimeout&&setTimeout(Ie.unload,911)},a.API)a.API.hasOwnProperty(at)&&("events"===at&&a.API.events.length?function(e,t){var n,i;for(i=t.length-1;-1!==i;i--)e.subscribe.apply(e,[t[i][0]].concat("function"==typeof(n=t[i][1])?[n]:n))}(le,a.API.events):p[at]=a.API[at]);return p.internal={pdfEscape:Ce,getStyle:je,getFont:function(){return ee[Ee.apply(p,arguments)]},getFontSize:Y,getCharSpace:it,getTextColor:tt,getLineHeight:We,getLineHeightFactor:$e,write:z,getHorizontalCoordinate:Ge,getVerticalCoordinate:Xe,getCoordinateString:Ke,getVerticalCoordinateString:Ze,collections:{},newObject:ae,newAdditionalObject:ce,newObjectDeferred:oe,newObjectDeferredBegin:he,getFilters:fe,putStream:ge,events:le,scaleFactor:L,pageSize:{getWidth:function(){return(ie[I].mediaBox.topRightX-ie[I].mediaBox.bottomLeftX)/L},setWidth:function(e){ie[I].mediaBox.topRightX=e*L+ie[I].mediaBox.bottomLeftX},getHeight:function(){return(ie[I].mediaBox.topRightY-ie[I].mediaBox.bottomLeftY)/L},setHeight:function(e){ie[I].mediaBox.topRightY=e*L+ie[I].mediaBox.bottomLeftY}},output:Ne,getNumberOfPages:ke,pages:H,out:j,f2:y,f3:w,getPageInfo:Fe,getPageInfoByObjId:He,getCurrentPageInfo:Be,getPDFVersion:f,hasHotfix:Re},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return(ie[I].mediaBox.topRightX-ie[I].mediaBox.bottomLeftX)/L},set:function(e){ie[I].mediaBox.topRightX=e*L+ie[I].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return(ie[I].mediaBox.topRightY-ie[I].mediaBox.bottomLeftY)/L},set:function(e){ie[I].mediaBox.topRightY=e*L+ie[I].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=U.length;t<n;t++){var i=we(e[t][0],e[t][1],e[t][2],U[t][3],!0);u[i]=!0;var s=e[t][0].split("-");ye(i,s[0],s[1]||"")}le.publish("addFonts",{fonts:ee,dictionary:te})}(U),P="F1",_e(n,e),le.publish("initialized"),p}return a.API={events:[]},a.version="1.5.3",void 0!==(s=(function(){return a}).call(t,n,t,e))&&(e.exports=s),a}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());(function(e,t){var n,s=1,l=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},r=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},a=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(2)},o=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(5)};e.__acroform__={};var h=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},c=function(e){return e*s},d=function(e){return e/s},u=function(e){var t=new L,n=G.internal.getHeight(e)||0,i=G.internal.getWidth(e)||0;return t.BBox=[0,0,Number(a(i)),Number(a(n))],t},p=e.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},m=e.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},f=e.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},g=e.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return f(e,t-1)},b=e.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p(e,t-1)},v=e.__acroform__.clearBitForPdf=function(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return m(e,t-1)},y=e.__acroform__.calculateCoordinates=function(e){var t=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,i=e[0],s=e[1],l=e[2],r=e[3],o={};return o.lowerLeft_X=t(i)||0,o.lowerLeft_Y=n(s+r)||0,o.upperRight_X=t(i+l)||0,o.upperRight_Y=n(s)||0,[Number(a(o.lowerLeft_X)),Number(a(o.lowerLeft_Y)),Number(a(o.upperRight_X)),Number(a(o.upperRight_Y))]},w=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],i=C(e,e.V||e.DV),s=n.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.__private__.encodeColorString(e.color)),t.push("/"+s+" "+a(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=new u(e);return l.stream=t.join("\n"),l}},C=function(e,t){var i=e.maxFontSize||12,s={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" "),o=(n.__private__.encodeColorString(e.color),i),h=G.internal.getHeight(e)||0;h=h<0?-h:h;var c=G.internal.getWidth(e)||0;c=c<0?-c:c;var d=function(t,n,i){return t+1<r.length&&x(n+" "+r[t+1],e,i).width<=c-4};o++;e:for(;;){t="";var u=x("3",e,--o).height,p=e.multiline?h-o:(h-u)/2,m=-2,f=p+=2,g=0,b=0,v=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+x(t,e,o=12).width+", FieldWidth:"+c+"\n";break}v=x(r[0]+" ",e,o).width;var y="",w=0;for(var C in r)if(r.hasOwnProperty(C)){y=" "==(y+=r[C]+" ").substr(y.length-1)?y.substr(0,y.length-1):y;var _=parseInt(C);v=x(y+" ",e,o).width;var S=d(_,y,o),k=C>=r.length-1;if(S&&!k){y+=" ";continue}if(S||k){if(k)b=_;else if(e.multiline&&h<(u+2)*(w+2)+2)continue e}else{if(!e.multiline)continue e;if(h<(u+2)*(w+2)+2)continue e;b=_}for(var E="",O=g;O<=b;O++)E+=r[O]+" ";switch(E=" "==E.substr(E.length-1)?E.substr(0,E.length-1):E,v=x(E,e,o).width,e.textAlign){case"right":m=c-v-2;break;case"center":m=(c-v)/2;break;case"left":default:m=2}t+=a(m)+" "+a(f)+" Td\n",t+="("+l(E)+") Tj\n",t+=-a(m)+" 0 Td\n",f=-(o+2),v=0,g=b+1,w++,y=""}break}return s.text=t,s.fontSize=o,s},x=function(e,t,i){var s=n.internal.getFont(t.fontName,t.fontStyle),l=n.getStringUnitWidth(e,{font:s,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:n.getStringUnitWidth("3",{font:s,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:l}},_={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},S=function(){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];i.objId=void 0,i.hasAnnotation&&k.call(n,i)}},k=function(e){var t={type:"reference",object:e};void 0===n.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===t.type&&e.object===t.object}))&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},E=function(){if(void 0===n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},O=function(){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0},I=function(e){var t=!e;for(var s in e||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(s)){var l=e[s],r=[],a=l.Rect;if(l.Rect&&(l.Rect=y.call(this,l.Rect)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=G.createDefaultAppearanceStream(l),"object"===i(l)&&"function"==typeof l.getKeyValueListForStream&&(r=l.getKeyValueListForStream()),l.Rect=a,l.hasAppearanceStream&&!l.appearanceStreamContent){var o=w.call(this,l);r.push({key:"AP",value:"<</N "+o+">>"}),n.internal.acroformPlugin.xForms.push(o)}if(l.appearanceStreamContent){var h="";for(var c in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(c)){var d=l.appearanceStreamContent[c];if(h+="/"+c+" ",h+="<<",1<=Object.keys(d).length||Array.isArray(d))for(var s in d){var u;d.hasOwnProperty(s)&&("function"==typeof(u=d[s])&&(u=u.call(this,l)),h+="/"+s+" "+u+" ",0<=n.internal.acroformPlugin.xForms.indexOf(u)||n.internal.acroformPlugin.xForms.push(u))}else"function"==typeof(u=d)&&(u=u.call(this,l)),h+="/"+s+" "+u,0<=n.internal.acroformPlugin.xForms.indexOf(u)||n.internal.acroformPlugin.xForms.push(u);h+=">>"}r.push({key:"AP",value:"<<\n"+h+">>"})}n.internal.putStream({additionalKeyValues:r}),n.internal.out("endobj")}t&&D.call(this,n.internal.acroformPlugin.xForms)},D=function(e){for(var t in e)if(e.hasOwnProperty(t)){var s=t,l=e[t];n.internal.newObjectDeferredBegin(l&&l.objId,!0),"object"===i(l)&&"function"==typeof l.putStream&&l.putStream(),delete e[s]}},A=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(n=this,R.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(_)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");s=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new N,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",O),n.internal.events.subscribe("buildDocument",S),n.internal.events.subscribe("putCatalog",E),n.internal.events.subscribe("postPutPages",I),n.internal.acroformPlugin.isInitialized=!0}},M=e.__acroform__.arrayToPdfArray=function(e){if(Array.isArray(e)){for(var t="[",n=0;n<e.length;n++)switch(0!==n&&(t+=" "),i(e[n])){case"boolean":case"number":case"object":t+=e[n].toString();break;case"string":"/"!==e[n].substr(0,1)?t+="("+l(e[n].toString())+")":t+=e[n].toString()}return t+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},T=function(e){return(e=e||"").toString(),"("+l(e)+")"},P=function(){var e;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(e||(e=n.internal.newObjectDeferred()),!e)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return e},set:function(t){e=t}})};P.prototype.toString=function(){return this.objId+" 0 R"},P.prototype.putStream=function(){var e=this.getKeyValueListForStream();n.internal.putStream({data:this.stream,additionalKeyValues:e}),n.internal.out("endobj")},P.prototype.getKeyValueListForStream=function(){return function(e){var t=[],n=Object.getOwnPropertyNames(e).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"_"!=e.substring(0,1)}));for(var i in n)if(!1===Object.getOwnPropertyDescriptor(e,n[i]).configurable){var s=n[i],l=e[s];l&&(Array.isArray(l)?t.push({key:s,value:M(l)}):l instanceof P?t.push({key:s,value:l.objId+" 0 R"}):"function"!=typeof l&&t.push({key:s,value:l}))}return t}(this)};var L=function(){P.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};h(L,P);var N=function(){P.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<t.length?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e)return"("+e+")"},set:function(t){e=t}})};h(N,P);var R=function e(){P.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(t,3))},set:function(e){this.F=!0===Boolean(e)?b(t,3):v(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(e){i=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:d(i[0])},set:function(e){i[0]=c(e)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:d(i[1])},set:function(e){i[1]=c(e)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:d(i[2])},set:function(e){i[2]=c(e)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:d(i[3])},set:function(e){i[3]=c(e)}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof U)return;a="FieldObject"+e.FieldNum++}return"("+l(a)+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(e){h=e}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d(u)},set:function(e){u=c(e)}});var p=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d(p)},set:function(e){p=c(e)}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){m=e}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof U||this instanceof Y))return T(f)},set:function(e){e=e.toString(),f=e}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof j==0?T(y):y},set:function(e){e=e.toString(),y=this instanceof j==0?"("===e.substr(0,1)?r(e.substr(1,e.length-2)):r(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof j==1?r(y.substr(1,y.length-1)):y},set:function(e){e=e.toString(),y=this instanceof j==1?"/"+e:e}});var w=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof j==0?T(w):w},set:function(e){e=e.toString(),w=this instanceof j==0?"("===e.substr(0,1)?r(e.substr(1,e.length-2)):r(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof j==1?r(w.substr(1,w.length-1)):w},set:function(e){e=e.toString(),w=this instanceof j==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return x},set:function(e){e=Boolean(e),x=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(C)return C},set:function(e){C=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,1))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,1):v(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,2))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,2):v(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,3))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,3):v(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==_)return _},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');_=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e="left";switch(_){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};h(R,P);var F=function(){R.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return M(t)},set:function(e){var n,i;i=[],"string"==typeof(n=e)&&(i=function(e,t,n){n||(n=1);for(var i,s=[];i=t.exec(e);)s.push(i[n]);return s}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,18):v(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?b(this.Ff,19):v(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=b(this.Ff,20),t.sort()):this.Ff=v(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,22):v(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,23):v(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,27):v(this.Ff,27)}}),this.hasAppearanceStream=!1};h(F,R);var H=function(){F.call(this),this.fontName="helvetica",this.combo=!1};h(H,F);var B=function(){H.call(this),this.combo=!0};h(B,H);var V=function(){B.call(this),this.edit=!0};h(V,B);var j=function(){R.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,15):v(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,16):v(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,17):v(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,26):v(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(t).length){var e,n=[];for(e in n.push("<<"),t)n.push("/"+e+" ("+t[e]+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===i(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};h(j,R);var z=function(){j.call(this),this.pushButton=!0};h(z,j);var q=function(){j.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};h(q,j);var U=function(){var e,t;R.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e,t=[];for(e in t.push("<<"),s)t.push("/"+e+" ("+s[e]+")");return t.push(">>"),t.join("\n")},set:function(e){"object"===i(e)&&(s=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(e){"string"==typeof e&&(s.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=G.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};h(U,R),q.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e&&"getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},q.prototype.createOption=function(e){var t=new U;return t.Parent=this,t.optionName=e,this.Kids.push(t),X.call(this,t),t};var W=function(){j.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=G.CheckBox.createAppearanceStream()};h(W,j);var Y=function(){R.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,13))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,13):v(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,21))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,21):v(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,23):v(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,24))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,24):v(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,25))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,25):v(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,26):v(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};h(Y,R);var $=function(){Y.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,14))},set:function(e){this.Ff=!0===Boolean(e)?b(this.Ff,14):v(this.Ff,14)}}),this.password=!0};h($,Y);var G={CheckBox:{createAppearanceStream:function(){return{N:{On:G.CheckBox.YesNormal},D:{On:G.CheckBox.YesPushDown,Off:G.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=u(e),i=[],s=n.internal.getFont(e.fontName,e.fontStyle).id,l=n.__private__.encodeColorString(e.color),r=C(e,e.caption);return i.push("0.749023 g"),i.push("0 0 "+a(G.internal.getWidth(e))+" "+a(G.internal.getHeight(e))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+s+" "+a(r.fontSize)+" Tf "+l),i.push("BT"),i.push(r.text),i.push("ET"),i.push("Q"),i.push("EMC"),t.stream=i.join("\n"),t},YesNormal:function(e){var t=u(e),i=n.internal.getFont(e.fontName,e.fontStyle).id,s=n.__private__.encodeColorString(e.color),l=[],r=G.internal.getHeight(e),o=G.internal.getWidth(e),h=C(e,e.caption);return l.push("1 g"),l.push("0 0 "+a(o)+" "+a(r)+" re"),l.push("f"),l.push("q"),l.push("0 0 1 rg"),l.push("0 0 "+a(o-1)+" "+a(r-1)+" re"),l.push("W"),l.push("n"),l.push("0 g"),l.push("BT"),l.push("/"+i+" "+a(h.fontSize)+" Tf "+s),l.push(h.text),l.push("ET"),l.push("Q"),t.stream=l.join("\n"),t},OffPushDown:function(e){var t=u(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+a(G.internal.getWidth(e))+" "+a(G.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:G.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=G.RadioButton.Circle.YesNormal,t.D[e]=G.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=u(e),n=[],i=G.internal.getWidth(e)<=G.internal.getHeight(e)?G.internal.getWidth(e)/4:G.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=Number((i*G.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+o(G.internal.getWidth(e)/2)+" "+o(G.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=u(e),n=[],i=G.internal.getWidth(e)<=G.internal.getHeight(e)?G.internal.getWidth(e)/4:G.internal.getHeight(e)/4,s=(i=Number((.9*i).toFixed(5)),Number((2*i).toFixed(5))),l=Number((s*G.internal.Bezier_C).toFixed(5)),r=Number((i*G.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+o(G.internal.getWidth(e)/2)+" "+o(G.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),n.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),n.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),n.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+o(G.internal.getWidth(e)/2)+" "+o(G.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=u(e),n=[],i=G.internal.getWidth(e)<=G.internal.getHeight(e)?G.internal.getWidth(e)/4:G.internal.getHeight(e)/4,s=(i=Number((.9*i).toFixed(5)),Number((2*i).toFixed(5))),l=Number((s*G.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+o(G.internal.getWidth(e)/2)+" "+o(G.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),n.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),n.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),n.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:G.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=G.RadioButton.Cross.YesNormal,t.D[e]=G.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=u(e),n=[],i=G.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+a(G.internal.getWidth(e)-2)+" "+a(G.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(a(i.x1.x)+" "+a(i.x1.y)+" m"),n.push(a(i.x2.x)+" "+a(i.x2.y)+" l"),n.push(a(i.x4.x)+" "+a(i.x4.y)+" m"),n.push(a(i.x3.x)+" "+a(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=u(e),n=G.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+a(G.internal.getWidth(e))+" "+a(G.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+a(G.internal.getWidth(e)-2)+" "+a(G.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(a(n.x1.x)+" "+a(n.x1.y)+" m"),i.push(a(n.x2.x)+" "+a(n.x2.y)+" l"),i.push(a(n.x4.x)+" "+a(n.x4.y)+" m"),i.push(a(n.x3.x)+" "+a(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=u(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+a(G.internal.getWidth(e))+" "+a(G.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=n.internal.getFont(e.fontName,e.fontStyle).id,i=n.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+i}};G.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=G.internal.getWidth(e),n=G.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},G.internal.getWidth=function(e){var t=0;return"object"===i(e)&&(t=c(e.Rect[2])),t},G.internal.getHeight=function(e){var t=0;return"object"===i(e)&&(t=c(e.Rect[3])),t};var X=e.addField=function(e){if(A.call(this),!(e instanceof R))throw new Error("Invalid argument passed to jsPDF.addField.");return(function(e){n.internal.acroformPlugin.printedOut&&(n.internal.acroformPlugin.printedOut=!1,n.internal.acroformPlugin.acroFormDictionaryRoot=null),n.internal.acroformPlugin.acroFormDictionaryRoot||A.call(n),n.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e)}).call(this,e),e.page=n.internal.getCurrentPageInfo().pageNumber,this};e.addButton=function(e){if(e instanceof j==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return X.call(this,e)},e.addTextField=function(e){if(e instanceof Y==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return X.call(this,e)},e.addChoiceField=function(e){if(e instanceof F==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return X.call(this,e)},"object"==i(t)&&void 0===t.ChoiceField&&void 0===t.ListBox&&void 0===t.ComboBox&&void 0===t.EditBox&&void 0===t.Button&&void 0===t.PushButton&&void 0===t.RadioButton&&void 0===t.CheckBox&&void 0===t.TextField&&void 0===t.PasswordField?(t.ChoiceField=F,t.ListBox=H,t.ComboBox=B,t.EditBox=V,t.Button=j,t.PushButton=z,t.RadioButton=q,t.CheckBox=W,t.TextField=Y,t.PasswordField=$,t.AcroForm={Appearance:G}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),e.AcroFormChoiceField=F,e.AcroFormListBox=H,e.AcroFormComboBox=B,e.AcroFormEditBox=V,e.AcroFormButton=j,e.AcroFormPushButton=z,e.AcroFormRadioButton=q,e.AcroFormCheckBox=W,e.AcroFormTextField=Y,e.AcroFormPasswordField=$,e.AcroFormAppearance=G,e.AcroForm={ChoiceField:F,ListBox:H,ComboBox:B,EditBox:V,Button:j,PushButton:z,RadioButton:q,CheckBox:W,TextField:Y,PasswordField:$,Appearance:G}})((window.tmp=ue).API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(e){var t="addImage_",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.getImageFileTypeByImageData=function(t,i){var s,l;i=i||"UNKNOWN";var r,a,o,h="UNKNOWN";for(o in e.isArrayBufferView(t)&&(t=e.arrayBufferToBinaryString(t)),n)for(r=n[o],s=0;s<r.length;s+=1){for(a=!0,l=0;l<r[s].length;l+=1)if(void 0!==r[s][l]&&r[s][l]!==t.charCodeAt(l)){a=!1;break}if(!0===a){h=o;break}}return"UNKNOWN"===h&&"UNKNOWN"!==i&&(console.warn('FileType of Image not recognized. Processing image as "'+i+'".'),h=i),h},l=function e(t){for(var n=this.internal.newObject(),i=this.internal.write,s=this.internal.putStream,l=(0,this.internal.getFilters)();-1!==l.indexOf("FlateEncode");)l.splice(l.indexOf("FlateEncode"),1);t.n=n;var r=[];if(r.push({key:"Type",value:"/XObject"}),r.push({key:"Subtype",value:"/Image"}),r.push({key:"Width",value:t.w}),r.push({key:"Height",value:t.h}),t.cs===this.color_spaces.INDEXED?r.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?n+2:n+1)+" 0 R]"}):(r.push({key:"ColorSpace",value:"/"+t.cs}),t.cs===this.color_spaces.DEVICE_CMYK&&r.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),r.push({key:"BitsPerComponent",value:t.bpc}),"dp"in t&&r.push({key:"DecodeParms",value:"<<"+t.dp+">>"}),"trns"in t&&t.trns.constructor==Array){for(var a="",o=0,h=t.trns.length;o<h;o++)a+=t.trns[o]+" "+t.trns[o]+" ";r.push({key:"Mask",value:"["+a+"]"})}if("smask"in t&&r.push({key:"SMask",value:n+1+" 0 R"}),s({data:t.data,additionalKeyValues:r,alreadyAppliedFilters:void 0!==t.f?["/"+t.f]:void 0}),i("endobj"),"smask"in t){var c={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:"/Predictor "+t.p+" /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,data:t.smask};"f"in t&&(c.f=t.f),e.call(this,c)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),s({data:this.arrayBufferToBinaryString(new Uint8Array(t.pal))}),i("endobj"))},r=function(){var e=this.internal.collections[t+"images"];for(var n in e)l.call(this,e[n])},a=function(){var e,n=this.internal.collections[t+"images"],i=this.internal.write;for(var s in n)i("/I"+(e=n[s]).i,e.n,"0","R")},o=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===i(e)&&1===e.nodeType},c=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var i=""+t.getAttribute("src");if(0===i.indexOf("data:image/"))return unescape(i);var s=e.loadFile(i);if(void 0!==s)return btoa(s)}if("CANVAS"===t.nodeName){var l=t;return t.toDataURL("image/jpeg",1)}(l=document.createElement("canvas")).width=t.clientWidth||t.width,l.height=t.clientHeight||t.height;var r=l.getContext("2d");if(!r)throw"addImage requires canvas to be supported by browser.";return r.drawImage(t,0,0,l.width,l.height),l.toDataURL("png"==(""+n).toLowerCase()?"image/png":"image/jpeg")},d=function(e,t){var n;if(t)for(var i in t)if(e===t[i].alias){n=t[i];break}return n};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(e){var t,n=0;if(0===(e=e||"").length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},e.isString=function(e){return"string"==typeof e},e.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+\/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(e.substr(-2))&&(t=!1),t},e.extractInfoFromBase64DataURI=function(e){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(e)},e.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var i=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(t[0]);Array.isArray(i)&&(n={mimeType:i[1],charset:i[2],data:t[1]})}return n},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(e){return!!this.supportsArrayBuffer()&&e instanceof ArrayBuffer},e.isArrayBufferView=function(e){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},e.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n},e.arrayBufferToBinaryString=function(e){if("function"==typeof atob)return atob(this.arrayBufferToBase64(e))},e.arrayBufferToBase64=function(e){for(var t,n="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(e),l=s.byteLength,r=l%3,a=l-r,o=0;o<a;o+=3)n+=i[(16515072&(t=s[o]<<16|s[o+1]<<8|s[o+2]))>>18]+i[(258048&t)>>12]+i[(4032&t)>>6]+i[63&t];return 1==r?n+=i[(252&(t=s[a]))>>2]+i[(3&t)<<4]+"==":2==r&&(n+=i[(64512&(t=s[a]<<8|s[a+1]))>>10]+i[(1008&t)>>4]+i[(15&t)<<2]+"="),n},e.createImageInfo=function(e,t,n,i,s,l,r,a,o,h,c,d,u){var p={alias:a,w:t,h:n,cs:i,bpc:s,i:r,data:e};return l&&(p.f=l),o&&(p.dp=o),h&&(p.trns=h),c&&(p.pal=c),d&&(p.smask=d),u&&(p.p=u),p},e.addImage=function(n,s,l,u,p,m,f,g,b){var v="";if("string"!=typeof s){var y=m;m=p,p=u,u=l,l=s,s=y}if("object"===i(n)&&!h(n)&&"imageData"in n){var w=n;n=w.imageData,s=w.format||s||"UNKNOWN",l=w.x||l||0,u=w.y||u||0,p=w.w||p,m=w.h||m,f=w.alias||f,g=w.compression||g,b=w.rotation||w.angle||b}var C=this.internal.getFilters();if(void 0===g&&-1!==C.indexOf("FlateEncode")&&(g="SLOW"),"string"==typeof n&&(n=unescape(n)),isNaN(l)||isNaN(u))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var x,_,S,k,E,O,I,D=(function(){var e=this.internal.collections[t+"images"];return e||(this.internal.collections[t+"images"]=e={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",a)),e}).call(this);if(!((x=d(n,D))||(h(n)&&(n=c(n,s)),(null==(I=f)||0===I.length)&&(f="string"==typeof(O=n)?e.sHashCode(O):e.isArrayBufferView(O)?e.sHashCode(e.arrayBufferToBinaryString(O)):null),x=d(f,D)))){if(this.isString(n)&&(""!==(v=this.convertStringToImageData(n))?n=v:void 0!==(v=e.loadFile(n))&&(n=v)),s=this.getImageFileTypeByImageData(n,s),!o(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(this.supportsArrayBuffer()&&(n instanceof Uint8Array||(_=n,n=this.binaryStringToUint8Array(n))),!(x=this["process"+s.toUpperCase()](n,(E=0,(k=D)&&(E=Object.keys?Object.keys(k).length:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}(k)),E),f,((S=g)&&"string"==typeof S&&(S=S.toUpperCase()),S in e.image_compression?S:e.image_compression.NONE),_)))throw new Error("An unknown error occurred whilst processing the image")}return(function(e,t,n,i,s,l,r,a){var o=(function(e,t,n){return e||t||(t=e=-96),e<0&&(e=-1*n.w*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.h*72/t/this.internal.scaleFactor),0===e&&(e=t*n.w/n.h),0===t&&(t=e*n.h/n.w),[e,t]}).call(this,n,i,s),h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;if(n=o[0],i=o[1],r[l]=s,a){a*=Math.PI/180;var d=Math.cos(a),u=Math.sin(a),p=function(e){return e.toFixed(4)},m=[p(d),p(u),p(-1*u),p(d),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,h(e),c(t+i),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([h(n),"0","0",h(i),"0","0","cm"].join(" "))):this.internal.write([h(n),"0","0",h(i),h(e),c(t+i),"cm"].join(" ")),this.internal.write("/I"+s.i+" Do"),this.internal.write("Q")}).call(this,l,u,p,m,x,x.i,D,b),this},e.convertStringToImageData=function(t){var n,i="";if(this.isString(t)){var s;n=null!==(s=this.extractImageFromDataUrl(t))?s.data:t;try{i=atob(n)}catch(t){throw e.validateStringAsBase64(n)?new Error("atob-Error in jsPDF.convertStringToImageData "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return i};var u=function(e,t){return e.subarray(t,t+5)};e.processJPEG=function(e,t,n,i,l,r){var a,o=this.decode.DCT_DECODE;if(!this.isString(e)&&!this.isArrayBuffer(e)&&!this.isArrayBufferView(e))return null;if(this.isString(e)&&(a=function(e){var t;if("JPEG"!==s(e))throw new Error("getJpegSize requires a binary string jpeg file");for(var n=256*e.charCodeAt(4)+e.charCodeAt(5),i=4,l=e.length;i<l;){if(255!==e.charCodeAt(i+=n))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(i+1)||193===e.charCodeAt(i+1)||194===e.charCodeAt(i+1)||195===e.charCodeAt(i+1)||196===e.charCodeAt(i+1)||197===e.charCodeAt(i+1)||198===e.charCodeAt(i+1)||199===e.charCodeAt(i+1))return t=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),[256*e.charCodeAt(i+7)+e.charCodeAt(i+8),t,e.charCodeAt(i+9)];n=256*e.charCodeAt(i+=2)+e.charCodeAt(i+1)}}(e)),this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)&&(a=function(e){if(65496!=(e[0]<<8|e[1]))throw new Error("Supplied data is not a JPEG");for(var t,n=e.length,i=(e[4]<<8)+e[5],s=4;s<n;){if(i=((t=u(e,s+=i))[2]<<8)+t[3],(192===t[1]||194===t[1])&&255===t[0]&&7<i)return{width:((t=u(e,s+5))[2]<<8)+t[3],height:(t[0]<<8)+t[1],numcomponents:t[4]};s+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(e),e=l||this.arrayBufferToBinaryString(e)),void 0===r)switch(a.numcomponents){case 1:r=this.color_spaces.DEVICE_GRAY;break;case 4:r=this.color_spaces.DEVICE_CMYK;break;default:case 3:r=this.color_spaces.DEVICE_RGB}return this.createImageInfo(e,a.width,a.height,r,8,o,t,n)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)},e.getImageProperties=function(t){var n,i,s="";if(h(t)&&(t=c(t)),this.isString(t)&&(""!==(s=this.convertStringToImageData(t))?t=s:void 0!==(s=e.loadFile(t))&&(t=s)),i=this.getImageFileTypeByImageData(t),!o(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(t=this.binaryStringToUint8Array(t))),!(n=this["process"+i.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:i,width:n.w,height:n.h,colorSpace:n.cs,compressionMode:n.f,bitsPerComponent:n.bpc}}}(ue.API),l=ue.API,ue.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),l.events.push(["putPage",function(e){for(var t=this.internal.getPageInfoByObjId(e.objId),n=e.pageContext.annotations,i=function(e){if(void 0!==e&&""!=e)return!0},s=!1,l=0;l<n.length&&!s;l++)switch((o=n[l]).type){case"link":if(i(o.options.url)||i(o.options.pageNumber)){s=!0;break}case"reference":case"text":case"freetext":s=!0}if(0!=s){this.internal.write("/Annots [");var r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;for(l=0;l<n.length;l++){var o;switch((o=n[l]).type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var h=this.internal.newAdditionalObject(),c=this.internal.newAdditionalObject(),d=o.title||"Note";f="<</Type /Annot /Subtype /Text "+(p="/Rect ["+r(o.bounds.x)+" "+a(o.bounds.y+o.bounds.h)+" "+r(o.bounds.x+o.bounds.w)+" "+a(o.bounds.y)+"] ")+"/Contents ("+o.contents+")",f+=" /Popup "+c.objId+" 0 R",f+=" /P "+t.objId+" 0 R",h.content=f+=" /T ("+d+") >>";var u=h.objId+" 0 R";f="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+r(o.bounds.x+30)+" "+a(o.bounds.y+o.bounds.h)+" "+r(o.bounds.x+o.bounds.w+30)+" "+a(o.bounds.y)+"] ")+" /Parent "+u,o.open&&(f+=" /Open true"),c.content=f+=" >>",this.internal.write(h.objId,"0 R",c.objId,"0 R");break;case"freetext":var p="/Rect ["+r(o.bounds.x)+" "+a(o.bounds.y)+" "+r(o.bounds.x+o.bounds.w)+" "+a(o.bounds.y+o.bounds.h)+"] ";f="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+o.contents+")",f+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+(o.color||"#000000")+")",f+=" /Border [0 0 0]",this.internal.write(f+=" >>");break;case"link":if(o.options.name){var m=this.annotations._nameMap[o.options.name];o.options.pageNumber=m.page,o.options.top=m.y}else o.options.top||(o.options.top=0);p="/Rect ["+r(o.x)+" "+a(o.y)+" "+r(o.x+o.w)+" "+a(o.y+o.h)+"] ";var f="";if(o.options.url)f="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+o.options.url+") >>";else if(o.options.pageNumber)switch(f="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":f+=" /Fit]";break;case"FitH":f+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,f+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var g=a(o.options.top);o.options.left=o.options.left||0,void 0===o.options.zoom&&(o.options.zoom=0),f+=" /XYZ "+o.options.left+" "+g+" "+o.options.zoom+"]"}""!=f&&this.internal.write(f+=" >>")}}this.internal.write("]")}}]),l.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},l.link=function(e,t,n,i,s){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:e,y:t,w:n,h:i,options:s,type:"link"})},l.textWithLink=function(e,t,n,i){var s=this.getTextWidth(e),l=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(e,t,n),this.link(t,(n+=.2*l)-l,s,l,i),s},l.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var l=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},r=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return r(e)&&l(e)&&t[e.charCodeAt(0)].length<=2},o=e.__arabicParser__.isArabicAlfLetter=function(e){return r(e)&&0<=s.indexOf(e.charCodeAt(0))},h=(e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return r(e)&&l(e)&&1<=t[e.charCodeAt(0)].length},e.__arabicParser__.arabicLetterHasFinalForm=function(e){return r(e)&&l(e)&&2<=t[e.charCodeAt(0)].length}),c=(e.__arabicParser__.arabicLetterHasInitialForm=function(e){return r(e)&&l(e)&&3<=t[e.charCodeAt(0)].length},e.__arabicParser__.arabicLetterHasMedialForm=function(e){return r(e)&&l(e)&&4==t[e.charCodeAt(0)].length}),d=e.__arabicParser__.resolveLigatures=function(e){var t=0,i=n,s=0,l="",r=0;for(t=0;t<e.length;t+=1)void 0!==i[e.charCodeAt(t)]?(r++,"number"==typeof(i=i[e.charCodeAt(t)])&&(s=-1!==(s=u(e.charAt(t),e.charAt(t-r),e.charAt(t+1)))?s:0,l+=String.fromCharCode(i),i=n,r=0),t===e.length-1&&(i=n,l+=e.charAt(t-(r-1)),t-=r-1,r=0)):(i=n,l+=e.charAt(t-r),t-=r,r=0);return l},u=(e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==i[e.charCodeAt(0)]},e.__arabicParser__.getCorrectForm=function(e,t,n){return r(e)?!1===l(e)?-1:!h(e)||!r(t)&&!r(n)||!r(n)&&a(t)||a(e)&&!r(t)||a(e)&&o(t)||a(e)&&a(t)?0:c(e)&&r(t)&&!a(t)&&r(n)&&h(n)?3:a(e)||!r(n)?1:2:-1}),p=e.__arabicParser__.processArabic=e.processArabic=function(e){var n=0,i=0,s=0,l="",a="",o="",h=(e=e||"").split("\\s+"),c=[];for(n=0;n<h.length;n+=1){for(c.push(""),i=0;i<h[n].length;i+=1)a=h[n][i-1],o=h[n][i+1],r(l=h[n][i])?(s=u(l,a,o),c[n]+=-1!==s?String.fromCharCode(t[l.charCodeAt(0)][s]):l):c[n]+=l;c[n]=d(c[n])}return c.join(" ")};e.events.push(["preProcessText",function(e){var t=e.text,n=[];if("[object Array]"===Object.prototype.toString.call(t)){var i=0;for(n=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?n.push([p(t[i][0]),t[i][1],t[i][2]]):n.push([p(t[i])]);e.text=n}else e.text=p(t)}])}(ue.API),ue.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},r=ue.API,(a=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(e){i=e}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return(this.pdf.context2d._canvas=this).pdf.context2d},a.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new a,this.canvas.pdf=this}]),c={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},d=1,u=function(e,t,n,i,s){c={x:e,y:t,w:n,h:i,ln:s}},p=function(){return c},m={left:0,top:0,bottom:0},(o=ue.API).setHeaderFunction=function(e){h=e},o.getTextDimensions=function(e,t){var n=this.table_font_size||this.internal.getFontSize(),i=(this.internal.getFont(),(t=t||{}).scaleFactor||this.internal.scaleFactor),s=0,l=0,r=0;if("string"==typeof e)0!=(s=this.getStringUnitWidth(e)*n)&&(l=1);else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var a=0;a<e.length;a++)s<(r=this.getStringUnitWidth(e[a])*n)&&(s=r);0!==s&&(l=e.length)}return{w:s/=i,h:Math.max((l*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},o.cellAddPage=function(){var e=this.margins||m;this.addPage(),u(e.left,e.top,void 0,void 0),d+=1},o.cellInitialize=function(){c={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},d=1},o.cell=function(e,t,n,i,s,l,r){var a=p(),o=!1;if(void 0!==a.ln)if(a.ln===l)e=a.x+a.w,t=a.y;else{var h=this.margins||m;a.y+a.h+i+13>=this.internal.pageSize.getHeight()-h.bottom&&(this.cellAddPage(),o=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(l,!0)),t=p().y+p().h,o&&(t=23)}if(void 0!==s[0])if(this.printingHeaderRow?this.rect(e,t,n,i,"FD"):this.rect(e,t,n,i),"right"===r){s instanceof Array||(s=[s]);for(var c=0;c<s.length;c++){var d=s[c],f=this.getStringUnitWidth(d)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(d,e+n-f-3,t+this.internal.getLineHeight()*(c+1))}}else this.text(s,e+3,t+this.internal.getLineHeight());return u(e,t,n,i,l),this},o.arrayMax=function(e,t){var n,i,s,l=e[0];for(n=0,i=e.length;n<i;n+=1)s=e[n],t?-1===t(l,s)&&(l=s):l<s&&(l=s);return l},o.table=function(e,t,n,i,s){if(!n)throw"No data for PDF table";var l,r,a,h,u,p,f,g,b,v=[],y=[],w={},C={},x=[],_=[],S=!1,k=!0,E=12,O=m;if(O.width=this.internal.pageSize.getWidth(),s&&(!0===s.autoSize&&(S=!0),!1===s.printHeaders&&(k=!1),s.fontSize&&(E=s.fontSize),s.css&&void 0!==s.css["font-size"]&&(E=16*s.css["font-size"]),s.margins&&(O=s.margins)),this.lnMod=0,c={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},d=1,this.printHeaders=k,this.margins=O,this.setFontSize(E),this.table_font_size=E,null==i)v=Object.keys(n[0]);else if(i[0]&&"string"!=typeof i[0])for(r=0,a=i.length;r<a;r+=1)v.push((l=i[r]).name),y.push(l.prompt),C[l.name]=l.width*(19.049976/25.4);else v=i;if(S)for(b=function(e){return e[l]},r=0,a=v.length;r<a;r+=1){for(w[l=v[r]]=n.map(b),x.push(this.getTextDimensions(y[r]||l,{scaleFactor:1}).w),p=0,h=(u=w[l]).length;p<h;p+=1)x.push(this.getTextDimensions(u[p],{scaleFactor:1}).w);C[l]=o.arrayMax(x),x=[]}if(k){var I=this.calculateLineHeight(v,C,y.length?y:v);for(r=0,a=v.length;r<a;r+=1)_.push([e,t,C[l=v[r]],I,String(y.length?y[r]:l)]);this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}for(r=0,a=n.length;r<a;r+=1)for(I=this.calculateLineHeight(v,C,f=n[r]),p=0,g=v.length;p<g;p+=1)this.cell(e,t,C[l=v[p]],I,f[l],r+2,l.align);return this.lastCellPos=c,this.table_x=e,this.table_y=t,this},o.calculateLineHeight=function(e,t,n){for(var i,s=0,l=0;l<e.length;l++){n[i=e[l]]=this.splitTextToSize(String(n[i]),t[i]-3);var r=this.internal.getLineHeight()*n[i].length+3;s<r&&(s=r)}return s},o.setTableHeaderRow=function(e){this.tableHeaderRow=e},o.printHeaderRow=function(e,t){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,i,s,l;if(this.printingHeaderRow=!0,void 0!==h){var r=h(this,d);u(r[0],r[1],r[2],r[3],-1)}this.setFontStyle("bold");var a=[];for(s=0,l=this.tableHeaderRow.length;s<l;s+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[s],t&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,a.push(n)),i=[].concat(n),this.cell.apply(this,i.concat(e));0<a.length&&this.setTableHeaderRow(a),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(e,t){var n,s,l,r,a,o=function(e){return this.isStrokeTransparent=(e=e||{}).isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new N,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new P,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new P,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),n=this.internal.f2,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate}]);var h=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return e}});var t=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return t},set:function(e){t=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}});var l=!1;Object.defineProperty(this,"autoPaging",{get:function(){return l},set:function(e){l=Boolean(e)}});var r=0;Object.defineProperty(this,"lastBreak",{get:function(){return r},set:function(e){r=e}});var a=[];Object.defineProperty(this,"pageBreaks",{get:function(){return a},set:function(e){a=e}});var h=new o;Object.defineProperty(this,"ctx",{get:function(){return h},set:function(e){e instanceof o&&(h=e)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(e){h.path=e}});var d=[];Object.defineProperty(this,"ctxStack",{get:function(){return d},set:function(e){d=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=c(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=c(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(t.r,t.g,t.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],i=t[3],s=t[4],l=t[5],r=t[6];s="px"===l?Math.floor(parseFloat(s)):"em"===l?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)),this.pdf.setFontSize(s);var a="";("bold"===i||700<=parseInt(i,10)||"bold"===n)&&(a="bold"),"italic"===n&&(a+="italic"),0===a.length&&(a="normal");for(var o="",h=r.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),c={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<h.length;d++){if(void 0!==this.pdf.internal.getFont(h[d],a,{noFallback:!0,disableWarning:!0})){o=h[d];break}if("bolditalic"===a&&void 0!==this.pdf.internal.getFont(h[d],"bold",{noFallback:!0,disableWarning:!0}))o=h[d],a="bold";else if(void 0!==this.pdf.internal.getFont(h[d],"normal",{noFallback:!0,disableWarning:!0})){o=h[d],a="normal";break}}if(""===o)for(d=0;d<h.length;d++)if(c[h[d]]){o=c[h[d]];break}this.pdf.setFont(o=""===o?"Times":o,a)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};h.prototype.fill=function(){g.call(this,"fill",!1)},h.prototype.stroke=function(){g.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new P(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new P(e,t)},h.prototype.closePath=function(){var e=new P(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===i(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new P(this.path[t+1].x,this.path[t+1].y),this.path.push({type:"lt",x:e.x,y:e.y});break}"object"===i(this.path[t+2])&&"number"==typeof this.path[t+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[t+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new P(e.x,e.y)},h.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new P(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new P(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),g.call(this,null,!0)},h.prototype.quadraticCurveTo=function(e,t,n,i){if(isNaN(n)||isNaN(i)||isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new P(n,i)),l=this.ctx.transform.applyToPoint(new P(e,t));this.path.push({type:"qct",x1:l.x,y1:l.y,x:s.x,y:s.y}),this.ctx.lastPoint=new P(s.x,s.y)},h.prototype.bezierCurveTo=function(e,t,n,i,s,l){if(isNaN(s)||isNaN(l)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var r=this.ctx.transform.applyToPoint(new P(s,l)),a=this.ctx.transform.applyToPoint(new P(e,t)),o=this.ctx.transform.applyToPoint(new P(n,i));this.path.push({type:"bct",x1:a.x,y1:a.y,x2:o.x,y2:o.y,x:r.x,y:r.y}),this.ctx.lastPoint=new P(r.x,r.y)},h.prototype.arc=function(e,t,n,i,s,l){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(s))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(l=Boolean(l),!this.ctx.transform.isIdentity){var r=this.ctx.transform.applyToPoint(new P(e,t));e=r.x,t=r.y;var a=this.ctx.transform.applyToPoint(new P(0,n)),o=this.ctx.transform.applyToPoint(new P(0,0));n=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2))}Math.abs(s-i)>=2*Math.PI&&(i=0,s=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:i,endAngle:s,counterclockwise:l})},h.prototype.arcTo=function(e,t,n,i,s){throw new Error("arcTo not implemented.")},h.prototype.rect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},h.prototype.fillRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,i),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},h.prototype.strokeRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");u.call(this)||(this.beginPath(),this.rect(e,t,n,i),this.stroke())},h.prototype.clearRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,i))},h.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new o(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},h.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var c=function(e){var t,n,i,s;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))s=i=n=t=0;else{var l=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==l)t=parseInt(l[1]),n=parseInt(l[2]),i=parseInt(l[3]),s=1;else if(null!==(l=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(e)))t=parseInt(l[1]),n=parseInt(l[2]),i=parseInt(l[3]),s=parseFloat(l[4]);else{if(s=1,"string"==typeof e&&"#"!==e.charAt(0)){var r=new RGBColor(e);e=r.ok?r.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,i=e.substring(3,4),i+=i):(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),i=parseInt(i,16)}}return{r:t,g:n,b:i,a:s,style:e}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},u=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!d.call(this)){n=v.call(this,n);var s=D(this.ctx.transform.rotation),l=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:l,angle:s,align:this.textAlign,maxWidth:i})}},h.prototype.strokeText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!u.call(this)){i=isNaN(i)?void 0:i,n=v.call(this,n);var s=D(this.ctx.transform.rotation),l=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:l,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:i})}},h.prototype.measureText=function(e){if("string"!=typeof e)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,i=t.internal.getFontSize(),s=t.getStringUnitWidth(e)*i/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:s*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new N(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(e){if(isNaN(e))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new N(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},h.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new N(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(e,t,n,i,s,l){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(s)||isNaN(l))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var r=new N(e,t,n,i,s,l);this.ctx.transform=this.ctx.transform.multiply(r)},h.prototype.setTransform=function(e,t,n,i,s,l){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,i=isNaN(i)?1:i,s=isNaN(s)?0:s,l=isNaN(l)?0:l,this.ctx.transform=new N(e,t,n,i,s,l)},h.prototype.drawImage=function(e,t,n,i,s,l,r,a,o){var h=this.pdf.getImageProperties(e),c=1,d=1,u=1,m=1;void 0!==i&&void 0!==a&&(u=a/i,m=o/s,c=h.width/i*a/i,d=h.height/s*o/s),void 0===l&&(l=t,r=n,n=t=0),void 0!==i&&void 0===a&&(a=i,o=s),void 0===i&&void 0===a&&(a=h.width,o=h.height);for(var g,v=this.ctx.transform.decompose(),y=D(v.rotate.shx),w=new N,C=((w=(w=(w=w.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToPoint(new P(a,o)),w.applyToRectangle(new L(l-t*u,r-n*m,i*c,s*d))),x=p.call(this,C),_=[],S=0;S<x.length;S+=1)-1===_.indexOf(x[S])&&_.push(x[S]);if(_.sort(),this.autoPaging)for(var k=_[_.length-1],E=_[0];E<k+1;E++){if(this.pdf.setPage(E),0!==this.ctx.clip_path.length){var O=this.path;g=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=f(g,this.posX,-1*this.pdf.internal.pageSize.height*(E-1)+this.posY),b.call(this,"fill",!0),this.path=O}var I=JSON.parse(JSON.stringify(C));I=f([I],this.posX,-1*this.pdf.internal.pageSize.height*(E-1)+this.posY)[0],this.pdf.addImage(e,"jpg",I.x,I.y,I.w,I.h,null,null,y)}else this.pdf.addImage(e,"jpg",C.x,C.y,C.w,C.h,null,null,y)};var p=function(e,t,n){var i=[];switch(t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,e.type){default:case"mt":case"lt":i.push(Math.floor((e.y+this.posY)/n)+1);break;case"arc":i.push(Math.floor((e.y+this.posY-e.radius)/n)+1),i.push(Math.floor((e.y+this.posY+e.radius)/n)+1);break;case"qct":var s=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);i.push(Math.floor(s.y/n)+1),i.push(Math.floor((s.y+s.h)/n)+1);break;case"bct":var l=T(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);i.push(Math.floor(l.y/n)+1),i.push(Math.floor((l.y+l.h)/n)+1);break;case"rect":i.push(Math.floor((e.y+this.posY)/n)+1),i.push(Math.floor((e.y+e.h+this.posY)/n)+1)}for(var r=0;r<i.length;r+=1)for(;this.pdf.internal.getNumberOfPages()<i[r];)m.call(this);return i},m=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,i=this.lineCap,s=this.lineWidth,l=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=i,this.lineWidth=s,this.lineJoin=l},f=function(e,t,n){for(var i=0;i<e.length;i++)switch(e[i].type){case"bct":e[i].x2+=t,e[i].y2+=n;case"qct":e[i].x1+=t,e[i].y1+=n;case"mt":case"lt":case"arc":default:e[i].x+=t,e[i].y+=n}return e},g=function(e,t){for(var n,i,s=this.fillStyle,l=this.strokeStyle,r=this.lineCap,a=this.lineWidth,o=this.lineJoin,h=JSON.parse(JSON.stringify(this.path)),c=JSON.parse(JSON.stringify(this.path)),d=[],u=0;u<c.length;u++)if(void 0!==c[u].x)for(var g=p.call(this,c[u]),v=0;v<g.length;v+=1)-1===d.indexOf(g[v])&&d.push(g[v]);for(u=0;u<d.length;u++)for(;this.pdf.internal.getNumberOfPages()<d[u];)m.call(this);if(d.sort(),this.autoPaging){var y=d[d.length-1];for(u=d[0];u<y+1;u++){if(this.pdf.setPage(u),this.fillStyle=s,this.strokeStyle=l,this.lineCap=r,this.lineWidth=a,this.lineJoin=o,0!==this.ctx.clip_path.length){var w=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=f(n,this.posX,-1*this.pdf.internal.pageSize.height*(u-1)+this.posY),b.call(this,e,!0),this.path=w}i=JSON.parse(JSON.stringify(h)),this.path=f(i,this.posX,-1*this.pdf.internal.pageSize.height*(u-1)+this.posY),!1!==t&&0!==u||b.call(this,e,t)}}else b.call(this,e,t);this.path=h},b=function(e,t){if(("stroke"!==e||t||!u.call(this))&&("stroke"===e||t||!d.call(this))){for(var n,i=[],s=this.path,l=0;l<s.length;l++){var r=s[l];switch(r.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:r,deltas:[],abs:[]});break;case"lt":var a=i.length;if(!isNaN(s[l-1].x)){var o=[r.x-s[l-1].x,r.y-s[l-1].y];if(0<a)for(;0<=a;a--)if(!0!==i[a-1].close&&!0!==i[a-1].begin){i[a-1].deltas.push(o),i[a-1].abs.push(r);break}}break;case"bct":i[i.length-1].deltas.push(o=[r.x1-s[l-1].x,r.y1-s[l-1].y,r.x2-s[l-1].x,r.y2-s[l-1].y,r.x-s[l-1].x,r.y-s[l-1].y]);break;case"qct":i[i.length-1].deltas.push(o=[s[l-1].x+2/3*(r.x1-s[l-1].x)-s[l-1].x,s[l-1].y+2/3*(r.y1-s[l-1].y)-s[l-1].y,r.x+2/3*(r.x1-r.x)-s[l-1].x,r.y+2/3*(r.y1-r.y)-s[l-1].y,r.x-s[l-1].x,r.y-s[l-1].y]);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(r)}}for(n=t?null:"stroke"===e?"stroke":"fill",l=0;l<i.length;l++){if(i[l].arc)for(var h=i[l].abs,c=0;c<h.length;c++){var p=h[c];if(void 0!==p.startAngle){var m=D(p.startAngle),f=D(p.endAngle),g=p.x,b=p.y;y.call(this,g,b,p.radius,m,f,p.counterclockwise,n,t)}else S.call(this,p.x,p.y)}i[l].arc||!0===i[l].close||!0===i[l].begin||k.call(this,i[l].deltas,g=i[l].start.x,b=i[l].start.y,null,null)}n&&w.call(this,n),t&&C.call(this)}},v=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}};h.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var y=function(e,t,n,i,s,l,r,a){for(var o=A(i),h=A(s),c=O.call(this,n,o,h,l),d=0;d<c.length;d++){var u=c[d];0===d&&x.call(this,u.x1+e,u.y1+t),E.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}a?C.call(this):w.call(this,r)},w=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip()},x=function(e,t){this.pdf.internal.out(s(e)+" "+l(t)+" m")},_=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.ctx.transform.applyToPoint(new P(e.x,e.y)),i=this.ctx.transform.decompose(),s=new N;s=(s=(s=s.multiply(i.translate)).multiply(i.skew)).multiply(i.scale);for(var l,r=this.pdf.getTextDimensions(e.text),a=this.ctx.transform.applyToRectangle(new L(e.x,e.y,r.w,r.h)),o=s.applyToRectangle(new L(e.x,e.y-r.h,r.w,r.h)),h=p.call(this,o),c=[],d=0;d<h.length;d+=1)-1===c.indexOf(h[d])&&c.push(h[d]);if(c.sort(),!0===this.autoPaging)for(var u=c[c.length-1],m=c[0];m<u+1;m++){if(this.pdf.setPage(m),0!==this.ctx.clip_path.length){var g=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=f(l,this.posX,-1*this.pdf.internal.pageSize.height*(m-1)+this.posY),b.call(this,"fill",!0),this.path=g}var v=JSON.parse(JSON.stringify(a));if(v=f([v],this.posX,-1*this.pdf.internal.pageSize.height*(m-1)+this.posY)[0],.01<=e.scale){var y=this.pdf.internal.getFontSize();this.pdf.setFontSize(y*e.scale)}this.pdf.text(e.text,v.x,v.y,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),.01<=e.scale&&this.pdf.setFontSize(y)}else.01<=e.scale&&(y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(y*e.scale)),this.pdf.text(e.text,n.x+this.posX,n.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),.01<=e.scale&&this.pdf.setFontSize(y)},S=function(e,t,n,i){i=i||0,this.pdf.internal.out(s(e+(n=n||0))+" "+l(t+i)+" l")},k=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},E=function(e,t,i,s,l,o,h,c){this.pdf.internal.out([n(r(i+e)),n(a(s+t)),n(r(l+e)),n(a(o+t)),n(r(h+e)),n(a(c+t)),"c"].join(" "))},O=function(e,t,n,i){var s=2*Math.PI,l=t;(l<s||s<l)&&(l%=s);var r=n;(r<s||s<r)&&(r%=s);for(var a=[],o=Math.PI/2,h=i?-1:1,c=t,d=Math.min(s,Math.abs(r-l));1e-5<d;){var u=c+h*Math.min(d,o);a.push(I.call(this,e,c,u)),d-=Math.abs(u-c),c=u}return a},I=function(e,t,n){var i=(n-t)/2,s=e*Math.cos(i),l=e*Math.sin(i),r=s,a=-l,o=r*r+a*a,h=o+r*s+a*l,c=4/3*(Math.sqrt(2*o*h)-h)/(r*l-a*s),d=r-c*a,u=a+c*r,p=d,m=-u,f=i+t,g=Math.cos(f),b=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*g-u*b,y2:d*b+u*g,x3:p*g-m*b,y3:p*b+m*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},D=function(e){return 180*e/Math.PI},A=function(e){return e*Math.PI/180},M=function(e,t,n,i,s,l){var r=e+.5*(n-e),a=t+.5*(i-t),o=s+.5*(n-s),h=l+.5*(i-l),c=Math.min(e,s,r,o),d=Math.max(e,s,r,o),u=Math.min(t,l,a,h),p=Math.max(t,l,a,h);return new L(c,u,d-c,p-u)},T=function(e,t,n,i,s,l,r,a){for(var o,h,c,d,u,p,m,f,g,b,v,y,w,C=n-e,x=i-t,_=s-n,S=l-i,k=r-s,E=a-l,O=0;O<41;O++)f=(p=(h=e+(o=O/40)*C)+o*((d=n+o*_)-h))+o*(d+o*(s+o*k-d)-p),g=(m=(c=t+o*x)+o*((u=i+o*S)-c))+o*(u+o*(l+o*E-u)-m),w=0==O?(y=b=f,v=g):(b=Math.min(b,f),v=Math.min(v,g),y=Math.max(y,f),Math.max(w,g));return new L(Math.round(b),Math.round(v),Math.round(y-b),Math.round(w-v))},P=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(e){s=e.toString()}}),this},L=function(e,t,n,i){P.call(this,e,t),this.type="rect";var s=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}});var l=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return l},set:function(e){isNaN(e)||(l=parseFloat(e))}}),this},N=function(e,t,n,i,s,l){var r=[];return Object.defineProperty(this,"sx",{get:function(){return r[0]},set:function(e){r[0]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return r[1]},set:function(e){r[1]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return r[2]},set:function(e){r[2]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return r[3]},set:function(e){r[3]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return r[4]},set:function(e){r[4]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return r[5]},set:function(e){r[5]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(e)?1:e,this.shy=isNaN(t)?0:t,this.shx=isNaN(n)?0:n,this.sy=isNaN(i)?1:i,this.tx=isNaN(s)?0:s,this.ty=isNaN(l)?0:l,this};N.prototype.multiply=function(e){return new N(e.sx*this.sx+e.shy*this.shx,e.sx*this.shy+e.shy*this.sy,e.shx*this.sx+e.sy*this.shx,e.shx*this.shy+e.sy*this.sy,e.tx*this.sx+e.ty*this.shx+this.tx,e.tx*this.shy+e.ty*this.sy+this.ty)},N.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,s=this.tx,l=this.ty,r=Math.sqrt(e*e+t*t),a=(e/=r)*n+(t/=r)*i;n-=e*a,i-=t*a;var o=Math.sqrt(n*n+i*i);return a/=o,e*(i/=o)<t*(n/=o)&&(e=-e,t=-t,a=-a,r=-r),{scale:new N(r,0,0,o,0,0),translate:new N(1,0,0,1,s,l),rotate:new N(e,t,-t,e,0,0),skew:new N(1,0,a,1,0,0)}},N.prototype.applyToPoint=function(e){return new P(e.x*this.sx+e.y*this.shx+this.tx,e.x*this.shy+e.y*this.sy+this.ty)},N.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new P(e.x+e.w,e.y+e.h));return new L(t.x,t.y,n.x-t.x,n.y-t.y)},N.prototype.clone=function(){return new N(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)}}(ue.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),g=function(e){var t,n,i,s,l,r,a,o,h,c;for(/[^\x00-\xFF]/.test(e),n=[],i=0,s=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i<s;i+=4)0!==(l=(e.charCodeAt(i)<<24)+(e.charCodeAt(i+1)<<16)+(e.charCodeAt(i+2)<<8)+e.charCodeAt(i+3))?(r=(l=((l=((l=((l=(l-(c=l%85))/85)-(h=l%85))/85)-(o=l%85))/85)-(a=l%85))/85)%85,n.push(r+33,a+33,o+33,h+33,c+33)):n.push(122);return function(e,n){for(var i=t.length;0<i;i--)e.pop()}(n),String.fromCharCode.apply(String,n)+"~>"},b=function(e){var t,n,i,s,l,r=String,a="length",o="charCodeAt",h="slice",c="replace";for(e[h](-2),e=e[h](0,-2)[c](/\s/g,"")[c]("z","!!!!!"),i=[],s=0,l=(e+=t="uuuuu"[h](e[a]%5||5))[a];s<l;s+=5)n=52200625*(e[o](s)-33)+614125*(e[o](s+1)-33)+7225*(e[o](s+2)-33)+85*(e[o](s+3)-33)+(e[o](s+4)-33),i.push(255&n>>24,255&n>>16,255&n>>8,255&n);return function(e,n){for(var i=t[a];0<i;i--)e.pop()}(i),r.fromCharCode.apply(r,i)},v=function(e){for(var t="",n=0;n<e.length;n+=1)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t+">"},y=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",i=0;i<e.length;i+=2)n+=String.fromCharCode("0x"+(e[i]+e[i+1]));return n},w=function(e,t){t=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},t);for(var n,i,s=[],l=e.length;l--;)s[l]=e.charCodeAt(l);return n=f.adler32cs.from(e),(i=new Deflater(6)).append(new Uint8Array(s)),e=i.flush(),(s=new Uint8Array(e.length+6)).set(new Uint8Array([120,156])),s.set(e,2),s.set(new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255]),e.length+2),String.fromCharCode.apply(null,s)},(f=ue.API).processDataByFilters=function(e,t){var n=0,i=e||"",s=[];for("string"==typeof(t=t||[])&&(t=[t]),n=0;n<t.length;n+=1)switch(t[n]){case"ASCII85Decode":case"/ASCII85Decode":i=b(i),s.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":i=g(i),s.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":i=y(i),s.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":i=v(i),s.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":i=w(i),s.push("/FlateDecode");break;default:throw'The filter: "'+t[n]+'" is not implemented'}return{data:i,reverseChain:s.reverse().join(" ")}},(C=ue.API).loadFile=function(e,t,n){var i;t=t||!0,n=n||function(){};try{i=function(e,t,n){var i=new XMLHttpRequest,s=[],l=0,r=function(e){var t=e.length,n=String.fromCharCode;for(l=0;l<t;l+=1)s.push(n(255&e.charCodeAt(l)));return s.join("")};if(i.open("GET",e,!t),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(i.onload=function(){return r(this.responseText)}),i.send(null),200===i.status)return t?r(i.responseText):void 0;console.warn('Unable to load file "'+e+'"')}(e,t)}catch(e){i=void 0}return i},C.loadImageFile=C.loadFile,x=ue.API,_="undefined"!=typeof window&&window||"undefined"!=typeof global&&global,S=function(e){var t=i(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},k=function(e,t){var n=document.createElement(e);if(t.className&&(n.className=t.className),t.innerHTML){n.innerHTML=t.innerHTML;for(var i=n.getElementsByTagName("script"),s=i.length;0<s--;null)i[s].parentNode.removeChild(i[s])}for(var l in t.style)n.style[l]=t.style[l];return n},(((E=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),i=e.convert(Promise.resolve(),n);return(i=i.setProgress(1,e,1,[e])).set(t)}).prototype=Object.create(Promise.prototype)).constructor=E).convert=function(e,t){return e.__proto__=t||E.prototype,e},E.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},E.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(S(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.set({src:k("div",{innerHTML:e})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},E.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},E.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},t=function e(t,n){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),s=t.firstChild;s;s=s.nextSibling)!0!==n&&1===s.nodeType&&"SCRIPT"===s.nodeName||i.appendChild(e(s,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value),i.addEventListener("load",(function(){i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft}),!0)),i}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=k("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=k("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(k("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},E.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then((function(){var e=Object.assign({},this.opt.html2canvas);if(delete e.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},E.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then((function(){var e=this.opt.jsPDF,t=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete t.onrendered,e.context2d.autoPaging=!0,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,t.windowHeight=t.windowHeight||0,t.windowHeight=0==t.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):t.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},E.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},E.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},E.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},E.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},E.prototype.outputImg=function(e,t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},E.prototype.isHtml2CanvasLoaded=function(){var e=void 0!==_.html2canvas;return e||console.error("html2canvas not loaded."),e},E.prototype.save=function(e){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},E.prototype.doCallback=function(e){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},E.prototype.set=function(e){if("object"!==S(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in E.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},E.prototype.get=function(e,t){return this.then((function(){var n=e in E.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},E.prototype.setMargin=function(e){return this.then((function(){switch(S(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},E.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||ue.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},E.prototype.setProgress=function(e,t,n,i){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},E.prototype.updateProgress=function(e,t,n,i){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,i?this.progress.stack.concat(i):null)},E.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},E.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var i=this;e&&(e=e.bind(i)),t&&(t=t.bind(i));var s=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?i:E.convert(Object.assign({},i),Promise.prototype),l=n.call(s,e,t);return E.convert(l,i.__proto__)},E.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},E.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},E.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return E.convert(t,this)},E.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},E.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},E.prototype.using=E.prototype.set,E.prototype.saveAs=E.prototype.save,E.prototype.export=E.prototype.output,E.prototype.run=E.prototype.then,ue.getPageSize=function(e,t,n){if("object"===i(e)){var s=e;e=s.orientation,t=s.unit||t,n=s.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var l=(""+n).toLowerCase(),r={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":var a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}if(r.hasOwnProperty(l))var o=r[l][1]/a,h=r[l][0]/a;else try{o=n[1],h=n[0]}catch(e){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e){if(e="p",o<h){var c=h;h=o,o=c}}else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",h<o&&(c=h,h=o,o=c)}return{width:h,height:o,unit:t,k:a}},x.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this;var n=new E(t);return t.worker?n:n.from(e).doCallback()},ue.API.addJS=function(e){return D=e,this.internal.events.subscribe("postPutResources",(function(e){O=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(O+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),I=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+D+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==O&&void 0!==I&&this.internal.out("/Names <</JavaScript "+O+" 0 R>>")})),this},(A=ue.API).events.push(["postPutResources",function(){var e=this,t=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var n=e.outline.render().split(/\r\n/),i=0;i<n.length;i++){var s=n[i],l=t.exec(s);null!=l&&e.internal.newObjectDeferredBegin(l[1],!1),e.internal.write(s)}if(this.outline.createNamedDestinations){var r=this.internal.pages.length,a=[];for(i=0;i<r;i++){var o=e.internal.newObject();a.push(o);var h=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var c=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<a.length;i++)e.internal.write("(page_"+(i+1)+")"+a[i]+" 0 R");e.internal.write(" ] >>","endobj"),e.internal.newObject(),e.internal.write("<< /Dests "+c+" 0 R"),e.internal.write(">>","endobj")}}]),A.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),A.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var i={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),0<e.children.length&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<t.children.length;i++){var s=t.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(t)),0<i&&this.line("/Prev "+this.makeRef(t.children[i-1])),i<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[i+1])),0<s.children.length&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(0<l&&this.line("/Count "+l),s.options&&s.options.pageNumber){var r=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+r.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(i=0;i<t.children.length;i++)this.renderItems(s=t.children[i])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(e){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}]),T=function(){var e="function"==typeof Deflater;if(!e)throw new Error("requires deflate.js for compression");return e},P=function(e,t,n,i){var s=5,l=B;switch(i){case M.image_compression.FAST:s=3,l=H;break;case M.image_compression.MEDIUM:s=6,l=V;break;case M.image_compression.SLOW:s=9,l=j}e=R(e,t,n,l);var r=new Uint8Array(L(s)),a=N(e),o=new Deflater(s),h=o.append(e),c=o.flush(),d=r.length+h.length+c.length,u=new Uint8Array(d+4);return u.set(r),u.set(h,r.length),u.set(c,r.length+h.length),u[d++]=a>>>24&255,u[d++]=a>>>16&255,u[d++]=a>>>8&255,u[d++]=255&a,M.arrayBufferToBinaryString(u)},L=function(e,t){var n=Math.LOG2E*Math.log(32768)-8<<4|8,i=n<<8;return i|=Math.min(3,(t-1&255)>>1)<<6,i|=0,[n,255&(i+=31-i%31)]},N=function(e,t){for(var n,i=1,s=0,l=e.length,r=0;0<l;){for(l-=n=t<l?t:l;s+=i+=e[r++],--n;);i%=65521,s%=65521}return(s<<16|i)>>>0},R=function(e,t,n,i){for(var s,l,r,a=e.length/t,o=new Uint8Array(e.length+a),h=q(),c=0;c<a;c++){if(s=e.subarray(r=c*t,r+t),i)o.set(i(s,n,l),r+c);else{for(var d=0,u=h.length,p=[];d<u;d++)p[d]=h[d](s,n,l);var m=U(p.concat());o.set(p[m],r+c)}l=s}return o},F=function(e,t,n){var i=Array.apply([],e);return i.unshift(0),i},H=function(e,t,n){var i=[],s=0,l=e.length;for(i[0]=1;s<l;s++)i[s+1]=e[s]-(e[s-t]||0)+256&255;return i},B=function(e,t,n){var i=[],s=0,l=e.length;for(i[0]=2;s<l;s++)i[s+1]=e[s]-(n&&n[s]||0)+256&255;return i},V=function(e,t,n){var i=[],s=0,l=e.length;for(i[0]=3;s<l;s++)i[s+1]=e[s]+256-((e[s-t]||0)+(n&&n[s]||0)>>>1)&255;return i},j=function(e,t,n){var i,s=[],l=0,r=e.length;for(s[0]=4;l<r;l++)i=z(e[l-t]||0,n&&n[l]||0,n&&n[l-t]||0),s[l+1]=e[l]-i+256&255;return s},z=function(e,t,n){var i=e+t-n,s=Math.abs(i-e),l=Math.abs(i-t),r=Math.abs(i-n);return s<=l&&s<=r?e:l<=r?t:n},q=function(){return[F,H,B,V,j]},U=function(e){for(var t,n,i,s=0,l=e.length;s<l;)((t=W(e[s].slice(1)))<n||!n)&&(n=t,i=s),s++;return i},W=function(e){for(var t=0,n=e.length,i=0;t<n;)i+=Math.abs(e[t++]);return i},(M=ue.API).processPNG=function(e,t,n,i,s){var l,r,a,o,h,c,d=this.color_spaces.DEVICE_RGB,u=this.decode.FLATE_DECODE,p=8;if(this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)){if("function"!=typeof PNG||"function"!=typeof Le)throw new Error("PNG support requires png.js and zlib.js");if(e=(l=new PNG(e)).imgData,p=l.bits,d=l.colorSpace,o=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits)for(var m,f=(E=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(f*l.colors),b=new Uint8Array(f),v=l.pixelBitlength-l.bits,y=0,w=0;y<f;y++){for(C=E[y],m=0;m<v;)g[w++]=C>>>m&255,m+=l.bits;b[y]=C>>>m&255}if(16===l.bits){f=(E=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(f*(32/l.pixelBitlength)*l.colors),b=new Uint8Array(f*(32/l.pixelBitlength));for(var C,x=1<l.colors,_=w=y=0;y<f;)C=E[y++],g[w++]=C>>>0&255,x&&(g[w++]=C>>>16&255,C=E[y++],g[w++]=C>>>0&255),b[_++]=C>>>16&255;p=8}i!==M.image_compression.NONE&&T()?(e=P(g,l.width*l.colors,l.colors,i),c=P(b,l.width,1,i)):(e=g,c=b,u=null)}if(3===l.colorType&&(d=this.color_spaces.INDEXED,h=l.palette,l.transparency.indexed)){var S=l.transparency.indexed,k=0;for(y=0,f=S.length;y<f;++y)k+=S[y];if((k/=255)==f-1&&-1!==S.indexOf(0))a=[S.indexOf(0)];else if(k!==f){var E=l.decodePixels();for(b=new Uint8Array(E.length),y=0,f=E.length;y<f;y++)b[y]=S[E[y]];c=P(b,l.width,1)}}var O=function(e){var t;switch(e){case M.image_compression.FAST:t=11;break;case M.image_compression.MEDIUM:t=13;break;case M.image_compression.SLOW:t=14;break;default:t=12}return t}(i);return r=u===this.decode.FLATE_DECODE?"/Predictor "+O+" /Colors "+o+" /BitsPerComponent "+p+" /Columns "+l.width:"/Colors "+o+" /BitsPerComponent "+p+" /Columns "+l.width,(this.isArrayBuffer(e)||this.isArrayBufferView(e))&&(e=this.arrayBufferToBinaryString(e)),(c&&this.isArrayBuffer(c)||this.isArrayBufferView(c))&&(c=this.arrayBufferToBinaryString(c)),this.createImageInfo(e,l.width,l.height,d,p,u,t,n,r,a,h,c,O)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(Y=ue.API).processGIF89A=function(e,t,n,i,s){var l=new De(e),r=l.width,a=l.height,o=[];l.decodeAndBlitFrameRGBA(0,o);var h={data:o,width:r,height:a},c=new Me(100).encode(h,100);return Y.processJPEG.call(this,c,t,n,i)},Y.processGIF87A=Y.processGIF89A,($=ue.API).processBMP=function(e,t,n,i,s){var l=new Te(e,!1),r=l.width,a=l.height,o={data:l.getData(),width:r,height:a},h=new Me(100).encode(o,100);return $.processJPEG.call(this,h,t,n,i)},ue.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},X=(G=ue.API).getCharWidthsArray=function(e,t){var n,i,s,l=(t=t||{}).font||this.internal.getFont(),r=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:l.metadata.Unicode.widths,h=o.fof?o.fof:1,c=t.kerning?t.kerning:l.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=0,p=o[0]||h,m=[];for(n=0,i=e.length;n<i;n++)s=e.charCodeAt(n),m.push("function"==typeof l.metadata.widthOfString?(l.metadata.widthOfGlyph(l.metadata.characterToGlyph(s))+a*(1e3/r)||0)/1e3:(o[s]||p)/h+(c[s]&&c[s][u]||0)/d),u=s;return m},K=G.getArraySum=function(e){for(var t=e.length,n=0;t;)n+=e[--t];return n},Z=G.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(e,n,s)/n:K(X.apply(this,arguments))},J=function(e,t,n,i){for(var s=[],l=0,r=e.length,a=0;l!==r&&a+t[l]<n;)a+=t[l],l++;s.push(e.slice(0,l));var o=l;for(a=0;l!==r;)a+t[l]>i&&(s.push(e.slice(o,l)),a=0,o=l),a+=t[l],l++;return o!==l&&s.push(e.slice(o,l)),s},Q=function(e,t,n){n||(n={});var i,s,l,r,a,o,h=[],c=[h],d=n.textIndent||0,u=0,p=0,m=e.split(" "),f=X.apply(this,[" ",n])[0];if(o=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var g=Array(o).join(" "),b=[];m.map((function(e){1<(e=e.split(/\s*\n/)).length?b=b.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):b.push(e[0])})),m=b,o=Z.apply(this,[g,n])}for(l=0,r=m.length;l<r;l++){var v=0;if(i=m[l],o&&"\n"==i[0]&&(i=i.substr(1),v=1),s=X.apply(this,[i,n]),t<d+u+(p=K(s))||v){if(t<p){for(a=J.apply(this,[i,s,t-(d+u),t]),h.push(a.shift()),h=[a.pop()];a.length;)c.push([a.shift()]);p=K(s.slice(i.length-(h[0]?h[0].length:0)))}else h=[i];c.push(h),d=p+o,u=f}else h.push(i),d+=u+p,u=f}if(o)var y=function(e,t){return(t?g:"")+e.join(" ")};else y=function(e){return e.join(" ")};return c.map(y)},G.splitTextToSize=function(e,t,n){var i,s=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:e.split(/\r?\n/);var r=1*this.internal.scaleFactor*t/s;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,l.lineIndent=n.lineIndent;var a,o,h=[];for(a=0,o=i.length;a<o;a++)h=h.concat(Q.apply(this,[i[a],r,l]));return h},ee=ue.API,ne={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(te=function(e){for(var t="klmnopqrstuvwxyz",n={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i];var s,l,r,a,o,h={},c=1,d=h,u=[],p="",m="",f=e.length-1;for(i=1;i!=f;)o=e[i],i+=1,"'"==o?l=l?(a=l.join(""),s):[]:l?l.push(o):"{"==o?(u.push([d,a]),d={},a=s):"}"==o?((r=u.pop())[0][r[1]]=d,a=s,d=r[0]):"-"==o?c=-1:a===s?n.hasOwnProperty(o)?(p+=n[o],a=parseInt(p,16)*c,c=1,p=""):p+=o:n.hasOwnProperty(o)?(m+=n[o],d[a]=parseInt(m,16)*c,c=1,a=s,m=""):m+=o;return h})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},ie={Unicode:{Courier:ne,"Courier-Bold":ne,"Courier-BoldOblique":ne,"Courier-Oblique":ne,Helvetica:ne,"Helvetica-Bold":ne,"Helvetica-BoldOblique":ne,"Helvetica-Oblique":ne,"Times-Roman":ne,"Times-Bold":ne,"Times-BoldItalic":ne,"Times-Italic":ne}},se={Unicode:{"Courier-Oblique":te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":te("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":te("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":te("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:te("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:te("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":te("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:te("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":te("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":te("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":te("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},ee.events.push(["addFont",function(e){var t,n,i,s=e.font,l="Unicode";(t=se[l][s.postScriptName])&&((n=s.metadata[l]?s.metadata[l]:s.metadata[l]={}).widths=t.widths,n.kerning=t.kerning),(i=ie[l][s.postScriptName])&&((n=s.metadata[l]?s.metadata[l]:s.metadata[l]={}).encoding=i).codePages&&i.codePages.length&&(s.encoding=i.codePages[0])}]),le=ue,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")(),le.API.events.push(["addFont",function(e){var t=e.font,n=e.instance;if(void 0!==n&&n.existsFileInVFS(t.postScriptName)){var i=n.getFileFromVFS(t.postScriptName);if("string"!=typeof i)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+t.postScriptName+"').");t.metadata=le.API.TTFFont.open(t.postScriptName,t.fontName,i,t.encoding),t.metadata.Unicode=t.metadata.Unicode||{encoding:{},kerning:{},widths:[]},t.metadata.glyIdsUsed=[0]}else if(!1===t.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+t.postScriptName+"').")}]),(re=ue.API).addSvg=function(e,t,n,i,s){if(void 0===t||void 0===n)throw new Error("addSVG needs values for 'x' and 'y'");function l(e){for(var t=parseFloat(e[1]),n=parseFloat(e[2]),i=[],s=3,l=e.length;s<l;)"c"===e[s]?(i.push([parseFloat(e[s+1]),parseFloat(e[s+2]),parseFloat(e[s+3]),parseFloat(e[s+4]),parseFloat(e[s+5]),parseFloat(e[s+6])]),s+=7):"l"===e[s]?(i.push([parseFloat(e[s+1]),parseFloat(e[s+2])]),s+=3):s+=1;return[t,n,i]}var r,a,o,h,c,d,u,p=((a=((u=(o=document).createElement("iframe"),h=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(d=(c=o).createElement("style")).type="text/css",d.styleSheet?d.styleSheet.cssText=h:d.appendChild(c.createTextNode(h)),c.getElementsByTagName("head")[0].appendChild(d),u.name="childframe",u.setAttribute("width",0),u.setAttribute("height",0),u.setAttribute("frameborder","0"),u.setAttribute("scrolling","no"),u.setAttribute("seamless","seamless"),u.setAttribute("class","jsPDF_sillysvg_iframe"),o.body.appendChild(u),r=u).contentWindow||r.contentDocument).document).write(e),a.close(),a.getElementsByTagName("svg")[0]),m=[1,1],f=parseFloat(p.getAttribute("width")),g=parseFloat(p.getAttribute("height"));f&&g&&(i&&s?m=[i/f,s/g]:i?m=[i/f,i/f]:s&&(m=[s/g,s/g]));var b,v,y,w,C=p.childNodes;for(b=0,v=C.length;b<v;b++)(y=C[b]).tagName&&"PATH"===y.tagName.toUpperCase()&&((w=l(y.getAttribute("d").split(" ")))[0]=w[0]*m[0]+t,w[1]=w[1]*m[1]+n,this.lines.call(this,w[2],w[0],w[1],m));return this},re.addSVG=re.addSvg,re.addSvgAsImage=function(e,t,n,i,s,l,r,a){if(isNaN(t)||isNaN(n))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var o=document.createElement("canvas");o.width=i,o.height=s;var h=o.getContext("2d");return h.fillStyle="#fff",h.fillRect(0,0,o.width,o.height),canvg(o,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(o.toDataURL("image/jpeg",1),t,n,i,s,r,a),this},ue.API.putTotalPages=function(e){var t,n;n=parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(t,n);return this},ue.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var s,l,r={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(r),o=[],h=0,c=0,d=0,u=!0;function p(e,t){var n,i=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(r)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var m=a.length;for(d=0;d<m;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if("object"===i(e))for(s in e)if(l=e[s],p(a,s)&&void 0!==l){if("boolean"===n[s].type&&"boolean"==typeof l)n[s].value=l;else if("name"===n[s].type&&p(n[s].valueSet,l))n[s].value=l;else if("integer"===n[s].type&&Number.isInteger(l))n[s].value=l;else if("array"===n[s].type){for(h=0;h<l.length;h+=1)if(u=!0,1===l[h].length&&"number"==typeof l[h][0])o.push(String(l[h]-1));else if(1<l[h].length){for(c=0;c<l[h].length;c+=1)"number"!=typeof l[h][c]&&(u=!1);!0===u&&o.push([l[h][0]-1,l[h][1]-1].join(" "))}n[s].value="["+o.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&t.push("name"===n[e].type?"/"+e+" /"+n[e].value:"/"+e+" "+n[e].value);0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},he=oe=ae="",ue.API.addMetadata=function(e,t){return oe=t||"http://jspdf.default.namespaceuri/",ae=e,this.internal.events.subscribe("postPutResources",(function(){if(ae){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+oe+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(ae)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),r=n.length+i.length+s.length+t.length+l.length;he=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+r+" >>"),this.internal.write("stream"),this.internal.write(t+n+i+s+l),this.internal.write("endstream"),this.internal.write("endobj")}else he=""})),this.internal.events.subscribe("putCatalog",(function(){he&&this.internal.write("/Metadata "+he+" 0 R")})),this},function(e,t){var n=e.API,i=n.pdfEscape16=function(e,t){for(var n,i=t.metadata.Unicode.widths,s=["","0","00","000","0000"],l=[""],r=0,a=e.length;r<a;++r){if(n=t.metadata.characterToGlyph(e.charCodeAt(r)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(r),-1==i.indexOf(n)&&(i.push(n),i.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return l.join("");n=n.toString(16),l.push(s[4-n.length],n)}return l.join("")},s=function(e){var t,n,i,s,l,r,a;for(l="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],r=0,a=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;r<a;r++)t=n[r],100<=i.length&&(l+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),s=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),i.push("<"+t+"><"+s+">");return i.length&&(l+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),l+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(t){!function(t,n,i,l){if(t.metadata instanceof e.API.TTFFont&&"Identity-H"===t.encoding){for(var r=t.metadata.Unicode.widths,a=t.metadata.subset.encode(t.metadata.glyIdsUsed,1),o="",h=0;h<a.length;h++)o+=String.fromCharCode(a[h]);var c=i();l({data:o,addLength1:!0}),n("endobj");var d=i();l({data:s(t.metadata.toUnicode),addLength1:!0}),n("endobj");var u=i();n("<<"),n("/Type /FontDescriptor"),n("/FontName /"+t.fontName),n("/FontFile2 "+c+" 0 R"),n("/FontBBox "+e.API.PDFObject.convert(t.metadata.bbox)),n("/Flags "+t.metadata.flags),n("/StemV "+t.metadata.stemV),n("/ItalicAngle "+t.metadata.italicAngle),n("/Ascent "+t.metadata.ascender),n("/Descent "+t.metadata.decender),n("/CapHeight "+t.metadata.capHeight),n(">>"),n("endobj");var p=i();n("<<"),n("/Type /Font"),n("/BaseFont /"+t.fontName),n("/FontDescriptor "+u+" 0 R"),n("/W "+e.API.PDFObject.convert(r)),n("/CIDToGIDMap /Identity"),n("/DW 1000"),n("/Subtype /CIDFontType2"),n("/CIDSystemInfo"),n("<<"),n("/Supplement 0"),n("/Registry (Adobe)"),n("/Ordering ("+t.encoding+")"),n(">>"),n(">>"),n("endobj"),t.objectNumber=i(),n("<<"),n("/Type /Font"),n("/Subtype /Type0"),n("/ToUnicode "+d+" 0 R"),n("/BaseFont /"+t.fontName),n("/Encoding /"+t.encoding),n("/DescendantFonts ["+p+" 0 R]"),n(">>"),n("endobj"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]),n.events.push(["putFont",function(t){!function(t,n,i,l){if(t.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===t.encoding){for(var r=t.metadata.rawData,a="",o=0;o<r.length;o++)a+=String.fromCharCode(r[o]);var h=i();l({data:a,addLength1:!0}),n("endobj");var c=i();l({data:s(t.metadata.toUnicode),addLength1:!0}),n("endobj");var d=i();for(n("<<"),n("/Descent "+t.metadata.decender),n("/CapHeight "+t.metadata.capHeight),n("/StemV "+t.metadata.stemV),n("/Type /FontDescriptor"),n("/FontFile2 "+h+" 0 R"),n("/Flags 96"),n("/FontBBox "+e.API.PDFObject.convert(t.metadata.bbox)),n("/FontName /"+t.fontName),n("/ItalicAngle "+t.metadata.italicAngle),n("/Ascent "+t.metadata.ascender),n(">>"),n("endobj"),t.objectNumber=i(),o=0;o<t.metadata.hmtx.widths.length;o++)t.metadata.hmtx.widths[o]=parseInt(t.metadata.hmtx.widths[o]*(1e3/t.metadata.head.unitsPerEm));n("<</Subtype/TrueType/Type/Font/ToUnicode "+c+" 0 R/BaseFont/"+t.fontName+"/FontDescriptor "+d+" 0 R/Encoding/"+t.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(t.metadata.hmtx.widths)+">>"),n("endobj"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]);var l=function(e){var t,n,s=e.text||"",l=e.x,r=e.y,a=e.options||{},o=e.mutex||{},h=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u="",p=0,m="",f=d[n=c].encoding;if("Identity-H"!==d[n].encoding)return{text:s,x:l,y:r,options:a,mutex:o};for(m=s,n=c,"[object Array]"===Object.prototype.toString.call(s)&&(m=s[0]),p=0;p<m.length;p+=1)d[n].metadata.hasOwnProperty("cmap")&&(t=d[n].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t?u+=m[p]:m[p].charCodeAt(0)<256&&d[n].metadata.hasOwnProperty("Unicode")?u+=m[p]:u+="";var g="";return parseInt(n.slice(1))<14||"WinAnsiEncoding"===f?g=function(e){for(var t="",n=0;n<e.length;n++)t+=""+e.charCodeAt(n).toString(16);return t}(h(u,n)):"Identity-H"===f&&(g=i(u,d[n])),o.isHex=!0,{text:g,x:l,y:r,options:a,mutex:o}};n.events.push(["postProcessText",function(e){var t=e.text||"",n=[],i={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if("[object Array]"===Object.prototype.toString.call(t)){var s=0;for(s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])&&3===t[s].length?n.push([l(Object.assign({},i,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(l(Object.assign({},i,{text:t[s]})).text);e.text=n}else e.text=l(Object.assign({},i,{text:t})).text}])}(ue,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),de=function(e){return void 0!==e&&(void 0===e.vFS&&(e.vFS={}),!0)},(ce=ue.API).existsFileInVFS=function(e){return!!de(this.internal)&&void 0!==this.internal.vFS[e]},ce.addFileToVFS=function(e,t){return de(this.internal),this.internal.vFS[e]=t,this},ce.getFileFromVFS=function(e){return de(this.internal),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null},ue.API.addHTML=function(e,t,n,i,s){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof t&&(i=t,s=n),"function"==typeof i&&(s=i,i=null),"function"!=typeof s&&(s=function(){});var l=this.internal,r=l.scaleFactor,a=l.pageSize.getWidth(),o=l.pageSize.getHeight();if((i=i||{}).onrendered=(function(e){t=parseInt(t)||0,n=parseInt(n)||0;var l=i.dim||{},h=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},i.margin),c=l.h||Math.min(o,e.height/r),d=l.w||Math.min(a,e.width/r)-t,u=i.format||"JPEG",p=i.imageCompression||"SLOW";if(e.height>o-h.top-h.bottom&&i.pagesplit){var m=function(e,t,n,s,l){var r=document.createElement("canvas");r.height=l,r.width=s;var a=r.getContext("2d");return a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.fillStyle=i.backgroundColor||"#ffffff",a.fillRect(0,0,s,l),a.drawImage(e,t,n,s,l,0,0,s,l),r},f=(function(){for(var i,l,c=0,f=0,g={},b=!1;;){var v;if(f=0,g.top=0!==c?h.top:n,g.left=0!==c?h.left:t,b=(a-h.left-h.right)*r<e.width,"content"===h.useFor?0===c?(i=Math.min((a-h.left)*r,e.width),l=Math.min((o-h.top)*r,e.height-c)):(i=Math.min(a*r,e.width),l=Math.min(o*r,e.height-c),g.top=0):(i=Math.min((a-h.left-h.right)*r,e.width),l=Math.min((o-h.bottom-h.top)*r,e.height-c)),b)for(;;){"content"===h.useFor&&(0===f?i=Math.min((a-h.left)*r,e.width):(i=Math.min(a*r,e.width-f),g.left=0));var y=[v=m(e,f,c,i,l),g.left,g.top,v.width/r,v.height/r,u,null,p];if(this.addImage.apply(this,y),(f+=i)>=e.width)break;this.addPage()}else y=[v=m(e,0,c,i,l),g.left,g.top,v.width/r,v.height/r,u,null,p],this.addImage.apply(this,y);if((c+=l)>=e.height)break;this.addPage()}s(d,c,null,y)}).bind(this);if("CANVAS"===e.nodeName){var g=new Image;g.onload=f,g.src=e.toDataURL("image/png"),e=g}else f()}else{var b=Math.random().toString(35),v=[e,t,n,d,c,u,b,p];this.addImage.apply(this,v),s(d,c,b,v)}}).bind(this),"undefined"!=typeof html2canvas&&!i.rstz)return html2canvas(e,i);if("undefined"==typeof rasterizeHTML)return null;var h="drawDocument";return"string"==typeof e&&(h=/^http/.test(e)?"drawURL":"drawHTML"),i.width=i.width||a*r,rasterizeHTML[h](e,void 0,i).then((function(e){i.onrendered(e.image)}),(function(e){s(null,e)}))},function(e){var t,n,s,l,r,a,o,h,c,d,u,p,m,f,g,b,v,y,w,C;t=function(){return function(t){return e.prototype=t,new e};function e(){}}(),d=function(e){var t,n,i,s,l,r,a;for(n=0,i=e.length,t=void 0,r=s=!1;!s&&n!==i;)(t=e[n]=e[n].trimLeft())&&(s=!0),n++;for(n=i-1;i&&!r&&-1!==n;)(t=e[n]=e[n].trimRight())&&(r=!0),n--;for(l=/\s+$/g,a=!0,n=0;n!==i;)"\u2028"!=e[n]&&(t=e[n].replace(/\s+/g," "),a&&(t=t.trimLeft()),t&&(a=l.test(t)),e[n]=t),n++;return e},p=function(e){var t,n,i;for(t=void 0,n=(i=e.split(",")).shift();!t&&n;)t=s[n.trim().toLowerCase()],n=i.shift();return t},m=function(e){var t;return-1<(e="auto"===e?"0px":e).indexOf("em")&&!isNaN(Number(e.replace("em","")))&&(e=18.719*Number(e.replace("em",""))+"px"),-1<e.indexOf("pt")&&!isNaN(Number(e.replace("pt","")))&&(e=1.333*Number(e.replace("pt",""))+"px"),(t=f[e])?t:void 0!==(t={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[e])?f[e]=t/16:(t=parseFloat(e))?f[e]=t/16:(t=e.match(/([\d\.]+)(px)/),f[e]=Array.isArray(t)&&3===t.length?parseFloat(t[1])/16:1)},c=function(e){var t,n,i,s,c;return c=e,s=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(c,null):c.currentStyle?c.currentStyle:c.style,n=void 0,(t={})["font-family"]=p((i=function(e){return e=e.replace(/-\D/g,(function(e){return e.charAt(1).toUpperCase()})),s[e]})("font-family"))||"times",t["font-style"]=l[i("font-style")]||"normal",t["text-align"]=r[i("text-align")]||"left","bold"===(n=a[i("font-weight")]||"normal")&&(t["font-style"]="normal"===t["font-style"]?n:n+t["font-style"]),t["font-size"]=m(i("font-size"))||1,t["line-height"]=m(i("line-height"))||1,t.display="inline"===i("display")?"inline":"block",t["margin-top"]=(n="block"===t.display)&&m(i("margin-top"))||0,t["margin-bottom"]=n&&m(i("margin-bottom"))||0,t["padding-top"]=n&&m(i("padding-top"))||0,t["padding-bottom"]=n&&m(i("padding-bottom"))||0,t["margin-left"]=n&&m(i("margin-left"))||0,t["margin-right"]=n&&m(i("margin-right"))||0,t["padding-left"]=n&&m(i("padding-left"))||0,t["padding-right"]=n&&m(i("padding-right"))||0,t["page-break-before"]=i("page-break-before")||"auto",t.float=o[i("cssFloat")]||"none",t.clear=h[i("clear")]||"none",t.color=i("color"),t},g=function(e,t,n){var i,s,l,r,a;if(l=!1,r=s=void 0,i=n["#"+e.id])if("function"==typeof i)l=i(e,t);else for(s=0,r=i.length;!l&&s!==r;)l=i[s](e,t),s++;if(i=n[e.nodeName],!l&&i)if("function"==typeof i)l=i(e,t);else for(s=0,r=i.length;!l&&s!==r;)l=i[s](e,t),s++;for(a="string"==typeof e.className?e.className.split(" "):[],s=0;s<a.length;s++)if(i=n["."+a[s]],!l&&i)if("function"==typeof i)l=i(e,t);else for(s=0,r=i.length;!l&&s!==r;)l=i[s](e,t),s++;return l},C=function(e,t){var n,i,s,l,r,a,o,h,c;for(n=[],i=[],s=0,c=e.rows[0].cells.length,o=e.clientWidth;s<c;)i[s]={name:(h=e.rows[0].cells[s]).textContent.toLowerCase().replace(/\s+/g,""),prompt:h.textContent.replace(/\r?\n/g,""),width:h.clientWidth/o*t.pdf.internal.pageSize.getWidth()},s++;for(s=1;s<e.rows.length;){for(a=e.rows[s],r={},l=0;l<a.cells.length;)r[i[l].name]=a.cells[l].textContent.replace(/\r?\n/g,""),l++;n.push(r),s++}return{rows:n,headers:i}};var x={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},_=1;n=function(e,s,l){var r,a,o,h,d,u,p,m;for(a=e.childNodes,r=void 0,(d="block"===(o=c(e)).display)&&(s.setBlockBoundary(),s.setBlockStyle(o)),h=0,u=a.length;h<u;){if("object"===i(r=a[h])){if(s.executeWatchFunctions(r),1===r.nodeType&&"HEADER"===r.nodeName){var f=r,v=s.pdf.margins_doc.top;s.pdf.internal.events.subscribe("addPage",(function(e){s.y=v,n(f,s,l),s.pdf.margins_doc.top=s.y+10,s.y+=10}),!1)}if(8===r.nodeType&&"#comment"===r.nodeName)~r.textContent.indexOf("ADD_PAGE")&&(s.pdf.addPage(),s.y=s.pdf.margins_doc.top);else if(1!==r.nodeType||x[r.nodeName])if(3===r.nodeType){var y=r.nodeValue;if(r.nodeValue&&"LI"===r.parentNode.nodeName)if("OL"===r.parentNode.parentNode.nodeName)y=_+++". "+y;else{var w=o["font-size"],S=(3-.75*w)*s.pdf.internal.scaleFactor,k=.75*w*s.pdf.internal.scaleFactor,E=1.74*w/s.pdf.internal.scaleFactor;m=function(e,t){this.pdf.circle(e+S,t+k,E,"FD")}}16&r.ownerDocument.body.compareDocumentPosition(r)&&s.addText(y,o)}else"string"==typeof r&&s.addText(r,o);else{var O;if("IMG"===r.nodeName){var I=r.getAttribute("src");O=b[s.pdf.sHashCode(I)||I]}if(O){s.pdf.internal.pageSize.getHeight()-s.pdf.margins_doc.bottom<s.y+r.height&&s.y>s.pdf.margins_doc.top&&(s.pdf.addPage(),s.y=s.pdf.margins_doc.top,s.executeWatchFunctions(r));var D=c(r),A=s.x,M=12/s.pdf.internal.scaleFactor,T=(D["margin-left"]+D["padding-left"])*M,P=(D["margin-right"]+D["padding-right"])*M,L=(D["margin-top"]+D["padding-top"])*M,N=(D["margin-bottom"]+D["padding-bottom"])*M;s.pdf.addImage(O,A+=void 0!==D.float&&"right"===D.float?s.settings.width-r.width-P:T,s.y+L,r.width,r.height),O=void 0,"right"===D.float||"left"===D.float?(s.watchFunctions.push((function(e,t,n,i){return s.y>=t?(s.x+=e,s.settings.width+=n,!0):!!(i&&1===i.nodeType&&!x[i.nodeName]&&s.x+i.width>s.pdf.margins_doc.left+s.pdf.margins_doc.width)&&(s.x+=e,s.y=t,s.settings.width+=n,!0)}).bind(this,"left"===D.float?-r.width-T-P:0,s.y+r.height+L+N,r.width)),s.watchFunctions.push((function(e,t,n){return!(s.y<e&&t===s.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===c(n).clear&&(s.y=e,!0)}).bind(this,s.y+r.height,s.pdf.internal.getNumberOfPages())),s.settings.width-=r.width+T+P,"left"===D.float&&(s.x+=r.width+T+P)):s.y+=r.height+L+N}else if("TABLE"===r.nodeName)p=C(r,s),s.y+=10,s.pdf.table(s.x,s.y,p.rows,p.headers,{autoSize:!1,printHeaders:l.printHeaders,margins:s.pdf.margins_doc,css:c(r)}),s.y=s.pdf.lastCellPos.y+s.pdf.lastCellPos.h+20;else if("OL"===r.nodeName||"UL"===r.nodeName)_=1,g(r,s,l)||n(r,s,l),s.y+=10;else if("LI"===r.nodeName){var R=s.x;s.x+=20/s.pdf.internal.scaleFactor,s.y+=3,g(r,s,l)||n(r,s,l),s.x=R}else"BR"===r.nodeName?(s.y+=o["font-size"]*s.pdf.internal.scaleFactor,s.addText("\u2028",t(o))):g(r,s,l)||n(r,s,l)}}h++}if(l.outY=s.y,d)return s.setBlockBoundary(m)},b={},v=function(e,t,n,i){var s,l=e.getElementsByTagName("img"),r=l.length,a=0;function o(){t.pdf.internal.events.publish("imagesLoaded"),i(s)}function h(e,n,i){if(e){var l=new Image;s=++a,l.crossOrigin="",l.onerror=l.onload=function(){if(l.complete&&(0===l.src.indexOf("data:image/")&&(l.width=n||l.width||0,l.height=i||l.height||0),l.width+l.height)){var s=t.pdf.sHashCode(e)||e;b[s]=b[s]||l}--a||o()},l.src=e}}for(;r--;)h(l[r].getAttribute("src"),l[r].width,l[r].height);return a||o()},y=function(e,t,i){var s=e.getElementsByTagName("footer");if(0<s.length){s=s[0];var l=t.pdf.internal.write,r=t.y;t.pdf.internal.write=function(){},n(s,t,i);var a=Math.ceil(t.y-r)+5;t.y=r,t.pdf.internal.write=l,t.pdf.margins_doc.bottom+=a;for(var o=function(e){var l=void 0!==e?e.pageNumber:1,r=t.y;t.y=t.pdf.internal.pageSize.getHeight()-t.pdf.margins_doc.bottom,t.pdf.margins_doc.bottom-=a;for(var o=s.getElementsByTagName("span"),h=0;h<o.length;++h)-1<(" "+o[h].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(o[h].innerHTML=l),-1<(" "+o[h].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(o[h].innerHTML="###jsPDFVarTotalPages###");n(s,t,i),t.pdf.margins_doc.bottom+=a,t.y=r},h=s.getElementsByTagName("span"),c=0;c<h.length;++c)-1<(" "+h[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&t.pdf.internal.events.subscribe("htmlRenderingFinished",t.pdf.putTotalPages.bind(t.pdf,"###jsPDFVarTotalPages###"),!0);t.pdf.internal.events.subscribe("addPage",o,!1),o(),x.FOOTER=1}},w=function(e,t,i,s,l,r){if(!t)return!1;var a,o,h,c;"string"==typeof t||t.parentNode||(t=""+t.innerHTML),"string"==typeof t&&(a=t.replace(/<\/?script[^>]*?>/gi,""),c="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(h=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",h.innerHTML='<iframe style="height:1px;width:1px" name="'+c+'" />',document.body.appendChild(h),(o=window.frames[c]).document.open(),o.document.writeln(a),o.document.close(),t=o.document.body);var d,p=new u(e,i,s,l);return v.call(this,t,p,l.elementHandlers,(function(e){y(t,p,l.elementHandlers),n(t,p,l.elementHandlers),p.pdf.internal.events.publish("htmlRenderingFinished"),d=p.dispose(),"function"==typeof r?r(d):e&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")})),d||{x:p.x,y:p.y}},(u=function(e,t,n,i){return this.pdf=e,this.x=t,this.y=n,this.settings=i,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},u.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},u.prototype.executeWatchFunctions=function(e){var t=!1,n=[];if(0<this.watchFunctions.length){for(var i=0;i<this.watchFunctions.length;++i)!0===this.watchFunctions[i](e)?t=!0:n.push(this.watchFunctions[i]);this.watchFunctions=n}return t},u.prototype.splitFragmentsIntoLines=function(e,n){var i,s,l,r,a,o,h,c,d,u,p,m,f,g;for(u=this.pdf.internal.scaleFactor,r={},o=h=c=g=a=l=d=s=void 0,m=[p=[]],i=0,f=this.settings.width;e.length;)if(a=e.shift(),g=n.shift(),a)if((l=r[(s=g["font-family"])+(d=g["font-style"])])||(l=this.pdf.internal.getFont(s,d).metadata.Unicode,r[s+d]=l),h=this.pdf.getStringUnitWidth(a,c={widths:l.widths,kerning:l.kerning,fontSize:12*g["font-size"],textIndent:i})*c.fontSize/u,"\u2028"==a)m.push(p=[]);else if(f<i+h){for(o=this.pdf.splitTextToSize(a,f,c),p.push([o.shift(),g]);o.length;)p=[[o.shift(),g]],m.push(p);i=this.pdf.getStringUnitWidth(p[0][0],c)*c.fontSize/u}else p.push([a,g]),i+=h;if(void 0!==g["text-align"]&&("center"===g["text-align"]||"right"===g["text-align"]||"justify"===g["text-align"]))for(var b=0;b<m.length;++b){var v=this.pdf.getStringUnitWidth(m[b][0][0],c)*c.fontSize/u;0<b&&(m[b][0][1]=t(m[b][0][1]));var y=f-v;if("right"===g["text-align"])m[b][0][1]["margin-left"]=y;else if("center"===g["text-align"])m[b][0][1]["margin-left"]=y/2;else if("justify"===g["text-align"]){var w=m[b][0][0].split(" ").length-1;m[b][0][1]["word-spacing"]=y/w,b===m.length-1&&(m[b][0][1]["word-spacing"]=0)}}return m},u.prototype.RenderTextFragment=function(e,t){var n,i;i=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(t.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),i=Math.max(i,t["line-height"],t["font-size"]),this.pdf.internal.write(0,(-12*i).toFixed(2),"Td")),n=this.pdf.internal.getFont(t["font-family"],t["font-style"]);var s=this.getPdfColor(t.color);s!==this.lastTextColor&&(this.pdf.internal.write(s),this.lastTextColor=s),void 0!==t["word-spacing"]&&0<t["word-spacing"]&&this.pdf.internal.write(t["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*t["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(e)+") Tj"),void 0!==t["word-spacing"]&&this.pdf.internal.write(0,"Tw")},u.prototype.getPdfColor=function(e){var t,n,i,s=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(e);if(null!=s)t=parseInt(s[1]),n=parseInt(s[2]),i=parseInt(s[3]);else{if("string"==typeof e&&"#"!=e.charAt(0)){var l=new RGBColor(e);e=l.ok?l.toHex():"#000000"}t=e.substring(1,3),t=parseInt(t,16),n=e.substring(3,5),n=parseInt(n,16),i=e.substring(5,7),i=parseInt(i,16)}if("string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var r=parseInt(t.substr(1),16);t=r>>16&255,n=r>>8&255,i=255&r}var a=this.f3;return 0===t&&0===n&&0===i||void 0===n?a(t/255)+" g":[a(t/255),a(n/255),a(i/255),"rg"].join(" ")},u.prototype.f3=function(e){return e.toFixed(3)},u.prototype.renderParagraph=function(e){var t,n,i,s,l,r,a,o,h,c,u,p,m;if(i=d(this.paragraph.text),p=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:t=this.paragraph.blockstyle},i.join("").trim()){a=this.splitFragmentsIntoLines(i,p),o=r=void 0,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,u=(Math.max((t["margin-top"]||0)-this.priorMarginBottom,0)+(t["padding-top"]||0))*n,c=((t["margin-bottom"]||0)+(t["padding-bottom"]||0))*n,this.priorMarginBottom=t["margin-bottom"]||0,"always"===t["page-break-before"]&&(this.pdf.addPage(),this.y=0,u=((t["margin-top"]||0)+(t["padding-top"]||0))*n),h=this.pdf.internal.write,l=s=void 0,this.y+=u,h("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var f=0;a.length;){for(s=o=0,l=(r=a.shift()).length;s!==l;)r[s][0].trim()&&(o=Math.max(o,r[s][1]["line-height"],r[s][1]["font-size"]),m=7*r[s][1]["font-size"]),s++;var g=0,b=0;for(void 0!==r[0][1]["margin-left"]&&0<r[0][1]["margin-left"]&&(g=(b=this.pdf.internal.getCoordinateString(r[0][1]["margin-left"]))-f,f=b),h(g+Math.max(t["margin-left"]||0,0)*n,(-12*o).toFixed(2),"Td"),s=0,l=r.length;s!==l;)r[s][0]&&this.RenderTextFragment(r[s][0],r[s][1]),s++;if(this.y+=o*n,this.executeWatchFunctions(r[0][1])&&0<a.length){var v=[],y=[];a.forEach((function(e){for(var t=0,n=e.length;t!==n;)e[t][0]&&(v.push(e[t][0]+" "),y.push(e[t][1])),++t})),a=this.splitFragmentsIntoLines(d(v),y),h("ET","Q"),h("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return e&&"function"==typeof e&&e.call(this,this.x-9,this.y-m/2),h("ET","Q"),this.y+=c}},u.prototype.setBlockBoundary=function(e){return this.renderParagraph(e)},u.prototype.setBlockStyle=function(e){return this.paragraph.blockstyle=e},u.prototype.addText=function(e,t){return this.paragraph.text.push(e),this.paragraph.style.push(t)},s={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},a={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},l={normal:"normal",italic:"italic",oblique:"italic"},r={left:"left",right:"right",center:"center",justify:"justify"},o={none:"none",right:"right",left:"left"},h={none:"none",both:"both"},f={normal:1},e.fromHTML=function(e,t,n,i,s,l){return this.margins_doc=l||{top:0,bottom:0},i||(i={}),i.elementHandlers||(i.elementHandlers={}),w(this,e,isNaN(t)?4:t,isNaN(n)?4:n,i,s)}}(ue.API),("undefined"!=typeof window&&window||"undefined"!=typeof global&&global).html2pdf=function(e,t,n){var i=t.canvas;if(i){var s,l;if((i.pdf=t).annotations={_nameMap:[],createAnnotation:function(e,n){var i,s=t.context2d._wrapX(n.left),l=t.context2d._wrapY(n.top),r=(t.context2d._page(n.top),e.indexOf("#"));i=0<=r?{name:e.substring(r+1)}:{url:e},t.link(s,l,n.right-n.left,n.bottom-n.top,i)},setName:function(e,n){var i=t.context2d._wrapX(n.left),s=t.context2d._wrapY(n.top),l=t.context2d._page(n.top);this._nameMap[e]={page:l,x:i,y:s}}},i.annotations=t.annotations,t.context2d._pageBreakAt=function(e){this.pageBreaks.push(e)},t.context2d._gotoPage=function(e){for(;t.internal.getNumberOfPages()<e;)t.addPage();t.setPage(e)},"string"==typeof e){e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var r,a,o=document.createElement("iframe");document.body.appendChild(o),null!=(r=o.contentDocument)&&null!=r||(r=o.contentWindow.document),r.open(),r.write(e),r.close(),s=r.body,a=r.body||{},e=r.documentElement||{},l=Math.max(a.scrollHeight,a.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}else a=(s=e).body||{},l=Math.max(a.scrollHeight,a.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);var h={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:i,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:l=t.internal.pageSize.getHeight(),scrollY:l};t.context2d.pageWrapYEnabled=!0,t.context2d.pageWrapY=t.internal.pageSize.getHeight(),html2canvas(s,h).then((function(e){n&&(o&&o.parentElement.removeChild(o),n(t))}))}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(e){var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder;e.URL=e.URL||e.webkitURL||function(e,t){return(t=document.createElement("a")).href=e,t};var n=e.Blob,i=URL.createObjectURL,s=URL.revokeObjectURL,l=e.Symbol&&e.Symbol.toStringTag,r=!1,a=!1,o=!!e.ArrayBuffer,h=t&&t.prototype.append&&t.prototype.getBlob;try{r=2===new Blob(["\xe4"]).size,a=2===new Blob([new Uint8Array([1,2])]).size}catch(r){}function c(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function d(e,n){n=n||{};var i=new t;return c(e).forEach((function(e){i.append(e)})),n.type?i.getBlob(n.type):i.getBlob()}function u(e,t){return new n(c(e),t||{})}if(e.Blob&&(d.prototype=Blob.prototype,u.prototype=Blob.prototype),l)try{File.prototype[l]="File",Blob.prototype[l]="Blob",FileReader.prototype[l]="FileReader"}catch(r){}function p(){var t=!!e.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,n=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;t&&n&&(XMLHttpRequest.prototype.send=function(e){e instanceof Blob&&this.setRequestHeader("Content-Type",e.type),n.call(this,e)});try{new File([],"")}catch(t){try{var i=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();e.File=i}catch(t){e.File=i=function(e,t,n){var i=new Blob(e,n),s=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return i.name=t,i.lastModifiedDate=s,i.lastModified=+s,i.toString=function(){return"[object File]"},l&&(i[l]="File"),i}}}}r?(p(),e.Blob=a?e.Blob:u):h?(p(),e.Blob=d):function(){function t(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||57344<=i?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t}function n(e){var t,n,i,s,l,r;for(t="",i=e.length,n=0;n<i;)switch((s=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(s);break;case 12:case 13:l=e[n++],t+=String.fromCharCode((31&s)<<6|63&l);break;case 14:l=e[n++],r=e[n++],t+=String.fromCharCode((15&s)<<12|(63&l)<<6|(63&r)<<0)}return t}function l(e){for(var t=new Array(e.byteLength),n=new Uint8Array(e),i=t.length;i--;)t[i]=n[i];return t}function r(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<e.length;i+=3){var s=e[i],l=i+1<e.length,r=l?e[i+1]:0,a=i+2<e.length,o=a?e[i+2]:0,h=(15&r)<<2|o>>6,c=63&o;a||(c=64,l||(h=64)),n.push(t[s>>2],t[(3&s)<<4|r>>4],t[h],t[c])}return n.join("")}var a=Object.create||function(e){function t(){}return t.prototype=e,new t};if(o)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&-1<h.indexOf(Object.prototype.toString.call(e))};function d(e,n){for(var i=0,s=(e=e||[]).length;i<s;i++){var r=e[i];e[i]=r instanceof d?r._buffer:"string"==typeof r?t(r):o&&(ArrayBuffer.prototype.isPrototypeOf(r)||c(r))?l(r):o&&(a=r)&&DataView.prototype.isPrototypeOf(a)?l(r.buffer):t(String(r))}var a;this._buffer=[].concat.apply([],e),this.size=this._buffer.length,this.type=n&&n.type||""}function u(e,t,n){var i=d.call(this,e,n=n||{})||this;return i.name=t,i.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,i.lastModified=+i.lastModifiedDate,i}if(d.prototype.slice=function(e,t,n){return new d([this._buffer.slice(e||0,t||this._buffer.length)],{type:n})},d.prototype.toString=function(){return"[object Blob]"},(u.prototype=a(d.prototype)).constructor=u,Object.setPrototypeOf)Object.setPrototypeOf(u,d);else try{u.__proto__=d}catch(a){}function p(){if(!(this instanceof p))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var e=document.createDocumentFragment();this.addEventListener=e.addEventListener,this.dispatchEvent=function(t){var n=this["on"+t.type];"function"==typeof n&&n(t),e.dispatchEvent(t)},this.removeEventListener=e.removeEventListener}function m(e,t,n){if(!(t instanceof d))throw new TypeError("Failed to execute '"+n+"' on 'FileReader': parameter 1 is not of type 'Blob'.");e.result="",setTimeout((function(){this.readyState=p.LOADING,e.dispatchEvent(new Event("load")),e.dispatchEvent(new Event("loadend"))}))}u.prototype.toString=function(){return"[object File]"},p.EMPTY=0,p.LOADING=1,p.DONE=2,p.prototype.error=null,p.prototype.onabort=null,p.prototype.onerror=null,p.prototype.onload=null,p.prototype.onloadend=null,p.prototype.onloadstart=null,p.prototype.onprogress=null,p.prototype.readAsDataURL=function(e){m(this,e,"readAsDataURL"),this.result="data:"+e.type+";base64,"+r(e._buffer)},p.prototype.readAsText=function(e){m(this,e,"readAsText"),this.result=n(e._buffer)},p.prototype.readAsArrayBuffer=function(e){m(this,e,"readAsText"),this.result=e._buffer.slice()},p.prototype.abort=function(){},URL.createObjectURL=function(e){return e instanceof d?"data:"+e.type+";base64,"+r(e._buffer):i.call(URL,e)},URL.revokeObjectURL=function(e){s&&s.call(URL,e)};var f=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;f&&(XMLHttpRequest.prototype.send=function(e){e instanceof d?(this.setRequestHeader("Content-Type",e.type),f.call(this,n(e._buffer))):f.call(this,e)}),e.FileReader=p,e.File=u,e.Blob=d}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var pe,me,fe,ge,be,ve,ye,we,Ce,xe,_e,Se,ke,Ee,Oe,Ie=Ie||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,s=/constructor/i.test(e.HTMLElement)||e.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent),r=e.setImmediate||e.setTimeout,a=function(e){r((function(){throw e}),0)},o=function(e){setTimeout((function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()}),4e4)},h=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(c,d,u){u||(c=h(c));var p,m=this,f="application/octet-stream"===c.type,g=function(){!function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var s=e["on"+t[i]];if("function"==typeof s)try{s.call(e,e)}catch(e){a(e)}}}(m,"writestart progress write writeend".split(" "))};if(m.readyState=m.INIT,i)return p=t().createObjectURL(c),void r((function(){var e,t;n.href=p,n.download=d,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),g(),o(p),m.readyState=m.DONE}),0);!function(){if((l||f&&s)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=l?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,m.readyState=m.DONE,g()},n.readAsDataURL(c),m.readyState=m.INIT}p||(p=t().createObjectURL(c)),f?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),m.readyState=m.DONE,g(),o(p)}()},d=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=h(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new c(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function De(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw"Invalid GIF 87a/89a header.";var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,s=e[t++];t++,t++;var l=null;s>>7&&(l=t,t+=3*(1<<1+(7&s)));var r=!0,a=[],o=0,h=null,c=0,d=null;for(this.width=n,this.height=i;r&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,d=e[t++]|e[t++]<<8,t++;else for(t+=12;0!==(x=e[t++]);)t+=x;break;case 249:if(4!==e[t++]||0!==e[t+4])throw"Invalid graphics extension block.";var u=e[t++];o=e[t++]|e[t++]<<8,h=e[t++],0==(1&u)&&(h=null),c=u>>2&7,t++;break;case 254:for(;0!==(x=e[t++]);)t+=x;break;default:throw"Unknown graphic control label: 0x"+e[t-1].toString(16)}break;case 44:var p=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,f=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,b=e[t++],v=b>>6&1,y=l,w=!1;b>>7&&(w=!0,y=t,t+=3*(1<<1+(7&b)));var C=t;for(t++;;){var x;if(0===(x=e[t++]))break;t+=x}a.push({x:p,y:m,width:f,height:g,has_local_palette:w,palette_offset:y,data_offset:C,data_length:t-C,transparent_index:h,interlaced:!!v,delay:o,disposal:c});break;case 59:r=!1;break;default:throw"Unknown gif block: 0x"+e[t-1].toString(16)}this.numFrames=function(){return a.length},this.loopCount=function(){return d},this.frameInfo=function(e){if(e<0||e>=a.length)throw"Frame index out of range.";return a[e]},this.decodeAndBlitFrameBGRA=function(t,i){var s=this.frameInfo(t),l=s.width*s.height,r=new Uint8Array(l);Ae(e,s.data_offset,r,l);var a=s.palette_offset,o=s.transparent_index;null===o&&(o=256);var h=s.width,c=n-h,d=h,u=4*(s.y*n+s.x),p=4*((s.y+s.height)*n+s.x),m=u,f=4*c;!0===s.interlaced&&(f+=4*(h+c)*7);for(var g=8,b=0,v=r.length;b<v;++b){var y=r[b];if(0===d&&(d=h,p<=(m+=f)&&(f=c+4*(h+c)*(g-1),m=u+(h+c)*(g<<1),g>>=1)),y===o)m+=4;else{var w=e[a+3*y],C=e[a+3*y+1];i[m++]=e[a+3*y+2],i[m++]=C,i[m++]=w,i[m++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,i){var s=this.frameInfo(t),l=s.width*s.height,r=new Uint8Array(l);Ae(e,s.data_offset,r,l);var a=s.palette_offset,o=s.transparent_index;null===o&&(o=256);var h=s.width,c=n-h,d=h,u=4*(s.y*n+s.x),p=4*((s.y+s.height)*n+s.x),m=u,f=4*c;!0===s.interlaced&&(f+=4*(h+c)*7);for(var g=8,b=0,v=r.length;b<v;++b){var y=r[b];if(0===d&&(d=h,p<=(m+=f)&&(f=c+4*(h+c)*(g-1),m=u+(h+c)*(g<<1),g>>=1)),y===o)m+=4;else{var w=e[a+3*y+1],C=e[a+3*y+2];i[m++]=e[a+3*y],i[m++]=w,i[m++]=C,i[m++]=255}--d}}}function Ae(e,t,n,i){for(var s=e[t++],l=1<<s,r=l+1,a=r+1,o=s+1,h=(1<<o)-1,c=0,d=0,u=0,p=e[t++],m=new Int32Array(4096),f=null;;){for(;c<16&&0!==p;)d|=e[t++]<<c,c+=8,1===p?p=e[t++]:--p;if(c<o)break;var g=d&h;if(d>>=o,c-=o,g!==l){if(g===r)break;for(var b=g<a?g:f,v=0,y=b;l<y;)y=m[y]>>8,++v;var w=y;if(i<u+v+(b!==g?1:0))return void console.log("Warning, gif stream longer than expected.");n[u++]=w;var C=u+=v;for(b!==g&&(n[u++]=w),y=b;v--;)n[--C]=255&(y=m[y]),y>>=8;null!==f&&a<4096&&(m[a++]=f<<8|w,h+1<=a&&o<12&&(++o,h=h<<1|1)),f=g}else a=r+1,h=(1<<(o=s+1))-1,f=null}return u!==i&&console.log("Warning, gif stream shorter than expected."),n}try{t.GifWriter=function(e,t,n,i){var s=0,l=void 0===(i=void 0===i?{}:i).loop?null:i.loop,r=void 0===i.palette?null:i.palette;if(t<=0||n<=0||65535<t||65535<n)throw"Width/Height invalid.";function a(e){var t=e.length;if(t<2||256<t||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}e[s++]=71,e[s++]=73,e[s++]=70,e[s++]=56,e[s++]=57,e[s++]=97;var o=0,h=0;if(null!==r){for(var c=a(r);c>>=1;)++o;if(c=1<<o,--o,void 0!==i.background){if(c<=(h=i.background))throw"Background index out of range.";if(0===h)throw"Background index explicitly passed as 0."}}if(e[s++]=255&t,e[s++]=t>>8&255,e[s++]=255&n,e[s++]=n>>8&255,e[s++]=(null!==r?128:0)|o,e[s++]=h,e[s++]=0,null!==r)for(var d=0,u=r.length;d<u;++d){var p=r[d];e[s++]=p>>16&255,e[s++]=p>>8&255,e[s++]=255&p}if(null!==l){if(l<0||65535<l)throw"Loop count invalid.";e[s++]=33,e[s++]=255,e[s++]=11,e[s++]=78,e[s++]=69,e[s++]=84,e[s++]=83,e[s++]=67,e[s++]=65,e[s++]=80,e[s++]=69,e[s++]=50,e[s++]=46,e[s++]=48,e[s++]=3,e[s++]=1,e[s++]=255&l,e[s++]=l>>8&255,e[s++]=0}var m=!1;this.addFrame=function(t,n,i,l,o,h){if(!0===m&&(--s,m=!1),t<0||n<0||65535<t||65535<n)throw"x/y invalid.";if(i<=0||l<=0||65535<i||65535<l)throw"Width/Height invalid.";if(o.length<i*l)throw"Not enough pixels for the frame size.";var c=!0,d=(h=void 0===h?{}:h).palette;if(null==d&&(c=!1,d=r),null==d)throw"Must supply either a local or global palette.";for(var u=a(d),p=0;u>>=1;)++p;u=1<<p;var f=void 0===h.delay?0:h.delay,g=void 0===h.disposal?0:h.disposal;if(g<0||3<g)throw"Disposal out of range.";var b=!1,v=0;if(null!=h.transparent&&(b=!0,(v=h.transparent)<0||u<=v))throw"Transparent color index.";if((0!==g||b||0!==f)&&(e[s++]=33,e[s++]=249,e[s++]=4,e[s++]=g<<2|(!0===b?1:0),e[s++]=255&f,e[s++]=f>>8&255,e[s++]=v,e[s++]=0),e[s++]=44,e[s++]=255&t,e[s++]=t>>8&255,e[s++]=255&n,e[s++]=n>>8&255,e[s++]=255&i,e[s++]=i>>8&255,e[s++]=255&l,e[s++]=l>>8&255,e[s++]=!0===c?128|p-1:0,!0===c)for(var y=0,w=d.length;y<w;++y){var C=d[y];e[s++]=C>>16&255,e[s++]=C>>8&255,e[s++]=255&C}s=function(e,t,n,i){e[t++]=n;var s=t++,l=1<<n,r=l-1,a=l+1,o=a+1,h=n+1,c=0,d=0;function u(n){for(;n<=c;)e[t++]=255&d,d>>=8,c-=8,t===s+256&&(e[s]=255,s=t++)}function p(e){d|=e<<c,c+=h,u(8)}var m=i[0]&r,f={};p(l);for(var g=1,b=i.length;g<b;++g){var v=i[g]&r,y=m<<8|v,w=f[y];if(void 0===w){for(d|=m<<c,c+=h;8<=c;)e[t++]=255&d,d>>=8,c-=8,t===s+256&&(e[s]=255,s=t++);4096===o?(p(l),o=a+1,h=n+1,f={}):(1<<h<=o&&++h,f[y]=o++),m=v}else m=w}return p(m),p(a),u(1),s+1===t?e[s]=0:(e[s]=t-s-1,e[t++]=0),t}(e,s,p<2?2:p,o)},this.end=function(){return!1===m&&(e[s++]=59,m=!0),s}},t.GifReader=De}catch(l){}function Me(e){var t,n,i,s,l,r=Math.floor,a=new Array(64),o=new Array(64),h=new Array(64),c=new Array(64),d=new Array(65535),u=new Array(65535),p=new Array(64),m=new Array(64),f=[],g=0,b=7,v=new Array(64),y=new Array(64),w=new Array(64),C=new Array(256),x=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,i=0,s=new Array,l=1;l<=16;l++){for(var r=1;r<=e[l];r++)s[t[i]]=[],s[t[i]][0]=n,s[t[i]][1]=l,i++,n++;n*=2}return s}function P(e){for(var t=e[0],n=e[1]-1;0<=n;)t&1<<n&&(g|=1<<b),n--,--b<0&&(255==g?(L(255),L(0)):L(g),b=7,g=0)}function L(e){f.push(e)}function N(e){L(e>>8&255),L(255&e)}function R(e,t,n,i,s){for(var l,r=s[0],a=s[240],o=function(e,t){var n,i,s,l,r,a,o,h,c,d,u=0;for(c=0;c<8;++c){var m=(n=e[u])+(h=e[u+7]),f=n-h,g=(i=e[u+1])+(o=e[u+6]),b=i-o,v=(s=e[u+2])+(a=e[u+5]),y=s-a,w=(l=e[u+3])+(r=e[u+4]),C=l-r,x=m+w,_=m-w,S=g+v,k=g-v;e[u]=x+S,e[u+4]=x-S;var E=.707106781*(k+_);e[u+2]=_+E,e[u+6]=_-E;var O=.382683433*((x=C+y)-(k=b+f)),I=.5411961*x+O,D=1.306562965*k+O,A=.707106781*(S=y+b),M=f+A,T=f-A;e[u+5]=T+I,e[u+3]=T-I,e[u+1]=M+D,e[u+7]=M-D,u+=8}for(c=u=0;c<8;++c){var P=(n=e[u])+(h=e[u+56]),L=n-h,N=(i=e[u+8])+(o=e[u+48]),R=i-o,F=(s=e[u+16])+(a=e[u+40]),H=s-a,B=(l=e[u+24])+(r=e[u+32]),V=l-r,j=P+B,z=P-B,q=N+F,U=N-F;e[u]=j+q,e[u+32]=j-q;var W=.707106781*(U+z);e[u+16]=z+W,e[u+48]=z-W;var Y=.382683433*((j=V+H)-(U=R+L)),$=.5411961*j+Y,G=1.306562965*U+Y,X=.707106781*(q=H+R),K=L+X,Z=L-X;e[u+40]=Z+$,e[u+24]=Z-$,e[u+8]=K+G,e[u+56]=K-G,u++}for(c=0;c<64;++c)p[c]=0<(d=e[c]*t[c])?d+.5|0:d-.5|0;return p}(e,t),h=0;h<64;++h)m[_[h]]=o[h];var c=m[0]-n;n=m[0],0==c?P(i[0]):(P(i[u[l=32767+c]]),P(d[l]));for(var f=63;0<f&&0==m[f];f--);if(0==f)return P(r),n;for(var g,b=1;b<=f;){for(var v=b;0==m[b]&&b<=f;++b);var y=b-v;if(16<=y){g=y>>4;for(var w=1;w<=g;++w)P(a);y&=15}P(s[(y<<4)+u[l=32767+m[b]]]),P(d[l]),b++}return 63!=f&&P(r),n}function F(e){e<=0&&(e=1),100<e&&(e=100),l!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=r((t[n]*e+50)/100);i<1?i=1:255<i&&(i=255),a[_[n]]=i}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],l=0;l<64;l++){var d=r((s[l]*e+50)/100);d<1?d=1:255<d&&(d=255),o[_[l]]=d}for(var u=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var f=0;f<8;f++)h[p]=1/(a[_[p]]*u[m]*u[f]*8),c[p]=1/(o[_[p]]*u[m]*u[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),l=e)}this.encode=function(e,l){var r,d;(new Date).getTime(),l&&F(l),f=new Array,g=0,b=7,N(65496),N(65504),N(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),N(1),N(1),L(0),L(0),function(){N(65499),N(132),L(0);for(var e=0;e<64;e++)L(a[e]);L(1);for(var t=0;t<64;t++)L(o[t])}(),r=e.width,d=e.height,N(65472),N(17),L(8),N(d),N(r),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1),function(){N(65476),N(418),L(0);for(var e=0;e<16;e++)L(S[e+1]);for(var t=0;t<=11;t++)L(k[t]);L(16);for(var n=0;n<16;n++)L(E[n+1]);for(var i=0;i<=161;i++)L(O[i]);L(1);for(var s=0;s<16;s++)L(I[s+1]);for(var l=0;l<=11;l++)L(D[l]);L(17);for(var r=0;r<16;r++)L(A[r+1]);for(var a=0;a<=161;a++)L(M[a])}(),N(65498),N(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var u=0,p=0,m=0;g=0,b=7,this.encode.displayName="_encode_";for(var C,_,T,H,B,V,j,z,q,U=e.data,W=e.height,Y=4*e.width,$=0;$<W;){for(C=0;C<Y;){for(V=B=Y*$+C,j=-1,q=z=0;q<64;q++)V=B+(z=q>>3)*Y+(j=4*(7&q)),W<=$+z&&(V-=Y*($+1+z-W)),Y<=C+j&&(V-=C+j-Y+4),_=U[V++],T=U[V++],H=U[V++],v[q]=(x[_]+x[T+256>>0]+x[H+512>>0]>>16)-128,y[q]=(x[_+768>>0]+x[T+1024>>0]+x[H+1280>>0]>>16)-128,w[q]=(x[_+1280>>0]+x[T+1536>>0]+x[H+1792>>0]>>16)-128;u=R(v,h,u,t,i),p=R(y,c,p,n,s),m=R(w,c,m,n,s),C+=32}$+=8}if(0<=b){var G=[];G[1]=b+1,G[0]=(1<<b+1)-1,P(G)}return N(65497),new Uint8Array(f)},(new Date).getTime(),e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)C[t]=e(t)}(),t=T(S,k),n=T(I,D),i=T(E,O),s=T(A,M),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)u[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=i;for(var s=-(t-1);s<=-e;s++)u[32767+s]=n,d[32767+s]=[],d[32767+s][1]=n,d[32767+s][0]=t-1+s;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256>>0]=38470*e,x[e+512>>0]=7471*e+32768,x[e+768>>0]=-11059*e,x[e+1024>>0]=-21709*e,x[e+1280>>0]=32768*e+8421375,x[e+1536>>0]=-27439*e,x[e+1792>>0]=-5329*e}(),F(e),(new Date).getTime()}function Te(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=De,ue.API.adler32cs=(ve="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,ye=null,we=function(){if(!ve)return function(){return!1};try{var e={};"function"==typeof e.Buffer&&(ye=e.Buffer)}catch(e){}return function(e){return e instanceof ArrayBuffer||null!==ye&&e instanceof ye}}(),Ce=null!==ye?function(e){return new ye(e,"utf8").toString("binary")}:function(e){return unescape(encodeURIComponent(e))},xe=function(e,t){for(var n=65535&e,i=e>>>16,s=0,l=t.length;s<l;s++)i=(i+(n=(n+(255&t.charCodeAt(s)))%65521))%65521;return(i<<16|n)>>>0},_e=function(e,t){for(var n=65535&e,i=e>>>16,s=0,l=t.length;s<l;s++)i=(i+(n=(n+t[s])%65521))%65521;return(i<<16|n)>>>0},ke=(Se={}).Adler32=(((be=(ge=function(e){if(!(this instanceof ge))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(e=null==e?1:+e))throw new Error("First arguments needs to be a finite number.");this.checksum=e>>>0}).prototype={}).constructor=ge).from=((pe=function(e){if(!(this instanceof ge))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");this.checksum=xe(1,e.toString())}).prototype=be,pe),ge.fromUtf8=((me=function(e){if(!(this instanceof ge))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");var t=Ce(e.toString());this.checksum=xe(1,t)}).prototype=be,me),ve&&(ge.fromBuffer=((fe=function(e){if(!(this instanceof ge))throw new TypeError("Constructor cannot called be as a function.");if(!we(e))throw new Error("First argument needs to be ArrayBuffer.");var t=new Uint8Array(e);return this.checksum=_e(1,t)}).prototype=be,fe)),be.update=function(e){if(null==e)throw new Error("First argument needs to be a string.");return e=e.toString(),this.checksum=xe(this.checksum,e)},be.updateUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=Ce(e.toString());return this.checksum=xe(this.checksum,t)},ve&&(be.updateBuffer=function(e){if(!we(e))throw new Error("First argument needs to be ArrayBuffer.");var t=new Uint8Array(e);return this.checksum=_e(this.checksum,t)}),be.clone=function(){return new ke(this.checksum)},ge),Se.from=function(e){if(null==e)throw new Error("First argument needs to be a string.");return xe(1,e.toString())},Se.fromUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=Ce(e.toString());return xe(1,t)},ve&&(Se.fromBuffer=function(e){if(!we(e))throw new Error("First argument need to be ArrayBuffer.");var t=new Uint8Array(e);return _e(1,t)}),Se),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,i,s,l,r,a,o,h=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,b=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,i=p[n];return void 0!==i?h[256*i+(255&t)]:252===n||253===n?"AL":f.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,r,a){var o,h,c,d,u=t[a];switch(u){case"L":case"R":g=!1;break;case"N":case"AN":break;case"EN":g&&(u="AN");break;case"AL":g=!0,u="R";break;case"WS":u="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(o=r[a-1])&&"AN"!==o||"EN"!==(h=t[a+1])&&"AN"!==h?u="N":g&&(h="AN"),u=h===o?h:"N";break;case"ES":u="EN"===(o=0<a?r[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(0<a&&"EN"===r[a-1]){u="EN";break}if(g){u="N";break}for(c=a+1,d=t.length;c<d&&"ET"===t[c];)c++;u=c<d&&"EN"===t[c]?"EN":"N";break;case"NSM":if(s&&!l){for(d=t.length,c=a+1;c<d&&"NSM"===t[c];)c++;if(c<d){var p=e[a];if(o=t[c],(1425<=p&&p<=2303||64286===p)&&("R"===o||"AL"===o)){u="R";break}}}u=a<1||"B"===(o=t[a-1])?"N":r[a-1];break;case"B":n=!(g=!1),u=b;break;case"S":i=!0,u="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"BN":u="N"}return u},C=function(e,t,n){var i=e.split("");return n&&x(i,n,{hiLevel:b}),i.reverse(),t&&t.reverse(),i.join("")},x=function(e,t,s){var l,r,a,o,h,p=-1,m=e.length,f=0,y=[],C=b?d:c,x=[];for(i=n=g=!1,r=0;r<m;r++)x[r]=v(e[r]);for(a=0;a<m;a++){if(h=f,y[a]=w(e,x,y,a),l=240&(f=C[h][u[y[a]]]),t[a]=o=C[f&=15][5],0<l)if(16===l){for(r=p;r<a;r++)t[r]=1;p=-1}else p=-1;if(C[f][6])-1===p&&(p=a);else if(-1<p){for(r=p;r<a;r++)t[r]=o;p=-1}"B"===x[a]&&(t[a]=0),s.hiLevel|=o}i&&function(e,t,n){for(var i=0;i<n;i++)if("S"===e[i]){t[i]=b;for(var s=i-1;0<=s&&"WS"===e[s];s--)t[s]=b}}(x,t,m)},_=function(e,t,i,s,l){if(!(l.hiLevel<e)){if(1===e&&1===b&&!n)return t.reverse(),void(i&&i.reverse());for(var r,a,o,h,c=t.length,d=0;d<c;){if(s[d]>=e){for(o=d+1;o<c&&s[o]>=e;)o++;for(h=d,a=o-1;h<a;h++,a--)r=t[h],t[h]=t[a],t[a]=r,i&&(r=i[h],i[h]=i[a],i[a]=r);d=o}d++}}},S=function(e,t,n){var i=e.split(""),s={hiLevel:b};return n||(n=[]),x(i,n,s),function(e,t,n){if(0!==n.hiLevel&&o)for(var i,s=0;s<e.length;s++)1===t[s]&&0<=(i=m.indexOf(e[s]))&&(e[s]=m[i+1])}(i,n,s),_(2,i,t,n,s),_(1,i,t,n,s),i.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===l&&(l=y(e)),void 0===a&&(a=y(e))}(e,t),s||!r||a)if(s&&r&&l^a)b=l?1:0,e=C(e,t,n);else if(!s&&r&&a)b=l?1:0,e=S(e,t,n),e=C(e,t);else if(!s||l||r||a){if(s&&!r&&l^a)e=C(e,t),e=l?(b=0,S(e,t,n)):(b=1,e=S(e,t,n),C(e,t));else if(s&&l&&!r&&a)b=1,e=S(e,t,n),e=C(e,t);else if(!s&&!r&&l^a){var i=o;l?(b=1,e=S(e,t,n),b=0,o=!1,e=S(e,t,n),o=i):(b=0,e=S(e,t,n),e=C(e,t),o=!(b=1),e=S(e,t,n),o=i,e=C(e,t))}}else b=0,e=S(e,t,n);else b=l?1:0,e=S(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(s=e.isInputVisual,r=e.isOutputVisual,l=e.isInputRtl,a=e.isOutputRtl,o=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,i=[];if("[object Array]"===Object.prototype.toString.call(t)){var s=0;for(i=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?i.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):i.push([n.doBidiReorder(t[s])]);e.text=i}else e.text=n.doBidiReorder(t)}])}(ue),window.tmp=Me,Te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:i,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Te.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[e]()}catch(e){console.log("bit decode error:"+e)}},Te.prototype.bit1=function(){var e=Math.ceil(this.width/8),t=e%4,n=0<=this.height?this.height-1:-this.height;for(n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var l=this.datav.getUint8(this.pos++,!0),r=i*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var o=this.palette[l>>7-a&1];this.data[r+4*a]=o.blue,this.data[r+4*a+1]=o.green,this.data[r+4*a+2]=o.red,this.data[r+4*a+3]=255}0!=t&&(this.pos+=4-t)}},Te.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var l=this.datav.getUint8(this.pos++,!0),r=i*this.width*4+2*s*4,a=15&l,o=this.palette[l>>4];if(this.data[r]=o.blue,this.data[r+1]=o.green,this.data[r+2]=o.red,this.data[r+3]=255,2*s+1>=this.width)break;this.data[r+4]=(o=this.palette[a]).blue,this.data[r+4+1]=o.green,this.data[r+4+2]=o.red,this.data[r+4+3]=255}0!=t&&(this.pos+=4-t)}},Te.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;0<=t;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*i;if(s<this.palette.length){var r=this.palette[s];this.data[l]=r.red,this.data[l+1]=r.green,this.data[l+2]=r.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}0!=e&&(this.pos+=4-e)}},Te.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var r=(l&t)/t*255|0,a=(l>>5&t)/t*255|0,o=l>>15?255:0,h=i*this.width*4+4*s;this.data[h]=(l>>10&t)/t*255|0,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=o}this.pos+=e}},Te.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;0<=i;i--){for(var s=this.bottom_up?i:this.height-1-i,l=0;l<this.width;l++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(r&t)/t*255|0,o=(r>>5&n)/n*255|0,h=s*this.width*4+4*l;this.data[h]=(r>>11)/t*255|0,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=255}this.pos+=e}},Te.prototype.bit24=function(){for(var e=this.height-1;0<=e;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),r=t*this.width*4+4*n;this.data[r]=l,this.data[r+1]=s,this.data[r+2]=i,this.data[r+3]=255}this.pos+=this.width%4}},Te.prototype.bit32=function(){for(var e=this.height-1;0<=e;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=l,this.data[a+1]=s,this.data[a+2]=i,this.data[a+3]=r}},Te.prototype.getData=function(){return this.data},window.tmp=Te,function(e){var t=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function n(){var e=this;function t(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}e.build_tree=function(n){var i,s,l,r=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.elems,h=-1;for(n.heap_len=0,n.heap_max=573,i=0;i<o;i++)0!==r[2*i]?(n.heap[++n.heap_len]=h=i,n.depth[i]=0):r[2*i+1]=0;for(;n.heap_len<2;)r[2*(l=n.heap[++n.heap_len]=h<2?++h:0)]=1,n.depth[l]=0,n.opt_len--,a&&(n.static_len-=a[2*l+1]);for(e.max_code=h,i=Math.floor(n.heap_len/2);1<=i;i--)n.pqdownheap(r,i);for(l=o;i=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(r,1),s=n.heap[1],n.heap[--n.heap_max]=i,n.heap[--n.heap_max]=s,r[2*l]=r[2*i]+r[2*s],n.depth[l]=Math.max(n.depth[i],n.depth[s])+1,r[2*i+1]=r[2*s+1]=l,n.heap[1]=l++,n.pqdownheap(r,1),2<=n.heap_len;);n.heap[--n.heap_max]=n.heap[1],function(t){var n,i,s,l,r,a,o=e.dyn_tree,h=e.stat_desc.static_tree,c=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,u=e.stat_desc.max_length,p=0;for(l=0;l<=15;l++)t.bl_count[l]=0;for(o[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)u<(l=o[2*o[2*(i=t.heap[n])+1]+1]+1)&&(l=u,p++),o[2*i+1]=l,i>e.max_code||(t.bl_count[l]++,r=0,d<=i&&(r=c[i-d]),t.opt_len+=(a=o[2*i])*(l+r),h&&(t.static_len+=a*(h[2*i+1]+r)));if(0!==p){do{for(l=u-1;0===t.bl_count[l];)l--;t.bl_count[l]--,t.bl_count[l+1]+=2,t.bl_count[u]--,p-=2}while(0<p);for(l=u;0!==l;l--)for(i=t.bl_count[l];0!==i;)(s=t.heap[--n])>e.max_code||(o[2*s+1]!=l&&(t.opt_len+=(l-o[2*s+1])*o[2*s],o[2*s+1]=l),i--)}}(n),function(e,n,i){var s,l,r,a=[],o=0;for(s=1;s<=15;s++)a[s]=o=o+i[s-1]<<1;for(l=0;l<=n;l++)0!==(r=e[2*l+1])&&(e[2*l]=t(a[r]++,r))}(r,e.max_code,n.bl_count)}}function i(e,t,n,i,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=s}function s(e,t,n,i,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=s}n._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],n.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],n.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],n.d_code=function(e){return e<256?t[e]:t[256+(e>>>7)]},n.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],n.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],i.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],i.static_l_desc=new i(i.static_ltree,n.extra_lbits,257,286,15),i.static_d_desc=new i(i.static_dtree,n.extra_dbits,0,30,15),i.static_bl_desc=new i(null,n.extra_blbits,0,19,7);var l=[new s(0,0,0,0,0),new s(4,4,8,4,1),new s(4,5,16,8,1),new s(4,6,32,32,1),new s(4,4,16,16,2),new s(8,16,32,32,2),new s(8,16,128,128,2),new s(8,32,128,256,2),new s(32,128,258,1024,2),new s(32,258,258,4096,2)],r=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function a(e,t,n,i){var s=e[2*t],l=e[2*n];return s<l||s==l&&i[t]<=i[n]}function o(){var e,t,s,o,h,c,d,u,p,m,f,g,b,v,y,w,C,x,_,S,k,E,O,I,D,A,M,T,P,L,N,R,F,H,B,V,j,z,q,U,W,Y=this,$=new n,G=new n,X=new n;function K(){var e;for(e=0;e<286;e++)N[2*e]=0;for(e=0;e<30;e++)R[2*e]=0;for(e=0;e<19;e++)F[2*e]=0;N[512]=1,Y.opt_len=Y.static_len=0,V=z=0}function Z(e,t){var n,i,s=-1,l=e[1],r=0,a=7,o=4;for(0===l&&(a=138,o=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)i=l,l=e[2*(n+1)+1],++r<a&&i==l||(r<o?F[2*i]+=r:0!==i?(i!=s&&F[2*i]++,F[32]++):r<=10?F[34]++:F[36]++,s=i,o=(r=0)===l?(a=138,3):i==l?(a=6,3):(a=7,4))}function J(e){Y.pending_buf[Y.pending++]=e}function Q(e){J(255&e),J(e>>>8&255)}function ee(e,t){var n,i=t;16-i<W?(Q(U|=(n=e)<<W&65535),U=n>>>16-W,W+=i-16):(U|=e<<W&65535,W+=i)}function te(e,t){var n=2*e;ee(65535&t[n],65535&t[n+1])}function ne(e,t){var n,i,s=-1,l=e[1],r=0,a=7,o=4;for(0===l&&(a=138,o=3),n=0;n<=t;n++)if(i=l,l=e[2*(n+1)+1],!(++r<a&&i==l)){if(r<o)for(;te(i,F),0!=--r;);else 0!==i?(i!=s&&(te(i,F),r--),te(16,F),ee(r-3,2)):r<=10?(te(17,F),ee(r-3,3)):(te(18,F),ee(r-11,7));s=i,o=(r=0)===l?(a=138,3):i==l?(a=6,3):(a=7,4)}}function ie(){16==W?(Q(U),W=U=0):8<=W&&(J(255&U),U>>>=8,W-=8)}function se(e,t){var i,s,l;if(Y.pending_buf[j+2*V]=e>>>8&255,Y.pending_buf[j+2*V+1]=255&e,Y.pending_buf[H+V]=255&t,V++,0===e?N[2*t]++:(z++,e--,N[2*(n._length_code[t]+256+1)]++,R[2*n.d_code(e)]++),0==(8191&V)&&2<M){for(i=8*V,s=k-C,l=0;l<30;l++)i+=R[2*l]*(5+n.extra_dbits[l]);if(i>>>=3,z<Math.floor(V/2)&&i<Math.floor(s/2))return!0}return V==B-1}function le(e,t){var i,s,l,r,a=0;if(0!==V)for(;i=Y.pending_buf[j+2*a]<<8&65280|255&Y.pending_buf[j+2*a+1],s=255&Y.pending_buf[H+a],a++,0===i?te(s,e):(te((l=n._length_code[s])+256+1,e),0!==(r=n.extra_lbits[l])&&ee(s-=n.base_length[l],r),te(l=n.d_code(--i),t),0!==(r=n.extra_dbits[l])&&ee(i-=n.base_dist[l],r)),a<V;);te(256,e),q=e[513]}function re(){8<W?Q(U):0<W&&J(255&U),W=U=0}function ae(e,t,n){var i,s;ee(0+(n?1:0),3),i=e,s=t,re(),q=8,Q(s),Q(~s),Y.pending_buf.set(u.subarray(i,i+s),Y.pending),Y.pending+=s}function oe(t){(function(e,t,s){var l,r,a=0;0<M?($.build_tree(Y),G.build_tree(Y),a=function(){var e;for(Z(N,$.max_code),Z(R,G.max_code),X.build_tree(Y),e=18;3<=e&&0===F[2*n.bl_order[e]+1];e--);return Y.opt_len+=3*(e+1)+5+5+4,e}(),(r=Y.static_len+3+7>>>3)<=(l=Y.opt_len+3+7>>>3)&&(l=r)):l=r=t+5,t+4<=l&&-1!=e?ae(e,t,s):r==l?(ee(2+(s?1:0),3),le(i.static_ltree,i.static_dtree)):(ee(4+(s?1:0),3),function(e,t,i){var s;for(ee(e-257,5),ee(t-1,5),ee(i-4,4),s=0;s<i;s++)ee(F[2*n.bl_order[s]+1],3);ne(N,e-1),ne(R,t-1)}($.max_code+1,G.max_code+1,a+1),le(N,R)),K(),s&&re()})(0<=C?C:-1,k-C,t),C=k,e.flush_pending()}function he(){var t,n,i,s;do{if(0==(s=p-O-k)&&0===k&&0===O)s=h;else if(-1==s)s--;else if(h+h-262<=k){for(u.set(u.subarray(h,h+h),0),E-=h,k-=h,C-=h,i=t=b;n=65535&f[--i],f[i]=h<=n?n-h:0,0!=--t;);for(i=t=h;n=65535&m[--i],m[i]=h<=n?n-h:0,0!=--t;);s+=h}if(0===e.avail_in)return;t=e.read_buf(u,k+O,s),3<=(O+=t)&&(g=((g=255&u[k])<<w^255&u[k+1])&y)}while(O<262&&0!==e.avail_in)}function ce(e){var t,n,i=D,s=k,l=I,r=h-262<k?k-(h-262):0,a=L,o=d,c=k+258,p=u[s+l-1],f=u[s+l];P<=I&&(i>>=2),O<a&&(a=O);do{if(u[(t=e)+l]==f&&u[t+l-1]==p&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&s<c);if(n=258-(c-s),s=c-258,l<n){if(E=e,a<=(l=n))break;p=u[s+l-1],f=u[s+l]}}}while((e=65535&m[e&o])>r&&0!=--i);return l<=O?l:O}function de(e){return e.total_in=e.total_out=0,e.msg=null,Y.pending=0,Y.pending_out=0,t=113,o=0,$.dyn_tree=N,$.stat_desc=i.static_l_desc,G.dyn_tree=R,G.stat_desc=i.static_d_desc,X.dyn_tree=F,X.stat_desc=i.static_bl_desc,W=U=0,q=8,K(),function(){var e;for(p=2*h,e=f[b-1]=0;e<b-1;e++)f[e]=0;A=l[M].max_lazy,P=l[M].good_length,L=l[M].nice_length,D=l[M].max_chain,x=I=2,g=S=O=C=k=0}(),0}Y.depth=[],Y.bl_count=[],Y.heap=[],N=[],R=[],F=[],Y.pqdownheap=function(e,t){for(var n=Y.heap,i=n[t],s=t<<1;s<=Y.heap_len&&(s<Y.heap_len&&a(e,n[s+1],n[s],Y.depth)&&s++,!a(e,i,n[s],Y.depth));)n[t]=n[s],t=s,s<<=1;n[t]=i},Y.deflateInit=function(e,t,n,i,l,r){return i||(i=8),l||(l=8),r||(r=0),e.msg=null,-1==t&&(t=6),l<1||9<l||8!=i||n<9||15<n||t<0||9<t||r<0||2<r?-2:(e.dstate=Y,d=(h=1<<(c=n))-1,y=(b=1<<(v=l+7))-1,w=Math.floor((v+3-1)/3),u=new Uint8Array(2*h),m=[],f=[],B=1<<l+6,Y.pending_buf=new Uint8Array(4*B),s=4*B,j=Math.floor(B/2),H=3*B,M=t,T=r,de(e))},Y.deflateEnd=function(){return 42!=t&&113!=t&&666!=t?-2:(Y.pending_buf=null,u=m=f=null,Y.dstate=null,113==t?-3:0)},Y.deflateParams=function(e,t,n){var i=0;return-1==t&&(t=6),t<0||9<t||n<0||2<n?-2:(l[M].func!=l[t].func&&0!==e.total_in&&(i=e.deflate(1)),M!=t&&(A=l[M=t].max_lazy,P=l[M].good_length,L=l[M].nice_length,D=l[M].max_chain),T=n,i)},Y.deflateSetDictionary=function(e,n,i){var s,l=i,r=0;if(!n||42!=t)return-2;if(l<3)return 0;for(h-262<l&&(r=i-(l=h-262)),u.set(n.subarray(r,r+l),0),C=k=l,g=((g=255&u[0])<<w^255&u[1])&y,s=0;s<=l-3;s++)m[s&d]=f[g=(g<<w^255&u[s+2])&y],f[g]=s;return 0},Y.deflate=function(n,a){var p,v,D,P,L,N;if(4<a||a<0)return-2;if(!n.next_out||!n.next_in&&0!==n.avail_in||666==t&&4!=a)return n.msg=r[4],-2;if(0===n.avail_out)return n.msg=r[7],-5;if(e=n,P=o,o=a,42==t&&(v=8+(c-8<<4)<<8,3<(D=(M-1&255)>>1)&&(D=3),v|=D<<6,0!==k&&(v|=32),t=113,J((N=v+=31-v%31)>>8&255),J(255&N)),0!==Y.pending){if(e.flush_pending(),0===e.avail_out)return o=-1,0}else if(0===e.avail_in&&a<=P&&4!=a)return e.msg=r[7],-5;if(666==t&&0!==e.avail_in)return n.msg=r[7],-5;if(0!==e.avail_in||0!==O||0!=a&&666!=t){switch(L=-1,l[M].func){case 0:L=function(t){var n,i=65535;for(s-5<i&&(i=s-5);;){if(O<=1){if(he(),0===O&&0==t)return 0;if(0===O)break}if(k+=O,n=C+i,((O=0)===k||n<=k)&&(O=k-n,k=n,oe(!1),0===e.avail_out))return 0;if(h-262<=k-C&&(oe(!1),0===e.avail_out))return 0}return oe(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(a);break;case 1:L=function(t){for(var n,i=0;;){if(O<262){if(he(),O<262&&0==t)return 0;if(0===O)break}if(3<=O&&(i=65535&f[g=(g<<w^255&u[k+2])&y],m[k&d]=f[g],f[g]=k),0!==i&&(k-i&65535)<=h-262&&2!=T&&(x=ce(i)),3<=x)if(n=se(k-E,x-3),O-=x,x<=A&&3<=O){for(x--;g=(g<<w^255&u[++k+2])&y,i=65535&f[g],m[k&d]=f[g],f[g]=k,0!=--x;);k++}else k+=x,x=0,g=((g=255&u[k])<<w^255&u[k+1])&y;else n=se(0,255&u[k]),O--,k++;if(n&&(oe(!1),0===e.avail_out))return 0}return oe(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(a);break;case 2:L=function(t){for(var n,i,s=0;;){if(O<262){if(he(),O<262&&0==t)return 0;if(0===O)break}if(3<=O&&(s=65535&f[g=(g<<w^255&u[k+2])&y],m[k&d]=f[g],f[g]=k),I=x,_=E,x=2,0!==s&&I<A&&(k-s&65535)<=h-262&&(2!=T&&(x=ce(s)),x<=5&&(1==T||3==x&&4096<k-E)&&(x=2)),3<=I&&x<=I){for(i=k+O-3,n=se(k-1-_,I-3),O-=I-1,I-=2;++k<=i&&(s=65535&f[g=(g<<w^255&u[k+2])&y],m[k&d]=f[g],f[g]=k),0!=--I;);if(S=0,x=2,k++,n&&(oe(!1),0===e.avail_out))return 0}else if(0!==S){if((n=se(0,255&u[k-1]))&&oe(!1),k++,O--,0===e.avail_out)return 0}else S=1,k++,O--}return 0!==S&&(n=se(0,255&u[k-1]),S=0),oe(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(a)}if(2!=L&&3!=L||(t=666),0==L||2==L)return 0===e.avail_out&&(o=-1),0;if(1==L){if(1==a)ee(2,3),te(256,i.static_ltree),ie(),1+q+10-W<9&&(ee(2,3),te(256,i.static_ltree),ie()),q=7;else if(ae(0,0,!1),3==a)for(p=0;p<b;p++)f[p]=0;if(e.flush_pending(),0===e.avail_out)return o=-1,0}}return 4!=a?0:1}}function h(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}h.prototype={deflateInit:function(e,t){return this.dstate=new o,t||(t=15),this.dstate.deflateInit(this,e,t)},deflate:function(e){return this.dstate?this.dstate.deflate(this,e):-2},deflateEnd:function(){if(!this.dstate)return-2;var e=this.dstate.deflateEnd();return this.dstate=null,e},deflateParams:function(e,t){return this.dstate?this.dstate.deflateParams(this,e,t):-2},deflateSetDictionary:function(e,t){return this.dstate?this.dstate.deflateSetDictionary(this,e,t):-2},read_buf:function(e,t,n){var i=this.avail_in;return n<i&&(i=n),0===i?0:(this.avail_in-=i,e.set(this.next_in.subarray(this.next_in_index,this.next_in_index+i),t),this.next_in_index+=i,this.total_in+=i,i)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};var c=e.zip||e;c.Deflater=c._jzlib_Deflater=function(e){var t=new h,n=new Uint8Array(512),i=e?e.level:-1;void 0===i&&(i=-1),t.deflateInit(i),t.next_out=n,this.append=function(e,i){var s,l=[],r=0,a=0,o=0;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=512,0!=t.deflate(0))throw new Error("deflating: "+t.msg);t.next_out_index&&l.push(512==t.next_out_index?new Uint8Array(n):new Uint8Array(n.subarray(0,t.next_out_index))),o+=t.next_out_index,i&&0<t.next_in_index&&t.next_in_index!=r&&(i(t.next_in_index),r=t.next_in_index)}while(0<t.avail_in||0===t.avail_out);return s=new Uint8Array(o),l.forEach((function(e){s.set(e,a),a+=e.length})),s}},this.flush=function(){var e,i,s=[],l=0,r=0;do{if(t.next_out_index=0,t.avail_out=512,1!=(e=t.deflate(4))&&0!=e)throw new Error("deflating: "+t.msg);0<512-t.avail_out&&s.push(new Uint8Array(n.subarray(0,t.next_out_index))),r+=t.next_out_index}while(0<t.avail_in||0===t.avail_out);return t.deflateEnd(),i=new Uint8Array(r),s.forEach((function(e){i.set(e,l),l+=e.length})),i}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var i in n)e==i&&(e=n[i]);for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],l=0;l<s.length;l++){var r=s[l].process,a=s[l].re.exec(e);a&&(t=r(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}},function(e){var t="+".charCodeAt(0),n="/".charCodeAt(0),i="0".charCodeAt(0),s="a".charCodeAt(0),l="A".charCodeAt(0),r="-".charCodeAt(0),a="_".charCodeAt(0),o=function(e){var o=e.charCodeAt(0);return o===t||o===r?62:o===n||o===a?63:o<i?-1:o<i+10?o-i+26+26:o<l+26?o-l:o<s+26?o-s+26:void 0};e.API.TTFFont=function(){function e(e,t,n){var i;if(this.rawData=e,i=this.contents=new c(e),this.contents.pos=4,"ttcf"===i.readString(4)){if(!t)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+t+" not found in TTC file.")}i.pos=0,this.parse(),this.subset=new D(this),this.registerTTF()}return e.open=function(t,n,i,s){if("string"!=typeof i)throw new Error("Invalid argument supplied in TTFFont.open");return new e(function(e){var t,n,i,s,l,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.length;l="="===e.charAt(a-2)?2:"="===e.charAt(a-1)?1:0,r=new Uint8Array(3*e.length/4-l),i=0<l?e.length-4:e.length;var h=0;function c(e){r[h++]=e}for(n=t=0;t<i;t+=4,n+=3)c((16711680&(s=o(e.charAt(t))<<18|o(e.charAt(t+1))<<12|o(e.charAt(t+2))<<6|o(e.charAt(t+3))))>>16),c((65280&s)>>8),c(255&s);return 2===l?c(255&(s=o(e.charAt(t))<<2|o(e.charAt(t+1))>>4)):1===l&&(c((s=o(e.charAt(t))<<10|o(e.charAt(t+1))<<4|o(e.charAt(t+2))>>2)>>8&255),c(255&s)),r}(i),n,s)},e.prototype.parse=function(){return this.directory=new d(this.contents),this.head=new m(this),this.name=new C(this),this.cmap=new g(this),this.toUnicode=new Map,this.hhea=new b(this),this.maxp=new x(this),this.hmtx=new _(this),this.post=new y(this),this.os2=new v(this),this.loca=new I(this),this.glyf=new k(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.bbox).length;e<t;e++)i.push(Math.round(n[e]*this.scaleFactor));return i}).call(this),this.stemV=0,this.post.exists?(t=255&(n=this.post.italic_angle),!0&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+t)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var i,s,l,r,a;for(s=r=l=0,a=(e=""+e).length;0<=a?r<a:a<r;s=0<=a?++r:--r)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return l*(t/1e3)},e.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},e}();var h,c=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return 2147483648<=(e=this.readUInt32())?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return 32768<=(e=this.readUInt16())?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n,i;for(n=[],t=i=0;0<=e?i<e:e<i;t=0<=e?++i:--i)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,i,s;for(s=[],t=n=0,i=e.length;0<=i?n<i:i<n;t=0<=i?++n:--n)s.push(this.writeByte(e.charCodeAt(t)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,i,s,l,r,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),r=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^r)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*l+256*r+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:e<n;0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,i;for(i=[],t=0,n=e.length;t<n;t++)i.push(this.writeByte(e[t]));return i},e}(),d=function(){var e;function t(e){var t,n,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:i<n;0<=i?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,i,s,l,r,a,o,h,d,u,p,m;for(m in u=Object.keys(t).length,r=Math.log(2),h=16*Math.floor(Math.log(u)/r),s=Math.floor(h/r),o=16*u-h,(i=new c).writeInt(this.scalarType),i.writeShort(u),i.writeShort(h),i.writeShort(s),i.writeShort(o),a=i.pos+16*u,l=null,p=[],t)for(d=t[m],i.writeString(m),i.writeInt(e(d)),i.writeInt(a),i.writeInt(d.length),p=p.concat(d),"head"===m&&(l=a),a+=d.length;a%4;)p.push(0),a++;return i.write(p),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(e){var t,n,i,s;for(e=S.call(e);e.length%4;)e.push(0);for(n=new c(e),i=t=0,s=e.length;i<s;i+=4)t+=n.readUInt32();return 4294967295&t},t}(),u={}.hasOwnProperty,p=function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};h=function(){function e(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var m=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new c).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),f=function(){function e(e,t){var n,i,s,l,r,a,o,h,c,d,u,p,m,f,g,b,v,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=g=0;g<256;a=++g)this.codeMap[a]=e.readByte();break;case 4:for(u=e.readUInt16(),d=u/2,e.pos+=6,s=function(){var t,n;for(n=[],a=t=0;0<=d?t<d:d<t;a=0<=d?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,m=function(){var t,n;for(n=[],a=t=0;0<=d?t<d:d<t;a=0<=d?++t:--t)n.push(e.readUInt16());return n}(),o=function(){var t,n;for(n=[],a=t=0;0<=d?t<d:d<t;a=0<=d?++t:--t)n.push(e.readUInt16());return n}(),h=function(){var t,n;for(n=[],a=t=0;0<=d?t<d:d<t;a=0<=d?++t:--t)n.push(e.readUInt16());return n}(),i=(this.length-e.pos+this.offset)/2,r=function(){var t,n;for(n=[],a=t=0;0<=i?t<i:i<t;a=0<=i?++t:--t)n.push(e.readUInt16());return n}(),a=b=0,y=s.length;b<y;a=++b)for(f=s[a],n=v=p=m[a];p<=f?v<=f:f<=v;n=p<=f?++v:--v)0===h[a]?l=n+o[a]:0!==(l=r[h[a]/2+(n-p)-(d-a)]||0)&&(l+=o[a]),this.codeMap[n]=65535&l}e.pos=c}return e.encode=function(e,t){var n,i,s,l,r,a,o,h,d,u,p,m,f,g,b,v,y,w,C,x,_,S,k,E,O,I,D,A,M,T,P,L,N,R,F,H,B,V,j,z,q,U,W,Y,$;switch(D=new c,l=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(f=0,g=function(){var e,t;for(t=[],m=e=0;e<256;m=++e)t.push(0);return t}(),v={0:0},s={},A=0,L=l.length;A<L;A++)null==v[U=e[i=l[A]]]&&(v[U]=++f),s[i]={old:e[i],new:v[e[i]]},g[i]=v[e[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(g),{charMap:s,subtable:D.data,maxGlyphID:f+1};case"unicode":for(O=[],d=[],v={},n={},b=o=null,M=y=0,N=l.length;M<N;M++)null==v[w=e[i=l[M]]]&&(v[w]=++y),n[i]={old:w,new:v[w]},r=v[w]-i,null!=b&&r===o||(b&&d.push(b),O.push(i),o=r),b=i;for(b&&d.push(b),d.push(65535),O.push(65535),k=2*(S=O.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),u=Math.log(_/2)/Math.LN2,x=2*S-_,a=[],C=[],p=[],m=T=0,R=O.length;T<R;m=++T){if(h=d[m],65535===(E=O[m])){a.push(0),C.push(0);break}if(32768<=E-(I=n[E].new))for(a.push(0),C.push(2*(p.length+S-m)),i=P=E;E<=h?P<=h:h<=P;i=E<=h?++P:--P)p.push(n[i].new);else a.push(I-E),C.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*S+2*p.length),D.writeUInt16(0),D.writeUInt16(k),D.writeUInt16(_),D.writeUInt16(u),D.writeUInt16(x),z=0,F=d.length;z<F;z++)D.writeUInt16(i=d[z]);for(D.writeUInt16(0),q=0,H=O.length;q<H;q++)D.writeUInt16(i=O[q]);for(W=0,B=a.length;W<B;W++)D.writeUInt16(r=a[W]);for(Y=0,V=C.length;Y<V;Y++)D.writeUInt16(C[Y]);for($=0,j=p.length;$<j;$++)D.writeUInt16(f=p[$]);return{charMap:n,subtable:D.data,maxGlyphID:y+1}}},e}(),g=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=n?i<n:n<i;0<=n?++i:--i)t=new f(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,i;return null==t&&(t="macroman"),n=f.encode(e,t),(i=new c).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),0<this.version&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;++t)n.push(e.readInt());return n}(),1<this.version))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),y=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:n<i;0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=(function(){var t,n,i;for(i=[],t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:n<t;0<=n?++t:--t)i.push(e.readUInt32());return i}).call(this)}},t}(),w=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},C=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,i,s,l,r,a,o,h,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),r=e.readShort(),n=[],s=h=0;0<=t?h<t:t<h;s=0<=t?++h:--h)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+r+e.readShort()});for(a={},s=c=0,d=n.length;c<d;s=++c)e.pos=(i=n[s]).offset,o=e.readString(i.length),l=new w(o,i),null==a[u=i.nameID]&&(a[u]=[]),a[i.nameID].push(l);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},t}(),x=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,i,s,l,r;for(e.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:l<i;0<=l?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var t,i;for(i=[],t=0;0<=n?t<n:n<t;0<=n?++t:--t)i.push(e.readInt16());return i}(),this.widths=(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.metrics).length;e<t;e++)i.push(n[e].advance);return i}).call(this),t=this.widths[this.widths.length-1],r=[],s=0;0<=n?s<n:n<s;0<=n?++s:--s)r.push(this.widths.push(t));return r},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),S=[].slice,k=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="glyf",t.prototype.parse=function(e){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,i,s,l,r,a,o,h,d;return(e=e)in this.cache?this.cache[e]:(t=this.file.contents,n=(s=this.file.loca).indexOf(e),0===(i=s.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,l=(r=new c(t.read(i))).readShort(),o=r.readShort(),d=r.readShort(),a=r.readShort(),h=r.readShort(),this.cache[e]=-1===l?new O(r,o,d,a,h):new E(r,l,o,d,a,h),this.cache[e]))},t.prototype.encode=function(e,t,n){var i,s,l,r,a;for(l=[],s=[],r=0,a=t.length;r<a;r++)i=e[t[r]],s.push(l.length),i&&(l=l.concat(i.encode(n)));return s.push(l.length),{table:l,offsets:s}},t}(),E=function(){function e(e,t,n,i,s,l){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),O=function(){function e(e,t,n,i,s){var l,r;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;r=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readShort()),32&r;)l.pos+=1&r?4:2,128&r?l.pos+=8:64&r?l.pos+=4:8&r&&(l.pos+=2)}return e.prototype.encode=function(e){var t,n,i,s;for(n=new c(S.call(this.raw.data)),t=i=0,s=this.glyphIDs.length;i<s;t=++i)n.pos=this.glyphOffsets[t];return n.data},e}(),I=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,h),t.prototype.tag="loca",t.prototype.parse=function(e){return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?(function(){var t,n,i;for(i=[],t=0,n=this.length;t<n;t+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var t,n,i;for(i=[],t=0,n=this.length;t<n;t+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<n.length;++l)if(n[l]=i,s<t.length&&t[s]==l){++s,n[l]=i;var r=this.offsets[l+1]-this.offsets[l];0<r&&(i+=r)}for(var a=new Array(4*n.length),o=0;o<n.length;++o)a[4*o+3]=255&n[o],a[4*o+2]=(65280&n[o])>>8,a[4*o+1]=(16711680&n[o])>>16,a[4*o]=(4278190080&n[o])>>24;return a},t}(),D=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,i;for(t in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)e[t]=n[i[t]];return e},e.prototype.glyphsFor=function(e){var t,n,i,s,l,r,a;for(i={},l=0,r=e.length;l<r;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(null!=(n=i[s])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(0<t.length)for(s in a=this.glyphsFor(t))i[s]=n=a[s];return i},e.prototype.encode=function(e,t){var n,i,s,l,r,a,o,h,c,d,u,p,m,f;for(i in n=g.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),d={0:0},f=n.charMap)d[(r=f[i]).old]=r.new;for(u in c=n.maxGlyphID,l)u in d||(d[u]=c++);return o=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),h=Object.keys(o).sort((function(e,t){return e-t})),p=function(){var e,t,n;for(n=[],e=0,t=h.length;e<t;e++)n.push(o[h[e]]);return n}(),s=this.font.glyf.encode(l,p,d),a=this.font.loca.encode(s.offsets,p),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();e.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var i,s;if(Array.isArray(n))return"["+function(){var e,i,s;for(s=[],e=0,i=n.length;e<i;e++)s.push(t.convert(n[e]));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(n))return""+n;for(i in s=["<<"],n)s.push("/"+i+" "+t.convert(n[i]));return s.push(">>"),s.join("\n")},t}()}(ue),Ee="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")(),Oe=function(){var e,t,n;function i(e){var t,n,i,s,l,r,a,o,h,c,d,u,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},l=null;;){switch(t=this.readUInt32(),o=(function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":l&&this.animation.frames.push(l),this.pos+=4,l={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),i=this.readUInt16()||100,l.delay=1e3*s/i,l.disposeOp=this.data[this.pos++],l.blendOp=this.data[this.pos++],l.data=[];break;case"IDAT":case"fdAT":for("fdAT"===o&&(this.pos+=4,t-=4),e=(null!=l?l.data:void 0)||this.imgData,d=0;0<=t?d<t:t<d;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if(0<(h=n-this.transparency.indexed.length))for(u=0;0<=h?u<h:h<u;0<=h?++u:--u)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":r=(c=this.read(t)).indexOf(0),a=String.fromCharCode.apply(String,c.slice(0,r)),this.text[a]=String.fromCharCode.apply(String,c.slice(r+1));break;case"IEND":return l&&this.animation.frames.push(l),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.load=function(e,t,n){var s;return"function"==typeof t&&(n=t),(s=new XMLHttpRequest).open("GET",e,!0),s.responseType="arraybuffer",s.onload=function(){var e;return e=new i(new Uint8Array(s.response||s.mozResponseArrayBuffer)),"function"==typeof(null!=t?t.getContext:void 0)&&e.render(t),"function"==typeof n?n(e):void 0},s.send(null)},i.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:e<t;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),i=0,s=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function l(l,r,a,o){var h,c,d,u,p,m,f,g,b,v,y,w,C,x,_,S,k,E,O,I,D=Math.ceil((s.width-l)/a),A=Math.ceil((s.height-r)/o),M=s.width==D&&s.height==A;for(C=t*D,y=M?n:new Uint8Array(C*A),m=e.length,c=w=0;w<A&&i<m;){switch(e[i++]){case 0:for(u=S=0;S<C;u=S+=1)y[c++]=e[i++];break;case 1:for(u=k=0;k<C;u=k+=1)h=e[i++],p=u<t?0:y[c-t],y[c++]=(h+p)%256;break;case 2:for(u=E=0;E<C;u=E+=1)h=e[i++],d=(u-u%t)/t,y[c++]=((x=w&&y[(w-1)*C+d*t+u%t])+h)%256;break;case 3:for(u=O=0;O<C;u=O+=1)h=e[i++],d=(u-u%t)/t,p=u<t?0:y[c-t],x=w&&y[(w-1)*C+d*t+u%t],y[c++]=(h+Math.floor((p+x)/2))%256;break;case 4:for(u=I=0;I<C;u=I+=1)h=e[i++],d=(u-u%t)/t,0===w?x=_=0:(x=y[(w-1)*C+d*t+u%t],_=d&&y[(w-1)*C+(d-1)*t+u%t]),f=(p=u<t?0:y[c-t])+x-_,g=Math.abs(f-p),b=Math.abs(f-x),v=Math.abs(f-_),y[c++]=(h+(g<=b&&g<=v?p:b<=v?x:_))%256;break;default:throw new Error("Invalid filter algorithm: "+e[i-1])}if(!M){var T=((r+w*o)*s.width+l)*t,P=w*C;for(u=0;u<D;u+=1){for(var L=0;L<t;L+=1)n[T++]=y[P++];T+=(a-1)*t}}w++}}return e=(e=new Le(e)).getBytes(),1==s.interlaceMethod?(l(0,0,8,8),l(4,0,8,8),l(0,4,4,8),l(2,0,4,4),l(0,2,2,4),l(1,0,2,2),l(0,1,1,2)):l(0,0,1,1),n},i.prototype.decodePalette=function(){var e,t,n,i,s,l,r,a,o;for(n=this.palette,l=this.transparency.indexed||[],s=new Uint8Array((l.length||0)+n.length),i=0,t=r=e=0,a=n.length;r<a;t=r+=3)s[i++]=n[t],s[i++]=n[t+1],s[i++]=n[t+2],s[i++]=null!=(o=l[e++])?o:255;return s},i.prototype.copyToImageData=function(e,t){var n,i,s,l,r,a,o,h,c,d,u;if(i=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(u=this._decodedPalette)?u:this._decodedPalette=this.decodePalette(),i=4,n=!0),h=(s=e.data||e).length,r=c||t,l=a=0,1===i)for(;l<h;)o=c?4*t[l/4]:a,d=r[o++],s[l++]=d,s[l++]=d,s[l++]=d,s[l++]=n?r[o++]:255,a=o;else for(;l<h;)o=c?4*t[l/4]:a,s[l++]=r[o++],s[l++]=r[o++],s[l++]=r[o++],s[l++]=n?r[o++]:255,a=o},i.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};try{t=Ee.document.createElement("canvas"),n=t.getContext("2d")}catch(l){return-1}return e=function(e){var i;return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(i=new Image).src=t.toDataURL(),i},i.prototype.decodeFrames=function(t){var n,i,s,l,r,a,o,h;if(this.animation){for(h=[],i=r=0,a=(o=this.animation.frames).length;r<a;i=++r)s=t.createImageData((n=o[i]).width,n.height),l=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(s,l),n.imageData=s,h.push(n.image=e(s));return h}},i.prototype.renderFrame=function(e,t){var n,i,s;return n=(i=this.animation.frames)[t],s=i[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=s?s.disposeOp:void 0)?e.clearRect(s.xOffset,s.yOffset,s.width,s.height):2===(null!=s?s.disposeOp:void 0)&&e.putImageData(s.imageData,s.xOffset,s.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},i.prototype.animate=function(e){var t,n,i,s,l,r,a=this;return n=0,s=(r=this.animation).numFrames,i=r.frames,l=r.numPlays,(t=function(){var r,o;if(r=n++%s,o=i[r],a.renderFrame(e,r),1<s&&n/s<l)return a.animation._timeout=setTimeout(t,o.delay)})()},i.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},i.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},i}(),Ee.PNG=Oe;var Pe=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(e){var t=this.buffer,n=t?t.byteLength:0;if(e<n)return t;for(var i=512;i<e;)i<<=1;for(var s=new Uint8Array(i),l=0;l<n;++l)s[l]=t[l];return this.buffer=s},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(e){var t=this.pos;if(e){this.ensureBuffer(t+e);for(var n=t+e;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;i<n&&(n=i)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(t,n)},lookChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(e,t,n){for(var i=e+t;this.bufferLength<=i&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t,n)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0}},e}(),Le=function(){if("undefined"!=typeof Uint32Array){var e=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),n=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],s=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(r.prototype=Object.create(Pe.prototype)).getBits=function(e){for(var t,n=this.codeSize,i=this.codeBuf,s=this.bytes,r=this.bytesPos;n<e;)void 0===(t=s[r++])&&l("Bad encoding in flate stream"),i|=t<<n,n+=8;return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=n-=e,this.bytesPos=r,t},r.prototype.getCode=function(e){for(var t=e[0],n=e[1],i=this.codeSize,s=this.codeBuf,r=this.bytes,a=this.bytesPos;i<n;){var o;void 0===(o=r[a++])&&l("Bad encoding in flate stream"),s|=o<<i,i+=8}var h=t[s&(1<<n)-1],c=h>>16,d=65535&h;return(0==i||i<c||0==c)&&l("Bad encoding in flate stream"),this.codeBuf=s>>c,this.codeSize=i-c,this.bytesPos=a,d},r.prototype.generateHuffmanTable=function(e){for(var t=e.length,n=0,i=0;i<t;++i)e[i]>n&&(n=e[i]);for(var s=1<<n,l=new Uint32Array(s),r=1,a=0,o=2;r<=n;++r,a<<=1,o<<=1)for(var h=0;h<t;++h)if(e[h]==r){var c=0,d=a;for(i=0;i<r;++i)c=c<<1|1&d,d>>=1;for(i=c;i<s;i+=o)l[i]=r<<16|h;++a}return[l,n]},r.prototype.readBlock=function(){function r(e,t,n,i,s){for(var l=e.getBits(n)+i;0<l--;)t[m++]=s}var a=this.getBits(3);if(1&a&&(this.eof=!0),0!=(a>>=1)){var o,h;if(1==a)o=i,h=s;else if(2==a){for(var c=this.getBits(5)+257,d=this.getBits(5)+1,u=this.getBits(4)+4,p=Array(e.length),m=0;m<u;)p[e[m++]]=this.getBits(3);for(var f=this.generateHuffmanTable(p),g=0,b=(m=0,c+d),v=new Array(b);m<b;){var y=this.getCode(f);16==y?r(this,v,2,3,g):17==y?r(this,v,3,3,g=0):18==y?r(this,v,7,11,g=0):v[m++]=g=y}o=this.generateHuffmanTable(v.slice(0,c)),h=this.generateHuffmanTable(v.slice(c,b))}else l("Unknown block type in flate stream");for(var w=(T=this.buffer)?T.length:0,C=this.bufferLength;;){var x=this.getCode(o);if(x<256)w<=C+1&&(w=(T=this.ensureBuffer(C+1)).length),T[C++]=x;else{if(256==x)return void(this.bufferLength=C);var _=(x=t[x-=257])>>16;0<_&&(_=this.getBits(_)),g=(65535&x)+_,x=this.getCode(h),0<(_=(x=n[x])>>16)&&(_=this.getBits(_));var S=(65535&x)+_;w<=C+g&&(w=(T=this.ensureBuffer(C+g)).length);for(var k=0;k<g;++k,++C)T[C]=T[C-S]}}}else{var E,O=this.bytes,I=this.bytesPos;void 0===(E=O[I++])&&l("Bad block header in flate stream");var D=E;void 0===(E=O[I++])&&l("Bad block header in flate stream"),D|=E<<8,void 0===(E=O[I++])&&l("Bad block header in flate stream");var A=E;void 0===(E=O[I++])&&l("Bad block header in flate stream"),(A|=E<<8)!=(65535&~D)&&l("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var M=this.bufferLength,T=this.ensureBuffer(M+D),P=M+D;this.bufferLength=P;for(var L=M;L<P;++L){if(void 0===(E=O[I++])){this.eof=!0;break}T[L]=E}this.bytesPos=I}},r}function l(e){throw new Error(e)}function r(e){var t=0,n=e[t++],i=e[t++];-1!=n&&-1!=i||l("Invalid header in flate stream"),8!=(15&n)&&l("Unknown compression method in flate stream"),((n<<8)+i)%31!=0&&l("Bad FCHECK in flate stream"),32&i&&l("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Pe.call(this)}}();window.tmp=Le},void 0===(s=i.call(t,n,t,e))||(e.exports=s);try{e.exports=jsPDF}catch(l){}},"6MUB":function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(s){var l=encodeURIComponent(i(s))+n;return Array.isArray(e[s])?e[s].map((function(e){return l+encodeURIComponent(i(e))})).join(t):l+encodeURIComponent(i(e[s]))})).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""}},CxY0:function(e,t,n){"use strict";var i=n("rWzI"),s=n("Nehr");function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){return s.isString(e)&&(e=y(e)),e instanceof l?e.format():l.prototype.format.call(e)},t.Url=l;var r=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(h),d=["%","/","?",";","#"].concat(c),u=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n("r8II");function y(e,t,n){if(e&&s.isObject(e)&&e instanceof l)return e;var i=new l;return i.parse(e,t,n),i}l.prototype.parse=function(e,t,n){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),a=-1!==l&&l<e.indexOf("#")?"?":"#",h=e.split(a);h[0]=h[0].replace(/\\/g,"/");var y=e=h.join(a);if(y=y.trim(),!n&&1===e.split("#").length){var w=o.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var C=r.exec(y);if(C){var x=(C=C[0]).toLowerCase();this.protocol=x,y=y.substr(C.length)}if(n||C||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===y.substr(0,2);!_||C&&g[C]||(y=y.substr(2),this.slashes=!0)}if(!g[C]&&(_||C&&!b[C])){for(var S,k,E=-1,O=0;O<u.length;O++)-1!==(I=y.indexOf(u[O]))&&(-1===E||I<E)&&(E=I);for(-1!==(k=-1===E?y.lastIndexOf("@"):y.lastIndexOf("@",E))&&(S=y.slice(0,k),y=y.slice(k+1),this.auth=decodeURIComponent(S)),E=-1,O=0;O<d.length;O++){var I;-1!==(I=y.indexOf(d[O]))&&(-1===E||I<E)&&(E=I)}-1===E&&(E=y.length),this.host=y.slice(0,E),y=y.slice(E),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var A=this.hostname.split(/\./),M=(O=0,A.length);O<M;O++){var T=A[O];if(T&&!T.match(p)){for(var P="",L=0,N=T.length;L<N;L++)T.charCodeAt(L)>127?P+="x":P+=T[L];if(!P.match(p)){var R=A.slice(0,O),F=A.slice(O+1),H=T.match(m);H&&(R.push(H[1]),F.unshift(H[2])),F.length&&(y="/"+F.join(".")+y),this.hostname=R.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),D||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!f[x])for(O=0,M=c.length;O<M;O++){var B=c[O];if(-1!==y.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),y=y.split(B).join(V)}}var j=y.indexOf("#");-1!==j&&(this.hash=y.substr(j),y=y.slice(0,j));var z=y.indexOf("?");return-1!==z?(this.search=y.substr(z),this.query=y.substr(z+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,z)):t&&(this.search="",this.query={}),y&&(this.pathname=y),b[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},l.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",l=!1,r="";this.host?l=e+this.host:this.hostname&&(l=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(r=v.stringify(this.query));var a=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==l?(l="//"+(l||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):l||(l=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+l+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},l.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},l.prototype.resolveObject=function(e){if(s.isString(e)){var t=new l;t.parse(e,!1,!0),e=t}for(var n=new l,i=Object.keys(this),r=0;r<i.length;r++){var a=i[r];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),h=0;h<o.length;h++){var c=o[h];"protocol"!==c&&(n[c]=e[c])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){for(var d=Object.keys(e),u=0;u<d.length;u++){var p=d[u];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var f=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=v||f||n.host&&e.pathname,w=y,C=n.pathname&&n.pathname.split("/")||[],x=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),y=y&&(""===m[0]||""===C[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=m;else if(m.length)C||(C=[]),C.pop(),C=C.concat(m),n.search=e.search,n.query=e.query;else if(!s.isNullOrUndefined(e.search))return x&&(n.hostname=n.host=C.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),n.search=e.search,n.query=e.query,s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!C.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var _=C.slice(-1)[0],S=(n.host||e.host||C.length>1)&&("."===_||".."===_)||""===_,k=0,E=C.length;E>=0;E--)"."===(_=C[E])?C.splice(E,1):".."===_?(C.splice(E,1),k++):k&&(C.splice(E,1),k--);if(!y&&!w)for(;k--;k)C.unshift("..");!y||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),S&&"/"!==C.join("/").substr(-1)&&C.push("");var O,I=""===C[0]||C[0]&&"/"===C[0].charAt(0);return x&&(n.hostname=n.host=I?"":C.length?C.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),(y=y||n.host&&C.length)&&!I&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},l.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},Nehr:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},XAfc:function(e,t,n){var i;!function(n){"use strict";var s={autoReset:!0,basic:!1,closable:!0,closableByDimmer:!0,invokeOnCloseOff:!1,frameless:!1,defaultFocusOff:!1,maintainFocus:!0,maximizable:!0,modal:!0,movable:!0,moveBounded:!1,overflow:!0,padding:!0,pinnable:!0,pinned:!0,preventBodyShift:!1,resizable:!0,startMaximized:!1,transition:"pulse",transitionOff:!1,tabbable:["button","[href]","input","select","textarea",'[tabindex]:not([tabindex^="-"]):not(:disabled):not(.ajs-reset)'].join(":not(:disabled):not(.ajs-reset),"),notifier:{delay:5,position:"bottom-right",closeButton:!1,classes:{base:"alertify-notifier",prefix:"ajs-",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",center:"ajs-center",visible:"ajs-visible",hidden:"ajs-hidden",close:"ajs-close"}},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"},hooks:{preinit:function(){},postinit:function(){}}},l=[];function r(e,t){e.className+=" "+t}function a(e,t){for(var n=e.className.split(" "),i=t.split(" "),s=0;s<i.length;s+=1){var l=n.indexOf(i[s]);l>-1&&n.splice(l,1)}e.className=n.join(" ")}function o(){return"rtl"===n.getComputedStyle(document.body).direction}function h(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function c(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function d(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function u(e){if(null===e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n+=1)t.push(u(e[n]));return t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return(t=new RegExp(e.source)).global=e.global,t.ignoreCase=e.ignoreCase,t.multiline=e.multiline,t.lastIndex=e.lastIndex,t;if("object"==typeof e){for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=u(e[i]));return t}return e}function p(e,t){if(e.elements){var n=e.elements.root;n.parentNode.removeChild(n),delete e.elements,e.settings=u(e.__settings),e.__init=t,delete e.__internal}}var m=!1;try{var f=Object.defineProperty({},"passive",{get:function(){m=!0}});n.addEventListener("test",f,f),n.removeEventListener("test",f,f)}catch(k){}var g=function(e,t,n,i,s){e.addEventListener(t,n,m?{capture:i,passive:s}:!0===i)},b=function(e,t,n,i,s){e.removeEventListener(t,n,m?{capture:i,passive:s}:!0===i)},v=function(){var e,t,n=!1,i={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==document.documentElement.style[e]){t=i[e],n=!0;break}return{type:t,supported:n}}();function y(e,t){return function(){if(arguments.length>0){for(var n=[],i=0;i<arguments.length;i+=1)n.push(arguments[i]);return n.push(e),t.apply(e,n)}return t.apply(e,[null,e])}}function w(e,t){return{index:e,button:t,cancel:!1}}function C(e,t){if("function"==typeof t.get(e))return t.get(e).call(t)}var x=function(){var e,t,i=[],m=!1,f=n.navigator.userAgent.indexOf("Safari")>-1&&n.navigator.userAgent.indexOf("Chrome")<0;function x(e){if(!e.__internal){var t;S.defaults.hooks.preinit(e),delete e.__init,e.__settings||(e.__settings=u(e.settings)),"function"==typeof e.setup?((t=e.setup()).options=t.options||{},t.focus=t.focus||{}):t={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof e.hooks&&(e.hooks={});var n=[];if(Array.isArray(t.buttons))for(var s=0;s<t.buttons.length;s+=1){var l=t.buttons[s],a={};for(var o in l)l.hasOwnProperty(o)&&(a[o]=l[o]);n.push(a)}var h=e.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:n,focus:t.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,defaultFocusOff:void 0,pinned:void 0,movable:void 0,moveBounded:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,invokeOnCloseOff:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,transitionOff:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclosing:void 0,onclose:void 0,onfocus:void 0,onmove:void 0,onmoved:void 0,onresize:void 0,onresized:void 0,onmaximize:void 0,onmaximized:void 0,onrestore:void 0,onrestored:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0,destroy:void 0},c={};c.root=document.createElement("div"),c.root.style.display="none",c.root.className="alertify ajs-hidden ",c.root.innerHTML='<div class="ajs-dimmer"></div><div class="ajs-modal" tabindex="0"></div>',c.dimmer=c.root.firstChild,c.modal=c.root.lastChild,c.modal.innerHTML='<div class="ajs-dialog" tabindex="0"></div>',c.dialog=c.modal.firstChild,c.dialog.innerHTML='<button class="ajs-reset"></button><div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div><div class="ajs-header"></div><div class="ajs-body"></div><div class="ajs-footer"></div><div class="ajs-handle"></div><button class="ajs-reset"></button>',c.reset=[],c.reset.push(c.dialog.firstChild),c.reset.push(c.dialog.lastChild),c.commands={},c.commands.container=c.reset[0].nextSibling,c.commands.pin=c.commands.container.firstChild,c.commands.maximize=c.commands.pin.nextSibling,c.commands.close=c.commands.maximize.nextSibling,c.header=c.commands.container.nextSibling,c.body=c.header.nextSibling,c.body.innerHTML='<div class="ajs-content"></div>',c.content=c.body.firstChild,c.footer=c.body.nextSibling,c.footer.innerHTML='<div class="ajs-auxiliary ajs-buttons"></div><div class="ajs-primary ajs-buttons"></div>',c.resizeHandle=c.footer.nextSibling,c.buttons={},c.buttons.auxiliary=c.footer.firstChild,c.buttons.primary=c.buttons.auxiliary.nextSibling,c.buttons.primary.innerHTML='<button class="ajs-button"></button>',c.buttonTemplate=c.buttons.primary.firstChild,c.buttons.primary.removeChild(c.buttonTemplate);for(var d=0;d<e.__internal.buttons.length;d+=1){var p=e.__internal.buttons[d];for(var m in i.indexOf(p.key)<0&&i.push(p.key),p.element=c.buttonTemplate.cloneNode(),p.element.innerHTML=p.text,"string"==typeof p.className&&""!==p.className&&r(p.element,p.className),p.attrs)"className"!==m&&p.attrs.hasOwnProperty(m)&&p.element.setAttribute(m,p.attrs[m]);"auxiliary"===p.scope?c.buttons.auxiliary.appendChild(p.element):c.buttons.primary.appendChild(p.element)}for(var f in e.elements=c,h.resetHandler=y(e,K),h.beginMoveHandler=y(e,de),h.beginResizeHandler=y(e,we),h.bringToFrontHandler=y(e,D),h.modalClickHandler=y(e,z),h.buttonsClickHandler=y(e,Y),h.commandsClickHandler=y(e,T),h.transitionInHandler=y(e,Q),h.transitionOutHandler=y(e,ee),h.options)void 0!==t.options[f]?e.set(f,t.options[f]):S.defaults.hasOwnProperty(f)?e.set(f,S.defaults[f]):"title"===f&&e.set(f,S.defaults.glossary[f]);"function"==typeof e.build&&e.build(),S.defaults.hooks.postinit(e)}document.body.appendChild(e.elements.root)}function _(){n.scrollTo(e,t)}function k(){for(var e=0,t=0;t<l.length;t+=1){var n=l[t];(n.isModal()||n.isMaximized())&&(e+=1)}0===e&&document.body.className.indexOf("ajs-no-overflow")>=0?(a(document.body,"ajs-no-overflow"),I(!1)):e>0&&document.body.className.indexOf("ajs-no-overflow")<0&&(I(!0),r(document.body,"ajs-no-overflow"))}var E="",O=0;function I(e){S.defaults.preventBodyShift&&(e&&document.documentElement.scrollHeight>document.documentElement.clientHeight?(O=t,E=n.getComputedStyle(document.body).top,r(document.body,"ajs-fixed"),document.body.style.top=-t+"px"):e||(t=O,document.body.style.top=E,a(document.body,"ajs-fixed"),_()))}function D(e,t){for(var n=l.indexOf(t)+1;n<l.length;n+=1)if(l[n].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),l.splice(l.indexOf(t),1),l.push(t),X(t)),!1}function A(e,t,n,i,s){var l,r={op:void 0,items:[]};if(void 0===s&&"string"==typeof i)r.op="get",t.hasOwnProperty(i)?(r.found=!0,r.value=t[i]):(r.found=!1,r.value=void 0);else if(r.op="set","object"==typeof i){var a=i;for(var o in a)t.hasOwnProperty(o)?(t[o]!==a[o]&&(l=t[o],t[o]=a[o],n.call(e,o,l,a[o])),r.items.push({key:o,value:a[o],found:!0})):r.items.push({key:o,value:a[o],found:!1})}else{if("string"!=typeof i)throw new Error("args must be a string or object");t.hasOwnProperty(i)?(t[i]!==s&&(l=t[i],t[i]=s,n.call(e,i,l,s)),r.items.push({key:i,value:s,found:!0})):r.items.push({key:i,value:s,found:!1})}return r}function M(e){var t;W(e,(function(n){return t=!0!==e.get("invokeOnCloseOff")&&!0===n.invokeOnClose})),!t&&e.isOpen()&&e.close()}function T(e,t){switch(e.srcElement||e.target){case t.elements.commands.pin:t.isPinned()?L(t):P(t);break;case t.elements.commands.maximize:t.isMaximized()?R(t):N(t);break;case t.elements.commands.close:M(t)}return!1}function P(e){e.set("pinned",!0)}function L(e){e.set("pinned",!1)}function N(e){C("onmaximize",e),r(e.elements.root,"ajs-maximized"),e.isOpen()&&k(),C("onmaximized",e)}function R(e){C("onrestore",e),a(e.elements.root,"ajs-maximized"),e.isOpen()&&k(),C("onrestored",e)}function F(e){var t=c();e.elements.modal.style.marginTop=h()+"px",e.elements.modal.style.marginLeft=t+"px",e.elements.modal.style.marginRight=-t+"px"}function H(e){var t=parseInt(e.elements.modal.style.marginTop,10),n=parseInt(e.elements.modal.style.marginLeft,10);if(e.elements.modal.style.marginTop="",e.elements.modal.style.marginLeft="",e.elements.modal.style.marginRight="",e.isOpen()){var i=0,s=0;""!==e.elements.dialog.style.top&&(i=parseInt(e.elements.dialog.style.top,10)),e.elements.dialog.style.top=i+(t-h())+"px",""!==e.elements.dialog.style.left&&(s=parseInt(e.elements.dialog.style.left,10)),e.elements.dialog.style.left=s+(n-c())+"px"}}function B(e){e.get("modal")||e.get("pinned")?H(e):F(e)}var V=!1,j=0;function z(e,t){if(e.timeStamp-j>200&&(j=e.timeStamp)&&!V){var n=e.srcElement||e.target;!0===t.get("closableByDimmer")&&n===t.elements.modal&&M(t)}V=!1}var q=0,U=!1;function W(e,t){if(Date.now()-q>200&&(q=Date.now()))for(var n=0;n<e.__internal.buttons.length;n+=1){var i=e.__internal.buttons[n];if(!i.element.disabled&&t(i)){var s=w(n,i);"function"==typeof e.callback&&e.callback.apply(e,[s]),!1===s.cancel&&e.close();break}}}function Y(e,t){var n=e.srcElement||e.target;W(t,(function(e){return e.element===n&&(U=!0)}))}function $(e){if(!U){var t=l[l.length-1],n=e.keyCode;return 0===t.__internal.buttons.length&&27===n&&!0===t.get("closable")?(M(t),!1):i.indexOf(n)>-1?(W(t,(function(e){return e.key===n})),!1):void 0}U=!1}function G(e){var t=l[l.length-1],n=e.keyCode;if(37===n||39===n){for(var s=t.__internal.buttons,r=0;r<s.length;r+=1)if(document.activeElement===s[r].element)switch(n){case 37:return void s[(r||s.length)-1].element.focus();case 39:return void s[(r+1)%s.length].element.focus()}}else if(n<124&&n>111&&i.indexOf(n)>-1)return e.preventDefault(),e.stopPropagation(),W(t,(function(e){return e.key===n})),!1}function X(e,t){if(t)t.focus();else{var n=e.__internal.focus,i=n.element;switch(typeof n.element){case"number":e.__internal.buttons.length>n.element&&(i=!0===e.get("basic")?e.elements.reset[0]:e.__internal.buttons[n.element].element);break;case"string":i=e.elements.body.querySelector(n.element);break;case"function":i=n.element.call(e)}(!0===e.get("defaultFocusOff")||null==i&&0===e.__internal.buttons.length)&&(i=e.elements.reset[0]),i&&i.focus&&(i.focus(),n.select&&i.select&&i.select())}}function K(e,t){if(!t)for(var n=l.length-1;n>-1;n-=1)if(l[n].isModal()){t=l[n];break}if(t&&t.isModal()){var i,s=t.elements.reset[0],r=t.elements.reset[1],a=e.relatedTarget,o=t.elements.root.contains(a),h=e.srcElement||e.target;if(h===s&&!o||h===r&&a===s)return;h===r||h===document.body?i=s:h===s&&a===r?i=Z(t):h===s&&o&&(i=Z(t,!0)),X(t,i)}}function Z(e,t){var n=[].slice.call(e.elements.dialog.querySelectorAll(s.tabbable));t&&n.reverse();for(var i=0;i<n.length;i+=1){var l=n[i];if(l.offsetParent||l.offsetWidth||l.offsetHeight||l.getClientRects().length)return l}}function J(e){var t=l[l.length-1];t&&e.shiftKey&&9===e.keyCode&&t.elements.reset[1].focus()}function Q(e,t){clearTimeout(t.__internal.timerIn),X(t),U=!1,C("onfocus",t),b(t.elements.dialog,v.type,t.__internal.transitionInHandler),a(t.elements.root,"ajs-in")}function ee(e,t){clearTimeout(t.__internal.timerOut),b(t.elements.dialog,v.type,t.__internal.transitionOutHandler),me(t),_e(t),t.isMaximized()&&!t.get("startMaximized")&&R(t),"function"==typeof t.__internal.destroy&&t.__internal.destroy.apply(t)}var te=null,ne=0,ie=0,se="pageX",le="pageY",re=null,ae=!1,oe=null;function he(e,t){var n=e[le]-ie;ae&&(n-=document.body.scrollTop),t.style.left=e[se]-ne+"px",t.style.top=n+"px"}function ce(e,t){var n=e[le]-ie;ae&&(n-=document.body.scrollTop),t.style.left=Math.min(re.maxLeft,Math.max(re.minLeft,e[se]-ne))+"px",t.style.top=ae?Math.min(re.maxTop,Math.max(re.minTop,n))+"px":Math.max(re.minTop,n)+"px"}function de(e,t){if(null===fe&&!t.isMaximized()&&t.get("movable")){var n,i=0,s=0;if("touchstart"===e.type?(e.preventDefault(),n=e.targetTouches[0],se="clientX",le="clientY"):0===e.button&&(n=e),n){var l=t.elements.dialog;if(r(l,"ajs-capture"),l.style.left&&(i=parseInt(l.style.left,10)),l.style.top&&(s=parseInt(l.style.top,10)),ne=n[se]-i,ie=n[le]-s,t.isModal()?ie+=t.elements.modal.scrollTop:t.isPinned()&&(ie-=document.body.scrollTop),t.get("moveBounded")){var a=l,o=-i,h=-s;do{o+=a.offsetLeft,h+=a.offsetTop}while(a=a.offsetParent);re={maxLeft:o,minLeft:-o,maxTop:document.documentElement.clientHeight-l.clientHeight-h,minTop:-h},oe=ce}else re=null,oe=he;return C("onmove",t),ae=!t.isModal()&&t.isPinned(),te=t,oe(n,l),r(document.body,"ajs-no-selection"),!1}}}function ue(e){var t;te&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&oe(t,te.elements.dialog))}function pe(){if(te){var e=te;te=re=null,a(document.body,"ajs-no-selection"),a(e.elements.dialog,"ajs-capture"),C("onmoved",e)}}function me(e){te=null;var t=e.elements.dialog;t.style.left=t.style.top=""}var fe=null,ge=Number.Nan,be=0,ve=0,ye=0;function we(e,t){var n;if(!t.isMaximized()&&("touchstart"===e.type?(e.preventDefault(),n=e.targetTouches[0]):0===e.button&&(n=e),n)){C("onresize",t),fe=t,ye=t.elements.resizeHandle.offsetHeight/2;var i=t.elements.dialog;return r(i,"ajs-capture"),ge=parseInt(i.style.left,10),i.style.height=i.offsetHeight+"px",i.style.minHeight=t.elements.header.offsetHeight+t.elements.footer.offsetHeight+"px",i.style.width=(be=i.offsetWidth)+"px","none"!==i.style.maxWidth&&(i.style.minWidth=(ve=i.offsetWidth)+"px"),i.style.maxWidth="none",r(document.body,"ajs-no-selection"),!1}}function Ce(e){var t;fe&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&function(e,t,n){var i,s,l=t,r=0,a=0;do{r+=l.offsetLeft,a+=l.offsetTop}while(l=l.offsetParent);!0===n?(i=e.pageX,s=e.pageY):(i=e.clientX,s=e.clientY);var h=o();if(h&&(i=document.body.offsetWidth-i,isNaN(ge)||(r=document.body.offsetWidth-r-t.offsetWidth)),t.style.height=s-a+ye+"px",t.style.width=i-r+ye+"px",!isNaN(ge)){var c=.5*Math.abs(t.offsetWidth-be);h&&(c*=-1),t.offsetWidth>be?t.style.left=ge+c+"px":t.offsetWidth>=ve&&(t.style.left=ge-c+"px")}}(t,fe.elements.dialog,!fe.get("modal")&&!fe.get("pinned")))}function xe(){if(fe){var e=fe;fe=null,a(document.body,"ajs-no-selection"),a(e.elements.dialog,"ajs-capture"),V=!0,C("onresized",e)}}function _e(e){fe=null;var t=e.elements.dialog;"none"===t.style.maxWidth&&(t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="",ge=Number.Nan,be=ve=ye=0)}function Se(){for(var e=0;e<l.length;e+=1){var t=l[e];t.get("autoReset")&&(me(t),_e(t))}}function ke(e){g(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function Ee(e){b(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function Oe(e){g(e.elements.header,"mousedown",e.__internal.beginMoveHandler),g(e.elements.header,"touchstart",e.__internal.beginMoveHandler,!1,!1)}function Ie(e){b(e.elements.header,"mousedown",e.__internal.beginMoveHandler),b(e.elements.header,"touchstart",e.__internal.beginMoveHandler,!1,!1)}function De(e){g(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),g(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler,!1,!1)}function Ae(e){b(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),b(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler,!1,!1)}return{__init:x,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf("ajs-modeless")<0},isMaximized:function(){return this.elements.root.className.indexOf("ajs-maximized")>-1},isPinned:function(){return this.elements.root.className.indexOf("ajs-unpinned")<0},maximize:function(){return this.isMaximized()||N(this),this},restore:function(){return this.isMaximized()&&R(this),this},pin:function(){return this.isPinned()||P(this),this},unpin:function(){return this.isPinned()&&L(this),this},bringToFront:function(){return D(0,this),this},moveTo:function(e,t){if(!isNaN(e)&&!isNaN(t)){C("onmove",this);var n=this.elements.dialog,i=n,s=0,l=0;n.style.left&&(s-=parseInt(n.style.left,10)),n.style.top&&(l-=parseInt(n.style.top,10));do{s+=i.offsetLeft,l+=i.offsetTop}while(i=i.offsetParent);var r=e-s,a=t-l;o()&&(r*=-1),n.style.left=r+"px",n.style.top=a+"px",C("onmoved",this)}return this},resizeTo:function(e,t){var n=parseFloat(e),i=parseFloat(t),s=/(\d*\.\d+|\d+)%/;if(!isNaN(n)&&!isNaN(i)&&!0===this.get("resizable")){C("onresize",this),(""+e).match(s)&&(n=n/100*document.documentElement.clientWidth),(""+t).match(s)&&(i=i/100*document.documentElement.clientHeight);var l=this.elements.dialog;"none"!==l.style.maxWidth&&(l.style.minWidth=(ve=l.offsetWidth)+"px"),l.style.maxWidth="none",l.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",l.style.width=n+"px",l.style.height=i+"px",C("onresized",this)}return this},setting:function(e,t){var n=this,i=A(this,this.__internal.options,(function(e,t,i){!function(e,t,n,i){switch(t){case"title":e.setHeader(i);break;case"modal":!function(e){e.get("modal")?(a(e.elements.root,"ajs-modeless"),e.isOpen()&&(Ee(e),B(e),k())):(r(e.elements.root,"ajs-modeless"),e.isOpen()&&(ke(e),B(e),k()))}(e);break;case"basic":!function(e){e.get("basic")?r(e.elements.root,"ajs-basic"):a(e.elements.root,"ajs-basic")}(e);break;case"frameless":!function(e){e.get("frameless")?r(e.elements.root,"ajs-frameless"):a(e.elements.root,"ajs-frameless")}(e);break;case"pinned":!function(e){e.get("pinned")?(a(e.elements.root,"ajs-unpinned"),e.isOpen()&&H(e)):(r(e.elements.root,"ajs-unpinned"),e.isOpen()&&!e.isModal()&&F(e))}(e);break;case"closable":!function(e){e.get("closable")?(r(e.elements.root,"ajs-closable"),function(e){g(e.elements.modal,"click",e.__internal.modalClickHandler)}(e)):(a(e.elements.root,"ajs-closable"),function(e){b(e.elements.modal,"click",e.__internal.modalClickHandler)}(e))}(e);break;case"maximizable":!function(e){e.get("maximizable")?r(e.elements.root,"ajs-maximizable"):a(e.elements.root,"ajs-maximizable")}(e);break;case"pinnable":!function(e){e.get("pinnable")?r(e.elements.root,"ajs-pinnable"):a(e.elements.root,"ajs-pinnable")}(e);break;case"movable":!function(e){e.get("movable")?(r(e.elements.root,"ajs-movable"),e.isOpen()&&Oe(e)):(me(e),a(e.elements.root,"ajs-movable"),e.isOpen()&&Ie(e))}(e);break;case"resizable":!function(e){e.get("resizable")?(r(e.elements.root,"ajs-resizable"),e.isOpen()&&De(e)):(_e(e),a(e.elements.root,"ajs-resizable"),e.isOpen()&&Ae(e))}(e);break;case"padding":i?a(e.elements.root,"ajs-no-padding"):e.elements.root.className.indexOf("ajs-no-padding")<0&&r(e.elements.root,"ajs-no-padding");break;case"overflow":i?a(e.elements.root,"ajs-no-overflow"):e.elements.root.className.indexOf("ajs-no-overflow")<0&&r(e.elements.root,"ajs-no-overflow");break;case"transition":!function(e,t,n){"string"==typeof n&&a(e.elements.root,"ajs-"+n),r(e.elements.root,"ajs-"+t)}(e,i,n);break;case"transitionOff":!function(e){e.get("transitionOff")?r(e.elements.root,"ajs-no-transition"):a(e.elements.root,"ajs-no-transition")}(e)}"function"==typeof e.hooks.onupdate&&e.hooks.onupdate.call(e,t,n,i)}(n,e,t,i)}),e,t);if("get"===i.op)return i.found?i.value:void 0!==this.settings?A(this,this.settings,this.settingUpdated||function(){},e,t).value:void 0;if("set"===i.op){if(i.items.length>0)for(var s=this.settingUpdated||function(){},l=0;l<i.items.length;l+=1){var o=i.items[l];o.found||void 0===this.settings||A(this,this.settings,s,o.key,o.value)}return this}},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},setHeader:function(e){return"string"==typeof e?(d(this.elements.header),this.elements.header.innerHTML=e):e instanceof n.HTMLElement&&this.elements.header.firstChild!==e&&(d(this.elements.header),this.elements.header.appendChild(e)),this},setContent:function(e){return"string"==typeof e?(d(this.elements.content),this.elements.content.innerHTML=e):e instanceof n.HTMLElement&&this.elements.content.firstChild!==e&&(d(this.elements.content),this.elements.content.appendChild(e)),this},showModal:function(e){return this.show(!0,e)},show:function(i,s){if(x(this),this.__internal.isOpen){me(this),_e(this),r(this.elements.dialog,"ajs-shake");var o=this;setTimeout((function(){a(o.elements.dialog,"ajs-shake")}),200)}else{if(this.__internal.isOpen=!0,l.push(this),S.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),document.body.hasAttribute("tabindex")||document.body.setAttribute("tabindex",m="0"),"function"==typeof this.prepare&&this.prepare(),1===l.length&&(g(n,"resize",Se),g(document.body,"keyup",$),g(document.body,"keydown",G),g(document.body,"focus",K),g(document.documentElement,"mousemove",ue),g(document.documentElement,"touchmove",ue,!1,!1),g(document.documentElement,"mouseup",pe),g(document.documentElement,"touchend",pe),g(document.documentElement,"mousemove",Ce),g(document.documentElement,"touchmove",Ce,!1,!1),g(document.documentElement,"mouseup",xe),g(document.documentElement,"touchend",xe)),g(this.elements.commands.container,"click",this.__internal.commandsClickHandler),g(this.elements.footer,"click",this.__internal.buttonsClickHandler),g(this.elements.reset[0],"focusin",this.__internal.resetHandler),g(this.elements.reset[0],"keydown",J),g(this.elements.reset[1],"focusin",this.__internal.resetHandler),U=!0,g(this.elements.dialog,v.type,this.__internal.transitionInHandler),this.get("modal")||ke(this),this.get("resizable")&&De(this),this.get("movable")&&Oe(this),void 0!==i&&this.set("modal",i),e=c(),t=h(),k(),"string"==typeof s&&""!==s&&(this.__internal.className=s,r(this.elements.root,s)),this.get("startMaximized")?this.maximize():this.isMaximized()&&R(this),B(this),this.elements.root.removeAttribute("style"),a(this.elements.root,"ajs-out"),r(this.elements.root,"ajs-in"),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,v.supported?1e3:100),f){var d=this.elements.root;d.style.display="none",setTimeout((function(){d.style.display="block"}),0)}a(this.elements.root,"ajs-hidden"),_(),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),C("onshow",this)}return this},close:function(){return this.__internal.isOpen&&!1!==C("onclosing",this)&&(1===l.length&&(b(n,"resize",Se),b(document.body,"keyup",$),b(document.body,"keydown",G),b(document.body,"focus",K),b(document.documentElement,"mousemove",ue),b(document.documentElement,"mouseup",pe),b(document.documentElement,"mousemove",Ce),b(document.documentElement,"mouseup",xe)),b(this.elements.commands.container,"click",this.__internal.commandsClickHandler),b(this.elements.footer,"click",this.__internal.buttonsClickHandler),b(this.elements.reset[0],"focusin",this.__internal.resetHandler),b(this.elements.reset[0],"keydown",J),b(this.elements.reset[1],"focusin",this.__internal.resetHandler),g(this.elements.dialog,v.type,this.__internal.transitionOutHandler),this.get("modal")||Ee(this),this.get("movable")&&Ie(this),this.get("resizable")&&Ae(this),a(this.elements.root,"ajs-in"),r(this.elements.root,"ajs-out"),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,v.supported?1e3:100),r(this.elements.root,"ajs-hidden"),S.defaults.maintainFocus&&this.__internal.activeElement&&(this.__internal.activeElement.focus(),this.__internal.activeElement=null),void 0!==this.__internal.className&&""!==this.__internal.className&&a(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),C("onclose",this),l.splice(l.indexOf(this),1),this.__internal.isOpen=!1,k()),l.length||"0"!==m||document.body.removeAttribute("tabindex"),this},closeOthers:function(){return S.closeAll(this),this},destroy:function(){return this.__internal&&(this.__internal.isOpen?(this.__internal.destroy=function(){p(this,x)},this.close()):this.__internal.destroy||p(this,x)),this}}}(),_=function(){var e,t=[],i=s.notifier.classes,l=i.base;function o(t){t.__internal||(t.__internal={position:S.defaults.notifier.position,delay:S.defaults.notifier.delay},e=document.createElement("DIV"),("transitionOff"in s.notifier?s.notifier.transitionOff:s.transitionOff)&&(l=i.base+" ajs-no-transition"),c(t)),e.parentNode!==document.body&&document.body.appendChild(e)}function h(e){e.__internal.pushed=!0,t.push(e)}function c(t){switch(e.className=l,t.__internal.position){case"top-right":r(e,i.top+" "+i.right);break;case"top-left":r(e,i.top+" "+i.left);break;case"top-center":r(e,i.top+" "+i.center);break;case"bottom-left":r(e,i.bottom+" "+i.left);break;case"bottom-center":r(e,i.bottom+" "+i.center);break;default:case"bottom-right":r(e,i.bottom+" "+i.right)}}return{setting:function(e,t){if(o(this),void 0===t)return this.__internal[e];switch(e){case"position":this.__internal.position=t,c(this);break;case"delay":this.__internal.delay=t}return this},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},create:function(s,l){o(this);var c=document.createElement("div");return c.className=i.message+("string"==typeof s&&""!==s?" "+i.prefix+s:""),function(s,l){function o(e,t){t.__internal.closeButton&&"true"!==e.target.getAttribute("data-close")||t.dismiss(!0)}function c(t,n){b(n.element,v.type,c),e.removeChild(n.element)}function u(e){clearTimeout(e.__internal.timer),clearTimeout(e.__internal.transitionTimeout)}return(p={element:s,push:function(t,n){if(!this.__internal.pushed){var s,l;switch(h(this),u(this),arguments.length){case 0:l=this.__internal.delay;break;case 1:"number"==typeof t?l=t:(s=t,l=this.__internal.delay);break;case 2:s=t,l=n}return this.__internal.closeButton=S.defaults.notifier.closeButton,void 0!==s&&this.setContent(s),_.__internal.position.indexOf("top")<0?e.appendChild(this.element):e.insertBefore(this.element,e.firstChild),r(this.element,i.visible),g(this.element,"click",this.__internal.clickHandler),this.delay(l)}return this},ondismiss:function(){},callback:l,dismiss:function(n){return this.__internal.pushed&&(u(this),"function"==typeof this.ondismiss&&!1===this.ondismiss.call(this)||(b(this.element,"click",this.__internal.clickHandler),void 0!==this.element&&this.element.parentNode===e&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,v.supported?1e3:100),a(this.element,i.visible),"function"==typeof this.callback&&this.callback.call(this,n)),t.splice(t.indexOf(this),1),this.__internal.pushed=!1)),this},delay:function(e){if(u(this),this.__internal.delay=void 0===e||isNaN(+e)?_.__internal.delay:+e,this.__internal.delay>0){var t=this;this.__internal.timer=setTimeout((function(){t.dismiss()}),1e3*this.__internal.delay)}return this},setContent:function(e){if("string"==typeof e?(d(this.element),this.element.innerHTML=e):e instanceof n.HTMLElement&&this.element.firstChild!==e&&(d(this.element),this.element.appendChild(e)),this.__internal.closeButton){var t=document.createElement("span");r(t,i.close),t.setAttribute("data-close",!0),this.element.appendChild(t)}return this},dismissOthers:function(){return _.dismissAll(this),this}}).__internal||(p.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},p.__internal.clickHandler=y(p,o),p.__internal.transitionEndHandler=y(p,c)),p;var p}(c,l)},dismissAll:function(e){for(var n=t.slice(0),i=0;i<n.length;i+=1){var s=n[i];void 0!==e&&e===s||s.dismiss()}}}}(),S=new function(){var e={};function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(t){var n=e[t].dialog;return n&&"function"==typeof n.__init&&n.__init(n),n}return{defaults:s,dialog:function(i,s,l,r){if("function"!=typeof s)return n(i);if(this.hasOwnProperty(i))throw new Error("alertify.dialog: name already exists");var a=function(n,i,s,l){var r={dialog:null,factory:i};return void 0!==l&&(r.factory=function(){return t(new e[l].factory,new i)}),s||(r.dialog=t(new r.factory,x)),e[n]=r}(i,s,l,r);this[i]=l?function(){if(0===arguments.length)return a.dialog;var e=t(new a.factory,x);return e&&"function"==typeof e.__init&&e.__init(e),e.main.apply(e,arguments),e.show.apply(e)}:function(){if(a.dialog&&"function"==typeof a.dialog.__init&&a.dialog.__init(a.dialog),0===arguments.length)return a.dialog;var e=a.dialog;return e.main.apply(a.dialog,arguments),e.show.apply(a.dialog)}},closeAll:function(e){for(var t=l.slice(0),n=0;n<t.length;n+=1){var i=t[n];void 0!==e&&e===i||i.close()}},setting:function(e,t,i){if("notifier"===e)return _.setting(t,i);var s=n(e);return s?s.setting(t,i):void 0},set:function(e,t,n){return this.setting(e,t,n)},get:function(e,t){return this.setting(e,t)},notify:function(e,t,n,i){return _.create(t,i).push(e,n)},message:function(e,t,n){return _.create(null,n).push(e,t)},success:function(e,t,n){return _.create("success",n).push(e,t)},error:function(e,t,n){return _.create("error",n).push(e,t)},warning:function(e,t,n){return _.create("warning",n).push(e,t)},dismissAll:function(){_.dismissAll()}}};S.dialog("alert",(function(){return{main:function(e,t,n){var i,s,l;switch(arguments.length){case 1:s=e;break;case 2:"function"==typeof t?(s=e,l=t):(i=e,s=t);break;case 3:i=e,s=t,l=n}return this.set("title",i),this.set("message",s),this.set("onok",l),this},setup:function(){return{buttons:[{text:S.defaults.glossary.ok,key:27,invokeOnClose:!0,className:S.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=n)}},callback:function(e){if("function"==typeof this.get("onok")){var t=this.get("onok").call(this,e);void 0!==t&&(e.cancel=!t)}}}})),S.dialog("confirm",(function(){var e={timer:null,index:null,text:null,duration:null,task:function(n,i){if(i.isOpen()){if(i.__internal.buttons[e.index].element.innerHTML=e.text+" (&#8207;"+e.duration+"&#8207;) ",e.duration-=1,-1===e.duration){t(i);var s=w(e.index,i.__internal.buttons[e.index]);"function"==typeof i.callback&&i.callback.apply(i,[s]),!1!==s.close&&i.close()}}else t(i)}};function t(t){null!==e.timer&&(clearInterval(e.timer),e.timer=null,t.__internal.buttons[e.index].element.innerHTML=e.text)}function n(n,i,s){t(n),e.duration=s,e.index=i,e.text=n.__internal.buttons[i].element.innerHTML,e.timer=setInterval(y(n,e.task),1e3),e.task(null,n)}return{main:function(e,t,n,i){var s,l,r,a;switch(arguments.length){case 1:l=e;break;case 2:l=e,r=t;break;case 3:l=e,r=t,a=n;break;case 4:s=e,l=t,r=n,a=i}return this.set("title",s),this.set("message",l),this.set("onok",r),this.set("oncancel",a),this},setup:function(){return{buttons:[{text:S.defaults.glossary.ok,key:13,className:S.defaults.theme.ok},{text:S.defaults.glossary.cancel,key:27,invokeOnClose:!0,className:S.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"labels":"ok"in n&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=n.ok,this.__internal.buttons[0].element.innerHTML=n.ok),"cancel"in n&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=n.cancel,this.__internal.buttons[1].element.innerHTML=n.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===n?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===n?0:1}},callback:function(e){var n;switch(t(this),e.index){case 0:"function"==typeof this.get("onok")&&void 0!==(n=this.get("onok").call(this,e))&&(e.cancel=!n);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(n=this.get("oncancel").call(this,e))&&(e.cancel=!n)}},autoOk:function(e){return n(this,0,e),this},autoCancel:function(e){return n(this,1,e),this}}})),S.dialog("prompt",(function(){var e=document.createElement("INPUT"),t=document.createElement("P");return{main:function(e,t,n,i,s){var l,r,a,o,h;switch(arguments.length){case 1:r=e;break;case 2:r=e,a=t;break;case 3:r=e,a=t,o=n;break;case 4:r=e,a=t,o=n,h=i;break;case 5:l=e,r=t,a=n,o=i,h=s}return this.set("title",l),this.set("message",r),this.set("value",a),this.set("onok",o),this.set("oncancel",h),this},setup:function(){return{buttons:[{text:S.defaults.glossary.ok,key:13,className:S.defaults.theme.ok},{text:S.defaults.glossary.cancel,key:27,invokeOnClose:!0,className:S.defaults.theme.cancel}],focus:{element:e,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){e.className=S.defaults.theme.input,e.setAttribute("type","text"),e.value=this.get("value"),this.elements.content.appendChild(t),this.elements.content.appendChild(e)},prepare:function(){},setMessage:function(e){"string"==typeof e?(d(t),t.innerHTML=e):e instanceof n.HTMLElement&&t.firstChild!==e&&(d(t),t.appendChild(e))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(t,n,i){switch(t){case"message":this.setMessage(i);break;case"value":e.value=i;break;case"type":switch(i){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":e.type=i;break;default:e.type="text"}break;case"labels":i.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=i.ok),i.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=i.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===i?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(t){var n;switch(t.index){case 0:this.settings.value=e.value,"function"==typeof this.get("onok")&&void 0!==(n=this.get("onok").call(this,t,this.settings.value))&&(t.cancel=!n);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(n=this.get("oncancel").call(this,t))&&(t.cancel=!n),t.cancel||(e.value=this.settings.value)}}}})),"object"==typeof e.exports?e.exports=S:void 0===(i=(function(){return S}).apply(t,[]))||(e.exports=i)}("undefined"!=typeof window?window:this)},YcCt:function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){n=n||"=";var l={};if("string"!=typeof e||0===e.length)return l;var r=/\+/g;e=e.split(t=t||"&");var a=1e3;s&&"number"==typeof s.maxKeys&&(a=s.maxKeys);var o=e.length;a>0&&o>a&&(o=a);for(var h=0;h<o;++h){var c,d,u,p,m=e[h].replace(r,"%20"),f=m.indexOf(n);f>=0?(c=m.substr(0,f),d=m.substr(f+1)):(c=m,d=""),u=decodeURIComponent(c),p=decodeURIComponent(d),i(l,u)?Array.isArray(l[u])?l[u].push(p):l[u]=[l[u],p]:l[u]=p}return l}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},r8II:function(e,t,n){"use strict";t.decode=t.parse=n("YcCt"),t.encode=t.stringify=n("6MUB")},rWzI:function(e,t,n){(function(e){var i;!function(s){"object"==typeof global&&global;var l,r=2147483647,a=/^xn--/,o=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,u=String.fromCharCode;function p(e){throw RangeError(c[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function f(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(h,".")).split("."),t).join(".")}function g(e){for(var t,n,i=[],s=0,l=e.length;s<l;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<l?56320==(64512&(n=e.charCodeAt(s++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),s--):i.push(t);return i}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=u((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+u(e)})).join("")}function v(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function y(e,t,n){var i=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;i+=36)e=d(e/35);return d(i+36*e/(e+38))}function w(e){var t,n,i,s,l,a,o,h,c,u,m,f=[],g=e.length,v=0,w=128,C=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&p("not-basic"),f.push(e.charCodeAt(i));for(s=n>0?n+1:0;s<g;){for(l=v,a=1,o=36;s>=g&&p("invalid-input"),((h=(m=e.charCodeAt(s++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:36)>=36||h>d((r-v)/a))&&p("overflow"),v+=h*a,!(h<(c=o<=C?1:o>=C+26?26:o-C));o+=36)a>d(r/(u=36-c))&&p("overflow"),a*=u;C=y(v-l,t=f.length+1,0==l),d(v/t)>r-w&&p("overflow"),w+=d(v/t),v%=t,f.splice(v++,0,w)}return b(f)}function C(e){var t,n,i,s,l,a,o,h,c,m,f,b,w,C,x,_=[];for(b=(e=g(e)).length,t=128,n=0,l=72,a=0;a<b;++a)(f=e[a])<128&&_.push(u(f));for(i=s=_.length,s&&_.push("-");i<b;){for(o=r,a=0;a<b;++a)(f=e[a])>=t&&f<o&&(o=f);for(o-t>d((r-n)/(w=i+1))&&p("overflow"),n+=(o-t)*w,t=o,a=0;a<b;++a)if((f=e[a])<t&&++n>r&&p("overflow"),f==t){for(h=n,c=36;!(h<(m=c<=l?1:c>=l+26?26:c-l));c+=36)_.push(u(v(m+(x=h-m)%(C=36-m),0))),h=d(x/C);_.push(u(v(h,0))),l=y(n,w,i==s),n=0,++i}++n,++t}return _.join("")}l={version:"1.3.2",ucs2:{decode:g,encode:b},decode:w,encode:C,toASCII:function(e){return f(e,(function(e){return o.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return f(e,(function(e){return a.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(i=(function(){return l}).call(t,n,t,e))||(e.exports=i)}()}).call(this,n("YuTi")(e))},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);let s=!1;const l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function r(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(l.useDeprecatedSynchronousErrorHandling)throw e;r(e)},complete(){}},o=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function h(e){return null!==e&&"object"==typeof e}const c=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let d=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:s,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(i(s))try{s.call(this)}catch(r){t=r instanceof c?u(r.errors):[r]}if(o(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if(h(n))try{n.unsubscribe()}catch(r){t=t||[],r instanceof c?t=t.concat(u(r.errors)):t.push(r)}}}if(t)throw new c(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof c?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class m extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof m?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,t,n)}}[p](){return this}static create(e,t,n){const i=new m(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class f extends m{constructor(e,t,n,s){let l;super(),this._parentSubscriber=e;let r=this;i(t)?l=t:t&&(l=t.next,n=t.error,s=t.complete,t!==a&&(r=Object.create(t),i(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=l,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;l.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=l;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):r(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;r(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);l.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw n;r(n)}}__tryOrSetError(e,t,n){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return l.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(r(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function b(e){return e}function v(...e){return y(e)}function y(e){return 0===e.length?b:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,s=function(e,t,n){if(e){if(e instanceof m)return e;if(e[p])return e[p]()}return e||t||n?new m(e,t,n):new m(a)}(e,t,n);if(s.add(i?i.call(s,this.source):this.source||l.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof m?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(s){n(s),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[g](){return this}pipe(...e){return 0===e.length?this:y(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=l.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const x=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class _ extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class S extends m{constructor(e){super(e),this.destination=e}}let k=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(e){const t=new E(this,this);return t.operator=e,t}next(e){if(this.closed)throw new x;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let s=0;s<n;s++)i[s].next(e)}}error(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let s=0;s<n;s++)i[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new x;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new _(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new E(e,t),e})();class E extends k{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function O(e){return e&&"function"==typeof e.schedule}class I extends m{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const D=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const M=A(),T=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function P(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const L=e=>{if(e&&"function"==typeof e[g])return i=e,e=>{const t=i[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(T(e))return D(e);if(P(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r),e);if(e&&"function"==typeof e[M])return t=e,e=>{const n=t[M]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=h(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var t,n,i};function N(e,t,n,i,s=new I(e,n,i)){if(!s.closed)return t instanceof w?t.subscribe(s):L(t)(s)}class R extends m{notifyNext(e,t,n,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function F(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(e,t))}}class H{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new B(e,this.project,this.thisArg))}}class B extends m{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function V(e,t){return new w(n=>{const i=new d;let s=0;return i.add(t.schedule((function(){s!==e.length?(n.next(e[s++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function j(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[g]}(e))return function(e,t){return new w(n=>{const i=new d;return i.add(t.schedule(()=>{const s=e[g]();i.add(s.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(P(e))return function(e,t){return new w(n=>{const i=new d;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(T(e))return V(e,t);if(function(e){return e&&"function"==typeof e[M]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(n=>{const i=new d;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=e[M](),i.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=s.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())})))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(L(e))}function z(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(z((n,i)=>j(e(n,i)).pipe(F((e,s)=>t(n,e,i,s))),n)):("number"==typeof t&&(n=t),t=>t.lift(new q(e,n)))}class q{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new U(e,this.project,this.concurrent))}}class U extends R{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new I(this,t,n),s=this.destination;s.add(i);const l=N(this,e,void 0,void 0,i);l!==i&&s.add(l)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(e=Number.POSITIVE_INFINITY){return z(b,e)}function Y(e,t){return t?V(e,t):new w(D(e))}function $(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return O(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:W(t)(Y(e,n))}function G(){return function(e){return e.lift(new X(e))}}class X{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new K(e,n),s=t.subscribe(i);return i.closed||(i.connection=n.connect()),s}}class K extends m{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Z extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new d,e.add(this.source.subscribe(new Q(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}refCount(){return G()(this)}}const J=(()=>{const e=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Q extends S{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ee(){return new k}function te(e,t,n){return(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function s(...e){if(this instanceof s)return i.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,i){const s=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;s.length<=i;)s.push(null);return(s[i]=s[i]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})()}const ne=te("Inject",e=>({token:e})),ie=te("Optional"),se=te("Self"),le=te("SkipSelf");var re=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ae(e){for(let t in e)if(e[t]===ae)return t;throw Error("Could not find renamed property on target object.")}function oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function he(e){return ce(e,e[de])||ce(e,e[ue])}function ce(e,t){return t&&t.token===e?t:null}const de=ae({"\u0275prov":ae}),ue=ae({ngInjectableDef:ae});function pe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(pe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const me=ae({__forward_ref__:ae});function fe(e){return e.__forward_ref__=fe,e.toString=function(){return pe(this())},e}function ge(e){return"function"==typeof(t=e)&&t.hasOwnProperty(me)&&t.__forward_ref__===fe?e():e;var t}const be="undefined"!=typeof globalThis&&globalThis,ve="undefined"!=typeof window&&window,ye="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we="undefined"!=typeof global&&global,Ce=be||we||ve||ye;class xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=oe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _e=new xe("INJECTOR",-1),Se={},ke=/\n/gm,Ee=ae({provide:String,useValue:ae});let Oe=void 0;function Ie(e){const t=Oe;return Oe=e,t}function De(e,t=re.Default){return function(e,t=re.Default){if(void 0===Oe)throw new Error("inject() must be called from an injection context");return null===Oe?function(e,t,n){const i=he(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&re.Optional)return null;throw new Error(`Injector: NOT_FOUND [${pe(e)}]`)}(e,0,t):Oe.get(e,t&re.Optional?null:void 0,t)}(ge(e),t)}const Ae=De;class Me{get(e,t=Se){if(t===Se){const t=new Error(`NullInjectorError: No provider for ${pe(e)}!`);throw t.name="NullInjectorError",t}return t}}function Te(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=pe(t);if(Array.isArray(t))s=t.map(pe).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):pe(i)))}s=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${e.replace(ke,"\n  ")}`}class Pe{}class Le{}function Ne(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Re(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Fe(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}const He=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}();let Be=void 0;const Ve=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce))();function je(e){return e.ngDebugContext}function ze(e){return e.ngOriginalError}function qe(e,...t){e.error(...t)}class Ue{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||qe}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?je(e)?je(e):this._findContext(ze(e)):null}_findOriginalError(e){let t=ze(e);for(;t&&ze(t);)t=ze(t);return t}}class We{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Ye extends We{getTypeName(){return"HTML"}}class $e extends We{getTypeName(){return"Style"}}class Ge extends We{getTypeName(){return"Script"}}class Xe extends We{getTypeName(){return"URL"}}class Ke extends We{getTypeName(){return"ResourceURL"}}function Ze(e){return e instanceof We?e.changingThisBreaksApplicationSecurity:e}function Je(e,t){const n=Qe(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function Qe(e){return e instanceof We&&e.getTypeName()||null}let et=!0,tt=!1;function nt(){return tt=!0,et}class it{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let t=this.inertDocument.body;if(null==t){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),t=this.inertDocument.createElement("body"),e.appendChild(t)}t.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!t.querySelector||t.querySelector("svg")?(t.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=t.querySelector&&t.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const st=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,lt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rt(e){return(e=String(e)).match(st)||e.match(lt)?e:(nt()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function at(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ot(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ht=at("area,br,col,hr,img,wbr"),ct=at("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dt=at("rp,rt"),ut=ot(dt,ct),pt=ot(ht,ot(ct,at("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ot(dt,at("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ut),mt=at("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ft=at("srcset"),gt=ot(mt,ft,at("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),at("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bt=at("script,style,template");class vt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!pt.hasOwnProperty(t))return this.sanitizedSomething=!0,!bt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,l=t.toLowerCase();if(!gt.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let r=e.value;mt[l]&&(r=rt(r)),ft[l]&&(i=r,r=(i=String(i)).split(",").map(e=>rt(e.trim())).join(", ")),this.buf.push(" ",t,'="',Ct(r),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();pt.hasOwnProperty(t)&&!ht.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ct(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const yt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wt=/([^\#-~ |!])/g;function Ct(e){return e.replace(/&/g,"&amp;").replace(yt,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(wt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xt;function _t(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const St=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),kt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Et=/^url\(([^)]+)\)$/;function Ot(e){var t;return t=e.replace(/[$@]/g,"_"),`ng-reflect-${e=t.replace(It,(...e)=>"-"+e[1].toLowerCase())}`}const It=/([A-Z])/g;function Dt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let At=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Mt(),e})();const Mt=(...e)=>{},Tt=new xe("Set Injector scope."),Pt=function(e,t,n){return new Bt(e,t,n)};let Lt=(()=>{class e{static create(e,t){return Array.isArray(e)?Pt(e,t,""):Pt(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Se,e.NULL=new Me,e.\u0275prov=oe({token:e,providedIn:"any",factory:()=>De(_e)}),e.__NG_ELEMENT_ID__=-1,e})();const Nt=function(e){return e},Rt=[],Ft=Nt,Ht=function(){return Array.prototype.slice.call(arguments)};class Bt{constructor(e,t=Lt.NULL,n=null){this.parent=t,this.source=n;const i=this._records=new Map;i.set(Lt,{token:Lt,fn:Nt,deps:Rt,value:this,useNew:!1}),i.set(_e,{token:_e,fn:Nt,deps:Rt,value:this,useNew:!1}),this.scope=function e(t,n){let i=null;if(n)if(n=ge(n),Array.isArray(n))for(let s=0;s<n.length;s++)i=e(t,n[s])||i;else{if("function"==typeof n)throw zt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw zt("Unexpected provider",n);{let e=ge(n.provide);const s=Vt(n);if(!0===n.multi){let i=t.get(e);if(i){if(i.fn!==Ht)throw jt(e)}else t.set(e,i={token:n.provide,deps:[],useNew:!1,fn:Ht,value:Rt});e=n,i.deps.push({token:e,options:6})}const l=t.get(e);if(l&&l.fn==Ht)throw jt(e);e===Tt&&(i=s.value),t.set(e,s)}}return i}(i,e)}get(e,t,n=re.Default){const i=this._records;let s=i.get(e);if(void 0===s){const t=he(e);if(t){const n=t&&t.providedIn;("any"===n||null!=n&&n===this.scope)&&i.set(e,s=Vt({provide:e,useFactory:t.factory,deps:Rt}))}void 0===s&&i.set(e,null)}let l=Ie(this);try{return function e(t,n,i,s,l,r){try{return function(t,n,i,s,l,r){let a;if(!n||r&re.SkipSelf)a=r&re.Self?Lt.NULL.get(t,r&re.Optional?void 0!==l?l:null:l):s.get(t,l,re.Default);else{if(a=n.value,a==Ft)throw Error("\u0275Circular dependency");if(a===Rt){n.value=Ft;let t=void 0,l=n.useNew,r=n.fn,o=n.deps,h=Rt;if(o.length){h=[];for(let t=0;t<o.length;t++){const n=o[t],l=n.options,r=2&l?i.get(n.token):void 0;h.push(e(n.token,r,i,r||4&l?s:Lt.NULL,1&l?null:Lt.THROW_IF_NOT_FOUND,re.Default))}}n.value=a=l?new r(...h):r.apply(t,h)}}return a}(t,n,i,s,l,r)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(t),n&&n.value==Ft&&(n.value=Rt),a}}(e,s,i,this.parent,t,n)}catch(r){return function(e,t,n,i){const s=e.ngTempTokenPath;throw t.__source&&s.unshift(t.__source),e.message=Te("\n"+e.message,s,"StaticInjectorError",i),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(r,e,0,this.source)}finally{Ie(l)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(pe(n))),`StaticInjector[${e.join(", ")}]`}}function Vt(e){const t=function(e){let t=Rt;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let i=6,s=ge(n[e]);if(Array.isArray(s))for(let e=0,t=s;e<t.length;e++){const n=t[e];n instanceof ie||n==ie?i|=1:n instanceof le||n==le?i&=-3:n instanceof se||n==se?i&=-5:s=n instanceof ne?n.token:ge(n)}t.push({token:s,options:i})}}else if(e.useExisting)t=[{token:ge(e.useExisting),options:6}];else if(!(n||Ee in e))throw zt("'deps' required",e);return t}(e);let n=Nt,i=Rt,s=!1,l=ge(e.provide);if(Ee in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)s=!0,n=ge(e.useClass);else{if("function"!=typeof l)throw zt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);s=!0,n=l}return{deps:t,fn:n,useNew:s,value:i}}function jt(e){return zt("Cannot mix multi providers and regular providers",e)}function zt(e,t){return new Error(Te(e,t,"StaticInjectorError"))}const qt=new xe("AnalyzeForEntryComponents");let Ut=null;function Wt(){if(!Ut){const e=Ce.Symbol;if(e&&e.iterator)Ut=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ut=n)}}}return Ut}function Yt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function $t(e,t){const n=Xt(e),i=Xt(t);if(n&&i)return function(e,t,n){const i=e[Wt()](),s=t[Wt()]();for(;;){const e=i.next(),t=s.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,$t);{const s=e&&("object"==typeof e||"function"==typeof e),l=t&&("object"==typeof t||"function"==typeof t);return!(n||!s||i||!l)||Yt(e,t)}}class Gt{constructor(e){this.wrapped=e}static wrap(e){return new Gt(e)}static unwrap(e){return Gt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Gt}}function Xt(e){return!!Kt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Wt()in e)}function Kt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Zt(e){return!!e&&"function"==typeof e.then}function Jt(e){return!!e&&"function"==typeof e.subscribe}class Qt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class en{}function tn(e){const t=Error(`No component factory found for ${pe(e)}. Did you add it to @NgModule.entryComponents?`);return t[nn]=e,t}const nn="ngComponent";class sn{resolveComponentFactory(e){throw tn(e)}}let ln=(()=>{class e{}return e.NULL=new sn,e})();class rn{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let i=0;i<e.length;i++){const t=e[i];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw tn(e);return new an(t,this._ngModule)}}class an extends en{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)}}function on(...e){}let hn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>cn(e),e})();const cn=on;class dn{}const un=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let pn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>mn(),e})();const mn=on;let fn=(()=>{class e{}return e.\u0275prov=oe({token:e,providedIn:"root",factory:()=>null}),e})();class gn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const bn=new gn("9.0.7");class vn{constructor(){}supports(e){return Xt(e)}create(e){return new wn(e)}}const yn=(e,t)=>t;class wn{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,s=null;for(;t||n;){const l=!n||t&&t.currentIndex<Sn(n,i,s)?t:n,r=Sn(l,i,s),a=l.currentIndex;if(l===n)i--,n=n._nextRemoved;else if(t=t._next,null==l.previousIndex)i++;else{s||(s=[]);const e=r-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<s.length?s[n]:s[n]=0,l=i+n;t<=l&&l<e&&(s[n]=i+1)}s[l.previousIndex]=t-e}}r!==a&&e(l,r,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Xt(e))throw new Error(`Error trying to diff '${pe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,s=this._itHead,l=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==s&&Yt(s.trackById,i)?(l&&(s=this._verifyReinsertion(s,n,i,t)),Yt(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,i,t),l=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Wt()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==s&&Yt(s.trackById,i)?(l&&(s=this._verifyReinsertion(s,e,i,t)),Yt(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,i,t),l=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Yt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Yt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):e=this._addAfter(new Cn(t,n),s,i),e}_verifyReinsertion(e,t,n,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new _n),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _n),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Cn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Yt(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class _n{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new xn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sn(e,t,n){const i=e.previousIndex;if(null===i)return i;let s=0;return n&&i<n.length&&(s=n[i]),i+t+s}class kn{constructor(){}supports(e){return e instanceof Map||Kt(e)}create(){return new En}}class En{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Kt(e)))throw new Error(`Error trying to diff '${pe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,s=n._next;return i&&(i._next=s),s&&(s._prev=i),n._next=null,n._prev=null,n}const n=new On(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Yt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class On{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let In=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new le,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=oe({token:e,providedIn:"root",factory:()=>new e([new vn])}),e})(),Dn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new le,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=oe({token:e,providedIn:"root",factory:()=>new e([new kn])}),e})();const An=[new kn],Mn=new In([new vn]),Tn=new Dn(An);let Pn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ln(e,hn),e})();const Ln=on;let Nn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Rn(e,hn),e})();const Rn=on;function Fn(e,t,n,i){let s=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return i&&(s+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Hn(n,t),n}(s,e)}function Hn(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Bn(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Vn(e,t,n){const i=e.state,s=1792&i;return s===t?(e.state=-1793&i|n,e.initIndex=-1,!0):s===n}function jn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function zn(e,t){return e.nodes[t]}function qn(e,t){return e.nodes[t]}function Un(e,t){return e.nodes[t]}function Wn(e,t){return e.nodes[t]}function Yn(e,t){return e.nodes[t]}const $n={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Gn=()=>{},Xn=new Map;function Kn(e){let t=Xn.get(e);return t||(t=pe(e)+"_"+Xn.size,Xn.set(e,t)),t}function Zn(e,t,n,i){if(Gt.isWrapped(i)){i=Gt.unwrap(i);const s=e.def.nodes[t].bindingIndex+n,l=Gt.unwrap(e.oldValues[s]);e.oldValues[s]=new Gt(l)}return i}function Jn(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Qn=0;function ei(e,t,n,i){return!(!(2&e.state)&&Yt(e.oldValues[t.bindingIndex+n],i))}function ti(e,t,n,i){return!!ei(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function ni(e,t,n,i){const s=e.oldValues[t.bindingIndex+n];if(1&e.state||!$t(s,i)){const l=t.bindings[n].name;throw Fn($n.createDebugContext(e,t.nodeIndex),`${l}: ${s}`,`${l}: ${i}`,0!=(1&e.state))}}function ii(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function si(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function li(e,t,n,i){try{return ii(33554432&e.def.nodes[t].flags?qn(e,t).componentView:e),$n.handleEvent(e,t,n,i)}catch(s){e.root.errorHandler.handleError(s)}}function ri(e){return e.parent?qn(e.parent,e.parentNodeDef.nodeIndex):null}function ai(e){return e.parent?e.parentNodeDef.parent:null}function oi(e,t){switch(201347067&t.flags){case 1:return qn(e,t.nodeIndex).renderElement;case 2:return zn(e,t.nodeIndex).renderText}}function hi(e,t){return e?`${e}:${t}`:t}function ci(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function di(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function ui(e){return 1<<e%32}function pi(e){const t={};let n=0;const i={};return e&&e.forEach(([e,s])=>{"number"==typeof e?(t[e]=s,n|=ui(e)):i[e]=s}),{matchedQueries:t,references:i,matchedQueryIds:n}}function mi(e,t){return e.map(e=>{let n,i;return Array.isArray(e)?[i,n]=e:(i=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,"__source",{value:t,configurable:!0}),{flags:i,token:n,tokenKey:Kn(n)}})}function fi(e,t,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===He.Native?qn(e,n.renderParent.nodeIndex).renderElement:void 0:t}const gi=new WeakMap;function bi(e){let t=gi.get(e);return t||(t=e(()=>Gn),t.factory=e,gi.set(e,t)),t}function vi(e,t,n,i,s){3===t&&(n=e.renderer.parentNode(oi(e,e.def.lastRenderRootNode))),yi(e,t,0,e.def.nodes.length-1,n,i,s)}function yi(e,t,n,i,s,l,r){for(let a=n;a<=i;a++){const n=e.def.nodes[a];11&n.flags&&Ci(e,n,t,s,l,r),a+=n.childCount}}function wi(e,t,n,i,s,l){let r=e;for(;r&&!ci(r);)r=r.parent;const a=r.parent,o=ai(r),h=o.nodeIndex+o.childCount;for(let c=o.nodeIndex+1;c<=h;c++){const e=a.def.nodes[c];e.ngContentIndex===t&&Ci(a,e,n,i,s,l),c+=e.childCount}if(!a.parent){const r=e.root.projectableNodes[t];if(r)for(let t=0;t<r.length;t++)xi(e,r[t],n,i,s,l)}}function Ci(e,t,n,i,s,l){if(8&t.flags)wi(e,t.ngContent.index,n,i,s,l);else{const r=oi(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&xi(e,r,n,i,s,l),32&t.bindingFlags&&xi(qn(e,t.nodeIndex).componentView,r,n,i,s,l)):xi(e,r,n,i,s,l),16777216&t.flags){const r=qn(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<r.length;e++)vi(r[e],n,i,s,l)}1&t.flags&&!t.element.name&&yi(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,s,l)}}function xi(e,t,n,i,s,l){const r=e.renderer;switch(n){case 1:r.appendChild(i,t);break;case 2:r.insertBefore(i,t,s);break;case 3:r.removeChild(i,t);break;case 0:l.push(t)}}const _i=/^:([^:]+):(.+)$/;function Si(e){if(":"===e[0]){const t=e.match(_i);return[t[1],t[2]]}return["",e]}function ki(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Ei(e,t,n,i,s,l,r,a,o,h,c,d,u,p,m,f,g,b,v,y){switch(e){case 1:return t+Oi(n)+i;case 2:return t+Oi(n)+i+Oi(s)+l;case 3:return t+Oi(n)+i+Oi(s)+l+Oi(r)+a;case 4:return t+Oi(n)+i+Oi(s)+l+Oi(r)+a+Oi(o)+h;case 5:return t+Oi(n)+i+Oi(s)+l+Oi(r)+a+Oi(o)+h+Oi(c)+d;case 6:return t+Oi(n)+i+Oi(s)+l+Oi(r)+a+Oi(o)+h+Oi(c)+d+Oi(u)+p;case 7:return t+Oi(n)+i+Oi(s)+l+Oi(r)+a+Oi(o)+h+Oi(c)+d+Oi(u)+p+Oi(m)+f;case 8:return t+Oi(n)+i+Oi(s)+l+Oi(r)+a+Oi(o)+h+Oi(c)+d+Oi(u)+p+Oi(m)+f+Oi(g)+b;case 9:return t+Oi(n)+i+Oi(s)+l+Oi(r)+a+Oi(o)+h+Oi(c)+d+Oi(u)+p+Oi(m)+f+Oi(g)+b+Oi(v)+y;default:throw new Error("Does not support more than 9 expressions")}}function Oi(e){return null!=e?e.toString():""}const Ii={},Di=Kn(Lt),Ai=Kn(_e),Mi=Kn(Pe);function Ti(e,t,n,i){return n=ge(n),{index:-1,deps:mi(i,pe(t)),flags:e,token:t,value:n}}function Pi(e,t,n=Lt.THROW_IF_NOT_FOUND){const i=Ie(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case Di:case Ai:case Mi:return e}const l=e._def.providersByKey[s];let r;if(l){let t=e._providers[l.index];return void 0===t&&(t=e._providers[l.index]=Li(e,l)),t===Ii?void 0:t}if((r=he(t.token))&&function(e,t){const n=t.providedIn;return null!=n&&("any"===n||n===e._def.scope||function(e,t){return e._def.modules.indexOf(t)>-1}(e,n))}(e,r)){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:r.factory,deps:[],index:n,token:t.token},e._providers[n]=Ii,e._providers[n]=Li(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Ie(i)}}function Li(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const i=n.length;switch(i){case 0:return new t;case 1:return new t(Pi(e,n[0]));case 2:return new t(Pi(e,n[0]),Pi(e,n[1]));case 3:return new t(Pi(e,n[0]),Pi(e,n[1]),Pi(e,n[2]));default:const s=[];for(let t=0;t<i;t++)s[t]=Pi(e,n[t]);return new t(...s)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const i=n.length;switch(i){case 0:return t();case 1:return t(Pi(e,n[0]));case 2:return t(Pi(e,n[0]),Pi(e,n[1]));case 3:return t(Pi(e,n[0]),Pi(e,n[1]),Pi(e,n[2]));default:const s=[];for(let t=0;t<i;t++)s[t]=Pi(e,n[t]);return t(...s)}}(e,t.value,t.deps);break;case 2048:n=Pi(e,t.deps[0]);break;case 256:n=t.value}return n===Ii||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ii:n}function Ni(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const i=n[t];return i.viewContainerParent=null,Re(n,t),$n.dirtyParentQueries(i),Fi(i),i}function Ri(e,t,n){const i=t?oi(t,t.def.lastRenderRootNode):e.renderElement,s=n.renderer.parentNode(i),l=n.renderer.nextSibling(i);vi(n,2,s,l,void 0)}function Fi(e){vi(e,3,null,null,void 0)}const Hi={};function Bi(e,t,n,i,s,l){return new Vi(e,t,n,i,s,l)}class Vi extends en{constructor(e,t,n,i,s,l){super(),this.selector=e,this.componentType=t,this._inputs=i,this._outputs=s,this.ngContentSelectors=l,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,i){if(!i)throw new Error("ngModule should be provided");const s=bi(this.viewDefFactory),l=s.nodes[0].element.componentProvider.nodeIndex,r=$n.createRootView(e,t||[],n,s,i,Hi),a=Un(r,l).instance;return n&&r.renderer.setAttribute(qn(r,0).renderElement,"ng-version",bn.full),new ji(r,new Wi(r),a)}}class ji extends class{}{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new hn(qn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Xi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function zi(e,t,n){return new qi(e,t,n)}class qi{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new hn(this._data.renderElement)}get injector(){return new Xi(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=ai(e),e=e.parent;return e?new Xi(e,t):new Xi(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Ni(this._data,e);$n.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Wi(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,s){const l=n||this.parentInjector;s||e instanceof an||(s=l.get(Pe));const r=e.create(l,i,void 0,s);return this.insert(r.hostView,t),r}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,i){let s=t.viewContainer._embeddedViews;null==n&&(n=s.length),i.viewContainerParent=e,Ne(s,n,i),function(e,t){const n=ri(t);if(!n||n===e||16&t.state)return;t.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,i),$n.dirtyParentQueries(i),Ri(t,n>0?s[n-1]:null,i)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const i=e.viewContainer._embeddedViews,s=i[t];Re(i,t),null==n&&(n=i.length),Ne(i,n,s),$n.dirtyParentQueries(s),Fi(s),Ri(e,n>0?i[n-1]:null,s)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Ni(this._data,e);t&&$n.destroyView(t)}detach(e){const t=Ni(this._data,e);return t?new Wi(t):null}}function Ui(e){return new Wi(e)}class Wi{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return vi(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){ii(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{$n.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){$n.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),$n.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Fi(this._view),$n.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Yi(e,t){return new $i(e,t)}class $i extends Pn{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Wi($n.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new hn(qn(this._parentView,this._def.nodeIndex).renderElement)}}function Gi(e,t){return new Xi(e,t)}class Xi{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Lt.THROW_IF_NOT_FOUND){return $n.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Kn(e)},t)}}function Ki(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=qn(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return zn(e,n.nodeIndex).renderText;if(20240&n.flags)return Un(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Zi(e,t,n,i){return new Ji(e,t,n,i)}class Ji{constructor(e,t,n,i){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=Fe(t.providers.length);for(let i=0;i<t.providers.length;i++){const s=t.providers[i];4096&s.flags||void 0===n[i]&&(n[i]=Li(e,s))}}(this)}get(e,t=Lt.THROW_IF_NOT_FOUND,n=re.Default){let i=0;return n&re.SkipSelf?i|=1:n&re.Self&&(i|=4),Pi(this,{token:e,tokenKey:Kn(e),flags:i},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ln)}destroy(){if(this._destroyed)throw new Error(`The ng module ${pe(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,i=new Set;for(let s=0;s<n.providers.length;s++)if(131072&n.providers[s].flags){const t=e._providers[s];if(t&&t!==Ii){const e=t.ngOnDestroy;"function"!=typeof e||i.has(t)||(e.apply(t),i.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Qi=Kn(pn),es=Kn(hn),ts=Kn(Nn),ns=Kn(Pn),is=Kn(At),ss=Kn(Lt),ls=Kn(_e);function rs(e,t,n,i,s,l,r,a){const o=[];if(r)for(let c in r){const[e,t]=r[c];o[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const h=[];if(a)for(let c in a)h.push({type:1,propName:c,target:null,eventName:a[c]});return hs(e,t|=16384,n,i,s,s,l,o,h)}function as(e,t,n){return hs(-1,e|=16,null,0,t,t,n)}function os(e,t,n,i,s){return hs(-1,e,t,0,n,i,s)}function hs(e,t,n,i,s,l,r,a,o){const{matchedQueries:h,references:c,matchedQueryIds:d}=pi(n);o||(o=[]),a||(a=[]),l=ge(l);const u=mi(r,pe(s));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:d,references:c,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:ki(a),outputs:o,element:null,provider:{token:s,value:l,deps:u},text:null,query:null,ngContent:null}}function cs(e,t){return ms(e,t)}function ds(e,t){let n=e;for(;n.parent&&!ci(n);)n=n.parent;return fs(n.parent,ai(n),!0,t.provider.value,t.provider.deps)}function us(e,t){const n=fs(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const s=t.outputs[i],l=n[s.propName];if(!Jt(l))throw new Error(`@Output ${s.propName} not initialized in '${n.constructor.name}'.`);{const n=l.subscribe(ps(e,t.parent.nodeIndex,s.eventName));e.disposables[t.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function ps(e,t,n){return i=>li(e,t,n,i)}function ms(e,t){const n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return fs(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,s){const l=s.length;switch(l){case 0:return i();case 1:return i(bs(e,t,n,s[0]));case 2:return i(bs(e,t,n,s[0]),bs(e,t,n,s[1]));case 3:return i(bs(e,t,n,s[0]),bs(e,t,n,s[1]),bs(e,t,n,s[2]));default:const r=[];for(let i=0;i<l;i++)r.push(bs(e,t,n,s[i]));return i(...r)}}(e,t.parent,n,i.value,i.deps);case 2048:return bs(e,t.parent,n,i.deps[0]);case 256:return i.value}}function fs(e,t,n,i,s){const l=s.length;switch(l){case 0:return new i;case 1:return new i(bs(e,t,n,s[0]));case 2:return new i(bs(e,t,n,s[0]),bs(e,t,n,s[1]));case 3:return new i(bs(e,t,n,s[0]),bs(e,t,n,s[1]),bs(e,t,n,s[2]));default:const r=[];for(let i=0;i<l;i++)r.push(bs(e,t,n,s[i]));return new i(...r)}}const gs={};function bs(e,t,n,i,s=Lt.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const l=e;2&i.flags&&(s=null);const r=i.tokenKey;r===is&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(r){case Qi:return vs(a,t,n).renderer;case es:return new hn(qn(a,t.nodeIndex).renderElement);case ts:return qn(a,t.nodeIndex).viewContainer;case ns:if(t.element.template)return qn(a,t.nodeIndex).template;break;case is:return Ui(vs(a,t,n));case ss:case ls:return Gi(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[r];if(e){let t=Un(a,e.nodeIndex);return t||(t={instance:ms(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=ci(a),t=ai(a),a=a.parent,4&i.flags&&(a=null)}const o=l.root.injector.get(i.token,gs);return o!==gs||s===gs?o:l.root.ngModule.injector.get(i.token,s)}function vs(e,t,n){let i;if(n)i=qn(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!ci(i);)i=i.parent;return i}function ys(e,t,n,i,s,l){if(32768&n.flags){const t=qn(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[i].name]=s,524288&n.flags){l=l||{};const t=Gt.unwrap(e.oldValues[n.bindingIndex+i]);l[n.bindings[i].nonMinifiedName]=new Qt(t,s,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=s,l}function ws(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let i=0;for(let s=0;s<n.length;s++){const l=n[s];let r=l.parent;for(!r&&l.flags&t&&xs(e,s,l.flags&t,i++),0==(l.childFlags&t)&&(s+=l.childCount);r&&1&r.flags&&s===r.nodeIndex+r.childCount;)r.directChildFlags&t&&(i=Cs(e,r,t,i)),r=r.parent}}function Cs(e,t,n,i){for(let s=t.nodeIndex+1;s<=t.nodeIndex+t.childCount;s++){const t=e.def.nodes[s];t.flags&n&&xs(e,s,t.flags&n,i++),s+=t.childCount}return i}function xs(e,t,n,i){const s=Un(e,t);if(!s)return;const l=s.instance;l&&($n.setCurrentNode(e,t),1048576&n&&jn(e,512,i)&&l.ngAfterContentInit(),2097152&n&&l.ngAfterContentChecked(),4194304&n&&jn(e,768,i)&&l.ngAfterViewInit(),8388608&n&&l.ngAfterViewChecked(),131072&n&&l.ngOnDestroy())}const _s=new xe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ve}),Ss=void 0;var ks=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Es={};function Os(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Is(t);if(n)return n;const i=t.split("-")[0];if(n=Is(i),n)return n;if("en"===i)return ks;throw new Error(`Missing locale data for the locale "${e}".`)}function Is(e){return e in Es||(Es[e]=Ce.ng&&Ce.ng.common&&Ce.ng.common.locales&&Ce.ng.common.locales[e]),Es[e]}const Ds=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();class As extends k{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,s=e=>null,l=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(l=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(l=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const r=super.subscribe(i,s,l);return e instanceof d&&e.add(r),r}}function Ms(){return this._results[Wt()]()}class Ts{constructor(){this.dirty=!0,this._results=[],this.changes=new As,this.length=0;const e=Wt(),t=Ts.prototype;t[e]||(t[e]=Ms)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?(n===t&&(n=t.slice(0,i)),e(s,n)):n!==t&&n.push(s)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ps=new xe("Application Initializer");class Ls{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Zt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const Ns=new xe("AppId");function Rs(){return`${Fs()}${Fs()}${Fs()}`}function Fs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hs=new xe("Platform Initializer"),Bs=new xe("Platform ID"),Vs=new xe("appBootstrapListener");class js{log(e){console.log(e)}warn(e){console.warn(e)}}const zs=new xe("LocaleId"),qs=new xe("DefaultCurrencyCode");function Us(){throw new Error("Runtime compiler is not loaded")}const Ws=Us,Ys=Us,$s=Us,Gs=Us;class Xs{constructor(){this.compileModuleSync=Ws,this.compileModuleAsync=Ys,this.compileModuleAndAllComponentsSync=$s,this.compileModuleAndAllComponentsAsync=Gs}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class Ks{}const Zs=(()=>Promise.resolve(0))();function Js(e){"undefined"==typeof Zone?Zs.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Qs{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new As(!1),this.onMicrotaskEmpty=new As(!1),this.onStable=new As(!1),this.onError=new As(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=Ce.requestAnimationFrame,t=Ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ce,()=>{e.lastRequestAnimationFrameId=-1,il(e),nl(e)}),il(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,i,s,l,r,a)=>{try{return sl(e),n.invokeTask(s,l,r,a)}finally{t&&"eventTask"===l.type&&t(),ll(e)}},onInvoke:(t,n,i,s,l,r,a)=>{try{return sl(e),t.invoke(i,s,l,r,a)}finally{ll(e)}},onHasTask:(t,n,i,s)=>{t.hasTask(i,s),n===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,il(e),nl(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+i,e,tl,el,el);try{return s.runTask(l,t,n)}finally{s.cancelTask(l)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function el(){}const tl={};function nl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function il(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function sl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ll(e){e._nesting--,nl(e)}class rl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new As,this.onMicrotaskEmpty=new As,this.onStable=new As,this.onError=new As}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}class al{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),Js(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Js(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class ol{constructor(){this._applications=new Map,dl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return dl.findTestabilityInTree(this,e,t)}}class hl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let cl,dl=new hl;const ul=new xe("AllowMultipleToken");class pl{constructor(e,t){this.name=e,this.token=t}}function ml(e,t,n=[]){const i=`Platform: ${t}`,s=new xe(i);return(t=[])=>{let l=fl();if(!l||l.injector.get(ul,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0},{provide:Tt,useValue:"platform"});!function(e){if(cl&&!cl.destroyed&&!cl.injector.get(ul,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cl=e.get(gl);const t=e.get(Hs,null);t&&t.forEach(e=>e())}(Lt.create({providers:e,name:i}))}return function(e){const t=fl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function fl(){return cl&&!cl.destroyed?cl:null}class gl{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new rl:("zone.js"===e?void 0:e)||new Qs({enableLongStackTrace:nt(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),i=[{provide:Qs,useValue:n}];return n.run(()=>{const t=Lt.create({providers:i,parent:this.injector,name:e.moduleType.name}),s=e.create(t),l=s.injector.get(Ue,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.onDestroy(()=>yl(this._modules,s)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{l.handleError(e)}})),function(e,t,n){try{const i=n();return Zt(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(l,n,()=>{const e=s.injector.get(Ls);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=bl({},t);return function(e,t,n){return e.get(Ks).createCompiler([t]).compileModuleAsync(n)}(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(vl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${pe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function bl(e,t){return Array.isArray(t)?t.reduce(bl,e):Object.assign(Object.assign({},e),t)}class vl{constructor(e,t,n,i,s,l){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=nt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),Js(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=$(r,a.pipe(e=>{return G()((t=ee,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,J);return i.source=e,i.subjectFactory=n,i})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof en?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n instanceof an?void 0:this._injector.get(Pe),s=n.create(Lt.NULL,[],t||n.selector,i);s.onDestroy(()=>{this._unloadComponent(s)});const l=s.injector.get(al,null);return l&&s.injector.get(ol).registerApplication(s.location.nativeElement,l),this._loadComponent(s),nt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;yl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Vs,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),yl(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}function yl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wl{}class Cl{}const xl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class _l{constructor(e,t){this._compiler=e,this._config=t||xl}load(e){return this._compiler instanceof Xs?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("zn8P")(t).then(e=>e[i]).then(e=>Sl(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+s]).then(e=>Sl(e,t,i))}}function Sl(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class kl{constructor(e,t){this.name=e,this.callback=t}}class El{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Ol&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ol extends El{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,i){t.childNodes.forEach(t=>{t instanceof Ol&&(n(t)&&i.push(t),e(t,n,i))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,i){t instanceof Ol&&t.childNodes.forEach(t=>{n(t)&&i.push(t),t instanceof Ol&&e(t,n,i)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Ol)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Il=new Map;function Dl(e){return Il.get(e)||null}const Al=Dl;function Ml(e){Il.set(e.nativeNode,e)}const Tl=ml(null,"core",[{provide:Bs,useValue:"unknown"},{provide:gl,deps:[Lt]},{provide:ol,deps:[]},{provide:js,deps:[]}]);function Pl(){return Mn}function Ll(){return Tn}function Nl(e){return e||"en-US"}function Rl(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class Fl{constructor(e){}}function Hl(e,t,n,i,s,l){e|=1;const{matchedQueries:r,references:a,matchedQueryIds:o}=pi(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:r,matchedQueryIds:o,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:l?bi(l):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:s||Gn},provider:null,text:null,query:null,ngContent:null}}function Bl(e,t,n,i,s,l,r=[],a,o,h,c,d){h||(h=Gn);const{matchedQueries:u,references:p,matchedQueryIds:m}=pi(n);let f=null,g=null;l&&([f,g]=Si(l)),a=a||[];const b=[];for(let w=0;w<a.length;w++){const[e,t,n]=a[w],[i,s]=Si(t);let l=void 0,r=void 0;switch(15&e){case 4:r=n;break;case 1:case 8:l=n}b[w]={flags:e,ns:i,name:s,nonMinifiedName:s,securityContext:l,suffix:r}}o=o||[];const v=[];for(let w=0;w<o.length;w++){const[e,t]=o[w];v[w]={type:0,target:e,eventName:t,propName:null}}const y=(r=r||[]).map(([e,t])=>{const[n,i]=Si(e);return[n,i,t]});return d=function(e){if(e&&"$$undefined"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==He.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Qn++}`:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(d),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:m,references:p,ngContentIndex:i,childCount:s,bindings:b,bindingFlags:ki(b),outputs:v,element:{ns:f,name:g,attrs:y,template:null,componentProvider:null,componentView:c||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:h||Gn},provider:null,text:null,query:null,ngContent:null}}function Vl(e,t,n){const i=n.element,s=e.root.selectorOrNode,l=e.renderer;let r;if(e.parent||!s){r=i.name?l.createElement(i.name,i.ns):l.createComment("");const s=fi(e,t,n);s&&l.appendChild(s,r)}else r=l.selectRootElement(s,!!i.componentRendererType&&i.componentRendererType.encapsulation===He.ShadowDom);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[e,t,n]=i.attrs[a];l.setAttribute(r,t,n,e)}return r}function jl(e,t,n,i){for(let s=0;s<n.outputs.length;s++){const l=n.outputs[s],r=zl(e,n.nodeIndex,hi(l.target,l.eventName));let a=l.target,o=e;"component"===l.target&&(a=null,o=t);const h=o.renderer.listen(a||i,l.eventName,r);e.disposables[n.outputIndex+s]=h}}function zl(e,t,n){return i=>li(e,t,n,i)}function ql(e,t,n,i){if(!ti(e,t,n,i))return!1;const s=t.bindings[n],l=qn(e,t.nodeIndex),r=l.renderElement,a=s.name;switch(15&s.flags){case 1:!function(e,t,n,i,s,l){const r=t.securityContext;let a=r?e.root.sanitizer.sanitize(r,l):l;a=null!=a?a.toString():null;const o=e.renderer;null!=l?o.setAttribute(n,s,a,i):o.removeAttribute(n,s,i)}(e,s,r,s.ns,a,i);break;case 2:!function(e,t,n,i){const s=e.renderer;i?s.addClass(t,n):s.removeClass(t,n)}(e,r,a,i);break;case 4:!function(e,t,n,i,s){let l=e.root.sanitizer.sanitize(St.STYLE,s);if(null!=l){l=l.toString();const e=t.suffix;null!=e&&(l+=e)}else l=null;const r=e.renderer;null!=l?r.setStyle(n,i,l):r.removeStyle(n,i)}(e,s,r,a,i);break;case 8:!function(e,t,n,i,s){const l=t.securityContext;let r=l?e.root.sanitizer.sanitize(l,s):s;e.renderer.setProperty(n,i,r)}(33554432&t.flags&&32&s.flags?l.componentView:e,s,r,a,i)}return!0}function Ul(e,t,n){let i=[];for(let s in n)i.push({propName:s,bindingType:n[s]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:ui(t),bindings:i},ngContent:null}}function Wl(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&di(e);){let n=e.parentNodeDef;e=e.parent;const i=n.nodeIndex+n.childCount;for(let s=0;s<=i;s++){const i=e.def.nodes[s];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&Yn(e,s).setDirty(),!(1&i.flags&&s+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(s+=i.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&Yn(e,n).setDirty(),n+=t.childCount}}function Yl(e,t){const n=Yn(e,t.nodeIndex);if(!n.dirty)return;let i,s=void 0;if(67108864&t.flags){const n=t.parent.parent;s=$l(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),i=Un(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(s=$l(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(s);const l=t.query.bindings;let r=!1;for(let a=0;a<l.length;a++){const e=l[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,r=!0}i[e.propName]=t}r&&n.notifyOnChanges()}function $l(e,t,n,i,s){for(let l=t;l<=n;l++){const t=e.def.nodes[l],n=t.matchedQueries[i.id];if(null!=n&&s.push(Gl(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=qn(e,l);if((t.childMatchedQueries&i.filterId)===i.filterId&&($l(e,l+1,l+t.childCount,i,s),l+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const l=e[t],r=ri(l);r&&r===n&&$l(l,0,l.def.nodes.length-1,i,s)}}const r=n.template._projectedViews;if(r)for(let e=0;e<r.length;e++){const t=r[e];$l(t,0,t.def.nodes.length-1,i,s)}}(t.childMatchedQueries&i.filterId)!==i.filterId&&(l+=t.childCount)}return s}function Gl(e,t,n){if(null!=n)switch(n){case 1:return qn(e,t.nodeIndex).renderElement;case 0:return new hn(qn(e,t.nodeIndex).renderElement);case 2:return qn(e,t.nodeIndex).template;case 3:return qn(e,t.nodeIndex).viewContainer;case 4:return Un(e,t.nodeIndex).instance}}function Xl(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Kl(e,t,n){const i=fi(e,t,n);i&&wi(e,n.ngContent.index,1,i,null,void 0)}function Zl(e,t){const n=Object.keys(t),i=n.length,s=[];for(let l=0;l<i;l++)s.push(n[l]);return Jl(64,e,s)}function Jl(e,t,n){const i=[];for(let s=0;s<n.length;s++){const e=n[s];i.push({flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:ki(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ql(e,t,n){const i=[];for(let s=1;s<n.length;s++)i[s-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[s]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function er(e,t,n){let i;const s=e.renderer;i=s.createText(n.text.prefix);const l=fi(e,t,n);return l&&s.appendChild(l,i),{renderText:i}}function tr(e,t){return(null!=e?e.toString():"")+t.suffix}function nr(e,t,n,i){let s=0,l=0,r=0,a=0,o=0,h=null,c=null,d=!1,u=!1,p=null;for(let m=0;m<t.length;m++){const e=t[m];if(e.nodeIndex=m,e.parent=h,e.bindingIndex=s,e.outputIndex=l,e.renderParent=c,r|=e.flags,o|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=h?h.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,d=!1,u=!1,e.element.template&&(o|=e.element.template.nodeMatchedQueries)}if(sr(h,e,t.length),s+=e.bindings.length,l+=e.outputs.length,!c&&3&e.flags&&(p=e),20224&e.flags){d||(d=!0,h.element.publicProviders=Object.create(h.element.publicProviders),h.element.allProviders=h.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?h.element.publicProviders[Kn(e.provider.token)]=e:(u||(u=!0,h.element.allProviders=Object.create(h.element.publicProviders)),h.element.allProviders[Kn(e.provider.token)]=e),t&&(h.element.componentProvider=e)}if(h?(h.childFlags|=e.flags,h.directChildFlags|=e.flags,h.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(h.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)h=e,ir(e)||(c=e);else for(;h&&m===h.nodeIndex+h.childCount;){const e=h.parent;e&&(e.childFlags|=h.childFlags,e.childMatchedQueries|=h.childMatchedQueries),h=e,c=h&&ir(h)?h.renderParent:h}}return{factory:null,nodeFlags:r,rootNodeFlags:a,nodeMatchedQueries:o,flags:e,nodes:t,updateDirectives:n||Gn,updateRenderer:i||Gn,handleEvent:(e,n,i,s)=>t[n].element.handleEvent(e,i,s),bindingCount:s,outputCount:l,lastRenderRootNode:p}}function ir(e){return 0!=(1&e.flags)&&null===e.element.name}function sr(e,t,n){const i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function lr(e,t,n,i){const s=or(e.root,e.renderer,e,t,n);return hr(s,e.component,i),cr(s),s}function rr(e,t,n){const i=or(e,e.renderer,null,null,t);return hr(i,n,n),cr(i),i}function ar(e,t,n,i){const s=t.element.componentRendererType;let l;return l=s?e.root.rendererFactory.createRenderer(i,s):e.root.renderer,or(e.root,l,e,t.element.componentProvider,n)}function or(e,t,n,i,s){const l=new Array(s.nodes.length),r=s.outputCount?new Array(s.outputCount):null;return{def:s,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:l,state:13,root:e,renderer:t,oldValues:new Array(s.bindingCount),disposables:r,initIndex:-1}}function hr(e,t,n){e.component=t,e.context=n}function cr(e){let t;ci(e)&&(t=qn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,i=e.nodes;for(let s=0;s<n.nodes.length;s++){const l=n.nodes[s];let r;switch($n.setCurrentNode(e,s),201347067&l.flags){case 1:const n=Vl(e,t,l);let a=void 0;if(33554432&l.flags){const t=bi(l.element.componentView);a=$n.createComponentView(e,l,t,n)}jl(e,a,l,n),r={renderElement:n,componentView:a,viewContainer:null,template:l.element.template?Yi(e,l):void 0},16777216&l.flags&&(r.viewContainer=zi(e,l,r));break;case 2:r=er(e,t,l);break;case 512:case 1024:case 2048:case 256:r=i[s],r||4096&l.flags||(r={instance:cs(e,l)});break;case 16:r={instance:ds(e,l)};break;case 16384:r=i[s],r||(r={instance:us(e,l)}),32768&l.flags&&hr(qn(e,l.parent.nodeIndex).componentView,r.instance,r.instance);break;case 32:case 64:case 128:r={value:void 0};break;case 67108864:case 134217728:r=new Ts;break;case 8:Kl(e,t,l),r=void 0}i[s]=r}yr(e,vr.CreateViewNodes),_r(e,201326592,268435456,0)}function dr(e){mr(e),$n.updateDirectives(e,1),wr(e,vr.CheckNoChanges),$n.updateRenderer(e,1),yr(e,vr.CheckNoChanges),e.state&=-97}function ur(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Vn(e,0,256),mr(e),$n.updateDirectives(e,0),wr(e,vr.CheckAndUpdate),_r(e,67108864,536870912,0);let t=Vn(e,256,512);ws(e,2097152|(t?1048576:0)),$n.updateRenderer(e,0),yr(e,vr.CheckAndUpdate),_r(e,134217728,536870912,0),t=Vn(e,512,768),ws(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Vn(e,768,1024)}function pr(e,t,n,i,s,l,r,a,o,h,c,d,u){return 0===n?function(e,t,n,i,s,l,r,a,o,h,c,d){switch(201347067&t.flags){case 1:return function(e,t,n,i,s,l,r,a,o,h,c,d){const u=t.bindings.length;let p=!1;return u>0&&ql(e,t,0,n)&&(p=!0),u>1&&ql(e,t,1,i)&&(p=!0),u>2&&ql(e,t,2,s)&&(p=!0),u>3&&ql(e,t,3,l)&&(p=!0),u>4&&ql(e,t,4,r)&&(p=!0),u>5&&ql(e,t,5,a)&&(p=!0),u>6&&ql(e,t,6,o)&&(p=!0),u>7&&ql(e,t,7,h)&&(p=!0),u>8&&ql(e,t,8,c)&&(p=!0),u>9&&ql(e,t,9,d)&&(p=!0),p}(e,t,n,i,s,l,r,a,o,h,c,d);case 2:return function(e,t,n,i,s,l,r,a,o,h,c,d){let u=!1;const p=t.bindings,m=p.length;if(m>0&&ti(e,t,0,n)&&(u=!0),m>1&&ti(e,t,1,i)&&(u=!0),m>2&&ti(e,t,2,s)&&(u=!0),m>3&&ti(e,t,3,l)&&(u=!0),m>4&&ti(e,t,4,r)&&(u=!0),m>5&&ti(e,t,5,a)&&(u=!0),m>6&&ti(e,t,6,o)&&(u=!0),m>7&&ti(e,t,7,h)&&(u=!0),m>8&&ti(e,t,8,c)&&(u=!0),m>9&&ti(e,t,9,d)&&(u=!0),u){let u=t.text.prefix;m>0&&(u+=tr(n,p[0])),m>1&&(u+=tr(i,p[1])),m>2&&(u+=tr(s,p[2])),m>3&&(u+=tr(l,p[3])),m>4&&(u+=tr(r,p[4])),m>5&&(u+=tr(a,p[5])),m>6&&(u+=tr(o,p[6])),m>7&&(u+=tr(h,p[7])),m>8&&(u+=tr(c,p[8])),m>9&&(u+=tr(d,p[9]));const f=zn(e,t.nodeIndex).renderText;e.renderer.setValue(f,u)}return u}(e,t,n,i,s,l,r,a,o,h,c,d);case 16384:return function(e,t,n,i,s,l,r,a,o,h,c,d){const u=Un(e,t.nodeIndex),p=u.instance;let m=!1,f=void 0;const g=t.bindings.length;return g>0&&ei(e,t,0,n)&&(m=!0,f=ys(e,u,t,0,n,f)),g>1&&ei(e,t,1,i)&&(m=!0,f=ys(e,u,t,1,i,f)),g>2&&ei(e,t,2,s)&&(m=!0,f=ys(e,u,t,2,s,f)),g>3&&ei(e,t,3,l)&&(m=!0,f=ys(e,u,t,3,l,f)),g>4&&ei(e,t,4,r)&&(m=!0,f=ys(e,u,t,4,r,f)),g>5&&ei(e,t,5,a)&&(m=!0,f=ys(e,u,t,5,a,f)),g>6&&ei(e,t,6,o)&&(m=!0,f=ys(e,u,t,6,o,f)),g>7&&ei(e,t,7,h)&&(m=!0,f=ys(e,u,t,7,h,f)),g>8&&ei(e,t,8,c)&&(m=!0,f=ys(e,u,t,8,c,f)),g>9&&ei(e,t,9,d)&&(m=!0,f=ys(e,u,t,9,d,f)),f&&p.ngOnChanges(f),65536&t.flags&&jn(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),m}(e,t,n,i,s,l,r,a,o,h,c,d);case 32:case 64:case 128:return function(e,t,n,i,s,l,r,a,o,h,c,d){const u=t.bindings;let p=!1;const m=u.length;if(m>0&&ti(e,t,0,n)&&(p=!0),m>1&&ti(e,t,1,i)&&(p=!0),m>2&&ti(e,t,2,s)&&(p=!0),m>3&&ti(e,t,3,l)&&(p=!0),m>4&&ti(e,t,4,r)&&(p=!0),m>5&&ti(e,t,5,a)&&(p=!0),m>6&&ti(e,t,6,o)&&(p=!0),m>7&&ti(e,t,7,h)&&(p=!0),m>8&&ti(e,t,8,c)&&(p=!0),m>9&&ti(e,t,9,d)&&(p=!0),p){const p=Wn(e,t.nodeIndex);let f;switch(201347067&t.flags){case 32:f=[],m>0&&f.push(n),m>1&&f.push(i),m>2&&f.push(s),m>3&&f.push(l),m>4&&f.push(r),m>5&&f.push(a),m>6&&f.push(o),m>7&&f.push(h),m>8&&f.push(c),m>9&&f.push(d);break;case 64:f={},m>0&&(f[u[0].name]=n),m>1&&(f[u[1].name]=i),m>2&&(f[u[2].name]=s),m>3&&(f[u[3].name]=l),m>4&&(f[u[4].name]=r),m>5&&(f[u[5].name]=a),m>6&&(f[u[6].name]=o),m>7&&(f[u[7].name]=h),m>8&&(f[u[8].name]=c),m>9&&(f[u[9].name]=d);break;case 128:const e=n;switch(m){case 1:f=e.transform(n);break;case 2:f=e.transform(i);break;case 3:f=e.transform(i,s);break;case 4:f=e.transform(i,s,l);break;case 5:f=e.transform(i,s,l,r);break;case 6:f=e.transform(i,s,l,r,a);break;case 7:f=e.transform(i,s,l,r,a,o);break;case 8:f=e.transform(i,s,l,r,a,o,h);break;case 9:f=e.transform(i,s,l,r,a,o,h,c);break;case 10:f=e.transform(i,s,l,r,a,o,h,c,d)}}p.value=f}return p}(e,t,n,i,s,l,r,a,o,h,c,d);default:throw"unreachable"}}(e,t,i,s,l,r,a,o,h,c,d,u):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let i=!1;for(let s=0;s<n.length;s++)ql(e,t,s,n[s])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){const i=t.bindings;let s=!1;for(let l=0;l<n.length;l++)ti(e,t,l,n[l])&&(s=!0);if(s){let s="";for(let e=0;e<n.length;e++)s+=tr(n[e],i[e]);s=t.text.prefix+s;const l=zn(e,t.nodeIndex).renderText;e.renderer.setValue(l,s)}return s}(e,t,n);case 16384:return function(e,t,n){const i=Un(e,t.nodeIndex),s=i.instance;let l=!1,r=void 0;for(let a=0;a<n.length;a++)ei(e,t,a,n[a])&&(l=!0,r=ys(e,i,t,a,n[a],r));return r&&s.ngOnChanges(r),65536&t.flags&&jn(e,256,t.nodeIndex)&&s.ngOnInit(),262144&t.flags&&s.ngDoCheck(),l}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const i=t.bindings;let s=!1;for(let l=0;l<n.length;l++)ti(e,t,l,n[l])&&(s=!0);if(s){const s=Wn(e,t.nodeIndex);let l;switch(201347067&t.flags){case 32:l=n;break;case 64:l={};for(let s=0;s<n.length;s++)l[i[s].name]=n[s];break;case 128:const e=n[0],t=n.slice(1);l=e.transform(...t)}s.value=l}return s}(e,t,n);default:throw"unreachable"}}(e,t,i)}function mr(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const i=t.nodes[n];if(4&i.flags){const t=qn(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const i=t[n];i.state|=32,si(i,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function fr(e,t,n,i,s,l,r,a,o,h,c,d,u){return 0===n?function(e,t,n,i,s,l,r,a,o,h,c,d){const u=t.bindings.length;u>0&&ni(e,t,0,n),u>1&&ni(e,t,1,i),u>2&&ni(e,t,2,s),u>3&&ni(e,t,3,l),u>4&&ni(e,t,4,r),u>5&&ni(e,t,5,a),u>6&&ni(e,t,6,o),u>7&&ni(e,t,7,h),u>8&&ni(e,t,8,c),u>9&&ni(e,t,9,d)}(e,t,i,s,l,r,a,o,h,c,d,u):function(e,t,n){for(let i=0;i<n.length;i++)ni(e,t,i,n[i])}(e,t,i),!1}function gr(e,t){if(Yn(e,t.nodeIndex).dirty)throw Fn($n.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function br(e){if(!(128&e.state)){if(wr(e,vr.Destroy),yr(e,vr.Destroy),ws(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=ri(e);if(t){const n=t.template._projectedViews;n&&(Re(n,n.indexOf(e)),$n.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(qn(e,n).renderElement):2&t.flags?e.renderer.destroyNode(zn(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&Yn(e,n).destroy()}}(e),ci(e)&&e.renderer.destroy(),e.state|=128}}const vr=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function yr(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];33554432&s.flags?Cr(qn(e,i).componentView,t):0==(33554432&s.childFlags)&&(i+=s.childCount)}}function wr(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];if(16777216&s.flags){const n=qn(e,i).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Cr(n[e],t)}else 0==(16777216&s.childFlags)&&(i+=s.childCount)}}function Cr(e,t){const n=e.state;switch(t){case vr.CheckNoChanges:0==(128&n)&&(12==(12&n)?dr(e):64&n&&xr(e,vr.CheckNoChangesProjectedViews));break;case vr.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?dr(e):64&n&&xr(e,t));break;case vr.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ur(e):64&n&&xr(e,vr.CheckAndUpdateProjectedViews));break;case vr.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ur(e):64&n&&xr(e,t));break;case vr.Destroy:br(e);break;case vr.CreateViewNodes:cr(e)}}function xr(e,t){wr(e,t),yr(e,t)}function _r(e,t,n,i){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const s=e.def.nodes.length;for(let l=0;l<s;l++){const s=e.def.nodes[l];if(s.flags&t&&s.flags&n)switch($n.setCurrentNode(e,s.nodeIndex),i){case 0:Yl(e,s);break;case 1:gr(e,s)}s.childFlags&t&&s.childFlags&n||(l+=s.childCount)}}let Sr=!1;function kr(e,t,n,i,s,l){const r=s.injector.get(dn);return rr(Or(e,s,r,t,n),i,l)}function Er(e,t,n,i,s,l){const r=s.injector.get(dn),a=Or(e,s,new la(r),t,n),o=Fr(i);return ia(qr.create,rr,null,[a,o,l])}function Or(e,t,n,i,s){const l=t.injector.get(fn),r=t.injector.get(Ue),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:s,sanitizer:l,rendererFactory:n,renderer:a,errorHandler:r}}function Ir(e,t,n,i){const s=Fr(n);return ia(qr.create,lr,null,[e,t,s,i])}function Dr(e,t,n,i){return n=Pr.get(t.element.componentProvider.provider.token)||Fr(n),ia(qr.create,ar,null,[e,t,n,i])}function Ar(e,t,n,i){return Zi(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Mr.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const i=Mr.get(e.token);3840&e.flags&&i&&(t=!0,n=n||i.deprecatedBehavior)}),e.modules.forEach(e=>{Tr.forEach((i,s)=>{he(s).providedIn===e&&(t=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const i=e.providers[t];n&&(i.flags|=4096);const s=Mr.get(i.token);s&&(i.flags=-3841&i.flags|s.flags,i.deps=mi(s.deps),i.value=s.value)}if(Tr.size>0){let t=new Set(e.modules);Tr.forEach((i,s)=>{if(t.has(he(s).providedIn)){let t={token:s,flags:i.flags|(n?4096:0),deps:mi(i.deps),value:i.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Kn(s)]=t}})}}(e=e.factory(()=>Gn)),e):e}(i))}const Mr=new Map,Tr=new Map,Pr=new Map;function Lr(e){let t;Mr.set(e.token,e),"function"==typeof e.token&&(t=he(e.token))&&"function"==typeof t.providedIn&&Tr.set(e.token,e)}function Nr(e,t){const n=bi(t.viewDefFactory),i=bi(n.nodes[0].element.componentView);Pr.set(e,i)}function Rr(){Mr.clear(),Tr.clear(),Pr.clear()}function Fr(e){if(0===Mr.size)return e;const t=function(e){const t=[];let n=null;for(let i=0;i<e.nodes.length;i++){const s=e.nodes[i];1&s.flags&&(n=s),n&&3840&s.flags&&Mr.has(s.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Gn);for(let i=0;i<t.length;i++)n(e,t[i]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Mr.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=mi(n.deps),e.value=n.value)}}}}function Hr(e,t,n,i,s,l,r,a,o,h,c,d,u){const p=e.def.nodes[t];return pr(e,p,n,i,s,l,r,a,o,h,c,d,u),224&p.flags?Wn(e,t).value:void 0}function Br(e,t,n,i,s,l,r,a,o,h,c,d,u){const p=e.def.nodes[t];return fr(e,p,n,i,s,l,r,a,o,h,c,d,u),224&p.flags?Wn(e,t).value:void 0}function Vr(e){return ia(qr.detectChanges,ur,null,[e])}function jr(e){return ia(qr.checkNoChanges,dr,null,[e])}function zr(e){return ia(qr.destroy,br,null,[e])}const qr=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Ur,Wr,Yr;function $r(e,t){Wr=e,Yr=t}function Gr(e,t,n,i){return $r(e,t),ia(qr.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function Xr(e,t){if(128&e.state)throw Bn(qr[Ur]);return $r(e,Qr(e,0)),e.def.updateDirectives((function(e,n,i,...s){const l=e.def.nodes[n];return 0===t?Zr(e,l,i,s):Jr(e,l,i,s),16384&l.flags&&$r(e,Qr(e,n)),224&l.flags?Wn(e,l.nodeIndex).value:void 0}),e)}function Kr(e,t){if(128&e.state)throw Bn(qr[Ur]);return $r(e,ea(e,0)),e.def.updateRenderer((function(e,n,i,...s){const l=e.def.nodes[n];return 0===t?Zr(e,l,i,s):Jr(e,l,i,s),3&l.flags&&$r(e,ea(e,n)),224&l.flags?Wn(e,l.nodeIndex).value:void 0}),e)}function Zr(e,t,n,i){if(pr(e,t,n,...i)){const s=1===n?i[0]:i;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const i=t.bindings[e],l=s[e];8&i.flags&&(n[Ot(i.nonMinifiedName)]=Dt(l))}const i=t.parent,l=qn(e,i.nodeIndex).renderElement;if(i.element.name)for(let t in n){const i=n[t];null!=i?e.renderer.setAttribute(l,t,i):e.renderer.removeAttribute(l,t)}else e.renderer.setValue(l,`bindings=${JSON.stringify(n,null,2)}`)}}}function Jr(e,t,n,i){fr(e,t,n,...i)}function Qr(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function ea(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class ta{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,i=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=ai(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return qn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Gi(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){na(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&na(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!ci(e);)e=e.parent;return e.parent?qn(e.parent,ai(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?oi(this.view,this.nodeDef):oi(this.elView,this.elDef)}logError(e,...t){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const s=function(e,t){let n=-1;for(let i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(n,i);let l=-1;n.factory(()=>(l++,l===s?e.error.bind(e,...t):Gn)),l<s&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function na(e,t,n){for(let i in t.references)n[i]=Gl(e,t,t.references[i])}function ia(e,t,n,i){const s=Ur,l=Wr,r=Yr;try{Ur=e;const a=t.apply(n,i);return Wr=l,Yr=r,Ur=s,a}catch(a){if(je(a)||!Wr)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Hn(e,t),e}(a,sa())}}function sa(){return Wr?new ta(Wr,Yr):null}class la{constructor(e){this.delegate=e}createRenderer(e,t){return new ra(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class ra{constructor(e){this.delegate=e,this.debugContextFactory=sa,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Al(e);!function(e){Il.delete(e.nativeNode)}(t),t instanceof El&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),i=this.createDebugContext(n);if(i){const t=new Ol(n,null,i);t.name=e,Ml(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Ml(new El(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Ml(new El(t,null,n)),t}appendChild(e,t){const n=Al(e),i=Al(t);n&&i&&n instanceof Ol&&n.addChild(i),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const i=Al(e),s=Al(t),l=Al(n);i&&s&&i instanceof Ol&&i.insertBefore(l,s),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Al(e),i=Al(t);n&&i&&n instanceof Ol&&n.removeChild(i),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),i=sa();return i&&Ml(new Ol(n,null,i)),n}setAttribute(e,t,n,i){const s=Al(e);s&&s instanceof Ol&&(s.attributes[i?i+":"+t:t]=n),this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){const i=Al(e);i&&i instanceof Ol&&(i.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Al(e);n&&n instanceof Ol&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Al(e);n&&n instanceof Ol&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,i){const s=Al(e);s&&s instanceof Ol&&(s.styles[t]=n),this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){const i=Al(e);i&&i instanceof Ol&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const i=Al(e);i&&i instanceof Ol&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const i=Al(e);i&&i.listeners.push(new kl(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function aa(e,t,n){return new oa(e,t,n)}class oa extends Le{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(Sr)return;Sr=!0;const e=nt()?{setCurrentNode:$r,createRootView:Er,createEmbeddedView:Ir,createComponentView:Dr,createNgModuleRef:Ar,overrideProvider:Lr,overrideComponentView:Nr,clearOverrides:Rr,checkAndUpdateView:Vr,checkNoChangesView:jr,destroyView:zr,createDebugContext:(e,t)=>new ta(e,t),handleEvent:Gr,updateDirectives:Xr,updateRenderer:Kr}:{setCurrentNode:()=>{},createRootView:kr,createEmbeddedView:lr,createComponentView:ar,createNgModuleRef:Zi,overrideProvider:Gn,overrideComponentView:Gn,clearOverrides:Gn,checkAndUpdateView:ur,checkNoChangesView:dr,destroyView:br,createDebugContext:(e,t)=>new ta(e,t),handleEvent:(e,t,n,i)=>e.def.handleEvent(e,t,n,i),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Hr:Br,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Hr:Br,e)};$n.setCurrentNode=e.setCurrentNode,$n.createRootView=e.createRootView,$n.createEmbeddedView=e.createEmbeddedView,$n.createComponentView=e.createComponentView,$n.createNgModuleRef=e.createNgModuleRef,$n.overrideProvider=e.overrideProvider,$n.overrideComponentView=e.overrideComponentView,$n.clearOverrides=e.clearOverrides,$n.checkAndUpdateView=e.checkAndUpdateView,$n.checkNoChangesView=e.checkNoChangesView,$n.destroyView=e.destroyView,$n.resolveDep=bs,$n.createDebugContext=e.createDebugContext,$n.handleEvent=e.handleEvent,$n.updateDirectives=e.updateDirectives,$n.updateRenderer=e.updateRenderer,$n.dirtyParentQueries=Wl}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),i={};for(const s in e.providersByKey)i[s]=e.providersByKey[s];return{factory:e.factory,scope:e.scope,providers:t,modules:n,providersByKey:i}}(bi(this._ngModuleDefFactory));return $n.createNgModuleRef(this.moduleType,e||Lt.NULL,this._bootstrapComponents,t)}}function ha(){return localStorage.getItem("token")}function ca(){return"http://localhost:5000/"}class da{}var ua=n("CxY0");function pa(...e){let t=e[e.length-1];return O(t)?(e.pop(),V(e,t)):Y(e)}function ma(e,t){return z(e,t,1)}function fa(e,t){return function(n){return n.lift(new ga(e,t))}}class ga{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ba(e,this.predicate,this.thisArg))}}class ba extends m{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}let va=null;function ya(){return va}const wa=new xe("DocumentToken");let Ca=(()=>{class e{}return e.\u0275prov=oe({factory:xa,token:e,providedIn:"platform"}),e})();function xa(){return De(Sa)}const _a=new xe("Location Initialized");let Sa=(()=>{class e extends Ca{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=ya().getLocation(),this._history=ya().getHistory()}getBaseHrefFromDOM(){return ya().getBaseHref(this._doc)}onPopState(e){ya().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){ya().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){ka()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){ka()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275prov=oe({factory:Ea,token:e,providedIn:"platform"}),e})();function ka(){return!!window.history.pushState}function Ea(){return new Sa(De(wa))}function Oa(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Ia(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Da(e){return e&&"?"!==e[0]?"?"+e:e}let Aa=(()=>{class e{}return e.\u0275prov=oe({factory:Ma,token:e,providedIn:"root"}),e})();function Ma(e){const t=De(wa).location;return new Pa(De(Ca),t&&t.origin||"")}const Ta=new xe("appBaseHref");class Pa extends Aa{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oa(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Da(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const s=this.prepareExternalUrl(n+Da(i));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,i){const s=this.prepareExternalUrl(n+Da(i));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class La extends Aa{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Oa(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let s=this.prepareExternalUrl(n+Da(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,i){let s=this.prepareExternalUrl(n+Da(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}let Na=(()=>{class e{constructor(e,t){this._subject=new As,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Ia(Fa(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Da(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Fa(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Da(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Da(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.normalizeQueryParams=Da,e.joinWithSlash=Oa,e.stripTrailingSlash=Ia,e.\u0275prov=oe({factory:Ra,token:e,providedIn:"root"}),e})();function Ra(){return new Na(De(Aa),De(Ca))}function Fa(e){return e.replace(/\/index.html$/,"")}const Ha=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Ba=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),Va=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),ja=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),za=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function qa(e,t,n){const i=Os(e),s=Ka([i[Ds.DaysFormat],i[Ds.DaysStandalone]],t);return Ka(s,n)}function Ua(e,t,n){const i=Os(e),s=Ka([i[Ds.MonthsFormat],i[Ds.MonthsStandalone]],t);return Ka(s,n)}function Wa(e,t){return Ka(Os(e)[Ds.DateFormat],t)}function Ya(e,t){return Ka(Os(e)[Ds.TimeFormat],t)}function $a(e,t){return Ka(Os(e)[Ds.DateTimeFormat],t)}function Ga(e,t){const n=Os(e),i=n[Ds.NumberSymbols][t];if(void 0===i){if(t===za.CurrencyDecimal)return n[Ds.NumberSymbols][za.Decimal];if(t===za.CurrencyGroup)return n[Ds.NumberSymbols][za.Group]}return i}function Xa(e){if(!e[Ds.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ds.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ka(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Za(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Ja=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qa={},eo=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,to=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),no=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),io=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function so(e,t,n,i){let s=function(e){if(mo(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,i]=e.split("-").map(e=>+e);return new Date(t,n-1,i)}let n;if(n=e.match(Ja))return function(e){const t=new Date(0);let n=0,i=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,l=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const r=Number(e[4]||0)-n,a=Number(e[5]||0)-i,o=Number(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return l.call(t,r,a,o,h),t}(n)}const t=new Date(e);if(!mo(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const i=function(e){return Os(e)[Ds.LocaleId]}(t);if(Qa[i]=Qa[i]||{},Qa[i][n])return Qa[i][n];let s="";switch(n){case"shortDate":s=Wa(t,ja.Short);break;case"mediumDate":s=Wa(t,ja.Medium);break;case"longDate":s=Wa(t,ja.Long);break;case"fullDate":s=Wa(t,ja.Full);break;case"shortTime":s=Ya(t,ja.Short);break;case"mediumTime":s=Ya(t,ja.Medium);break;case"longTime":s=Ya(t,ja.Long);break;case"fullTime":s=Ya(t,ja.Full);break;case"short":const n=e(t,"shortTime"),i=e(t,"shortDate");s=lo($a(t,ja.Short),[n,i]);break;case"medium":const l=e(t,"mediumTime"),r=e(t,"mediumDate");s=lo($a(t,ja.Medium),[l,r]);break;case"long":const a=e(t,"longTime"),o=e(t,"longDate");s=lo($a(t,ja.Long),[a,o]);break;case"full":const h=e(t,"fullTime"),c=e(t,"fullDate");s=lo($a(t,ja.Full),[h,c])}return s&&(Qa[i][n]=s),s}(n,t)||t;let l,r=[];for(;t;){if(l=eo.exec(t),!l){r.push(t);break}{r=r.concat(l.slice(1));const e=r.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();i&&(a=po(i,a),s=function(e,t,n){const i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(po(t,i)-i))}(s,i));let o="";return r.forEach(e=>{const t=function(e){if(uo[e])return uo[e];let t;switch(e){case"G":case"GG":case"GGG":t=oo(io.Eras,Va.Abbreviated);break;case"GGGG":t=oo(io.Eras,Va.Wide);break;case"GGGGG":t=oo(io.Eras,Va.Narrow);break;case"y":t=ao(no.FullYear,1,0,!1,!0);break;case"yy":t=ao(no.FullYear,2,0,!0,!0);break;case"yyy":t=ao(no.FullYear,3,0,!1,!0);break;case"yyyy":t=ao(no.FullYear,4,0,!1,!0);break;case"M":case"L":t=ao(no.Month,1,1);break;case"MM":case"LL":t=ao(no.Month,2,1);break;case"MMM":t=oo(io.Months,Va.Abbreviated);break;case"MMMM":t=oo(io.Months,Va.Wide);break;case"MMMMM":t=oo(io.Months,Va.Narrow);break;case"LLL":t=oo(io.Months,Va.Abbreviated,Ba.Standalone);break;case"LLLL":t=oo(io.Months,Va.Wide,Ba.Standalone);break;case"LLLLL":t=oo(io.Months,Va.Narrow,Ba.Standalone);break;case"w":t=co(1);break;case"ww":t=co(2);break;case"W":t=co(1,!0);break;case"d":t=ao(no.Date,1);break;case"dd":t=ao(no.Date,2);break;case"E":case"EE":case"EEE":t=oo(io.Days,Va.Abbreviated);break;case"EEEE":t=oo(io.Days,Va.Wide);break;case"EEEEE":t=oo(io.Days,Va.Narrow);break;case"EEEEEE":t=oo(io.Days,Va.Short);break;case"a":case"aa":case"aaa":t=oo(io.DayPeriods,Va.Abbreviated);break;case"aaaa":t=oo(io.DayPeriods,Va.Wide);break;case"aaaaa":t=oo(io.DayPeriods,Va.Narrow);break;case"b":case"bb":case"bbb":t=oo(io.DayPeriods,Va.Abbreviated,Ba.Standalone,!0);break;case"bbbb":t=oo(io.DayPeriods,Va.Wide,Ba.Standalone,!0);break;case"bbbbb":t=oo(io.DayPeriods,Va.Narrow,Ba.Standalone,!0);break;case"B":case"BB":case"BBB":t=oo(io.DayPeriods,Va.Abbreviated,Ba.Format,!0);break;case"BBBB":t=oo(io.DayPeriods,Va.Wide,Ba.Format,!0);break;case"BBBBB":t=oo(io.DayPeriods,Va.Narrow,Ba.Format,!0);break;case"h":t=ao(no.Hours,1,-12);break;case"hh":t=ao(no.Hours,2,-12);break;case"H":t=ao(no.Hours,1);break;case"HH":t=ao(no.Hours,2);break;case"m":t=ao(no.Minutes,1);break;case"mm":t=ao(no.Minutes,2);break;case"s":t=ao(no.Seconds,1);break;case"ss":t=ao(no.Seconds,2);break;case"S":t=ao(no.FractionalSeconds,1);break;case"SS":t=ao(no.FractionalSeconds,2);break;case"SSS":t=ao(no.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ho(to.Short);break;case"ZZZZZ":t=ho(to.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ho(to.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ho(to.Long);break;default:return null}return uo[e]=t,t}(e);o+=t?t(s,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}function lo(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function ro(e,t,n="-",i,s){let l="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,l=n));let r=String(e);for(;r.length<t;)r="0"+r;return i&&(r=r.substr(r.length-t)),l+r}function ao(e,t,n=0,i=!1,s=!1){return function(l,r){let a=function(e,t){switch(e){case no.FullYear:return t.getFullYear();case no.Month:return t.getMonth();case no.Date:return t.getDate();case no.Hours:return t.getHours();case no.Minutes:return t.getMinutes();case no.Seconds:return t.getSeconds();case no.FractionalSeconds:return t.getMilliseconds();case no.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,l);if((n>0||a>-n)&&(a+=n),e===no.Hours)0===a&&-12===n&&(a=12);else if(e===no.FractionalSeconds)return o=t,ro(a,3).substr(0,o);var o;const h=Ga(r,za.MinusSign);return ro(a,t,h,i,s)}}function oo(e,t,n=Ba.Format,i=!1){return function(s,l){return function(e,t,n,i,s,l){switch(n){case io.Months:return Ua(t,s,i)[e.getMonth()];case io.Days:return qa(t,s,i)[e.getDay()];case io.DayPeriods:const r=e.getHours(),a=e.getMinutes();if(l){const e=function(e){const t=Os(e);return Xa(t),(t[Ds.ExtraData][2]||[]).map(e=>"string"==typeof e?Za(e):[Za(e[0]),Za(e[1])])}(t),n=function(e,t,n){const i=Os(e);Xa(i);const s=Ka([i[Ds.ExtraData][0],i[Ds.ExtraData][1]],t)||[];return Ka(s,n)||[]}(t,s,i);let l;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:i,minutes:s}=e[0],{hours:o,minutes:h}=e[1];r>=i&&a>=s&&(r<o||r===o&&a<h)&&(l=n[t])}else{const{hours:i,minutes:s}=e;i===r&&s===a&&(l=n[t])}}),l)return l}return function(e,t,n){const i=Os(e),s=Ka([i[Ds.DayPeriodsFormat],i[Ds.DayPeriodsStandalone]],t);return Ka(s,n)}(t,s,i)[r<12?0:1];case io.Eras:return function(e,t){return Ka(Os(e)[Ds.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,l,e,t,n,i)}}function ho(e){return function(t,n,i){const s=-1*i,l=Ga(n,za.MinusSign),r=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case to.Short:return(s>=0?"+":"")+ro(r,2,l)+ro(Math.abs(s%60),2,l);case to.ShortGMT:return"GMT"+(s>=0?"+":"")+ro(r,1,l);case to.Long:return"GMT"+(s>=0?"+":"")+ro(r,2,l)+":"+ro(Math.abs(s%60),2,l);case to.Extended:return 0===i?"Z":(s>=0?"+":"")+ro(r,2,l)+":"+ro(Math.abs(s%60),2,l);default:throw new Error(`Unknown zone width "${e}"`)}}}function co(e,t=!1){return function(n,i){let s;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();s=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(n.getFullYear()),t=(l=n,new Date(l.getFullYear(),l.getMonth(),l.getDate()+(4-l.getDay()))).getTime()-e.getTime();s=1+Math.round(t/6048e5)}var l;return ro(s,e,Ga(i,za.MinusSign))}}const uo={};function po(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function mo(e){return e instanceof Date&&!isNaN(e.valueOf())}class fo{}class go extends fo{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return Os(e)[Ds.PluralCase]}(t||this.locale)(e)){case Ha.Zero:return"zero";case Ha.One:return"one";case Ha.Two:return"two";case Ha.Few:return"few";case Ha.Many:return"many";default:return"other"}}}function bo(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}class vo{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Xt(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${pe(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}class yo{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class wo{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){nt()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new yo(null,this._ngForOf,-1,-1),null===i?void 0:i),s=new Co(e,n);t.push(s)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,i);const l=new Co(e,s);t.push(l)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class Co{constructor(e,t){this.record=e,this.view=t}}class xo{constructor(e,t){this._viewContainer=e,this._context=new _o,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){So("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){So("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}class _o{constructor(){this.$implicit=null,this.ngIf=null}}function So(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${pe(t)}'.`)}class ko{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class Eo{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}class Oo{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new ko(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class Io{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}function Do(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${pe(e)}'`)}class Ao{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Mo{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const To=new Mo,Po=new Ao;class Lo{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Yt(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Gt.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Zt(e))return To;if(Jt(e))return Po;throw Do(Lo,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}class No{constructor(e){this.locale=e}transform(e,t="mediumDate",n,i){if(null==e||""===e||e!=e)return null;try{return so(e,t,i||this.locale,n)}catch(s){throw Do(No,s.message)}}}class Ro{}function Fo(e){return"browser"===e}let Ho=(()=>{class e{}return e.\u0275prov=oe({token:e,providedIn:"root",factory:()=>new Bo(De(wa),window,De(Ue))}),e})();class Bo{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],i-s[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class Vo{}class jo{}class zo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===s.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qo{encodeKey(e){return Uo(e)}encodeValue(e){return Uo(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Uo(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Wo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qo,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[s,l]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],r=n.get(s)||[];r.push(l),n.set(s,r)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Yo(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function $o(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Go(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Xo{constructor(e,t,n,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,s=i):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.params&&(this.params=s.params)),this.headers||(this.headers=new zo),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Wo,this.urlWithParams=t}serializeBody(){return null===this.body?null:Yo(this.body)||$o(this.body)||Go(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Go(this.body)?null:$o(this.body)?this.body.type||null:Yo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,r=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,o=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(o=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),o)),new Xo(t,n,s,{params:o,headers:a,reportProgress:r,responseType:i,withCredentials:l})}}const Ko=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class Zo{constructor(e,t=200,n="OK"){this.headers=e.headers||new zo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Jo extends Zo{constructor(e={}){super(e),this.type=Ko.ResponseHeader}clone(e={}){return new Jo({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qo extends Zo{constructor(e={}){super(e),this.type=Ko.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Qo({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eh extends Zo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function th(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class nh{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof Xo)i=e;else{let s=void 0;s=n.headers instanceof zo?n.headers:new zo(n.headers);let l=void 0;n.params&&(l=n.params instanceof Wo?n.params:new Wo({fromObject:n.params})),i=new Xo(e,t,void 0!==n.body?n.body:null,{headers:s,params:l,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=pa(i).pipe(ma(e=>this.handler.handle(e)));if(e instanceof Xo||"events"===n.observe)return s;const l=s.pipe(fa(e=>e instanceof Qo));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(F(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return l.pipe(F(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return l.pipe(F(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return l.pipe(F(e=>e.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Wo).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,th(n,t))}post(e,t,n={}){return this.request("POST",e,th(n,t))}put(e,t,n={}){return this.request("PUT",e,th(n,t))}}class ih{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const sh=new xe("HTTP_INTERCEPTORS");class lh{intercept(e,t){return t.handle(e)}}const rh=/^\)\]\}',?\n/;class ah{}class oh{constructor(){}build(){return new XMLHttpRequest}}class hh{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let s=null;const l=()=>{if(null!==s)return s;const t=1223===n.status?204:n.status,i=n.statusText||"OK",l=new zo(n.getAllResponseHeaders()),r=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return s=new Jo({headers:l,status:t,statusText:i,url:r}),s},r=()=>{let{headers:i,status:s,statusText:r,url:a}=l(),o=null;204!==s&&(o=void 0===n.response?n.responseText:n.response),0===s&&(s=o?200:0);let h=s>=200&&s<300;if("json"===e.responseType&&"string"==typeof o){const e=o;o=o.replace(rh,"");try{o=""!==o?JSON.parse(o):null}catch(c){o=e,h&&(h=!1,o={error:c,text:o})}}h?(t.next(new Qo({body:o,headers:i,status:s,statusText:r,url:a||void 0})),t.complete()):t.error(new eh({error:o,headers:i,status:s,statusText:r,url:a||void 0}))},a=e=>{const{url:i}=l(),s=new eh({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(s)};let o=!1;const h=i=>{o||(t.next(l()),o=!0);let s={type:Ko.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(s.total=i.total),"text"===e.responseType&&n.responseText&&(s.partialText=n.responseText),t.next(s)},c=e=>{let n={type:Ko.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",r),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",h),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),t.next({type:Ko.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",r),e.reportProgress&&(n.removeEventListener("progress",h),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const ch=new xe("XSRF_COOKIE_NAME"),dh=new xe("XSRF_HEADER_NAME");class uh{}class ph{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=bo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class mh{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}class fh{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(sh,[]);this.chain=e.reduceRight((e,t)=>new ih(e,t),this.backend)}return this.chain.handle(e)}}class gh{static disable(){return{ngModule:gh,providers:[{provide:mh,useClass:lh}]}}static withOptions(e={}){return{ngModule:gh,providers:[e.cookieName?{provide:ch,useValue:e.cookieName}:[],e.headerName?{provide:dh,useValue:e.headerName}:[]]}}}class bh{}const vh=new xe("JWT_OPTIONS");let yh=class{constructor(e=null){this.tokenGetter=e&&e.tokenGetter||function(){}}urlBase64Decode(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(t)}b64decode(e){let t="";if((e=String(e).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let n,i,s=0,l=0;i=e.charAt(l++);~i&&(n=s%4?64*n+i:i,s++%4)?t+=String.fromCharCode(255&n>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return t}b64DecodeUnicode(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(e=this.tokenGetter()){if(!e||""===e)return null;const t=e.split(".");if(3!==t.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)}getTokenExpirationDate(e=this.tokenGetter()){let t;if(t=this.decodeToken(e),!t||!t.hasOwnProperty("exp"))return null;const n=new Date(0);return n.setUTCSeconds(t.exp),n}isTokenExpired(e=this.tokenGetter(),t){if(!e||""===e)return!0;const n=this.getTokenExpirationDate(e);return t=t||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*t)}getAuthScheme(e,t){return"function"==typeof e?e(t):e}},wh=class{constructor(e,t){this.jwtHelper=t,this.standardPorts=["80","443"],this.tokenGetter=e.tokenGetter,this.headerName=e.headerName||"Authorization",this.authScheme=e.authScheme||""===e.authScheme?e.authScheme:"Bearer ",this.whitelistedDomains=e.whitelistedDomains||[],this.blacklistedRoutes=e.blacklistedRoutes||[],this.throwNoTokenError=e.throwNoTokenError||!1,this.skipWhenExpired=e.skipWhenExpired}isWhitelistedDomain(e){const t=Object(ua.parse)(e.url,!1,!0),n=null!==t.hostname?`${t.hostname}${t.port&&!this.standardPorts.includes(t.port)?":"+t.port:""}`:t.hostname;return null===n||this.whitelistedDomains.findIndex(e=>"string"==typeof e?e===n:e instanceof RegExp&&e.test(n))>-1}isBlacklistedRoute(e){const t=Object(ua.parse)(e.url,!1,!0);return this.blacklistedRoutes.findIndex(n=>{if("string"==typeof n){const e=Object(ua.parse)(n,!1,!0);return e.hostname===t.hostname&&e.path===t.path}return n instanceof RegExp&&n.test(e.url)})>-1}handleInterception(e,t,n){const i=this.jwtHelper.getAuthScheme(this.authScheme,t);let s=!1;if(!e&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(s=!e||this.jwtHelper.isTokenExpired(e)),e&&s&&this.skipWhenExpired?t=t.clone():e&&(t=t.clone({setHeaders:{[this.headerName]:`${i}${e}`}})),n.handle(t)}intercept(e,t){if(!this.isWhitelistedDomain(e)||this.isBlacklistedRoute(e))return t.handle(e);const n=this.tokenGetter(e);return n instanceof Promise?j(n).pipe(z(n=>this.handleInterception(n,e,t))):this.handleInterception(n,e,t)}};var Ch;let xh=Ch=class{constructor(e){if(e)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(e){return{ngModule:Ch,providers:[{provide:sh,useClass:wh,multi:!0},e.jwtOptionsProvider||{provide:vh,useValue:e.config},yh]}}};class _h{constructor(e){this.authService=e,this.title="ClientApp",this.jwtHelper=new yh}ngOnInit(){const e=localStorage.getItem("token");JSON.parse(localStorage.getItem("user")),e&&(this.authService.decodedToken=this.jwtHelper.decodeToken(e))}isLogged(){return!!this.authService.isLoggedIn()}}function Sh(e,t){return new w(n=>{const i=e.length;if(0===i)return void n.complete();const s=new Array(i);let l=0,r=0;for(let a=0;a<i;a++){const o=j(e[a]);let h=!1;n.add(o.subscribe({next:e=>{h||(h=!0,r++),s[a]=e},error:e=>n.error(e),complete:()=>{l++,l!==i&&h||(r===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=s[n],e),{}):s),n.complete())}}))}})}const kh=new xe("NgValueAccessor"),Eh=new xe("CompositionEventMode");class Oh{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=ya()?ya().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class Ih{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Dh extends Ih{get formDirective(){return null}get path(){return null}}function Ah(){throw new Error("unimplemented")}class Mh extends Ih{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Ah()}get asyncValidator(){return Ah()}}class Th{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Ph extends Th{constructor(e){super(e)}}class Lh extends Th{constructor(e){super(e)}}function Nh(e){return null==e||0===e.length}const Rh=new xe("NgValidators"),Fh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hh{static min(e){return t=>{if(Nh(t.value)||Nh(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Nh(t.value)||Nh(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Nh(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Nh(e.value)?null:Fh.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(Nh(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return Hh.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Nh(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Bh);return 0==t.length?null:function(e){return jh(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Bh);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(o(t))return Sh(t,null);if(h(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Sh(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Sh(e=1===e.length&&o(e[0])?e[0]:e,null).pipe(F(e=>t(...e)))}return Sh(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(Vh)).pipe(F(jh))}}}function Bh(e){return null!=e}function Vh(e){const t=Zt(e)?j(e):e;if(!Jt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function jh(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function zh(e){return e.validate?t=>e.validate(t):e}function qh(e){return e.validate?t=>e.validate(t):e}class Uh{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}class Wh{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const Yh='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',$h='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Gh='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Xh{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Yh}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${$h}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Gh}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Yh}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${$h}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Kh(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class Zh{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Yt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Kh(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}class Jh{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Kh(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Qh(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class ec{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Qh(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Qh(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function tc(e,t){return[...t.path,e]}function nc(e,t){e||rc(t,"Cannot find control with"),t.valueAccessor||rc(t,"No value accessor for form control with"),e.validator=Hh.compose([e.validator,t.validator]),e.asyncValidator=Hh.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ic(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ic(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function ic(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sc(e,t){null==e&&rc(t,"Cannot find control with"),e.validator=Hh.compose([e.validator,t.validator]),e.asyncValidator=Hh.composeAsync([e.asyncValidator,t.asyncValidator])}function lc(e){return rc(e,"There is no FormControl instance attached to form control element with")}function rc(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function ac(e){return null!=e?Hh.compose(e.map(zh)):null}function oc(e){return null!=e?Hh.composeAsync(e.map(qh)):null}function hc(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Yt(t,n.currentValue)}const cc=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},Uh,Zh,class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Yt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),s=this._getOptionValue(i.value);n.push(s)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Mh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function dc(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function uc(e,t){if(!t)return null;Array.isArray(t)||rc(e,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,s=void 0;return t.forEach(t=>{var l;t.constructor===Oh?n=t:(l=t,cc.some(e=>l.constructor===e)?(i&&rc(e,"More than one built-in value accessor matches form control with"),i=t):(s&&rc(e,"More than one custom value accessor matches form control with"),s=t))}),s||i||n||(rc(e,"No valid value accessor for form control with"),null)}function pc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function mc(e){const t=gc(e)?e.validators:e;return Array.isArray(t)?ac(t):t||null}function fc(e,t){const n=gc(t)?t.asyncValidators:e;return Array.isArray(n)?oc(n):n||null}function gc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class bc{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=mc(e)}setAsyncValidators(e){this.asyncValidator=fc(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=Vh(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof yc?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof wc&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new As,this.statusChanges=new As}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class vc extends bc{constructor(e=null,t,n){super(mc(t),fc(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class yc extends bc{constructor(e,t,n){super(mc(t),fc(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof vc?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,i)=>{t=t||this.contains(i)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class wc extends bc{constructor(e,t,n){super(mc(t),fc(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof vc?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Cc=(()=>Promise.resolve(null))();class xc extends Dh{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new As,this.form=new yc({},ac(e),oc(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Cc.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),nc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Cc.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),pc(this._directives,e)})}addFormGroup(e){Cc.then(()=>{const t=this._findContainer(e.path),n=new yc({});sc(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Cc.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Cc.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,dc(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class _c extends Dh{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return tc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ac(this._validators)}get asyncValidator(){return oc(this._asyncValidators)}_checkParentType(){}}class Sc{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Yh}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${$h}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Gh}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${$h}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Gh}`)}}class kc extends _c{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof kc||this._parent instanceof xc||Sc.modelGroupParentException()}}const Ec=(()=>Promise.resolve(null))();class Oc extends Mh{constructor(e,t,n,i){super(),this.control=new vc,this._registered=!1,this.update=new As,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=uc(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),hc(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?tc(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ac(this._rawValidators)}get asyncValidator(){return oc(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof kc)&&this._parent instanceof _c?Sc.formGroupNameException():this._parent instanceof kc||this._parent instanceof xc||Sc.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Sc.missingNameException()}_updateValue(e){Ec.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Ec.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Ic{}const Dc=new xe("NgModelWithFormControlWarning");class Ac extends Dh{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new As}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return nc(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){pc(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);sc(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);sc(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,dc(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>lc(t)),t.valueAccessor.registerOnTouched(()=>lc(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&nc(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=ac(this._validators);this.form.validator=Hh.compose([this.form.validator,e]);const t=oc(this._asyncValidators);this.form.asyncValidator=Hh.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Xh.missingFormException()}}class Mc extends _c{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){Pc(this._parent)&&Xh.groupParentException()}}class Tc extends Dh{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return tc(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return ac(this._validators)}get asyncValidator(){return oc(this._asyncValidators)}_checkParentType(){Pc(this._parent)&&Xh.arrayParentException()}}function Pc(e){return!(e instanceof Mc||e instanceof Ac||e instanceof Tc)}let Lc=(()=>{class e extends Mh{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new As,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=uc(this,i)}set isDisabled(e){Xh.disabledAttrWarning()}ngOnChanges(t){var n,i,s;this._added||this._setUpControl(),hc(t,this.viewModel)&&(n=e,i=this,s=this._ngModelWarningConfig,nt()&&"never"!==s&&((null!==s&&"once"!==s||n._ngModelWarningSentOnce)&&("always"!==s||i._ngModelWarningSent)||(Xh.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,i._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return tc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ac(this._rawValidators)}get asyncValidator(){return oc(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Mc)&&this._parent instanceof _c?Xh.ngModelGroupException():this._parent instanceof Mc||this._parent instanceof Ac||this._parent instanceof Tc||Xh.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e})();class Nc{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?Hh.required(e):null}registerOnValidatorChange(e){this._onChange=e}}class Rc{}class Fc{group(e,t=null){const n=this._reduceControls(e);let i=null,s=null,l=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,l=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new yc(n,{asyncValidators:s,updateOn:l,validators:i})}control(e,t,n){return new vc(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new wc(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof vc||e instanceof yc||e instanceof wc?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}class Hc{}class Bc{static withConfig(e){return{ngModule:Bc,providers:[{provide:Dc,useValue:e.warnOnNgModelWithFormControl}]}}}class Vc extends k{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(e){super.next(this._value=e)}}const jc={};class zc{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new qc(e,this.resultSelector))}}class qc extends R{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(jc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(N(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,i,s){const l=this.values,r=this.toRespond?l[n]===jc?--this.toRespond:this.toRespond:0;l[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class Uc extends d{constructor(e,t){super()}schedule(e,t=0){return this}}class Wc extends Uc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Yc=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class $c extends Yc{constructor(e,t=Yc.now){super(e,()=>$c.delegate&&$c.delegate!==this?$c.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return $c.delegate&&$c.delegate!==this?$c.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Gc=new $c(Wc);function Xc(e){return!o(e)&&e-parseFloat(e)+1>=0}function Kc(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function Zc(){}function Jc(e,t,n,s){return i(n)&&(s=n,n=void 0),s?Jc(e,t,n).pipe(F(e=>o(e)?s(...e):s(e))):new w(i=>{!function e(t,n,i,s,l){let r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,i,l),r=()=>e.removeEventListener(n,i,l)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,i),r=()=>e.off(n,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,i),r=()=>e.removeListener(n,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let r=0,a=t.length;r<a;r++)e(t[r],n,i,s,l)}s.add(r)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)})}function Qc(){return W(1)}function ed(...e){return Qc()(pa(...e))}function td(...e){const t=e[e.length-1];return O(t)?(e.pop(),n=>ed(e,n,t)):t=>ed(e,t)}class nd{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new id(e,this.compare,this.keySelector))}}class id extends m{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function sd(e,t){return"function"==typeof t?n=>n.pipe(sd((n,i)=>j(e(n,i)).pipe(F((e,s)=>t(n,e,i,s))))):t=>t.lift(new ld(e))}class ld{constructor(e){this.project=e}call(e,t){return t.subscribe(new rd(e,this.project))}}class rd extends R{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}_innerSub(e,t,n){const i=this.innerSubscription;i&&i.unsubscribe();const s=new I(this,t,n),l=this.destination;l.add(s),this.innerSubscription=N(this,e,void 0,void 0,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,i,s){this.destination.next(t)}}function ad(e){return t=>t.lift(new od(e))}class od{constructor(e){this.notifier=e}call(e,t){const n=new hd(e),i=N(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class hd extends R{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,i,s){this.seenValue=!0,this.complete()}notifyComplete(){}}const cd=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),dd=new w(e=>e.complete());function ud(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):dd}function pd(e){return t=>0===e?ud():t.lift(new md(e))}class md{constructor(e){if(this.total=e,this.total<0)throw new cd}call(e,t){return t.subscribe(new fd(e,this.total))}}class fd extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function gd(e,t,n){return function(i){return i.lift(new bd(e,t,n))}}class bd{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new vd(e,this.nextOrObserver,this.error,this.complete))}}class vd extends m{constructor(e,t,n,s){super(e),this._tapNext=Zc,this._tapError=Zc,this._tapComplete=Zc,this._tapError=n||Zc,this._tapComplete=s||Zc,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Zc,this._tapError=t.error||Zc,this._tapComplete=t.complete||Zc)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function yd(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new wd(e,n))}}class wd{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Cd(e,this.observables,this.project))}}class Cd extends R{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let s=0;s<i;s++)this.toRespond.push(s);for(let s=0;s<i;s++){let e=t[s];this.add(N(this,e,e,s))}}notifyNext(e,t,n,i,s){this.values[n]=t;const l=this.toRespond;if(l.length>0){const e=l.indexOf(n);-1!==e&&l.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function xd(e,t){return new w(t?n=>t.schedule(_d,0,{error:e,subscriber:n}):t=>t.error(e))}function _d({error:e,subscriber:t}){t.error(e)}let Sd=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return pa(this.value);case"E":return xd(this.error);case"C":return ud()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function kd(e){return parseInt(`${e}`,10)}function Ed(e){return null!=e?`${e}`:""}function Od(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Id(e){return null!=e}function Dd(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});let Ad=class{},Md=(()=>{let e=class{constructor(){this.dismissible=!0,this.type="warning"}};return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Td=class{constructor(e,t,n){this._renderer=t,this._element=n,this.close=new As,this.dismissible=e.dismissible,this.type=e.type}closeHandler(){this.close.emit()}ngOnChanges(e){const t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${t.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${t.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}},Pd=class{},Ld=class{},Nd=class{},Rd=class{};class Fd{constructor(e,t,n){this.year=Od(e)?e:null,this.month=Od(t)?t:null,this.day=Od(n)?n:null}static from(e){return e instanceof Fd?e:e?new Fd(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function Hd(e){return new Fd(e.getFullYear(),e.getMonth()+1,e.getDate())}function Bd(e){const t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function Vd(){return new zd}let jd=(()=>{let e=class{};return e.\u0275prov=oe({factory:Vd,token:e,providedIn:"root"}),e})(),zd=class extends jd{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,t="d",n=1){let i=Bd(e),s=!0,l=i.getMonth();switch(t){case"y":i.setFullYear(i.getFullYear()+n);break;case"m":l+=n,i.setMonth(l),l%=12,l<0&&(l+=12);break;case"d":i.setDate(i.getDate()+n),s=!1;break;default:return e}return s&&i.getMonth()!==l&&i.setDate(0),Hd(i)}getPrev(e,t="d",n=1){return this.getNext(e,t,-n)}getWeekday(e){let t=Bd(e).getDay();return 0===t?7:t}getWeekNumber(e,t){7===t&&(t=0);const n=Bd(e[(11-t)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const i=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n.getTime())/864e5)/7)+1}getToday(){return Hd(new Date)}isValid(e){if(!(e&&Od(e.year)&&Od(e.month)&&Od(e.day)))return!1;if(0===e.year)return!1;const t=Bd(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}};function qd(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function Ud(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function Wd(e,t,n){return e&&t&&e.before(t)?t:e&&n&&e.after(n)?n:e||null}function Yd(e,t){const{minDate:n,maxDate:i,disabled:s,markDisabled:l}=t;return!(null==e||s||l&&l(e,{year:e.year,month:e.month})||n&&e.before(n)||i&&e.after(i))}let $d=(()=>{let e=class{getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}};return e.\u0275prov=oe({factory:function(){return e=De(zs),new Gd(e);var e},token:e,providedIn:"root"}),e})(),Gd=class extends $d{constructor(e){super(),this._locale=e;const t=qa(e,Ba.Standalone,Va.Short);this._weekdaysShort=t.map((e,n)=>t[(n+1)%7]),this._monthsShort=Ua(e,Ba.Standalone,Va.Abbreviated),this._monthsFull=Ua(e,Ba.Standalone,Va.Wide)}getWeekdayShortName(e){return this._weekdaysShort[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return so(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}},Xd=class{constructor(e,t){this._calendar=e,this._i18n=t,this._VALIDATORS={dayTemplateData:e=>{if(this._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:e=>{if(Od(e=kd(e))&&e>0&&this._state.displayMonths!==e)return{displayMonths:e}},disabled:e=>{if(this._state.disabled!==e)return{disabled:e}},firstDayOfWeek:e=>{if(Od(e=kd(e))&&e>=0&&this._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:e=>{if(this._state.focusVisible!==e&&!this._state.disabled)return{focusVisible:e}},markDisabled:e=>{if(this._state.markDisabled!==e)return{markDisabled:e}},maxDate:e=>{const t=this.toValidDate(e,null);if(qd(this._state.maxDate,t))return{maxDate:t}},minDate:e=>{const t=this.toValidDate(e,null);if(qd(this._state.minDate,t))return{minDate:t}},navigation:e=>{if(this._state.navigation!==e)return{navigation:e}},outsideDays:e=>{if(this._state.outsideDays!==e)return{outsideDays:e}}},this._model$=new k,this._dateSelect$=new k,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}get model$(){return this._model$.pipe(fa(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(fa(e=>null!==e))}set(e){let t=Object.keys(e).map(t=>this._VALIDATORS[t](e[t])).reduce((e,t)=>Object.assign(Object.assign({},e),t),{});Object.keys(t).length>0&&this._nextState(t)}focus(e){const t=this.toValidDate(e,null);null!=t&&!this._state.disabled&&qd(this._state.focusDate,t)&&this._nextState({focusDate:e})}focusSelect(){Yd(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const t=this.toValidDate(e,this._calendar.getToday());null==t||this._state.disabled||this._state.firstDate&&!Ud(this._state.firstDate,t)||this._nextState({firstDate:t})}select(e,t={}){const n=this.toValidDate(e,null);null==n||this._state.disabled||(qd(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),t.emitEvent&&Yd(n,this._state)&&this._dateSelect$.next(n))}toValidDate(e,t){const n=Fd.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(n)?n:t}getMonth(e){for(let t of this._state.months)if(e.month===t.number&&e.year===t.year)return t;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}_patchContexts(e){const{months:t,displayMonths:n,selectedDate:i,focusDate:s,focusVisible:l,disabled:r,outsideDays:a}=e;e.months.forEach(e=>{e.weeks.forEach(o=>{o.days.forEach(o=>{s&&(o.context.focused=s.equals(o.date)&&l),o.tabindex=!r&&s&&o.date.equals(s)&&s.month===e.number?0:-1,!0===r&&(o.context.disabled=!0),void 0!==i&&(o.context.selected=null!==i&&i.equals(o.date)),e.number!==o.date.month&&(o.hidden="hidden"===a||"collapsed"===a||n>1&&o.date.after(t[0].firstDate)&&o.date.before(t[n-1].lastDate))})})})}_updateState(e){const t=Object.assign({},this._state,e);let n=t.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${e}`)}(t.minDate,t.maxDate),t.focusDate=Wd(t.focusDate,t.minDate,t.maxDate),t.firstDate=Wd(t.firstDate,t.minDate,t.maxDate),n=t.focusDate),"disabled"in e&&(t.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(n=t.selectedDate),"focusVisible"in e)return t;if("focusDate"in e&&(t.focusDate=Wd(t.focusDate,t.minDate,t.maxDate),n=t.focusDate,0!==t.months.length&&t.focusDate&&!t.focusDate.before(t.firstDate)&&!t.focusDate.after(t.lastDate)))return t;if("firstDate"in e&&(t.firstDate=Wd(t.firstDate,t.minDate,t.maxDate),n=t.firstDate),n){const i=function(e,t,n,i,s){const{displayMonths:l,months:r}=n,a=r.splice(0,r.length);return Array.from({length:l},(n,i)=>{const l=Object.assign(e.getNext(t,"m",i),{day:1});if(r[i]=null,!s){const e=a.findIndex(e=>e.firstDate.equals(l));-1!==e&&(r[i]=a.splice(e,1)[0])}return l}).forEach((t,s)=>{null===r[s]&&(r[s]=function(e,t,n,i,s={}){const{dayTemplateData:l,minDate:r,maxDate:a,firstDayOfWeek:o,markDisabled:h,outsideDays:c}=n,d=e.getToday();s.firstDate=null,s.lastDate=null,s.number=t.month,s.year=t.year,s.weeks=s.weeks||[],s.weekdays=s.weekdays||[],t=function(e,t,n){const i=e.getDaysPerWeek(),s=new Fd(t.year,t.month,1),l=e.getWeekday(s)%i;return e.getPrev(s,"d",(i+l-n)%i)}(e,t,o);for(let u=0;u<e.getWeeksPerMonth();u++){let n=s.weeks[u];n||(n=s.weeks[u]={number:0,days:[],collapsed:!0});const p=n.days;for(let o=0;o<e.getDaysPerWeek();o++){0===u&&(s.weekdays[o]=e.getWeekday(t));const n=new Fd(t.year,t.month,t.day),c=e.getNext(n),m=i.getDayAriaLabel(n);let f=!!(r&&n.before(r)||a&&n.after(a));!f&&h&&(f=h(n,{month:s.number,year:s.year}));let g=n.equals(d),b=l?l(n,{month:s.number,year:s.year}):void 0;null===s.firstDate&&n.month===s.number&&(s.firstDate=n),n.month===s.number&&c.month!==s.number&&(s.lastDate=n);let v=p[o];v||(v=p[o]={}),v.date=n,v.context=Object.assign(v.context||{},{$implicit:n,date:n,data:b,currentMonth:s.number,currentYear:s.year,disabled:f,focused:!1,selected:!1,today:g}),v.tabindex=-1,v.ariaLabel=m,v.hidden=!1,t=c}n.number=e.getWeekNumber(p.map(e=>e.date),o),n.collapsed="collapsed"===c&&p[0].date.month!==s.number&&p[p.length-1].date.month!==s.number}return s}(e,t,n,i,a.shift()||{}))}),r}(this._calendar,n,t,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);t.months=i,t.firstDate=i[0].firstDate,t.lastDate=i[i.length-1].lastDate,"selectedDate"in e&&!Yd(t.selectedDate,t)&&(t.selectedDate=null),"firstDate"in e&&(!t.focusDate||t.focusDate.before(t.firstDate)||t.focusDate.after(t.lastDate))&&(t.focusDate=n);const s=!this._state.firstDate||this._state.firstDate.year!==t.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==t.firstDate.month;"select"===t.navigation?(("minDate"in e||"maxDate"in e||0===t.selectBoxes.years.length||s)&&(t.selectBoxes.years=function(e,t,n){if(!e)return[];const i=t?Math.max(t.year,e.year-500):e.year-10,s=(n?Math.min(n.year,e.year+500):e.year+10)-i+1,l=Array(s);for(let r=0;r<s;r++)l[r]=i+r;return l}(t.firstDate,t.minDate,t.maxDate)),("minDate"in e||"maxDate"in e||0===t.selectBoxes.months.length||s)&&(t.selectBoxes.months=function(e,t,n,i){if(!t)return[];let s=e.getMonths(t.year);if(n&&t.year===n.year){const e=s.findIndex(e=>e===n.month);s=s.slice(e)}if(i&&t.year===i.year){const e=s.findIndex(e=>e===i.month);s=s.slice(0,e+1)}return s}(this._calendar,t.firstDate,t.minDate,t.maxDate))):t.selectBoxes={years:[],months:[]},"arrows"!==t.navigation&&"select"!==t.navigation||!(l||s||"minDate"in e||"maxDate"in e||"disabled"in e)||(t.prevDisabled=t.disabled||function(e,t,n){const i=Object.assign(e.getPrev(t,"m"),{day:1});return null!=n&&(i.year===n.year&&i.month<n.month||i.year<n.year&&1===n.month)}(this._calendar,t.firstDate,t.minDate),t.nextDisabled=t.disabled||function(e,t,n){const i=Object.assign(e.getNext(t,"m"),{day:1});return null!=n&&i.after(n)}(this._calendar,t.lastDate,t.maxDate))}return t}};var Kd=function(e){return e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e}({});let Zd=(()=>{let e=class{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}};return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})();function Jd(){return new eu}let Qd=(()=>{let e=class{};return e.\u0275prov=oe({factory:Jd,token:e,providedIn:"root"}),e})(),eu=class extends Qd{fromModel(e){return e&&Od(e.year)&&Od(e.month)&&Od(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Od(e.year)&&Od(e.month)&&Od(e.day)?{year:e.year,month:e.month,day:e.day}:null}},tu=class{constructor(e,t,n,i,s,l,r,a){this._service=e,this._calendar=t,this.i18n=n,this._elementRef=l,this._ngbDateAdapter=r,this._ngZone=a,this._controlValue=null,this._destroyed$=new k,this._publicState={},this.navigate=new As,this.dateSelect=new As,this.select=this.dateSelect,this.onChange=e=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(e=>this[e]=i[e]),e.dateSelect$.pipe(ad(this._destroyed$)).subscribe(e=>{this.dateSelect.emit(e)}),e.model$.pipe(ad(this._destroyed$)).subscribe(e=>{const t=e.firstDate,n=this.model?this.model.firstDate:null;this._publicState={maxDate:e.maxDate,minDate:e.minDate,firstDate:e.firstDate,lastDate:e.lastDate,focusedDate:e.focusDate,months:e.months.map(e=>e.firstDate)};let i=!1;if(!t.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:t.year,month:t.month},preventDefault:()=>i=!0}),i&&null!==n))return void this._service.open(n);const l=e.selectedDate,r=e.focusDate,a=this.model?this.model.focusDate:null;this.model=e,qd(l,this._controlValue)&&(this._controlValue=l,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(l))),qd(r,a)&&a&&e.focusVisible&&this.focus(),s.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(Fd.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(pd(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(Fd.from(e?e.day?e:Object.assign(Object.assign({},e),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=Jc(this._contentEl.nativeElement,"focusin"),t=Jc(this._contentEl.nativeElement,"focusout"),{nativeElement:n}=this._elementRef;$(e,t).pipe(fa(({target:e,relatedTarget:t})=>!(Dd(e,"ngb-dp-day")&&Dd(t,"ngb-dp-day")&&n.contains(e)&&n.contains(t))),ad(this._destroyed$)).subscribe(({type:e})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===e})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(t=>e[t]=this[t]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const t={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(t=>t in e).forEach(e=>t[e]=this[e]),this._service.set(t),"startDate"in e){const{currentValue:t,previousValue:n}=e.startDate;Ud(n,t)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Kd.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Kd.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=Fd.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}};var nu=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({});let iu=(()=>{let e=class{processKey(e,t){const{state:n,calendar:i}=t;switch(e.which){case nu.PageUp:t.focusDate(i.getPrev(n.focusedDate,e.shiftKey?"y":"m",1));break;case nu.PageDown:t.focusDate(i.getNext(n.focusedDate,e.shiftKey?"y":"m",1));break;case nu.End:t.focusDate(e.shiftKey?n.maxDate:n.lastDate);break;case nu.Home:t.focusDate(e.shiftKey?n.minDate:n.firstDate);break;case nu.ArrowLeft:t.focusDate(i.getPrev(n.focusedDate,"d",1));break;case nu.ArrowUp:t.focusDate(i.getPrev(n.focusedDate,"d",i.getDaysPerWeek()));break;case nu.ArrowRight:t.focusDate(i.getNext(n.focusedDate,"d",1));break;case nu.ArrowDown:t.focusDate(i.getNext(n.focusedDate,"d",i.getDaysPerWeek()));break;case nu.Enter:case nu.Space:t.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}};return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),su=class{constructor(e,t,n,i){this.i18n=e,this.datepicker=t,this._keyboardService=n,this._service=i}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){e.context.disabled||e.hidden||this.datepicker.onDateSelect(e.date)}},lu=class{constructor(e){this.i18n=e,this.navigation=Kd,this.months=[],this.navigate=new As,this.select=new As}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}};const ru=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function au(e){const t=Array.from(e.querySelectorAll(ru)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}let ou=class{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}},hu=class{constructor(e,t){this.i18n=e,this._renderer=t,this.select=new As,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new Fd(this.date.year,kd(e),1))}changeYear(e){this.select.emit(new Fd(kd(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}},cu=class{},du=class{},uu=(()=>{let e=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})();class pu{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const mu=()=>{};let fu=(()=>{let e=class{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):mu}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,i=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=`${i+e}px`,()=>t.style["padding-right"]=n}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}};return e.\u0275prov=oe({factory:function(){return new e(De(wa))},token:e,providedIn:"root"}),e})(),gu=class{};class bu{close(e){}dismiss(e){}}class vu{constructor(e,t,n,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=i,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}_dismiss(e){this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){const e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var yu=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({});let wu=class{constructor(e,t,n){this._document=e,this._elRef=t,this._zone=n,this._closed$=new k,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new As}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:e}=this._elRef;if(this._zone.runOutsideAngular(()=>{Jc(e,"keydown").pipe(ad(this._closed$),fa(e=>e.which===nu.Escape&&this.keyboard)).subscribe(e=>requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(yu.ESC))}));let t=!1;Jc(this._dialogEl.nativeElement,"mousedown").pipe(ad(this._closed$),gd(()=>t=!1),sd(()=>Jc(e,"mouseup").pipe(ad(this._closed$),pd(1))),fa(({target:t})=>e===t)).subscribe(()=>{t=!0}),Jc(e,"click").pipe(ad(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||e!==n||t||this._zone.run(()=>this.dismiss(yu.BACKDROP_CLICK)),t=!1})}),!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),n=au(e)[0];(t||n||e).focus()}}ngOnDestroy(){const e=this._document.body,t=this._elWithFocus;let n;n=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}},Cu=(()=>{let e=class{constructor(e,t,n,i,s,l){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=l,this._activeWindowCmptHasChanged=new k,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=Jc(t,"focusin").pipe(ad(n),F(e=>e.target));Jc(t,"keydown").pipe(ad(n),fa(e=>e.which===nu.Tab),yd(e)).subscribe(([e,n])=>{const[i,s]=au(t);n!==i&&n!==t||!e.shiftKey||(s.focus(),e.preventDefault()),n!==s||e.shiftKey||(i.focus(),e.preventDefault())}),i&&Jc(t,"click").pipe(ad(n),yd(e),F(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,i){const s=i.container instanceof HTMLElement?i.container:Id(i.container)?this._document.querySelector(i.container):this._document.body,l=this._rendererFactory.createRenderer(null,null),r=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const o=new bu,h=this._getContentRef(e,i.injector||t,n,o,i);let c=!1!==i.backdrop?this._attachBackdrop(e,s):void 0,d=this._attachWindowComponent(e,s,h),u=new vu(d,h,c,i.beforeDismiss);return this._registerModalRef(u),this._registerWindowCmpt(d),u.result.then(r,r),u.result.then(a,a),o.close=e=>{u.close(e)},o.dismiss=e=>{u.dismiss(e)},this._applyWindowOptions(d.instance,i),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),c&&c.instance&&this._applyBackdropOptions(c.instance,i),u}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(gu).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let i=e.resolveComponentFactory(wu).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{Id(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{Id(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,i,s){return n?n instanceof Pn?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,s):new pu([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new pu([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(`${e}`);return new pu([[t]])}_createFromComponent(e,t,n,i,s){const l=e.resolveComponentFactory(n),r=Lt.create({providers:[{provide:bu,useValue:i}],parent:t}),a=l.create(r),o=a.location.nativeElement;return s.scrollable&&o.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new pu([[o]],a.hostView,a)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&this._modalRefs.splice(t,1)};this._modalRefs.push(e),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}};return e.\u0275prov=oe({factory:function(){return new e(De(vl),De(_e),De(wa),De(fu),De(dn),De(Qs))},token:e,providedIn:"root"}),e})(),xu=(()=>{let e=class{constructor(e,t,n,i){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=i}open(e,t={}){const n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return e.\u0275prov=oe({factory:function(){return new e(De(ln),De(_e),De(Cu),De(uu))},token:e,providedIn:"root"}),e})(),_u=class{},Su=class{},ku=class{},Eu=class{isTitleTemplate(){return this.title instanceof Pn}},Ou=class{},Iu=class{},Du=class{},Au=class{},Mu=class{},Tu=class{},Pu=class{},Lu=class{},Nu=class{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(e){const t=Ed(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map(e=>Ed(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")).filter(e=>e);this.parts=n.length?t.split(new RegExp(`(${n.join("|")})`,"gmi")):[t]}},Ru=class{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Ed,this.selectEvent=new As,this.activeChangeEvent=new As}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}},Fu=class{},Hu=class{};var Bu=Jn({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function Vu(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.closeHandler()&&i),i}),null,null)),(e()(),Bl(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Ql(-1,null,["\xd7"]))],null,null)}function ju(e){return nr(2,[Xl(null,0),(e()(),Hl(16777216,null,null,1,null,Vu)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.component.dismissible)}),null)}function zu(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,ju,Bu)),rs(1,638976,null,0,Td,[Md,pn,hn],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,Ki(t,1).dismissible)}))}var qu=Bi("ngb-alert",Td,zu,{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),Uu=Jn({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function Wu(e){return nr(2,[(e()(),Ql(0,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.i18n.getDayNumerals(n.date))}))}var Yu=Jn({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function $u(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],(function(e,t,n){var i=!0;return"select"===t&&(i=!1!==e.component.select.emit(n)&&i),i}),np,Qu)),rs(1,8437760,null,0,hu,[$d,pn],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)}),null)}function Gu(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Xu(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Ku(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,Gu)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),Ql(3,null,[" "," "," "])),(e()(),Hl(16777216,null,null,1,null,Xu)),rs(5,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,t.context.index>0),e(t,5,0,t.context.index!==n.months.length-1)}),(function(e,t){var n=t.component;e(t,3,0,n.i18n.getMonthFullName(t.context.$implicit.number,t.context.$implicit.year),n.i18n.getYearNumerals(t.context.$implicit.year))}))}function Zu(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,Ku)),rs(1,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Hl(0,null,null,0))],(function(e,t){e(t,1,0,t.component.months)}),null)}function Ju(e){return nr(2,[(e()(),Bl(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClickPrev(n)&&i),i}),null,null)),(e()(),Bl(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,$u)),rs(4,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,Zu)),rs(6,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(e()(),Bl(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClickNext(n)&&i),i}),null,null)),(e()(),Bl(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.showSelect),e(t,6,0,!n.showSelect)}),(function(e,t){var n=t.component;e(t,1,0,n.prevDisabled),e(t,8,0,n.nextDisabled)}))}var Qu=Jn({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],data:{}});function ep(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[8,null]],{value:[0,"value"]},null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],{value:[0,"value"]},null),(e()(),Ql(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){var n=t.component;e(t,0,0,n.i18n.getMonthFullName(t.context.$implicit,null==n.date?null:n.date.year)),e(t,3,0,n.i18n.getMonthShortName(t.context.$implicit,null==n.date?null:n.date.year))}))}function tp(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[8,null]],{value:[0,"value"]},null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],{value:[0,"value"]},null),(e()(),Ql(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.component.i18n.getYearNumerals(t.context.$implicit))}))}function np(e){return nr(2,[Ul(402653184,1,{monthSelect:0}),Ul(402653184,2,{yearSelect:0}),(e()(),Bl(2,0,[[1,0],["month",1]],null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeMonth(n.target.value)&&i),i}),null,null)),(e()(),Hl(16777216,null,null,1,null,ep)),rs(4,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(5,0,[[2,0],["year",1]],null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeYear(n.target.value)&&i),i}),null,null)),(e()(),Hl(16777216,null,null,1,null,tp)),rs(7,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.months),e(t,7,0,n.years)}),(function(e,t){var n=t.component;e(t,2,0,n.disabled),e(t,5,0,n.disabled)}))}var ip=Jn({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function sp(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,Wu,Uu)),rs(1,49152,null,0,ou,[$d],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],(function(e,t){e(t,1,0,t.context.currentMonth,t.context.date,t.context.disabled,t.context.focused,t.context.selected)}),(function(e,t){e(t,0,0,Ki(t,1).selected,Ki(t,1).selected,Ki(t,1).isMuted(),Ki(t,1).isMuted(),Ki(t,1).focused)}))}function lp(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),Ql(1,null,[" "," "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.i18n.getMonthFullName(t.parent.context.$implicit.number,t.parent.context.$implicit.year),n.i18n.getYearNumerals(t.parent.context.$implicit.year))}))}function rp(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,lp)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(3,0,null,null,1,"ngb-datepicker-month",[["role","grid"]],null,[[null,"keydown"]],(function(e,t,n){var i=!0;return"keydown"===t&&(i=!1!==Ki(e,4).onKeyDown(n)&&i),i}),Sp,mp)),rs(4,49152,null,0,su,[$d,tu,iu,Xd],{month:[0,"month"]},null)],(function(e,t){var n=t.component;e(t,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),e(t,4,0,t.context.$implicit.firstDate)}),null)}function ap(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,rp)),rs(1,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Hl(0,null,null,0))],(function(e,t){e(t,1,0,t.component.model.months)}),null)}function op(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],(function(e,t,n){var i=!0,s=e.component;return"navigate"===t&&(i=!1!==s.onNavigateEvent(n)&&i),"select"===t&&(i=!1!==s.onNavigateDateSelect(n)&&i),i}),Ju,Yu)),rs(1,49152,null,0,lu,[$d],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)}),null)}function hp(e){return nr(0,[(e()(),Hl(0,null,null,0))],null,null)}function cp(e){return nr(0,[(e()(),Hl(0,null,null,0))],null,null)}function dp(e){return nr(2,[Ul(402653184,1,{_defaultDayTemplate:0}),Ul(402653184,2,{_contentEl:0}),(e()(),Hl(0,[[1,2],["defaultDayTemplate",2]],null,0,null,sp)),(e()(),Hl(0,[["defaultContentTemplate",2]],null,0,null,ap)),(e()(),Bl(4,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,op)),rs(6,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(7,0,[[2,0],["content",1]],null,2,"div",[["class","ngb-dp-content"]],[[2,"ngb-dp-months",null]],null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,hp)),rs(9,540672,null,0,Io,[Nn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Hl(16777216,null,null,1,null,cp)),rs(11,540672,null,0,Io,[Nn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,6,0,"none"!==n.navigation),e(t,9,0,(null==n.contentTemplate?null:n.contentTemplate.templateRef)||Ki(t,3)),e(t,11,0,n.footerTemplate)}),(function(e,t){e(t,7,0,!t.component.contentTemplate)}))}function up(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"ngb-datepicker",[],null,null,null,dp,ip)),os(5120,null,kh,(function(e){return[e]}),[tu]),os(512,null,Xd,Xd,[jd,$d]),rs(3,4964352,null,1,tu,[Xd,jd,$d,Zd,At,hn,Qd,Qs],null,null),Ul(335544320,1,{contentTemplate:0})],(function(e,t){e(t,3,0)}),null)}var pp=Bi("ngb-datepicker",tu,up,{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",dateSelect:"dateSelect",select:"select"},[]),mp=Jn({encapsulation:2,styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],data:{}});function fp(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function gp(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"],["role","columnheader"]],null,null,null,null,null)),(e()(),Ql(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekdayShortName(t.context.$implicit))}))}function bp(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays"],["role","row"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,fp)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,gp)),rs(4,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.datepicker.showWeekNumbers),e(t,4,0,n.viewModel.weekdays)}),null)}function vp(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(e()(),Ql(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekNumerals(t.parent.parent.context.$implicit.number))}))}function yp(e){return nr(0,[(e()(),Hl(0,null,null,0))],null,null)}function wp(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,yp)),rs(1,540672,null,0,Io,[Nn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),Hl(0,null,null,0))],(function(e,t){e(t,1,0,t.parent.context.$implicit.context,t.component.datepicker.dayTemplate)}),null)}function Cp(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.doSelect(e.context.$implicit),i=!1!==n.preventDefault()&&i),i}),null,null)),(e()(),Hl(16777216,null,null,1,null,wp)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.context.$implicit.hidden)}),(function(e,t){e(t,0,0,t.context.$implicit.context.disabled,t.context.$implicit.tabindex,t.context.$implicit.hidden,t.context.$implicit.context.today,t.context.$implicit.ariaLabel)}))}function xp(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,vp)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,Cp)),rs(4,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.datepicker.showWeekNumbers),e(t,4,0,t.parent.context.$implicit.days)}),null)}function _p(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,xp)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(0,null,null,0))],(function(e,t){e(t,1,0,!t.context.$implicit.collapsed)}),null)}function Sp(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,bp)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,_p)),rs(3,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.datepicker.showWeekdays),e(t,3,0,n.viewModel.weeks)}),null)}var kp=Jn({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function Ep(e){return nr(0,[(e()(),Ql(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.title)}))}function Op(e){return nr(0,[(e()(),Hl(0,null,null,0))],null,null)}function Ip(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(e()(),Hl(0,[["simpleTitle",2]],null,0,null,Ep)),(e()(),Hl(16777216,null,null,1,null,Op)),rs(3,540672,null,0,Io,[Nn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.context,n.isTitleTemplate()?n.title:Ki(t,1))}),null)}function Dp(e){return nr(2,[(e()(),Bl(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Ip)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),Xl(null,0)],(function(e,t){e(t,2,0,null!=t.component.title)}),null)}function Ap(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,Dp,kp)),rs(1,49152,null,0,Eu,[],null,null)],null,(function(e,t){e(t,0,0,"popover"+(Ki(t,1).popoverClass?" "+Ki(t,1).popoverClass:""),Ki(t,1).id)}))}var Mp=Bi("ngb-popover-window",Eu,Ap,{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),Tp=Jn({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function Pp(e){return nr(2,[(e()(),Bl(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),Xl(null,0)],null,null)}function Lp(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,Pp,Tp)),rs(1,49152,null,0,Pu,[],null,null)],null,(function(e,t){e(t,0,0,"tooltip show"+(Ki(t,1).tooltipClass?" "+Ki(t,1).tooltipClass:""),Ki(t,1).id)}))}var Np=Bi("ngb-tooltip-window",Pu,Lp,{id:"id",tooltipClass:"tooltipClass"},{},["*"]),Rp=Jn({encapsulation:2,styles:[],data:{}});function Fp(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-highlight",[],null,null,null,$p,qp)),rs(1,573440,null,0,Nu,[],{result:[0,"result"],term:[1,"term"]},null)],(function(e,t){var n=t.context.formatter(t.context.result);e(t,1,0,n,t.context.term)}),null)}function Hp(e){return nr(0,[(e()(),Hl(0,null,null,0))],null,null)}function Bp(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"mouseenter"===t&&(i=!1!==s.markActive(e.context.index)&&i),"click"===t&&(i=!1!==s.select(e.context.$implicit)&&i),i}),null,null)),(e()(),Hl(16777216,null,null,2,null,Hp)),rs(2,540672,null,0,Io,[Nn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zl(3,{result:0,term:1,formatter:2})],(function(e,t){var n=t.component,i=e(t,3,0,t.context.$implicit,n.term,n.formatter);e(t,2,0,i,n.resultTemplate||Ki(t.parent,0))}),(function(e,t){var n=t.component;e(t,0,0,n.id+"-"+t.context.index,t.context.index===n.activeIdx)}))}function Vp(e){return nr(0,[(e()(),Hl(0,[["rt",2]],null,0,null,Fp)),(e()(),Hl(16777216,null,null,1,null,Bp)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.results)}),null)}function jp(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==n.preventDefault()&&i),i}),Vp,Rp)),rs(1,114688,null,0,Ru,[],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,Ki(t,1).id)}))}var zp=Bi("ngb-typeahead-window",Ru,jp,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),qp=Jn({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function Up(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(e()(),Ql(1,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.highlightClass),e(t,1,0,t.parent.context.$implicit)}))}function Wp(e){return nr(0,[(e()(),Ql(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit)}))}function Yp(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,Up)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Hl(0,[["even",2]],null,0,null,Wp))],(function(e,t){e(t,1,0,t.context.odd,Ki(t,2))}),null)}function $p(e){return nr(2,[(e()(),Hl(16777216,null,null,1,null,Yp)),rs(1,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.parts)}),null)}var Gp=Jn({encapsulation:2,styles:[],data:{}});function Xp(e){return nr(0,[],null,null)}function Kp(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,Xp,Gp)),rs(1,49152,null,0,gu,[],null,null)],null,(function(e,t){e(t,0,0,"modal-backdrop fade show"+(Ki(t,1).backdropClass?" "+Ki(t,1).backdropClass:""))}))}var Zp=Bi("ngb-modal-backdrop",gu,Kp,{backdropClass:"backdropClass"},{},[]),Jp=Jn({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function Qp(e){return nr(0,[Ul(402653184,1,{_dialogEl:0}),(e()(),Bl(1,0,[[1,0],["dialog",1]],null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(e()(),Bl(2,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),Xl(null,0)],null,(function(e,t){var n=t.component;e(t,1,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))}))}function em(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],null,null,Qp,Jp)),rs(1,4440064,null,0,wu,[wa,hn,Qs],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,"modal fade show d-block"+(Ki(t,1).windowClass?" "+Ki(t,1).windowClass:""),!0,Ki(t,1).ariaLabelledBy,Ki(t,1).ariaDescribedBy)}))}var tm=Bi("ngb-modal-window",wu,em,{ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]);function nm(e){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function im(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){im(e,t,n[t])}))}return e}function lm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,s=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(o){s=!0,l=o}finally{try{i||null==a.return||a.return()}finally{if(s)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rm={},am={};try{"undefined"!=typeof window&&(rm=window),"undefined"!=typeof document&&(am=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(qG){}var om=(rm.navigator||{}).userAgent,hm=void 0===om?"":om,cm=rm,dm=am,um=!!dm.documentElement&&!!dm.head&&"function"==typeof dm.addEventListener&&"function"==typeof dm.createElement,pm=(~hm.indexOf("MSIE")||hm.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),mm=pm.concat([11,12,13,14,15,16,17,18,19,20]),fm={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},gm=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",fm.GROUP,fm.SWAP_OPACITY,fm.PRIMARY,fm.SECONDARY].concat(pm.map((function(e){return"".concat(e,"x")}))).concat(mm.map((function(e){return"w-".concat(e)}))),cm.FontAwesomeConfig||{});dm&&"function"==typeof dm.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=lm(e,2),n=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=dm.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t[0]));null!=i&&(gm[n]=i)}));var bm=sm({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},gm);bm.autoReplaceSvg||(bm.observeMutations=!1);var vm=sm({},bm);cm.FontAwesomeConfig=vm;var ym=cm||{};ym.___FONT_AWESOME___||(ym.___FONT_AWESOME___={}),ym.___FONT_AWESOME___.styles||(ym.___FONT_AWESOME___.styles={}),ym.___FONT_AWESOME___.hooks||(ym.___FONT_AWESOME___.hooks={}),ym.___FONT_AWESOME___.shims||(ym.___FONT_AWESOME___.shims=[]);var wm=ym.___FONT_AWESOME___,Cm=[];um&&((dm.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(dm.readyState)||dm.addEventListener("DOMContentLoaded",(function e(){dm.removeEventListener("DOMContentLoaded",e),Cm.map((function(e){return e()}))})));var xm,_m=function(){},Sm="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,km="undefined"==typeof setImmediate?setTimeout:setImmediate,Em=[];function Om(){for(var e=0;e<Em.length;e++)Em[e][0](Em[e][1]);Em=[],xm=!1}function Im(e,t){Em.push([e,t]),xm||(xm=!0,km(Om,0))}function Dm(e){var t=e.owner,n=t._state,i=t._data,s=e[n],l=e.then;if("function"==typeof s){n="fulfilled";try{i=s(i)}catch(qG){Pm(l,qG)}}Am(l,i)||("fulfilled"===n&&Mm(l,i),"rejected"===n&&Pm(l,i))}function Am(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===nm(t))){var i=t.then;if("function"==typeof i)return i.call(t,(function(i){n||(n=!0,t===i?Tm(e,i):Mm(e,i))}),(function(t){n||(n=!0,Pm(e,t))})),!0}}catch(qG){return n||Pm(e,qG),!0}return!1}function Mm(e,t){e!==t&&Am(e,t)||Tm(e,t)}function Tm(e,t){"pending"===e._state&&(e._state="settled",e._data=t,Im(Nm,e))}function Pm(e,t){"pending"===e._state&&(e._state="settled",e._data=t,Im(Rm,e))}function Lm(e){e._then=e._then.forEach(Dm)}function Nm(e){e._state="fulfilled",Lm(e)}function Rm(e){e._state="rejected",Lm(e),!e._handled&&Sm&&global.process.emit("unhandledRejection",e._data,e)}function Fm(e){global.process.emit("rejectionHandled",e)}function Hm(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof Hm==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){Pm(t,e)}try{e((function(e){Mm(t,e)}),n)}catch(qG){n(qG)}}(e,this)}Hm.prototype={constructor:Hm,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(_m),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&Sm&&Im(Fm,this)),"fulfilled"===this._state||"rejected"===this._state?Im(Dm,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},Hm.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new Hm((function(t,n){var i=[],s=0;function l(e){return s++,function(n){i[e]=n,--s||t(i)}}for(var r,a=0;a<e.length;a++)(r=e[a])&&"function"==typeof r.then?r.then(l(a),n):i[a]=r;s||t(i)}))},Hm.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new Hm((function(t,n){for(var i,s=0;s<e.length;s++)(i=e[s])&&"function"==typeof i.then?i.then(t,n):t(i)}))},Hm.resolve=function(e){return e&&"object"===nm(e)&&e.constructor===Hm?e:new Hm((function(t){t(e)}))},Hm.reject=function(e){return new Hm((function(t,n){n(e)}))};var Bm={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Vm(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function jm(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zm(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function qm(e){return e.size!==Bm.size||e.x!==Bm.x||e.y!==Bm.y||e.rotate!==Bm.rotate||e.flipX||e.flipY}function Um(e){var t=e.transform,n=e.iconWidth,i={transform:"translate(".concat(e.containerWidth/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),l="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),r="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(l," ").concat(r)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var Wm={x:0,y:0,width:"100%",height:"100%"};function Ym(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function $m(e){var t=e.icons,n=t.main,i=t.mask,s=e.prefix,l=e.iconName,r=e.transform,a=e.symbol,o=e.title,h=e.maskId,c=e.titleId,d=e.extra,u=e.watchable,p=void 0!==u&&u,m=i.found?i:n,f=m.width,g=m.height,b="fa-w-".concat(Math.ceil(f/g*16)),v=[vm.replacementClass,l?"".concat(vm.familyPrefix,"-").concat(l):"",b].filter((function(e){return-1===d.classes.indexOf(e)})).concat(d.classes).join(" "),y={children:[],attributes:sm({},d.attributes,{"data-prefix":s,"data-icon":l,class:v,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(g)})};p&&(y.attributes["data-fa-i2svg"]=""),o&&y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(c||Vm())},children:[o]});var w=sm({},y,{prefix:s,iconName:l,main:n,mask:i,maskId:h,transform:r,symbol:a,styles:d.styles}),C=i.found&&n.found?function(e){var t,n=e.children,i=e.attributes,s=e.main,l=e.mask,r=e.maskId,a=s.icon,o=l.icon,h=Um({transform:e.transform,containerWidth:l.width,iconWidth:s.width}),c={tag:"rect",attributes:sm({},Wm,{fill:"white"})},d=a.children?{children:a.children.map(Ym)}:{},u={tag:"g",attributes:sm({},h.inner),children:[Ym(sm({tag:a.tag,attributes:sm({},a.attributes,h.path)},d))]},p={tag:"g",attributes:sm({},h.outer),children:[u]},m="mask-".concat(r||Vm()),f="clip-".concat(r||Vm()),g={tag:"mask",attributes:sm({},Wm,{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[c,p]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:f},children:(t=o,"g"===t.tag?t.children:[t])},g]};return n.push(b,{tag:"rect",attributes:sm({fill:"currentColor","clip-path":"url(#".concat(f,")"),mask:"url(#".concat(m,")")},Wm)}),{children:n,attributes:i}}(w):function(e){var t=e.children,n=e.attributes,i=e.main,s=e.transform,l=zm(e.styles);if(l.length>0&&(n.style=l),qm(s)){var r=Um({transform:s,containerWidth:i.width,iconWidth:i.width});t.push({tag:"g",attributes:sm({},r.outer),children:[{tag:"g",attributes:sm({},r.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:sm({},i.icon.attributes,r.path)}]}]})}else t.push(i.icon);return{children:t,attributes:n}}(w),x=C.attributes;return w.children=C.children,w.attributes=x,a?function(e){var t=e.iconName,n=e.children,i=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:sm({},e.attributes,{id:!0===i?"".concat(e.prefix,"-").concat(vm.familyPrefix,"-").concat(t):i}),children:n}]}]}(w):function(e){var t=e.children,n=e.main,i=e.mask,s=e.attributes,l=e.styles,r=e.transform;if(qm(r)&&n.found&&!i.found){var a={x:n.width/n.height/2,y:.5};s.style=zm(sm({},l,{"transform-origin":"".concat(a.x+r.x/16,"em ").concat(a.y+r.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}(w)}var Gm=function(e,t,n,i){var s,l,r,a=Object.keys(e),o=a.length,h=void 0!==i?function(e,t){return function(n,i,s,l){return e.call(t,n,i,s,l)}}(t,i):t;for(void 0===n?(s=1,r=e[a[0]]):(s=0,r=n);s<o;s++)r=h(r,e[l=a[s]],l,e);return r};function Xm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,s=void 0!==i&&i,l=Object.keys(t).reduce((function(e,n){var i=t[n];return i.icon?e[i.iconName]=i.icon:e[n]=i,e}),{});"function"!=typeof wm.hooks.addPack||s?wm.styles[e]=sm({},wm.styles[e]||{},l):wm.hooks.addPack(e,l),"fas"===e&&Xm("fa",t)}var Km=wm.styles,Zm=wm.shims,Jm=function(){var e=function(e){return Gm(Km,(function(t,n,i){return t[i]=Gm(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var i=t[2];return e[n]=n,i.forEach((function(t){e[t]=n})),e}));var t="far"in Km;Gm(Zm,(function(e,n){var i=n[1];return"far"!==i||t||(i="fas"),e[n[0]]={prefix:i,iconName:n[2]},e}),{})};function Qm(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function ef(e){var t=e.tag,n=e.attributes,i=void 0===n?{}:n,s=e.children,l=void 0===s?[]:s;return"string"==typeof e?jm(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(jm(e[n]),'" ')}),"").trim()}(i),">").concat(l.map(ef).join(""),"</").concat(t,">")}function tf(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Jm(),(tf.prototype=Object.create(Error.prototype)).constructor=tf;var nf={fill:"currentColor"},sf={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},lf=(sm({},nf,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),sm({},sf,{attributeName:"opacity"}));function rf(e){var t=e[0],n=e[1],i=lm(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(vm.familyPrefix,"-").concat(fm.GROUP)},children:[{tag:"path",attributes:{class:"".concat(vm.familyPrefix,"-").concat(fm.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(vm.familyPrefix,"-").concat(fm.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}function af(){vm.autoAddCss&&!uf&&(function(e){if(e&&um){var t=dm.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=dm.head.childNodes,i=null,s=n.length-1;s>-1;s--){var l=n[s],r=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(r)>-1&&(i=l)}dm.head.insertBefore(t,i)}}(function(){var e="svg-inline--fa",t=vm.familyPrefix,n=vm.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==t||n!==e){var s=new RegExp("\\.".concat("fa","\\-"),"g"),l=new RegExp("\\--".concat("fa","\\-"),"g"),r=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(r,".".concat(n))}return i}()),uf=!0)}function of(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return ef(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(um){var t=dm.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function hf(e){var t=e.prefix,n=void 0===t?"fa":t,i=e.iconName;if(i)return Qm(df.definitions,n,i)||Qm(wm.styles,n,i)}sm({},nf,{cx:"256",cy:"364",r:"28"}),sm({},sf,{attributeName:"r",values:"28;14;28;28;14;28;"}),sm({},lf,{values:"1;0;1;1;0;1;"}),sm({},nf,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),sm({},lf,{values:"1;0;0;0;0;1;"}),sm({},nf,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),sm({},lf,{values:"0;0;1;1;0;0;"});var cf,df=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t;return(t=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach((function(t){e.definitions[t]=sm({},e.definitions[t]||{},s[t]),Xm(t,s[t]),Jm()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var i=n[t],s=i.prefix,l=i.iconName,r=i.icon;e[s]||(e[s]={}),e[s][l]=r})),e}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}()),uf=!1,pf=(cf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?Bm:n,s=t.symbol,l=void 0!==s&&s,r=t.mask,a=void 0===r?null:r,o=t.maskId,h=void 0===o?null:o,c=t.title,d=void 0===c?null:c,u=t.titleId,p=void 0===u?null:u,m=t.classes,f=void 0===m?[]:m,g=t.attributes,b=void 0===g?{}:g,v=t.styles,y=void 0===v?{}:v;if(e){var w=e.prefix,C=e.iconName,x=e.icon;return of(sm({type:"icon"},e),(function(){return af(),vm.autoA11y&&(d?b["aria-labelledby"]="".concat(vm.replacementClass,"-title-").concat(p||Vm()):(b["aria-hidden"]="true",b.focusable="false")),$m({icons:{main:rf(x),mask:a?rf(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:C,transform:sm({},Bm,i),symbol:l,title:d,maskId:h,titleId:p,extra:{attributes:b,styles:y,classes:f}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:hf(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:hf(i||{})),cf(n,sm({},t,{mask:i}))});let mf=(()=>{let e=class{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}};return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),ff=(()=>{let e=class{constructor(){this.definitions={}}addIcons(...e){for(const t of e)t.prefix in this.definitions||(this.definitions[t.prefix]={}),this.definitions[t.prefix][t.iconName]=t}addIconPacks(...e){for(const t of e){const e=Object.keys(t).map(e=>t[e]);this.addIcons(...e)}}getIconDefinition(e,t){return e in this.definitions&&t in this.definitions[e]?this.definitions[e][t]:null}};return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})();const gf=e=>{const t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-inverse":e.inverse,"fa-layers-counter":e.counter,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip,[`fa-${e.size}`]:null!==e.size,[`fa-rotate-${e.rotate}`]:null!==e.rotate,[`fa-pull-${e.pull}`]:null!==e.pull,[`fa-stack-${e.stackItemSize}`]:null!=e.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let bf=class{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}},vf=class{constructor(e,t,n,i){this.sanitizer=e,this.config=t,this.iconLibrary=n,this.stackItem=i,this.classes=[]}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let t=null;if(t=null==this.icon?this.config.fallbackIcon:this.icon,e){const e=this.findIconDefinition(t);if(null!=e){const t=this.buildParams();this.renderIcon(e,t)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const t=((e,t)=>{return void 0!==(n=e).prefix&&void 0!==n.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:t,iconName:e}:void 0;var n})(e,this.config.defaultPrefix);if("icon"in t)return t;const n=this.iconLibrary.getIconDefinition(t.prefix,t.iconName);if(null!=n)return n;const i=hf(t);if(null!=i){const e="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+e);else if(!this.config.globalLibrary)throw new Error(e);return i}return(e=>{throw new Error(`Could not find icon with iconName=${e.iconName} and prefix=${e.prefix} in the icon library.`)})(t),null}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},t="string"==typeof this.transform?function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),i=n[0],s=n.slice(1).join("-");if(i&&"h"===s)return e.flipX=!0,e;if(i&&"v"===s)return e.flipY=!0,e;if(s=parseFloat(s),isNaN(s))return e;switch(i){case"grow":e.size=e.size+s;break;case"shrink":e.size=e.size-s;break;case"left":e.x=e.x-s;break;case"right":e.x=e.x+s;break;case"up":e.y=e.y-s;break;case"down":e.y=e.y+s;break;case"rotate":e.rotate=e.rotate+s}return e}),t):t}(this.transform):this.transform;return{title:this.title,transform:t,classes:[...gf(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,t){const n=pf(e,t);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}},yf=class extends vf{findIconDefinition(e){const t=super.findIconDefinition(e);if(null!=t&&"fad"!==t.prefix)throw new Error("The specified icon does not appear to be a Duotone icon. Check that you specified the correct style: "+`<fa-duotone-icon [icon]="['fab', '${t.iconName}']"></fa-duotone-icon> `+`or use: <fa-icon icon="${t.iconName}"></fa-icon> instead.`);return t}buildParams(){const e=super.buildParams();return!0!==this.swapOpacity&&"true"!==this.swapOpacity||e.classes.push("fa-swap-opacity"),null!=this.primaryOpacity&&(e.styles["--fa-primary-opacity"]=this.primaryOpacity.toString()),null!=this.secondaryOpacity&&(e.styles["--fa-secondary-opacity"]=this.secondaryOpacity.toString()),null!=this.primaryColor&&(e.styles["--fa-primary-color"]=this.primaryColor),null!=this.secondaryColor&&(e.styles["--fa-secondary-color"]=this.secondaryColor),e}},wf=class{};class Cf extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Cf,va||(va=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=_f||(_f=document.querySelector("base"),_f)?_f.getAttribute("href"):null;return null==t?null:(n=t,xf||(xf=document.createElement("a")),xf.setAttribute("href",n),"/"===xf.pathname.charAt(0)?xf.pathname:"/"+xf.pathname);var n}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return bo(document.cookie,e)}}let xf,_f=null;const Sf=new xe("TRANSITION_ID"),kf=[{provide:Ps,useFactory:function(e,t,n){return()=>{n.get(Ls).donePromise.then(()=>{const n=ya();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Sf,wa,Lt],multi:!0}];class Ef{static init(){!function(e){dl=e}(new Ef)}addToWindow(e){Ce.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ce.getAllAngularRootElements=()=>e.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(e=>{const t=Ce.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach((function(e){e.whenStable(s)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?ya().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}function Of(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ce.ng=Ce.ng||{})[e]=t)}const If=(()=>({ApplicationRef:vl,NgZone:Qs}))();function Df(e){return Dl(e)}const Af=new xe("EventManagerPlugins");class Mf{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class Tf{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=ya().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}class Pf{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Lf extends Pf{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>ya().remove(e))}}const Nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rf=/%COMP%/g;function Ff(e,t,n){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Ff(e,s,n):(s=s.replace(Rf,e),n.push(s))}return n}function Hf(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Bf{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Vf(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case He.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new jf(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case He.Native:case He.ShadowDom:return new zf(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Ff(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Vf{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Nf[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const s=Nf[i];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=Nf[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&un.DashCase?e.style.setProperty(t,n,i&un.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&un.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Hf(n)):this.eventManager.addEventListener(e,t,Hf(n))}}class jf extends Vf{constructor(e,t,n,i){super(e),this.component=n;const s=Ff(i+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Rf,i+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Rf,e)}(i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class zf extends Vf{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===He.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ff(i.id,i.styles,[]);for(let l=0;l<s.length;l++){const e=document.createElement("style");e.textContent=s[l],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}class qf extends Tf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}const Uf={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Wf=new xe("HammerGestureConfig"),Yf=new xe("HammerLoader");class $f{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class Gf extends Tf{constructor(e,t,n,i){super(e),this._config=t,this.console=n,this.loader=i}supports(e){return!(!Uf.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let i=!1,s=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=()=>{});i||(s=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),s=()=>{}}),()=>{s()}}return i.runOutsideAngular(()=>{const s=this._config.buildHammer(e),l=function(e){i.runGuarded((function(){n(e)}))};return s.on(t,l),()=>{s.off(t,l),"function"==typeof s.destroy&&s.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const Xf=["alt","control","meta","shift"],Kf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zf={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jf={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class Qf extends Tf{constructor(e){super(e)}supports(e){return null!=Qf.parseEventName(e)}addEventListener(e,t,n){const i=Qf.parseEventName(t),s=Qf.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ya().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const i=Qf._normalizeKey(t.pop());let s="";if(Xf.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),s+=e+".")}),s+=i,0!=t.length||0===i.length)return null;const l={};return l.domEventName=n,l.fullKey=s,l}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Zf.hasOwnProperty(t)&&(t=Zf[t]))}return Kf[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Xf.forEach(i=>{i!=n&&(0,Jf[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(e,t,n){return i=>{Qf.getEventFullKey(i)===e&&n.runGuarded(()=>t(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}let eg=(()=>{class e{}return e.\u0275prov=oe({factory:function(){return De(tg)},token:e,providedIn:"root"}),e})(),tg=(()=>{class e extends eg{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case St.NONE:return t;case St.HTML:return Je(t,"HTML")?Ze(t):function(e,t){let n=null;try{xt=xt||new it(e);let i=t?String(t):"";n=xt.getInertBodyElement(i);let s=5,l=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=l,l=n.innerHTML,n=xt.getInertBodyElement(i)}while(i!==l);const r=new vt,a=r.sanitizeChildren(_t(n)||n);return nt()&&r.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=_t(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t));case St.STYLE:return Je(t,"Style")?Ze(t):function(e){if(!(e=String(e).trim()))return"";const t=e.match(Et);return t&&rt(t[1])===t[1]||e.match(kt)&&function(e){let t=!0,n=!0;for(let i=0;i<e.length;i++){const s=e.charAt(i);"'"===s&&n?t=!t:'"'===s&&t&&(n=!n)}return t&&n}(e)?e:(nt()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t);case St.SCRIPT:if(Je(t,"Script"))return Ze(t);throw new Error("unsafe value used in a script context");case St.URL:return Qe(t),Je(t,"URL")?Ze(t):rt(String(t));case St.RESOURCE_URL:if(Je(t,"ResourceURL"))return Ze(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new Ye(e)}bypassSecurityTrustStyle(e){return new $e(e)}bypassSecurityTrustScript(e){return new Ge(e)}bypassSecurityTrustUrl(e){return new Xe(e)}bypassSecurityTrustResourceUrl(e){return new Ke(e)}}return e.\u0275prov=oe({factory:function(){return e=De(_e),new tg(e.get(wa));var e},token:e,providedIn:"root"}),e})();function ng(){return new Ue}const ig=ml(Tl,"browser",[{provide:Bs,useValue:"browser"},{provide:Hs,useValue:function(){Cf.makeCurrent(),Ef.init()},multi:!0},{provide:wa,useFactory:function(){return function(e){Be=e}(document),document},deps:[]}]);class sg{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:sg,providers:[{provide:Ns,useValue:e.appId},{provide:Sf,useExisting:Ns},kf]}}}"undefined"!=typeof window&&window;var lg=Jn({encapsulation:2,styles:[],data:{}});function rg(e){return nr(0,[],null,null)}function ag(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,rg,lg)),rs(1,573440,null,0,vf,[eg,mf,ff,[2,bf]],null,null)],null,(function(e,t){e(t,0,0,Ki(t,1).title,Ki(t,1).renderedIconHTML)}))}var og=Bi("fa-icon",vf,ag,{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},{},[]),hg=Jn({encapsulation:2,styles:[],data:{}});function cg(e){return nr(0,[],null,null)}function dg(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"fa-duotone-icon",[],[[8,"innerHTML",1]],null,null,cg,hg)),rs(1,573440,null,0,yf,[eg,mf,ff,[2,bf]],null,null)],null,(function(e,t){e(t,0,0,Ki(t,1).renderedIconHTML)}))}var ug=Bi("fa-duotone-icon",yf,dg,{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole",swapOpacity:"swapOpacity",primaryOpacity:"primaryOpacity",secondaryOpacity:"secondaryOpacity",primaryColor:"primaryColor",secondaryColor:"secondaryColor"},{},[]);function pg(e){return null!=e&&"false"!==`${e}`}function mg(e){return Array.isArray(e)?e:[e]}function fg(e){return null==e?"":"string"==typeof e?e:`${e}px`}function gg(e){return e instanceof hn?e.nativeElement:e}class bg extends Wc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class vg extends $c{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,n){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw n}}}const yg=new vg(bg);class wg{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Cg(e,this.durationSelector))}}class Cg extends R{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=N(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function xg(e,t=Gc){return n=()=>function(e=0,t,n){let i=-1;return Xc(t)?i=Number(t)<1?1:Number(t):O(t)&&(n=t),O(n)||(n=Gc),new w(t=>{const s=Xc(e)?e:+e-n.now();return n.schedule(Kc,s,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new wg(n))};var n}class _g extends Wc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}class Sg extends $c{}const kg=new Sg(_g);class Eg{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new Og(e,this.scheduler,this.delay))}}class Og extends m{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Og.dispatch,this.delay,new Ig(e,this.destination)))}_next(e){this.scheduleMessage(Sd.createNext(e))}_error(e){this.scheduleMessage(Sd.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Sd.createComplete()),this.unsubscribe()}}class Ig{constructor(e,t){this.notification=e,this.destination=t}}class Dg extends k{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new Ag(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;let l;if(this.closed)throw new x;if(this.isStopped||this.hasError?l=d.EMPTY:(this.observers.push(e),l=new _(this,e)),i&&e.add(e=new Og(e,i)),t)for(let r=0;r<s&&!e.closed;r++)e.next(n[r]);else for(let r=0;r<s&&!e.closed;r++)e.next(n[r].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l}_getNow(){return(this.scheduler||kg).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,s=i.length;let l=0;for(;l<s&&!(e-i[l].time<n);)l++;return s>t&&(l=Math.max(l,s-t)),l>0&&i.splice(0,l),i}}class Ag{constructor(e,t){this.time=e,this.value=t}}let Mg;try{Mg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(UG){Mg=!1}let Tg,Pg=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Fo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275prov=oe({factory:function(){return new e(De(Bs,8))},token:e,providedIn:"root"}),e})();class Lg{}const Ng=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Rg(){if(Tg)return Tg;if("object"!=typeof document||!document)return Tg=new Set(Ng),Tg;let e=document.createElement("input");return Tg=new Set(Ng.filter(t=>(e.setAttribute("type",t),e.type===t))),Tg}let Fg,Hg;function Bg(e){return function(){if(null==Fg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fg=!0}))}finally{Fg=Fg||!1}return Fg}()?e:!!e.capture}let Vg=(()=>{class e{constructor(){this._listeners=[]}notify(e,t){for(let n of this._listeners)n(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}}return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),jg=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new w(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(xg(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):pa()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(fa(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,e)&&t.push(i)}),t}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(e,t){let n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Jc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275prov=oe({factory:function(){return new e(De(Qs),De(Pg),De(wa,8))},token:e,providedIn:"root"}),e})(),zg=(()=>{class e{constructor(e,t,n){this._platform=e,this._document=n,t.runOutsideAngular(()=>{const t=this._getWindow();this._change=e.isBrowser?$(Jc(t,"resize"),Jc(t,"orientationchange")):pa(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._getDocument(),t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(xg(e)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275prov=oe({factory:function(){return new e(De(Pg),De(Qs),De(wa,8))},token:e,providedIn:"root"}),e})();class qg{}class Ug{}function Wg(){throw Error("Host already has a portal attached")}class Yg{attach(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&Wg(),this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class $g extends Yg{constructor(e,t,n,i){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=i}}class Gg extends Yg{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Xg extends Yg{constructor(e){super(),this.element=e instanceof hn?e.nativeElement:e}}class Kg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Wg(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof $g?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Gg?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Xg?(this._attachedPortal=e,this.attachDomPortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Zg extends Kg{constructor(e,t,n,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=e=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=s}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.detectChanges(),n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Jg extends Kg{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new As,this.attachDomPortal=e=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}class Qg{}class eb{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=fg(-this._previousScrollPosition.left),e.style.top=fg(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",s=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=i,n.scrollBehavior=s}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}function tb(){return Error("Scroll strategy has already been attached.")}class nb{constructor(e,t,n,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){if(this._overlayRef)throw tb();this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ib{enable(){}disable(){}attach(){}}function sb(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function lb(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class rb{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){if(this._overlayRef)throw tb();this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();sb(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ab=(()=>{class e{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new ib,this.close=e=>new nb(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new eb(this._viewportRuler,this._document),this.reposition=e=>new rb(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=i}}return e.\u0275prov=oe({factory:function(){return new e(De(jg),De(zg),De(Qs),De(wa))},token:e,providedIn:"root"}),e})();class ob{constructor(e){if(this.scrollStrategy=new ib,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class hb{constructor(e,t,n,i,s){this.offsetX=n,this.offsetY=i,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class cb{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}function db(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". `+'Expected "top", "bottom" or "center".')}function ub(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". `+'Expected "start", "end" or "center".')}let pb=(()=>{class e{constructor(e){this._attachedOverlays=[],this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}},this._document=e}ngOnDestroy(){this._detach()}add(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275prov=oe({factory:function(){return new e(De(wa))},token:e,providedIn:"root"}),e})();const mb=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let fb=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||mb){const e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),mb?t.setAttribute("platform","test"):e||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275prov=oe({factory:function(){return new e(De(wa),De(Pg))},token:e,providedIn:"root"}),e})();class gb{constructor(e,t,n,i,s,l,r,a){this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=s,this._keyboardDispatcher=l,this._document=r,this._location=a,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=d.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new k,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(pd(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=fg(this._config.width),e.height=fg(this._config.height),e.minWidth=fg(this._config.minWidth),e.minHeight=fg(this._config.minHeight),e.maxWidth=fg(this._config.maxWidth),e.maxHeight=fg(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const i=e.classList;mg(t).forEach(e=>{e&&(n?i.add(e):i.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.asObservable().pipe(ad($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const bb=/([A-Za-z%]+)$/;class vb{constructor(e,t,n,i,s){this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,i=[];let s;for(let l of this._preferredPositions){let r=this._getOriginPoint(e,l),a=this._getOverlayPoint(r,t,l),o=this._getOverlayFit(a,t,n,l);if(o.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,r);this._canFitWithFlexibleDimensions(o,a,n)?i.push({position:l,origin:r,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(r,l)}):(!s||s.overlayFit.visibleArea<o.visibleArea)&&(s={overlayFit:o,overlayPoint:a,originPoint:r,position:l,overlayRect:t})}if(i.length){let e=null,t=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>t&&(t=i,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,i;if("center"==t.originX)n=e.left+e.width/2;else{const i=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;n="start"==t.originX?i:s}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:i}}_getOverlayPoint(e,t,n){let i,s;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,n,i){let{x:s,y:l}=e,r=this._getOffset(i,"x"),a=this._getOffset(i,"y");r&&(s+=r),a&&(l+=a);let o=0-l,h=l+t.height-n.height,c=this._subtractOverflows(t.width,0-s,s+t.width-n.width),d=this._subtractOverflows(t.height,o,h),u=c*d;return{visibleArea:u,isCompletelyWithinViewport:t.width*t.height===u,fitsInViewportVertically:d===t.height,fitsInViewportHorizontally:c==t.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const i=n.bottom-t.y,s=n.right-t.x,l=wb(this._overlayRef.getConfig().minHeight),r=wb(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=r&&r<=s;return(e.fitsInViewportVertically||null!=l&&l<=i)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=this._viewportRect,s=Math.max(e.x+t.width-i.right,0),l=Math.max(e.y+t.height-i.bottom,0),r=Math.max(i.top-n.top-e.y,0),a=Math.max(i.left-n.left-e.x,0);let o=0,h=0;return o=t.width<=i.width?a||-s:e.x<this._viewportMargin?i.left-n.left-e.x:0,h=t.height<=i.height?r||-l:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:o,y:h},{x:e.x+o,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new cb(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,i=this._isRtl();let s,l,r,a,o,h;if("top"===t.overlayY)l=e.y,s=n.height-l+this._viewportMargin;else if("bottom"===t.overlayY)r=n.height-e.y+2*this._viewportMargin,s=n.height-r+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),i=this._lastBoundingBoxSize.height;s=2*t,l=e.y-t,s>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-i/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)o=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),i=this._lastBoundingBoxSize.width;a=2*t,o=e.x-t,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.x-i/2)}return{top:l,left:o,bottom:r,right:h,width:a,height:s}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=fg(n.height),i.top=fg(n.top),i.bottom=fg(n.bottom),i.width=fg(n.width),i.left=fg(n.left),i.right=fg(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(i.maxHeight=fg(e)),s&&(i.maxWidth=fg(s))}this._lastBoundingBoxSize=n,yb(this._boundingBox.style,i)}_resetBoundingBoxStyles(){yb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();yb(n,this._getExactOverlayY(t,e,i)),yb(n,this._getExactOverlayX(t,e,i))}else n.position="static";let r="",a=this._getOffset(t,"x"),o=this._getOffset(t,"y");a&&(r+=`translateX(${a}px) `),o&&(r+=`translateY(${o}px)`),n.transform=r.trim(),l.maxHeight&&(i?n.maxHeight=fg(l.maxHeight):s&&(n.maxHeight="")),l.maxWidth&&(i?n.maxWidth=fg(l.maxWidth):s&&(n.maxWidth="")),yb(this._pane.style,n)}_getExactOverlayY(e,t,n){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n));let l=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=l,"bottom"===e.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)}px`:i.top=fg(s.y),i}_getExactOverlayX(e,t,n){let i,s={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,n)),i=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===i?s.right=`${this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)}px`:s.left=fg(l.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lb(e,n),isOriginOutsideView:sb(e,n),isOverlayClipped:lb(t,n),isOverlayOutsideView:sb(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(e=>{ub("originX",e.originX),db("originY",e.originY),ub("overlayX",e.overlayX),db("overlayY",e.overlayY)})}_addPanelClasses(e){this._pane&&mg(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof hn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function yb(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function wb(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(bb);return n&&"px"!==n?null:parseFloat(t)}return e||null}class Cb{constructor(e,t,n,i,s,l,r){this._preferredPositions=[],this._positionStrategy=new vb(n,i,s,l,r).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,i){const s=new hb(e,t,n,i);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class xb{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:l,maxHeight:r}=n,a=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),o=!("100%"!==s&&"100vh"!==s||r&&"100%"!==r&&"100vh"!==r);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=o?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=o?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let _b=(()=>{class e{constructor(e,t,n,i){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=i}global(){return new xb}connectedTo(e,t,n){return new Cb(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new vb(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275prov=oe({factory:function(){return new e(De(zg),De(wa),De(Pg),De(fb))},token:e,providedIn:"root"}),e})(),Sb=0;class kb{constructor(e,t,n,i,s,l,r,a,o,h){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=s,this._injector=l,this._ngZone=r,this._document=a,this._directionality=o,this._location=h}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),s=new ob(e);return s.direction=s.direction||this._directionality.value,new gb(i,t,n,s,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id=`cdk-overlay-${Sb++}`,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(vl)),new Zg(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}const Eb=new xe("cdk-connected-overlay-scroll-strategy");function Ob(e){return()=>e.scrollStrategies.reposition()}class Ib{}const Db=new xe("cdk-dir-doc",{providedIn:"root",factory:function(){return Ae(wa)}});let Ab=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new As,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275prov=oe({factory:function(){return new e(De(Db,8))},token:e,providedIn:"root"}),e})();class Mb{}function Tb(e){return new w(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?j(n):ud()).subscribe(t)})}class Pb{}function Lb(e,t=null){return{type:2,steps:e,options:t}}function Nb(e){return{type:6,styles:e,offset:null}}function Rb(e){Promise.resolve(null).then(e)}class Fb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Rb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Hb{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const s=this.players.length;0==s?Rb(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==s&&this._onFinish()}),e.onDestroy(()=>{++n==s&&this._onDestroy()}),e.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Bb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}function Vb(){throw Error("Attempting to attach dialog content after content is already attached")}class jb extends Kg{constructor(e,t,n,i,s){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=s,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new As,this.attachDomPortal=e=>(this._portalOutlet.hasAttached()&&Vb(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&Vb(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&Vb(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||e.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}let zb=0;class qb{constructor(e,t,n=`mat-dialog-${zb++}`){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new k,this._afterClosed=new k,this._beforeClosed=new k,this._state=0,t._id=n,t._animationStateChanged.pipe(fa(e=>"done"===e.phaseName&&"enter"===e.toState),pd(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(fa(e=>"done"===e.phaseName&&"exit"===e.toState),pd(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(fa(e=>27===e.keyCode&&!this.disableClose&&!function(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(e))).subscribe(e=>{e.preventDefault(),this.close()}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(fa(e=>"start"===e.phaseName),pd(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const Ub=new xe("MatDialogData"),Wb=new xe("mat-dialog-default-options"),Yb=new xe("mat-dialog-scroll-strategy");function $b(e){return()=>e.scrollStrategies.block()}class Gb{constructor(e,t,n,i,s,l,r){this._overlay=e,this._injector=t,this._defaultOptions=i,this._parentDialog=l,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k,this._afterOpenedAtThisLevel=new k,this._ariaHiddenElements=new Map,this.afterAllClosed=Tb(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(td(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new Bb)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(t),i=this._attachDialogContainer(n,t),s=this._attachDialogContent(e,i,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new ob({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=Lt.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Bb,useValue:t}]}),i=new $g(jb,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}_attachDialogContent(e,t,n,i){const s=new qb(n,t,i.id);if(e instanceof Pn)t.attachTemplatePortal(new Gg(e,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,t),l=t.attachComponentPortal(new $g(e,i.viewContainerRef,n));s.componentInstance=l.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:jb,useValue:n},{provide:Ub,useValue:e.data},{provide:qb,useValue:t}];return!e.direction||i&&i.get(Ab,null)||s.push({provide:Ab,useValue:{value:e.direction,change:pa()}}),Lt.create({parent:i||this._injector,providers:s})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}let Xb=0;class Kb{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=ev(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}}class Zb{constructor(e,t,n){this._dialogRef=e,this._elementRef=t,this._dialog=n,this.id=`mat-dialog-title-${Xb++}`}ngOnInit(){this._dialogRef||(this._dialogRef=ev(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}class Jb{}class Qb{}function ev(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(e=>e.id===n.id):null}class tv{}class nv{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new iv(e,this.dueTime,this.scheduler))}}class iv extends m{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(sv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function sv(e){e.debouncedNext()}let lv=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(UG){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){const e=t&&t.nodeName.toLowerCase();if(-1===av(t))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===e)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(t))return!1}let i=e.nodeName.toLowerCase(),s=av(e);if(e.hasAttribute("contenteditable"))return-1!==s;if("iframe"===i)return!1;if("audio"===i){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0}isFocusable(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||rv(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)}}return e.\u0275prov=oe({factory:function(){return new e(De(Pg))},token:e,providedIn:"root"}),e})();function rv(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function av(e){if(!rv(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class ov{constructor(e,t,n,i,s=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], `+`[cdkFocusRegion${e}], `+`[cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', `+`use 'cdkFocusRegion${e}' instead. The deprecated `+"attribute will be removed in 8.0.0.",t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', `+`use 'cdkFocusRegion${e}' instead. The deprecated attribute `+"will be removed in 8.0.0.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),nt()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(pd(1)).subscribe(e)}}let hv=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new ov(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275prov=oe({factory:function(){return new e(De(lv),De(Qs),De(wa))},token:e,providedIn:"root"}),e})();class cv{constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=pg(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=pg(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}"undefined"!=typeof Element&&Element;const dv=new xe("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),uv=new xe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pv=(()=>{class e{constructor(e,t,n,i){this._ngZone=t,this._defaultOptions=i,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let i,s;return 1===t.length&&"number"==typeof t[0]?s=t[0]:[i,s]=t,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==s&&n&&(s=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div");for(let n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}return e.\u0275prov=oe({factory:function(){return new e(De(dv,8),De(Qs),De(wa),De(uv,8))},token:e,providedIn:"root"}),e})();class mv{constructor(e,t,n,i){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=n,this._ngZone=i,this._politeness="off"}get politeness(){return this._politeness}set politeness(e){this._politeness="polite"===e||"assertive"===e?e:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const e=this._elementRef.nativeElement.textContent;e!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(e,this._politeness),this._previousAnnouncedText=e)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}function fv(e){return 0===e.buttons}const gv=new xe("cdk-focus-monitor-default-options"),bv=Bg({passive:!0,capture:!0});let vv=(()=>{class e{constructor(e,t,n,i){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=fv(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=yv(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=yv(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let i=t;i;i=i.parentElement)n.call(this,e,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(e,t=!1){if(!this._platform.isBrowser)return pa(null);const n=gg(e),i=function(e){if(function(){if(null==Hg){const e="undefined"!=typeof document?document.head:null;Hg=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Hg}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),s=this._elementInfo.get(n);if(s)return t&&(s.checkChildren=!0),s.subject.asObservable();const l={checkChildren:t,subject:new k,rootNode:i};return this._elementInfo.set(n,l),this._registerGlobalListeners(l),l.subject.asObservable()}stopMonitoring(e){const t=gg(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const i=gg(e);this._setOriginForCurrentEventQueue(t),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=yv(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);if(!n||!n.checkChildren&&t!==yv(e))return;const i=this._getFocusOrigin(e);this._setClasses(t,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,bv),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,bv)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,bv),e.addEventListener("mousedown",this._documentMousedownListener,bv),e.addEventListener("touchstart",this._documentTouchstartListener,bv),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bv),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bv),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,bv),e.removeEventListener("mousedown",this._documentMousedownListener,bv),e.removeEventListener("touchstart",this._documentTouchstartListener,bv),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return e.\u0275prov=oe({factory:function(){return new e(De(Qs),De(Pg),De(wa,8),De(gv,8))},token:e,providedIn:"root"}),e})();function yv(e){return e.composedPath?e.composedPath()[0]:e.target}class wv{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new As,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}let Cv=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");const t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}return e.\u0275prov=oe({factory:function(){return new e(De(Pg),De(wa))},token:e,providedIn:"root"}),e})();class xv{constructor(e){e._applyBodyHighContrastModeCssClasses()}}const _v=new gn("9.2.4"),Sv=new gn("9.2.4"),kv=new xe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class Ev{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const e=this._document||document;return"object"==typeof e&&e?e:null}_getWindow(){const e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return nt()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){const e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(e||!t||!t.body||"function"!=typeof getComputedStyle)return;const n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Sv.full!==_v.full&&console.warn("The Angular Material version ("+Sv.full+") does not match the Angular CDK version ("+_v.full+").\nPlease ensure the versions of these two packages exactly match.")}}function Ov(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=pg(e)}}}function Iv(e,t){return class extends e{constructor(...e){super(...e),this.color=t}get color(){return this._color}set color(e){const n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function Dv(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=pg(e)}}}function Av(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:t}}}function Mv(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new k}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}const Tv=new xe("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Ae(zs)}});class Pv{constructor(){this._localeChanges=new k}get localeChanges(){return this._localeChanges}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),i=this.isValid(t);return n&&i?!this.compareDate(e,t):n==i}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const Lv=new xe("mat-date-formats");let Nv;try{Nv="undefined"!=typeof Intl}catch(UG){Nv=!1}const Rv={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Fv=Vv(31,e=>String(e+1)),Hv={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Bv=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Vv(e,t){const n=Array(e);for(let i=0;i<e;i++)n[i]=t(i);return n}class jv extends Pv{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(Nv){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Vv(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return Rv[e]}getDateNames(){if(Nv){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Vv(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Fv}getDayOfWeekNames(e){if(Nv){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Vv(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return Hv[e]}getYearName(e){if(Nv){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){if(t<0||t>11)throw Error(`Invalid month index "${t}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let i=this._createDateWithOverflow(e,t,n);if(i.getMonth()!=t)throw Error(`Invalid date "${n}" for month with index "${t}".`);return i}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Nv){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Bv.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const i=new Date(e,t,n);return e>=0&&e<100&&i.setFullYear(this.getYear(i)-1900),i}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(n)}}const zv={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class qv{}class Uv{}let Wv=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Yv{}class $v{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Gv={enterDuration:450,exitDuration:400},Xv=Bg({passive:!0}),Kv=["mousedown","touchstart"],Zv=["mouseup","mouseleave","touchend","touchcancel"];class Jv{constructor(e,t,n,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=gg(n))}fadeInRipple(e,t,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},Gv),n.animation);n.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=n.radius||function(e,t,n){const i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),s=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+s*s)}(e,t,i),r=e-i.left,a=t-i.top,o=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${r-l}px`,h.style.top=`${a-l}px`,h.style.height=`${2*l}px`,h.style.width=`${2*l}px`,null!=n.color&&(h.style.backgroundColor=n.color),h.style.transitionDuration=`${o}ms`,this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";const c=new $v(this,h,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const e=c===this._mostRecentTransientRipple;c.state=1,n.persistent||e&&this._isPointerDown||c.fadeOut()},o),c}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,i=Object.assign(Object.assign({},Gv),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setupTriggerEvents(e){const t=gg(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Kv))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Zv),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=fv(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,Xv)})})}_removeTriggerEvents(){this._triggerElement&&(Kv.forEach(e=>{this._triggerElement.removeEventListener(e,this,Xv)}),this._pointerUpEventsRegistered&&Zv.forEach(e=>{this._triggerElement.removeEventListener(e,this,Xv)}))}}const Qv=new xe("mat-ripple-global-options");class ey{constructor(e,t,n,i,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Jv(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}class ty{}class ny{}const iy=new xe("mat-label-global-options");var sy=Jn({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function ly(e){return nr(0,[(e()(),Hl(0,null,null,0))],null,null)}function ry(e){return nr(0,[Ul(402653184,1,{_portalOutlet:0}),(e()(),Hl(16777216,null,null,1,null,ly)),rs(2,212992,[[1,4]],0,Jg,[ln,Nn,wa],{portal:[0,"portal"]},null)],(function(e,t){e(t,2,0,"")}),null)}function ay(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],(function(e,t,n){var i=!0;return"component:@dialogContainer.start"===t&&(i=!1!==Ki(e,1)._onAnimationStart(n)&&i),"component:@dialogContainer.done"===t&&(i=!1!==Ki(e,1)._onAnimationDone(n)&&i),i}),ry,sy)),rs(1,49152,null,0,jb,[hn,hv,At,[2,wa],Bb],null,null)],null,(function(e,t){e(t,0,0,Ki(t,1)._id,Ki(t,1)._config.role,Ki(t,1)._config.ariaLabel?null:Ki(t,1)._ariaLabelledBy,Ki(t,1)._config.ariaLabel,Ki(t,1)._config.ariaDescribedBy||null,Ki(t,1)._state)}))}var oy=Bi("mat-dialog-container",jb,ay,{},{},[]);const hy=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function cy(e){return function(t){return 0===e?ud():t.lift(new dy(e))}}class dy{constructor(e){if(this.total=e,this.total<0)throw new cd}call(e,t){return t.subscribe(new uy(e,this.total))}}class uy extends m{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<n;s++){const s=t++%n;e.next(i[s])}}e.complete()}}function py(e=gy){return t=>t.lift(new my(e))}class my{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new fy(e,this.errorFactory))}}class fy extends m{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(qG){e=qG}this.destination.error(e)}}}function gy(){return new hy}function by(e=null){return t=>t.lift(new vy(e))}class vy{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new yy(e,this.defaultValue))}}class yy extends m{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function wy(e,t){const n=arguments.length>=2;return i=>i.pipe(e?fa((t,n)=>e(t,n,i)):b,cy(1),n?by(t):py(()=>new hy))}function Cy(e){return function(t){const n=new xy(e),i=t.lift(n);return n.caught=i}}class xy{constructor(e){this.selector=e}call(e,t){return t.subscribe(new _y(e,this.selector,this.caught))}}class _y extends R{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new I(this,void 0,void 0);this.add(i);const s=N(this,n,void 0,void 0,i);s!==i&&this.add(s)}}}function Sy(e,t){const n=arguments.length>=2;return i=>i.pipe(e?fa((t,n)=>e(t,n,i)):b,pd(1),n?by(t):py(()=>new hy))}class ky{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new Ey(e,this.predicate,this.thisArg,this.source))}}class Ey extends m{constructor(e,t,n,i){super(e),this.predicate=t,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Oy(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Iy(e,t,n))}}class Iy{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Dy(e,this.accumulator,this.seed,this.hasSeed))}}class Dy extends m{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}class Ay{constructor(e){this.callback=e}call(e,t){return t.subscribe(new My(e,this.callback))}}class My extends m{constructor(e,t){super(e),this.add(new d(t))}}class Ty{constructor(e,t){this.id=e,this.url=t}}class Py extends Ty{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ly extends Ty{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ny extends Ty{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ry extends Ty{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fy extends Ty{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hy extends Ty{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class By extends Ty{constructor(e,t,n,i,s){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vy extends Ty{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jy extends Ty{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zy{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qy{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uy{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wy{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yy{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $y{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gy{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xy{}class Ky{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zy(e){return new Ky(e)}function Jy(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Qy(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const s={};for(let l=0;l<i.length;l++){const t=i[l],n=e[l];if(t.startsWith(":"))s[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:s}}class ew{constructor(e,t){this.routes=e,this.module=t}}function tw(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];nw(i,iw(t,i))}}function nw(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&tw(e.children,t)}function iw(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function sw(e){const t=e.children&&e.children.map(sw),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Xy),n}function lw(e,t){const n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;let s;for(let l=0;l<n.length;l++)if(s=n[l],!rw(e[s],t[s]))return!1;return!0}function rw(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function aw(e){return Array.prototype.concat.apply([],e)}function ow(e){return e.length>0?e[e.length-1]:null}function hw(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function cw(e){return Jt(e)?e:Zt(e)?j(Promise.resolve(e)):pa(e)}function dw(e,t,n){return n?function(e,t){return lw(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!fw(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>rw(e[n],t[n]))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,s){if(n.segments.length>s.length)return!!fw(n.segments.slice(0,s.length),s)&&!i.hasChildren();if(n.segments.length===s.length){if(!fw(n.segments,s))return!1;for(const t in i.children){if(!n.children[t])return!1;if(!e(n.children[t],i.children[t]))return!1}return!0}{const e=s.slice(0,n.segments.length),l=s.slice(n.segments.length);return!!fw(n.segments,e)&&!!n.children.primary&&t(n.children.primary,i,l)}}(t,n,n.segments)}(e.root,t.root)}class uw{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zy(this.queryParams)),this._queryParamMap}toString(){return yw.serialize(this)}}class pw{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hw(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ww(this)}}class mw{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zy(this.parameters)),this._parameterMap}toString(){return Ew(this)}}function fw(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function gw(e,t){let n=[];return hw(e.children,(e,i)=>{"primary"===i&&(n=n.concat(t(e,i)))}),hw(e.children,(e,i)=>{"primary"!==i&&(n=n.concat(t(e,i)))}),n}class bw{}class vw{parse(e){const t=new Mw(e);return new uw(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return ww(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",i=[];return hw(t.children,(t,n)=>{"primary"!==n&&i.push(`${n}:${e(t,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=gw(t,(n,i)=>"primary"===i?[e(t.children.primary,!1)]:[`${i}:${e(n,!1)}`]);return`${ww(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${xw(t)}=${xw(e)}`).join("&"):`${xw(t)}=${xw(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const yw=new vw;function ww(e){return e.segments.map(e=>Ew(e)).join("/")}function Cw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xw(e){return Cw(e).replace(/%3B/gi,";")}function _w(e){return Cw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sw(e){return decodeURIComponent(e)}function kw(e){return Sw(e.replace(/\+/g,"%20"))}function Ew(e){return`${_w(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${_w(e)}=${_w(t[e])}`).join("")}`;var t}const Ow=/^[^\/()?;=#]+/;function Iw(e){const t=e.match(Ow);return t?t[0]:""}const Dw=/^[^=?&#]+/,Aw=/^[^?&#]+/;class Mw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pw([],{}):new pw([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new pw(e,t)),n}parseSegment(){const e=Iw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new mw(Sw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Iw(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Iw(this.remaining);e&&(n=e,this.capture(n))}e[Sw(t)]=Sw(n)}parseQueryParam(e){const t=function(e){const t=e.match(Dw);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Aw);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=kw(t),s=kw(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Iw(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s="primary");const l=this.parseChildren();t[s]=1===Object.keys(l).length?l.primary:new pw([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Tw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Pw(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Pw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Lw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Lw(e,this._root).map(e=>e.value)}}function Pw(e,t){if(e===t.value)return t;for(const n of t.children){const t=Pw(e,n);if(t)return t}return null}function Lw(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Lw(e,n);if(i.length)return i.unshift(t),i}return[]}class Nw{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rw(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Fw extends Tw{constructor(e,t){super(e),this.snapshot=t,qw(this,e)}toString(){return this.snapshot.toString()}}function Hw(e,t){const n=function(e,t){const n=new jw([],{},{},"",{},"primary",t,null,e.root,-1,{});return new zw("",new Nw(n,[]))}(e,t),i=new Vc([new mw("",{})]),s=new Vc({}),l=new Vc({}),r=new Vc({}),a=new Vc(""),o=new Bw(i,s,r,a,l,"primary",t,n.root);return o.snapshot=n.root,new Fw(new Nw(o,[]),n)}class Bw{constructor(e,t,n,i,s,l,r,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=l,this.component=r,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(e=>Zy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(e=>Zy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vw(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class jw{constructor(e,t,n,i,s,l,r,a,o,h,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=l,this.component=r,this.routeConfig=a,this._urlSegment=o,this._lastPathIndex=h,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zw extends Tw{constructor(e,t){super(t),this.url=e,qw(this,t)}toString(){return Uw(this._root)}}function qw(e,t){t.value._routerState=e,t.children.forEach(t=>qw(e,t))}function Uw(e){const t=e.children.length>0?` { ${e.children.map(Uw).join(", ")} } `:"";return`${e.value}${t}`}function Ww(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,lw(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),lw(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!lw(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),lw(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Yw(e,t){var n,i;return lw(e.params,t.params)&&fw(n=e.url,i=t.url)&&n.every((e,t)=>lw(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Yw(e.parent,t.parent))}function $w(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Gw(e,t,n,i,s){let l={};return i&&hw(i,(e,t)=>{l[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new uw(n.root===e?t:function e(t,n,i){const s={};return hw(t.children,(t,l)=>{s[l]=t===n?i:e(t,n,i)}),new pw(t.segments,s)}(n.root,e,t),l,s)}class Xw{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&$w(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(i&&i!==ow(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kw{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Zw(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:`${e}`}function Jw(e,t,n){if(e||(e=new pw([],{})),0===e.segments.length&&e.hasChildren())return Qw(e,t,n);const i=function(e,t,n){let i=0,s=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(i>=n.length)return l;const t=e.segments[s],r=Zw(n[i]),a=i<n.length-1?n[i+1]:null;if(s>0&&void 0===r)break;if(r&&a&&"object"==typeof a&&void 0===a.outlets){if(!iC(r,a,t))return l;i+=2}else{if(!iC(r,{},t))return l;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(e,t,n),s=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new pw(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new pw(e.segments.slice(i.pathIndex),e.children),Qw(t,0,s)}return i.match&&0===s.length?new pw(e.segments,{}):i.match&&!e.hasChildren()?eC(e,t,n):i.match?Qw(e,0,s):eC(e,t,n)}function Qw(e,t,n){if(0===n.length)return new pw(e.segments,{});{const i=function(e){return"object"!=typeof e[0]?{primary:e}:void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),s={};return hw(i,(n,i)=>{null!==n&&(s[i]=Jw(e.children[i],t,n))}),hw(e.children,(e,t)=>{void 0===i[t]&&(s[t]=e)}),new pw(e.segments,s)}}function eC(e,t,n){const i=e.segments.slice(0,t);let s=0;for(;s<n.length;){if("object"==typeof n[s]&&void 0!==n[s].outlets){const e=tC(n[s].outlets);return new pw(i,e)}if(0===s&&$w(n[0])){i.push(new mw(e.segments[t].path,n[0])),s++;continue}const l=Zw(n[s]),r=s<n.length-1?n[s+1]:null;l&&r&&$w(r)?(i.push(new mw(l,nC(r))),s+=2):(i.push(new mw(l,{})),s++)}return new pw(i,{})}function tC(e){const t={};return hw(e,(e,n)=>{null!==e&&(t[n]=eC(new pw([],{}),0,e))}),t}function nC(e){const t={};return hw(e,(e,n)=>t[n]=`${e}`),t}function iC(e,t,n){return e==n.path&&lw(t,n.parameters)}class sC{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Ww(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=Rw(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),hw(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=Rw(e),s=e.value.component?n.children:t;hw(i,(e,t)=>this.deactivateRouteAndItsChildren(e,s)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=Rw(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new $y(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Wy(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,s=t?t.value:null;if(Ww(i),i===s)if(i.component){const s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),lC(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),s=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=s,t.outlet&&t.outlet.activateWith(i,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function lC(e){Ww(e.value),e.children.forEach(lC)}function rC(e){return"function"==typeof e}function aC(e){return e instanceof uw}class oC{constructor(e){this.segmentGroup=e||null}}class hC{constructor(e){this.urlTree=e}}function cC(e){return new w(t=>t.error(new oC(e)))}function dC(e){return new w(t=>t.error(new hC(e)))}function uC(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class pC{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Pe)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(F(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cy(e=>{if(e instanceof hC)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof oC)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(F(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Cy(e=>{if(e instanceof oC)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new pw([],{primary:e}):e;return new uw(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(F(e=>new pw([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return pa({});const n=[],i=[],s={};return hw(e,(e,l)=>{const r=t(l,e).pipe(F(e=>s[l]=e));"primary"===l?n.push(r):i.push(r)}),pa.apply(null,n.concat(i)).pipe(Qc(),wy(),F(()=>s))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,s,l){return pa(...n).pipe(F(r=>this.expandSegmentAgainstRoute(e,t,n,r,i,s,l).pipe(Cy(e=>{if(e instanceof oC)return pa(null);throw e}))),Qc(),Sy(e=>!!e),Cy((e,n)=>{if(e instanceof hy||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,s))return pa(new pw([],{}));throw new oC(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,s,l,r){return bC(i)!==l?cC(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s):r&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,s,l):cC(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dC(s):this.lineralizeSegments(n,s).pipe(z(n=>{const s=new pw(n,{});return this.expandSegment(e,s,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,s,l){const{matched:r,consumedSegments:a,lastChild:o,positionalParamSegments:h}=mC(t,i,s);if(!r)return cC(t);const c=this.applyRedirectCommands(a,i.redirectTo,h);return i.redirectTo.startsWith("/")?dC(c):this.lineralizeSegments(i,c).pipe(z(i=>this.expandSegment(e,t,n,i.concat(s.slice(o)),l,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(F(e=>(n._loadedConfig=e,new pw(i,{})))):pa(new pw(i,{}));const{matched:s,consumedSegments:l,lastChild:r}=mC(t,n,i);if(!s)return cC(t);const a=i.slice(r);return this.getChildConfig(e,n,i).pipe(z(e=>{const n=e.module,i=e.routes,{segmentGroup:s,slicedSegments:r}=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(n=>gC(e,t,n)&&"primary"!==bC(n))}(e,n,i)?{segmentGroup:fC(new pw(t,function(e,t){const n={};n.primary=t;for(const i of e)""===i.path&&"primary"!==bC(i)&&(n[bC(i)]=new pw([],{}));return n}(i,new pw(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>gC(e,t,n))}(e,n,i)?{segmentGroup:fC(new pw(e.segments,function(e,t,n,i){const s={};for(const l of n)gC(e,t,l)&&!i[bC(l)]&&(s[bC(l)]=new pw([],{}));return Object.assign(Object.assign({},i),s)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,l,a,i);return 0===r.length&&s.hasChildren()?this.expandChildren(n,i,s).pipe(F(e=>new pw(l,e))):0===i.length&&0===r.length?pa(new pw(l,{})):this.expandSegment(n,s,i,r,"primary",!0).pipe(F(e=>new pw(l.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?pa(new ew(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pa(t._loadedConfig):function(e,t,n){const i=t.canLoad;return i&&0!==i.length?j(i).pipe(F(i=>{const s=e.get(i);let l;if(function(e){return e&&rC(e.canLoad)}(s))l=s.canLoad(t,n);else{if(!rC(s))throw new Error("Invalid CanLoad guard");l=s(t,n)}return cw(l)})).pipe(Qc(),(s=e=>!0===e,e=>e.lift(new ky(s,void 0,e)))):pa(!0);var s}(e.injector,t,n).pipe(z(n=>n?this.configLoader.load(e.injector,t).pipe(F(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(Jy(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):pa(new ew([],e))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return pa(n);if(i.numberOfChildren>1||!i.children.primary)return uC(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const s=this.createSegmentGroup(e,t.root,n,i);return new uw(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return hw(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[i]=t[s]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const s=this.createSegments(e,t.segments,n,i);let l={};return hw(t.children,(t,s)=>{l[s]=this.createSegmentGroup(e,t,n,i)}),new pw(s,l)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function mC(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||Qy)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function fC(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new pw(e.segments.concat(t.segments),t.children)}return e}function gC(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function bC(e){return e.outlet||"primary"}class vC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yC{constructor(e,t){this.component=e,this.route=t}}function wC(e,t,n){const i=e._root;return function e(t,n,i,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const r=Rw(n);return t.children.forEach(t=>{!function(t,n,i,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const r=t.value,a=n?n.value:null,o=i?i.getContext(t.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){const h=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!fw(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fw(e.url,t.url)||!lw(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yw(e,t)||!lw(e.queryParams,t.queryParams);case"paramsChange":default:return!Yw(e,t)}}(a,r,r.routeConfig.runGuardsAndResolvers);h?l.canActivateChecks.push(new vC(s)):(r.data=a.data,r._resolvedData=a._resolvedData),e(t,n,r.component?o?o.children:null:i,s,l),h&&l.canDeactivateChecks.push(new yC(o&&o.outlet&&o.outlet.component||null,a))}else a&&xC(n,o,l),l.canActivateChecks.push(new vC(s)),e(t,null,r.component?o?o.children:null:i,s,l)}(t,r[t.value.outlet],i,s.concat([t.value]),l),delete r[t.value.outlet]}),hw(r,(e,t)=>xC(e,i.getContext(t),l)),l}(i,t?t._root:null,n,[i.value])}function CC(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function xC(e,t,n){const i=Rw(e),s=e.value;hw(i,(e,i)=>{xC(e,s.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new yC(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}const _C=Symbol("INITIAL_VALUE");function SC(){return sd(e=>function(...e){let t=null,n=null;return O(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&o(e[0])&&(e=e[0]),Y(e,n).lift(new zc(t))}(...e.map(e=>e.pipe(pd(1),td(_C)))).pipe(Oy((e,t)=>{let n=!1;return t.reduce((e,i,s)=>{if(e!==_C)return e;if(i===_C&&(n=!0),!n){if(!1===i)return i;if(s===t.length-1||aC(i))return i}return e},e)},_C),fa(e=>e!==_C),F(e=>aC(e)?e:!0===e),pd(1)))}function kC(e,t){return null!==e&&t&&t(new Yy(e)),pa(!0)}function EC(e,t){return null!==e&&t&&t(new Uy(e)),pa(!0)}function OC(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?pa(i.map(i=>Tb(()=>{const s=CC(i,t,n);let l;if(function(e){return e&&rC(e.canActivate)}(s))l=cw(s.canActivate(t,e));else{if(!rC(s))throw new Error("Invalid CanActivate guard");l=cw(s(t,e))}return l.pipe(Sy())}))).pipe(SC()):pa(!0)}function IC(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Tb(()=>pa(t.guards.map(s=>{const l=CC(s,t.node,n);let r;if(function(e){return e&&rC(e.canActivateChild)}(l))r=cw(l.canActivateChild(i,e));else{if(!rC(l))throw new Error("Invalid CanActivateChild guard");r=cw(l(i,e))}return r.pipe(Sy())})).pipe(SC())));return pa(s).pipe(SC())}class DC{}class AC{constructor(e,t,n,i,s,l){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){try{const e=PC(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new jw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Nw(n,t),s=new zw(this.url,i);return this.inheritParamsAndData(s._root),pa(s)}catch(qG){return new w(t=>t.error(qG))}}inheritParamsAndData(e){const t=e.value,n=Vw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=gw(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,i)}catch(qG){if(!(qG instanceof DC))throw qG}if(this.noLeftoversInUrl(t,n,i))return[];throw new DC}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new DC;if((e.outlet||"primary")!==i)throw new DC;let s,l=[],r=[];if("**"===e.path){const l=n.length>0?ow(n).parameters:{};s=new jw(n,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,RC(e),i,e.component,e,MC(t),TC(t)+n.length,FC(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new DC;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||Qy)(n,e,t);if(!i)throw new DC;const s={};hw(i.posParams,(e,t)=>{s[t]=e.path});const l=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:l}}(t,e,n);l=a.consumedSegments,r=n.slice(a.lastChild),s=new jw(l,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,RC(e),i,e.component,e,MC(t),TC(t)+l.length,FC(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:o,slicedSegments:h}=PC(t,l,r,a,this.relativeLinkResolution);if(0===h.length&&o.hasChildren()){const e=this.processChildren(a,o);return[new Nw(s,e)]}if(0===a.length&&0===h.length)return[new Nw(s,[])];const c=this.processSegment(a,o,h,"primary");return[new Nw(s,c)]}}function MC(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function TC(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function PC(e,t,n,i,s){if(n.length>0&&function(e,t,n){return n.some(n=>LC(e,t,n)&&"primary"!==NC(n))}(e,n,i)){const s=new pw(t,function(e,t,n,i){const s={};s.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const l of n)if(""===l.path&&"primary"!==NC(l)){const n=new pw([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[NC(l)]=n}return s}(e,t,i,new pw(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>LC(e,t,n))}(e,n,i)){const l=new pw(e.segments,function(e,t,n,i,s,l){const r={};for(const a of i)if(LC(e,n,a)&&!s[NC(a)]){const n=new pw([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===l?e.segments.length:t.length,r[NC(a)]=n}return Object.assign(Object.assign({},s),r)}(e,t,n,i,e.children,s));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}const l=new pw(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function LC(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function NC(e){return e.outlet||"primary"}function RC(e){return e.data||{}}function FC(e){return e.resolve||{}}function HC(e,t,n,i){const s=CC(e,t,i);return cw(s.resolve?s.resolve(t,n):s(t,n))}function BC(e){return function(t){return t.pipe(sd(t=>{const n=e(t);return n?j(n).pipe(F(()=>t)):j([t])}))}}class VC{}class jC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const zC=new xe("ROUTES");class qC{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new ew(aw(i.injector.get(zC)).map(sw),i)}))}loadModuleFactory(e){return"string"==typeof e?j(this.loader.load(e)):cw(e()).pipe(z(e=>e instanceof Le?pa(e):j(this.compiler.compileModuleAsync(e))))}}class UC{}class WC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function YC(e){throw e}function $C(e,t,n){return t.parse("/")}function GC(e,t){return pa(null)}class XC{constructor(e,t,n,i,s,l,r,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=YC,this.malformedUriErrorHandler=$C,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:GC,afterPreactivation:GC},this.urlHandlingStrategy=new WC,this.routeReuseStrategy=new jC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(Pe),this.console=s.get(js);const o=s.get(Qs);this.isNgZoneEnabled=o instanceof Qs,this.resetConfig(a),this.currentUrlTree=new uw(new pw([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qC(l,r,e=>this.triggerEvent(new zy(e)),e=>this.triggerEvent(new qy(e))),this.routerState=Hw(this.currentUrlTree,this.rootComponentType),this.transitions=new Vc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(fa(e=>0!==e.id),F(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),sd(e=>{let n=!1,i=!1;return pa(e).pipe(gd(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sd(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return pa(e).pipe(sd(e=>{const n=this.transitions.getValue();return t.next(new Py(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?dd:[e]}),sd(e=>Promise.resolve(e)),(i=this.ngModule.injector,s=this.configLoader,l=this.urlSerializer,r=this.config,function(e){return e.pipe(sd(e=>function(e,t,n,i,s){return new pC(e,t,n,i,s).apply()}(i,s,l,e.extractedUrl,r).pipe(F(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),gd(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,s){return function(l){return l.pipe(z(l=>function(e,t,n,i,s="emptyOnly",l="legacy"){return new AC(e,t,n,i,s,l).recognize()}(e,t,l.urlAfterRedirects,n(l.urlAfterRedirects),i,s).pipe(F(e=>Object.assign(Object.assign({},l),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),gd(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),gd(e=>{const n=new Fy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,s,l,r;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:s,restoredState:l,extras:r}=e,a=new Py(n,this.serializeUrl(i),s,l);t.next(a);const o=Hw(i,this.rootComponentType).snapshot;return pa(Object.assign(Object.assign({},e),{targetSnapshot:o,urlAfterRedirects:i,extras:Object.assign(Object.assign({},r),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),dd}),BC(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:s,extras:{skipLocationChange:l,replaceUrl:r}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:s,skipLocationChange:!!l,replaceUrl:!!r})}),gd(e=>{const t=new Hy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),F(e=>Object.assign(Object.assign({},e),{guards:wC(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(z(n=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:r}}=n;return 0===r.length&&0===l.length?pa(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return j(e).pipe(z(e=>function(e,t,n,i,s){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?pa(l.map(l=>{const r=CC(l,t,s);let a;if(function(e){return e&&rC(e.canDeactivate)}(r))a=cw(r.canDeactivate(e,t,n,i));else{if(!rC(r))throw new Error("Invalid CanDeactivate guard");a=cw(r(e,t,n,i))}return a.pipe(Sy())})).pipe(SC()):pa(!0)}(e.component,e.route,n,t,i)),Sy(e=>!0!==e,!0))}(r,i,s,e).pipe(z(n=>n&&"boolean"==typeof n?function(e,t,n,i){return j(t).pipe(ma(t=>j([EC(t.route.parent,i),kC(t.route,i),IC(e,t.path,n),OC(e,t.route,n)]).pipe(Qc(),Sy(e=>!0!==e,!0))),Sy(e=>!0!==e,!0))}(i,l,e,t):pa(n)),F(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),gd(e=>{if(aC(e.guardsResult)){const t=Jy(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),gd(e=>{const t=new By(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),fa(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ny(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),BC(e=>{if(e.guards.canActivateChecks.length)return pa(e).pipe(gd(e=>{const t=new Vy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(z(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;return s.length?j(s).pipe(ma(e=>function(e,t,n,i){return function(e,t,n,i){const s=Object.keys(e);if(0===s.length)return pa({});if(1===s.length){const l=s[0];return HC(e[l],t,n,i).pipe(F(e=>({[l]:e})))}const l={};return j(s).pipe(z(s=>HC(e[s],t,n,i).pipe(F(e=>(l[s]=e,e))))).pipe(wy(),F(()=>l))}(e._resolve,e,t,i).pipe(F(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Vw(e,n).resolve),null)))}(e.route,i,t,n)),function(e,t){return arguments.length>=2?function(n){return v(Oy(e,t),cy(1),by(t))(n)}:function(t){return v(Oy((t,n,i)=>e(t,n,i+1)),cy(1))(t)}}((e,t)=>e),F(t=>e)):pa(e)}))}),gd(e=>{const t=new jy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,n}),BC(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:s,extras:{skipLocationChange:l,replaceUrl:r}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:s,skipLocationChange:!!l,replaceUrl:!!r})}),F(e=>{const t=function(e,t,n){const i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=n.value;const l=function(t,n,i){return n.children.map(n=>{for(const s of i.children)if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s);return e(t,n)})}(t,n,i);return new Nw(s,l)}{const i=t.retrieve(n.value);if(i){const e=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,e),e}{const i=new Bw(new Vc((s=n.value).url),new Vc(s.params),new Vc(s.queryParams),new Vc(s.fragment),new Vc(s.data),s.outlet,s.component,s),l=n.children.map(n=>e(t,n));return new Nw(i,l)}}var s}(e,t._root,n?n._root:void 0);return new Fw(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),gd(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(l=this.rootContexts,r=this.routeReuseStrategy,a=e=>this.triggerEvent(e),F(e=>(new sC(r,e.targetRouterState,e.currentRouterState,a).activate(l),e))),gd({next(){n=!0},complete(){n=!0}}),(s=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Ny(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Ay(s))),Cy(n=>{if(i=!0,(s=n)&&s.ngNavigationCancelingError){const i=aC(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const s=new Ny(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(s),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new Ry(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(l){e.reject(l)}}var s;return dd}));var s,l,r,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){tw(e),this.config=e.map(sw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:l,queryParamsHandling:r,preserveFragment:a}=t;nt()&&l&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const o=n||this.routerState.root,h=a?this.currentUrlTree.fragment:s;let c=null;if(r)switch(r){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=l?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,i,s){if(0===n.length)return Gw(t.root,t.root,t,i,s);const l=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Xw(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return hw(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===s?(i.split("/").forEach((i,s)=>{0==s&&"."===i||(0==s&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new Xw(n,t,i)}(n);if(l.toRoot())return Gw(t.root,new pw([],{}),t,i,s);const r=function(e,t,n){if(e.isAbsolute)return new Kw(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Kw(n.snapshot._urlSegment,!0,0);const i=$w(e.commands[0])?0:1;return function(e,t,n){let i=e,s=t,l=n;for(;l>s;){if(l-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new Kw(i,!1,s-l)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(l,t,e),a=r.processChildren?Qw(r.segmentGroup,r.index,l.commands):Jw(r.segmentGroup,r.index,l.commands);return Gw(r.segmentGroup,a,t,i,s)}(o,this.currentUrlTree,e,c,h)}navigateByUrl(e,t={skipLocationChange:!1}){nt()&&this.isNgZoneEnabled&&!Qs.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=aC(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(qG){t=this.malformedUriErrorHandler(qG,this.urlSerializer,e)}return t}isActive(e,t){if(aC(e))return dw(this.currentUrlTree,e,t);const n=this.parseUrl(e);return dw(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Ly(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,s){const l=this.getTransition();if(l&&"imperative"!==t&&"imperative"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"hashchange"==t&&"popstate"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"popstate"==t&&"hashchange"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);let r,a,o;s?(r=s.resolve,a=s.reject,o=s.promise):o=new Promise((e,t)=>{r=e,a=t});const h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:r,reject:a,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const s=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(s,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class KC{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Ly&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){nt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ZC(this.skipLocationChange),replaceUrl:ZC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ZC(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ZC(this.preserveFragment)})}}function ZC(e){return""===e||!!e}class JC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new QC,this.attachRef=null}}class QC{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new JC,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class ex{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new As,this.deactivateEvents=new As,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,s=new tx(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class tx{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Bw?this.route:e===QC?this.childContexts:this.parent.get(e,t)}}class nx{}class ix{preload(e,t){return t().pipe(Cy(()=>pa(null)))}}class sx{preload(e,t){return pa(null)}}class lx{constructor(e,t,n,i,s){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=new qC(t,n,t=>e.triggerEvent(new zy(t)),t=>e.triggerEvent(new qy(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(fa(e=>e instanceof Ly),ma(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Pe);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return j(n).pipe(W(),F(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(z(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class rx{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Py?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ly&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Gy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Gy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const ax=new xe("ROUTER_CONFIGURATION"),ox=new xe("ROUTER_FORROOT_GUARD"),hx=[Na,{provide:bw,useClass:vw},{provide:XC,useFactory:gx,deps:[bw,QC,Na,Lt,wl,Xs,zC,ax,[UC,new ie],[VC,new ie]]},QC,{provide:Bw,useFactory:bx,deps:[XC]},{provide:wl,useClass:_l},lx,sx,ix,{provide:ax,useValue:{enableTracing:!1}}];function cx(){return new pl("Router",XC)}class dx{constructor(e,t){}static forRoot(e,t){return{ngModule:dx,providers:[hx,fx(e),{provide:ox,useFactory:mx,deps:[[XC,new ie,new le]]},{provide:ax,useValue:t||{}},{provide:Aa,useFactory:px,deps:[Ca,[new ne(Ta),new ie],ax]},{provide:rx,useFactory:ux,deps:[XC,Ho,ax]},{provide:nx,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:sx},{provide:pl,multi:!0,useFactory:cx},[vx,{provide:Ps,multi:!0,useFactory:yx,deps:[vx]},{provide:Cx,useFactory:wx,deps:[vx]},{provide:Vs,multi:!0,useExisting:Cx}]]}}static forChild(e){return{ngModule:dx,providers:[fx(e)]}}}function ux(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new rx(e,t,n)}function px(e,t,n={}){return n.useHash?new La(e,t):new Pa(e,t)}function mx(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function fx(e){return[{provide:qt,multi:!0,useValue:e},{provide:zC,multi:!0,useValue:e}]}function gx(e,t,n,i,s,l,r,a={},o,h){const c=new XC(null,e,t,n,i,s,l,aw(r));if(o&&(c.urlHandlingStrategy=o),h&&(c.routeReuseStrategy=h),a.errorHandler&&(c.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(c.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=ya();c.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(c.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(c.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(c.relativeLinkResolution=a.relativeLinkResolution),c}function bx(e){return e.routerState.root}class vx{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(_a,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(XC),i=this.injector.get(ax);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?pa(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(ax),n=this.injector.get(lx),i=this.injector.get(rx),s=this.injector.get(XC),l=this.injector.get(vl);e===l.components[0]&&(this.isLegacyEnabled(t)?s.initialNavigation():this.isLegacyDisabled(t)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function yx(e){return e.appInitializer.bind(e)}function wx(e){return e.bootstrapListener.bind(e)}const Cx=new xe("Router Initializer");var xx=Jn({encapsulation:2,styles:[],data:{}});function _x(e){return nr(0,[(e()(),Bl(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),rs(1,212992,null,0,ex,[QC,Nn,ln,[8,null],At],null,null)],(function(e,t){e(t,1,0)}),null)}function Sx(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"ng-component",[],null,null,null,_x,xx)),rs(1,49152,null,0,Xy,[],null,null)],null,null)}var kx=Bi("ng-component",Xy,Sx,{},{},[]);const Ex={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1};class Ox{constructor(e){Object.assign(this,e)}}let Ix=(()=>{let e=class{constructor(){this.spinnerObservable=new Dg(1)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(fa(t=>t&&t.name===e))}show(e="primary",t){return new Promise((n,i)=>{t&&Object.keys(t).length?(t.name=e,this.spinnerObservable.next(new Ox(Object.assign(Object.assign({},t),{show:!0}))),n(!0)):(this.spinnerObservable.next(new Ox({name:e,show:!0})),n(!0))})}hide(e="primary",t=0){return new Promise((n,i)=>{setTimeout(()=>{this.spinnerObservable.next(new Ox({name:e,show:!1})),n(!0)},t)})}};return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Dx=class{constructor(e,t){this.spinnerService=e,this.changeDetector=t,this.spinner=new Ox,this.ngUnsubscribe=new k,this.setDefaultOptions=()=>{this.spinner=new Ox({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.type="ball-scale-multiple",this.size="large",this.fullScreen=!0,this.name="primary",this.template=null,this.divArray=[],this.divCount=0,this.show=!1}ngOnInit(){this.setDefaultOptions(),this.spinnerService.getSpinner(this.name).pipe(ad(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.markForCheck()})}ngOnChanges(e){for(const t in e)if(t){const n=e[t];if(n.isFirstChange())return;void 0!==n.currentValue&&n.currentValue!==n.previousValue&&""!==n.currentValue&&(this.spinner[t]=n.currentValue)}}getClass(e,t){this.spinner.divCount=Ex[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((e,t)=>t);let n="";switch(t.toLowerCase()){case"small":n="la-sm";break;case"medium":n="la-2x";break;case"large":n="la-3x"}return"la-"+e+" "+n}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},Ax=class{};var Mx=Jn({encapsulation:0,styles:['.la-ball-8bits[_ngcontent-%COMP%], .la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-8bits[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:12px;height:12px}.la-ball-8bits.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:4px;height:4px;border-radius:0;opacity:0;-webkit-transform:translate(100%,100%);transform:translate(100%,100%);-webkit-animation:1s infinite ball-8bits;animation:1s infinite ball-8bits}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.9375s;animation-delay:-.9375s;top:-100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.875s;animation-delay:-.875s;top:-100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8125s;animation-delay:-.8125s;top:-66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.75s;animation-delay:-.75s;top:-33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.6875s;animation-delay:-.6875s;top:0;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.625s;animation-delay:-.625s;top:33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.5625s;animation-delay:-.5625s;top:66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.5s;animation-delay:-.5s;top:100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.4375s;animation-delay:-.4375s;top:100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-.375s;animation-delay:-.375s;top:100%;left:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:-.3125s;animation-delay:-.3125s;top:66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:-.25s;animation-delay:-.25s;top:33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:-.1875s;animation-delay:-.1875s;top:0;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:-.125s;animation-delay:-.125s;top:-33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:-.0625s;animation-delay:-.0625s;top:-66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){-webkit-animation-delay:0s;animation-delay:0s;top:-100%;left:-33.3333333333%}.la-ball-8bits.la-sm[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-8bits.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:2px}.la-ball-8bits.la-2x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-8bits.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-8bits.la-3x[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-8bits.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:12px}@-webkit-keyframes ball-8bits{0%,50%{opacity:1}51%{opacity:0}}@keyframes ball-8bits{0%,50%{opacity:1}51%{opacity:0}}.la-ball-atom[_ngcontent-%COMP%], .la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-atom[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-atom.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){position:absolute;top:50%;left:50%;z-index:1;width:60%;height:60%;background:#aaa;border-radius:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:4.5s linear infinite ball-atom-shrink;animation:4.5s linear infinite ball-atom-shrink}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){position:absolute;left:0;z-index:0;width:100%;height:100%;background:0 0;-webkit-animation:1.5s steps(2,end) infinite ball-atom-zindex;animation:1.5s steps(2,end) infinite ball-atom-zindex}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{position:absolute;top:0;left:0;width:10px;height:10px;margin-top:-5px;margin-left:-5px;content:"";background:currentColor;border-radius:50%;opacity:.75;-webkit-animation:1.5s infinite ball-atom-position,1.5s infinite ball-atom-size;animation:1.5s infinite ball-atom-position,1.5s infinite ball-atom-size}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.75s;animation-delay:.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:0s,-1.125s;animation-delay:0s,-1.125s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:rotate(120deg);transform:rotate(120deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-1s,-.75s;animation-delay:-1s,-.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-transform:rotate(240deg);transform:rotate(240deg);-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.5s,-125ms;animation-delay:-.5s,-125ms}.la-ball-atom.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-atom.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-atom.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-atom.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-atom.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-atom.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-atom-position{50%{top:100%;left:100%}}@keyframes ball-atom-position{50%{top:100%;left:100%}}@-webkit-keyframes ball-atom-size{50%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}}@keyframes ball-atom-size{50%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}}@-webkit-keyframes ball-atom-zindex{50%{z-index:10}}@keyframes ball-atom-zindex{50%{z-index:10}}@-webkit-keyframes ball-atom-shrink{50%{-webkit-transform:translate(-50%,-50%) scale(.8,.8);transform:translate(-50%,-50%) scale(.8,.8)}}@keyframes ball-atom-shrink{50%{-webkit-transform:translate(-50%,-50%) scale(.8,.8);transform:translate(-50%,-50%) scale(.8,.8)}}.la-ball-beat[_ngcontent-%COMP%], .la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:.7s linear -.15s infinite ball-beat;animation:.7s linear -.15s infinite ball-beat}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-beat.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-beat.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-beat.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-beat{50%{opacity:.2;-webkit-transform:scale(.75);transform:scale(.75)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-beat{50%{opacity:.2;-webkit-transform:scale(.75);transform:scale(.75)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-circus[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:16px;height:16px}.la-ball-circus.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:-100%;display:block;width:100%;height:100%;border-radius:100%;opacity:.5;-webkit-animation:2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-position,2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-size;animation:2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-position,2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-size}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s,-.5s;animation-delay:0s,-.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s,-1s;animation-delay:-.5s,-1s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s,-1.5s;animation-delay:-1s,-1.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s,-2s;animation-delay:-1.5s,-2s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2s,-2.5s;animation-delay:-2s,-2.5s}.la-ball-circus.la-sm[_ngcontent-%COMP%], .la-ball-circus.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-circus.la-2x[_ngcontent-%COMP%], .la-ball-circus.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-circus.la-3x[_ngcontent-%COMP%], .la-ball-circus.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48px;height:48px}@-webkit-keyframes ball-circus-position{50%{left:100%}}@keyframes ball-circus-position{50%{left:100%}}@-webkit-keyframes ball-circus-size{50%{-webkit-transform:scale(.3,.3);transform:scale(.3,.3)}}@keyframes ball-circus-size{50%{-webkit-transform:scale(.3,.3);transform:scale(.3,.3)}}.la-ball-climbing-dot[_ngcontent-%COMP%], .la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-climbing-dot[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:42px;height:32px}.la-ball-climbing-dot.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){position:absolute;bottom:32%;left:18%;width:14px;height:14px;border-radius:100%;-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation:.6s ease-in-out infinite ball-climbing-dot-jump;animation:.6s ease-in-out infinite ball-climbing-dot-jump}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){position:absolute;top:0;right:0;width:14px;height:2px;border-radius:0;-webkit-transform:translate(60%,0);transform:translate(60%,0);-webkit-animation:1.8s linear infinite ball-climbing-dot-steps;animation:1.8s linear infinite ball-climbing-dot-steps}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(2){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(3){-webkit-animation-delay:-.6s;animation-delay:-.6s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:6px;height:6px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:6px;height:1px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%]{width:84px;height:64px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:28px;height:28px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:28px;height:4px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%]{width:126px;height:96px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:42px;height:42px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:42px;height:6px}@-webkit-keyframes ball-climbing-dot-jump{0%,100%{-webkit-transform:scale(1,.7);transform:scale(1,.7)}20%,80%,90%{-webkit-transform:scale(.7,1.2);transform:scale(.7,1.2)}40%,46%{-webkit-transform:scale(1,1);transform:scale(1,1)}50%{bottom:125%}}@keyframes ball-climbing-dot-jump{0%,100%{-webkit-transform:scale(1,.7);transform:scale(1,.7)}20%,80%,90%{-webkit-transform:scale(.7,1.2);transform:scale(.7,1.2)}40%,46%{-webkit-transform:scale(1,1);transform:scale(1,1)}50%{bottom:125%}}@-webkit-keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}100%{top:100%;right:100%;opacity:0}}@keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}100%{top:100%;right:100%;opacity:0}}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%], .la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;position:absolute;top:50%;left:50%;background:0 0;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-clip-rotate-multiple-rotate;animation:1s ease-in-out infinite ball-clip-rotate-multiple-rotate}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;border-right-color:transparent;border-left-color:transparent}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;border-top-color:transparent;border-bottom-color:transparent;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-direction:reverse;animation-direction:reverse}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-multiple-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@keyframes ball-clip-rotate-multiple-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%], .la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;border-radius:100%}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;background:0 0;border-style:solid;border-width:2px;border-right-color:transparent;border-left-color:transparent;-webkit-animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-rotate;animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-rotate}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;-webkit-animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-scale;animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-scale}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px;border-width:6px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-pulse-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@keyframes ball-clip-rotate-pulse-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@-webkit-keyframes ball-clip-rotate-pulse-scale{0%,100%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;-webkit-transform:translate(-50%,-50%) scale(.15);transform:translate(-50%,-50%) scale(.15)}}@keyframes ball-clip-rotate-pulse-scale{0%,100%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;-webkit-transform:translate(-50%,-50%) scale(.15);transform:translate(-50%,-50%) scale(.15)}}.la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-bottom-color:transparent;border-radius:100%;-webkit-animation:.75s linear infinite ball-clip-rotate;animation:.75s linear infinite ball-clip-rotate}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-clip-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-clip-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-elastic-dots[_ngcontent-%COMP%], .la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-elastic-dots[_ngcontent-%COMP%]{display:block;color:#fff;width:120px;height:10px;font-size:0;text-align:center}.la-ball-elastic-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid currentColor;display:inline-block;width:10px;height:10px;white-space:nowrap;border-radius:100%;-webkit-animation:1s infinite ball-elastic-dots-anim;animation:1s infinite ball-elastic-dots-anim}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%]{width:60px;height:4px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%]{width:240px;height:20px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%]{width:360px;height:30px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-elastic-dots-anim{0%,100%{margin:0;-webkit-transform:scale(1);transform:scale(1)}50%{margin:0 5%;-webkit-transform:scale(.65);transform:scale(.65)}}@keyframes ball-elastic-dots-anim{0%,100%{margin:0;-webkit-transform:scale(1);transform:scale(1)}50%{margin:0 5%;-webkit-transform:scale(.65);transform:scale(.65)}}.la-ball-fall[_ngcontent-%COMP%], .la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fall[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-fall.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;opacity:0;-webkit-animation:1s ease-in-out infinite ball-fall;animation:1s ease-in-out infinite ball-fall}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-fall.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-fall.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-fall.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-fall.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-fall.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-fall.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-fall{0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}10%,90%{opacity:.5}20%,80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}}@keyframes ball-fall{0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}10%,90%{opacity:.5}20%,80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}}.la-ball-fussion[_ngcontent-%COMP%], .la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fussion[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:8px;height:8px}.la-ball-fussion.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:12px;height:12px;border-radius:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:1s infinite ball-fussion-ball1;animation:1s infinite ball-fussion-ball1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:50%;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:50%;left:100%;z-index:2;-webkit-animation-name:ball-fussion-ball2;animation-name:ball-fussion-ball2}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:100%;left:50%;z-index:1;-webkit-animation-name:ball-fussion-ball3;animation-name:ball-fussion-ball3}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:0;z-index:2;-webkit-animation-name:ball-fussion-ball4;animation-name:ball-fussion-ball4}.la-ball-fussion.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-fussion.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-fussion.la-2x[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-fussion.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-ball-fussion.la-3x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-fussion.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@-webkit-keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}.la-ball-grid-beat[_ngcontent-%COMP%], .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:36px;height:36px}.la-ball-grid-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-beat;animation-name:ball-grid-beat;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-beat{0%,100%{opacity:1}50%{opacity:.35}}@keyframes ball-grid-beat{0%,100%{opacity:1}50%{opacity:.35}}.la-ball-grid-pulse[_ngcontent-%COMP%], .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:36px;height:36px}.la-ball-grid-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-pulse;animation-name:ball-grid-pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-pulse{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.35;-webkit-transform:scale(.45);transform:scale(.45)}}@keyframes ball-grid-pulse{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.35;-webkit-transform:scale(.45);transform:scale(.45)}}.la-ball-newton-cradle[_ngcontent-%COMP%], .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-newton-cradle[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:10px}.la-ball-newton-cradle.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;border-radius:100%}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-transform:translateX(0);transform:translateX(0);-webkit-animation:1s ease-out infinite ball-newton-cradle-left;animation:1s ease-out infinite ball-newton-cradle-left}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-transform:translateX(0);transform:translateX(0);-webkit-animation:1s ease-out infinite ball-newton-cradle-right;animation:1s ease-out infinite ball-newton-cradle-right}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%]{width:20px;height:4px}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%]{width:80px;height:20px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%]{width:120px;height:30px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-newton-cradle-left{25%{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes ball-newton-cradle-left{25%{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes ball-newton-cradle-right{100%,50%{-webkit-transform:translateX(0);transform:translateX(0)}75%{-webkit-transform:translateX(100%);transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes ball-newton-cradle-right{100%,50%{-webkit-transform:translateX(0);transform:translateX(0)}75%{-webkit-transform:translateX(100%);transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.la-ball-pulse-rise[_ngcontent-%COMP%], .la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-rise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:70px;height:14px}.la-ball-pulse-rise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:2px;border-radius:100%;-webkit-animation:1s cubic-bezier(.15,.36,.9,.6) infinite ball-pulse-rise-even;animation:1s cubic-bezier(.15,.36,.9,.6) infinite ball-pulse-rise-even}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-name:ball-pulse-rise-odd;animation-name:ball-pulse-rise-odd}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%]{width:34px;height:6px}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%]{width:140px;height:28px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:4px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%]{width:210px;height:42px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:6px}@-webkit-keyframes ball-pulse-rise-even{0%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}25%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}50%{opacity:.35;-webkit-transform:scale(.3);transform:scale(.3)}75%{-webkit-transform:translateY(200%);transform:translateY(200%)}100%{opacity:1;-webkit-transform:translateY(0);-webkit-transform:scale(1);transform:translateY(0);transform:scale(1)}}@keyframes ball-pulse-rise-even{0%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}25%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}50%{opacity:.35;-webkit-transform:scale(.3);transform:scale(.3)}75%{-webkit-transform:translateY(200%);transform:translateY(200%)}100%{opacity:1;-webkit-transform:translateY(0);-webkit-transform:scale(1);transform:translateY(0);transform:scale(1)}}@-webkit-keyframes ball-pulse-rise-odd{0%{opacity:.35;-webkit-transform:scale(.4);transform:scale(.4)}25%{-webkit-transform:translateY(200%);transform:translateY(200%)}50%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}100%{opacity:.35;-webkit-transform:translateY(0);-webkit-transform:scale(.75);transform:translateY(0);transform:scale(.75)}}@keyframes ball-pulse-rise-odd{0%{opacity:.35;-webkit-transform:scale(.4);transform:scale(.4)}25%{-webkit-transform:translateY(200%);transform:translateY(200%)}50%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}100%{opacity:.35;-webkit-transform:translateY(0);-webkit-transform:scale(.75);transform:translateY(0);transform:scale(.75)}}.la-ball-pulse-sync[_ngcontent-%COMP%], .la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-sync[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-pulse-sync.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:.6s ease-in-out infinite ball-pulse-sync;animation:.6s ease-in-out infinite ball-pulse-sync}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.14s;animation-delay:-.14s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.07s;animation-delay:-.07s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse-sync{33%{-webkit-transform:translateY(100%);transform:translateY(100%)}66%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes ball-pulse-sync{33%{-webkit-transform:translateY(100%);transform:translateY(100%)}66%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}.la-ball-pulse[_ngcontent-%COMP%], .la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:1s infinite ball-pulse;animation:1s infinite ball-pulse}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse{0%,100%,60%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}30%{opacity:.1;-webkit-transform:scale(.01);transform:scale(.01)}}@keyframes ball-pulse{0%,100%,60%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}30%{opacity:.1;-webkit-transform:scale(.01);transform:scale(.01)}}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:10px;height:10px}.la-ball-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;border-radius:100%;-webkit-animation:1s cubic-bezier(.7,-.13,.22,.86) infinite ball-rotate-animation;animation:1s cubic-bezier(.7,-.13,.22,.86) infinite ball-rotate-animation}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;width:inherit;height:inherit;margin:inherit;content:"";background:currentColor;border-radius:inherit;opacity:.8}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:0;left:-150%}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{top:0;left:150%}.la-ball-rotate.la-sm[_ngcontent-%COMP%], .la-ball-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-rotate.la-2x[_ngcontent-%COMP%], .la-ball-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-rotate.la-3x[_ngcontent-%COMP%], .la-ball-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-rotate-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-rotate-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-running-dots[_ngcontent-%COMP%], .la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-running-dots[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:10px;height:10px}.la-ball-running-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:10px;height:10px;margin-left:-25px;border-radius:100%;-webkit-animation:2s linear infinite ball-running-dots-animate;animation:2s linear infinite ball-running-dots-animate}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.6s;animation-delay:-1.6s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-2.4s;animation-delay:-2.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2.8s;animation-delay:-2.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-3.2s;animation-delay:-3.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-3.6s;animation-delay:-3.6s}.la-ball-running-dots.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-running-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-left:-12px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:-50px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%]{width:30px;height:30px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:-75px}@-webkit-keyframes ball-running-dots-animate{0%,100%{width:100%;height:100%;-webkit-transform:translateY(0) translateX(500%);transform:translateY(0) translateX(500%)}80%{-webkit-transform:translateY(0) translateX(0);transform:translateY(0) translateX(0)}85%{width:100%;height:100%;-webkit-transform:translateY(-125%) translateX(0);transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;-webkit-transform:translateY(-100%) translateX(500%);transform:translateY(-100%) translateX(500%)}}@keyframes ball-running-dots-animate{0%,100%{width:100%;height:100%;-webkit-transform:translateY(0) translateX(500%);transform:translateY(0) translateX(500%)}80%{-webkit-transform:translateY(0) translateX(0);transform:translateY(0) translateX(0)}85%{width:100%;height:100%;-webkit-transform:translateY(-125%) translateX(0);transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;-webkit-transform:translateY(-100%) translateX(500%);transform:translateY(-100%) translateX(500%)}}.la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:1s linear infinite ball-scale-multiple;animation:1s linear infinite ball-scale-multiple}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}5%{opacity:.75}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}5%{opacity:.75}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-scale-pulse[_ngcontent-%COMP%], .la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:.5;-webkit-animation:2s ease-in-out infinite ball-scale-pulse;animation:2s ease-in-out infinite ball-scale-pulse}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-scale-pulse.la-sm[_ngcontent-%COMP%], .la-ball-scale-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-pulse.la-2x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-pulse.la-3x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-pulse{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale-pulse{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%], .la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-ripple-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;background:0 0;border-radius:100%;opacity:0;-webkit-animation:1.25s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple-multiple;animation:1.25s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple-multiple}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple-multiple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.5;-webkit-transform:scale(1);transform:scale(1)}95%{opacity:0}}@keyframes ball-scale-ripple-multiple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.5;-webkit-transform:scale(1);transform:scale(1)}95%{opacity:0}}.la-ball-scale-ripple[_ngcontent-%COMP%], .la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-ripple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-radius:100%;opacity:0;-webkit-animation:1s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple;animation:1s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.65;-webkit-transform:scale(1);transform:scale(1)}100%{opacity:0}}@keyframes ball-scale-ripple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.65;-webkit-transform:scale(1);transform:scale(1)}100%{opacity:0}}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:1s ease-in-out infinite ball-scale;animation:1s ease-in-out infinite ball-scale}.la-ball-scale.la-sm[_ngcontent-%COMP%], .la-ball-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale.la-2x[_ngcontent-%COMP%], .la-ball-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale.la-3x[_ngcontent-%COMP%], .la-ball-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale{0%{opacity:1;-webkit-transform:scale(0);transform:scale(0)}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale{0%{opacity:1;-webkit-transform:scale(0);transform:scale(0)}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate}.la-ball-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade-rotating;animation:1s linear infinite ball-spin-clockwise-fade-rotating}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade;animation:1s linear infinite ball-spin-clockwise-fade}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-clockwise-fade{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise[_ngcontent-%COMP%], .la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-clockwise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin-clockwise;animation:1s ease-in-out infinite ball-spin-clockwise}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes ball-spin-clockwise{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}.la-ball-spin-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-fade-rotate;animation:6s linear infinite ball-spin-fade-rotate}.la-ball-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-fade-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-spin-fade[_ngcontent-%COMP%], .la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}}@keyframes ball-spin-fade{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}}.la-ball-spin-rotate[_ngcontent-%COMP%], .la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:2s linear infinite ball-spin-rotate;animation:2s linear infinite ball-spin-rotate}.la-ball-spin-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;width:60%;height:60%;border-radius:100%;-webkit-animation:2s ease-in-out infinite ball-spin-bounce;animation:2s ease-in-out infinite ball-spin-bounce}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-spin-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-spin-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes ball-spin-bounce{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-bounce{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin[_ngcontent-%COMP%], .la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin;animation:1s ease-in-out infinite ball-spin}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes ball-spin{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}.la-ball-square-clockwise-spin[_ngcontent-%COMP%], .la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:26px;height:26px}.la-ball-square-clockwise-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-square-clockwise-spin;animation:1s ease-in-out infinite ball-square-clockwise-spin}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:0;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-clockwise-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-square-clockwise-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-square-spin[_ngcontent-%COMP%], .la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:26px;height:26px}.la-ball-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-square-spin;animation:1s ease-in-out infinite ball-square-spin}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:0;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-square-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-square-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-triangle-path[_ngcontent-%COMP%], .la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-triangle-path[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-triangle-path.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:10px;height:10px;border-radius:100%}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-one;animation:2s ease-in-out infinite ball-triangle-path-ball-one}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-two;animation:2s ease-in-out infinite ball-triangle-path-ball-two}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-tree;animation:2s ease-in-out infinite ball-triangle-path-ball-tree}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-triangle-path-ball-one{0%{-webkit-transform:translate(0,220%);transform:translate(0,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}66%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}100%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}}@keyframes ball-triangle-path-ball-one{0%{-webkit-transform:translate(0,220%);transform:translate(0,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}66%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}100%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}}@-webkit-keyframes ball-triangle-path-ball-two{0%{-webkit-transform:translate(110%,0);transform:translate(110%,0)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}66%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}100%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}}@keyframes ball-triangle-path-ball-two{0%{-webkit-transform:translate(110%,0);transform:translate(110%,0)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}66%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}100%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}}@-webkit-keyframes ball-triangle-path-ball-tree{0%{-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}66%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}100%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}}@keyframes ball-triangle-path-ball-tree{0%{-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}66%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}100%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}}.la-ball-zig-zag-deflect[_ngcontent-%COMP%], .la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;position:relative;width:32px;height:32px}.la-ball-zig-zag-deflect.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:1.5s linear infinite ball-zig-deflect;animation:1.5s linear infinite ball-zig-deflect}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:1.5s linear infinite ball-zag-deflect;animation:1.5s linear infinite ball-zag-deflect}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-deflect{17%,84%{-webkit-transform:translate(-80%,-160%);transform:translate(-80%,-160%)}34%,67%{-webkit-transform:translate(80%,-160%);transform:translate(80%,-160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes ball-zig-deflect{17%,84%{-webkit-transform:translate(-80%,-160%);transform:translate(-80%,-160%)}34%,67%{-webkit-transform:translate(80%,-160%);transform:translate(80%,-160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@-webkit-keyframes ball-zag-deflect{17%,84%{-webkit-transform:translate(80%,160%);transform:translate(80%,160%)}34%,67%{-webkit-transform:translate(-80%,160%);transform:translate(-80%,160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes ball-zag-deflect{17%,84%{-webkit-transform:translate(80%,160%);transform:translate(80%,160%)}34%,67%{-webkit-transform:translate(-80%,160%);transform:translate(-80%,160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}.la-ball-zig-zag[_ngcontent-%COMP%], .la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box}.la-ball-zig-zag[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;position:relative;width:32px;height:32px}.la-ball-zig-zag.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:.7s linear infinite ball-zig-effect;animation:.7s linear infinite ball-zig-effect}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:.7s linear infinite ball-zag-effect;animation:.7s linear infinite ball-zag-effect}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(-75%,-150%);transform:translate(-75%,-150%)}66%{-webkit-transform:translate(75%,-150%);transform:translate(75%,-150%)}}@keyframes ball-zig-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(-75%,-150%);transform:translate(-75%,-150%)}66%{-webkit-transform:translate(75%,-150%);transform:translate(75%,-150%)}}@-webkit-keyframes ball-zag-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(75%,150%);transform:translate(75%,150%)}66%{-webkit-transform:translate(-75%,150%);transform:translate(-75%,150%)}}@keyframes ball-zag-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(75%,150%);transform:translate(75%,150%)}66%{-webkit-transform:translate(-75%,150%);transform:translate(-75%,150%)}}.la-cog[_ngcontent-%COMP%], .la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cog[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:31px;height:31px}.la-cog.la-dark[_ngcontent-%COMP%]{color:#333}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px dashed currentColor;width:100%;height:100%;background-color:transparent;border-radius:100%;-webkit-animation:4s linear infinite cog-rotate;animation:4s linear infinite cog-rotate}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border:2px solid currentColor;border-radius:100%}.la-cog.la-sm[_ngcontent-%COMP%]{width:15px;height:15px}.la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:1px}.la-cog.la-2x[_ngcontent-%COMP%]{width:61px;height:61px}.la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:4px}.la-cog.la-3x[_ngcontent-%COMP%]{width:91px;height:91px}.la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:6px}@-webkit-keyframes cog-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cog-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-cube-transition[_ngcontent-%COMP%], .la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cube-transition[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-cube-transition.la-dark[_ngcontent-%COMP%]{color:#333}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:14px;height:14px;margin-top:-7px;margin-left:-7px;border-radius:0;-webkit-animation:1.6s ease-in-out infinite cube-transition;animation:1.6s ease-in-out infinite cube-transition}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-cube-transition.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-cube-transition.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-cube-transition.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-cube-transition.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:28px;height:28px;margin-top:-14px;margin-left:-14px}.la-cube-transition.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-cube-transition.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;margin-top:-21px;margin-left:-21px}@-webkit-keyframes cube-transition{25%{top:0;left:100%;-webkit-transform:scale(.5) rotate(-90deg);transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;-webkit-transform:scale(1) rotate(-180deg);transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;-webkit-transform:scale(.5) rotate(-270deg);transform:scale(.5) rotate(-270deg)}100%{top:0;left:0;-webkit-transform:scale(1) rotate(-360deg);transform:scale(1) rotate(-360deg)}}@keyframes cube-transition{25%{top:0;left:100%;-webkit-transform:scale(.5) rotate(-90deg);transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;-webkit-transform:scale(1) rotate(-180deg);transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;-webkit-transform:scale(.5) rotate(-270deg);transform:scale(.5) rotate(-270deg)}100%{top:0;left:0;-webkit-transform:scale(1) rotate(-360deg);transform:scale(1) rotate(-360deg)}}.la-fire[_ngcontent-%COMP%], .la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-fire[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-fire.la-dark[_ngcontent-%COMP%]{color:#333}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;bottom:0;left:50%;width:12px;height:12px;border-radius:2px;-webkit-transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);-webkit-animation:1.5s linear infinite fire-diamonds;animation:1.5s linear infinite fire-diamonds}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.85s;animation-delay:-.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.85s;animation-delay:-1.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-2.85s;animation-delay:-2.85s}.la-fire.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-fire.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-fire.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-fire.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px}.la-fire.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-fire.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes fire-diamonds{0%{-webkit-transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{-webkit-transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}100%{-webkit-transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}@keyframes fire-diamonds{0%{-webkit-transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{-webkit-transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}100%{-webkit-transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}.la-line-scale-party[_ngcontent-%COMP%], .la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-party[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-party.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation-name:line-scale-party;animation-name:line-scale-party;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.23s;animation-delay:-.23s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:.62s;animation-duration:.62s;-webkit-animation-delay:-.32s;animation-delay:-.32s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.44s;animation-delay:-.44s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-delay:-.31s;animation-delay:-.31s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:.74s;animation-duration:.74s;-webkit-animation-delay:-.24s;animation-delay:-.24s}.la-line-scale-party.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-party.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-party.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-party.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-party.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-party.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-party{0%,100%{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.3);transform:scaleY(.3)}}@keyframes line-scale-party{0%,100%{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.3);transform:scaleY(.3)}}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%], .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-pulse-out-rapid.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:.9s cubic-bezier(.11,.49,.38,.78) infinite line-scale-pulse-out-rapid;animation:.9s cubic-bezier(.11,.49,.38,.78) infinite line-scale-pulse-out-rapid}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out-rapid{0%,90%{-webkit-transform:scaley(1);transform:scaley(1)}80%{-webkit-transform:scaley(.3);transform:scaley(.3)}}@keyframes line-scale-pulse-out-rapid{0%,90%{-webkit-transform:scaley(1);transform:scaley(1)}80%{-webkit-transform:scaley(.3);transform:scaley(.3)}}.la-line-scale-pulse-out[_ngcontent-%COMP%], .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-pulse-out.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:.9s cubic-bezier(.85,.25,.37,.85) infinite line-scale-pulse-out;animation:.9s cubic-bezier(.85,.25,.37,.85) infinite line-scale-pulse-out}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out{0%,100%{-webkit-transform:scaley(1);transform:scaley(1)}50%{-webkit-transform:scaley(.3);transform:scaley(.3)}}@keyframes line-scale-pulse-out{0%,100%{-webkit-transform:scaley(1);transform:scaley(1)}50%{-webkit-transform:scaley(.3);transform:scaley(.3)}}.la-line-scale[_ngcontent-%COMP%], .la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:1.2s infinite line-scale;animation:1.2s infinite line-scale}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-line-scale.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale{0%,100%,40%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}@keyframes line-scale{0%,100%,40%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite line-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite line-spin-clockwise-fade-rotating-rotate}.la-line-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-clockwise-fade-rotating;animation:1s ease-in-out infinite line-spin-clockwise-fade-rotating}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@keyframes line-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@-webkit-keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}100%{opacity:1}}.la-line-spin-clockwise-fade[_ngcontent-%COMP%], .la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-line-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-clockwise-fade;animation:1s ease-in-out infinite line-spin-clockwise-fade}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-clockwise-fade{50%{opacity:.2}100%{opacity:1}}.la-line-spin-fade-rotating[_ngcontent-%COMP%], .la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-fade-rotating-rotate;animation:6s linear infinite ball-spin-fade-rotating-rotate}.la-line-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-fade-rotating;animation:1s ease-in-out infinite line-spin-fade-rotating}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes ball-spin-fade-rotating-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-fade-rotating-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes line-spin-fade-rotating{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-fade-rotating{50%{opacity:.2}100%{opacity:1}}.la-line-spin-fade[_ngcontent-%COMP%], .la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-line-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-fade;animation:1s ease-in-out infinite line-spin-fade}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-fade{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-fade{50%{opacity:.2}100%{opacity:1}}.la-pacman[_ngcontent-%COMP%], .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-pacman[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-pacman.la-dark[_ngcontent-%COMP%]{color:#333}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:0;height:0;background:0 0;border-style:solid;border-width:16px;border-right-color:transparent;border-radius:100%;-webkit-animation:.5s infinite pacman-rotate-half-up;animation:.5s infinite pacman-rotate-half-up}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-32px;-webkit-animation-name:pacman-rotate-half-down;animation-name:pacman-rotate-half-down}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){position:absolute;top:50%;left:200%;width:8px;height:8px;border-radius:100%;opacity:0;-webkit-animation:2s linear infinite pacman-balls;animation:2s linear infinite pacman-balls}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.44s;animation-delay:-1.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.94s;animation-delay:-1.94s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.44s;animation-delay:-2.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2.94s;animation-delay:-2.94s}.la-pacman.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:8px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:4px;height:4px}.la-pacman.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:32px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:16px;height:16px}.la-pacman.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:48px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:24px;height:24px}@-webkit-keyframes pacman-rotate-half-up{0%,100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes pacman-rotate-half-up{0%,100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes pacman-rotate-half-down{0%,100%{-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes pacman-rotate-half-down{0%,100%{-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:rotate(0);transform:rotate(0)}}@-webkit-keyframes pacman-balls{0%{left:200%;opacity:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}100%{left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}}@keyframes pacman-balls{0%{left:200%;opacity:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}100%{left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}}.la-square-jelly-box[_ngcontent-%COMP%], .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-jelly-box[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-jelly-box.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:-25%;z-index:1;height:100%;border-radius:10%;-webkit-animation:.6s linear -.1s infinite square-jelly-box-animate;animation:.6s linear -.1s infinite square-jelly-box-animate}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;-webkit-animation:.6s linear -.1s infinite square-jelly-box-shadow;animation:.6s linear -.1s infinite square-jelly-box-shadow}.la-square-jelly-box.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-jelly-box.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-jelly-box.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{-webkit-transform:translateY(25%) rotate(22.5deg);transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;-webkit-transform:translateY(50%) scale(1,.9) rotate(45deg);transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{-webkit-transform:translateY(25%) rotate(67.5deg);transform:translateY(25%) rotate(67.5deg)}100%{-webkit-transform:translateY(0) rotate(90deg);transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{-webkit-transform:translateY(25%) rotate(22.5deg);transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;-webkit-transform:translateY(50%) scale(1,.9) rotate(45deg);transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{-webkit-transform:translateY(25%) rotate(67.5deg);transform:translateY(25%) rotate(67.5deg)}100%{-webkit-transform:translateY(0) rotate(90deg);transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{-webkit-transform:scale(1.25,1);transform:scale(1.25,1)}}@keyframes square-jelly-box-shadow{50%{-webkit-transform:scale(1.25,1);transform:scale(1.25,1)}}.la-square-loader[_ngcontent-%COMP%], .la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-loader[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-loader.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:100%;height:100%;background:0 0;border-radius:0;-webkit-animation:2s infinite square-loader;animation:2s infinite square-loader}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;-webkit-animation:2s ease-in infinite square-loader-inner;animation:2s ease-in infinite square-loader-inner}.la-square-loader.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-loader.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-square-loader.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-loader.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-square-loader.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-square-loader.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}@-webkit-keyframes square-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%,50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%,75%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes square-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%,50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%,75%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}@keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}.la-square-spin[_ngcontent-%COMP%], .la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:100%;height:100%;border-radius:0;-webkit-animation:3s cubic-bezier(.09,.57,.49,.9) infinite square-spin;animation:3s cubic-bezier(.09,.57,.49,.9) infinite square-spin}.la-square-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}@keyframes square-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-timer[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-timer.la-dark[_ngcontent-%COMP%]{color:#333}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-radius:100%}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;top:14px;left:14px;display:block;width:2px;margin-top:-1px;margin-left:-1px;content:"";background:currentColor;border-radius:2px;-webkit-transform-origin:1px 1px 0;transform-origin:1px 1px 0;-webkit-animation:1.25s linear -625ms infinite timer-loader;animation:1.25s linear -625ms infinite timer-loader}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:12px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:8px;-webkit-animation-duration:15s;animation-duration:15s;-webkit-animation-delay:-7.5s;animation-delay:-7.5s}.la-timer.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:7px;left:7px;width:1px;margin-top:-.5px;margin-left:-.5px;border-radius:1px;-webkit-transform-origin:.5px .5px 0;transform-origin:.5px .5px 0}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:6px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:4px}.la-timer.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:28px;left:28px;width:4px;margin-top:-2px;margin-left:-2px;border-radius:4px;-webkit-transform-origin:2px 2px 0;transform-origin:2px 2px 0}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:24px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:16px}.la-timer.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:42px;left:42px;width:6px;margin-top:-3px;margin-left:-3px;border-radius:6px;-webkit-transform-origin:3px 3px 0;transform-origin:3px 3px 0}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:36px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:24px}@-webkit-keyframes timer-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes timer-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-triangle-skew-spin[_ngcontent-%COMP%], .la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-triangle-skew-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:16px}.la-triangle-skew-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:0 solid currentColor;width:0;height:0;background:0 0;border:solid;border-width:0 16px 16px;border-right-color:transparent;border-left-color:transparent;-webkit-animation:3s cubic-bezier(.09,.57,.49,.9) infinite triangle-skew-spin;animation:3s cubic-bezier(.09,.57,.49,.9) infinite triangle-skew-spin}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:8px}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 8px 8px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:32px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 32px 32px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:48px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 48px 48px}@-webkit-keyframes triangle-skew-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}@keyframes triangle-skew-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;-webkit-transform:translate(-50%,-60%);transform:translate(-50%,-60%)}'],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:300}],options:null},{type:1,expr:":leave",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:200},options:null}],options:{}}]}});function Tx(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Px(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"div",[],[[8,"className",0],[4,"color",null]],null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Tx)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.spinner.divArray)}),(function(e,t){var n=t.component;e(t,0,0,n.spinner.class,n.spinner.color)}))}function Lx(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.template)}))}function Nx(e){return nr(0,[(e()(),Bl(0,0,null,null,6,"div",[["class","overlay"]],[[24,"@fadeIn",0],[4,"background-color",null],[4,"z-index",null],[4,"position",null]],null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Px)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,Lx)),rs(4,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(5,0,null,null,1,"div",[["class","loading-text"]],[[4,"z-index",null]],null,null,null,null)),Xl(null,0)],(function(e,t){var n=t.component;e(t,2,0,!n.template),e(t,4,0,n.template)}),(function(e,t){var n=t.component;e(t,0,0,"in",n.spinner.bdColor,n.spinner.zIndex,n.spinner.fullScreen?"fixed":"absolute"),e(t,5,0,n.spinner.zIndex)}))}function Rx(e){return nr(2,[(e()(),Hl(16777216,null,null,1,null,Nx)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.spinner.show)}),null)}class Fx{constructor(e,t,n,i){this.router=e,this.authService=t,this.alertify=n,this.spinner=i,this.state="",this.model={}}ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["outline"])}onSubmit(){this.spinner.show(),this.authService.login(this.model).subscribe(e=>{console.log("logged"),this.alertify.success("logged in successfully")},e=>{this.alertify.error("Failed to login"),console.log(e)},()=>{this.spinner.hide(),this.router.navigate(["outline"])})}}let Hx=(()=>{class e{constructor(e,t){this.http=e,this.baseUrl=t,this.jwtHelper=new yh}login(e){return this.http.post(this.baseUrl+"Auth/login",e).pipe(F(e=>{e&&(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),this.decodedToken=this.jwtHelper.decodeToken(e.token))}))}isLoggedIn(){const e=localStorage.getItem("token");return!this.jwtHelper.isTokenExpired(e)}}return e.\u0275prov=oe({factory:function(){return new e(De(nh),De("BASE_URL"))},token:e,providedIn:"root"}),e})();var Bx=n("XAfc");let Vx=(()=>{class e{constructor(){}confirm(e,t){Bx.confirm(e,(function(e){e&&t()}))}success(e){Bx.success(e)}warning(e){Bx.warning(e)}error(e){Bx.error(e)}message(e){Bx.message(e)}}return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})();var jx=Jn({encapsulation:0,styles:[["#lock[_ngcontent-%COMP%]{width:40%;margin:1.5em auto 4em;display:block}#email[_ngcontent-%COMP%]{background:#ececec url(email.e75a0390ebcf4b02d1bd.svg) no-repeat 25px;background-size:25px}body[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em}@media (max-width:600px){#page[_ngcontent-%COMP%]{padding:1em}#toolbar[_ngcontent-%COMP%]{width:90%;margin-left:-45%}#email[_ngcontent-%COMP%]{background:#ececec}}.form-container[_ngcontent-%COMP%]{background:#fff;padding:3.5em;width:500px;position:fixed;left:50%;margin-left:-250px}button[_ngcontent-%COMP%]{padding:1.2em;width:100%;cursor:pointer;margin-bottom:15px;font-size:1.3em}.alc[_ngcontent-%COMP%]{text-align:center;display:block;margin:15px 0}@media (max-width:600px){.form-container[_ngcontent-%COMP%]{padding:1.2em;width:90%;margin-left:-45%}button[_ngcontent-%COMP%]{font-size:1em}}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}.error[_ngcontent-%COMP%]{background:#f1f0ef;padding:1em;width:100%;display:block;margin-bottom:20px}.basic-btn[_ngcontent-%COMP%]{background:#3b8598;color:#fff}input.txt[_ngcontent-%COMP%]{background:#fff!important;padding:1.3em 1em;font-size:1.3em;border:1px solid #bbb}"]],data:{animation:[{type:7,name:"moveIn",definitions:[{type:0,name:"void",styles:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{position:"fixed",width:"100%"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{opacity:"0",transform:"translateX(100px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:"1",transform:"translateX(0)"},offset:null},timings:".6s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:"1",transform:"translateX(0)"},offset:null},{type:4,styles:{type:6,styles:{opacity:"0",transform:"translateX(-200px)"},offset:null},timings:".3s ease-in-out"}],options:null}],options:{}},{type:7,name:"fallIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:"0",transform:"translateY(40px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:"1",transform:"translateY(0)"},offset:null},timings:".4s .2s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:"1",transform:"translateX(0)"},offset:null},{type:4,styles:{type:6,styles:{opacity:"0",transform:"translateX(-200px)"},offset:null},timings:".3s ease-in-out"}],options:null}],options:{}}]}});function zx(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"span",[["class","error"]],[[24,"@fallIn",0]],null,null,null,null)),(e()(),Ql(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.state),e(t,1,0,n.error)}))}function qx(e){return nr(0,[(e()(),Bl(0,0,null,null,36,"html",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"head",[],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"link",[["href","https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.0/css/foundation-flex.min.css"],["media","all"],["rel","stylesheet"],["type","text/css"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,33,"body",[],null,null,null,null,null)),(e()(),Bl(4,0,null,null,32,"div",[["class","form-container"],["style","width: 500px;   background:#E2E4E6;"]],null,null,null,null,null)),(e()(),Bl(5,0,null,null,2,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(e()(),Bl(6,0,null,null,1,"div",[["class","text-center brand_logo_container"],["style","margin-bottom: 25px;"]],null,null,null,null,null)),(e()(),Bl(7,0,null,null,0,"img",[["alt","Logo"],["class","brand_logo"],["src","https://upload.wikimedia.org/wikipedia/en/thumb/b/b8/EMU_Cyprus.svg/800px-EMU_Cyprus.svg.png"],["style","width:255px; text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,zx)),rs(9,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(10,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,s=e.component;return"submit"===t&&(i=!1!==Ki(e,12).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,12).onReset()&&i),"ngSubmit"===t&&(i=!1!==s.onSubmit()&&i),i}),null,null)),rs(11,16384,null,0,Ic,[],null,null),rs(12,4210688,[["formData",4]],0,xc,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),os(2048,null,Dh,null,[xc]),rs(14,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(15,0,null,null,7,"input",[["class","txt"],["name","id"],["placeholder","User Id"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.model.Id=n)&&i),i}),null,null)),rs(16,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(17,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(20,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(22,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(23,0,null,null,7,"input",[["class","txt"],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,24)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,24).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,24)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,24)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.model.password=n)&&i),i}),null,null)),rs(24,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(25,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(28,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(30,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(31,0,null,null,5,"button",[["class","basic-btn"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Bl(32,0,null,null,3,"ngx-spinner",[],null,null,null,Rx,Mx)),rs(33,770048,null,0,Dx,[Ix,At],null,null),(e()(),Bl(34,0,null,0,1,"p",[["style","font-size: 20px; color: white"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Loading..."])),(e()(),Ql(-1,null,[" Log in"]))],(function(e,t){var n=t.component;e(t,9,0,n.error),e(t,17,0,""),e(t,20,0,"id",n.model.Id),e(t,25,0,""),e(t,28,0,"password",n.model.password),e(t,33,0)}),(function(e,t){e(t,10,0,Ki(t,14).ngClassUntouched,Ki(t,14).ngClassTouched,Ki(t,14).ngClassPristine,Ki(t,14).ngClassDirty,Ki(t,14).ngClassValid,Ki(t,14).ngClassInvalid,Ki(t,14).ngClassPending),e(t,15,0,Ki(t,17).required?"":null,Ki(t,22).ngClassUntouched,Ki(t,22).ngClassTouched,Ki(t,22).ngClassPristine,Ki(t,22).ngClassDirty,Ki(t,22).ngClassValid,Ki(t,22).ngClassInvalid,Ki(t,22).ngClassPending),e(t,23,0,Ki(t,25).required?"":null,Ki(t,30).ngClassUntouched,Ki(t,30).ngClassTouched,Ki(t,30).ngClassPristine,Ki(t,30).ngClassDirty,Ki(t,30).ngClassValid,Ki(t,30).ngClassInvalid,Ki(t,30).ngClassPending),e(t,31,0,!Ki(t,12).valid)}))}function Ux(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"app-login",[],[[40,"@moveIn",0]],null,null,qx,jx)),rs(1,114688,null,0,Fx,[XC,Hx,Vx,Ix],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,void 0)}))}var Wx=Bi("app-login",Fx,Ux,{},{},[]);const Yx=new xe("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let $x=0;class Gx{constructor(e,t){this.source=e,this.value=t}}class Xx{constructor(e){this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${$x++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new As}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=pg(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=pg(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(e=>{e.checked=this.value===e.value,e.checked&&(this._selected=e)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Gx(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}class Kx{constructor(e){this._elementRef=e}}const Zx=Dv(Av(Kx));class Jx extends Zx{constructor(e,t,n,i,s,l,r){super(t),this._changeDetector=n,this._focusMonitor=i,this._radioDispatcher=s,this._animationMode=l,this._providerOverride=r,this._uniqueId=`mat-radio-${++$x}`,this.id=this._uniqueId,this.change=new As,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._removeUniqueSelectionListener=s.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const t=pg(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(pg(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=pg(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Gx(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputChange(e){e.stopPropagation();const t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}class Qx extends Jx{}class e_{}function t_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function n_(e){switch(e.length){case 0:return new Fb;case 1:return e[0];default:return new Hb(e)}}function i_(e,t,n,i,s={},l={}){const r=[],a=[];let o=-1,h=null;if(i.forEach(e=>{const n=e.offset,i=n==o,c=i&&h||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,r),a){case"!":a=s[n];break;case"*":a=l[n];break;default:a=t.normalizeStyleValue(n,i,a,r)}c[i]=a}),i||a.push(c),h=c,o=n}),r.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${r.join(e)}`)}return a}function s_(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&l_(n,"start",e)));break;case"done":e.onDone(()=>i(n&&l_(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&l_(n,"destroy",e)))}}function l_(e,t,n){const i=n.totalTime,s=r_(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),l=e._data;return null!=l&&(s._data=l),s}function r_(e,t,n,i,s="",l=0,r){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:s,totalTime:l,disabled:!!r}}function a_(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function o_(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let h_=(e,t)=>!1,c_=(e,t)=>!1,d_=(e,t,n)=>[];const u_=t_();(u_||"undefined"!=typeof Element)&&(h_=(e,t)=>e.contains(t),c_=(()=>{if(u_||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):c_}})(),d_=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let p_=null,m_=!1;function f_(e){p_||(p_=("undefined"!=typeof document?document.body:null)||{},m_=!!p_.style&&"WebkitAppearance"in p_.style);let t=!0;return p_.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in p_.style,!t&&m_)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in p_.style),t}const g_=c_,b_=h_,v_=d_;function y_(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}class w_{validateStyleProperty(e){return f_(e)}matchesElement(e,t){return g_(e,t)}containsElement(e,t){return b_(e,t)}query(e,t,n){return v_(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,s,l=[],r){return new Fb(n,i)}}let C_=(()=>{class e{}return e.NOOP=new w_,e})();function x_(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:__(parseFloat(t[1]),t[2])}function __(e,t){switch(t){case"s":return 1e3*e;default:return e}}function S_(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,s=0,l="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=__(parseFloat(n[1]),n[2]);const r=n[3];null!=r&&(s=__(parseFloat(r),n[4]));const a=n[5];a&&(l=a)}else i=e;if(!n){let n=!1,l=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(l,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:s,easing:l}}(e,t,n)}function k_(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function E_(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else k_(e,n);return n}function O_(e,t,n){return n?t+":"+n+";":""}function I_(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=O_(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=O_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function D_(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const s=F_(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[s]),e.style[s]=t[i]}),t_()&&I_(e))}function A_(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=F_(t);e.style[n]=""}),t_()&&I_(e))}function M_(e){return Array.isArray(e)?1==e.length?e[0]:Lb(e):e}const T_=new RegExp("{{\\s*(.+?)\\s*}}","g");function P_(e){let t=[];if("string"==typeof e){let n;for(;n=T_.exec(e);)t.push(n[1]);T_.lastIndex=0}return t}function L_(e,t,n){const i=e.toString(),s=i.replace(T_,(e,i)=>{let s=t[i];return t.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),s=""),s.toString()});return s==i?e:s}function N_(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const R_=/-+([a-z0-9])/g;function F_(e){return e.replace(R_,(...e)=>e[1].toUpperCase())}function H_(e,t){return 0===e||0===t}function B_(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let l=t[0],r=[];if(i.forEach(e=>{l.hasOwnProperty(e)||r.push(e),l[e]=n[e]}),r.length)for(var s=1;s<t.length;s++){let n=t[s];r.forEach((function(t){n[t]=j_(e,t)}))}}return t}function V_(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function j_(e,t){return window.getComputedStyle(e)[t]}function z_(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const s=i[1],l=i[2],r=i[3];t.push(W_(s,r)),"<"!=l[0]||"*"==s&&"*"==r||t.push(W_(r,s))}(e,n,t)):n.push(e),n}const q_=new Set(["true","1"]),U_=new Set(["false","0"]);function W_(e,t){const n=q_.has(e)||U_.has(e),i=q_.has(t)||U_.has(t);return(s,l)=>{let r="*"==e||e==s,a="*"==t||t==l;return!r&&n&&"boolean"==typeof s&&(r=s?q_.has(e):U_.has(e)),!a&&i&&"boolean"==typeof l&&(a=l?q_.has(t):U_.has(t)),r&&a}}const Y_=new RegExp("s*:selfs*,?","g");function $_(e,t,n){return new G_(e).build(t,n)}class G_{constructor(e){this._driver=e}build(e,t){const n=new X_(t);return this._resetContextStyleTimingState(n),V_(this,M_(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,s.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const s=this.visitTransition(e,t);n+=s.queryCount,i+=s.depCount,l.push(s)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:l,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const s=new Set,l=i||{};if(n.styles.forEach(e=>{if(K_(e)){const t=e;Object.keys(t).forEach(e=>{P_(t[e]).forEach(e=>{l.hasOwnProperty(e)||s.add(e)})})}}),s.size){const n=N_(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=V_(this,M_(e.animation),t);return{type:1,matchers:z_(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Z_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>V_(this,e,t)),options:Z_(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const s=e.steps.map(e=>{t.currentTime=n;const s=V_(this,e,t);return i=Math.max(i,t.currentTime),s});return t.currentTime=i,{type:3,steps:s,options:Z_(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return J_(S_(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=J_(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||S_(i,t),J_(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let s=e.styles?e.styles:Nb({});if(5==s.type)i=this.visitKeyframes(s,t);else{let s=e.styles,l=!1;if(!s){l=!0;const e={};n.easing&&(e.easing=n.easing),s=Nb(e)}t.currentTime+=n.duration+n.delay;const r=this.visitStyle(s,t);r.isEmptyStep=l,i=r}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,s=null;return n.forEach(e=>{if(K_(e)){const t=e,n=t.easing;if(n&&(s=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],r=l[n];let a=!0;r&&(s!=i&&s>=r.startTime&&i<=r.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${r.startTime}ms" and "${r.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),a=!1),s=r.startTime),a&&(l[n]={startTime:s,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},s=P_(e);s.length&&s.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const s=[];let l=!1,r=!1,a=0;const o=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let o=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(K_(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(K_(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),h=0;return null!=o&&(i++,h=n.offset=o),r=r||h<0||h>1,l=l||h<a,a=h,s.push(h),n});r&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&t.errors.push("Please ensure that all keyframe offsets are in order");const h=e.steps.length;let c=0;i>0&&i<h?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(h-1));const d=h-1,u=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return o.forEach((e,i)=>{const l=c>0?i==d?1:c*i:s[i],r=l*m;t.currentTime=u+p.delay+r,p.duration=r,this._validateStyleAst(e,t),e.offset=l,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:V_(this,M_(e.animation),t),options:Z_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Z_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Z_(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(Y_,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,a_(t.collectedStyles,t.currentQuerySelector,{});const r=V_(this,M_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:r,originalSelector:e.selector,options:Z_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:S_(e.timings,t.errors,!0);return{type:12,animation:V_(this,M_(e.animation),t),timings:n,options:null}}}class X_{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function K_(e){return!Array.isArray(e)&&"object"==typeof e}function Z_(e){var t;return e?(e=k_(e)).params&&(e.params=(t=e.params)?k_(t):null):e={},e}function J_(e,t,n){return{duration:e,delay:t,easing:n}}function Q_(e,t,n,i,s,l,r=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:s,delay:l,totalTime:s+l,easing:r,subTimeline:a}}class eS{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const tS=new RegExp(":enter","g"),nS=new RegExp(":leave","g");function iS(e,t,n,i,s,l={},r={},a,o,h=[]){return(new sS).buildKeyframes(e,t,n,i,s,l,r,a,o,h)}class sS{buildKeyframes(e,t,n,i,s,l,r,a,o,h=[]){o=o||new eS;const c=new rS(e,t,o,i,s,h,[]);c.options=a,c.currentTimeline.setStyles([l],null,c.errors,a),V_(this,n,c);const d=c.timelines.filter(e=>e.containsAnimation());if(d.length&&Object.keys(r).length){const e=d[d.length-1];e.allowOnlyTimelineStyles()||e.setStyles([r],null,c.errors,a)}return d.length?d.map(e=>e.buildKeyframes()):[Q_(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(n,i,i.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const s=null!=n.duration?x_(n.duration):null,l=null!=n.delay?x_(n.delay):null;return 0!==s&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,s,l);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),V_(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=lS);const e=x_(s.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>V_(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?x_(e.options.delay):0;e.steps.forEach(l=>{const r=t.createSubContext(e.options);s&&r.delayNextStep(s),V_(this,l,r),i=Math.max(i,r.currentTimeline.currentTime),n.push(r.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return S_(t.params?L_(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,s=n.duration,l=t.createSubContext().currentTimeline;l.easing=n.easing,e.styles.forEach(e=>{l.forwardTime((e.offset||0)*s),l.setStyles(e.styles,e.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?x_(i.delay):0;s&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=lS);let l=n;const r=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=r.length;let a=null;r.forEach((n,i)=>{t.currentQueryIndex=i;const r=t.createSubContext(e.options,n);s&&r.delayNextStep(s),n===t.element&&(a=r.currentTimeline),V_(this,e.animation,r),r.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,r.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),r=l*(t.currentQueryTotal-1);let a=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=r-a;break;case"full":a=n.currentStaggerTime}const o=t.currentTimeline;a&&o.delayNextStep(a);const h=o.currentTime;V_(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-h+(i.startTime-n.currentTimeline.startTime)}}const lS={};class rS{constructor(e,t,n,i,s,l,r,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new aS(this._driver,t,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=x_(n.duration)),null!=n.delay&&(i.delay=x_(n.delay));const s=n.params;if(s){let e=i.params;e||(e=this.options.params={}),Object.keys(s).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=L_(s[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,s=new rS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=lS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},s=new oS(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,s,l){let r=[];if(i&&r.push(this.element),e.length>0){e=(e=e.replace(tS,"."+this._enterClassName)).replace(nS,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),r.push(...t)}return s||0!=r.length||l.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),r}}class aS{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new aS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},l=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]="*"})):E_(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(l).forEach(e=>{const t=L_(l[e],s,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((s,l)=>{const r=E_(s,!0);Object.keys(r).forEach(n=>{const i=r[n];"!"==i?e.add(n):"*"==i&&t.add(n)}),n||(r.offset=l/this.duration),i.push(r)});const s=e.size?N_(e.values()):[],l=t.size?N_(t.values()):[];if(n){const e=i[0],t=k_(e);e.offset=0,t.offset=1,i=[e,t]}return Q_(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class oS extends aS{constructor(e,t,n,i,s,l,r=!1){super(e,t,l.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=r,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=n+t,r=t/l,a=E_(e[0],!1);a.offset=0,s.push(a);const o=E_(e[0],!1);o.offset=hS(r),s.push(o);const h=e.length-1;for(let i=1;i<=h;i++){let r=E_(e[i],!1);r.offset=hS((t+r.offset*n)/l),s.push(r)}n=l,t=0,i="",e=s}return Q_(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function hS(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class cS{}class dS extends cS{normalizePropertyName(e,t){return F_(e)}normalizeStyleValue(e,t,n,i){let s="";const l=n.toString().trim();if(uS[t]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return l+s}}const uS=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pS(e,t,n,i,s,l,r,a,o,h,c,d,u){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:n,fromStyles:l,toState:i,toStyles:r,timelines:a,queriedElements:o,preStyleProps:h,postStyleProps:c,totalTime:d,errors:u}}const mS={};class fS{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,s){return e.some(e=>e(t,n,i,s))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],s=this._stateStyles[e],l=i?i.buildStyles(t,n):{};return s?s.buildStyles(t,n):l}build(e,t,n,i,s,l,r,a,o,h){const c=[],d=this.ast.options&&this.ast.options.params||mS,u=this.buildStyles(n,r&&r.params||mS,c),p=a&&a.params||mS,m=this.buildStyles(i,p,c),f=new Set,g=new Map,b=new Map,v="void"===i,y={params:Object.assign(Object.assign({},d),p)},w=h?[]:iS(e,t,this.ast.animation,s,l,u,m,y,o,c);let C=0;if(w.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),c.length)return pS(t,this._triggerName,n,i,v,u,m,[],[],g,b,C,c);w.forEach(e=>{const n=e.element,i=a_(g,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const s=a_(b,n,{});e.postStyleProps.forEach(e=>s[e]=!0),n!==t&&f.add(n)});const x=N_(f.values());return pS(t,this._triggerName,n,i,v,u,m,w,x,g,b,C)}}class gS{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=k_(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const s=e;Object.keys(s).forEach(e=>{let l=s[e];l.length>1&&(l=L_(l,i,t)),n[e]=l})}}),n}}class bS{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new gS(e.style,e.options&&e.options.params||{})}),vS(this.states,"true","1"),vS(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new fS(e,t,this.states))}),this.fallbackTransition=new fS(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(s=>s.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function vS(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const yS=new eS;class wS{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=$_(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,s=i_(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],s=this._animations[e];let l;const r=new Map;if(s?(l=iS(this._driver,t,s,"ng-enter","ng-leave",{},{},n,yS,i),l.forEach(e=>{const t=a_(r,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),l=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);r.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=n_(l.map(e=>{const t=r.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,i){const s=r_(t,"","","");return s_(this._getPlayer(e),n,s,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const CS=[],xS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_S={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class SS{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=k_(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const kS=new SS("void");class ES{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,PS(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(s=n)&&"done"!=s)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var s;const l=a_(this._elementListeners,e,[]),r={name:t,phase:n,callback:i};l.push(r);const a=a_(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(PS(e,"ng-trigger"),PS(e,"ng-trigger-"+t),a[t]=kS),()=>{this._engine.afterFlush(()=>{const e=l.indexOf(r);e>=0&&l.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const s=this._getTrigger(t),l=new IS(this.id,t,e);let r=this._engine.statesByElement.get(e);r||(PS(e,"ng-trigger"),PS(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,r={}));let a=r[t];const o=new SS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&o.absorbOptions(a.options),r[t]=o,a||(a=kS),"void"!==o.value&&a.value===o.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let s=0;s<n.length;s++){const i=n[s];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,o.params)){const t=[],n=s.matchStyles(a.value,a.params,t),i=s.matchStyles(o.value,o.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{A_(e,n),D_(e,i)})}return}const h=a_(this._engine.playersByElement,e,[]);h.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let c=s.matchTransition(a.value,o.value,e,o.params),d=!1;if(!c){if(!i)return;c=s.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:o,player:l,isFallbackTransition:d}),d||(PS(e,"ng-animate-queued"),l.onStart(()=>{LS(e,"ng-animate-queued")})),l.onDone(()=>{let t=this.players.indexOf(l);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(l);e>=0&&n.splice(e,1)}}),this.players.push(l),h.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,".ng-trigger",!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,i){const s=this._engine.statesByElement.get(e);if(s){const l=[];if(Object.keys(s).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",i);n&&l.push(n)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&n_(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const s=this._triggers[i].fallbackTransition,l=this._engine.statesByElement.get(e)[i]||kS,r=new SS("void"),a=new IS(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:l,toState:r,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==xS||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){PS(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const s=n.element,l=this._elementListeners.get(s);l&&l.forEach(t=>{if(t.name==n.triggerName){const i=r_(s,n.triggerName,n.fromState.value,n.toState.value);i._data=e,s_(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class OS{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new ES(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=n[e[i]].namespaceId;if(s){const e=this._fetchNamespace(s);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(DS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!DS(t))return;const s=t.__ng_removed;if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),PS(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),LS(e,"ng-animate-disabled"))}removeNode(e,t,n,i){if(DS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,s){return DS(t)?this._fetchNamespace(e).listen(t,n,i,s):()=>{}}_buildInstruction(e,t,n,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return n_(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=xS,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)PS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?n_(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new eS,i=[],s=new Map,l=[],r=new Map,a=new Map,o=new Map,h=new Set;this.disabledNodes.forEach(e=>{h.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)h.add(t[n])});const c=this.bodyNode,d=Array.from(this.statesByElement.keys()),u=TS(d,this.collectedEnterElements),p=new Map;let m=0;u.forEach((e,t)=>{const n="ng-enter"+m++;p.set(t,n),e.forEach(e=>PS(e,n))});const f=[],g=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const e=this.collectedLeaveElements[A],t=e.__ng_removed;t&&t.setForRemoval&&(f.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):b.add(e))}const v=new Map,y=TS(d,Array.from(g));y.forEach((e,t)=>{const n="ng-leave"+m++;v.set(t,n),e.forEach(e=>PS(e,n))}),e.push(()=>{u.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>LS(e,n))}),y.forEach((e,t)=>{const n=v.get(t);e.forEach(e=>LS(e,n))}),f.forEach(e=>{this.processLeaveNode(e)})});const w=[],C=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(e=>{const t=e.player,s=e.element;if(w.push(t),this.collectedEnterElements.length){const e=s.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const h=!c||!this.driver.containsElement(c,s),d=v.get(s),u=p.get(s),m=this._buildInstruction(e,n,u,d,h);if(!m.errors||!m.errors.length)return h?(t.onStart(()=>A_(s,m.fromStyles)),t.onDestroy(()=>D_(s,m.toStyles)),void i.push(t)):e.isFallbackTransition?(t.onStart(()=>A_(s,m.fromStyles)),t.onDestroy(()=>D_(s,m.toStyles)),void i.push(t)):(m.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(s,m.timelines),l.push({instruction:m,player:t,element:s}),m.queriedElements.forEach(e=>a_(r,e,[]).push(t)),m.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),void m.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=o.get(t);i||o.set(t,i=new Set),n.forEach(e=>i.add(e))}));C.push(m)});if(C.length){const e=[];C.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,_=new Map;l.forEach(e=>{const t=e.element;n.has(t)&&(_.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{a_(x,t,[]).push(e),e.destroy()})});const S=f.filter(e=>RS(e,a,o)),k=new Map;MS(k,this.driver,b,o,"*").forEach(e=>{RS(e,a,o)&&S.push(e)});const E=new Map;u.forEach((e,t)=>{MS(E,this.driver,new Set(e),a,"!")}),S.forEach(e=>{const t=k.get(e),n=E.get(e);k.set(e,Object.assign(Object.assign({},t),n))});const O=[],I=[],D={};l.forEach(e=>{const{element:t,player:l,instruction:r}=e;if(n.has(t)){if(h.has(t))return l.onDestroy(()=>D_(t,r.toStyles)),l.disabled=!0,l.overrideTotalTime(r.totalTime),void i.push(l);let e=D;if(_.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=_.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>_.set(t,e))}const n=this._buildAnimation(l.namespaceId,r,x,s,E,k);if(l.setRealPlayer(n),e===D)O.push(l);else{const t=this.playersByElement.get(e);t&&t.length&&(l.parentPlayer=n_(t)),i.push(l)}}else A_(t,r.fromStyles),l.onDestroy(()=>D_(t,r.toStyles)),I.push(l),h.has(t)&&i.push(l)}),I.forEach(e=>{const t=s.get(e.element);if(t&&t.length){const n=n_(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let A=0;A<f.length;A++){const e=f[A],t=e.__ng_removed;if(LS(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(r.size){let t=r.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,".ng-animating",!0);for(let e=0;e<i.length;e++){let t=r.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?NS(this,e,i):this.processLeaveNode(e)}return f.length=0,O.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),O}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,s){let l=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(l=t)}else{const t=this.playersByElement.get(e);if(t){const e=!s||"void"==s;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&l.push(t)})}}return(n||i)&&(l=l.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),l}_beforeAnimationBuild(e,t,n){const i=t.element,s=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const r of t.timelines){const e=r.element,a=e!==i,o=a_(n,e,[]);this._getPreviousPlayers(e,a,s,l,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),o.push(e)})}A_(i,t.fromStyles)}_buildAnimation(e,t,n,i,s,l){const r=t.triggerName,a=t.element,o=[],h=new Set,c=new Set,d=t.timelines.map(t=>{const d=t.element;h.add(d);const u=d.__ng_removed;if(u&&u.removedBeforeQueried)return new Fb(t.duration,t.delay);const p=d!==a,m=function(e){const t=[];return function e(t,n){for(let i=0;i<t.length;i++){const s=t[i];s instanceof Hb?e(s.players,n):n.push(s)}}(e,t),t}((n.get(d)||CS).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===d),f=s.get(d),g=l.get(d),b=i_(0,this._normalizer,0,t.keyframes,f,g),v=this._buildPlayer(t,b,m);if(t.subTimeline&&i&&c.add(d),p){const t=new IS(e,r,d);t.setRealPlayer(v),o.push(t)}return v});o.forEach(e=>{a_(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),h.forEach(e=>PS(e,"ng-animating"));const u=n_(d);return u.onDestroy(()=>{h.forEach(e=>LS(e,"ng-animating")),D_(a,t.toStyles)}),c.forEach(e=>{a_(i,e,[]).push(u)}),u}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Fb(e.duration,e.delay)}}class IS{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Fb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>s_(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){a_(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function DS(e){return e&&1===e.nodeType}function AS(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function MS(e,t,n,i,s){const l=[];n.forEach(e=>l.push(AS(e)));const r=[];i.forEach((n,i)=>{const l={};n.forEach(e=>{const n=l[e]=t.computeStyle(i,e,s);n&&0!=n.length||(i.__ng_removed=_S,r.push(i))}),e.set(i,l)});let a=0;return n.forEach(e=>AS(e,l[a++])),r}function TS(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),s=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let l=s.get(t);if(l)return l;const r=t.parentNode;return l=n.has(r)?r:i.has(r)?1:e(r),s.set(t,l),l}(e);1!==t&&n.get(t).push(e)}),n}function PS(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function LS(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function NS(e,t,n){n_(n).onDone(()=>e.processLeaveNode(t))}function RS(e,t,n){const i=n.get(e);if(!i)return!1;let s=t.get(e);return s?i.forEach(e=>s.add(e)):t.set(e,i),n.delete(e),!0}class FS{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new OS(e,t,n),this._timelineEngine=new wS(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,s){const l=e+"-"+i;let r=this._triggerCache[l];if(!r){const e=[],t=$_(this._driver,s,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);r=function(e,t){return new bS(e,t)}(i,t),this._triggerCache[l]=r}this._transitionEngine.registerTrigger(t,i,r)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,s]=o_(n);this._timelineEngine.command(e,t,s,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,s){if("@"==n.charAt(0)){const[e,i]=o_(n);return this._timelineEngine.listen(e,t,i,s)}return this._transitionEngine.listen(e,t,n,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function HS(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=VS(t[0]),t.length>1&&(i=VS(t[t.length-1]))):t&&(n=VS(t)),n||i?new BS(e,n,i):null}let BS=(()=>{class e{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&D_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(D_(this._element,this._initialStyles),this._endStyles&&(D_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(A_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(A_(this._element,this._endStyles),this._endStyles=null),D_(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function VS(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const s=n[i];jS(s)&&(t=t||{},t[s]=e[s])}return t}function jS(e){return"display"===e||"position"===e}class zS{constructor(e,t,n,i,s,l,r){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=s,this._fillMode=l,this._onDoneFn=r,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=GS(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),$S(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),YS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){qS(this._element,this._name,"paused")}resume(){qS(this._element,this._name,"running")}setPosition(e){const t=US(this._element,this._name);this._position=e*this._duration,$S(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),YS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=GS(e,"").split(","),i=WS(n,t);i>=0&&(n.splice(i,1),$S(e,"",n.join(",")))}(this._element,this._name))}}function qS(e,t,n){$S(e,"PlayState",n,US(e,t))}function US(e,t){const n=GS(e,"");return n.indexOf(",")>0?WS(n.split(","),t):WS([n],t)}function WS(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function YS(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function $S(e,t,n,i){const s="animation"+t;if(null!=i){const t=e.style[s];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[s]=n}function GS(e,t){return e.style["animation"+t]}class XS{constructor(e,t,n,i,s,l,r,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=s,this._finalStyles=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=l||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new zS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:j_(this.element,n))})}this.currentSnapshot=e}}class KS extends Fb{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=y_(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class ZS{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return f_(e)}matchesElement(e,t){return g_(e,t)}containsElement(e,t){return b_(e,t)}query(e,t,n){return v_(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>y_(e));let i=`@keyframes ${t} {\n`,s="";n.forEach(e=>{s=" ";const t=parseFloat(e.offset);i+=`${s}${100*t}% {\n`,s+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${s}animation-timing-function: ${n};\n`));default:return void(i+=`${s}${t}: ${n};\n`)}}),i+=`${s}}\n`}),i+="}\n";const l=document.createElement("style");return l.innerHTML=i,l}animate(e,t,n,i,s,l=[],r){r&&this._notifyFaultyScrubber();const a=l.filter(e=>e instanceof XS),o={};H_(n,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>o[e]=t[e])});const h=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=B_(e,t,o));if(0==n)return new KS(e,h);const c=`gen_css_kf_${this._count++}`,d=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(d);const u=HS(e,t),p=new XS(e,t,c,n,i,s,h,u);return p.onDestroy(()=>{var e;(e=d).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class JS{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:j_(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class QS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ek().toString()),this._cssKeyframesDriver=new ZS}validateStyleProperty(e){return f_(e)}matchesElement(e,t){return g_(e,t)}containsElement(e,t){return b_(e,t)}query(e,t,n){return v_(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,s,l=[],r){if(!r&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,s,l);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};s&&(a.easing=s);const o={},h=l.filter(e=>e instanceof JS);H_(n,i)&&h.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>o[e]=t[e])});const c=HS(e,t=B_(e,t=t.map(e=>E_(e,!1)),o));return new JS(e,t,a,c)}}function ek(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class tk extends Pb{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:He.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Lb(e):e;return sk(this._renderer,null,t,"register",[n]),new nk(t,this._renderer)}}class nk extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ik(this._id,e,t||{},this._renderer)}}class ik{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return sk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function sk(e,t,n,i,s){return e.setProperty(t,`@@${n}:${i}`,s)}class lk{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new rk("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const l=t=>{Array.isArray(t)?t.forEach(l):this.engine.registerTrigger(i,s,e,t.name,t)};return t.data.animation.forEach(l),new ak(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class rk{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ak extends rk{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let s=t.substr(1),l="";return"@"!=s.charAt(0)&&([s,l]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}class ok extends FS{constructor(e,t,n){super(e.body,t,n)}}function hk(){return"function"==typeof ek()?new QS:new ZS}function ck(){return new dS}function dk(e,t,n){return new lk(e,t,n)}const uk=new xe("AnimationModuleType");class pk{}var mk=Jn({encapsulation:2,styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],data:{}});function fk(e){return nr(2,[Ul(671088640,1,{_inputElement:0}),(e()(),Bl(1,0,[["label",1]],null,12,"label",[["class","mat-radio-label"]],[[1,"for",0]],null,null,null,null)),(e()(),Bl(2,0,null,null,7,"div",[["class","mat-radio-container"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"div",[["class","mat-radio-outer-circle"]],null,null,null,null,null)),(e()(),Bl(4,0,null,null,0,"div",[["class","mat-radio-inner-circle"]],null,null,null,null,null)),(e()(),Bl(5,0,[[1,0],["input",1]],null,0,"input",[["class","mat-radio-input cdk-visually-hidden"],["type","radio"]],[[8,"id",0],[8,"checked",0],[8,"disabled",0],[8,"tabIndex",0],[1,"name",0],[1,"value",0],[8,"required",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"change"],[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"change"===t&&(i=!1!==s._onInputChange(n)&&i),"click"===t&&(i=!1!==s._onInputClick(n)&&i),i}),null,null)),(e()(),Bl(6,0,null,null,3,"div",[["class","mat-radio-ripple mat-focus-indicator mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),rs(7,212992,null,0,ey,[hn,Qs,Pg,[2,Qv],[2,uk]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),Zl(8,{enterDuration:0}),(e()(),Bl(9,0,null,null,0,"div",[["class","mat-ripple-element mat-radio-persistent-ripple"]],null,null,null,null,null)),(e()(),Bl(10,0,null,null,3,"div",[["class","mat-radio-label-content"]],[[2,"mat-radio-label-before",null]],null,null,null,null)),(e()(),Bl(11,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(e()(),Ql(-1,null,["\xa0"])),Xl(null,0)],(function(e,t){var n=t.component,i=e(t,8,0,150);e(t,7,0,!0,20,i,n._isRippleDisabled(),Ki(t,1))}),(function(e,t){var n=t.component;e(t,1,0,n.inputId),e(t,5,0,n.inputId,n.checked,n.disabled,n.tabIndex,n.name,n.value,n.required,n.ariaLabel,n.ariaLabelledby,n.ariaDescribedby),e(t,6,0,Ki(t,7).unbounded),e(t,10,0,"before"==n.labelPosition)}))}class gk{}function bk(e){return Error(`A hint was already declared for 'align="${e}"'.`)}class vk{}let yk=0;class wk{constructor(e){this._elementRef=e}}const Ck=Iv(wk,"primary"),xk=new xe("MAT_FORM_FIELD_DEFAULT_OPTIONS"),_k=new xe("MatFormField");class Sk extends Ck{constructor(e,t,n,i,s,l,r,a){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=i,this._defaults=s,this._platform=l,this._ngZone=r,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new k,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${yk++}`,this._labelId=`mat-form-field-label-${yk++}`,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=pg(e)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(td(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ad(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(ad(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),$(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(td(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(td(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ad(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Jc(this._label.nativeElement,"transitionend").pipe(pd(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let e,t;this._hintChildren.forEach(n=>{if("start"===n.align){if(e||this.hintLabel)throw bk("start");e=n}else if("end"===n.align){if(t)throw bk("end");t=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if("hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&(e=this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const i=this._connectionContainerRef.nativeElement,s=i.querySelectorAll(".mat-form-field-outline-start"),l=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const s=i.getBoundingClientRect();if(0===s.width&&0===s.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const l=this._getStartEnd(s),r=this._getStartEnd(e.children[0].getBoundingClientRect());let a=0;for(const t of e.children)a+=t.offsetWidth;t=Math.abs(r-l)-5,n=a>0?.75*a+10:0}for(let r=0;r<s.length;r++)s[r].style.width=`${t}px`;for(let r=0;r<l.length;r++)l[r].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}class kk{}let Ek=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Ok=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=gg(e);return new w(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new k,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275prov=oe({factory:function(){return new e(De(Ek))},token:e,providedIn:"root"}),e})();class Ik{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new As,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=pg(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function(e,t=Gc){return n=>n.lift(new nv(e,t))}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class Dk{}var Ak=Jn({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function Mk(e){return nr(0,[(e()(),Bl(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),Bl(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(e()(),Bl(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(e()(),Bl(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(e()(),Bl(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(e()(),Bl(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(e()(),Bl(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function Tk(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Xl(null,0)],null,null)}function Pk(e){return nr(0,[(e()(),Bl(0,0,null,null,3,null,null,null,null,null,null,null)),Xl(null,2),(e()(),Bl(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ql(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.component._control.placeholder)}))}function Lk(e){return nr(0,[Xl(null,3),(e()(),Hl(0,null,null,0))],null,null)}function Nk(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(e()(),Ql(-1,null,[" *"]))],null,null)}function Rk(e){return nr(0,[(e()(),Bl(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(e,t,n){var i=!0;return"cdkObserveContent"===t&&(i=!1!==e.component.updateOutlineGap()&&i),i}),null,null)),rs(1,16384,null,0,Eo,[],{ngSwitch:[0,"ngSwitch"]},null),rs(2,1196032,null,0,Ik,[Ok,hn,Qs],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(e()(),Hl(16777216,null,null,1,null,Pk)),rs(4,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,Lk)),rs(6,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,Nk)),rs(8,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n._hasLabel()),e(t,2,0,"outline"!=n.appearance),e(t,4,0,!1),e(t,6,0,!0),e(t,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(e,t){var n=t.component;e(t,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function Fk(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Xl(null,4)],null,null)}function Hk(e){return nr(0,[(e()(),Bl(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,1,0,"accent"==n.color,"warn"==n.color)}))}function Bk(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Xl(null,5)],null,(function(e,t){e(t,0,0,t.component._subscriptAnimationState)}))}function Vk(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(e()(),Ql(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n._hintLabelId),e(t,1,0,n.hintLabel)}))}function jk(e){return nr(0,[(e()(),Bl(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Vk)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),Xl(null,6),(e()(),Bl(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Xl(null,7)],(function(e,t){e(t,2,0,t.component.hintLabel)}),(function(e,t){e(t,0,0,t.component._subscriptAnimationState)}))}function zk(e){return nr(2,[Ul(671088640,1,{underlineRef:0}),Ul(402653184,2,{_connectionContainerRef:0}),Ul(671088640,3,{_inputContainerRef:0}),Ul(671088640,4,{_label:0}),(e()(),Bl(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(e()(),Bl(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==(s._control.onContainerClick&&s._control.onContainerClick(n))&&i),i}),null,null)),(e()(),Hl(16777216,null,null,1,null,Mk)),rs(7,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,Tk)),rs(9,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Xl(null,1),(e()(),Bl(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Rk)),rs(14,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,Fk)),rs(16,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,Hk)),rs(18,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),rs(20,16384,null,0,Eo,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),Hl(16777216,null,null,1,null,Bk)),rs(22,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,jk)),rs(24,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,7,0,"outline"==n.appearance),e(t,9,0,n._prefixChildren.length),e(t,14,0,n._hasFloatingLabel()),e(t,16,0,n._suffixChildren.length),e(t,18,0,"outline"!=n.appearance),e(t,20,0,n._getDisplayedMessages()),e(t,22,0,"error"),e(t,24,0,"hint")}),null)}function qk(e){return Error(`MatDatepicker: No provider found for ${e}. You must import one of the following `+"modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}let Uk=(()=>{class e{constructor(){this.changes=new k,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.\u0275prov=oe({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Wk{constructor(e,t,n,i,s={}){this.value=e,this.displayValue=t,this.ariaLabel=n,this.enabled=i,this.cssClasses=s}}class Yk{constructor(e,t){this._elementRef=e,this._ngZone=t,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new As}_cellClicked(e){e.enabled&&this.selectedValueChange.emit(e.value)}ngOnChanges(e){const t=e.numCols,{rows:n,numCols:i}=this;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/i}%`),!t&&this._cellWidth||(this._cellWidth=`${100/i}%`)}_isActiveCell(e,t){let n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(pd(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");e&&e.focus()})})}}class $k{constructor(e,t,n,i){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=d.EMPTY,this.selectedChange=new As,this._userSelection=new As,this.activeDateChange=new As,!this._dateAdapter)throw qk("DateAdapter");if(!this._dateFormats)throw qk("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(td(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){if(this._selectedDate!=e){const t=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(t,n,e);this.selectedChange.emit(i)}this._userSelection.emit()}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),e.preventDefault()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_init(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow");let n=this._dateAdapter.getDayOfWeekNames("long").map((e,n)=>({long:e,narrow:t[n]}));this._weekdays=n.slice(e).concat(n.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,i=this._firstWeekOffset;n<e;n++,i++){7==i&&(this._weeks.push([]),i=0);const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),s=this._shouldEnableDate(e),l=this._dateAdapter.format(e,this._dateFormats.display.dateA11yLabel),r=this.dateClass?this.dateClass(e):void 0;this._weeks[this._weeks.length-1].push(new Wk(n+1,t[n],l,s,r))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class Gk{constructor(e,t,n){if(this._changeDetectorRef=e,this._dateAdapter=t,this._dir=n,this._rerenderSubscription=d.EMPTY,this.selectedChange=new As,this.yearSelected=new As,this.activeDateChange=new As,!this._dateAdapter)throw qk("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Xk(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(td(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const e=this._dateAdapter.getYear(this._activeDate)-Kk(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let t=0,n=[];t<24;t++)n.push(e+t),4==n.length&&(this._years.push(n.map(e=>this._createCellForYear(e))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){this.yearSelected.emit(this._dateAdapter.createDate(e,0,1));let t=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));this.selectedChange.emit(this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Kk(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Kk(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_getActiveCell(){return Kk(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){let t=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return new Wk(e,t,t,this._shouldEnableYear(e))}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}function Xk(e,t,n,i,s){const l=e.getYear(t),r=e.getYear(n),a=Zk(e,i,s);return Math.floor((l-a)/24)===Math.floor((r-a)/24)}function Kk(e,t,n,i){return((e.getYear(t)-Zk(e,n,i))%24+24)%24}function Zk(e,t,n){let i=0;return n?i=e.getYear(n)-24+1:t&&(i=e.getYear(t)),i}class Jk{constructor(e,t,n,i){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=d.EMPTY,this.selectedChange=new As,this.monthSelected=new As,this.activeDateChange=new As,!this._dateAdapter)throw qk("DateAdapter");if(!this._dateFormats)throw qk("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(td(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(t);const n=this._dateAdapter.getNumDaysInMonth(t);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_init(){this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(t=>this._createCellForMonth(t,e[t]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,t){let n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new Wk(e,t.toLocaleUpperCase(),n,this._shouldEnableMonth(e))}_shouldEnableMonth(e){const t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>i}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<i}return!1}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class Qk{constructor(e,t,n,i,s){this._intl=e,this.calendar=t,this._dateAdapter=n,this._dateFormats=i,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const e=this._dateAdapter.getYear(this.calendar.activeDate)-Kk(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),i=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(n,i)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):Xk(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}class eE{constructor(e,t,n,i){if(this._dateAdapter=t,this._dateFormats=n,this._changeDetectorRef=i,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new As,this.yearSelected=new As,this.monthSelected=new As,this._userSelection=new As,this.stateChanges=new k,!this._dateAdapter)throw qk("DateAdapter");if(!this._dateFormats)throw qk("MAT_DATE_FORMATS");this._intlChanges=e.changes.subscribe(()=>{i.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new $g(this.headerComponent||Qk),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){const e=this._getCurrentViewComponent();e&&(this._changeDetectorRef.detectChanges(),e._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell()}updateTodaysDate(){const e=this.currentView;let t;t="month"===e?this.monthView:"year"===e?this.yearView:this.multiYearView,t._init()}_dateSelected(e){e&&!this._dateAdapter.sameDate(e,this.selected)&&this.selectedChange.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_userSelected(){this._userSelection.emit()}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}let tE=0;const nE=new xe("mat-datepicker-scroll-strategy");function iE(e){return()=>e.scrollStrategies.reposition()}class sE{constructor(e){this._elementRef=e}}const lE=Iv(sE);class rE extends lE{constructor(e,t){super(e),this._changeDetectorRef=t,this._animationState="enter",this._animationDone=new k}ngAfterViewInit(){this._calendar.focusActiveCell()}ngOnDestroy(){this._animationDone.complete()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}class aE{constructor(e,t,n,i,s,l,r,a){if(this._dialog=e,this._overlay=t,this._ngZone=n,this._viewContainerRef=i,this._dateAdapter=l,this._dir=r,this._document=a,this.startView="month",this._touchUi=!1,this.yearSelected=new As,this.monthSelected=new As,this.openedStream=new As,this.closedStream=new As,this._opened=!1,this.id=`mat-datepicker-${tE++}`,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=d.EMPTY,this._disabledChange=new k,this._selectedChanged=new k,!this._dateAdapter)throw qk("DateAdapter");this._scrollStrategy=s}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=pg(e)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(e){const t=pg(e);t!==this._disabled&&(this._disabled=t,this._disabledChange.next(t))}get opened(){return this._opened}set opened(e){e?this.open():this.close()}get _selected(){return this._validSelected}set _selected(e){this._validSelected=e}get _minDate(){return this._datepickerInput&&this._datepickerInput.min}get _maxDate(){return this._datepickerInput&&this._datepickerInput.max}get _dateFilter(){return this._datepickerInput&&this._datepickerInput._dateFilter}ngOnDestroy(){this._destroyPopup(),this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete()}select(e){let t=this._selected;this._selected=e,this._dateAdapter.sameDate(t,this._selected)||this._selectedChanged.next(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_registerInput(e){if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=e,this._inputSubscription=this._datepickerInput._valueChange.subscribe(e=>this._selected=e)}open(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened)return;if(this._popupComponentRef&&this._popupRef){const e=this._popupComponentRef.instance;e._startExitAnimation(),e._animationDone.pipe(pd(1)).subscribe(()=>this._destroyPopup())}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(rE,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.datepicker=this,this._dialogRef.componentInstance.color=this.color}_openAsPopup(){const e=new $g(rE,this._viewContainerRef);this._destroyPopup(),this._createPopup();const t=this._popupComponentRef=this._popupRef.attach(e);t.instance.datepicker=this,t.instance.color=this.color,this._ngZone.onStable.asObservable().pipe(pd(1)).subscribe(()=>{this._popupRef.updatePosition()})}_createPopup(){const e=new ob({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(e),this._popupRef.overlayElement.setAttribute("role","dialog"),$(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(fa(e=>27===e.keyCode||this._datepickerInput&&e.altKey&&38===e.keyCode))).subscribe(e=>{e&&e.preventDefault(),this.close()})}_destroyPopup(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}class oE{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}class hE{constructor(e,t,n,i){if(this._elementRef=e,this._dateAdapter=t,this._dateFormats=n,this._formField=i,this.dateChange=new As,this.dateInput=new As,this._valueChange=new As,this._disabledChange=new As,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._datepickerSubscription=d.EMPTY,this._localeSubscription=d.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._minValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this.min||!t||this._dateAdapter.compareDate(this.min,t)<=0?null:{matDatepickerMin:{min:this.min,actual:t}}},this._maxValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this.max||!t||this._dateAdapter.compareDate(this.max,t)>=0?null:{matDatepickerMax:{max:this.max,actual:t}}},this._filterValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return this._dateFilter&&t&&!this._dateFilter(t)?{matDatepickerFilter:!0}:null},this._validator=Hh.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw qk("DateAdapter");if(!this._dateFormats)throw qk("MAT_DATE_FORMATS");this._localeSubscription=t.localeChanges.subscribe(()=>{this.value=this.value})}set matDatepicker(e){e&&(this._datepicker=e,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe(e=>{this.value=e,this._cvaOnChange(e),this._onTouched(),this.dateInput.emit(new oE(this,this._elementRef.nativeElement)),this.dateChange.emit(new oE(this,this._elementRef.nativeElement))}))}set matDatepickerFilter(e){this._dateFilter=e,this._validatorOnChange()}get value(){return this._value}set value(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);const t=this.value;this._value=e,this._formatValue(e),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)}get min(){return this._min}set min(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get max(){return this._max}set max(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(e){const t=pg(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t)),t&&this._isInitialized&&n.blur&&n.blur()}ngAfterViewInit(){this._isInitialized=!0}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){this._datepicker&&e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),e.preventDefault())}_onInput(e){const t=this._lastValueValid;let n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!n||this._dateAdapter.isValid(n),n=this._getValidDateOrNull(n),this._dateAdapter.sameDate(n,this._value)?t!==this._lastValueValid&&this._validatorOnChange():(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new oE(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new oE(this,this._elementRef.nativeElement))}_getThemePalette(){return this._formField?this._formField.color:void 0}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}class cE{constructor(e,t,n){this._intl=e,this._changeDetectorRef=t,this._stateChanges=d.EMPTY;const i=Number(n);this.tabIndex=i||0===i?i:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=pg(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker._disabledChange:pa(),t=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:pa(),n=this.datepicker?$(this.datepicker.openedStream,this.datepicker.closedStream):pa();this._stateChanges.unsubscribe(),this._stateChanges=$(this._intl.changes,e,t,n).subscribe(()=>this._changeDetectorRef.markForCheck())}}class dE{}const uE=Bg({passive:!0});let pE=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return dd;const t=gg(e),n=this._monitoredElements.get(t);if(n)return n.subject.asObservable();const i=new k,s="cdk-text-field-autofilled",l=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(s)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(s)&&(t.classList.remove(s),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!1}))):(t.classList.add(s),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",l,uE),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:i,unlisten:()=>{t.removeEventListener("animationstart",l,uE)}}),i.asObservable()}stopMonitoring(e){const t=gg(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275prov=oe({factory:function(){return new e(De(Pg),De(Qs))},token:e,providedIn:"root"}),e})();class mE{}const fE=new xe("MAT_INPUT_VALUE_ACCESSOR"),gE=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let bE=0;class vE{constructor(e,t,n,i){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=i}}const yE=Mv(vE);class wE extends yE{constructor(e,t,n,i,s,l,r,a,o){super(l,i,s,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${bE++}`,this.focused=!1,this.stateChanges=new k,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Rg().has(e));const h=this._elementRef.nativeElement,c=h.nodeName.toLowerCase();this._inputValueAccessor=r||h,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&o.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===c,this._isTextarea="textarea"===c,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=pg(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=pg(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Rg().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=pg(e)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){if(gE.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focused||this.focus()}}class CE{}const xE=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class _E{constructor(e){this._elementRef=e}}const SE=Iv(Ov(Dv(_E)));class kE extends SE{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of xE)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);e.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",t){this._focusMonitor.focusVia(this._getHostElement(),e,t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}class EE extends kE{constructor(e,t,n){super(t,e,n)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}class OE{}var IE=Jn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],data:{}});function DE(e){return nr(2,[Ul(671088640,1,{ripple:0}),(e()(),Bl(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Xl(null,0),(e()(),Bl(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),rs(4,212992,[[1,4]],0,ey,[hn,Qs,Pg,[2,Qv],[2,uk]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(e()(),Bl(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(e,t){var n=t.component;e(t,3,0,n.isRoundButton||n.isIconButton,Ki(t,4).unbounded)}))}var AE=Jn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],data:{}});function ME(e){return nr(2,[Ul(671088640,1,{ripple:0}),(e()(),Bl(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Xl(null,0),(e()(),Bl(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),rs(4,212992,[[1,4]],0,ey,[hn,Qs,Pg,[2,Qv],[2,uk]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(e()(),Bl(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(e,t){var n=t.component;e(t,3,0,n.isRoundButton||n.isIconButton,Ki(t,4).unbounded)}))}var TE=Jn({encapsulation:2,styles:[],data:{}});function PE(e){return nr(2,[(e()(),Bl(0,0,null,null,12,"div",[["class","mat-calendar-header"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,11,"div",[["class","mat-calendar-controls"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,4,"button",[["cdkAriaLive","polite"],["class","mat-calendar-period-button mat-focus-indicator"],["mat-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.currentPeriodClicked()&&i),i}),DE,IE)),rs(3,180224,null,0,kE,[hn,vv,[2,uk]],null,null),rs(4,147456,null,0,mv,[hn,pv,Ok,Qs],{politeness:[0,"politeness"]},null),(e()(),Ql(5,0,[" "," "])),(e()(),Bl(6,0,null,0,0,"div",[["class","mat-calendar-arrow"]],[[2,"mat-calendar-invert",null]],null,null,null,null)),(e()(),Bl(7,0,null,null,0,"div",[["class","mat-calendar-spacer"]],null,null,null,null,null)),Xl(null,0),(e()(),Bl(9,0,null,null,1,"button",[["class","mat-calendar-previous-button mat-focus-indicator"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.previousClicked()&&i),i}),DE,IE)),rs(10,180224,null,0,kE,[hn,vv,[2,uk]],{disabled:[0,"disabled"]},null),(e()(),Bl(11,0,null,null,1,"button",[["class","mat-calendar-next-button mat-focus-indicator"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.nextClicked()&&i),i}),DE,IE)),rs(12,180224,null,0,kE,[hn,vv,[2,uk]],{disabled:[0,"disabled"]},null)],(function(e,t){var n=t.component;e(t,4,0,"polite"),e(t,10,0,!n.previousEnabled()),e(t,12,0,!n.nextEnabled())}),(function(e,t){var n=t.component;e(t,2,0,n.periodButtonLabel,Ki(t,3).disabled||null,"NoopAnimations"===Ki(t,3)._animationMode),e(t,5,0,n.periodButtonText),e(t,6,0,"month"!=n.calendar.currentView),e(t,9,0,n.prevButtonLabel,Ki(t,10).disabled||null,"NoopAnimations"===Ki(t,10)._animationMode),e(t,11,0,n.nextButtonLabel,Ki(t,12).disabled||null,"NoopAnimations"===Ki(t,12)._animationMode)}))}function LE(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"mat-calendar-header",[],null,null,null,PE,TE)),rs(1,49152,null,0,Qk,[Uk,eE,[2,Pv],[2,Lv],At],null,null)],null,null)}var NE=Bi("mat-calendar-header",Qk,LE,{},{},["*"]),RE=Jn({encapsulation:2,styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],data:{}});function FE(e){return nr(0,[(e()(),Hl(0,null,null,0))],null,null)}function HE(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"mat-month-view",[],null,[[null,"activeDateChange"],[null,"selectedChange"],[null,"_userSelection"]],(function(e,t,n){var i=!0,s=e.component;return"activeDateChange"===t&&(i=!1!==(s.activeDate=n)&&i),"selectedChange"===t&&(i=!1!==s._dateSelected(n)&&i),"_userSelection"===t&&(i=!1!==s._userSelected()&&i),i}),lO,iO)),rs(1,1228800,[[1,4]],0,$k,[At,[2,Lv],[2,Pv],[2,Ab]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"],dateClass:[5,"dateClass"]},{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"})],(function(e,t){var n=t.component;e(t,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter,n.dateClass)}),null)}function BE(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"mat-year-view",[],null,[[null,"activeDateChange"],[null,"monthSelected"],[null,"selectedChange"]],(function(e,t,n){var i=!0,s=e.component;return"activeDateChange"===t&&(i=!1!==(s.activeDate=n)&&i),"monthSelected"===t&&(i=!1!==s._monthSelectedInYearView(n)&&i),"selectedChange"===t&&(i=!1!==s._goToDateInView(n,"month")&&i),i}),aO,rO)),rs(1,1228800,[[2,4]],0,Jk,[At,[2,Lv],[2,Pv],[2,Ab]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"})],(function(e,t){var n=t.component;e(t,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter)}),null)}function VE(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"mat-multi-year-view",[],null,[[null,"activeDateChange"],[null,"yearSelected"],[null,"selectedChange"]],(function(e,t,n){var i=!0,s=e.component;return"activeDateChange"===t&&(i=!1!==(s.activeDate=n)&&i),"yearSelected"===t&&(i=!1!==s._yearSelectedInMultiYearView(n)&&i),"selectedChange"===t&&(i=!1!==s._goToDateInView(n,"year")&&i),i}),hO,oO)),rs(1,1228800,[[3,4]],0,Gk,[At,[2,Pv],[2,Ab]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"})],(function(e,t){var n=t.component;e(t,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter)}),null)}function jE(e){return nr(2,[Ul(671088640,1,{monthView:0}),Ul(671088640,2,{yearView:0}),Ul(671088640,3,{multiYearView:0}),(e()(),Hl(16777216,null,null,1,null,FE)),rs(4,212992,null,0,Jg,[ln,Nn,wa],{portal:[0,"portal"]},null),(e()(),Bl(5,0,null,null,8,"div",[["cdkMonitorSubtreeFocus",""],["class","mat-calendar-content"],["tabindex","-1"]],null,null,null,null,null)),rs(6,16384,null,0,Eo,[],{ngSwitch:[0,"ngSwitch"]},null),rs(7,147456,null,0,wv,[hn,vv],null,null),(e()(),Hl(16777216,null,null,1,null,HE)),rs(9,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,BE)),rs(11,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,VE)),rs(13,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,4,0,n._calendarHeaderPortal),e(t,6,0,n.currentView),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,"multi-year")}),null)}var zE=Jn({encapsulation:2,styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n"],data:{}});function qE(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"tr",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"td",[["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(e()(),Ql(2,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.numCols,n._cellPadding,n._cellPadding),e(t,2,0,n.label)}))}function UE(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"td",[["aria-hidden","true"],["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(e()(),Ql(1,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,n._firstRowOffset,n._cellPadding,n._cellPadding),e(t,1,0,n._firstRowOffset>=n.labelMinRequiredCells?n.label:"")}))}function WE(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"td",[["class","mat-calendar-body-cell mat-focus-indicator"],["role","gridcell"]],[[8,"tabIndex",0],[2,"mat-calendar-body-disabled",null],[2,"mat-calendar-body-active",null],[1,"aria-label",0],[1,"aria-disabled",0],[1,"aria-selected",0],[4,"width",null],[4,"paddingTop",null],[4,"paddingBottom",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component._cellClicked(e.context.$implicit)&&i),i}),null,null)),rs(1,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Bl(2,0,null,null,1,"div",[["class","mat-calendar-body-cell-content"]],[[2,"mat-calendar-body-selected",null],[2,"mat-calendar-body-today",null]],null,null,null,null)),(e()(),Ql(3,null,[" "," "]))],(function(e,t){e(t,1,0,"mat-calendar-body-cell mat-focus-indicator",t.context.$implicit.cssClasses)}),(function(e,t){var n=t.component;e(t,0,0,n._isActiveCell(t.parent.context.index,t.context.index)?0:-1,!t.context.$implicit.enabled,n._isActiveCell(t.parent.context.index,t.context.index),t.context.$implicit.ariaLabel,!t.context.$implicit.enabled||null,n.selectedValue===t.context.$implicit.value,n._cellWidth,n._cellPadding,n._cellPadding),e(t,2,0,n.selectedValue===t.context.$implicit.value,n.todayValue===t.context.$implicit.value),e(t,3,0,t.context.$implicit.displayValue)}))}function YE(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"tr",[["role","row"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,UE)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,WE)),rs(4,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,0===t.context.index&&t.component._firstRowOffset),e(t,4,0,t.context.$implicit)}),null)}function $E(e){return nr(2,[(e()(),Hl(16777216,null,null,1,null,qE)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,YE)),rs(3,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n._firstRowOffset<n.labelMinRequiredCells),e(t,3,0,n.rows)}),null)}var GE=Jn({encapsulation:2,styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],data:{animation:[{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(1, 0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1, 1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms linear"},options:null}],options:{}},{type:7,name:"fadeInCalendar",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"},options:null}],options:{}}]}});function XE(e){return nr(2,[Ul(671088640,1,{_calendar:0}),(e()(),Bl(1,0,null,null,3,"mat-calendar",[["cdkTrapFocus",""],["class","mat-calendar"]],[[8,"id",0],[24,"@fadeInCalendar",0]],[[null,"selectedChange"],[null,"yearSelected"],[null,"monthSelected"],[null,"_userSelection"]],(function(e,t,n){var i=!0,s=e.component;return"selectedChange"===t&&(i=!1!==s.datepicker.select(n)&&i),"yearSelected"===t&&(i=!1!==s.datepicker._selectYear(n)&&i),"monthSelected"===t&&(i=!1!==s.datepicker._selectMonth(n)&&i),"_userSelection"===t&&(i=!1!==s.datepicker.close()&&i),i}),jE,RE)),rs(2,278528,null,0,vo,[In,Dn,hn,pn],{ngClass:[0,"ngClass"]},null),rs(3,1458176,null,0,cv,[hn,hv,wa],{enabled:[0,"enabled"]},null),rs(4,10141696,[[1,4]],0,eE,[Uk,[2,Pv],[2,Lv],At],{headerComponent:[0,"headerComponent"],startAt:[1,"startAt"],startView:[2,"startView"],selected:[3,"selected"],minDate:[4,"minDate"],maxDate:[5,"maxDate"],dateFilter:[6,"dateFilter"],dateClass:[7,"dateClass"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"})],(function(e,t){var n=t.component;e(t,2,0,n.datepicker.panelClass),e(t,3,0,""),e(t,4,0,n.datepicker.calendarHeaderComponent,n.datepicker.startAt,n.datepicker.startView,n.datepicker._selected,n.datepicker._minDate,n.datepicker._maxDate,n.datepicker._dateFilter,n.datepicker.dateClass)}),(function(e,t){e(t,1,0,t.component.datepicker.id,"enter")}))}function KE(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"mat-datepicker-content",[["class","mat-datepicker-content"]],[[40,"@transformPanel",0],[2,"mat-datepicker-content-touch",null]],[["component","@transformPanel.done"]],(function(e,t,n){var i=!0;return"component:@transformPanel.done"===t&&(i=!1!==Ki(e,1)._animationDone.next()&&i),i}),XE,GE)),rs(1,4374528,null,0,rE,[hn,At],null,null)],null,(function(e,t){e(t,0,0,Ki(t,1)._animationState,Ki(t,1).datepicker.touchUi)}))}var ZE=Bi("mat-datepicker-content",rE,KE,{color:"color"},{},[]),JE=Jn({encapsulation:2,styles:[],data:{}});function QE(e){return nr(2,[],null,null)}var eO=Jn({encapsulation:2,styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],data:{}});function tO(e){return nr(0,[(e()(),Bl(0,0,null,null,1,":svg:svg",[["class","mat-datepicker-toggle-default-icon"],["fill","currentColor"],["focusable","false"],["height","24px"],["viewBox","0 0 24 24"],["width","24px"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,0,":svg:path",[["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],null,null,null,null,null))],null,null)}function nO(e){return nr(2,[Ul(671088640,1,{_button:0}),(e()(),Bl(1,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""],["type","button"]],[[1,"aria-haspopup",0],[1,"aria-label",0],[1,"tabindex",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component._open(n)&&i),i}),DE,IE)),rs(2,180224,[[1,4],["button",4]],0,kE,[hn,vv,[2,uk]],{disabled:[0,"disabled"],disableRipple:[1,"disableRipple"]},null),(e()(),Hl(16777216,null,0,1,null,tO)),rs(4,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),Xl(0,0)],(function(e,t){var n=t.component;e(t,2,0,n.disabled,n.disableRipple),e(t,4,0,!n._customIcon)}),(function(e,t){var n=t.component;e(t,1,0,n.datepicker?"dialog":null,n._intl.openCalendarLabel,n.disabled?-1:n.tabIndex,Ki(t,2).disabled||null,"NoopAnimations"===Ki(t,2)._animationMode)}))}var iO=Jn({encapsulation:2,styles:[],data:{}});function sO(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"th",[["scope","col"]],[[1,"aria-label",0]],null,null,null,null)),(e()(),Ql(1,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.long),e(t,1,0,t.context.$implicit.narrow)}))}function lO(e){return nr(2,[Ul(671088640,1,{_matCalendarBody:0}),(e()(),Bl(1,0,null,null,8,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,5,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,sO)),rs(5,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(6,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Bl(7,0,null,null,0,"th",[["aria-hidden","true"],["class","mat-calendar-table-header-divider"],["colspan","7"]],null,null,null,null,null)),(e()(),Bl(8,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,n){var i=!0,s=e.component;return"selectedValueChange"===t&&(i=!1!==s._dateSelected(n)&&i),"keydown"===t&&(i=!1!==s._handleCalendarBodyKeydown(n)&&i),i}),$E,zE)),rs(9,573440,[[1,4]],0,Yk,[hn,Qs],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],activeCell:[5,"activeCell"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var n=t.component;e(t,5,0,n._weekdays),e(t,9,0,n._monthLabel,n._weeks,n._todayDate,n._selectedDate,3,n._dateAdapter.getDate(n.activeDate)-1)}),null)}var rO=Jn({encapsulation:2,styles:[],data:{}});function aO(e){return nr(2,[Ul(671088640,1,{_matCalendarBody:0}),(e()(),Bl(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Bl(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(e()(),Bl(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,n){var i=!0,s=e.component;return"selectedValueChange"===t&&(i=!1!==s._monthSelected(n)&&i),"keydown"===t&&(i=!1!==s._handleCalendarBodyKeydown(n)&&i),i}),$E,zE)),rs(6,573440,[[1,4]],0,Yk,[hn,Qs],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],numCols:[5,"numCols"],activeCell:[6,"activeCell"],cellAspectRatio:[7,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var n=t.component;e(t,6,0,n._yearLabel,n._months,n._todayMonth,n._selectedMonth,2,4,n._dateAdapter.getMonth(n.activeDate),4/7)}),null)}var oO=Jn({encapsulation:2,styles:[],data:{}});function hO(e){return nr(2,[Ul(671088640,1,{_matCalendarBody:0}),(e()(),Bl(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Bl(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(e()(),Bl(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,n){var i=!0,s=e.component;return"selectedValueChange"===t&&(i=!1!==s._yearSelected(n)&&i),"keydown"===t&&(i=!1!==s._handleCalendarBodyKeydown(n)&&i),i}),$E,zE)),rs(6,573440,[[1,4]],0,Yk,[hn,Qs],{rows:[0,"rows"],todayValue:[1,"todayValue"],selectedValue:[2,"selectedValue"],numCols:[3,"numCols"],activeCell:[4,"activeCell"],cellAspectRatio:[5,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var n=t.component;e(t,6,0,n._years,n._todayYear,n._selectedYear,4,n._getActiveCell(),4/7)}),null)}var cO=n("5RHE");class dO{constructor(e,t,n){this.dialogRef=e,this.data=t,this.sanitized=n}onNoClick(){this.dialogRef.close()}ngOnInit(){}convertToPDF(){const e=new cO,t=document.getElementById("contentToConvert");e.fromHTML(t,15,15,{width:500,elementHandlers:{"#editor":(e,t)=>!0}}),e.setFontSize(9),e.save("Outline.pdf")}print(){let e,t;e=this.sanitized.bypassSecurityTrustHtml(document.getElementById("contentToConvert").innerHTML),t=window.open("","_blank","top=0,left=0,height=100%,width=auto"),t.document.open(),t.document.write(`\n      <html>\n        <head>\n          <title>Print tab</title>\n          <style>\n\n          table, th, td {\n            border: 1px solid black;\n            border-collapse: collapse;\n          }\n\n          </style>\n        </head>\n    <body onload="window.print();window.close()">${e}</body>\n      </html>`),t.document.close()}}class uO{constructor(e,t,n,i){this.outlineService=e,this.dialog=t,this.authService=n,this.modalService=i,this.closeResult="",this.days=["Monday","TuesDay","Wednesday","Thursday","Friday"],this.times=["8:30 - 10:30","10:30 - 12:30","12:30 - 14:30","14:30 - 16:30","16:30 - 18:30"],this.yearSemesters=["Fall/2020","Spring/2020","Fall/2021","Spring/2021","Fall/2022","Spring/2022","Fall/2023","Spring/2023"],this.fieldArray=[],this.newAttribute={},this.learningOutcomeArray=[],this.newLearningOutcome={},this.labArray=[],this.newLab={},this.assessments=["Midterm-1","Midterm-2","Final","Labs","Attendance","Project"],this.assessmentArray=[],this.newAssesment={},this.studentOutcomes=[{id:1,outcome:" An ability to identify, formulate, and solve complex engineering problems by applying principles of engineering, science, and mathematics",checked:!1},{id:2,outcome:" An ability to apply engineering design to produce solutions that meet specified needs with consideration of public health, safety, and welfare, as well as global, cultural, social, environmental, and economic factors",checked:!1},{id:3,outcome:" An ability to communicate effectively with a range of audiences",checked:!1},{id:4,outcome:" An ability to recognize ethical and professional responsibilities in engineering situations and make informed judgments, which must consider the impact of engineering solutions in global, economic, environmental, and societal contexts",checked:!1},{id:5,outcome:" An ability to function effectively on a team whose members together provide leadership, create a collaborative and inclusive environment, establish goals, plan tasks, and meet objectives ",checked:!1},{id:6,outcome:" An ability to develop and conduct appropriate experimentation, analyze and interpret data, and use engineering judgment to draw conclusions"},{id:7,outcome:" An ability to acquire and apply new knowledge as needed, using appropriate learning strategies.",checked:!1}],this.selectedStudentOutcomes=[]}ngOnInit(){this.outlineService.getStudyPrograms().subscribe(e=>{this.studyPrograms=e,console.log(this.studyPrograms)}),this.outlineService.getAssistants().subscribe(e=>{this.assistants=e,console.log(this.assistants)}),this.outlineService.getUser(this.authService.decodedToken.nameid).subscribe(e=>{this.instructor=e,console.log(this.instructor)}),this.lectureFormGroup=new yc({day1:new vc,time1:new vc,room1:new vc,day2:new vc,time2:new vc,room2:new vc},Hh.required),this.labFormGroup=new yc({day:new vc,time:new vc,labRoom:new vc}),this.yearSemesterForm=new yc({yearSemester:new vc}),this.assessmentForm=new yc({type:new vc,percentage:new vc}),this.dateGroup=new yc({date:new vc(new Date)}),this.datePre=new Date}selectChangeStudyProgram(e){const t=Number(e),n=this.studyPrograms.findIndex(e=>Number(e.programCode)===t);this.selectedProg=this.studyPrograms[n],this.courses=this.studyPrograms[n].courses}selectChangeCourse(e){const t=this.courses.findIndex(t=>t.courseCode.valueOf()===e);this.selectedCourse=this.courses[t],console.log(this.selectedCourse)}selectChangeAssistant(e){const t=this.assistants.findIndex(t=>t.id===Number(e));this.selectedAssistant=this.assistants[t],console.log(this.selectedCourse.prerequisites)}selectChangeLectureTime(e){}addMidFieldValue(e){this.fieldArray.splice(e,0,this.newAttribute),this.newAttribute={}}addFieldValue(){this.fieldArray.push(this.newAttribute),this.newAttribute={}}deleteFieldValue(e){this.fieldArray.splice(e,1)}addMidAssessmentValue(e){this.assessmentArray.splice(e,0,this.newAssesment),this.newAssesment={}}addAssessmentValue(){this.assessmentArray.push(this.newAssesment),this.newAssesment={}}deleteAssessmentValue(e){this.assessmentArray.splice(e,1)}addMidLabValue(e){this.labArray.splice(e,0,this.newLab),this.newAttribute={}}addLabValue(){this.labArray.push(this.newLab),console.log(this.newLab),this.newAttribute={}}deleteLabValue(e){this.labArray.splice(e,1)}addMidOutcomeValue(e){this.learningOutcomeArray.splice(e,0,this.newLearningOutcome),this.newLearningOutcome={}}addOutcomeValue(){this.learningOutcomeArray.push(this.newLearningOutcome),this.newLearningOutcome={}}deleteOutcomeValue(e){this.learningOutcomeArray.splice(e,1)}openDialog(){console.log(this.authService.decodedToken.nameid),this.dialog.open(dO,{width:"842px",maxWidth:"842px",data:{selectedProg:this.selectedProg,selectedCourse:this.selectedCourse,instructor:this.instructor,selectedAssistant:this.selectedAssistant,lectureFormGroup:this.lectureFormGroup,labFormGroup:this.labFormGroup,yearSemesterForm:this.yearSemesterForm,reOrElec:this.reqOrElec,courseDesc:this.courseDesc,courseWeb:this.courseWeb,textBooks:this.textBooks,readingList:this.readingList,fieldArray:this.fieldArray,learningOutcomeArray:this.learningOutcomeArray,labArray:this.labArray,assessmentArray:this.assessmentArray,attendanceGrade:this.attendanceGrade,makeupPolicy:this.makeupPolicy,missedLabs:this.missedLabs,NGPolicy:this.NGPolicy,selectedStudentOutcomes:this.selectedStudentOutcomes,datePre:this.datePre,dateGroup:this.dateGroup}}).afterClosed().subscribe(e=>{console.log("The dialog was closed"),this.animal=e})}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{this.closeResult=`Closed with: ${e}`},e=>{this.closeResult=`Dismissed ${this.getDismissReason(e)}`})}getDismissReason(e){return e===yu.ESC?"by pressing ESC":e===yu.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}checkCheckBoxvalue(e){if(!1===e.checked)this.selectedStudentOutcomes.push(e),this.studentOutcomes[this.studentOutcomes.findIndex(t=>t.id===e.id)].checked=!0;else{const t=this.selectedStudentOutcomes.findIndex(t=>t.id===e.id);this.studentOutcomes[this.studentOutcomes.findIndex(t=>t.id===e.id)].checked=!1,this.selectedStudentOutcomes.splice(t,1)}}onDateChange(e){console.log(e)}}let pO=(()=>{class e{constructor(e,t){this.http=e,this.baseUrl=t}getStudyPrograms(){return this.http.get(this.baseUrl+"Outline/studyprograms")}getAssistants(){return this.http.get(this.baseUrl+"Outline/assistants")}getUser(e){return this.http.get(this.baseUrl+"Outline/User/"+e)}getCourses(e){return this.http.get(this.baseUrl+"Outline/Courses/"+e)}getStudentLO(){return this.http.get(this.baseUrl+"Outline/StudentLO")}}return e.\u0275prov=oe({factory:function(){return new e(De(nh),De("BASE_URL"))},token:e,providedIn:"root"}),e})();var mO=Jn({encapsulation:0,styles:[["#st[_ngcontent-%COMP%]{display:inline-block}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}#bt[_ngcontent-%COMP%]{display:inline-block}.inline-flex-parent[_ngcontent-%COMP%]{display:inline-flex}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{height:100vh;width:100%}hr[_ngcontent-%COMP%]{display:block;margin:.5em auto;border-style:inset;border-width:1px}p[_ngcontent-%COMP%]{margin:0}"]],data:{}});function fO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],{value:[0,"value"]},null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],{value:[0,"value"]},null),(e()(),Ql(3,null,[""," "]))],(function(e,t){e(t,1,0,t.context.$implicit.programCode),e(t,2,0,t.context.$implicit.programCode)}),(function(e,t){e(t,3,0,t.context.$implicit.programName)}))}function gO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],{value:[0,"value"]},null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],{value:[0,"value"]},null),(e()(),Ql(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.courseCode),e(t,2,0,t.context.$implicit.courseCode)}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function bO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],{value:[0,"value"]},null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],{value:[0,"value"]},null),(e()(),Ql(3,null,[" ",""]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.title+". "+t.context.$implicit.name+" "+t.context.$implicit.surName)}))}function vO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,[""," "]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function yO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function wO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function CO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function xO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function _O(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function SO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function kO(e){return nr(0,[(e()(),Bl(0,0,null,null,26,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Bl(2,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,3)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.week=n)&&i),i}),null,null)),rs(3,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(5,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(7,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(8,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Bl(9,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,10)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,10).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,10)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,10)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.date=n)&&i),i}),null,null)),rs(10,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(12,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(14,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(15,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Bl(16,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,17)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,17).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,17)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,17)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.topic=n)&&i),i}),null,null)),rs(17,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(19,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(21,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(22,0,null,null,4,"td",[["style","flex-direction: row; "]],null,null,null,null,null)),(e()(),Bl(23,0,null,null,1,"i",[["class","fa fa-minus-circle"],["style","color: red;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteFieldValue(e.context.index)&&i),i}),null,null)),(e()(),Ql(-1,null,["remove"])),(e()(),Bl(25,0,null,null,1,"i",[["class","fa fa-plus-circle"],["style","color: green;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addMidFieldValue(e.context.index)&&i),i}),null,null)),(e()(),Ql(-1,null,[" add"]))],(function(e,t){e(t,5,0,Ei(1,"",t.context.$implicit.week,""),t.context.$implicit.week),e(t,12,0,Ei(1,"",t.context.$implicit.date,""),t.context.$implicit.date),e(t,19,0,Ei(1,"",t.context.$implicit.topic,""),t.context.$implicit.topic)}),(function(e,t){e(t,2,0,Ki(t,7).ngClassUntouched,Ki(t,7).ngClassTouched,Ki(t,7).ngClassPristine,Ki(t,7).ngClassDirty,Ki(t,7).ngClassValid,Ki(t,7).ngClassInvalid,Ki(t,7).ngClassPending),e(t,9,0,Ki(t,14).ngClassUntouched,Ki(t,14).ngClassTouched,Ki(t,14).ngClassPristine,Ki(t,14).ngClassDirty,Ki(t,14).ngClassValid,Ki(t,14).ngClassInvalid,Ki(t,14).ngClassPending),e(t,16,0,Ki(t,21).ngClassUntouched,Ki(t,21).ngClassTouched,Ki(t,21).ngClassPristine,Ki(t,21).ngClassDirty,Ki(t,21).ngClassValid,Ki(t,21).ngClassInvalid,Ki(t,21).ngClassPending)}))}function EO(e){return nr(0,[(e()(),Bl(0,0,null,null,26,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,6,"td",[["style","width: 50px;"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,3)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.lab=n)&&i),i}),null,null)),rs(3,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(5,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(7,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(8,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Bl(9,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,10)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,10).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,10)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,10)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.week=n)&&i),i}),null,null)),rs(10,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(12,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(14,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(15,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Bl(16,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,17)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,17).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,17)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,17)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.desc=n)&&i),i}),null,null)),rs(17,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(19,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(21,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(22,0,null,null,4,"td",[["style","flex-direction: row; "]],null,null,null,null,null)),(e()(),Bl(23,0,null,null,1,"i",[["class","fa fa-minus-circle"],["style","color: red;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteLabValue(e.context.index)&&i),i}),null,null)),(e()(),Ql(-1,null,["remove"])),(e()(),Bl(25,0,null,null,1,"i",[["class","fa fa-plus-circle"],["style","color: green;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addMidLabValue(e.context.index)&&i),i}),null,null)),(e()(),Ql(-1,null,[" add"]))],(function(e,t){e(t,5,0,Ei(1,"",t.context.$implicit.lab,""),t.context.$implicit.lab),e(t,12,0,Ei(1,"",t.context.$implicit.week,""),t.context.$implicit.week),e(t,19,0,Ei(1,"",t.context.$implicit.desc,""),t.context.$implicit.desc)}),(function(e,t){e(t,2,0,Ki(t,7).ngClassUntouched,Ki(t,7).ngClassTouched,Ki(t,7).ngClassPristine,Ki(t,7).ngClassDirty,Ki(t,7).ngClassValid,Ki(t,7).ngClassInvalid,Ki(t,7).ngClassPending),e(t,9,0,Ki(t,14).ngClassUntouched,Ki(t,14).ngClassTouched,Ki(t,14).ngClassPristine,Ki(t,14).ngClassDirty,Ki(t,14).ngClassValid,Ki(t,14).ngClassInvalid,Ki(t,14).ngClassPending),e(t,16,0,Ki(t,21).ngClassUntouched,Ki(t,21).ngClassTouched,Ki(t,21).ngClassPristine,Ki(t,21).ngClassDirty,Ki(t,21).ngClassValid,Ki(t,21).ngClassInvalid,Ki(t,21).ngClassPending)}))}function OO(e){return nr(0,[(e()(),Bl(0,0,null,null,18,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,5,"td",[],null,null,null,null,null)),(e()(),Bl(2,0,null,null,4,"h6",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.context.$implicit.number=n)&&i),i}),null,null)),rs(3,671744,null,0,Oc,[[8,null],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(5,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Ql(6,null,["",""])),(e()(),Bl(7,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Bl(8,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,9)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,9).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,9)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,9)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.outcome=n)&&i),i}),null,null)),rs(9,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(11,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(13,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(14,0,null,null,4,"td",[["style","flex-direction: column; "]],null,null,null,null,null)),(e()(),Bl(15,0,null,null,1,"i",[["class","fa fa-minus-circle"],["style","color: rgb(235, 38, 38);"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteOutcomeValue(e.context.index)&&i),i}),null,null)),(e()(),Ql(-1,null,["remove"])),(e()(),Bl(17,0,null,null,1,"i",[["class","fa fa-plus-circle"],["style","color: rgb(33, 172, 33);"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addMidOutcomeValue(e.context.index)&&i),i}),null,null)),(e()(),Ql(-1,null,[" add"]))],(function(e,t){e(t,3,0,Ei(1,"",t.context.$implicit.number,""),t.context.$implicit.number),e(t,11,0,Ei(1,"",t.context.$implicit.outcome,""),t.context.$implicit.outcome)}),(function(e,t){e(t,2,0,Ki(t,5).ngClassUntouched,Ki(t,5).ngClassTouched,Ki(t,5).ngClassPristine,Ki(t,5).ngClassDirty,Ki(t,5).ngClassValid,Ki(t,5).ngClassInvalid,Ki(t,5).ngClassPending),e(t,6,0,t.context.index+1),e(t,8,0,Ki(t,13).ngClassUntouched,Ki(t,13).ngClassTouched,Ki(t,13).ngClassPristine,Ki(t,13).ngClassDirty,Ki(t,13).ngClassValid,Ki(t,13).ngClassInvalid,Ki(t,13).ngClassPending)}))}function IO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,[""," "]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function DO(e){return nr(0,[(e()(),Bl(0,0,null,null,22,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,8,"td",[],null,null,null,null,null)),(e()(),Bl(2,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","type"],["id","inlineFormCustomSelectPref"],["name","assessments"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ki(e,3).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,3).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.type=n)&&i),i}),null,null)),rs(3,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(5,671744,null,0,Lc,[[8,null],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Lc]),rs(7,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,IO)),rs(9,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(10,0,null,null,7,"td",[],null,null,null,null,null)),(e()(),Bl(11,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,12)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,12).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,12)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,12)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==Ki(e,13).onChange(n.target.value)&&i),"input"===t&&(i=!1!==Ki(e,13).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,13).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.percentage=n)&&i),i}),null,null)),rs(12,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(13,16384,null,0,Uh,[pn,hn],null,null),os(1024,null,kh,(function(e,t){return[e,t]}),[Oh,Uh]),rs(15,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(17,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(18,0,null,null,4,"td",[["style","flex-direction: column; "]],null,null,null,null,null)),(e()(),Bl(19,0,null,null,1,"i",[["class","fa fa-minus-circle"],["style","color: rgb(235, 38, 38);"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteAssessmentValue(e.context.index)&&i),i}),null,null)),(e()(),Ql(-1,null,["remove"])),(e()(),Bl(21,0,null,null,1,"i",[["class","fa fa-plus-circle"],["style","color: rgb(33, 172, 33);"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addMidAssessmentValue(e.context.index)&&i),i}),null,null)),(e()(),Ql(-1,null,[" add"]))],(function(e,t){var n=t.component;e(t,5,0,"type",t.context.$implicit.type),e(t,9,0,n.assessments),e(t,15,0,Ei(1,"",t.context.$implicit.percentage,""),t.context.$implicit.percentage)}),(function(e,t){e(t,2,0,Ki(t,7).ngClassUntouched,Ki(t,7).ngClassTouched,Ki(t,7).ngClassPristine,Ki(t,7).ngClassDirty,Ki(t,7).ngClassValid,Ki(t,7).ngClassInvalid,Ki(t,7).ngClassPending),e(t,11,0,Ki(t,17).ngClassUntouched,Ki(t,17).ngClassTouched,Ki(t,17).ngClassPristine,Ki(t,17).ngClassDirty,Ki(t,17).ngClassValid,Ki(t,17).ngClassInvalid,Ki(t,17).ngClassPending)}))}function AO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],null,null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],null,null),(e()(),Ql(3,null,[""," "]))],null,(function(e,t){e(t,3,0,t.context.$implicit)}))}function MO(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","form-check"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,0,"input",[["class","form-check-input"],["type","checkbox"],["value",""]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.checkCheckBoxvalue(e.context.$implicit)&&i),i}),null,null)),(e()(),Bl(2,0,null,null,1,"label",[["class","form-check-label"],["for","defaultCheck1"]],null,null,null,null,null)),(e()(),Ql(3,null,[" ",": ",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit.id,t.context.$implicit.outcome)}))}function TO(e){return nr(0,[(e()(),Bl(0,0,null,null,5,"div",[["class","modal-header ml-5"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Select Outcomes"])),(e()(),Bl(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.context.$implicit.dismiss("Cross click")&&i),i}),null,null)),(e()(),Bl(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Ql(-1,null,["\xd7"])),(e()(),Bl(6,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Bl(7,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,9).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,9).onReset()&&i),i}),null,null)),rs(8,16384,null,0,Ic,[],null,null),rs(9,4210688,null,0,xc,[[8,null],[8,null]],null,null),os(2048,null,Dh,null,[xc]),rs(11,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Hl(16777216,null,null,1,null,MO)),rs(13,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(14,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Bl(15,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.context.$implicit.close("Save click")&&i),i}),null,null)),(e()(),Ql(-1,null,["Save"]))],(function(e,t){e(t,13,0,t.component.studentOutcomes)}),(function(e,t){e(t,7,0,Ki(t,11).ngClassUntouched,Ki(t,11).ngClassTouched,Ki(t,11).ngClassPristine,Ki(t,11).ngClassDirty,Ki(t,11).ngClassValid,Ki(t,11).ngClassInvalid,Ki(t,11).ngClassPending)}))}function PO(e){return nr(0,[(e()(),Bl(0,0,null,null,459,"div",[["class","row"],["style","height: 100vb;"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,457,"div",[["class","column "],["style","flex: 63%;"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,56,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,4).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,4).onReset()&&i),i}),null,null)),rs(3,16384,null,0,Ic,[],null,null),rs(4,4210688,null,0,xc,[[8,null],[8,null]],null,null),os(2048,null,Dh,null,[xc]),rs(6,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(7,0,null,null,51,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),Bl(8,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(9,0,null,null,10,"div",[["class","form-group ml-5 mt-5"],["style","width: 200px;"]],null,null,null,null,null)),(e()(),Bl(10,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Study Program"])),(e()(),Bl(12,0,[["mySelect",1]],null,7,"select",[["class","custom-select my-1 mr-sm-2"],["id","inlineFormCustomSelectPref"],["name","studyPrograms"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,s=e.component;return"change"===t&&(i=!1!==Ki(e,13).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,13).onTouched()&&i),"ngModel"===t&&(i=!1!==s.studyPrograms&&i),"ngModelChange"===t&&(i=!1!==s.selectChangeStudyProgram(n)&&i),i}),null,null)),rs(13,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(15,671744,null,0,Oc,[[2,Dh],[8,null],[8,null],[6,kh]],{name:[0,"name"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(17,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,fO)),rs(19,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(20,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(21,0,null,null,10,"div",[["class","form-group mt-5"],["style","width: 200px;"]],null,null,null,null,null)),(e()(),Bl(22,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Course"])),(e()(),Bl(24,0,[["mySelect",1]],null,7,"select",[["class","custom-select my-1 mr-sm-2"],["id","inlineFormCustomSelectPref"],["name","courses"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,s=e.component;return"change"===t&&(i=!1!==Ki(e,25).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,25).onTouched()&&i),"ngModel"===t&&(i=!1!==s.courses&&i),"ngModelChange"===t&&(i=!1!==s.selectChangeCourse(n)&&i),i}),null,null)),rs(25,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(27,671744,null,0,Oc,[[2,Dh],[8,null],[8,null],[6,kh]],{name:[0,"name"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(29,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,gO)),rs(31,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(32,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(33,0,null,null,10,"div",[["class","form-group mt-5"],["style","width: 200px;"]],null,null,null,null,null)),(e()(),Bl(34,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Assistants"])),(e()(),Bl(36,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["id","inlineFormCustomSelectPref"],["name","assistants"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,s=e.component;return"change"===t&&(i=!1!==Ki(e,37).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,37).onTouched()&&i),"ngModel"===t&&(i=!1!==s.assistants&&i),"ngModelChange"===t&&(i=!1!==s.selectChangeAssistant(n)&&i),i}),null,null)),rs(37,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(39,671744,null,0,Oc,[[2,Dh],[8,null],[8,null],[6,kh]],{name:[0,"name"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(41,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,bO)),rs(43,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(44,0,null,null,14,"div",[["class","col-auto"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,45).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,45).onReset()&&i),i}),null,null)),rs(45,540672,null,0,Ac,[[8,null],[8,null]],{form:[0,"form"]},null),os(2048,null,Dh,null,[Ac]),rs(47,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(48,0,null,null,10,"div",[["class","form-group mt-5"],["style","width: 140px;"]],null,null,null,null,null)),(e()(),Bl(49,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Year/Semster"])),(e()(),Bl(51,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","yearSemester"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ki(e,52).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,52).onTouched()&&i),i}),null,null)),rs(52,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(54,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(56,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,vO)),rs(58,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(59,0,null,null,73,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,61).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,61).onReset()&&i),i}),null,null)),rs(60,16384,null,0,Ic,[],null,null),rs(61,540672,null,0,Ac,[[8,null],[8,null]],{form:[0,"form"]},null),os(2048,null,Dh,null,[Ac]),rs(63,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(64,0,null,null,68,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),Bl(65,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(66,0,null,null,10,"div",[["class","form-group ml-5 "],["style","width: 130px;"]],null,null,null,null,null)),(e()(),Bl(67,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Ql(-1,null,["1st LECTURE Day"])),(e()(),Bl(69,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","day1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ki(e,70).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,70).onTouched()&&i),i}),null,null)),rs(70,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(72,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(74,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,yO)),rs(76,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(77,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(78,0,null,null,10,"div",[["class","form-group ml-1 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Bl(79,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Lecture Time"])),(e()(),Bl(81,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","time1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ki(e,82).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,82).onTouched()&&i),i}),null,null)),rs(82,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(84,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(86,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,wO)),rs(88,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(89,0,null,null,9,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(90,0,null,null,8,"div",[["class","form-group ml-1 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Bl(91,0,null,null,1,"label",[["class","my-1"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Room"])),(e()(),Bl(93,0,null,null,5,"input",[["formControlName","room1"],["style","width: 80px; margin-top: 5px; height: 35px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,94)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,94).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,94)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,94)._compositionEnd(n.target.value)&&i),i}),null,null)),rs(94,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(96,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(98,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(99,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(100,0,null,null,10,"div",[["class","form-group "],["style","width: 138px;"]],null,null,null,null,null)),(e()(),Bl(101,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Ql(-1,null,["2nd LECTURE Day"])),(e()(),Bl(103,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","day2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ki(e,104).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,104).onTouched()&&i),i}),null,null)),rs(104,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(106,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(108,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,CO)),rs(110,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(111,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(112,0,null,null,10,"div",[["class","form-group ml-1 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Bl(113,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Lecture Time"])),(e()(),Bl(115,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","time2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ki(e,116).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,116).onTouched()&&i),i}),null,null)),rs(116,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(118,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(120,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,xO)),rs(122,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(123,0,null,null,9,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(124,0,null,null,8,"div",[["class","form-group ml-1 "],["style","width: 100px;"]],null,null,null,null,null)),(e()(),Bl(125,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Room"])),(e()(),Bl(127,0,null,null,5,"input",[["formControlName","room2"],["style","width: 80px; margin-top: 5px; height: 35px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,128)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,128).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,128)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,128)._compositionEnd(n.target.value)&&i),i}),null,null)),rs(128,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(130,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(132,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(133,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,135).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,135).onReset()&&i),i}),null,null)),rs(134,16384,null,0,Ic,[],null,null),rs(135,540672,null,0,Ac,[[8,null],[8,null]],{form:[0,"form"]},null),os(2048,null,Dh,null,[Ac]),rs(137,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(138,0,null,null,34,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),Bl(139,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(140,0,null,null,10,"div",[["class","form-group ml-5 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Bl(141,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Lab Hour Day"])),(e()(),Bl(143,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","day"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ki(e,144).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,144).onTouched()&&i),i}),null,null)),rs(144,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(146,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(148,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,_O)),rs(150,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(151,0,null,null,11,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(152,0,null,null,10,"div",[["class","form-group ml-1 "],["style","width: 120px;"]],null,null,null,null,null)),(e()(),Bl(153,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Lab Time"])),(e()(),Bl(155,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","time"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ki(e,156).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,156).onTouched()&&i),i}),null,null)),rs(156,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(158,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(160,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,SO)),rs(162,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(163,0,null,null,9,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(164,0,null,null,8,"div",[["class","form-group ml-1 "],["style","width: 100px;"]],null,null,null,null,null)),(e()(),Bl(165,0,null,null,1,"label",[["class","my-1 mr-2"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Room"])),(e()(),Bl(167,0,null,null,5,"input",[["formControlName","labRoom"],["style","width: 80px; margin-top: 5px; height: 35px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,168)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,168).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,168)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,168)._compositionEnd(n.target.value)&&i),i}),null,null)),rs(168,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(170,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(172,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(173,0,null,null,62,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,175).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,175).onReset()&&i),i}),null,null)),rs(174,16384,null,0,Ic,[],null,null),rs(175,4210688,null,0,xc,[[8,null],[8,null]],null,null),os(2048,null,Dh,null,[xc]),rs(177,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(178,0,null,null,13,"div",[["class","form-row ml-5"]],null,null,null,null,null)),(e()(),Bl(179,0,null,null,12,"mat-radio-group",[["class","example-radio-group mat-radio-group"],["name","csType"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var i=!0;return"ngModelChange"===t&&(i=!1!==(e.component.reqOrElec=n)&&i),i}),null,null)),rs(180,1064960,null,1,Xx,[At],{name:[0,"name"]},null),Ul(603979776,1,{_radios:1}),os(1024,null,kh,(function(e){return[e]}),[Xx]),rs(183,671744,null,0,Oc,[[2,Dh],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(185,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(186,0,null,null,2,"mat-radio-button",[["class","example-radio-button mat-radio-button"],["name","crType"],["ng-style","{'display':'inline'}"],["value","Required"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==Ki(e,187)._inputElement.nativeElement.focus()&&i),i}),fk,mk)),rs(187,4440064,[[1,4]],0,Qx,[[2,Xx],hn,At,vv,Vg,[2,uk],[2,Yx]],{name:[0,"name"],value:[1,"value"]},null),(e()(),Ql(-1,0,[" Required Course "])),(e()(),Bl(189,0,null,null,2,"mat-radio-button",[["class","example-radio-button mat-radio-button"],["name","crType"],["ng-style","{'display':'inline'}"],["value","Elective"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==Ki(e,190)._inputElement.nativeElement.focus()&&i),i}),fk,mk)),rs(190,4440064,[[1,4]],0,Qx,[[2,Xx],hn,At,vv,Vg,[2,uk],[2,Yx]],{name:[0,"name"],value:[1,"value"]},null),(e()(),Ql(-1,0,[" Elective Course "])),(e()(),Bl(192,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(193,0,null,null,1,"label",[["for","CourseDecription"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Course Description"])),(e()(),Bl(195,0,null,null,7,"textarea",[["class","span6"],["id","CourseDescription"],["name","courseDesc"],["placeholder","Enter Description?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,196)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,196).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,196)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,196)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.courseDesc=n)&&i),i}),null,null)),rs(196,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(197,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(200,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(202,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(203,0,null,null,10,"div",[["class","form-row ml-5 mt-1 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(204,0,null,null,1,"label",[["for","CourseWebpage"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Course Webpage"])),(e()(),Bl(206,0,null,null,7,"textarea",[["class","span6"],["id","CourseWebpage"],["name","courseWeb"],["placeholder","Webpage?"],["required",""],["rows","1"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,207)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,207).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,207)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,207)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.courseWeb=n)&&i),i}),null,null)),rs(207,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(208,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(211,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(213,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(214,0,null,null,10,"div",[["class","form-row ml-5 mt-1 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(215,0,null,null,1,"label",[["for","Textbook"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Textbook(s)"])),(e()(),Bl(217,0,null,null,7,"textarea",[["class","span6"],["id","Textbook"],["name","textBooks"],["placeholder","Textbook(s)?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,218)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,218).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,218)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,218)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.textBooks=n)&&i),i}),null,null)),rs(218,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(219,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(222,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(224,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(225,0,null,null,10,"div",[["class","form-row ml-5  mt-1"],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(226,0,null,null,1,"label",[["for","ReadingList"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Indicative Basic Reading List"])),(e()(),Bl(228,0,null,null,7,"textarea",[["class","span6"],["id","ReadingList"],["name","readingList"],["placeholder","ReadingList ?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,229)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,229).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,229)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,229)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.readingList=n)&&i),i}),null,null)),rs(229,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(230,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(233,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(235,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(236,0,null,null,36,"table",[["class","table table-striped table-bordered ml-5 mt-3"]],null,null,null,null,null)),(e()(),Bl(237,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),Bl(238,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Bl(239,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Week"])),(e()(),Bl(241,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Date"])),(e()(),Bl(243,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Topics"])),(e()(),Bl(245,0,null,null,27,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,kO)),rs(247,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(248,0,null,null,24,"tr",[],null,null,null,null,null)),(e()(),Bl(249,0,null,null,6,"td",[["style","width: 50px;"]],null,null,null,null,null)),(e()(),Bl(250,0,null,null,5,"input",[["class","form-control"],["id","newAttributeCode"],["name","newAttributeCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,251)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,251).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,251)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,251)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.newAttribute.week=n)&&i),i}),null,null)),rs(251,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(253,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(255,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(256,0,null,null,6,"td",[["style","width: 160px;"]],null,null,null,null,null)),(e()(),Bl(257,0,null,null,5,"input",[["class","form-control"],["id","newAttributeName"],["name","newAttributeName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,258)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,258).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,258)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,258)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.newAttribute.date=n)&&i),i}),null,null)),rs(258,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(260,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(262,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(263,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Bl(264,0,null,null,5,"input",[["class","form-control"],["id","newAttributePrice"],["name","newAttributePrice"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,265)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,265).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,265)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,265)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.newAttribute.topic=n)&&i),i}),null,null)),rs(265,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(267,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(269,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(270,0,null,null,2,"td",[["style","width:50px;"]],null,null,null,null,null)),(e()(),Bl(271,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addFieldValue()&&i),i}),null,null)),(e()(),Ql(-1,null,["Add"])),(e()(),Bl(273,0,null,null,36,"table",[["class","table table-striped table-bordered ml-5 mt-3"]],null,null,null,null,null)),(e()(),Bl(274,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),Bl(275,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Bl(276,0,null,null,1,"th",[["style","width: 66px;"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Lab"])),(e()(),Bl(278,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Week"])),(e()(),Bl(280,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Description"])),(e()(),Bl(282,0,null,null,27,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,EO)),rs(284,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(285,0,null,null,24,"tr",[],null,null,null,null,null)),(e()(),Bl(286,0,null,null,6,"td",[["style","width: 50px;"]],null,null,null,null,null)),(e()(),Bl(287,0,null,null,5,"input",[["class","form-control"],["id","newLabCode"],["name","newLabCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,288)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,288).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,288)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,288)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.newLab.lab=n)&&i),i}),null,null)),rs(288,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(290,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(292,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(293,0,null,null,6,"td",[["style","width: 160px;"]],null,null,null,null,null)),(e()(),Bl(294,0,null,null,5,"input",[["class","form-control"],["id","newLabName"],["name","newLabName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,295)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,295).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,295)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,295)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.newLab.week=n)&&i),i}),null,null)),rs(295,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(297,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(299,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(300,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Bl(301,0,null,null,5,"input",[["class","form-control"],["id","newLabPrice"],["name","newLabPrice"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,302)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,302).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,302)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,302)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.newLab.desc=n)&&i),i}),null,null)),rs(302,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(304,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(306,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(307,0,null,null,2,"td",[["style","width:50px;"]],null,null,null,null,null)),(e()(),Bl(308,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addLabValue()&&i),i}),null,null)),(e()(),Ql(-1,null,["Add"])),(e()(),Bl(310,0,null,null,21,"table",[["class","table table-striped table-bordered ml-5 mt-3"],["style","border: none;"]],null,null,null,null,null)),(e()(),Bl(311,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Bl(312,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(313,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Number"])),(e()(),Bl(315,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Learning Outcome"])),(e()(),Bl(317,0,null,null,14,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,OO)),rs(319,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(320,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),Bl(321,0,null,null,0,"td",[["style","width: 10%;"]],null,null,null,null,null)),(e()(),Bl(322,0,null,null,6,"td",[["style","width: 70%;"]],null,null,null,null,null)),(e()(),Bl(323,0,null,null,5,"input",[["class","form-control"],["id","newOutcomeCode"],["name","newOutcomeCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,324)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,324).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,324)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,324)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.newLearningOutcome.outcome=n)&&i),i}),null,null)),rs(324,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(326,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(328,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(329,0,null,null,2,"td",[["style","width:20%;"]],null,null,null,null,null)),(e()(),Bl(330,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addOutcomeValue()&&i),i}),null,null)),(e()(),Ql(-1,null,["Add"])),(e()(),Bl(332,0,null,null,29,"table",[["class","table table-striped table-bordered ml-5 mt-3"],["style","border: none; width: 50%;"]],null,null,null,null,null)),(e()(),Bl(333,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Bl(334,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(335,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Assessment"])),(e()(),Bl(337,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Percentage"])),(e()(),Bl(339,0,null,null,22,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,DO)),rs(341,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(342,0,null,null,19,"tr",[],null,null,null,null,null)),(e()(),Bl(343,0,null,null,8,"td",[["style","width: 40%;"]],null,null,null,null,null)),(e()(),Bl(344,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["id","inlineFormCustomSelectPref"],["name","assessments"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,s=e.component;return"change"===t&&(i=!1!==Ki(e,345).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,345).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(s.newAssesment.type=n)&&i),i}),null,null)),rs(345,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(347,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(349,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,AO)),rs(351,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(352,0,null,null,6,"td",[["style","width: 30%;"]],null,null,null,null,null)),(e()(),Bl(353,0,null,null,5,"input",[["class","form-control"],["id","newAssCode"],["name","newAssessmentCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,354)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,354).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,354)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,354)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.newAssesment.percentage=n)&&i),i}),null,null)),rs(354,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(356,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(358,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(359,0,null,null,2,"td",[["style","width:20%;"]],null,null,null,null,null)),(e()(),Bl(360,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addAssessmentValue()&&i),i}),null,null)),(e()(),Ql(-1,null,["Add"])),(e()(),Bl(362,0,null,null,48,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,364).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,364).onReset()&&i),i}),null,null)),rs(363,16384,null,0,Ic,[],null,null),rs(364,4210688,null,0,xc,[[8,null],[8,null]],null,null),os(2048,null,Dh,null,[xc]),rs(366,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(367,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(368,0,null,null,1,"label",[["for","CourseDecription"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Attendance grade:"])),(e()(),Bl(370,0,null,null,7,"textarea",[["class","span6"],["id","attendanceGrade"],["name","attendanceGrade"],["placeholder","Enter attendance grade policy?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,371)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,371).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,371)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,371)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.attendanceGrade=n)&&i),i}),null,null)),rs(371,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(372,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(375,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(377,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(378,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(379,0,null,null,1,"label",[["for","makeupPolicy"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Policy on makeups: "])),(e()(),Bl(381,0,null,null,7,"textarea",[["class","span6"],["id","makeupPolicy"],["name","makeupPolicy"],["placeholder","Enter makeup policy?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,382)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,382).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,382)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,382)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.makeupPolicy=n)&&i),i}),null,null)),rs(382,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(383,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(386,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(388,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(389,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(390,0,null,null,1,"label",[["for","NGPolicy"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Policy on the NG grade: "])),(e()(),Bl(392,0,null,null,7,"textarea",[["class","span6"],["id","NGPolicy"],["name","NGPolicy"],["placeholder","Enter NG Grade policy?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,393)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,393).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,393)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,393)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.NGPolicy=n)&&i),i}),null,null)),rs(393,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(394,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(397,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(399,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(400,0,null,null,10,"div",[["class","form-row ml-5 "],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(401,0,null,null,1,"label",[["for","missedLabs"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Policy on missed labs: "])),(e()(),Bl(403,0,null,null,7,"textarea",[["class","span6"],["id","missedLabs"],["name","missedLabs"],["placeholder","Enter Missed Labs policy?"],["required",""],["rows","3"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==Ki(e,404)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,404).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,404)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,404)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(s.missedLabs=n)&&i),i}),null,null)),rs(404,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),rs(405,16384,null,0,Nc,[],{required:[0,"required"]},null),os(1024,null,Rh,(function(e){return[e]}),[Nc]),os(1024,null,kh,(function(e){return[e]}),[Oh]),rs(408,671744,null,0,Oc,[[2,Dh],[6,Rh],[8,null],[6,kh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),os(2048,null,Mh,null,[Oc]),rs(410,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Bl(411,0,null,null,3,"div",[["class","ml-5 mt-2"]],null,null,null,null,null)),(e()(),Hl(0,[["content",2]],null,0,null,TO)),(e()(),Bl(413,0,null,null,1,"button",[["class","btn btn-lg btn-outline-primary"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.open(Ki(e,412))&&i),i}),null,null)),(e()(),Ql(-1,null,["Select Course Student Outcomes"])),(e()(),Bl(415,0,null,null,43,"div",[["class","form-row ml-5  mt-3"],["style","flex-direction: column; width: 700px;"]],null,null,null,null,null)),(e()(),Bl(416,0,null,null,38,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,418).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,418).onReset()&&i),i}),null,null)),rs(417,16384,null,0,Ic,[],null,null),rs(418,4210688,null,0,xc,[[8,null],[8,null]],null,null),os(2048,null,Dh,null,[xc]),rs(420,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(421,0,null,null,33,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Bl(422,0,null,null,32,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,423).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,423).onReset()&&i),i}),null,null)),rs(423,540672,null,0,Ac,[[8,null],[8,null]],{form:[0,"form"]},null),os(2048,null,Dh,null,[Ac]),rs(425,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(426,0,null,null,28,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,zk,Ak)),rs(427,7520256,null,9,Sk,[hn,At,[2,iy],[2,Ab],[2,xk],Pg,Qs,[2,uk]],null,null),Ul(603979776,2,{_controlNonStatic:0}),Ul(335544320,3,{_controlStatic:0}),Ul(603979776,4,{_labelChildNonStatic:0}),Ul(335544320,5,{_labelChildStatic:0}),Ul(603979776,6,{_placeholderChild:0}),Ul(603979776,7,{_errorChildren:1}),Ul(603979776,8,{_hintChildren:1}),Ul(603979776,9,{_prefixChildren:1}),Ul(603979776,10,{_suffixChildren:1}),os(2048,null,_k,null,[Sk]),(e()(),Bl(438,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","date"],["matInput",""],["placeholder","Preparation Date?"],["readonly",""]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"change"],[null,"blur"],[null,"keydown"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,439)._onInput(n.target.value)&&i),"change"===t&&(i=!1!==Ki(e,439)._onChange()&&i),"blur"===t&&(i=!1!==Ki(e,439)._onBlur()&&i),"keydown"===t&&(i=!1!==Ki(e,439)._onKeydown(n)&&i),"input"===t&&(i=!1!==Ki(e,441)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,441).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,441)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,441)._compositionEnd(n.target.value)&&i),"focus"===t&&(i=!1!==Ki(e,446)._focusChanged(!0)&&i),"blur"===t&&(i=!1!==Ki(e,446)._focusChanged(!1)&&i),"input"===t&&(i=!1!==Ki(e,446)._onInput()&&i),i}),null,null)),rs(439,4341760,null,0,hE,[hn,[2,Pv],[2,Lv],[2,_k]],{matDatepicker:[0,"matDatepicker"]},null),os(1024,null,Rh,(function(e){return[e]}),[hE]),rs(441,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e,t){return[e,t]}),[Oh,hE]),rs(443,671744,null,0,Lc,[[3,Dh],[6,Rh],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),os(2048,null,fE,null,[hE]),rs(446,999424,null,0,wE,[hn,Pg,[6,Mh],[2,xc],[2,Ac],Wv,[6,fE],pE,Qs],{placeholder:[0,"placeholder"],readonly:[1,"readonly"]},null),rs(447,16384,null,0,Ph,[[4,Mh]],null,null),os(2048,[[2,4],[3,4]],gk,null,[wE]),(e()(),Bl(449,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[1,"tabindex",0],[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==Ki(e,451)._button.focus()&&i),i}),nO,eO)),rs(450,16384,[[10,4]],0,vk,[],null,null),rs(451,1753088,null,1,cE,[Uk,At,[8,null]],{datepicker:[0,"datepicker"]},null),Ul(603979776,11,{_customIcon:0}),(e()(),Bl(453,16777216,null,1,1,"mat-datepicker",[],null,null,null,QE,JE)),rs(454,180224,[["picker",4]],0,aE,[Gb,kb,Qs,Nn,nE,[2,Pv],[2,Ab],[2,wa]],null,null),(e()(),Bl(455,0,null,null,2,"button",[["class","btn btn-primary mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.openDialog()&&i),i}),DE,IE)),rs(456,180224,null,0,kE,[hn,vv,[2,uk]],null,null),(e()(),Ql(-1,0,["Preview"])),(e()(),Bl(458,0,null,null,0,"p",[["class","mt-5"]],null,null,null,null,null)),(e()(),Bl(459,0,null,null,0,"div",[["class","column right-side"],["style","flex: 10%;"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,15,0,"studyPrograms"),e(t,19,0,n.studyPrograms),e(t,27,0,"courses"),e(t,31,0,n.courses),e(t,39,0,"assistants"),e(t,43,0,n.assistants),e(t,45,0,n.yearSemesterForm),e(t,54,0,"yearSemester"),e(t,58,0,n.yearSemesters),e(t,61,0,n.lectureFormGroup),e(t,72,0,"day1"),e(t,76,0,n.days),e(t,84,0,"time1"),e(t,88,0,n.times),e(t,96,0,"room1"),e(t,106,0,"day2"),e(t,110,0,n.days),e(t,118,0,"time2"),e(t,122,0,n.times),e(t,130,0,"room2"),e(t,135,0,n.labFormGroup),e(t,146,0,"day"),e(t,150,0,n.days),e(t,158,0,"time"),e(t,162,0,n.times),e(t,170,0,"labRoom"),e(t,180,0,"csType"),e(t,183,0,"csType",n.reqOrElec),e(t,187,0,"crType","Required"),e(t,190,0,"crType","Elective"),e(t,197,0,""),e(t,200,0,"courseDesc",n.courseDesc),e(t,208,0,""),e(t,211,0,"courseWeb",n.courseWeb),e(t,219,0,""),e(t,222,0,"textBooks",n.textBooks),e(t,230,0,""),e(t,233,0,"readingList",n.readingList),e(t,247,0,n.fieldArray),e(t,253,0,"newAttributeCode",n.newAttribute.week),e(t,260,0,"newAttributeName",n.newAttribute.date),e(t,267,0,"newAttributePrice",n.newAttribute.topic),e(t,284,0,n.labArray),e(t,290,0,"newLabCode",n.newLab.lab),e(t,297,0,"newLabName",n.newLab.week),e(t,304,0,"newLabPrice",n.newLab.desc),e(t,319,0,n.learningOutcomeArray),e(t,326,0,"newOutcomeCode",n.newLearningOutcome.outcome),e(t,341,0,n.assessmentArray),e(t,347,0,"assessments",n.newAssesment.type),e(t,351,0,n.assessments),e(t,356,0,"newAssessmentCode",n.newAssesment.percentage),e(t,372,0,""),e(t,375,0,"attendanceGrade",n.attendanceGrade),e(t,383,0,""),e(t,386,0,"makeupPolicy",n.makeupPolicy),e(t,394,0,""),e(t,397,0,"NGPolicy",n.NGPolicy),e(t,405,0,""),e(t,408,0,"missedLabs",n.missedLabs),e(t,423,0,n.dateGroup),e(t,439,0,Ki(t,454)),e(t,443,0,"date"),e(t,446,0,"Preparation Date?",""),e(t,451,0,Ki(t,454))}),(function(e,t){e(t,2,0,Ki(t,6).ngClassUntouched,Ki(t,6).ngClassTouched,Ki(t,6).ngClassPristine,Ki(t,6).ngClassDirty,Ki(t,6).ngClassValid,Ki(t,6).ngClassInvalid,Ki(t,6).ngClassPending),e(t,12,0,Ki(t,17).ngClassUntouched,Ki(t,17).ngClassTouched,Ki(t,17).ngClassPristine,Ki(t,17).ngClassDirty,Ki(t,17).ngClassValid,Ki(t,17).ngClassInvalid,Ki(t,17).ngClassPending),e(t,24,0,Ki(t,29).ngClassUntouched,Ki(t,29).ngClassTouched,Ki(t,29).ngClassPristine,Ki(t,29).ngClassDirty,Ki(t,29).ngClassValid,Ki(t,29).ngClassInvalid,Ki(t,29).ngClassPending),e(t,36,0,Ki(t,41).ngClassUntouched,Ki(t,41).ngClassTouched,Ki(t,41).ngClassPristine,Ki(t,41).ngClassDirty,Ki(t,41).ngClassValid,Ki(t,41).ngClassInvalid,Ki(t,41).ngClassPending),e(t,44,0,Ki(t,47).ngClassUntouched,Ki(t,47).ngClassTouched,Ki(t,47).ngClassPristine,Ki(t,47).ngClassDirty,Ki(t,47).ngClassValid,Ki(t,47).ngClassInvalid,Ki(t,47).ngClassPending),e(t,51,0,Ki(t,56).ngClassUntouched,Ki(t,56).ngClassTouched,Ki(t,56).ngClassPristine,Ki(t,56).ngClassDirty,Ki(t,56).ngClassValid,Ki(t,56).ngClassInvalid,Ki(t,56).ngClassPending),e(t,59,0,Ki(t,63).ngClassUntouched,Ki(t,63).ngClassTouched,Ki(t,63).ngClassPristine,Ki(t,63).ngClassDirty,Ki(t,63).ngClassValid,Ki(t,63).ngClassInvalid,Ki(t,63).ngClassPending),e(t,69,0,Ki(t,74).ngClassUntouched,Ki(t,74).ngClassTouched,Ki(t,74).ngClassPristine,Ki(t,74).ngClassDirty,Ki(t,74).ngClassValid,Ki(t,74).ngClassInvalid,Ki(t,74).ngClassPending),e(t,81,0,Ki(t,86).ngClassUntouched,Ki(t,86).ngClassTouched,Ki(t,86).ngClassPristine,Ki(t,86).ngClassDirty,Ki(t,86).ngClassValid,Ki(t,86).ngClassInvalid,Ki(t,86).ngClassPending),e(t,93,0,Ki(t,98).ngClassUntouched,Ki(t,98).ngClassTouched,Ki(t,98).ngClassPristine,Ki(t,98).ngClassDirty,Ki(t,98).ngClassValid,Ki(t,98).ngClassInvalid,Ki(t,98).ngClassPending),e(t,103,0,Ki(t,108).ngClassUntouched,Ki(t,108).ngClassTouched,Ki(t,108).ngClassPristine,Ki(t,108).ngClassDirty,Ki(t,108).ngClassValid,Ki(t,108).ngClassInvalid,Ki(t,108).ngClassPending),e(t,115,0,Ki(t,120).ngClassUntouched,Ki(t,120).ngClassTouched,Ki(t,120).ngClassPristine,Ki(t,120).ngClassDirty,Ki(t,120).ngClassValid,Ki(t,120).ngClassInvalid,Ki(t,120).ngClassPending),e(t,127,0,Ki(t,132).ngClassUntouched,Ki(t,132).ngClassTouched,Ki(t,132).ngClassPristine,Ki(t,132).ngClassDirty,Ki(t,132).ngClassValid,Ki(t,132).ngClassInvalid,Ki(t,132).ngClassPending),e(t,133,0,Ki(t,137).ngClassUntouched,Ki(t,137).ngClassTouched,Ki(t,137).ngClassPristine,Ki(t,137).ngClassDirty,Ki(t,137).ngClassValid,Ki(t,137).ngClassInvalid,Ki(t,137).ngClassPending),e(t,143,0,Ki(t,148).ngClassUntouched,Ki(t,148).ngClassTouched,Ki(t,148).ngClassPristine,Ki(t,148).ngClassDirty,Ki(t,148).ngClassValid,Ki(t,148).ngClassInvalid,Ki(t,148).ngClassPending),e(t,155,0,Ki(t,160).ngClassUntouched,Ki(t,160).ngClassTouched,Ki(t,160).ngClassPristine,Ki(t,160).ngClassDirty,Ki(t,160).ngClassValid,Ki(t,160).ngClassInvalid,Ki(t,160).ngClassPending),e(t,167,0,Ki(t,172).ngClassUntouched,Ki(t,172).ngClassTouched,Ki(t,172).ngClassPristine,Ki(t,172).ngClassDirty,Ki(t,172).ngClassValid,Ki(t,172).ngClassInvalid,Ki(t,172).ngClassPending),e(t,173,0,Ki(t,177).ngClassUntouched,Ki(t,177).ngClassTouched,Ki(t,177).ngClassPristine,Ki(t,177).ngClassDirty,Ki(t,177).ngClassValid,Ki(t,177).ngClassInvalid,Ki(t,177).ngClassPending),e(t,179,0,Ki(t,185).ngClassUntouched,Ki(t,185).ngClassTouched,Ki(t,185).ngClassPristine,Ki(t,185).ngClassDirty,Ki(t,185).ngClassValid,Ki(t,185).ngClassInvalid,Ki(t,185).ngClassPending),e(t,186,1,[Ki(t,187).checked,Ki(t,187).disabled,"NoopAnimations"===Ki(t,187)._animationMode,"primary"===Ki(t,187).color,"accent"===Ki(t,187).color,"warn"===Ki(t,187).color,-1,Ki(t,187).id,null,null,null]),e(t,189,1,[Ki(t,190).checked,Ki(t,190).disabled,"NoopAnimations"===Ki(t,190)._animationMode,"primary"===Ki(t,190).color,"accent"===Ki(t,190).color,"warn"===Ki(t,190).color,-1,Ki(t,190).id,null,null,null]),e(t,195,0,Ki(t,197).required?"":null,Ki(t,202).ngClassUntouched,Ki(t,202).ngClassTouched,Ki(t,202).ngClassPristine,Ki(t,202).ngClassDirty,Ki(t,202).ngClassValid,Ki(t,202).ngClassInvalid,Ki(t,202).ngClassPending),e(t,206,0,Ki(t,208).required?"":null,Ki(t,213).ngClassUntouched,Ki(t,213).ngClassTouched,Ki(t,213).ngClassPristine,Ki(t,213).ngClassDirty,Ki(t,213).ngClassValid,Ki(t,213).ngClassInvalid,Ki(t,213).ngClassPending),e(t,217,0,Ki(t,219).required?"":null,Ki(t,224).ngClassUntouched,Ki(t,224).ngClassTouched,Ki(t,224).ngClassPristine,Ki(t,224).ngClassDirty,Ki(t,224).ngClassValid,Ki(t,224).ngClassInvalid,Ki(t,224).ngClassPending),e(t,228,0,Ki(t,230).required?"":null,Ki(t,235).ngClassUntouched,Ki(t,235).ngClassTouched,Ki(t,235).ngClassPristine,Ki(t,235).ngClassDirty,Ki(t,235).ngClassValid,Ki(t,235).ngClassInvalid,Ki(t,235).ngClassPending),e(t,250,0,Ki(t,255).ngClassUntouched,Ki(t,255).ngClassTouched,Ki(t,255).ngClassPristine,Ki(t,255).ngClassDirty,Ki(t,255).ngClassValid,Ki(t,255).ngClassInvalid,Ki(t,255).ngClassPending),e(t,257,0,Ki(t,262).ngClassUntouched,Ki(t,262).ngClassTouched,Ki(t,262).ngClassPristine,Ki(t,262).ngClassDirty,Ki(t,262).ngClassValid,Ki(t,262).ngClassInvalid,Ki(t,262).ngClassPending),e(t,264,0,Ki(t,269).ngClassUntouched,Ki(t,269).ngClassTouched,Ki(t,269).ngClassPristine,Ki(t,269).ngClassDirty,Ki(t,269).ngClassValid,Ki(t,269).ngClassInvalid,Ki(t,269).ngClassPending),e(t,287,0,Ki(t,292).ngClassUntouched,Ki(t,292).ngClassTouched,Ki(t,292).ngClassPristine,Ki(t,292).ngClassDirty,Ki(t,292).ngClassValid,Ki(t,292).ngClassInvalid,Ki(t,292).ngClassPending),e(t,294,0,Ki(t,299).ngClassUntouched,Ki(t,299).ngClassTouched,Ki(t,299).ngClassPristine,Ki(t,299).ngClassDirty,Ki(t,299).ngClassValid,Ki(t,299).ngClassInvalid,Ki(t,299).ngClassPending),e(t,301,0,Ki(t,306).ngClassUntouched,Ki(t,306).ngClassTouched,Ki(t,306).ngClassPristine,Ki(t,306).ngClassDirty,Ki(t,306).ngClassValid,Ki(t,306).ngClassInvalid,Ki(t,306).ngClassPending),e(t,323,0,Ki(t,328).ngClassUntouched,Ki(t,328).ngClassTouched,Ki(t,328).ngClassPristine,Ki(t,328).ngClassDirty,Ki(t,328).ngClassValid,Ki(t,328).ngClassInvalid,Ki(t,328).ngClassPending),e(t,344,0,Ki(t,349).ngClassUntouched,Ki(t,349).ngClassTouched,Ki(t,349).ngClassPristine,Ki(t,349).ngClassDirty,Ki(t,349).ngClassValid,Ki(t,349).ngClassInvalid,Ki(t,349).ngClassPending),e(t,353,0,Ki(t,358).ngClassUntouched,Ki(t,358).ngClassTouched,Ki(t,358).ngClassPristine,Ki(t,358).ngClassDirty,Ki(t,358).ngClassValid,Ki(t,358).ngClassInvalid,Ki(t,358).ngClassPending),e(t,362,0,Ki(t,366).ngClassUntouched,Ki(t,366).ngClassTouched,Ki(t,366).ngClassPristine,Ki(t,366).ngClassDirty,Ki(t,366).ngClassValid,Ki(t,366).ngClassInvalid,Ki(t,366).ngClassPending),e(t,370,0,Ki(t,372).required?"":null,Ki(t,377).ngClassUntouched,Ki(t,377).ngClassTouched,Ki(t,377).ngClassPristine,Ki(t,377).ngClassDirty,Ki(t,377).ngClassValid,Ki(t,377).ngClassInvalid,Ki(t,377).ngClassPending),e(t,381,0,Ki(t,383).required?"":null,Ki(t,388).ngClassUntouched,Ki(t,388).ngClassTouched,Ki(t,388).ngClassPristine,Ki(t,388).ngClassDirty,Ki(t,388).ngClassValid,Ki(t,388).ngClassInvalid,Ki(t,388).ngClassPending),e(t,392,0,Ki(t,394).required?"":null,Ki(t,399).ngClassUntouched,Ki(t,399).ngClassTouched,Ki(t,399).ngClassPristine,Ki(t,399).ngClassDirty,Ki(t,399).ngClassValid,Ki(t,399).ngClassInvalid,Ki(t,399).ngClassPending),e(t,403,0,Ki(t,405).required?"":null,Ki(t,410).ngClassUntouched,Ki(t,410).ngClassTouched,Ki(t,410).ngClassPristine,Ki(t,410).ngClassDirty,Ki(t,410).ngClassValid,Ki(t,410).ngClassInvalid,Ki(t,410).ngClassPending),e(t,416,0,Ki(t,420).ngClassUntouched,Ki(t,420).ngClassTouched,Ki(t,420).ngClassPristine,Ki(t,420).ngClassDirty,Ki(t,420).ngClassValid,Ki(t,420).ngClassInvalid,Ki(t,420).ngClassPending),e(t,422,0,Ki(t,425).ngClassUntouched,Ki(t,425).ngClassTouched,Ki(t,425).ngClassPristine,Ki(t,425).ngClassDirty,Ki(t,425).ngClassValid,Ki(t,425).ngClassInvalid,Ki(t,425).ngClassPending),e(t,426,1,["standard"==Ki(t,427).appearance,"fill"==Ki(t,427).appearance,"outline"==Ki(t,427).appearance,"legacy"==Ki(t,427).appearance,Ki(t,427)._control.errorState,Ki(t,427)._canLabelFloat,Ki(t,427)._shouldLabelFloat(),Ki(t,427)._hasFloatingLabel(),Ki(t,427)._hideControlPlaceholder(),Ki(t,427)._control.disabled,Ki(t,427)._control.autofilled,Ki(t,427)._control.focused,"accent"==Ki(t,427).color,"warn"==Ki(t,427).color,Ki(t,427)._shouldForward("untouched"),Ki(t,427)._shouldForward("touched"),Ki(t,427)._shouldForward("pristine"),Ki(t,427)._shouldForward("dirty"),Ki(t,427)._shouldForward("valid"),Ki(t,427)._shouldForward("invalid"),Ki(t,427)._shouldForward("pending"),!Ki(t,427)._animationsEnabled]),e(t,438,1,[Ki(t,439)._datepicker?"dialog":null,(null==Ki(t,439)._datepicker?null:Ki(t,439)._datepicker.opened)&&Ki(t,439)._datepicker.id||null,Ki(t,439).min?Ki(t,439)._dateAdapter.toIso8601(Ki(t,439).min):null,Ki(t,439).max?Ki(t,439)._dateAdapter.toIso8601(Ki(t,439).max):null,Ki(t,439).disabled,Ki(t,446)._isServer,Ki(t,446).id,Ki(t,446).placeholder,Ki(t,446).disabled,Ki(t,446).required,Ki(t,446).readonly&&!Ki(t,446)._isNativeSelect||null,Ki(t,446)._ariaDescribedby||null,Ki(t,446).errorState,Ki(t,446).required.toString(),Ki(t,447).ngClassUntouched,Ki(t,447).ngClassTouched,Ki(t,447).ngClassPristine,Ki(t,447).ngClassDirty,Ki(t,447).ngClassValid,Ki(t,447).ngClassInvalid,Ki(t,447).ngClassPending]),e(t,449,0,Ki(t,451).disabled?null:-1,Ki(t,451).datepicker&&Ki(t,451).datepicker.opened,Ki(t,451).datepicker&&"accent"===Ki(t,451).datepicker.color,Ki(t,451).datepicker&&"warn"===Ki(t,451).datepicker.color),e(t,455,0,Ki(t,456).disabled||null,"NoopAnimations"===Ki(t,456)._animationMode)}))}function LO(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"app-outline",[],null,null,null,PO,mO)),rs(1,114688,null,0,uO,[pO,Gb,Hx,xu],null,null)],(function(e,t){e(t,1,0)}),null)}var NO=Bi("app-outline",uO,LO,{},{},[]);let RO=0;function FO(e,t){let n=t;return n.unshift(void 0),new(Function.prototype.bind.apply(e,n))}function HO(e,t){let n=t,i=e.replace(/\[/g,".").replace(/\]/g,"").split(".");for(let s=0;s<i.length&&!WO(n);s++)n=n[i[s]];return n}function BO(e,t,n){let i,s,l=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=n||{},a=r,o=l.length;for(i=0;i<o;i++)s=l[i],i+1===o?a[s]=void 0===t?{}:t:UO(a[s])&&(a[s]={}),a=a[s];return r}function VO(e,t){delete e[t]}function jO(e){return!UO(e)&&e.constructor==={}.constructor}function zO(e,t){if(!UO(t)){let n=e,i=t,s=Object.keys(t),l="deepMerge";for(let e of s)UO(n[l])||-1===n[l].indexOf(e)||!jO(i[e])&&!Array.isArray(i[e])?n[e]=i[e]:qO(n[e],n[e],i[e],!0)}}function qO(e,t,n,i){let s=e&&"object"==typeof e?e:{},l=arguments.length;i&&(l-=1);for(let r=1;r<l;r++){if(!arguments[r])continue;let e=arguments[r];Object.keys(e).forEach(t=>{let n,l=s[t],r=e[t];Array.isArray(r)&&Array.isArray(l);i&&(jO(r)||Array.isArray(r))?jO(r)?(n=l||{},Array.isArray(n)&&n.hasOwnProperty("isComplexArray")?qO(n,{},r,i):s[t]=qO(n,{},r,i)):(n=l||[],s[t]=qO([],n,r,i)):s[t]=r})}return s}function UO(e){return null==e}function WO(e){return void 0===e}function YO(e){return e+"_"+RO++}function $O(e,t){let n;return function(){let i=arguments,s=()=>(n=null,e.apply(this,i));clearTimeout(n),n=setTimeout(s,t)}}function GO(e,t){return e===t||!(e===document||!e)&&GO(e.parentNode,t)}function XO(e){try{throw new Error(e)}catch(qG){throw qG.message+"\n"+qG.stack}}function KO(e){let t=e+"";return"auto"===t||-1!==t.indexOf("%")||-1!==t.indexOf("px")?t:t+"px"}function ZO(){return!1}function JO(e){return Node,e}function QO(e,t){let n="string"==typeof e?document.querySelector(e):e;if(n.ej2_instances)for(let i of n.ej2_instances)if(i instanceof t)return i;return null}const eI={latn:{_digits:"0123456789",_type:"numeric"}},tI={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},nI=[0,1,2,3,4,5,6,7,8,9];let iI=(()=>{class e{static getMainObject(e,t){return HO("main."+t,e)}static getNumberingSystem(e){return HO("supplemental.numberingSystems",e)||this.numberingSystems}static reverseObject(e,t){let n=t||Object.keys(e),i={};for(let s of n)i.hasOwnProperty(e[s])||(i[e[s]]=s);return i}static getSymbolRegex(e){let t=e.map(e=>e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")).join("|");return new RegExp(t,"g")}static getSymbolMatch(e){let t=Object.keys(tI),n={};for(let i of t)n[e[i]]=tI[i];return n}static constructRegex(e){let t=e.length,n="";for(let i=0;i<t;i++)n+=i!==t-1?e[i]+"|":e[i];return n}static convertValueParts(e,t,n){return e.replace(t,e=>n[e])}static getDefaultNumberingSystem(e){let t={};return t.obj=HO("numbers",e),t.nSystem=HO("defaultNumberingSystem",t.obj),t}static getCurrentNumericOptions(e,t,n,i){let s={},l=this.getDefaultNumberingSystem(e);if(!WO(l.nSystem)||i){let e=i?HO("obj.mapperDigits",l):HO(l.nSystem+"._digits",t);WO(e)||(s.numericPair=this.reverseObject(e,nI),s.numberParseRegex=new RegExp(this.constructRegex(e),"g"),s.numericRegex="["+e[0]+"-"+e[9]+"]",n&&(s.numericRegex=e[0]+"-"+e[9],s.symbolNumberSystem=HO(i?"numberSymbols":"symbols-numberSystem-"+l.nSystem,l.obj),s.symbolMatch=this.getSymbolMatch(s.symbolNumberSystem),s.numberSystem=l.nSystem))}return s}static getNumberMapper(e,t,n){let i={mapper:{}},s=this.getDefaultNumberingSystem(e);if(!WO(s.nSystem)){i.numberSystem=s.nSystem,i.numberSymbols=HO("symbols-numberSystem-"+s.nSystem,s.obj),i.timeSeparator=HO("timeSeparator",i.numberSymbols);let e=HO(s.nSystem+"._digits",t);if(!WO(e))for(let t of nI)i.mapper[t]=e[t]}return i}}return e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=eI,e})();var sI;!function(e){const t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){let n=e.getDate(),i=e.getMonth(),s=e.getFullYear(),l=i+1,r=s;l<3&&(r-=1,l+=12);let a=Math.floor(r/100),o=a-Math.floor(a/4)-2,h=Math.floor(365.25*(r+4716))+Math.floor(30.6001*(l+1))+n-o-1524;a=Math.floor((h-1867216.25)/36524.25),o=a-Math.floor(a/4)+1;let c=h+o+1524,d=Math.floor((c-122.1)/365.25),u=Math.floor(365.25*d),p=Math.floor((c-u)/30.6001);n=c-u-Math.floor(30.6001*p),i=Math.floor((c-u)/20.6001),i>13&&(d+=1,i-=12),i-=1,s=d-4716;let m=h-24e5,f=h-1948084,g=Math.floor(f/10631);f-=10631*g;let b=Math.floor((f-.1335)/(10631/30)),v=30*g+b;f-=Math.floor(b*(10631/30)+.1335);let y=Math.floor((f+28.5001)/29.5);13===y&&(y=12);let w=f-Math.floor(29.5001*y-29),C=0;for(;C<t.length&&!(t[C]>m);C++);let x=C+16260,_=Math.floor((x-1)/12),S=_+1,k=x-12*_,E=m-t[C-1]+1;return(E+"").length>2&&(E=w,k=y,S=v),{year:S,month:k,date:E}},e.toGregorian=function(e,n,i){let s=Math.floor(i+t[12*(e-1)+1+(n-1)-16260-1]-1+24e5+.5),l=Math.floor((s-1867216.25)/36524.25);l=s+1+l-Math.floor(l/4);let r=l+1524,a=Math.floor((r-122.1)/365.25),o=Math.floor(365.25*a),h=Math.floor((r-o)/30.6001),c=r-o-Math.floor(30.6001*h),d=h-(h>13.5?13:1),u=a-(d>2.5?4716:4715);return u<=0&&d--,new Date(u+"/"+d+"/"+c)}}(sI||(sI={}));const lI=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,rI=["sun","mon","tue","wed","thu","fri","sat"],aI={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},oI={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"};class hI{static dateFormat(e,t,n){let i=DI.getDependables(n,e,t.calendar),s=(HO("parserObject.numbers",i),i.dateObject),l={isIslamic:DI.islamicRegex.test(t.calendar)},r=t.format||DI.getResultantPattern(t.skeleton,i.dateObject,t.type,!1,"");if(l.dateSeperator=DI.getDateSeparator(i.dateObject),WO(r))XO("Format options or type given must be invalid");else{r=DI.ConvertDateToWeekFormat(r),l.pattern=r,l.numMapper=iI.getNumberMapper(i.parserObject,iI.getNumberingSystem(n));let e=r.match(lI)||[];for(let t of e){let e=t.length,n=t[0];switch("K"===n&&(n="h"),n){case"E":case"c":l.weekday=i.dateObject[DI.days]["stand-alone"][DI.monthIndex[e]];break;case"M":case"L":l.month=i.dateObject[DI.month]["stand-alone"][DI.monthIndex[e]];break;case"a":l.designator=HO("dayPeriods.format.wide",s);break;case"G":l.era=HO("eras."+(e<=3?"eraAbbr":4===e?"eraNames":"eraNarrow"),i.dateObject);break;case"z":l.timeZone=HO("dates.timeZoneNames",i.parserObject)}}}return e=>isNaN(e.getDate())?null:this.intDateFormatter(e,l)}static intDateFormatter(e,t){let n="",i=t.pattern.match(DI.dateParseRegex),s=this.getCurrentDateValue(e,t.isIslamic);for(let l of i){let i,r=l.length,a=l[0];"K"===a&&(a="h");let o,h,c="",d="";switch(a){case"M":case"L":i=s.month,r>2?n+=t.month[i]:o=!0;break;case"E":case"c":n+=t.weekday[rI[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(o=!0,"d"===a)i=s.date;else if("f"===a){o=!1,h=!0,c=e[aI[a]]().toString(),c=c.substring(0,r);let t=c.length;if(r!==t){if(r>3)continue;for(let e=0;e<r-t;e++)c="0"+c.toString()}d+=c}else i=e[aI[a]]();"h"===a&&(i=i%12||12);break;case"y":h=!0,d+=s.year,2===r&&(d=d.substr(d.length-2));break;case"a":let u=e.getHours()<12?"am":"pm";n+=t.designator[u];break;case"G":let p=e.getFullYear()<0?0:1,m=t.era[p];UO(m)&&(m=t.era[p?0:1]),n+=m||"";break;case"'":n+="''"===l?"'":l.replace(/\'/g,"");break;case"z":let f=e.getTimezoneOffset(),g=r<4?"+H;-H":t.timeZone.hourFormat;g=g.replace(/:/g,t.numMapper.timeSeparator),0===f?n+=t.timeZone.gmtZeroFormat:(h=!0,d=this.getTimeZoneValue(f,g)),d=t.timeZone.gmtFormat.replace(/\{0\}/,d);break;case":":n+=t.numMapper.numberSymbols.timeSeparator;break;case"/":n+=t.dateSeperator;break;case"W":o=!0,i=DI.getWeekOfYear(e);break;default:n+=l}o&&(h=!0,d=this.checkTwodigitNumber(i,r)),h&&(n+=iI.convertValueParts(d,DI.latnParseRegex,t.numMapper.mapper))}return n}static getCurrentDateValue(e,t){return t?sI.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}}static checkTwodigitNumber(e,t){let n=e+"";return 2===t&&2!==n.length?"0"+n:n}static getTimeZoneValue(e,t){let n=t.split(";")[e>0?1:0],i=Math.abs(e);return n.replace(/HH?|mm/g,e=>{let t=e.length,n=-1!==e.indexOf("H");return this.checkTwodigitNumber(Math.floor(n?i/60:i%60),t)})}}const cI={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},dI=["infinity","nan","group","decimal","exponential"];class uI{static numberFormatter(e,t,n){let i,s=qO({},t),l={},r={},a=DI.getDependables(n,e,"",!0);r.numberMapper=iI.getNumberMapper(a.parserObject,iI.getNumberingSystem(n),!0),r.currencySymbol=DI.getCurrencySymbol(a.numericObject,s.currency||xI,t.altSymbol),r.percentSymbol=r.numberMapper.numberSymbols.percentSign,r.minusSymbol=r.numberMapper.numberSymbols.minusSign;let o=r.numberMapper.numberSymbols;if(t.format&&!DI.formatRegex.test(t.format))l=DI.customFormat(t.format,r,a.numericObject);else{qO(s,DI.getProperNumericSkeleton(t.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,i=DI.getSymbolPattern(s.type,r.numberMapper.numberSystem,a.numericObject,s.isAccount),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),WO(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),WO(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&(i=i.replace(/\u00A4/g,DI.defaultCurrency));{let e=i.split(";");l.nData=DI.getFormatData(e[1]||"-"+e[0],!0,r.currencySymbol),l.pData=DI.getFormatData(e[0],!1,r.currencySymbol),s.useGrouping&&(s.groupSeparator=o[dI[2]],s.groupData=this.getGroupingDetails(e[0]))}if(WO(s.minimumFractionDigits)&&(s.minimumFractionDigits=l.nData.minimumFraction),WO(s.maximumFractionDigits)){let e=l.nData.maximumFraction;s.maximumFractionDigits=WO(e)&&s.isPercent?0:e}let e=s.minimumFractionDigits,n=s.maximumFractionDigits;WO(e)||WO(n)||e>n&&(s.maximumFractionDigits=e)}return qO(l.nData,s),qO(l.pData,s),e=>isNaN(e)?o[dI[1]]:isFinite(e)?this.intNumberFormatter(e,l,r):o[dI[0]]}static getGroupingDetails(e){let t={},n=e.match(DI.negativeDataRegex);if(n&&n[4]){let e=n[4],i=e.lastIndexOf(",");if(-1!==i){let n=e.split(".")[0];t.primary=n.length-i-1;let s=e.lastIndexOf(",",i-1);-1!==s&&(t.secondary=i-1-s)}}return t}static checkValueRange(e,t,n,i){let s=i?"f":"s",l=0,r=cI["l"+s],a=cI["m"+s];if(WO(e)||(this.checkRange(e,r,i),l++),WO(t)||(this.checkRange(t,a,i),l++),2===l){if(!(e<t))return!0;XO(a+"specified must be less than the"+r)}else n&&1===l&&XO("Both"+a+"and"+a+"must be present");return!1}static checkRange(e,t,n){let i=n?[0,20]:[1,21];(e<i[0]||e>i[1])&&XO(t+"value must be within the range"+i[0]+"to"+i[1])}static intNumberFormatter(e,t,n){let i;if(!WO(t.nData.type)){e<0?(e*=-1,i=t.nData):i=0===e&&t.zeroData||t.pData;let s="";return i.isPercent&&(e*=100),i.groupOne?s=this.processSignificantDigits(e,i.minimumSignificantDigits,i.maximumSignificantDigits):(s=this.processFraction(e,i.minimumFractionDigits,i.maximumFractionDigits),i.minimumIntegerDigits&&(s=this.processMinimumIntegers(s,i.minimumIntegerDigits))),"scientific"===i.type&&(s=e.toExponential(i.maximumFractionDigits),s=s.replace("e",n.numberMapper.numberSymbols[dI[4]])),s=s.replace(".",n.numberMapper.numberSymbols[dI[3]]),i.useGrouping&&(s=this.groupNumbers(s,i.groupData.primary,i.groupSeparator||",",n.numberMapper.numberSymbols[dI[3]]||".",i.groupData.secondary)),s=iI.convertValueParts(s,DI.latnParseRegex,n.numberMapper.mapper),"N/A"===i.nlead?i.nlead:i.nlead+s+i.nend}}static processSignificantDigits(e,t,n){let i,s=e+"";return s.length<t?e.toPrecision(t):(s=e.toPrecision(n),i=+s,i+"")}static groupNumbers(e,t,n,i,s){let l=!UO(s)&&0!==s,r=e.split(i),a=r[0],o=a.length,h="";for(;o>t;)h=a.slice(o-t,o)+(h.length?n+h:""),o-=t,l&&(t=s,l=!1);return r[0]=a.slice(0,o)+(h.length?n:"")+h,r.join(i)}static processFraction(e,t,n){let i=(e+"").split(".")[1],s=i?i.length:0;if(t&&s<t){let n="";if(0!==s){n+=e;for(let e=0;e<t-s;e++)n+="0";return n}return n=e.toFixed(t),e.toFixed(t)}return!UO(n)&&(s>n||0===n)?e.toFixed(n):e+""}static processMinimumIntegers(e,t){let n=e.split("."),i=n[0],s=i.length;if(s<t){for(let e=0;e<t-s;e++)i="0"+i;n[0]=i}return n.join(".")}}const pI=/^[0-9]*$/,mI={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},fI=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,gI=/,/g,bI=["minusSign","infinity"];class vI{constructor(e){this.ranArray=[],this.boundedEvents={},UO(e)||(this.context=e)}on(e,t,n,i){if(UO(t))return;let s=n||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:s}]:UO(i)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:s}):-1===this.ranArray.indexOf(i)&&(this.ranArray.push(i),this.boundedEvents[e].push({handler:t,context:s,id:i}))}off(e,t,n){if(this.notExist(e))return;let i=HO(e,this.boundedEvents);if(t){for(let e=0;e<i.length;e++)if(n){if(i[e].id===n){i.splice(e,1);let t=this.ranArray.indexOf(n);-1!==t&&this.ranArray.splice(t,1);break}}else if(t===i[e].handler){i.splice(e,1);break}}else delete this.boundedEvents[e]}notify(e,t,n,i){if(this.notExist(e))return void(n&&n.call(this,t));t&&(t.name=e);let s=HO(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(s,t,n,i,0);for(let l of s)l.handler.call(l.context,t);n&&n.call(this,t)}blazorCallback(e,t,n,i,s){let l=s===e.length-1;if(s<e.length){let r=e[s],a=r.handler.call(r.context,t);if(a&&"function"==typeof a.then){if(!n)return a;a.then(a=>{if(a="string"==typeof a&&this.isJson(a)?JSON.parse(a,this.dateReviver):a,qO(t,t,a,!0),!n||!l)return this.blazorCallback(e,t,n,i,s+1);n.call(r.context,t)}).catch(e=>{i&&i.call(r.context,"string"==typeof e&&this.isJson(e)?JSON.parse(e,this.dateReviver):e)})}else{if(!n||!l)return this.blazorCallback(e,t,n,i,s+1);n.call(r.context,t)}}}dateReviver(e,t){return ZO&&"string"==typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t}isJson(e){try{JSON.parse(e)}catch(qG){return!1}return!0}destroy(){this.boundedEvents=this.context=void 0}notExist(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0}isHandlerPresent(e,t){for(let n of e)if(n.handler===t)return!0;return!1}}let yI=new vI,wI={},CI="en-US",xI="USD";const _I=["numericObject","dateObject"];class SI{constructor(e){e&&(this.culture=e)}getDateFormat(e){return hI.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},wI)}getNumberFormat(e){return e&&!e.currency&&(e.currency=xI),uI.numberFormatter(this.getCulture(),e||{},wI)}getDateParser(e){return class{static dateParser(e,t,n){let i,s=DI.getDependables(n,e,t.calendar),l=iI.getCurrentNumericOptions(s.parserObject,iI.getNumberingSystem(n),!1,!1),r={},a=t.format||DI.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,""),o="";if(WO(a))XO("Format options or type given must be invalid");else{a=DI.ConvertDateToWeekFormat(a),r={isIslamic:DI.islamicRegex.test(t.calendar),pattern:a,evalposition:{}};let e=a.match(DI.dateParseRegex)||[],h=e.length,c=0,d=0,u=!1,p=l.numericRegex,m=iI.getNumberMapper(s.parserObject,iI.getNumberingSystem(n));for(let t=0;t<h;t++){let n,l,a=e[t],f=a.length,g="K"===a[0]?"h":a[0],b=oI[g],v=2===f?"":"?";switch(u&&(c=d,u=!1),g){case"E":case"c":let e;e=s.dateObject[DI.days]["stand-alone"][DI.monthIndex[f]];let t=iI.reverseObject(e);o+="("+Object.keys(t).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(l=!0,("M"===g||"L"===g)&&f>2){let e;e=s.dateObject.months["stand-alone"][DI.monthIndex[f]],r[b]=iI.reverseObject(e),o+="("+Object.keys(r[b]).join("|")+")"}else if("f"===g){if(f>3)continue;n=!0,o+="("+p+p+"?"+p+"?)"}else n=!0,o+="("+p+p+v+")";"h"===g&&(r.hour12=!0);break;case"W":o+="("+p+(1===f?"?":"")+p+")";break;case"y":l=n=!0,o+=2===f?"("+p+p+")":"("+p+"{"+f+",})";break;case"a":l=!0;let h=HO("dayPeriods.format.wide",s.dateObject);r[b]=iI.reverseObject(h),o+="("+Object.keys(r[b]).join("|")+")";break;case"G":l=!0,r[b]=iI.reverseObject(HO("eras."+(f<=3?"eraAbbr":4===f?"eraNames":"eraNarrow"),s.dateObject)),o+="("+Object.keys(r[b]).join("|")+"?)";break;case"z":l=0!==(new Date).getTimezoneOffset(),r[b]=HO("dates.timeZoneNames",s.parserObject);let c=r[b];i=f<4;let y=i?"+H;-H":c.hourFormat;y=y.replace(/:/g,m.timeSeparator),o+="("+this.parseTimeZoneRegx(y,c,p)+")?",u=!0,d=i?6:12;break;case"'":o+="("+a.replace(/\'/g,"")+")?";break;default:o+="([\\D])"}l&&(r.evalposition[b]={isNumber:n,pos:t+1+c,hourOnly:i}),t!==h-1||UO(o)||(r.parserRegex=new RegExp("^"+o+"$","i"))}}return e=>{let t=this.internalDateParse(e,r,l);if(UO(t)||!Object.keys(t).length)return null;if(r.isIslamic){let e={},n=t.year,i=t.day,s=t.month,l=n?n+"":"",r=2===l.length;n&&s&&i&&!r||(e=sI.getHijriDate(new Date)),r&&(n=parseInt((e.year+"").slice(0,2)+l,10));let a=sI.toGregorian(n||e.year,s||e.month,i||e.date);t.year=a.getFullYear(),t.month=a.getMonth()+1,t.day=a.getDate()}return this.getDateObject(t)}}static getDateObject(e,t){let n=t||new Date;n.setMilliseconds(0);let i=["hour","minute","second","milliseconds","month","day"],s=e.year,l=e.designator,r=e.timeZone;WO(s)||((s+"").length<=2&&(s+=100*Math.floor(n.getFullYear()/100)),n.setFullYear(s));for(let a of i){let t=e[a];if(WO(t)&&"day"===a&&n.setDate(1),!WO(t))if("month"===a){if(t-=1,t<0||t>11)return new Date("invalid");let e=n.getDate();n.setDate(1),n[mI[a]](t);let i=new Date(n.getFullYear(),t+1,0).getDate();n.setDate(e<i?e:i)}else{if("day"===a){let e=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();if(t<1||t>e)return null}n[mI[a]](t)}}if(!WO(l)){let e=n.getHours();"pm"===l?n.setHours(e+(12===e?0:12)):12===e&&n.setHours(0)}if(!WO(r)){let e=r-n.getTimezoneOffset();0!==e&&n.setMinutes(n.getMinutes()+e)}return n}static internalDateParse(e,t,n){let i=e.match(t.parserRegex),s={hour:0,minute:0,second:0};if(UO(i))return null;{let e=Object.keys(t.evalposition);for(let l of e){let e=t.evalposition[l],r=i[e.pos];if(e.isNumber)s[l]=this.internalNumberParser(r,n);else if("timeZone"!==l||WO(r))s[l]=t[l][r];else{let t,r=e.pos,a=i[r+1],o=!WO(a);e.hourOnly?t=60*this.getZoneValue(o,a,i[r+4],n):(t=60*this.getZoneValue(o,a,i[r+7],n),t+=this.getZoneValue(o,i[r+4],i[r+10],n)),UO(t)||(s[l]=t)}}t.hour12&&(s.hour12=!0)}return s}static internalNumberParser(e,t){return e=iI.convertValueParts(e,t.numberParseRegex,t.numericPair),pI.test(e)?+e:null}static parseTimeZoneRegx(e,t,n){let i,s,l=t.gmtFormat,r="("+n+")("+n+")";return i=e.replace("+","\\+"),i=-1!==e.indexOf("HH")?i.replace(/HH|mm/g,"("+r+")"):i.replace(/H|m/g,"("+r+"?)"),s=i.split(";").map(e=>l.replace("{0}",e)),i=s.join("|")+"|"+t.gmtZeroFormat,i}static getZoneValue(e,t,n,i){let s=e?t:n;if(!s)return 0;let l=this.internalNumberParser(s,i);return e?-l:l}}.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},wI)}getNumberParser(e){return class{static numberParser(e,t,n){let i,s,l=DI.getDependables(n,e,"",!0),r={custom:!0};if(DI.formatRegex.test(t.format)||!t.format?(qO(r,DI.getProperNumericSkeleton(t.format||"N")),r.custom=!1):qO(r,DI.customFormat(t.format,null,null)),HO("numbers",l.parserObject),i=iI.getCurrentNumericOptions(l.parserObject,iI.getNumberingSystem(n),!0,!1),r.symbolRegex=iI.getSymbolRegex(Object.keys(i.symbolMatch)),r.infinity=i.symbolNumberSystem[bI[1]],s=DI.getSymbolPattern(r.type,i.numberSystem,l.numericObject,r.isAccount),s){s=s.replace(/\u00A4/g,DI.defaultCurrency);let e=s.split(";");r.nData=DI.getFormatData(e[1]||"-"+e[0],!0,""),r.pData=DI.getFormatData(e[0],!0,"")}return e=>this.getParsedNumber(e,r,i)}static getParsedNumber(e,t,n){let i,s,l,r,a,o;if(-1!==e.indexOf(t.infinity))return 1/0;{e=iI.convertValueParts(e,t.symbolRegex,n.symbolMatch),0===(e=iI.convertValueParts(e,n.numberParseRegex,n.numericPair)).indexOf(".")&&(e="0"+e);let h=e.match(fI);if(UO(h))return NaN;r=h[1],l=h[2];let c=h[5];return a=h[6],i=t.custom?r===t.nData.nlead&&a===t.nData.nend:-1!==r.indexOf(t.nData.nlead)&&-1!==a.indexOf(t.nData.nend),s=i?t.nData.isPercent:t.pData.isPercent,l=l.replace(gI,""),c&&(l+=c),o=+l,("percent"===t.type||s)&&(o/=100),(t.custom||t.fractionDigits)&&(o=parseFloat(o.toFixed(t.custom?i?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),i&&(o*=-1),o}}}.numberParser(this.getCulture(),e||{format:"N"},wI)}formatNumber(e,t){return this.getNumberFormat(t)(e)}formatDate(e,t){return this.getDateFormat(t)(e)}parseDate(e,t){return this.getDateParser(t)(e)}parseNumber(e,t){return this.getNumberParser(t)(e)}getDatePattern(e,t){return DI.getActualDateTimeFormat(this.getCulture(),e,wI,t)}getNumberPattern(e){return DI.getActualNumberFormat(this.getCulture(),e,wI)}getFirstDayOfWeek(){return DI.getWeekData(this.getCulture(),wI)}getCulture(){return this.culture||CI}}function kI(e,t){let n=DI.getDependables(wI,e,"",!0)[_I[0]],i=DI.getDependables(wI,e,"")[_I[1]],s=HO("defaultNumberingSystem",n),l=HO("symbols-numberSystem-"+s,n),r=DI.getSymbolPattern(t||"decimal",s,n,!1);return qO(l,DI.getFormatData(r,!0,"",!0),{dateSeparator:DI.getDateSeparator(i)})}function EI(e,t){let n=DI.getDependables(wI,e,"",!0);return DI.getCurrencySymbol(n.numericObject,t)}function OI(e){return DI.getDependables(wI,"",e,!1)[_I[1]]}const II={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};var DI;!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;const t=/[0-9]/g;e.defaultCurrency="$";const n=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,s={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi,e.islamicRegex=/^islamic/;const l={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,e.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,e.curWithoutNumberRegex=/(c|a)$/gi;const r={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function a(t,n,i,s,l){let r,a=i||"date";if(l)r=d({skeleton:t},l).format||d({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(r=HO(a+"Formats."+t,n),"dateTime"===a){let e=HO("dateFormats."+t,n),i=HO("timeFormats."+t,n);r=r.replace("{1}",e).replace("{0}",i)}}else r=HO("dateTimeFormats.availableFormats."+t,n);WO(r)&&"yMd"===t&&(r="M/d/y")}return r}function o(t,n,i,s){let l={},r=i||"gregorian";return l.parserObject=iI.getMainObject(t,n)||e.defaultObject,s?l.numericObject=HO("numbers",l.parserObject):l.dateObject=HO("dates.calendars."+r,l.parserObject),l}function h(e,t,n,i){return HO(e+"Formats-numberSystem-"+t+(i?".accounting":".standard"),n)||(i?HO(e+"Formats-numberSystem-"+t+".standard",n):"")}function c(t){return t.match(e.dateConverterMapper),t}function d(e,t){let n=e.format||e.skeleton,i=HO((t||"en-US")+"."+n,II);return i||(i=HO("en-US."+n,II)),i&&(i=c(i),e.format=i.replace(/tt/,"a")),e}function u(t){let n=t.match(e.formatRegex),i={},s=n[1].toUpperCase();return i.isAccount="A"===s,i.type=e.patternMatcher[s],t.length>1&&(i.fractionDigits=parseInt(n[2],10)),i}function p(n,i,s,l){let r=l?{}:{nlead:"",nend:""},a=n.match(e.customRegex);if(a){l||(r.nlead=m(a[1],s),r.nend=m(a[10],s),r.groupPattern=a[4]);let e=a[7];if(e&&i){let n=e.match(t);r.minimumFraction=UO(n)?0:n.length,r.maximumFraction=e.length-1}}return r}function m(t,n){return t?t.replace(e.defaultCurrency,n):""}function f(e,t,n){return HO("currencies."+t+(n?"."+n:".symbol"),e)||HO("currencies."+t+".symbol-alt-narrow",e)||"$"}function g(t,i,s){let l={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},r=t.match(e.customRegex);if(UO(r)||""===r[5]&&"N/A"!==t)return l.type=void 0,l;l.nlead=r[1],l.nend=r[10];let a=r[6];l.useGrouping=-1!==a.indexOf(","),a=a.replace(/,/g,"");let o=r[7];if(-1!==a.indexOf("0")&&(l.minimumIntegerDigits=a.length-a.indexOf("0")),UO(o)||(l.minimumFractionDigits=o.lastIndexOf("0"),l.maximumFractionDigits=o.lastIndexOf("#"),-1===l.minimumFractionDigits&&(l.minimumFractionDigits=0),(-1===l.maximumFractionDigits||l.maximumFractionDigits<l.minimumFractionDigits)&&(l.maximumFractionDigits=l.minimumFractionDigits)),UO(i)?qO(l,b([l.nlead,l.nend],"%","%")):(qO(l,b([l.nlead,l.nend],"$",i.currencySymbol)),l.isCurrency||qO(l,b([l.nlead,l.nend],"%",i.percentSymbol))),!UO(s)){let e=h(l.type,i.numberMapper.numberSystem,s,!1);l.useGrouping&&(l.groupSeparator=i.numberMapper.numberSymbols[n[2]],l.groupData=uI.getGroupingDetails(e.split(";")[0])),l.nlead=l.nlead.replace(/\'/g,""),l.nend=l.nend.replace(/\'/g,"")}return l}function b(e,t,n){let i={nlead:e[0],nend:e[1]};for(let s=0;s<2;s++){let l=e[s],a=l.indexOf(t);if(-1!==a&&(a<l.indexOf("'")||a>l.lastIndexOf("'"))){i[r[s]]=l.substr(0,a)+n+l.substr(a+1),i[r[t]]=!0,i.type=i.isCurrency?"currency":"percent";break}}return i}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=a,e.getDependables=o,e.getSymbolPattern=h,e.ConvertDateToWeekFormat=c,e.compareBlazorDateFormats=d,e.getProperNumericSkeleton=u,e.getFormatData=p,e.getCurrencySymbol=f,e.customFormat=function(e,t,n){let i={},s=e.split(";"),l=["pData","nData","zeroData"];for(let r=0;r<s.length;r++)i[l[r]]=g(s[r],t,n);return UO(i.nData)&&(i.nData=qO({},i.pData),i.nData.nlead=UO(t)?"-"+i.nData.nlead:t.minusSymbol+i.nData.nlead),i},e.isCurrencyPercent=b,e.getDateSeparator=function(e){let t=(HO("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,n,l){let r=o(n,e,t.calendar),h=t.format||a(t.skeleton,r.dateObject,t.type);if(l){if(h=h.replace(i,e=>s[e]),-1!==h.indexOf("z")){let e,t=h.match(/z/g).length,i={timeZone:{}};i.numMapper=iI.getNumberMapper(r.parserObject,iI.getNumberingSystem(n)),i.timeZone=HO("dates.timeZoneNames",r.parserObject);let s=(new Date).getTimezoneOffset(),l=t<4?"+H;-H":i.timeZone.hourFormat;l=l.replace(/:/g,i.numMapper.timeSeparator),0===s?e=i.timeZone.gmtZeroFormat:(e=hI.getTimeZoneValue(s,l),e=i.timeZone.gmtFormat.replace(/\{0\}/,e)),h=h.replace(/[z]+/,'"'+e+'"')}h=h.replace(/ $/,"")}return h},e.getActualNumberFormat=function(t,n,i){let s,l,r=o(i,t,"",!0),a={custom:!0},c={},d=(n.format||"").match(e.currencyFormatRegex),m=(e.formatRegex.test(n.format)&&u(n.format||"N"),{});if(d){m.numberMapper=iI.getNumberMapper(r.parserObject,iI.getNumberingSystem(i),!0);let e=f(r.numericObject,n.currency||xI,n.altSymbol),t=h("currency",m.numberMapper.numberSystem,r.numericObject,/a/i.test(n.format));t=t.replace(/\u00A4/g,e);let l=t.split(";");c.hasNegativePattern=l.length>1,c.nData=p(l[1]||"-"+l[0],!0,e),c.pData=p(l[0],!1,e),d[2]||n.minimumFractionDigits||n.maximumFractionDigits||(s=p(t.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(n.format)||!n.format){if(qO(a,u(n.format||"N")),a.custom=!1,l="###0",a.fractionDigits||n.minimumFractionDigits||n.maximumFractionDigits||s){let e=0;a.fractionDigits&&(n.minimumFractionDigits=n.maximumFractionDigits=a.fractionDigits),l=function(e,t,n){e+=".";for(let i=0;i<t;i++)e+="0";if(t<n){let i=n-t;for(let t=0;t<i;t++)e+="#"}return e}(l,s||a.fractionDigits||n.minimumFractionDigits||e,n.maximumFractionDigits||e)}if(n.minimumIntegerDigits&&(l=function(e,t){let n=e.split("."),i="";for(let s=0;s<t;s++)i+="0";return n[1]?i+"."+n[1]:i}(l,n.minimumIntegerDigits)),n.useGrouping&&(l=function(e){let t=e.split("."),n=t[0],i=3-n.length%3;n=(i&&1===i?"#":2===i?"##":"")+n,e="";for(let s=n.length-1;s>0;s-=3)e=","+n[s-2]+n[s-1]+n[s]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}(l)),"currency"===a.type){let e=l;l=c.pData.nlead+e+c.pData.nend,c.hasNegativePattern&&(l+=";"+c.nData.nlead+e+c.nData.nend)}"percent"!==a.type||(l+=" %")}else l=n.format.replace(/\'/g,'"');return Object.keys(m).length>0&&(l=function(e,t){if(-1!==e.indexOf(",")){let n=e.split(",");e=n[0]+HO("numberMapper.numberSymbols.group",t)+n[1].replace(".",HO("numberMapper.numberSymbols.decimal",t))}else e=e.replace(".",HO("numberMapper.numberSymbols.decimal",t));return e}(l,m)),l},e.getWeekData=function(e,t){let n="sun",i=HO("supplemental.weekData.firstDay",t),s=e;return/en-/.test(s)&&(s=s.slice(3)),s=s.slice(0,2).toUpperCase()+s.substr(2),i&&(n=i[s]||"sun"),l[n]},e.getWeekOfYear=function(e){let t,n=new Date(e.getFullYear(),0,1),i=n.getDay();i=i>=0?i:i+7;let s=Math.floor((e.getTime()-n.getTime()-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1;if(i<4){if(t=Math.floor((s+i-1)/7)+1,t>52){let e=new Date(this.getFullYear()+1,0,1).getDay();e=e>=0?e:e+7,t=e<4?1:53}}else t=Math.floor((s+i-1)/7);return t}}(DI||(DI={}));const AI=/^(.*?):[ \t]*([^\r\n]*)$/gm;class MI{constructor(e,t,n,i){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!UO(n)||n):"object"==typeof e&&(this.options=e,zO(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:i}send(e){this.data=UO(e)?this.data:e;let t={cancel:!1,httpRequest:null};return new Promise((e,n)=>{this.httpRequest=new XMLHttpRequest,this.httpRequest.onreadystatechange=()=>{this.stateChange(e,n)},UO(this.onLoad)||(this.httpRequest.onload=this.onLoad),UO(this.onProgress)||(this.httpRequest.onprogress=this.onProgress),UO(this.onAbort)||(this.httpRequest.onabort=this.onAbort),UO(this.onError)||(this.httpRequest.onerror=this.onError),UO(this.onUploadProgress)||(this.httpRequest.upload.onprogress=this.onUploadProgress),this.httpRequest.open(this.type,this.url,this.mode),UO(this.data)||null===this.contentType||this.httpRequest.setRequestHeader("Content-Type",this.contentType||"application/json; charset=utf-8"),this.beforeSend&&(t.httpRequest=this.httpRequest,this.beforeSend(t)),t.cancel||this.httpRequest.send(UO(this.data)?null:this.data)})}successHandler(e){return this.onSuccess&&this.onSuccess(e,this),e}failureHandler(e){return this.onFailure&&this.onFailure(this.httpRequest),e}stateChange(e,t){let n=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===n)n=void 0;else try{n=JSON.parse(n)}catch(i){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(n)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())}getResponseHeader(e){let t,n;t={};let i=AI.exec(this.httpRequest.getAllResponseHeaders());for(;i;)t[i[1].toLowerCase()]=i[2],i=AI.exec(this.httpRequest.getAllResponseHeaders());return n=t[e.toLowerCase()],UO(n)?null:n}}const TI=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,PI=/msie|trident/i,LI=/Trident\/7\./,NI=/(ipad|iphone|ipod touch)/i,RI=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,FI=/android/i,HI=/trident|windows phone|edge/i,BI=/(version)[ \/]([\w.]+)/i,VI={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});let jI=(()=>{class e{static extractBrowserDetail(){let t={culture:{}},n=Object.keys(VI),i=[];for(let s of n)if(i=e.userAgent.match(VI[s]),i){if(t.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),t.name="crios"===i[1].toLowerCase()?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(LI)){t.name="msie";break}let n=e.userAgent.match(BI);"safari"===t.name&&n&&(t.version=n[2]);break}return t}static getEvent(t){let n={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?n[t].isPointer:e.isTouch?n[t].isTouch+(e.isDevice?"":" "+n[t].isDevice):n[t].isDevice}static getTouchStartEvent(){return e.getEvent("start")}static getTouchEndEvent(){return e.getEvent("end")}static getTouchMoveEvent(){return e.getEvent("move")}static getTouchCancelEvent(){return e.getEvent("cancel")}static getValue(t,n){let i=window.browserDetails;return void 0===i[t]?i[t]=n.test(e.userAgent):i[t]}static set userAgent(t){e.uA=t,window.browserDetails={}}static get userAgent(){return e.uA}static get info(){return WO(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info}static get isIE(){return e.getValue("isIE",PI)}static get isTouch(){return WO(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch}static get isPointer(){return WO(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer}static get isMSPointer(){return WO(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer}static get isDevice(){return e.getValue("isDevice",TI)}static get isIos(){return e.getValue("isIos",NI)}static get isIos7(){return e.getValue("isIos7",RI)}static get isAndroid(){return e.getValue("isAndroid",FI)}static get isWebView(){return WO(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(WO(window.cordova)&&WO(window.PhoneGap)&&WO(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView}static get isWindows(){return e.getValue("isWindows",HI)}static get touchStartEvent(){return WO(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent}static get touchMoveEvent(){return WO(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent}static get touchEndEvent(){return WO(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent}static get touchCancelEvent(){return WO(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent}}return e.uA="undefined"!=typeof navigator?navigator.userAgent:"",e})();class zI{static addOrGetEventData(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])}static add(e,t,n,i,s){let l,r=zI.addOrGetEventData(e);l=s?$O(n,s):n,i&&(l=l.bind(i));let a=t.split(" ");for(let o=0;o<a.length;o++)r.push({name:a[o],listener:n,debounce:l}),jI.isIE?e.addEventListener(a[o],l):e.addEventListener(a[o],l,{passive:!1});return l}static remove(e,t,n){let i=zI.addOrGetEventData(e),s=t.split(" ");for(let l=0;l<s.length;l++){let t,r=-1;i&&0!==i.length&&i.some((e,i)=>e.name===s[l]&&e.listener===n&&(r=i,t=e.debounce,!0)),-1!==r&&i.splice(r,1),t&&e.removeEventListener(s[l],t)}}static clearEvents(e){let t,n;t=zI.addOrGetEventData(e),n=qO([],n,t);for(let i=0;i<n.length;i++)e.removeEventListener(n[i].name,n[i].debounce),t.shift()}static trigger(e,t,n){let i=zI.addOrGetEventData(e);for(let s of i)s.name===t&&s.debounce.call(this,n)}}const qI=new RegExp("\\n|\\r|\\s\\s+","g"),UI=new RegExp(/'|"/g),WI=new RegExp("if ?\\("),YI=new RegExp("else if ?\\("),$I=new RegExp("else"),GI=new RegExp("for ?\\("),XI=new RegExp("(/if|/for)"),KI=new RegExp("\\((.*)\\)",""),ZI=new RegExp("^[0-9]+$","g"),JI=new RegExp("[\\w\"'.\\s+]+","g"),QI=new RegExp('"(.*?)"',"g"),eD=new RegExp("[\\w\"'@#$.\\s+]+","g");let tD=new RegExp("\\${([^}]*)}","g"),nD=/^\..*/gm,iD=/\\/gi,sD=/\\\\/gi;const lD=new RegExp("[\\w\"'@#$.\\s+]+","g"),rD=/\window\./gm;function aD(e,t,n,i){return t&&!ZI.test(e)&&-1===i.indexOf(e.split(".")[0])?n+"."+e:e}function oD(e,t,n,i){return t&&!ZI.test(e)&&-1===i.indexOf(e.split(".")[0])?n+'["'+e:e}function hD(e){return e.match(sD)?e:e.replace(iD,"\\\\")}function cD(e,t,n){if(e=e.trim(),/\window\./gm.test(e))return e;{let i=/'|"/gm;return/\@|\$|\#/gm.test(e)&&(e=oD(e,-1===n.indexOf(e),t,n)+'"]'),nD.test(e)?function(e,t,n,i){return!t||ZI.test(e)||-1!==i.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:n+"."+e}(e,!i.test(e)&&-1===n.indexOf(e),t,n):aD(e,!i.test(e)&&-1===n.indexOf(e),t,n)}}const dD=/^[\n\r.]+\<tr|^\<tr/,uD=/^[\n\r.]+\<svg|^\<path|^\<g/;let pD={};function mD(){return"-"+Math.random().toString(36).substr(2,5)}function fD(e,t){let n=bD.compile(e,t);return(e,t,i,s,l,r)=>{let a=n(e,t,i);return"string"==typeof a?uD.test(a)?ND("svg",{innerHTML:a}).childNodes:ND(dD.test(a)?"table":"div",{innerHTML:a}).childNodes:a}}function gD(e,t,n){let i=document.getElementById(e);if(i){let e=i.getElementsByClassName("blazor-inner-template");for(let t=0;t<e.length;t++){let i=" ";i=UO(n)?e[t].getAttribute("data-templateId"):e[n].getAttribute("data-templateId");let s=document.getElementById(i);if(s){let i=s.childNodes.length;for(let l=0;l<i;l++)UO(n)?e[t].appendChild(s.childNodes[0]):(e[n].appendChild(s.childNodes[0]),t=e.length)}}}}let bD={compile:(new class{compile(e,t={}){return function(e,t){let n=function(e,t,n){let i=0,s=[],l=e.match(/class="([^\"]+|)\s{2}/g),r="";return l&&l.forEach(t=>{r=t.replace(/\s\s+/g," "),e=e.replace(t,r)}),e.replace(qI,"").replace(QI,"'$1'").replace(tD,(e,t,l,r)=>{let a=t.match(KI);if(a){let e=a[1];if(YI.test(t))t='";} '+t.replace(a[1],e.replace(JI,e=>aD(e=e.trim(),!UI.test(e)&&-1===s.indexOf(e),"data",s)))+'{ \n str = str + "';else if(WI.test(t))t='"; '+t.replace(a[1],e.replace(eD,e=>cD(e,"data",s)))+'{ \n str = str + "';else if(GI.test(t)){let e=a[1].split(" of ");t='"; '+t.replace(a[1],t=>(s.push(e[0]),s.push(e[0]+"Index"),i+=1,"var i"+i+"=0; i"+i+" < "+aD(e[1],!0,"data",s)+".length; i"+i+"++"))+"{ \n "+e[0]+"= "+aD(e[1],!0,"data",s)+"[i"+i+"]; \n var "+e[0]+"Index=i"+i+'; \n str = str + "'}else{let i=t.split("("),l=n&&n.hasOwnProperty(i[0])?"this.":"global";l=/\./.test(i[0])?"":l;let r=a[1].split(",");0===a[1].length||/data/.test(r[0])||/window./.test(r[0])||(a[1]="global"===l?"data."+a[1]:a[1]);let o=/\@|\$|\#/gm,h=/\]\./gm;rD.test(t)&&h.test(t)||o.test(t)?/\@|\$|\#|\]\./gm.test(t)&&(t='"+ '+("global"===l?"":l)+t.replace(a[1],e.replace(lD,e=>cD(e,"data",s)))+'+ "'):t='" + '+("global"===l?"":l)+t.replace(e,aD(a[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==l,"data",s))+'+"'}}else $I.test(t)?t='"; '+t.replace($I,'} else { \n str = str + "'):t.match(XI)?t=t.replace(XI,'"; \n } \n str = str + "'):/\@|\#|\$/gm.test(t)?(t.match(iD)&&(t=hD(t)),t='"+'+oD(t,-1===s.indexOf(t),"data",s)+'"]+"'):t=t.match(iD)?'"+'+oD(t=hD(t),-1===s.indexOf(t),"data",s)+'"]+"':'"+'+aD(t.replace(/\,/gi,"+data."),-1===s.indexOf(t),"data",s)+'+"';return t})}(e,0,t);return new Function("data",`var str="${n}"; return str;`).bind(t)}(e,t)}}).compile};const vD=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yD=/(?:#([\w-]+)|(\w+)|\.([\w-]+))/g,wD=/^(\.|#)/,CD={".":"className","#":"id"},xD={className:"attributes.className",id:"attributes.id",tagName:"tagName"},_D=["area","base","basefont","br","col","frame","hr","img","input","link","meta","param","embed","command","keygen","source","track","wbr"],SD=["a","address","article","applet","aside","audio","blockquote","button","canvas","center","dd","del","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","ins","isindex","li","map","menu","noframes","noscript","object","ol","output","p","pre","section","script","table","tbody","td","tfoot","th","thead","tr","ul","video"],kD=["abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","script","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],ED=["colgroup","dd","dt","li","options","p","td","tfoot","th","thead","tr"],OD=["checked","compact","declare","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","readonly","selected"],ID=["Script","style"],DD={tabindex:"tabIndex"},AD=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,MD=/^<\/([-A-Za-z0-9_]+)[^>]*>/,TD=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;var PD;!function(e){function t(e,t){t&&e&&e.forEach(e=>(jO(e)&&(e.parent&&n(e),e.parent=t),e))}function n(e){let t=e.parent;if(t){let n=t.children.indexOf(e);-1!==n&&t.children.splice(n)}return t}function i(e,t){let n=e.match(wD),i={};if(n){let s=CD[n[0]];if("className"===s){let n=t.filter(e=>e.hasOwnProperty("className"))[0],i=!1;n||(i=!0,n={}),n[s]=(n[s]||"")+"(?=.*?\\b{value}\\b)".replace("{value}",e.replace(".","")),i&&t.push(n)}else i[s]=e.replace(n[0],""),t.push(i)}else t.push({tagName:e})}function s(e,t,n,i){if(e.children){let l=e.children.filter((function(e){if("string"!=typeof e){let n=!0;for(let i of t){let t=Object.keys(i)[0],s=i[t],l=HO(xD[t],e);if("className"===t){if(!new RegExp("^"+s+".*$").test(l)){n=!1;break}}else if(l!==s){n=!1;break}}return n}return!1}));return i||l.length&&!n||e.children.forEach(e=>{jO(e)&&(l=l.concat(s(e,t,n)))}),l}return[]}function l(e){let t,n=[],i=[],s=[];for(;e;){t=!0;let n=r(i);if(n&&a(ID,n))e=e.replace(new RegExp("([\\s\\S]*?)</"+r(s)+"[^>]*>"),(e,t)=>(h(t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2")),"")),o(0,r(i));else{if(0===e.indexOf("</")){let n=e.match(MD);n&&(e=e.substring(n[0].length),n[0].replace(MD,o)),t=!1}else if(0===e.indexOf("<")){let n=e.match(AD);n&&(e=e.substring(n[0].length),n[0].replace(AD,l)),t=!1}if(t){let t=e.indexOf("<"),n=t<0?e:e.substring(0,t);e=t<0?"":e.substring(t),h(n)}}}function l(e,t,l){if(t=t.toLowerCase(),a(SD,t))for(;r(i)&&a(kD,r(i));)o(0,r(i));a(ED,t)&&r(i)&&o(0,t);let h=a(_D,t);h||i.push(t);let c={};l.replace(TD,(function(e,t,...n){let i=n[2]?n[2]:n[3]?n[3]:n[4]?n[4]:a(OD,t)?t:"";if("style"===t){let e=i.split(";"),t={};for(let n=0,i=e.length;n<i;n++){let i=e[n].split(":");t[i[0]]=i[1]}i=t}c[t=DD[t]||t]=i})),c["data-id"]=mD();let d={tagName:t,attributes:c};if(h){let e=s[0]||n;void 0===e.children&&(e.children=[]),d.parent=e,e.children.push(d)}else s.unshift(d)}function o(e,t){let l;if(t)for(l=i.length-1;l>=0&&i[l]!==t;l--);else l=0;if(l>=0){for(let e=s.length-1;e>=l;e--){let e=s.shift();if(0===s.length)n.push(e);else{let t=s[0];void 0===t.children&&(t.children=[]),e.parent=t,t.children.push(e)}}i.length=l}}function h(e){if(0===s.length)n.push(e);else{let t=s[0];void 0===t.children&&(t.children=[]),t.children.push(e)}}return n}function r(e){return e[e.length-1]}function a(e,t){return-1!==e.indexOf(t)}e.createElement=function(e,t){let n=[],i=qO({},{},t,!0);if(!UO(t)&&Object.keys(t).length&&(i.innerHTML&&(n=l(i.innerHTML),delete i.innerHTML),i.attrs&&(qO(i,i.attrs),delete i.attrs),i.styles)){let e=i.styles.split(";"),t={};for(let n=0,i=e.length;n<i;n++){let i=e[n].split(":");t[i[0]]=i[1]}delete i.styles,i.style=t}return{tagName:e,attributes:i||{},children:n}},e.assignParent=t,e.append=function(e,n){t(e,n),n.children=n.children?n.children.concat(e):[].concat(e)},e.prepend=function(e,n){if(t(e,n),n.children&&n.children.length)for(let t=e.length-1;t>=0;t--)n.children.unshift(e[t]);else n.children=[],n.children.concat(e)},e.detach=n,e.vDomSelector=function e({ele:t,selector:n,selectAll:l,immediateParent:r}){let a=n.split(" "),o=t;for(let h=0,c=a.length;h<c;h++){let n=!1,c=o,d=a[h],u=[];if(vD.test(d))i(d,u);else if(-1===d.indexOf(">")){let e=d.match(yD);for(let t of e)i(t,u)}else if(-1!==d.indexOf(">")){n=!0;let i,s=d.split(">"),r=t,a=0;for(let t of s){if(!r)break;if(r.length){let n=[];for(let i of r)n=n.concat(e({ele:i,selector:t,selectAll:l,immediateParent:!!a}));i=n}else i=e({ele:r,selector:t,selectAll:l,immediateParent:!!a});a++,r=i}i&&(o=i)}if(!n)if(c.length){let e=[];for(let t of c)e=e.concat(s(t,u,l,r));o=e}else o=s(c,u,l,r)}return l?o:o[0]||null},e.accessElement=s,e.ConvertHTMLToJSon=l,e.cloneNode=function(e,t){return jO(e)?t?qO({},{},e,!0):{tagName:e.tagName,attributes:e.attributes}:e.cloneNode(t)},e.setStyleAttribute=function(e,t){e.attributes.style=qO(e.attributes.style?{}:e.attributes.style,t)}}(PD||(PD={}));const LD=/^svg|^path|^g/;function ND(e,t){let n=LD.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return void 0===t?n:(n.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(n.className=t.className),void 0!==t.id&&(n.id=t.id),void 0!==t.styles&&n.setAttribute("style",t.styles),void 0!==t.attrs&&WD(n,t.attrs),n)}function RD(e,t){let n=HD(t);for(let i of e)for(let e of n)if(jO(i)){let t=HO("attributes.className",i);UO(t)?BO("attributes.className",e,i):new RegExp("\\b"+e+"\\b","i").test(t)||BO("attributes.className",t+" "+e,i)}else i.classList.contains(e)||i.classList.add(e);return e}function FD(e,t){let n=HD(t);for(let i of e){let e=jO(i);if(e?HO("attributes.className",i):""!==i.className)for(let t of n)if(e){let e=HO("attributes.className",i).split(" "),n=e.indexOf(t);-1!==n&&e.splice(n,1),BO("attributes.className",e.join(" "),i)}else i.classList.remove(t)}return e}function HD(e){let t=[];return"string"==typeof e?t.push(e):t=e,t}function BD(e){return""===e.style.visibility&&e.offsetWidth>0}function VD(e,t,n){if(jO(t))PD.prepend(e,t);else{let i=document.createDocumentFragment();for(let t of e)i.appendChild(t);t.insertBefore(i,t.firstElementChild),n&&zD(t)}return e}function jD(e,t,n){if(jO(t))PD.append(e,t);else{let i=document.createDocumentFragment();for(let t of e)i.appendChild(t);t.appendChild(i),n&&zD(t)}return e}function zD(e){e.querySelectorAll("script").forEach(e=>{let t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),qD(t)})}function qD(e){return jO(e)?PD.detach(e):e.parentNode.removeChild(e)}function UD(e){if(jO(e))PD.detach(e);else{let t=e.parentNode;zI.clearEvents(e),t.removeChild(e)}}function WD(e,t){let n=Object.keys(t),i=e;for(let s of n)if(jO(i)){let e=s;"tabindex"===s&&(e="tabIndex"),i.attributes[e]=t[s]}else i.setAttribute(s,t[s]);return i}function YD(e,t=document,n){return jO(t)&&n?PD.vDomSelector({ele:t,selector:e,selectAll:!1}):t.querySelector(e)}function $D(e,t=document,n){return jO(t)&&!n?PD.vDomSelector({ele:t,selector:e,selectAll:!0}):t.querySelectorAll(e)}function GD(e,t){let n=e;if("function"==typeof n.closest)return n.closest(t);for(;n&&1===n.nodeType;){if(ZD(n,t))return n;n=n.parentNode}return null}function XD(e,t){void 0!==t&&(jO(e)?PD.setStyleAttribute(e,t):Object.keys(t).forEach(n=>{e.style[n]=t[n]}))}function KD(e,t,n){RD([e],t),FD([e],n)}function ZD(e,t){let n=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return n?n.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}const JD=new RegExp("]");class QD{constructor(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=()=>{},this.childChangedProperties={},this.modelObserver=new vI(this),WO(t)||(this.element="string"==typeof t?document.querySelector(t):t,UO(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),WO(e)||this.setProperties(e,!0),this.isDestroyed=!1}setProperties(e,t){let n=this.isProtectedOnChange;this.isProtectedOnChange=!!t,zO(this,e),!0!==t&&(zO(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=n}static callChildDataBind(e,t){let n=Object.keys(e);for(let i of n)if(t[i]instanceof Array)for(let e of t[i])void 0!==e.dataBind&&e.dataBind();else t[i].dataBind()}clearChanges(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}}dataBind(){if(QD.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){let e=this.isProtectedOnChange,t=this.changedProperties,n=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,n),this.isProtectedOnChange=e}}serverDataBind(e){}saveChanges(e,t,n){this.isProtectedOnChange||(this.oldProperties[e]=n,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(e){let t,n=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(n);let i="ej2"+function(e){let t="";for(let n=0;n<5;n++)t+=(n?",":"")+e[n];return t}(n),s=n=>{n.source===window&&"string"==typeof n.data&&n.data.length<=32&&n.data===i&&(e(),t())};return window.addEventListener("message",s,!1),window.postMessage(i,"*"),t=()=>{window.removeEventListener("message",s),e=s=i=void 0}}(this.dataBind.bind(this)))}addEventListener(e,t){this.modelObserver.on(e,t)}removeEventListener(e,t){this.modelObserver.off(e,t)}trigger(e,t,n,i){if(!0!==this.isDestroyed){let s=this.isProtectedOnChange;this.isProtectedOnChange=!1;let l=this.modelObserver.notify(e,t,n,i);if(JD.test(e)){let s=HO(e,this);if(s)if(window.Blazor){let e=s.call(this,t);e&&"function"==typeof e.then?n?e.then(e=>{n&&(e="string"==typeof e&&this.modelObserver.isJson(e)?JSON.parse(e):e,n.call(this,e))}).catch(e=>{i&&(e="string"==typeof e&&this.modelObserver.isJson(e)?JSON.parse(e):e,i.call(this,e))}):l=e:n&&n.call(this,t)}else s.call(this,t),n&&n.call(this,t);else n&&n.call(this,t)}return this.isProtectedOnChange=s,l}}addInstance(){let e="e-"+this.getModuleName().toLowerCase();RD([this.element],["e-lib",e]),UO(this.element.ej2_instances)?BO("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)}destroy(){this.element.ej2_instances=this.element.ej2_instances.filter(e=>e!==this),FD([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&FD([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0}}function eA(e,t){let n,i,s="string"==typeof e?document.getElementById(e):e;for(i=0;i<s.ej2_instances.length;i++)if(n=s.ej2_instances[i],"string"==typeof t){if(t===n.getModuleName())return n}else if(n instanceof t)return n}function tA(e,t,n,i){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof i||(e.properties[t]=FO(i,[e,t,n])),e.properties[t]}function nA(e,t,n,i,s,l){let r=[],a=n?n.length:0;for(let o=0;o<a;o++){let a=i;if(l&&(a=i(n[o],e)),s){let i=FO(a,[e,t,{},!0]);i.setProperties(n[o],!0),r.push(i)}else r.push(FO(a,[e,t,n[o],!1]))}return r}function iA(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function sA(e,t){return function(n){if(this.properties[t]!==n){let i=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,n,i),this.properties[t]=n}}}function lA(e,t,n){return function(){return tA(this,t,e,n)}}function rA(e,t,n){return function(i){tA(this,t,e,n).setProperties(i)}}function aA(e,t,n){return function(){if(!this.properties.hasOwnProperty(t)){let i=nA(this,t,e,n,!1);this.properties[t]=i}let i=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||i||["push","pop"].forEach(e=>{let n={value:hA(e,t,0,this.properties[t]).bind(this),configurable:!0};Object.defineProperty(this.properties[t],e,n)}),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[t],"isComplexArray",{value:!0}),this.properties[t]}}function oA(e,t,n){return function(i){this.isComplexArraySetter=!0;let s=nA(this,t,e,n,!1),l=nA(this,t,i,n,!0);this.isComplexArraySetter=!1,this.saveChanges(t,l,s),this.properties[t]=l}}function hA(e,t,n,i){return function(...n){let s=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(let l=0;l<n.length;l++){Array.prototype[e].apply(i,[n[l]]);let t=cA(s+(i.length-1),n[l],!this.controlParent,e);this.serverDataBind(t,n[l],!1,e)}break;case"pop":Array.prototype[e].apply(i);let t=cA(s+i.length,null,!this.controlParent,e);this.serverDataBind(t,{ejsAction:"pop"},!1,e)}return i}}function cA(e,t,n,i){let s=e;return n&&(s={},s[e]=t,t&&"object"==typeof t)&&(s[e].ejsAction=i),s}function dA(e){return(t,n)=>{let i={set:sA(e,n),get:iA(e,n),enumerable:!0,configurable:!0};Object.defineProperty(t,n,i),gA(t,n,"prop",e)}}function uA(e,t){return(n,i)=>{let s={set:rA(e,i,t),get:lA(e,i,t),enumerable:!0,configurable:!0};Object.defineProperty(n,i,s),gA(n,i,"complexProp",e,t)}}function pA(e,t){return(n,i)=>{let s={set:oA(e,i,t),get:aA(e,i,t),enumerable:!0,configurable:!0};Object.defineProperty(n,i,s),gA(n,i,"colProp",e,t)}}function mA(){return(e,t)=>{let n={set:function(e){let n=this.properties[t];if(n!==e){let i=function e(t,n){if(!1===t.hasOwnProperty("parentObj"))return{context:t,prefix:n};{let i=HO("propName",t);return i&&(n=i+"-"+n),e(HO("parentObj",t),n)}}(this,t);!1===WO(n)&&i.context.removeEventListener(i.prefix,n),i.context.addEventListener(i.prefix,e),this.properties[t]=e}},get:iA(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,n),gA(e,t,"event")}}function fA(e){}function gA(e,t,n,i,s){WO(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[n+"s"].push({propertyName:t,defaultValue:i,type:s}),e.propList[n+"Names"].push(t)}var bA,vA=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let yA=(()=>{let e=bA=class extends QD{constructor(e){super(e,void 0),this.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"}}animate(e,t){let n=this.getModel(t=t||{});if("string"==typeof e){let t=Array.prototype.slice.call($D(e,document));for(let e of t)n.element=e,bA.delayAnimation(n)}else n.element=e,bA.delayAnimation(n)}static stop(e,t){e.style.animation="",e.removeAttribute("e-animate");let n=e.getAttribute("e-animation-id");if(n){let t=parseInt(n,10);cancelAnimationFrame(t),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)}static delayAnimation(e){e.delay?setTimeout(()=>{bA.applyAnimation(e)},e.delay):bA.applyAnimation(e)}static applyAnimation(e){e.timeStamp=0;let t=0,n=0,i=0,s=0,l=e.duration;e.element.setAttribute("e-animate","true");let r=a=>{try{if(a){s=0===s?a:s,e.timeStamp=a+e.timeStamp-s,s=a,!t&&e.begin&&e.begin.call(this,e),t+=1;let i=e.timeStamp/t;e.timeStamp<l&&e.timeStamp+i<l&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(this,e),requestAnimationFrame(r)):(cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(this,e))}else i=performance.now(),n=requestAnimationFrame(r),e.element.setAttribute("e-animation-id",n.toString())}catch(qG){cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(this,qG)}};r()}getModel(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}}onPropertyChanged(e,t){}getModuleName(){return"animation"}destroy(){}};return vA([dA("FadeIn")],e.prototype,"name",void 0),vA([dA(400)],e.prototype,"duration",void 0),vA([dA("ease")],e.prototype,"timingFunction",void 0),vA([dA(0)],e.prototype,"delay",void 0),vA([mA()],e.prototype,"progress",void 0),vA([mA()],e.prototype,"begin",void 0),vA([mA()],e.prototype,"end",void 0),vA([mA()],e.prototype,"fail",void 0),e=bA=vA([fA],e),e})();function wA(e,t,n){let i=function(e){return{selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350}}(t);return!1===i.rippleFlag||void 0===i.rippleFlag&&!kA?Function:(e.setAttribute("data-ripple","true"),zI.add(e,"mousedown",CA,{parent:e,rippleOptions:i}),zI.add(e,"mouseup",xA,{parent:e,rippleOptions:i,done:n}),zI.add(e,"mouseleave",_A,{parent:e,rippleOptions:i}),jI.isPointer&&zI.add(e,"transitionend",_A,{parent:e,rippleOptions:i}),()=>{e.removeAttribute("data-ripple"),zI.remove(e,"mousedown",CA),zI.remove(e,"mouseup",xA),zI.remove(e,"mouseleave",_A),zI.remove(e,"transitionend",_A)})}function CA(e){let t=e.target,n=this.rippleOptions.selector,i=n?GD(t,n):t;if(!i||this.rippleOptions&&GD(t,this.rippleOptions.ignore))return;let s=i.getBoundingClientRect(),l=e.pageX-document.body.scrollLeft,r=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(l-s.left),Math.abs(l-s.right)),o=Math.max(Math.abs(r-s.top),Math.abs(r-s.bottom)),h=Math.sqrt(a*a+o*o),c=2*h+"px",d=l-s.left-h,u=r-s.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,u=0,c="100%"),i.classList.add("e-ripple");let p=ND("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+d+"px;top: "+u+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(p),window.getComputedStyle(p).getPropertyValue("opacity"),p.style.transform="scale(1)",i!==this.parent&&zI.add(i,"mouseleave",_A,{parent:this.parent,rippleOptions:this.rippleOptions})}function xA(e){SA(e,this)}function _A(e){SA(e,this)}function SA(e,t){let n=t.rippleOptions.duration,i=e.target,s=t.rippleOptions.selector,l=s?GD(i,s):i;if(!l||l&&-1===l.className.indexOf("e-ripple"))return;let r=$D(".e-ripple-element",l),a=r[r.length-1];a&&(a.style.opacity="0.5"),t.parent!==l&&zI.remove(l,"mouseleave",_A),setTimeout(()=>{a&&a.parentNode&&a.parentNode.removeChild(a),l.getElementsByClassName("e-ripple-element").length||l.classList.remove("e-ripple"),t.done&&t.done(e)},n)}let kA=!1;class EA{constructor(e){this.loadedModules=[],this.parent=e}inject(e,t){let n=e.length;if(0!==n){this.loadedModules.length&&this.clearUnusedModule(e);for(let i=0;i<n;i++){let n=e[i];for(let e of t){let t=n.member;if(e.prototype.getModuleName()===n.member&&!this.isModuleLoaded(t)){let i=FO(e,n.args),s=this.getMemberName(t);BO(s,n.isProperty?e:i,this.parent);let l=n;l.member=s,this.loadedModules.push(l)}}}}else this.clean()}clean(){for(let e of this.loadedModules)e.isProperty||HO(e.member,this.parent).destroy();this.loadedModules=[]}clearUnusedModule(e){let t=e.map(e=>this.getMemberName(e.member)),n=this.loadedModules.filter(e=>-1===t.indexOf(e.member));for(let i of n)i.isProperty||HO(i.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(i),1),VO(this.parent,i.member)}getMemberName(e){return e[0].toLowerCase()+e.substring(1)+"Module"}isModuleLoaded(e){for(let t of this.loadedModules)if(t.member===this.getMemberName(e))return!0;return!1}}class OA{constructor(e,t,n,i){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=()=>{},this.callChildDataBind=HO("callChildDataBind",QD),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=i,this.setProperties(n,!0)}updateChange(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)}updateTimeOut(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{let e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=()=>{clearTimeout(e)}}}clearChanges(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}}setProperties(e,t){!0===t?(zO(this,e),this.updateChange(!1,this.propName),this.clearChanges()):zO(this,e)}dataBind(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){let e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(BO(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),BO(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()}saveChanges(e,t,n,i){this.controlParent.isProtectedOnChange||(i||this.serverDataBind(e,t,!0),this.oldProperties[e]=n,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())}serverDataBind(e,t,n,i){}getParentKey(e){let t="",n=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);let i=this.parentObj[this.propName].length;i=e?i:i>0?i-1:0,t=-1!==t?"-"+t:"-"+i,n+=t}return this.controlParent!==this.parentObj&&(n=this.parentObj.getParentKey()+"."+this.propName+t),n}}var IA=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let DA,AA=0,MA=0,TA=(()=>{let e=class extends QD{constructor(e,t){super(e,t),this.randomId=function(){if("undefined"==typeof window)return;let e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}(),this.isStringTemplate=!1,this.needsID=!1,this.isReactHybrid=!1,UO(this.enableRtl)&&this.setProperties({enableRtl:!1},!0),UO(this.locale)&&this.setProperties({locale:CI},!0),this.moduleLoader=new EA(this),this.localObserver=new vI(this),yI.on("notifyExternalChange",this.detectFunction,this,this.randomId),WO(t)||this.appendTo()}requiredModules(){return[]}destroy(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(FD([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),super.destroy(),this.moduleLoader.clean(),yI.off("notifyExternalChange",this.detectFunction,this.randomId)))}refresh(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new vI(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1}accessMount(){this.mount&&!this.isReactHybrid&&this.mount()}getRootElement(){return this.isReactHybrid?this.actualElement:this.element}appendTo(e){if(UO(e)||"string"!=typeof e?UO(e)||(this.element=e):this.element=document.querySelector(e),!UO(this.element)){let e="e-"+this.getModuleName().toLowerCase();RD([this.element],["e-control",e]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));let t=HO("ej2_instances",this.element);t&&-1!==t.indexOf(this)||super.addInstance(),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}}renderComplete(e){this.isRendered=!0}dataBind(){this.injectModules(),super.dataBind()}on(e,t,n){if("string"==typeof e)this.localObserver.on(e,t,n);else for(let i of e)this.localObserver.on(i.event,i.handler,i.context)}off(e,t){if("string"==typeof e)this.localObserver.off(e,t);else for(let n of e)this.localObserver.off(n.event,n.handler)}notify(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)}getInjectedModules(){return this.injectedModules}static Inject(...e){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(let t=0;t<e.length;t++)-1===this.prototype.injectedModules.indexOf(e[t])&&this.prototype.injectedModules.push(e[t])}createElement(e,t,n){return n&&this.isReactHybrid?(t&&(t={}),t["data-id"]=mD(),PD.createElement(e,t)):ND(e,t)}triggerStateChange(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})}injectModules(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)}detectFunction(e){let t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])}mergePersistData(){let e=window.localStorage.getItem(this.getModuleName()+this.element.id);UO(e)||""===e||this.setProperties(JSON.parse(e),!0)}setPersistData(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())}clearTemplate(e,t){}getUniqueID(e){return this.isHistoryChanged()&&(AA=0),DA=this.pageID(location.href),MA=history.length,e+"_"+DA+"_"+AA++}pageID(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)}isHistoryChanged(){return DA!==this.pageID(location.href)||MA!==history.length}addOnPersist(e){let t={};for(let n of e){let e;e=HO(n,this),WO(e)||BO(n,this.getActualProperties(e),t)}return JSON.stringify(t,(e,t)=>this.getActualProperties(t))}getActualProperties(e){return e instanceof OA?HO("properties",e):e}ignoreOnPersist(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))}iterateJsonProperties(e,t){let n={};for(let i of Object.keys(e))if(-1===t.indexOf(i)){let s=e[i];if("object"!=typeof s||s instanceof Array)n[i]=s;else{let e=t.filter(e=>new RegExp(i+".").test(e)).map(e=>e.replace(i+".",""));n[i]=this.iterateJsonProperties(this.getActualProperties(s),e)}}return n}};return IA([dA(!1)],e.prototype,"enablePersistence",void 0),IA([dA()],e.prototype,"enableRtl",void 0),IA([dA()],e.prototype,"locale",void 0),e=IA([fA],e),e})();"undefined"!=typeof window&&window.addEventListener("popstate",()=>{AA=0});var PA,LA=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const NA={left:0,top:0,bottom:0,right:0},RA={isDragged:!1};let FA=(()=>{class e extends OA{}return LA([dA(0)],e.prototype,"left",void 0),LA([dA(0)],e.prototype,"top",void 0),e})(),HA=(()=>{let e=PA=class extends QD{constructor(e,t){super(t,e),this.dragLimit=PA.getDefaultPosition(),this.borderWidth=PA.getDefaultPosition(),this.padding=PA.getDefaultPosition(),this.diffX=0,this.prevLeft=0,this.prevTop=0,this.dragProcessStarted=!1,this.tapHoldTimer=0,this.externalInitialize=!1,this.diffY=0,this.parentScrollX=0,this.parentScrollY=0,this.droppables={},this.bind()}bind(){this.toggleEvents(),jI.isIE&&RD([this.element],"e-block-touch"),this.droppables[this.scope]={}}static getDefaultPosition(){return qO({},NA)}toggleEvents(e){let t;WO(this.handle)||(t=YD(this.handle,this.element));let n=this.enableTapHold&&jI.isDevice&&jI.isTouch?this.mobileInitialize:this.initialize;e?zI.remove(t||this.element,jI.touchStartEvent,n):zI.add(t||this.element,jI.touchStartEvent,n,this)}mobileInitialize(e){let t=e.currentTarget;this.tapHoldTimer=setTimeout(()=>{this.externalInitialize=!0,this.removeTapholdTimer(),this.initialize(e,t)},this.tapHoldThreshold),zI.add(document,jI.touchMoveEvent,this.removeTapholdTimer,this),zI.add(document,jI.touchEndEvent,this.removeTapholdTimer,this)}removeTapholdTimer(){clearTimeout(this.tapHoldTimer),zI.remove(document,jI.touchMoveEvent,this.removeTapholdTimer),zI.remove(document,jI.touchEndEvent,this.removeTapholdTimer)}getScrollableParent(e,t){return UO(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY):this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),UO(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)}getScrollableValues(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")}initialize(e,t){if(this.currentStateTarget=e.target,this.isDragStarted())return;if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){let t=this.abort;"string"==typeof t&&(t=[t]);for(let n=0;n<t.length;n++)if(!UO(GD(e.target,t[n])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!WO(e.changedTouches)&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");let n=this.getCoordinates(e);if(this.initialPosition={x:n.pageX,y:n.pageY},!this.clone){let t=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=n.pageX-(t.left+this.parentScrollX),this.relativeYPosition=n.pageY-(t.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(zI.add(document,jI.touchMoveEvent,this.intDragStart,this),zI.add(document,jI.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,zI.trigger(document.documentElement,jI.touchStartEvent,e)}intDragStart(e){this.removeTapholdTimer();let t=!WO(e.changedTouches);if(t&&1!==e.changedTouches.length)return;t&&e.preventDefault();let n,i=this.getCoordinates(e),s=getComputedStyle(this.element);this.margin={left:parseInt(s.marginLeft,10),top:parseInt(s.marginTop,10),right:parseInt(s.marginRight,10),bottom:parseInt(s.marginBottom,10)};let l=this.element;if(this.clone&&this.dragTarget){let t=GD(e.target,this.dragTarget);UO(t)||(l=t)}this.offset=this.calculateParentPosition(l),this.position=this.getMousePosition(e,this.isDragScroll);let r=this.initialPosition.x-i.pageX,a=this.initialPosition.y-i.pageY;if(Math.sqrt(r*r+a*a)>=this.distance||this.externalInitialize){let t=this.getHelperElement(e);if(!t||UO(t))return;let i=this.helperElement=t;if(this.parentClientRect=this.calculateParentPosition(i.offsetParent),this.dragStart){let t={event:e,element:l,target:this.getProperTargetElement(e),bindEvents:null,dragElement:i};this.trigger("dragStart",t)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),n={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();let s=this.getProcessedPositionValue({top:n.top-this.diffY+"px",left:n.left-this.diffX+"px"});this.dragElePosition={top:n.top,left:n.left},XD(i,this.getDragPosition({position:"absolute",left:s.left,top:s.top})),zI.remove(document,jI.touchMoveEvent,this.intDragStart),zI.remove(document,jI.touchEndEvent,this.intDestroy),this.bindDragEvents(i)}}bindDragEvents(e){BD(e)?(zI.add(document,jI.touchMoveEvent,this.intDrag,this),zI.add(document,jI.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}elementInViewport(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)this.top+=(e=e.offsetParent).offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth}getProcessedPositionValue(e){return this.queryPositionInfo?this.queryPositionInfo(e):e}calculateParentPosition(e){if(UO(e))return{left:0,top:0};let t=e.getBoundingClientRect(),n=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(n.marginLeft,10),top:t.top+window.pageYOffset-parseInt(n.marginTop,10)}}intDrag(e){if(!WO(e.changedTouches)&&1!==e.changedTouches.length)return;let t,n;this.position=this.getMousePosition(e,this.isDragScroll);let i=this.getDocumentWidthHeight("Height");i<this.position.top&&(this.position.top=i);let s=this.getDocumentWidthHeight("Width");if(s<this.position.left&&(this.position.left=s),this.drag){let t=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:t})}let l=this.checkTargetElement(e);if(l.target&&l.instance){let t=!0;this.hoverObject&&(this.hoverObject.instance!==l.instance?this.triggerOutFunction(e,l):t=!1),t&&(l.instance.dragData[this.scope]=this.droppables[this.scope],l.instance.intOver(e,l.target),this.hoverObject=l)}else this.hoverObject&&this.triggerOutFunction(e,l);let r=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);let a=this.parentClientRect.left,o=this.parentClientRect.top,h=this.getCoordinates(e),c=h.pageX,d=h.pageY,u=this.position.left-this.diffX,p=this.position.top-this.diffY;if(this.dragArea){let e=getComputedStyle(r);if(this.pageX!==c||this.skipDistanceCheck){let n=r.offsetWidth+(parseFloat(e.marginLeft)+parseFloat(e.marginRight));t=this.dragLimit.left>u&&u>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<u+n&&u>0?u-(u-this.dragLimit.right)+window.pageXOffset-n:u<0?this.dragLimit.left:u}if(this.pageY!==d||this.skipDistanceCheck){let t=r.offsetHeight+(parseFloat(e.marginTop)+parseFloat(e.marginBottom));n=this.dragLimit.top>p&&p>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<p+t&&p>0?p-(p-this.dragLimit.bottom)+window.pageYOffset-t:p<0?this.dragLimit.top:p}}else t=u,n=p;let m,f,g=o+this.borderWidth.top,b=a+this.borderWidth.left;this.dragProcessStarted&&(UO(n)&&(n=this.prevTop),UO(t)&&(t=this.prevLeft)),this.dragArea?(m=n-g<0?this.dragLimit.top:n-g,f=t-b<0?this.dragElePosition.left:t-b):(m=n-g,f=t-b);let v=this.getProcessedPositionValue({top:m+"px",left:f+"px"});XD(r,this.getDragPosition(v)),!this.elementInViewport(r)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=n,this.position.left=t,this.position.top=n,this.pageX=c,this.pageY=d}triggerOutFunction(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null}getDragPosition(e){let t=qO({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t}getDocumentWidthHeight(e){let t=document.body,n=document.documentElement;return Math.max(t["scroll"+e],n["scroll"+e],t["offset"+e],n["offset"+e],n["client"+e])}intDragStop(e){if(this.dragProcessStarted=!1,!WO(e.changedTouches)&&1!==e.changedTouches.length)return;if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){let t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");let t=this.checkTargetElement(e);t.target&&t.instance&&(t.instance.dragStopCalled=!0,t.instance.dragData[this.scope]=this.droppables[this.scope],t.instance.intDrop(e,t.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}intDestroy(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),zI.remove(document,jI.touchMoveEvent,this.intDragStart),zI.remove(document,jI.touchEndEvent,this.intDragStop),zI.remove(document,jI.touchEndEvent,this.intDestroy),zI.remove(document,jI.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)}onPropertyChanged(e,t){}getModuleName(){return"draggable"}isDragStarted(e){return e&&(RA.isDragged=!RA.isDragged),RA.isDragged}setDragArea(){let e,t,n,i=0,s=0;if(n="string"==typeof this.dragArea?YD(this.dragArea):this.dragArea,n){let l=n.getBoundingClientRect();e=n.scrollWidth?n.scrollWidth:l.right-l.left,t=n.scrollHeight?n.scrollHeight:l.bottom-l.top;let r=["Top","Left","Bottom","Right"],a=getComputedStyle(n);for(let e=0;e<r.length;e++){let t=r[e],n=a["border"+t+"Width"],i=a["padding"+t],s=t.toLowerCase();this.borderWidth[s]=isNaN(parseFloat(n))?0:parseFloat(n),this.padding[s]=isNaN(parseFloat(i))?0:parseFloat(i)}i=l.top,s=l.left,this.dragLimit.left=s+this.borderWidth.left+this.padding.left,this.dragLimit.top=n.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=s+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}}getProperTargetElement(e){let t,n=this.getCoordinates(e),i=this.helperElement.style.pointerEvents||"";return GO(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=i):t=e.target,t}getMousePosition(e,t){let n,i,s=void 0!==e.srcElement?e.srcElement:e.target,l=this.getCoordinates(e),r=UO(s.offsetParent);return t?(n=this.clone?l.pageX:l.pageX+(r?0:s.offsetParent.scrollLeft)-this.relativeXPosition,i=this.clone?l.pageY:l.pageY+(r?0:s.offsetParent.scrollTop)-this.relativeYPosition):(n=this.clone?l.pageX:l.pageX+window.pageXOffset-this.relativeXPosition,i=this.clone?l.pageY:l.pageY+window.pageYOffset-this.relativeYPosition),{left:n-(this.margin.left+this.cursorAt.left),top:i-(this.margin.top+this.cursorAt.top)}}getCoordinates(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e}getHelperElement(e){let t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=ND("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t}setGlobalDroppables(e,t,n){this.droppables[this.scope]=e?null:{draggable:t,helper:n,draggedElement:this.element}}checkTargetElement(e){let t=this.getProperTargetElement(e),n=this.getDropInstance(t);if(!n&&t&&!UO(t.parentNode)){let e=GD(t.parentNode,".e-droppable")||t.parentElement;e&&(n=this.getDropInstance(e))}return{target:t,instance:n}}getDropInstance(e){let t,n=e&&e.ej2_instances;if(n)for(let i of n)if("droppable"===i.getModuleName()){t=i;break}return t}destroy(){this.toggleEvents(!0),super.destroy()}};return LA([uA({},FA)],e.prototype,"cursorAt",void 0),LA([dA(!0)],e.prototype,"clone",void 0),LA([dA()],e.prototype,"dragArea",void 0),LA([dA()],e.prototype,"isDragScroll",void 0),LA([mA()],e.prototype,"drag",void 0),LA([mA()],e.prototype,"dragStart",void 0),LA([mA()],e.prototype,"dragStop",void 0),LA([dA(1)],e.prototype,"distance",void 0),LA([dA()],e.prototype,"handle",void 0),LA([dA()],e.prototype,"abort",void 0),LA([dA()],e.prototype,"helper",void 0),LA([dA("default")],e.prototype,"scope",void 0),LA([dA("")],e.prototype,"dragTarget",void 0),LA([dA()],e.prototype,"axis",void 0),LA([dA()],e.prototype,"queryPositionInfo",void 0),LA([dA(!1)],e.prototype,"enableTailMode",void 0),LA([dA(!1)],e.prototype,"skipDistanceCheck",void 0),LA([dA(!0)],e.prototype,"preventDefault",void 0),LA([dA(!1)],e.prototype,"enableAutoScroll",void 0),LA([dA(!1)],e.prototype,"enableTapHold",void 0),LA([dA(750)],e.prototype,"tapHoldThreshold",void 0),e=PA=LA([fA],e),e})();var BA=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let VA=(()=>{let e=class extends QD{constructor(e,t){super(t,e),this.mouseOver=!1,this.dragData={},this.dragStopCalled=!1,this.bind()}bind(){this.wireEvents()}wireEvents(){zI.add(this.element,jI.touchEndEvent,this.intDrop,this)}onPropertyChanged(e,t){}getModuleName(){return"droppable"}intOver(e,t){this.mouseOver||(this.trigger("over",{event:e,target:t,dragData:this.dragData[this.scope]}),this.mouseOver=!0)}intOut(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)}intDrop(e,t){if(!this.dragStopCalled)return;this.dragStopCalled=!1;let n,i=!0,s=this.dragData[this.scope],l=!!s&&s.helper&&BD(s.helper);l&&(n=this.isDropArea(e,s.helper,t),this.accept&&(i=ZD(s.helper,this.accept))),l&&this.drop&&n.canDrop&&i&&this.trigger("drop",{event:e,target:n.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1}isDropArea(e,t,n){let i={canDrop:!0,target:n||e.target},s="touchend"===e.type;if(s||i.target===t){t.style.display="none";let n=s?e.changedTouches[0]:e,l=document.elementFromPoint(n.clientX,n.clientY);i.canDrop=!1,i.canDrop=GO(l,this.element),i.canDrop&&(i.target=l),t.style.display=""}return i}destroy(){zI.remove(this.element,jI.touchEndEvent,this.intDrop),super.destroy()}};return BA([dA()],e.prototype,"accept",void 0),BA([dA("default")],e.prototype,"scope",void 0),BA([mA()],e.prototype,"drop",void 0),BA([mA()],e.prototype,"over",void 0),BA([mA()],e.prototype,"out",void 0),e=BA([fA],e),e})();var jA,zA=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let qA={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},UA=(()=>{let e=jA=class extends QD{constructor(e,t){super(t,e),this.keyPressHandler=e=>{let t=e.altKey,n=e.ctrlKey,i=e.shiftKey,s=e.which,l=Object.keys(this.keyConfigs);for(let r of l){let l=this.keyConfigs[r].split(",");for(let a of l){let l=jA.getKeyConfigData(a.trim());t===l.altKey&&n===l.ctrlKey&&i===l.shiftKey&&s===l.keyCode&&(e.action=r,this.keyAction&&this.keyAction(e))}}},this.bind()}destroy(){this.unwireEvents(),super.destroy()}onPropertyChanged(e,t){}bind(){this.wireEvents()}getModuleName(){return"keyboard"}wireEvents(){this.element.addEventListener(this.eventName,this.keyPressHandler)}unwireEvents(){this.element.removeEventListener(this.eventName,this.keyPressHandler)}static getKeyConfigData(e){if(e in this.configCache)return this.configCache[e];let t=e.toLowerCase().split("+"),n={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return n.keyCode=t[t.length-1].length>1&&Number(t[t.length-1])?Number(t[t.length-1]):jA.getKeyCode(t[t.length-1]),jA.configCache[e]=n,n}static getKeyCode(e){return qA[e]||e.toUpperCase().charCodeAt(0)}};return e.configCache={},zA([dA({})],e.prototype,"keyConfigs",void 0),zA([dA("keyup")],e.prototype,"eventName",void 0),zA([mA()],e.prototype,"keyAction",void 0),e=jA=zA([fA],e),e})(),WA=(()=>{class e{constructor(e,t,n){this.controlName=e,this.localeStrings=t,this.setLocale(n||CI)}setLocale(t){let n=this.intGetControlConstant(e.locale,t);this.currentLocale=n||this.localeStrings}static load(e){this.locale=qO(this.locale,e,{},!0)}getConstant(e){return UO(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]}intGetControlConstant(e,t){return e[t]?e[t][this.controlName]:null}}return e.locale={},e})();var YA=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let $A=(()=>{class e extends OA{}return YA([dA(50)],e.prototype,"swipeThresholdDistance",void 0),e})();const GA=/(Up|Down)/;let XA=(()=>{let e=class extends QD{constructor(e,t){super(t,e),this.touchAction=!0,this.tapCount=0,this.startEvent=e=>{if(!0===this.touchAction){let t=this.updateChangeTouches(e);void 0!==e.changedTouches&&(this.touchAction=!1),this.isTouchMoved=!1,this.movedDirection="",this.startPoint=this.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},this.startEventData=t,this.hScrollLocked=this.vScrollLocked=!1,this.tStampStart=Date.now(),this.timeOutTapHold=setTimeout(()=>{this.tapHoldEvent(e)},this.tapHoldThreshold),zI.add(this.element,jI.touchMoveEvent,this.moveEvent,this),zI.add(this.element,jI.touchEndEvent,this.endEvent,this),zI.add(this.element,jI.touchCancelEvent,this.cancelEvent,this)}},this.moveEvent=e=>{let t=this.updateChangeTouches(e);this.movedPoint=t,this.isTouchMoved=!(t.clientX===this.startPoint.clientX&&t.clientY===this.startPoint.clientY);let n={};this.isTouchMoved&&(clearTimeout(this.timeOutTapHold),this.calcScrollPoints(e),n=qO(n,{},{startEvents:this.startEventData,originalEvent:e,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,scrollDirection:this.scrollDirection,velocity:this.getVelocity(t)}),this.trigger("scroll",n),this.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},this.cancelEvent=e=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap),this.tapCount=0,this.swipeFn(e),zI.remove(this.element,jI.touchCancelEvent,this.cancelEvent)},this.endEvent=e=>{this.swipeFn(e),this.isTouchMoved||"function"==typeof this.tap&&(this.trigger("tap",{originalEvent:e,tapCount:++this.tapCount}),this.timeOutTap=setTimeout(()=>{this.tapCount=0},this.tapThreshold)),this.modeclear()},this.swipeFn=e=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap);let t=this.updateChangeTouches(e),n=t.clientX-this.startPoint.clientX,i=t.clientY-this.startPoint.clientY;n=Math.floor(n<0?-1*n:n),i=Math.floor(i<0?-1*i:n),this.isTouchMoved=n>1||i>1,this.endPoint=t,this.calcPoints(e);let s={originalEvent:e,startEvents:this.startEventData,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,swipeDirection:this.movedDirection,velocity:this.getVelocity(t)};if(this.isTouchMoved){let e,t=this.swipeSettings.swipeThresholdDistance;e=qO(e,this.defaultArgs,s);let n=!1,i=this.element,l=this.isScrollable(i),r=GA.test(this.movedDirection);(t<this.distanceX&&!r||t<this.distanceY&&r)&&(n=!l||this.checkSwipe(i,r)),n&&this.trigger("swipe",e)}this.modeclear()},this.modeclear=()=>{this.modeClear=setTimeout(()=>{this.touchAction=!0},"function"!=typeof this.tap?0:20),this.lastTapTime=(new Date).getTime(),zI.remove(this.element,jI.touchMoveEvent,this.moveEvent),zI.remove(this.element,jI.touchEndEvent,this.endEvent),zI.remove(this.element,jI.touchCancelEvent,this.cancelEvent)},this.bind()}onPropertyChanged(e,t){}bind(){this.wireEvents(),jI.isIE&&this.element.classList.add("e-block-touch")}destroy(){this.unwireEvents(),super.destroy()}wireEvents(){zI.add(this.element,jI.touchStartEvent,this.startEvent,this)}unwireEvents(){zI.remove(this.element,jI.touchStartEvent,this.startEvent)}getModuleName(){return"touch"}isScrollable(e){let t=getComputedStyle(e);return!!/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}tapHoldEvent(e){let t;this.tapCount=0,this.touchAction=!0,zI.remove(this.element,jI.touchMoveEvent,this.moveEvent),zI.remove(this.element,jI.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),zI.remove(this.element,jI.touchCancelEvent,this.cancelEvent)}calcPoints(e){let t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"}calcScrollPoints(e){let t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)}getVelocity(e){let t=e.clientX,n=e.clientY,i=Date.now(),s=t-this.startPoint.clientX,l=n-this.startPoint.clientX,r=i-this.tStampStart;return Math.sqrt(s*s+l*l)/r}checkSwipe(e,t){let n=["scroll","offset"],i=t?["Height","Top"]:["Width","Left"];return e[n[0]+i[0]]<=e[n[1]+i[0]]||0===e[n[0]+i[1]]||e[n[1]+i[0]]+e[n[0]+i[1]]>=e[n[0]+i[0]]}updateChangeTouches(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e}};return YA([mA()],e.prototype,"tap",void 0),YA([mA()],e.prototype,"tapHold",void 0),YA([mA()],e.prototype,"swipe",void 0),YA([mA()],e.prototype,"scroll",void 0),YA([dA(350)],e.prototype,"tapThreshold",void 0),YA([dA(750)],e.prototype,"tapHoldThreshold",void 0),YA([uA({},$A)],e.prototype,"swipeSettings",void 0),e=YA([fA],e),e})();const KA=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],ZA=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],JA=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"];class QA{static beforeSanitize(){return{selectors:{tags:KA,attributes:ZA}}}static sanitize(e){let t=this.beforeSanitize();return this.serializeValue(t,e)}static serializeValue(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();let n=this.wrapElement.innerHTML;return this.removeElement(),n}static removeElement(){let e=this.wrapElement.children;for(let t=0;t<e.length;t++){let n=e[t].attributes;for(let e=0;e<n.length;e++)this.wrapElement.children[t].removeAttribute(n[e].localName)}}static removeXssTags(){let e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach(e=>{qD(e)})}static removeJsEvents(){let e=this.wrapElement.querySelectorAll("["+JA.join("],[")+"]");e.length>0&&e.forEach(e=>{JA.forEach(t=>{e.hasAttribute(t)&&e.removeAttribute(t)})})}static removeXssAttrs(){this.removeAttrs.forEach((e,t)=>{let n=this.wrapElement.querySelectorAll(e.selector);n.length>0&&n.forEach(t=>{t.removeAttribute(e.attribute)})})}}function eM(e,t,n){var i={};if(e&&e.length){for(var s=0,l=e;s<l.length;s++){var r=l[s];!0===n?(t.propCollection[r]=new As(!1),t[r]=t.propCollection[r]):i[r]=new As(!1)}!0!==n&&t.setProperties(i,!0)}}function tM(e,t,n){var i=Object.keys(e.registeredTemplate);if(i.length)for(var s=t&&t.filter((function(e){return!/\./g.test(e)})),l=0,r=s&&s||i;l<r.length;l++){var a=r[l];if(n&&n.length)for(var o=0;o<n.length;o++)for(var h=0;h<e.registeredTemplate.template.length;h++)e.registeredTemplate.template[h].rootNodes[0]===n[o]&&(u=e.registeredTemplate[a])[h].destroy();else for(var c=0,d=e.registeredTemplate[a];c<d.length;c++){var u;if(!(u=d[c]).destroyed){if(u._view){var p=u._view.renderer.parentNode(u.rootNodes[0]);for(h=0;h<u.rootNodes.length;h++)p.appendChild(u.rootNodes[h])}u.destroy()}}delete e.registeredTemplate[a]}for(var m=function(e){e.instance&&e.instance.clearTemplate(t&&t.filter((function(t){return!!new RegExp(e.name).test(t)})))},f=0,g=e.tagObjects;f<g.length;f++)m(g[f])}function nM(e,t,n){for(var i=e.replace(/\[/g,".").replace(/\]/g,"").split("."),s=n||{},l=0;l<i.length;l++){var r=i[l];l+1===i.length?s[r]=void 0===t?{}:t:void 0===s[r]&&(s[r]={}),s=s[r]}return s}var iM=function(){function e(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return e.prototype.ngOnInit=function(){this.registeredTemplate={};for(var e=0,t=this.tags;e<t.length;e++){var n=t[e],i=HO("child"+n.substring(0,1).toUpperCase()+n.substring(1),this);i&&this.tagObjects.push({instance:i,name:n})}for(var s=Object.keys(this),l=0,r=s=s.filter((function(e){return/Ref$/i.test(e)}));l<r.length;l++){var a=r[l].replace("Ref","");BO(a.replace("_","."),HO(a,this),this.propCollection)}var o=Object.keys(this);if(this.directivePropList){for(var h=0;h<this.directivePropList.length;h++){var c=this.directivePropList[h];-1!==o.indexOf(c)&&BO(c,HO(c,this),this.propCollection)}this.hasChanges=!0}},e.prototype.registerEvents=function(e){eM(e,this,!0)},e.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this.propCollection[i]=e[i].currentValue}this.isUpdated=!1,this.hasChanges=!0},e.prototype.clearTemplate=function(e){tM(this,e)},e.prototype.getProperties=function(){for(var e=0,t=this.tagObjects;e<t.length;e++){var n=t[e];this.propCollection[n.name]=n.instance.getProperties()}return this.propCollection},e.prototype.isChanged=function(){for(var e=this.hasChanges,t=0,n=this.tagObjects;t<n.length;t++)e=e||n[t].instance.hasChanges;return e},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=Object.keys(this),t=0,n=e=e.filter((function(e){return/Ref$/i.test(e)}));t<n.length;t++){var i=n[t].replace("Ref","");BO(i.replace("_","."),HO(i,this),this.propCollection)}},e.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},e}(),sM=function(){function e(e){this.list=[],this.hasChanges=!1,this.propertyName=e}return e.prototype.ngOnInit=function(){this.isInitChanges=!0},e.prototype.ngAfterContentInit=function(){var e=this,t=0;this.list=this.children.map((function(n){return n.index=t++,n.property=e.propertyName,n})),this.hasChanges=!0},e.prototype.getProperties=function(){for(var e=[],t=0,n=this.list;t<n.length;t++)e.push(n[t].getProperties());return e},e.prototype.isChanged=function(){var e=this,t=!1,n=0,i=!1,s=this.children.map((function(e){return e}));if(this.list.length===this.children.length)for(var l=0;l<this.list.length;l++)if(this.list[l].propCollection.dataSource)this.list[l].dataSource&&this.list[l].propCollection.dataSource!==this.list[l].dataSource&&(this.list[l].propCollection.dataSource=this.list[l].dataSource,this.list[l].hasChanges=!0),i=JSON.stringify(this.list[l].propCollection.dataSource)!==JSON.stringify(s[l].propCollection.dataSource);else for(var r=Object.keys(this.list[l].propCollection),a=0;a<r.length;a++)if(this.list[l].propCollection[r[a]]&&"TemplateRef_"===this.list[l].propCollection[r[a]].constructor.name){i=!0;break}this.hasNewChildren=!(this.list.length===this.children.length&&!i)||null,this.hasNewChildren&&(this.list=this.children.map((function(t){return t.index=n++,t.property=e.propertyName,t})));for(var o=0,h=this.list;o<h.length;o++)t=t||h[o].hasChanges;return!!this.list.length&&t},e.prototype.clearTemplate=function(e){for(var t=this,n=0,i=this.list;n<i.length;n++)i[n].clearTemplate(e&&e.map((function(e){return new RegExp(t.propertyName).test(e)?e.replace(t.propertyName+".",""):e})))},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=0;e<this.list.length;e++)this.list[e].isUpdated=!0},e.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},e}(),lM=function(){function e(){this.isProtectedOnChange=!0}return e.prototype.saveChanges=function(e,t,n){if(!this.isProtectedOnChange){this.oldProperties[e]=n,this.changedProperties[e]=t,this.finalUpdate();var i=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(i)}}},e.prototype.ngOnInit=function(e){var t=e||this;t.registeredTemplate={},t.ngBoundedEvents={},t.isAngular=!0,e&&(this.tags=e.tags),t.tags=this.tags||[],t.complexTemplate=this.complexTemplate||[],t.tagObjects=[],t.ngAttr=this.getAngularAttr(t.element),t.createElement=function(e,n){var i=t.srenderer?t.srenderer.createElement(e):ND(e);return void 0===n?i:(i.innerHTML=n.innerHTML?n.innerHTML:"",void 0!==n.className&&(i.className=n.className),void 0!==n.id&&(i.id=n.id),void 0!==n.styles&&i.setAttribute("style",n.styles),void 0!==t.ngAttr&&i.setAttribute(t.ngAttr,""),void 0!==n.attrs&&WD(i,n.attrs),i)};for(var n=0,i=t.tags;n<i.length;n++){var s=i[n],l={instance:HO("child"+s.substring(0,1).toUpperCase()+s.substring(1),t),name:s};t.tagObjects.push(l)}for(var r=Object.keys(t),a=0,o=r=r.filter((function(e){return/Ref$/i.test(e)&&/\_/i.test(e)}));a<o.length;a++){var h=o[a].replace("Ref",""),c={};BO(h.replace("_","."),HO(h,t),c),t.setProperties(c,!0)}},e.prototype.getAngularAttr=function(e){for(var t,n=e.attributes,i=n.length,s=0;s<i;s++)/_ngcontent/g.test(n[s].name)&&(t=n[s].name);return t},e.prototype.ngAfterViewInit=function(e){var t=e||this;/ejs-tab|ejs-accordion/g.test(t.ngEle.nativeElement.outerHTML)&&(t.ngEle.nativeElement.style.visibility="hidden");for(var n=Object.keys(t),i=0,s=n=n.filter((function(e){return/Ref$/i.test(e)}));i<s.length;i++){var l=s[i].replace("Ref","");BO(l.replace("_","."),HO(l+"Ref",t),t)}setTimeout((function(){"undefined"!=typeof window&&(t.appendTo(t.element),t.ngEle.nativeElement.style.visibility="")}))},e.prototype.ngOnDestroy=function(e){var t=e||this;"undefined"!=typeof window&&t.element.classList.contains("e-control")&&(t.destroy(),t.clearTemplate(null))},e.prototype.clearTemplate=function(e,t){tM(this,e,t)},e.prototype.ngAfterContentChecked=function(e){for(var t=e||this,n=0,i=t.tagObjects;n<i.length;n++){var s=i[n];if(!WO(s.instance)&&(s.instance.isInitChanges||s.instance.hasChanges||s.instance.hasNewChildren))if(s.instance.isInitChanges){var l={},r=void 0;(x=HO("instance.list",s))&&x.length&&(r=x[0].directivePropList);var a=!0;if(t.getModuleName&&"gantt"===t.getModuleName()&&(a=!1),r&&a&&-1===r.indexOf(s.instance.propertyName))for(var o=Object.keys(s.instance.list[0].propCollection),h=0;h<s.instance.list.length;h++){s.instance.list[h].propCollection[s.instance.propertyName]=[];for(var c={},d=0;d<o.length;d++){var u=o[d];c[u]=s.instance.list[h].propCollection[u]}for(var p=0;p<s.instance.list[h].tags.length;p++){var m=s.instance.list[h].tags[p],f=HO("child"+m.substring(0,1).toUpperCase()+m.substring(1),s.instance.list[h]);if(f){var g=s.instance.list[h]["child"+m.substring(0,1).toUpperCase()+m.substring(1)];if(g)for(var b=0;b<g.list.length;b++){var v=g.list[0].tags[0];if(v){var y=HO("child"+v.substring(0,1).toUpperCase()+v.substring(1),g.list[b]);g.list[b].tagObjects.push({instance:y,name:v})}}s.instance.list[h].tagObjects.push({instance:f,name:m})}}s.instance.list[h].propCollection[s.instance.propertyName].push(c)}l[s.name]=s.instance.getProperties(),t.setProperties(l,s.instance.isInitChanges)}else{t[s.name].length!==s.instance.list.length&&(t[s.name]=s.instance.list);for(var w=0,C=s.instance.list;w<C.length;w++){var x,_=s.instance.list.indexOf(x=C[w]),S=HO(s.name,t)[_];void 0!==S&&void 0!==S.setProperties&&S.setProperties(x.getProperties()),x.isUpdated=!0}}}},e.prototype.registerEvents=function(e){eM(e,this)},e.prototype.twoWaySetter=function(e,t){var n=HO(t,this.properties);n!==e&&(this.saveChanges(t,e,n),BO(t,UO(e)?null:e,this.properties),HO(t+"Change",this).emit(e))},e.prototype.addTwoWay=function(e){for(var t=this,n=function(e){HO(e,i),Object.defineProperty(i,e,{get:function(){return HO(e,t.properties)},set:function(n){return t.twoWaySetter(n,e)}}),BO(e+"Change",new As,i)},i=this,s=0,l=e;s<l.length;s++)n(l[s])},e.prototype.addEventListener=function(e,t){var n=HO(e,this);WO(n)||(this.ngBoundedEvents[e]||(this.ngBoundedEvents[e]=new Map),this.ngBoundedEvents[e].set(t,n.subscribe(t)))},e.prototype.removeEventListener=function(e,t){WO(HO(e,this))||this.ngBoundedEvents[e].get(t).unsubscribe()},e.prototype.trigger=function(e,t,n){var i=HO(e,this),s=this.isProtectedOnChange;this.isProtectedOnChange=!1,t&&(t.name=e),WO(i)||i.next(t);var l=HO("local"+e.charAt(0).toUpperCase()+e.slice(1),this);WO(l)||l.call(this,t),this.isProtectedOnChange=s,n&&n.call(this,t)},e}(),rM=bD.compile;function aM(e){return function(t){void 0!==t&&(BO(e+"Ref",t,this),"string"!=typeof t?(t.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,t.elementRef.nativeElement.propName=e):this.saveChanges&&(this.saveChanges(e,t,void 0),this.dataBind()))}}function oM(e,t){return function(){return HO(e+"Ref",this)||t}}bD.compile=function(e,t){if("string"==typeof e)return rM(e,t);var n=e.elementRef.nativeElement._viewContainerRef,i=e.elementRef.nativeElement.propName;return function(t,s,l){var r=n||s.viewContainerRef,a=r.createEmbeddedView(e,{$implicit:t});a.markForCheck();var o=s?s.registeredTemplate:HO("currentInstance.registeredTemplate",r);return void 0===o[l=l||i]&&(o[l]=[]),o[l].push(a),a.rootNodes}};class hM{constructor(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}setKey(e){return this.key=e,this}using(e){return this.dataManager=e,this}execute(e,t,n,i){return(e=e||this.dataManager)?e.executeQuery(this,t,n,i):dM.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')}executeLocal(e){return(e=e||this.dataManager)?e.executeLocal(this):dM.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')}clone(){let e=new hM;return e.queries=this.queries.slice(0),e.key=this.key,e.isChild=this.isChild,e.dataManager=this.dataManager,e.fromTable=this.fromTable,e.params=this.params.slice(0),e.expands=this.expands.slice(0),e.sortedColumns=this.sortedColumns.slice(0),e.groupedColumns=this.groupedColumns.slice(0),e.subQuerySelector=this.subQuerySelector,e.subQuery=this.subQuery,e.fKey=this.fKey,e.isCountRequired=this.isCountRequired,e.distincts=this.distincts.slice(0),e}from(e){return this.fromTable=e,this}addParams(e,t){return this.params.push("function"==typeof t?{key:e,fn:t}:{key:e,value:t}),this}distinct(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this}expand(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this}where(e,t,n,i,s){t=t?t.toLowerCase():null;let l=null;return"string"==typeof e?l=new cM(e,t,n,i,s):e instanceof cM&&(l=e),this.queries.push({fn:"onWhere",e:l}),this}search(e,t,n,i,s){return"string"==typeof t&&(t=[t]),n&&"none"!==n||(n="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:n,searchKey:e,ignoreCase:i,ignoreAccent:s,comparer:dM.fnOperators[n]}}),this}sortBy(e,t,n){let i,s,l="ascending";if("string"==typeof e&&dM.endsWith(e.toLowerCase()," desc")&&(e=e.replace(/ desc$/i,""),t="descending"),t&&"string"!=typeof t||(l=t?t.toLowerCase():"ascending",t=dM.fnSort(t)),n){i=hM.filterQueries(this.queries,"onSortBy");for(let t=0;t<i.length;t++)if(s=i[t].e.fieldName,"string"==typeof s){if(s===e)return this}else if(s instanceof Array)for(let n=0;n<s.length;n++)if(s[n]===e||e.toLowerCase()===s[n]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:t,direction:l}}),this}sortByDesc(e){return this.sortBy(e,"descending")}group(e,t,n){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:n||null}}),this}page(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this}range(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this}take(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this}skip(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this}select(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this}hierarchy(e,t){return this.subQuerySelector=t,this.subQuery=e,this}foreignKey(e){return this.fKey=e,this}requiresCount(){return this.isCountRequired=!0,this}aggregate(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this}static filterQueries(e,t){return e.filter(e=>e.fn===t)}static filterQueryLists(e,t){let n=e.filter(e=>-1!==t.indexOf(e.fn)),i={};for(let s=0;s<n.length;s++)i[n[s].fn]||(i[n[s].fn]=n[s].e);return i}}class cM{constructor(e,t,n,i=!1,s){return this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof e?(this.field=e,this.operator=t.toLowerCase(),this.value=n,this.ignoreCase=i,this.ignoreAccent=s,this.isComplex=!1,this.comparer=dM.fnOperators.processOperator(this.operator)):(e instanceof cM&&n instanceof cM||n instanceof Array)&&(this.isComplex=!0,this.condition=t.toLowerCase(),this.predicates=[e],n instanceof Array?[].push.apply(this.predicates,n):this.predicates.push(n)),this}static and(...e){return cM.combinePredicates([].slice.call(e,0),"and")}and(e,t,n,i,s){return cM.combine(this,e,t,n,"and",i,s)}static or(...e){return cM.combinePredicates([].slice.call(e,0),"or")}or(e,t,n,i,s){return cM.combine(this,e,t,n,"or",i,s)}static fromJson(e){if(e instanceof Array){let t=[];for(let n=0,i=e.length;n<i;n++)t.push(this.fromJSONData(e[n]));return t}return this.fromJSONData(e)}validate(e){let t,n,i=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,dM.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(let s=0;s<i.length;s++)if(n=i[s].validate(e),t){if(!n)return!1}else if(n)return!0;return t}toJson(){let e,t;if(this.isComplex){e=[],t=this.predicates;for(let n=0;n<t.length;n++)e.push(t[n].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}}static combinePredicates(e,t){if(1===e.length){if(!(e[0]instanceof Array))return e[0];e=e[0]}return new cM(e[0],t,e.slice(1))}static combine(e,t,n,i,s,l,r){return t instanceof cM?cM[s](e,t):"string"==typeof t?cM[s](e,new cM(t,n,i,l,r)):dM.throwError("Predicate - "+s+" : invalid arguments")}static fromJSONData(e){let t,n=e.predicates||[],i=n.length,s=[];for(let l=0;l<i;l++)s.push(this.fromJSONData(n[l]));return t=e.isComplex?new cM(s[0],e.condition,s.slice(1)):new cM(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent),t}}let dM=(()=>{class e{static getValue(e,t){return"function"==typeof e?e.call(t||{}):e}static endsWith(e,t){return e.slice&&e.slice(-t.length)===t}static startsWith(e,t){return e.slice(0,t.length)===t}static fnSort(t){return"ascending"===(t=t?e.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending}static fnAscending(e,t){return UO(e)&&UO(t)?-1:null==t?-1:"string"==typeof e?e.localeCompare(t):null==e?1:e-t}static fnDescending(e,t){return UO(e)&&UO(t)?-1:null==t?1:"string"==typeof e?-1*e.localeCompare(t):null==e?-1:t-e}static extractFields(e,t){let n={};for(let i=0;i<t.length;i++)n=this.setValue(t[i],this.getObject(t[i],e),n);return n}static select(e,t){let n=[];for(let i=0;i<e.length;i++)n.push(this.extractFields(e[i],t));return n}static group(t,n,i,s,l,r){s=s||1;let a=t;if("{271bbba0-1ee7}"===a.GroupGuid){for(let e=0;e<a.length;e++)if(UO(l))a[e].items=this.group(a[e].items,n,i,a.level+1,null,r),a[e].count=a[e].items.length;else{let t=-1,s=l.filter(t=>t.key===a[e].key);t=l.indexOf(s[0]),a[e].items=this.group(a[e].items,n,i,a.level+1,l[t].items,r),a[e].count=l[t].count}return a.childLevels+=1,a}let o={},h=[];h.GroupGuid="{271bbba0-1ee7}",h.level=s,h.childLevels=0,h.records=a;for(let e=0;e<a.length;e++){let t=this.getVal(a,e,n);if(UO(r)||(t=r(t,n)),!o[t]&&(o[t]={key:t,count:0,items:[],aggregates:{},field:n},h.push(o[t]),!UO(l))){let e=l.filter(e=>e.key===o[t].key);o[t].count=e[0].count}o[t].count=UO(l)?o[t].count+=1:o[t].count,o[t].items.push(a[e])}if(i&&i.length)for(let c=0;c<h.length;c++){let t,n={},s=i;for(let r=0;r<i.length;r++)if(t=e.aggregates[i[r].type],UO(l))t&&(n[s[r].field+" - "+s[r].type]=t(h[c].items,s[r].field));else{let e=l.filter(e=>e.key===h[c].key);t&&(n[s[r].field+" - "+s[r].type]=t(e[0].items,s[r].field))}h[c].aggregates=n}return a.length&&h||a}static buildHierarchy(e,t,n,i,s){let l,r,a={};for(i.result&&(i=i.result),i.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),l=0;l<i.length;l++){let t=this.getObject(e,i[l]);r=a[t]||(a[t]=[]),r.push(i[l])}for(l=0;l<n.length;l++){let i=this.getObject(s||e,n[l]);n[l][t]=a[i]}}static getFieldList(e,t,n){if(void 0===n&&(n=""),null==t)return this.getFieldList(e,[],n);let i=e,s=Object.keys(e);for(let l of s)"object"!=typeof i[l]||i[l]instanceof Array?t.push(n+l):this.getFieldList(i[l],t,n+l+".");return t}static getObject(e,t){if(!e)return t;if(!t)return;if(-1===e.indexOf("."))return t[e];let n=t,i=e.split(".");for(let s=0;s<i.length&&null!=n;s++)n=n[i[s]];return n}static setValue(e,t,n){let i,s,l=e.toString().split("."),r=n||{},a=r,o=l.length;for(i=0;i<o;i++)s=l[i],i+1===o?a[s]=void 0===t?void 0:t:UO(a[s])&&(a[s]={}),a=a[s];return r}static sort(e,t,n){if(e.length<=1)return e;let i=parseInt((e.length/2).toString(),10),s=e.slice(0,i),l=e.slice(i);return s=this.sort(s,t,n),l=this.sort(l,t,n),this.merge(s,l,t,n)}static ignoreDiacritics(t){return"string"!=typeof t?t:t.split("").map(t=>t in e.diacritics?e.diacritics[t]:t).join("")}static merge(e,t,n,i){let s,l=[];for(;e.length>0||t.length>0;)s=e.length>0&&t.length>0?i?i(this.getVal(e,0,n),this.getVal(t,0,n),e[0],t[0])<=0?e:t:e[0][n]<e[0][n]?e:t:e.length>0?e:t,l.push(s.shift());return l}static getVal(e,t,n){return n?this.getObject(n,e[t]):e[t]}static toLowerCase(e){return e?"string"==typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""}static callAdaptorFunction(e,t,n,i){if(t in e){let s=e[t](n,i);UO(s)||(n=s)}return n}static getAddParams(t,n,i){let s={};return e.callAdaptorFunction(t,"addParams",{dm:n,query:i,params:i.params,reqParams:s}),s}static isPlainObject(e){return!!e&&e.constructor===Object}static isCors(){let e=null;try{e=new window.XMLHttpRequest}catch(qG){}return!!e&&"withCredentials"in e}static getGuid(e){let t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(e,n)=>{if("crypto"in window&&"getRandomValues"in crypto){let e=new Uint8Array(1);window.crypto.getRandomValues(e),t=e[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===n?3&t|8:t]})}static isNull(e){return null==e}static getItemFromComparer(t,n,i){let s,l,r,a=0,o="string"==typeof e.getVal(t,0,n);if(t.length)for(;UO(s)&&a<t.length;)s=e.getVal(t,a,n),r=t[a++];for(;a<t.length;a++)l=e.getVal(t,a,n),UO(l)||(o&&(s=+s,l=+l),i(s,l)>0&&(s=l,r=t[a]));return r}static distinct(t,n,i){i=!UO(i)&&i;let s,l=[],r={};return t.forEach((a,o)=>{s="object"==typeof t[o]?e.getVal(t,o,n):t[o],s in r||(l.push(i?t[o]:s),r[s]=1)}),l}}return e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=e=>{try{throw new Error(e)}catch(qG){throw qG.message+"\n"+qG.stack}},e.aggregates={sum:(t,n)=>{let i,s=0,l="number"!=typeof e.getVal(t,0,n);for(let r=0;r<t.length;r++)i=e.getVal(t,r,n),isNaN(i)||null===i||(l&&(i=+i),s+=i);return s},average:(t,n)=>e.aggregates.sum(t,n)/t.length,min:(t,n)=>{let i;return"function"==typeof n&&(i=n,n=null),e.getObject(n,e.getItemFromComparer(t,n,i||e.fnAscending))},max:(t,n)=>{let i;return"function"==typeof n&&(i=n,n=null),e.getObject(n,e.getItemFromComparer(t,n,i||e.fnDescending))},truecount:(e,t)=>new vM(e).executeLocal((new hM).where(t,"equal",!0,!0)).length,falsecount:(e,t)=>new vM(e).executeLocal((new hM).where(t,"equal",!1,!0)).length,count:(e,t)=>e.length},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},e.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},e.fnOperators={equal:(t,n,i,s)=>(s&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),i?e.toLowerCase(t)===e.toLowerCase(n):t===n),notequal:(t,n,i,s)=>(s&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),!e.fnOperators.equal(t,n,i)),lessthan:(t,n,i)=>i?e.toLowerCase(t)<e.toLowerCase(n):t<n,greaterthan:(t,n,i)=>i?e.toLowerCase(t)>e.toLowerCase(n):t>n,lessthanorequal:(t,n,i)=>i?e.toLowerCase(t)<=e.toLowerCase(n):t<=n,greaterthanorequal:(t,n,i)=>i?e.toLowerCase(t)>=e.toLowerCase(n):t>=n,contains:(t,n,i,s)=>(s&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),i?!UO(t)&&!UO(n)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(n)):!UO(t)&&!UO(n)&&-1!==t.toString().indexOf(n)),notnull:e=>null!==e,isnull:e=>null===e,startswith:(t,n,i,s)=>(s&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),i?t&&n&&e.startsWith(e.toLowerCase(t),e.toLowerCase(n)):t&&n&&e.startsWith(t,n)),endswith:(t,n,i,s)=>(s&&(t=e.ignoreDiacritics(t),n=e.ignoreDiacritics(n)),i?t&&n&&e.endsWith(e.toLowerCase(t),e.toLowerCase(n)):t&&n&&e.endsWith(t,n)),processSymbols:t=>{let n=e.operatorSymbols[t];return n?e.fnOperators[n]:e.throwError("Query - Process Operator : Invalid operator")},processOperator:t=>e.fnOperators[t]||e.fnOperators.processSymbols(t)},e.parse={parseJson:t=>("string"==typeof t?t=JSON.parse(t,e.parse.jsonReviver):t instanceof Array?e.parse.iterateAndReviveArray(t):"object"==typeof t&&null!==t&&e.parse.iterateAndReviveJson(t),t),iterateAndReviveArray:t=>{for(let n=0;n<t.length;n++)"object"==typeof t[n]&&null!==t[n]?e.parse.iterateAndReviveJson(t[n]):t[n]="string"!=typeof t[n]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[n])?e.parse.parseJson(t[n]):e.parse.jsonReviver("",t[n])},iterateAndReviveJson:t=>{let n,i=Object.keys(t);for(let s of i)e.startsWith(s,"__")||(n=t[s],"object"==typeof n?n instanceof Array?e.parse.iterateAndReviveArray(n):n&&e.parse.iterateAndReviveJson(n):t[s]=e.parse.jsonReviver(t[s],n))},jsonReviver:(t,n)=>{if("string"==typeof n){let t=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(n),i=e.timeZoneHandling?e.serverTimezoneOffset:null;if(t)return e.dateParse.toTimeZone(new Date(parseInt(t[1],10)),i,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(n)){let t=n.indexOf("Z")>-1||n.indexOf("z")>-1,i=n.split(/[^0-9.]/);if(t)n=e.dateParse.toTimeZone(new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10),parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)),e.serverTimezoneOffset,!1);else{let t=new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10),parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)),s=parseInt(i[6],10),l=parseInt(i[7],10);if(isNaN(s)&&isNaN(l))return t;n.indexOf("+")>-1?t.setHours(t.getHours()-s,t.getMinutes()-l):t.setHours(t.getHours()+s,t.getMinutes()+l),n=e.dateParse.toTimeZone(t,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(n=e.dateParse.addSelfOffset(n))}}return n},isJson:t=>"string"==typeof t[0]?t:e.parse.parseJson(t),isGuid:e=>null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e),replacer:(t,n)=>e.isPlainObject(t)?e.parse.jsonReplacer(t,n):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},n).val:t,jsonReplacer:(t,n)=>{let i,s=Object.keys(t);for(let l of s){if(i=t[l],!(i instanceof Date))continue;let n=i;null==e.serverTimezoneOffset?t[l]=e.dateParse.toTimeZone(n,null).toJSON():(n=new Date(+n+36e5*e.serverTimezoneOffset),t[l]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(n),null).toJSON())}return t},arrayReplacer:t=>{for(let n=0;n<t.length;n++)e.isPlainObject(t[n])?t[n]=e.parse.jsonReplacer(t[n]):t[n]instanceof Date&&(t[n]=e.parse.jsonReplacer({date:t[n]}).date);return t},jsonDateReplacer:(t,n)=>{if("value"===t&&n){if("string"==typeof n){let t=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(n);if(t)n=e.dateParse.toTimeZone(new Date(parseInt(t[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(n)){let t=n.split(/[^0-9]/);n=e.dateParse.toTimeZone(new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10),parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10)),null,!0)}}if(n instanceof Date)return n=e.dateParse.addSelfOffset(n),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(n),null).toJSON():(n=e.dateParse.toTimeZone(n,n.getTimezoneOffset()/60*2-e.serverTimezoneOffset,!1)).toJSON()}return n}},e.dateParse={addSelfOffset:e=>new Date(+e-6e4*e.getTimezoneOffset()),toUTC:e=>new Date(+e+6e4*e.getTimezoneOffset()),toTimeZone:(t,n,i)=>{if(null===n)return t;let s=i?e.dateParse.toUTC(t):t;return new Date(+s-36e5*n)},toLocalTime:e=>{let t=e,n=-t.getTimezoneOffset(),i=n>=0?"+":"-",s=e=>{let t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+s(t.getMonth()+1)+"-"+s(t.getDate())+"T"+s(t.getHours())+":"+s(t.getMinutes())+":"+s(t.getSeconds())+i+s(n/60)+":"+s(n%60)}},e})();class uM{constructor(e){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=uM,this.dataSource=e,this.pvt={}}processResponse(e,t,n,i){return e}}class pM extends uM{processQuery(e,t){let n,i,s=e.dataSource.json.slice(0),l=s.length,r=!0,a={};for(let o=0;o<t.queries.length;o++)i=t.queries[o],n=this[i.fn].call(this,s,i.e,t),"onAggregates"===i.fn?a[i.e.field+" - "+i.e.type]=n:s=void 0!==n?n:s,"onPage"!==i.fn&&"onSkip"!==i.fn&&"onTake"!==i.fn&&"onRange"!==i.fn||(r=!1),r&&(l=s.length);return t.isCountRequired&&(s={result:s,count:l,aggregates:a}),s}batchRequest(e,t,n){let i,s=t.deletedRecords.length;for(i=0;i<t.addedRecords.length;i++)this.insert(e,t.addedRecords[i]);for(i=0;i<t.changedRecords.length;i++)this.update(e,n.key,t.changedRecords[i]);for(i=0;i<s;i++)this.remove(e,n.key,t.deletedRecords[i]);return t}onWhere(e,t){return e&&e.length?e.filter(e=>{if(t)return t.validate(e)}):e}onAggregates(e,t){let n=dM.aggregates[t.type];return e&&n&&0!==e.length?n(e,t.field):null}onSearch(e,t){return e&&e.length?(0===t.fieldNames.length&&dM.getFieldList(e[0],t.fieldNames),e.filter(e=>{for(let n=0;n<t.fieldNames.length;n++)if(t.comparer.call(e,dM.getObject(t.fieldNames[n],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e}onSortBy(e,t,n){if(!e||!e.length)return e;let i,s=dM.getValue(t.fieldName,n);if(!s)return e.sort(t.comparer);if(s instanceof Array){s=s.slice(0);for(let n=s.length-1;n>=0;n--)s[n]&&(i=t.comparer,dM.endsWith(s[n]," desc")&&(i=dM.fnSort("descending"),s[n]=s[n].replace(" desc","")),e=dM.sort(e,s[n],i));return e}return dM.sort(e,s,t.comparer)}onGroup(e,t,n){if(!e||!e.length)return e;let i=hM.filterQueries(n.queries,"onAggregates"),s=[];if(i.length){let e;for(let t=0;t<i.length;t++)e=i[t].e,s.push({type:e.type,field:dM.getValue(e.field,n)})}return dM.group(e,dM.getValue(t.fieldName,n),s,null,null,t.comparer)}onPage(e,t,n){let i=dM.getValue(t.pageSize,n),s=(dM.getValue(t.pageIndex,n)-1)*i;return e&&e.length?e.slice(s,s+i):e}onRange(e,t){return e&&e.length?e.slice(dM.getValue(t.start),dM.getValue(t.end)):e}onTake(e,t){return e&&e.length?e.slice(0,dM.getValue(t.nos)):e}onSkip(e,t){return e&&e.length?e.slice(dM.getValue(t.nos)):e}onSelect(e,t){return e&&e.length?dM.select(e,dM.getValue(t.fieldNames)):e}insert(e,t,n,i,s){return UO(s)?e.dataSource.json.push(t):e.dataSource.json.splice(s,0,t)}remove(e,t,n,i){let s,l=e.dataSource.json;for("object"!=typeof n||n instanceof Date||(n=dM.getObject(t,n)),s=0;s<l.length&&dM.getObject(t,l[s])!==n;s++);return s!==l.length?l.splice(s,1):null}update(e,t,n,i){let s,l,r=e.dataSource.json;for(UO(t)||(l=HO(t,n)),s=0;s<r.length&&(UO(t)||HO(t,r[s])!==l);s++);return s<r.length?zO(r[s],n):null}}class mM extends uM{processQuery(e,t,n){let i,s,l=this.getQueryRequest(t),r=hM.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=t.params,o=e.dataSource.url,h=null,c=this.options,d={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in r?(i=r.onPage,s=dM.getValue(i.pageIndex,t),h=dM.getValue(i.pageSize,t),s=(s-1)*h):"onRange"in r&&(i=r.onRange,s=i.start,h=i.end-i.start);for(let f=0;f<l.sorts.length;f++)i=dM.getValue(l.sorts[f].e.fieldName,t),d.sorts.push(dM.callAdaptorFunction(this,"onEachSort",{name:i,direction:l.sorts[f].e.direction},t));n&&(i=this.getFiltersFrom(n,t),i&&d.filters.push(dM.callAdaptorFunction(this,"onEachWhere",i.toJson(),t)));for(let f=0;f<l.filters.length;f++){d.filters.push(dM.callAdaptorFunction(this,"onEachWhere",l.filters[f].e.toJson(),t));let e="object"==typeof d.filters[f]?Object.keys(d.filters[f]):[];for(let t of e)dM.isNull(d[t])&&delete d[t]}for(let f=0;f<l.searches.length;f++)i=l.searches[f].e,d.searches.push(dM.callAdaptorFunction(this,"onEachSearch",{fields:i.fieldNames,operator:i.operator,key:i.searchKey,ignoreCase:i.ignoreCase},t));for(let f=0;f<l.groups.length;f++)d.groups.push(dM.getValue(l.groups[f].e.fieldName,t));for(let f=0;f<l.aggregates.length;f++)i=l.aggregates[f].e,d.aggregates.push({type:i.type,field:dM.getValue(i.field,t)});let u={};this.getRequestQuery(c,t,r,d,u),dM.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:a,reqParams:u});let p=Object.keys(u);for(let f of p)(dM.isNull(u[f])||""===u[f]||0===u[f].length)&&delete u[f];c.skip in u&&c.take in u||null===h||(u[c.skip]=dM.callAdaptorFunction(this,"onSkip",s,t),u[c.take]=dM.callAdaptorFunction(this,"onTake",h,t));let m=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(u,dM.parse.jsonDateReplacer),url:o,pvtData:m,type:"POST",contentType:"application/json; charset=utf-8"}:(i=this.convertToQueryString(u,t,e),i=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+i,{type:"GET",url:i.length?o.replace(/\/*$/,i):o,pvtData:m})}getRequestQuery(e,t,n,i,s){let l=s;l[e.from]=t.fromTable,e.apply&&t.distincts.length&&(l[e.apply]="onDistinct"in this?dM.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(l[e.expand]="onExpand"in this&&"onSelect"in n?dM.callAdaptorFunction(this,"onExpand",{selects:dM.getValue(n.onSelect.fieldNames,t),expands:t.expands},t):t.expands),l[e.select]="onSelect"in n&&!t.distincts.length?dM.callAdaptorFunction(this,"onSelect",dM.getValue(n.onSelect.fieldNames,t),t):"",l[e.count]=t.isCountRequired?dM.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",l[e.search]=i.searches.length?dM.callAdaptorFunction(this,"onSearch",i.searches,t):"",l[e.skip]="onSkip"in n?dM.callAdaptorFunction(this,"onSkip",dM.getValue(n.onSkip.nos,t),t):"",l[e.take]="onTake"in n?dM.callAdaptorFunction(this,"onTake",dM.getValue(n.onTake.nos,t),t):"",l[e.where]=i.filters.length||i.searches.length?dM.callAdaptorFunction(this,"onWhere",i.filters,t):"",l[e.sortBy]=i.sorts.length?dM.callAdaptorFunction(this,"onSortBy",i.sorts,t):"",l[e.group]=i.groups.length?dM.callAdaptorFunction(this,"onGroup",i.groups,t):"",l[e.aggregates]=i.aggregates.length?dM.callAdaptorFunction(this,"onAggregates",i.aggregates,t):"",l.param=[]}convertToQueryString(e,t,n){return""}processResponse(e,t,n,i,s,l){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("application/json")){let n=dM.timeZoneHandling;t&&!t.timeZoneHandling&&(dM.timeZoneHandling=!1),e=dM.parse.parseJson(e),dM.timeZoneHandling=n}let r=s,a=r.pvtData||{},o=e?e.groupDs:[];if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];let h=JSON.parse(r.data);if(h&&"batch"===h.action&&e&&e.addedRecords)return l.addedRecords=e.addedRecords,l;e&&e.d&&(e=e.d);let c={};return e&&"count"in e&&(c.count=e.count),c.result=e&&e.result?e.result:e,this.getAggregateResult(a,e,c,o,n),dM.isNull(c.count)?c.result:{result:c.result,count:c.count,aggregates:c.aggregates}}onGroup(e){return this.pvt.groups=e,e}onAggregates(e){this.pvt.aggregates=e}batchRequest(e,t,n,i,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(qO({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},dM.getAddParams(this,e,i)))}}beforeSend(e,t){}insert(e,t,n,i){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qO({},{value:t,table:n,action:"insert"},dM.getAddParams(this,e,i)))}}remove(e,t,n,i,s){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qO({},{key:n,keyColumn:t,table:i,action:"remove"},dM.getAddParams(this,e,s)))}}update(e,t,n,i,s){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qO({},{value:n,action:"update",keyColumn:t,key:dM.getObject(t,n),table:i},dM.getAddParams(this,e,s)))}}getFiltersFrom(e,t){let n,i=t.fKey,s=i,l=t.key,r=[];"object"!=typeof e[0]&&(s=null);for(let a=0;a<e.length;a++)n="object"==typeof e[0]?dM.getObject(l||s,e[a]):e[a],r.push(new cM(i,"equal",n));return cM.or(r)}getAggregateResult(e,t,n,i,s){let l=t;if(t&&t.result&&(l=t.result),e&&e.aggregates&&e.aggregates.length){let i,s=e.aggregates,r=l,a={};t.aggregate&&(r=t.aggregate);for(let e=0;e<s.length;e++)i=dM.aggregates[s[e].type],i&&(a[s[e].field+" - "+s[e].type]=i(r,s[e].field));n.aggregates=a}if(e&&e.groups&&e.groups.length){let t=e.groups;for(let n=0;n<t.length;n++){let r=null;UO(i)||(i=dM.group(i,t[n]));let a=hM.filterQueries(s.queries,"onGroup")[n].e;l=dM.group(l,t[n],e.aggregates,r,i,a.comparer)}n.result=l}return n}getQueryRequest(e){let t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=hM.filterQueries(e.queries,"onSortBy"),t.groups=hM.filterQueries(e.queries,"onGroup"),t.filters=hM.filterQueries(e.queries,"onWhere"),t.searches=hM.filterQueries(e.queries,"onSearch"),t.aggregates=hM.filterQueries(e.queries,"onAggregates"),t}addParams(e){let t=e.reqParams;e.params.length&&(t.params={});for(let n of e.params){if(t[n.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[n.key]=n.value,n.fn&&(t[n.key]=n.fn.call(e.query,n.key,e.query,e.dm)),t.params[n.key]=t[n.key]}}}class fM extends mM{constructor(e){super(),this.options=qO({},this.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),qO(this.options,e||{})}getModuleName(){return"ODataAdaptor"}onPredicate(e,t,n){let i,s,l="",r=e.value,a=typeof r,o=e.field?fM.getField(e.field):null;if(r instanceof Date&&(r="datetime'"+dM.parse.replacer(r)+"'"),"string"===a&&(r=encodeURIComponent(r),r="'"+r+"'",n&&(o="cast("+o+", 'Edm.String')"),dM.parse.isGuid(r)&&(s="guid"),e.ignoreCase&&(s||(o="tolower("+o+")"),r=r.toLowerCase())),i=dM.odBiOperator[e.operator],i)return l+=o,l+=i,s&&(l+=s),l+r;if(i=UO(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?dM.odUniOperator[e.operator]:dM.odv4UniOperator[e.operator],"substringof"===i){let e=r;r=o,o=e}return l+=i+"(",l+=o+",",s&&(l+=s),l+=r+")",l}addParams(e){super.addParams(e),delete e.reqParams.params}onComplexPredicate(e,t,n){let i=[];for(let s=0;s<e.predicates.length;s++)i.push("("+this.onEachWhere(e.predicates[s],t,n)+")");return i.join(" "+e.condition+" ")}onEachWhere(e,t,n){return e.isComplex?this.onComplexPredicate(e,t,n):this.onPredicate(e,t,n)}onWhere(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")}onEachSearch(e){e.fields&&0===e.fields.length&&dM.throwError("Query() - Search : oData search requires list of field names to search");let t=this.pvt.search||[];for(let n=0;n<e.fields.length;n++)t.push(new cM(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.search=t}onSearch(e){return this.pvt.search=cM.or(this.pvt.search),""}onEachSort(e){let t=[];if(e.name instanceof Array)for(let n=0;n<e.name.length;n++)t.push(fM.getField(e.name[n])+("descending"===e.direction?" desc":""));else t.push(fM.getField(e.name)+("descending"===e.direction?" desc":""));return t.join(",")}onSortBy(e){return e.reverse().join(",")}onGroup(e){return this.pvt.groups=e,[]}onSelect(e){for(let t=0;t<e.length;t++)e[t]=fM.getField(e[t]);return e.join(",")}onAggregates(e){return this.pvt.aggregates=e,""}onCount(e){return!0===e?"allpages":""}beforeSend(e,t,n){dM.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")}processResponse(e,t,n,i,s,l){if(s&&"GET"===s.type&&!this.rootUrl&&e["odata.metadata"]){let t=e["odata.metadata"].split("/$metadata#");this.rootUrl=t[0],this.resourceTableName=t[1]}if(!UO(e.d)){let t=n&&n.isCountRequired?e.d.results:e.d,i="__metadata";if(!UO(t))for(let e=0;e<t.length;e++)UO(t[e][i])||delete t[e][i]}let r=s&&s.pvtData,a=this.processBatchResponse(e,n,i,s,l);if(a)return a;let o=i&&s.getResponseHeader("DataServiceVersion"),h=null,c=o&&parseInt(o,10)||2;if(n&&n.isCountRequired){let t="__count";(e[t]||e["odata.count"])&&(h=e[t]||e["odata.count"]),e.d&&(e=e.d),(e[t]||e["odata.count"])&&(h=e[t]||e["odata.count"])}3===c&&e.value&&(e=e.value),e.d&&(e=e.d),c<3&&e.results&&(e=e.results);let d={};return d.count=h,d.result=e,this.getAggregateResult(r,e,d,null,n),dM.isNull(h)?d.result:{result:d.result,count:d.count,aggregates:d.aggregates}}convertToQueryString(e,t,n){let i=[],s=e.table||"";delete e.table,n.dataSource.requiresFormat&&(e.$format="json");let l=Object.keys(e);for(let r of l)i.push(r+"="+e[r]);return i=i.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!s?i:i.length?s+"?"+i:s||""}localTimeReplacer(e,t){for(let n of UO(t)?[]:Object.keys(t))t[n]instanceof Date&&(t[n]=dM.dateParse.toLocalTime(t[n]));return t}insert(e,t,n){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}}remove(e,t,n,i){let s;return s="string"!=typeof n||dM.parse.isGuid(n)?`(${n})`:`('${n}')`,{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:"")+s}}update(e,t,n,i,s,l){let r;return"PATCH"!==this.options.updateType||UO(l)||(n=this.compareAndRemove(n,l,t)),r="string"!=typeof n[t]||dM.parse.isGuid(n[t])?`(${n[t]})`:`('${n[t]}')`,{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:"")+r,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}}batchRequest(e,t,n,i,s){let l=n.guid=dM.getGuid(this.options.batchPre),r=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;let a={url:n.url,key:n.key,cid:1,cSet:dM.getGuid(this.options.changeSet)},o="--"+l+"\n";return o+="Content-Type: multipart/mixed; boundary="+a.cSet.replace("--","")+"\n",this.pvt.changeSet=0,o+=this.generateInsertRequest(t.addedRecords,a,e),o+=this.generateUpdateRequest(t.changedRecords,a,e,s?s.changedRecords:[]),o+=this.generateDeleteRequest(t.deletedRecords,a,e),o+=a.cSet+"--\n",o+="--"+l+"--",{type:"POST",url:r,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+l,data:o}}generateDeleteRequest(e,t,n){if(!e)return"";let i="";return i=this.generateBodyContent(e,t,{method:"DELETE ",url:(e,t,n)=>{let i=dM.getObject(n,e[t]);return"number"==typeof i||dM.parse.isGuid(i)?"("+i+")":i instanceof Date?"("+e[t][n].toJSON()+")":`('${i}')`},data:(e,t)=>""},n),i+"\n"}generateInsertRequest(e,t,n){if(!e)return"";let i="";return i=this.generateBodyContent(e,t,{method:"POST ",url:(e,t,n)=>"",data:(e,t)=>JSON.stringify(e[t])+"\n\n"},n),i}generateUpdateRequest(e,t,n,i){if(!e)return"";let s="";return e.forEach(e=>e=this.compareAndRemove(e,i.filter(n=>dM.getObject(t.key,n)===dM.getObject(t.key,e))[0],t.key)),s=this.generateBodyContent(e,t,{method:this.options.updateType+" ",url:(e,t,n)=>"number"==typeof e[t][n]||dM.parse.isGuid(e[t][n])?"("+e[t][n]+")":e[t][n]instanceof Date?"("+e[t][n].toJSON()+")":`('${e[t][n]}')`,data:(e,t)=>JSON.stringify(e[t])+"\n\n"},n),s}static getField(e){return e.replace(/\./g,"/")}generateBodyContent(e,t,n,i){let s="";for(let l=0;l<e.length;l++)s+="\n"+t.cSet+"\n",s+=this.options.changeSetContent+"\n\n",s+=n.method,"POST "===n.method?s+=(i.dataSource.insertUrl||i.dataSource.crudUrl||t.url)+n.url(e,l,t.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?s+=(i.dataSource.updateUrl||i.dataSource.crudUrl||t.url)+n.url(e,l,t.key)+" HTTP/1.1\n":"DELETE "===n.method&&(s+=(i.dataSource.removeUrl||i.dataSource.crudUrl||t.url)+n.url(e,l,t.key)+" HTTP/1.1\n"),s+="Accept: "+this.options.accept+"\n",s+="Content-Id: "+this.pvt.changeSet+++"\n",s+=this.options.batchChangeSetContentType+"\n",UO(e[l]["@odata.etag"])?s+="\n":(s+="If-Match: "+e[l]["@odata.etag"]+"\n\n",delete e[l]["@odata.etag"]),s+=n.data(e,l);return s}processBatchResponse(e,t,n,i,s){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(i&&this.options.batch&&dM.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()){let t,i,l=n.getResponseHeader("Content-Type"),r=e+"";if(l=l.substring(l.indexOf("=batchresponse")+1),r=r.split(l),r.length<2)return{};r=r[1];let a=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(r);a&&r.replace(a[0],""),r=r.split(a?a[1]:"");for(let e=r.length;e>-1;e--)/\bContent-ID:/i.test(r[e])&&/\bHTTP.+201/.test(r[e])&&(t=parseInt(/\bContent-ID: (\d+)/i.exec(r[e])[1],10),s.addedRecords[t]&&(i=dM.parse.parseJson(/^\{.+\}/m.exec(r[e])[0]),qO({},s.addedRecords[t],this.processResponse(i))));return s}return null}compareAndRemove(e,t,n){return UO(t)?e:(Object.keys(e).forEach(i=>{i!==n&&"@odata.etag"!==i&&(dM.isPlainObject(e[i])?(this.compareAndRemove(e[i],t[i]),0===Object.keys(e[i]).filter(e=>"@odata.etag"!==e).length&&delete e[i]):e[i]===t[i]?delete e[i]:e[i]&&t[i]&&e[i].valueOf()===t[i].valueOf()&&delete e[i])}),e)}}class gM extends pM{constructor(){super(),BO("beforeSend",mM.prototype.beforeSend,this)}insert(e,t,n,i,s){return this.pvt.position=s,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qO({},{value:t,table:n,action:"insert"},dM.getAddParams(this,e,i)))}}remove(e,t,n,i,s){return super.remove(e,t,n),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qO({},{key:n,keyColumn:t,table:i,action:"remove"},dM.getAddParams(this,e,s)))}}update(e,t,n,i,s){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qO({},{value:n,action:"update",keyColumn:t,key:n[t],table:i},dM.getAddParams(this,e,s)))}}processResponse(e,t,n,i,s,l,r){let a;if("add"===this.updateType&&super.insert(t,e,null,null,this.pvt.position),"update"===this.updateType&&super.update(t,this.updateKey,e),this.updateType=void 0,e.added)for(a=0;a<e.added.length;a++)super.insert(t,e.added[a]);if(e.changed)for(a=0;a<e.changed.length;a++)super.update(t,r.key,e.changed[a]);if(e.deleted)for(a=0;a<e.deleted.length;a++)super.remove(t,r.key,e.deleted[a]);return e}batchRequest(e,t,n,i,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(qO({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:n.url,key:n.key},dM.getAddParams(this,e,i)))}}addParams(e){(new mM).addParams(e)}}class bM extends mM{constructor(e,t,n){super(),this.isCrudAction=!1,this.isInsertAction=!1,UO(e)||(this.cacheAdaptor=e),this.pageSize=n,this.guidId=dM.getGuid("cacheAdaptor"),window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]}));let i=this.guidId;UO(t)||setInterval(()=>{let e;e=dM.parse.parseJson(window.localStorage.getItem(i));let n=[];for(let i=0;i<e.results.length;i++){let s=+new Date,l=+new Date(e.results[i].timeStamp);e.results[i].timeStamp=s-l,s-l>t&&n.push(i)}for(let t=0;t<n.length;t++)e.results.splice(n[t],1),e.keys.splice(n[t],1);window.localStorage.removeItem(i),window.localStorage.setItem(i,JSON.stringify(e))},t)}generateKey(e,t){let n=this.getQueryRequest(t),i=hM.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),s=e;"onPage"in i&&(s+=i.onPage.pageIndex),n.sorts.forEach(e=>{s+=e.e.direction+e.e.fieldName}),n.groups.forEach(e=>{s+=e.e.fieldName}),n.searches.forEach(e=>{s+=e.e.searchKey});for(let l=0;l<n.filters.length;l++){let i=n.filters[l];if(i.e.isComplex){let n=t.clone();n.queries=[];for(let e=0;e<i.e.predicates.length;e++)n.queries.push({fn:"onWhere",e:i.e.predicates[e],filter:t.queries.filter});s+=i.e.condition+this.generateKey(e,n)}else s+=i.e.field+i.e.operator+i.e.value}return s}processQuery(e,t,n){let i,s=this.generateKey(e.dataSource.url,t);i=dM.parse.parseJson(window.localStorage.getItem(this.guidId));let l=i?i.results[i.keys.indexOf(s)]:null;return null==l||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):l}processResponse(e,t,n,i,s,l){if(this.isInsertAction||s&&this.cacheAdaptor.options.batch&&dM.endsWith(s.url,this.cacheAdaptor.options.batch)&&"post"===s.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,n,i,s,l);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));let r=n?this.generateKey(t.dataSource.url,n):t.dataSource.url,a={};a=dM.parse.parseJson(window.localStorage.getItem(this.guidId));let o=a.keys.indexOf(r);for(-1!==o&&(a.results.splice(o,1),a.keys.splice(o,1)),a.results[a.keys.push(r)-1]={keys:r,result:e.result,timeStamp:new Date,count:e.count};a.results.length>this.pageSize;)a.results.splice(0,1),a.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(a)),e}beforeSend(e,t,n){!UO(this.cacheAdaptor.options.batch)&&dM.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)}update(e,t,n,i){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,n,i)}insert(e,t,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,n)}remove(e,t,n,i){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,n,i)}batchRequest(e,t,n){return this.cacheAdaptor.batchRequest(e,t,n)}}class vM{constructor(e,t,n){let i;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],e||this.dataSource||(e=[]),n=n||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?i={json:e,offline:!0}:"object"==typeof e?(e.json||(e.json=[]),i={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof gM||e.url),requiresFormat:e.requiresFormat}):dM.throwError("DataManager: Invalid arguments"),void 0!==i.requiresFormat||dM.isCors()||(i.requiresFormat=!!UO(i.crossDomain)||i.crossDomain),void 0===i.dataType&&(i.dataType="json"),this.dataSource=i,this.defaultQuery=t,i.url&&i.offline&&!i.json.length?(this.isDataAvailable=!1,this.adaptor=n||new fM,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new hM),this.ready.then(e=>{this.dataSource.offline=!0,this.isDataAvailable=!0,i.json=e.result,this.adaptor=new pM})):this.adaptor=i.offline?new pM:new fM,!i.jsonp&&this.adaptor instanceof fM&&(i.jsonp="callback"),this.adaptor=n||this.adaptor,i.enableCaching&&(this.adaptor=new bM(this.adaptor,i.timeTillExpiration,i.cachingPageSize)),this}setDefaultQuery(e){return this.defaultQuery=e,this}executeLocal(e){this.defaultQuery||e instanceof hM||dM.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||dM.throwError("DataManager - executeLocal() : Json data is required to execute");let t=this.adaptor.processQuery(this,e=e||this.defaultQuery);if(e.subQuery){let n=e.subQuery.fromTable,i=e.subQuery.lookups,s=e.isCountRequired?t.result:t;i&&i instanceof Array&&dM.buildHierarchy(e.subQuery.fKey,n,s,i,e.subQuery.key);for(let t=0;t<s.length;t++)s[t][n]instanceof Array&&(s[t]=qO({},{},s[t]),s[t][n]=this.adaptor.processResponse(e.subQuery.using(new vM(s[t][n].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(t,this,e)}executeQuery(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=null),e||(e=this.defaultQuery),e instanceof hM||dM.throwError("DataManager - executeQuery() : A query is required to execute");let s=new yM,l={query:e};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!UO(this.adaptor.makeRequest)){let t=this.adaptor.processQuery(this,e);UO(this.adaptor.makeRequest)?UO(t.url)?(l=vM.getDeferedArgs(e,t,l),s.resolve(l)):this.makeRequest(t,s,l,e):this.adaptor.makeRequest(t,s,l,e)}else vM.nextTick(()=>{let t=this.executeLocal(e);l=vM.getDeferedArgs(e,t,l),s.resolve(l)});return(t||n)&&s.promise.then(t,n),i&&s.promise.then(i,i),s.promise}static getDeferedArgs(e,t,n){return e.isCountRequired?(n.result=t.result,n.count=t.count,n.aggregates=t.aggregates):n.result=t,n}static nextTick(e){(window.setImmediate||window.setTimeout)(e,0)}extendRequest(e,t,n){return qO({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:n},e)}makeRequest(e,t,n,i){let s=!!i.subQuerySelector,l=e=>{n.error=e,t.reject(n)},r=(e,i,s,l,r,a,o)=>{n.xhr=s,n.count=i?parseInt(i.toString(),10):0,n.result=e,n.request=l,n.aggregates=a,n.actual=r,n.virtualSelectRecords=o,t.resolve(n)},a=(e,t)=>{let a=new yM,o={parent:n};i.subQuery.isChild=!0;let h=this.adaptor.processQuery(this,i.subQuery,e?this.adaptor.processResponse(e):t),c=this.makeRequest(h,a,o,i.subQuery);return s||a.then(t=>{e&&(dM.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,e,t,i.subQuery.key),r(e,t.count,t.xhr))},l),c},o=this.extendRequest(e,(e,t)=>{-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&this.dateParse&&(e=dM.parse.parseJson(e));let n=this.adaptor.processResponse(e,this,i,t.httpRequest,t),l=0,o=null,h=e.virtualSelectRecords;i.isCountRequired&&(l=n.count,o=n.aggregates,n=n.result),i.subQuery?s||a(n,t):r(n,l,t.httpRequest,t.type,e,o,h)},l),h=new MI(o);if(h.beforeSend=()=>{this.beforeSend(h.httpRequest,h)},o=h.send(),o.catch(e=>!0),this.requests.push(h),s){let e,t=i.subQuerySelector.call(this,{query:i.subQuery,parent:i});t&&t.length?(e=Promise.all([o,a(null,t)]),e.then((...e)=>{let t=e[0],n=this.adaptor.processResponse(t[0],this,i,this.requests[0].httpRequest,this.requests[0]),l=0;i.isCountRequired&&(l=n.count,n=n.result);let a=this.adaptor.processResponse(t[1],this,i.subQuery,this.requests[1].httpRequest,this.requests[1]);l=0,i.subQuery.isCountRequired&&(l=a.count,a=a.result),dM.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,n,a,i.subQuery.key),s=!1,r(n,l,this.requests[0].httpRequest)})):s=!1}return o}beforeSend(e,t){this.adaptor.beforeSend(this,e,t);let n,i=this.dataSource.headers;for(let s=0;i&&s<i.length;s++){n=[];let t=Object.keys(i[s]);for(let l of t)n.push(l),e.setRequestHeader(l,i[s][l])}}saveChanges(e,t,n,i,s){n instanceof hM&&(i=n,n=null);let l={url:n,key:t||this.dataSource.key},r=this.adaptor.batchRequest(this,e,l,i||new hM,s);if(this.dataSource.offline)return r;if(UO(this.adaptor.doAjaxRequest)){let t=new yM,n=new MI(r);return n.beforeSend=()=>{this.beforeSend(n.httpRequest,n)},n.onSuccess=(n,i)=>{t.resolve(this.adaptor.processResponse(n,this,null,i.httpRequest,i,e,l))},n.onFailure=e=>{t.reject([{error:e}])},n.send().catch(e=>!0),t.promise}return this.adaptor.doAjaxRequest(r)}insert(e,t,n,i){t instanceof hM&&(n=t,t=null);let s=this.adaptor.insert(this,e,t,n,i);return this.dataSource.offline?s:UO(this.adaptor.doAjaxRequest)?this.doAjaxRequest(s):this.adaptor.doAjaxRequest(s)}remove(e,t,n,i){"object"==typeof t&&(t=dM.getObject(e,t)),n instanceof hM&&(i=n,n=null);let s=this.adaptor.remove(this,e,t,n,i);return this.dataSource.offline?s:UO(this.adaptor.doAjaxRequest)?this.doAjaxRequest(s):this.adaptor.doAjaxRequest(s)}update(e,t,n,i,s){n instanceof hM&&(i=n,n=null);let l=this.adaptor.update(this,e,t,n,i,s);return this.dataSource.offline?l:UO(this.adaptor.doAjaxRequest)?this.doAjaxRequest(l):this.adaptor.doAjaxRequest(l)}doAjaxRequest(e){let t=new yM;e=qO({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e);let n=new MI(e);return n.beforeSend=()=>{this.beforeSend(n.httpRequest,n)},n.onSuccess=(e,n)=>{try{dM.parse.parseJson(e)}catch(qG){e=[]}e=this.adaptor.processResponse(dM.parse.parseJson(e),this,null,n.httpRequest,n),t.resolve(e)},n.onFailure=e=>{t.reject([{error:e}])},n.send().catch(e=>!0),t.promise}}class yM{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}function wM(e,t,n,i,s,l){let r=i;if(i.tagName===t){let t=HO("ej2_instances",i);r=e("input",{attrs:{type:n}});let a=["change","cssClass","label","labelPosition","id"];for(let e=0,n=i.attributes.length;e<n;e++)-1===a.indexOf(i.attributes[e].nodeName)&&r.setAttribute(i.attributes[e].nodeName,i.attributes[e].nodeValue);WD(i,{class:s,role:l,"aria-checked":"false"}),i.appendChild(r),BO("ej2_instances",t,r),VO(i,"ej2_instances")}return r}function CM(e){let t,n=e.childNodes;for(let i=0;i<n.length;i++)if(t=n[i],3===t.nodeType)return t;return null}function xM(e,t=!1,n={}){let i=e("div",{className:"e-checkbox-wrapper e-css"});if(n.cssClass&&RD([i],n.cssClass.split(" ")),n.enableRtl&&i.classList.add("e-rtl"),t){let t=e("span",{className:"e-ripple-container"});wA(t,{isCenterRipple:!0,duration:400}),i.appendChild(t)}let s=e("span",{className:"e-frame e-icons"});if(n.checked&&s.classList.add("e-check"),i.appendChild(s),n.label){let t=e("span",{className:"e-label",innerHTML:n.label});i.appendChild(t)}return i}function _M(e,t){if(t){let n=document.createEvent("MouseEvents");n.initEvent(e.type,!1,!0),t.dispatchEvent(n)}}var SM=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const kM=new vI;let EM=(()=>{let e=class extends TA{constructor(e,t){super(e,t)}preRender(){}render(){this.initialize(),this.removeRippleEffect=wA(this.element,{selector:".e-btn"}),this.renderComplete()}initialize(){if(this.cssClass&&RD([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content){let e=this.enableHtmlSanitizer?QA.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss(),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled?this.controlStatus(this.disabled):this.wireEvents()}controlStatus(e){this.element.disabled=e}setIconCss(){if(this.iconCss){let e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),"Top"!==this.iconPosition&&"Bottom"!==this.iconPosition||this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");let t=this.element.childNodes[0];!t||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,t)}}wireEvents(){this.isToggle&&zI.add(this.element,"click",this.btnClickHandler,this)}unWireEvents(){this.isToggle&&zI.remove(this.element,"click",this.btnClickHandler)}btnClickHandler(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")}destroy(){{let e,t=["e-primary","e-rtl","e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),super.destroy(),FD([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,"")),e=this.element.querySelector("span.e-btn-icon"),e&&qD(e)}this.unWireEvents(),kA&&this.removeRippleEffect()}getModuleName(){return"btn"}getPersistData(){return this.addOnPersist([])}static Inject(){}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"isPrimary":e.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":let n=this.element.querySelector("span.e-btn-icon");n?e.iconCss?(n.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&n.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):qD(n):this.setIconCss();break;case"iconPosition":FD([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),n=this.element.querySelector("span.e-btn-icon"),n&&qD(n),this.setIconCss();break;case"cssClass":t.cssClass&&FD([this.element],t.cssClass.split(" ")),e.cssClass&&RD([this.element],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl");break;case"content":CM(this.element)||this.element.classList.remove("e-icon-btn"),this.enableHtmlSanitizer&&(e.content=QA.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss();break;case"isToggle":e.isToggle?zI.add(this.element,"click",this.btnClickHandler,this):(zI.remove(this.element,"click",this.btnClickHandler),FD([this.element],["e-active"]))}}click(){this.element.click()}focusIn(){this.element.focus()}};return SM([dA("Left")],e.prototype,"iconPosition",void 0),SM([dA("")],e.prototype,"iconCss",void 0),SM([dA(!1)],e.prototype,"disabled",void 0),SM([dA(!1)],e.prototype,"isPrimary",void 0),SM([dA("")],e.prototype,"cssClass",void 0),SM([dA("")],e.prototype,"content",void 0),SM([dA(!1)],e.prototype,"isToggle",void 0),SM([dA()],e.prototype,"locale",void 0),SM([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),SM([mA()],e.prototype,"created",void 0),e=SM([fA],e),e})();var OM=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const IM="e-frame",DM="e-ripple-container",AM=["title","class","style","disabled","readonly","name","value"];let MM=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.isFocused=!1,this.isMouseClick=!1}changeState(e){let t,n,i=this.getWrapper().getElementsByClassName(IM)[0];kA&&(n=this.getWrapper().getElementsByClassName(DM)[0]),"check"===e?(i.classList.remove("e-stop"),i.classList.add("e-check"),n&&(n.classList.remove("e-ripple-stop"),n.classList.add("e-ripple-check")),t="true",this.element.checked=!0):"uncheck"===e?(FD([i],["e-check","e-stop"]),n&&FD([n],["e-ripple-check","e-ripple-stop"]),t="false",this.element.checked=!1):(i.classList.remove("e-check"),i.classList.add("e-stop"),n&&(n.classList.remove("e-ripple-check"),n.classList.add("e-ripple-stop")),t="mixed",this.element.indeterminate=!0),this.getWrapper().setAttribute("aria-checked",t)}clickHandler(e){this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0),this.trigger("change",{checked:this.element.checked,event:e})}destroy(){let e=this.getWrapper();super.destroy(),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(e.parentNode.insertBefore(this.element,e),qD(e),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(e=>{this.element.removeAttribute(e)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML="")}focusHandler(){this.isFocused=!0}focusOutHandler(){this.getWrapper().classList.remove("e-focus"),this.isFocused=!1}getModuleName(){return"checkbox"}getPersistData(){return this.addOnPersist(["checked","indeterminate"])}getWrapper(){return this.element.parentElement.parentElement}initialize(){UO(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState("check"),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()}initWrapper(){let e=this.element.parentElement;e.classList.contains("e-checkbox-wrapper")||(e=this.createElement("div",{className:"e-checkbox-wrapper",attrs:{role:"checkbox","aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));let t=this.createElement("label",{attrs:{for:this.element.id}}),n=this.createElement("span",{className:"e-icons "+IM});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&RD([e],this.cssClass.split(" ")),e.appendChild(t),t.appendChild(this.element),s=t,(i=this).element.getAttribute("ejs-for")&&s.appendChild(i.createElement("input",{attrs:{name:i.name||i.element.name,value:"false",type:"hidden"}})),t.appendChild(n),kA){let e=this.createElement("span",{className:DM});"Before"===this.labelPosition?t.appendChild(e):t.insertBefore(e,n),wA(e,{duration:400,isCenterRipple:!0})}var i,s;this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}labelMouseHandler(e){this.isMouseClick=!0,_M(e,this.getWrapper().getElementsByClassName(DM)[0])}onPropertyChanged(e,t){let n=this.getWrapper();for(let i of Object.keys(e))switch(i){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,n.classList.remove("e-checkbox-disabled"),n.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&FD([n],t.cssClass.split(" ")),e.cssClass&&RD([n],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?n.classList.add("e-rtl"):n.classList.remove("e-rtl");break;case"label":this.setText(e.label);break;case"labelPosition":let i=n.getElementsByClassName("e-label")[0],s=n.getElementsByTagName("label")[0];qD(i),"After"===e.labelPosition?s.appendChild(i):s.insertBefore(i,n.getElementsByClassName(IM)[0]);break;case"name":this.element.setAttribute("name",e.name);break;case"value":this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}}preRender(){let e=this.element;this.formElement=GD(this.element,"form"),this.tagName=this.element.tagName,e=wM(this.createElement,"EJS-CHECKBOX","checkbox",e,"e-checkbox-wrapper","checkbox"),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=YO("e-"+this.getModuleName()))}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.renderComplete()}setDisabled(){let e=this.getWrapper();this.element.disabled=!0,e.classList.add("e-checkbox-disabled"),e.setAttribute("aria-disabled","true")}setText(e){let t=this.getWrapper().getElementsByClassName("e-label")[0];if(t)t.textContent=e;else{e=this.enableHtmlSanitizer?QA.sanitize(e):e,t=this.createElement("span",{className:"e-label",innerHTML:e});let n=this.getWrapper().getElementsByTagName("label")[0];"Before"===this.labelPosition?n.insertBefore(t,this.getWrapper().getElementsByClassName(IM)[0]):n.appendChild(t)}}changeHandler(e){e.stopPropagation()}formResetHandler(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue}unWireEvents(){let e=this.getWrapper();zI.remove(this.element,"click",this.clickHandler),zI.remove(this.element,"keyup",this.keyUpHandler),zI.remove(this.element,"focus",this.focusHandler),zI.remove(this.element,"focusout",this.focusOutHandler);let t=e.getElementsByTagName("label")[0];zI.remove(t,"mousedown",this.labelMouseHandler),zI.remove(t,"mouseup",this.labelMouseHandler),this.formElement&&zI.remove(this.formElement,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&zI.remove(this.element,"change",this.changeHandler)}wireEvents(){let e=this.getWrapper();zI.add(this.element,"click",this.clickHandler,this),zI.add(this.element,"keyup",this.keyUpHandler,this),zI.add(this.element,"focus",this.focusHandler,this),zI.add(this.element,"focusout",this.focusOutHandler,this);let t=e.getElementsByTagName("label")[0];zI.add(t,"mousedown",this.labelMouseHandler,this),zI.add(t,"mouseup",this.labelMouseHandler,this),this.formElement&&zI.add(this.formElement,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&zI.add(this.element,"change",this.changeHandler,this)}updateHtmlAttributeToWrapper(){if(!UO(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))if(AM.indexOf(e)>-1){let t=this.getWrapper();"class"===e?RD([t],this.htmlAttributes[e].split(" ")):"title"===e?t.setAttribute(e,this.htmlAttributes[e]):"style"===e?this.getWrapper().getElementsByClassName(IM)[0].setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}click(){this.element.click()}focusIn(){this.element.focus()}};return OM([mA()],e.prototype,"change",void 0),OM([mA()],e.prototype,"created",void 0),OM([dA(!1)],e.prototype,"checked",void 0),OM([dA("")],e.prototype,"cssClass",void 0),OM([dA(!1)],e.prototype,"disabled",void 0),OM([dA(!1)],e.prototype,"indeterminate",void 0),OM([dA("")],e.prototype,"label",void 0),OM([dA("After")],e.prototype,"labelPosition",void 0),OM([dA("")],e.prototype,"name",void 0),OM([dA("")],e.prototype,"value",void 0),OM([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),OM([dA({})],e.prototype,"htmlAttributes",void 0),e=OM([fA],e),e})();var TM,PM=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let LM=(()=>{let e=TM=class extends TA{constructor(e,t){super(e,t),this.isFocused=!1}changeHandler(e){this.checked=!0,this.dataBind(),this.trigger("change",{value:this.value,event:e}),"EJS-RADIOBUTTON"===this.tagName&&e.stopPropagation()}updateChange(e){let t,n,i=this.getRadioGroup();for(let s=0;s<i.length;s++)t=i[s],t!==this.element&&(n=QO(t,TM),n.checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(n.angularValue=this.value))}destroy(){{let e=this.element.parentElement;super.destroy(),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(e.parentNode.insertBefore(this.element,e),qD(e),this.element.checked=!1,["name","value","disabled"].forEach(e=>{this.element.removeAttribute(e)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML="")}}focusHandler(){this.isFocused=!0}focusOutHandler(){this.getLabel().classList.remove("e-focus")}getModuleName(){return"radio"}getSelectedValue(){let e,t=this.getRadioGroup();for(let n=0,i=t.length;n<i;n++)if(e=t[n],e.checked)return e.value;return""}getRadioGroup(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')}getPersistData(){return this.addOnPersist(["checked"])}getLabel(){return this.element.nextElementSibling}initialize(){UO(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()}initWrapper(){let e,t=this.element.parentElement;t.classList.contains("e-radio-wrapper")||(t=this.createElement("div",{className:"e-radio-wrapper"}),this.element.parentNode.insertBefore(t,this.element));let n=this.createElement("label",{attrs:{for:this.element.id}});t.appendChild(this.element),t.appendChild(n),kA&&(e=this.createElement("span",{className:"e-ripple-container"}),n.appendChild(e),wA(e,{duration:400,isCenterRipple:!0})),t.classList.add("e-wrapper"),this.enableRtl&&n.classList.add("e-rtl"),this.cssClass&&RD([n],this.cssClass.split(" ")),this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getLabel().classList.add("e-focus")}labelRippleHandler(e){_M(e,this.getLabel().getElementsByClassName("e-ripple-container")[0])}formResetHandler(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&WD(this.element,{checked:"true"})}onPropertyChanged(e,t){let n=this.getLabel();for(let i of Object.keys(e))switch(i){case"checked":e.checked&&this.updateChange(e.checked),this.element.checked=e.checked;break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&FD([n],t.cssClass.split(" ")),e.cssClass&&RD([n],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?n.classList.add("e-rtl"):n.classList.remove("e-rtl");break;case"label":this.setText(e.label);break;case"labelPosition":"Before"===e.labelPosition?n.classList.add("e-right"):n.classList.remove("e-right");break;case"name":this.element.setAttribute("name",e.name);break;case"value":this.element.setAttribute("value",e.value)}}preRender(){let e=this.element;if(this.formElement=GD(this.element,"form"),this.tagName=this.element.tagName,e=wM(this.createElement,"EJS-RADIOBUTTON","radio",e,"e-radio-wrapper","radio"),this.element=e,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=YO("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){let e=this.element.getAttribute("formcontrolname");e&&(this.setProperties({name:e},!0),this.element.setAttribute("name",e))}}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}setDisabled(){this.element.disabled=!0}setText(e){let t=this.getLabel(),n=t.getElementsByClassName("e-label")[0];n?n.textContent=e:(e=this.enableHtmlSanitizer?QA.sanitize(e):e,n=this.createElement("span",{className:"e-label",innerHTML:e}),t.appendChild(n)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")}unWireEvents(){let e=this.getLabel();zI.remove(this.element,"change",this.changeHandler),zI.remove(this.element,"focus",this.focusHandler),zI.remove(this.element,"focusout",this.focusOutHandler),zI.remove(this.element,"keyup",this.keyUpHandler);let t=e.getElementsByClassName("e-label")[0];t&&(zI.remove(t,"mousedown",this.labelRippleHandler),zI.remove(t,"mouseup",this.labelRippleHandler)),this.formElement&&zI.remove(this.formElement,"reset",this.formResetHandler)}wireEvents(){let e=this.getLabel();zI.add(this.element,"change",this.changeHandler,this),zI.add(this.element,"keyup",this.keyUpHandler,this),zI.add(this.element,"focus",this.focusHandler,this),zI.add(this.element,"focusout",this.focusOutHandler,this);let t=e.getElementsByClassName("e-label")[0];t&&(zI.add(t,"mousedown",this.labelRippleHandler,this),zI.add(t,"mouseup",this.labelRippleHandler,this)),this.formElement&&zI.add(this.formElement,"reset",this.formResetHandler,this)}click(){this.element.click()}focusIn(){this.element.focus()}};return PM([mA()],e.prototype,"change",void 0),PM([mA()],e.prototype,"created",void 0),PM([dA(!1)],e.prototype,"checked",void 0),PM([dA("")],e.prototype,"cssClass",void 0),PM([dA(!1)],e.prototype,"disabled",void 0),PM([dA("")],e.prototype,"label",void 0),PM([dA("After")],e.prototype,"labelPosition",void 0),PM([dA("")],e.prototype,"name",void 0),PM([dA("")],e.prototype,"value",void 0),PM([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),e=TM=PM([fA],e),e})(),NM={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};var RM;function FM(e,t){let n={};if(UO(e)||"string"==typeof e||"number"==typeof e||!UO(e.isHeader))return e;for(let i of Object.keys(t)){let s=t[i],l=UO(s)||"string"!=typeof s?void 0:HO(s,e);UO(l)||(n[s]=l)}return n}!function(e){e.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};let t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},n={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:e.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function i(e,t,n,i){return y(e,s(e,t,n,i),null,i)}function s(e,t,i,s){let l=[],r=qO({},n,s);NM=g(r.moduleName);let a=p();for(let n=0;n<t.length;n++){if(UO(t[n]))continue;let o;r.itemCreating&&"function"==typeof r.itemCreating&&r.itemCreating({dataSource:t,curData:t[n],text:t[n],options:r}),o=i?f(e,t[n],void 0,null,null,[],null,a,n,s):v(e,t[n],void 0,null,null,s),r.itemCreated&&"function"==typeof r.itemCreated&&r.itemCreated({dataSource:t,curData:t[n],text:t[n],item:o,options:r}),l.push(o)}return l}function l(i,s,l,r,a){let o=qO({},n,l);NM=g(o.moduleName);let h,u=qO({},e.defaultMappedFields,o.fields),b=qO({},t,o.ariaAttributes),y=[];r&&(b.level=r);let w,C,x=[];s&&s.length&&!UO(c(s).item)&&!c(s).item.hasOwnProperty(u.id)&&(h=p());for(let e=0;e<s.length;e++){let t=FM(s[e],u);if(UO(s[e]))continue;o.itemCreating&&"function"==typeof o.itemCreating&&o.itemCreating({dataSource:s,curData:s[e],text:t[u.text],options:o,fields:u});let n=s[e];o.itemCreating&&"function"==typeof o.itemCreating&&(t=FM(s[e],u)),t.hasOwnProperty(u.id)&&!UO(t[u.id])&&(h=t[u.id]);let r=[];if(o.showCheckBox&&(o.itemNavigable&&(t[u.url]||t[u.urlAttributes])?y.push(i("input",{className:NM.check,attrs:{type:"checkbox"}})):r.push(i("input",{className:NM.check,attrs:{type:"checkbox"}}))),!0===a)o.showIcon&&t.hasOwnProperty(u.iconCss)&&!UO(t[u.iconCss])&&r.push(i("span",{className:NM.icon+" "+t[u.iconCss]})),w=f(i,n,t,u,o.itemClass,r,!(!n.hasOwnProperty("isHeader")||!n.isHeader),h,e,l),C=w.querySelector("."+NM.anchorWrap),o.itemNavigable&&y.length&&VD(y,w.firstElementChild);else{if(w=v(i,n,t,u,o.itemClass,l),w.classList.add(NM.level+"-"+b.level),w.setAttribute("aria-level",b.level.toString()),C=w.querySelector("."+NM.anchorWrap),t.hasOwnProperty(u.tooltip)&&w.setAttribute("title",t[u.tooltip]),t.hasOwnProperty(u.htmlAttributes)&&t[u.htmlAttributes]&&d(w,t[u.htmlAttributes]),t.hasOwnProperty(u.enabled)&&!1===t[u.enabled]&&w.classList.add(NM.disabled),t.hasOwnProperty(u.isVisible)&&!1===t[u.isVisible]&&(w.style.display="none"),t.hasOwnProperty(u.imageUrl)&&!UO(t[u.imageUrl])&&!o.template){let e={src:t[u.imageUrl]};zO(e,t[u.imageAttributes]);let n=i("img",{className:NM.image,attrs:e});C?C.insertAdjacentElement("afterbegin",n):VD([n],w.firstElementChild)}if(o.showIcon&&t.hasOwnProperty(u.iconCss)&&!UO(t[u.iconCss])&&!o.template){let e;e=i("div",{className:NM.icon+" "+t[u.iconCss]}),C?C.insertAdjacentElement("afterbegin",e):VD([e],w.firstElementChild)}r.length&&VD(r,w.firstElementChild),o.itemNavigable&&y.length&&VD(y,w.firstElementChild),m(i,t,u,0,o,w,b.level)}C&&RD([w],[NM.navigable]),o.itemCreated&&"function"==typeof o.itemCreated&&o.itemCreated({dataSource:s,curData:s[e],text:t[u.text],item:w,options:o,fields:u}),y=[],x.push(w)}return x}function r(e,t,i,s,r){let a=qO({},n,i);return y(e,l(e,t,i,s,r),a.listClass,i)}function a(e,t){if(t&&e){let n=t;return n=Array.prototype.slice.call(t),n.indexOf(e)}}function o(e,t,n=new hM){if("Ascending"===e)n.sortBy(t,"ascending",!0);else if("Descending"===e)n.sortBy(t,"descending",!0);else for(let i=0;i<n.queries.length;i++)"onSortBy"===n.queries[i].fn&&n.queries.splice(i,1);return n}function h(e,t){return new vM(e).executeLocal(t)}function c(e){for(let t=0;t<e.length;t++)if(!UO(e[t]))return{typeof:typeof e[t],item:e[t]};return{typeof:null,item:null}}function d(e,t){let n={};zO(n,t),n.class&&(RD([e],n.class.split(" ")),delete n.class),WD(e,n)}function u(e){let t={},n=e.attributes;for(let i=0;i<n.length;i++)t[n[i].nodeName]=n[i].nodeValue;return t}function p(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function m(e,t,n,i,s,l,a){let o=t[n.child]||[],h=t[n.hasChildren];if(o.length&&(h=!0,l.classList.add(NM.hasChild),s.processSubChild)){let t=r(e,o,s,++a);l.appendChild(t)}s.expandCollapse&&h&&!s.template&&(l.firstElementChild.classList.add(NM.iconWrapper),("Left"===s.expandIconPosition?VD:jD)([e("div",{className:"e-icons "+s.expandIconClass})],l.querySelector("."+NM.textContent)))}function f(e,i,s,l,r,a,o,h,c,u){let p,m,f=qO({},n,u),g=qO({},t,f.ariaAttributes),v=i,y=i;"string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i&&(p=i,v="boolean"==typeof s[l.text]||"number"==typeof s[l.text]?s[l.text]:s[l.text]||"",y=s[l.value]),m=UO(p)||UO(s[l.id])||""===s[l.id]?h+"-"+c:h;let w=e("li",{className:(!0===o?NM.group:NM.li)+" "+(UO(r)?"":r),id:m,attrs:""!==g.groupItemRole&&""!==g.itemRole?{role:!0===o?g.groupItemRole:g.itemRole}:{}});return p&&s.hasOwnProperty(l.enabled)&&"false"===s[l.enabled].toString()&&w.classList.add(NM.disabled),o?w.innerText=v:(w.setAttribute("data-value",UO(y)?"null":y),w.setAttribute("role","option"),p&&s.hasOwnProperty(l.htmlAttributes)&&s[l.htmlAttributes]&&d(w,s[l.htmlAttributes]),a.length&&!f.itemNavigable&&jD(a,w),p&&(s[l.url]||s[l.urlAttributes]&&s[l.urlAttributes].href)?w.appendChild(b(e,p,l,v,a,f.itemNavigable)):(a.length&&f.itemNavigable&&jD(a,w),w.appendChild(document.createTextNode(v)))),w}function g(e){return{li:`e-${e}-item`,ul:`e-${e}-parent e-ul`,group:`e-${e}-group-item`,icon:`e-${e}-icon`,text:`e-${e}-text`,check:`e-${e}-check`,checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:`e-${e}-url`,collapsible:"e-icon-collapsible",disabled:"e-disabled",image:`e-${e}-img`,iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function b(e,t,n,i,s,l){let r,a=FM(t,n),o={href:a[n.url]};if(a.hasOwnProperty(n.urlAttributes)&&a[n.urlAttributes]&&(zO(o,a[n.urlAttributes]),o.href=a[n.url]?a[n.url]:a[n.urlAttributes].href),l){r=e("a",{className:NM.text+" "+NM.url});let t=e("div",{className:NM.anchorWrap});s&&s.length&&jD(s,t),t.appendChild(document.createTextNode(i)),jD([t],r)}else r=e("a",{className:NM.text+" "+NM.url,innerHTML:i});return d(r,o),r}function v(e,i,s,l,r,a){let o,h,c,d=qO({},n,a),u=qO({},t,d.ariaAttributes),m=i;"string"!=typeof i&&"number"!=typeof i&&(c=i,m=s[l.text]||"",o=s[l.id],h=!(!i.hasOwnProperty("isHeader")||!i.isHeader)),a&&a.enableHtmlSanitizer&&(m=QA.sanitize(m));let f=e("li",{className:(!0===h?NM.group:NM.li)+" "+(UO(r)?"":r),attrs:""!==u.groupItemRole&&""!==u.itemRole?{role:!0===h?u.groupItemRole:u.itemRole}:{}});if(UO(o)?f.setAttribute("data-uid",p()):f.setAttribute("data-uid",o),a&&a.removeBlazorID&&"object"==typeof i&&i.hasOwnProperty("BlazId")&&delete i.BlazId,h&&a&&a.groupTemplate)jD(fD(a.groupTemplate)(i,null,null,d.groupTemplateID,!!d.isStringTemplate),f);else if(!h&&a&&a.template)jD(fD(a.template)(i,null,null,d.templateID,!!d.isStringTemplate),f);else{let t=e("div",{className:NM.textContent,attrs:""!==u.wrapperRole?{role:u.wrapperRole}:{}});if(c&&(s[l.url]||s[l.urlAttributes]&&s[l.urlAttributes].href))t.appendChild(b(e,c,l,m,null,d.itemNavigable));else{let n=e("span",{className:NM.text,attrs:""!==u.itemText?{role:u.itemText}:{}});a&&a.enableHtmlSanitizer?n.innerText=QA.sanitize(m):n.innerHTML=m,t.appendChild(n)}f.appendChild(t)}return f}function y(e,i,s,l){let r=qO({},n,l),a=qO({},t,r.ariaAttributes);NM=g(r.moduleName);let o=e("ul",{className:NM.ul+" "+(UO(s)?"":s),attrs:""!==a.listRole?{role:a.listRole}:{}});return jD(i,o),o}e.createList=function(e,s,l,a){let o=qO({},n,l),h=qO({},t,o.ariaAttributes),d=c(s).typeof;return"string"===d||"number"===d?i(e,s,a,l):r(e,s,l,h.level,a)},e.createListFromArray=i,e.createListItemFromArray=s,e.createListItemFromJson=l,e.createListFromJson=r,e.getSiblingLI=function(e,t,i){if(NM=g(n.moduleName),!e||!e.length)return;let s,l,r=Array.prototype.slice.call(e);for(l=t?a(t,r):!0===i?r.length:-1,s=r[l+(!0===i?-1:1)];s&&(!BD(s)||s.classList.contains(NM.disabled));)l+=!0===i?-1:1,s=r[l];return s},e.indexOf=a,e.groupDataSource=function(t,n,i="None"){let s=qO({},e.defaultMappedFields,n),l=(new hM).group(s.groupBy);l=o(i,"key",l);let r=h(t,l);t=[];for(let e=0;e<r.length;e++){let n=r[e].items,i={},l="isHeader";i[s.text]=r[e].key,i[l]=!0,i.id="group-list-item-"+(r[e].key?r[e].key.toString().trim():"undefined"),i.items=n,t.push(i);for(let e=0;e<n.length;e++)t.push(n[e])}return t},e.addSorting=o,e.getDataSource=h,e.createJsonFromElement=function t(i,s){let l=qO({},n,s),r=qO({},e.defaultMappedFields,l.fields),a=i.cloneNode(!0),o=[];a.classList.add("json-parent");let h=a.querySelectorAll(".json-parent>li");a.classList.remove("json-parent");for(let e=0;e<h.length;e++){let n=h[e],i=n.querySelector("a"),l=n.querySelector("ul"),a={},c=i?i.childNodes:n.childNodes,d=Object.keys(c);for(let e=0;e<c.length;e++)c[Number(d[e])].hasChildNodes()||(a[r.text]=c[Number(d[e])].textContent);let m=u(n);m.id?(a[r.id]=m.id,delete m.id):a[r.id]=p(),Object.keys(m).length&&(a[r.htmlAttributes]=m),i&&(m=u(i),Object.keys(m).length&&(a[r.urlAttributes]=m)),l&&(a[r.child]=t(l,s)),o.push(a)}return o},e.renderContentTemplate=function(t,i,s,l,r){NM=g(n.moduleName);let a=t("ul",{className:NM.ul,attrs:{role:"presentation"}}),o=qO({},n,r),h=qO({},e.defaultMappedFields,l),c=fD(i),d=[],u=p();for(let e=0;e<s.length;e++){let n=FM(s[e],h),i=s[e],l=i.isHeader,r=n[h.value];o.itemCreating&&"function"==typeof o.itemCreating&&o.itemCreating({dataSource:s,curData:i,text:r,options:o,fields:h}),o.itemCreating&&"function"==typeof o.itemCreating&&(n=FM(s[e],h),r=n[h.value]);let a=t("li",{id:u+"-"+e,className:l?NM.group:NM.li,attrs:{role:"presentation"}});l?a.innerText=n[h.text]:(jD(c(i,null,null,l?o.groupTemplateID:o.templateID,!!o.isStringTemplate),a),a.setAttribute("data-value",UO(r)?"null":r),a.setAttribute("role","option")),o.itemCreated&&"function"==typeof o.itemCreated&&o.itemCreated({dataSource:s,curData:i,text:r,item:a,options:o,fields:h}),d.push(a)}return jD(d,a),a},e.renderGroupTemplate=function(t,i,s,l,r){let a=fD(t),o=qO({},e.defaultMappedFields,s),h=qO({},n,r),c=o.groupBy;for(let e of l){let t={};t[c]=e.textContent,e.innerHTML="",jD(a(t,null,null,h.groupTemplateID,!!h.isStringTemplate),e)}return l},e.generateId=p,e.generateUL=y,e.generateIcon=function(e,t,i,s){let l=qO({},n,s);return NM=g(l.moduleName),("Left"===l.expandIconPosition?VD:jD)([e("div",{className:"e-icons "+l.expandIconClass+" "+(UO(i)?"":i)})],t.querySelector("."+NM.textContent)),t}}(RM||(RM={}));var HM=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const BM={None:[],SlideLeft:["SlideRightOut","SlideLeftOut","SlideLeftIn","SlideRightIn"],SlideDown:["SlideTopOut","SlideBottomOut","SlideBottomIn","SlideTopIn"],Zoom:["FadeOut","FadeZoomOut","FadeZoomIn","FadeIn"],Fade:["FadeOut","FadeOut","FadeIn","FadeIn"]},VM={None:[],SlideLeft:["SlideLeftOut","SlideRightOut","SlideRightIn","SlideLeftIn"],SlideDown:["SlideBottomOut","SlideTopOut","SlideTopIn","SlideBottomIn"],Zoom:["FadeZoomOut","FadeOut","FadeIn","FadeZoomIn"],Fade:["FadeOut","FadeOut","FadeIn","FadeIn"]},jM={root:"e-listview",hover:"e-hover",selected:"e-active",focused:"e-focused",parentItem:"e-list-parent",listItem:"e-list-item",listIcon:"e-list-icon",textContent:"e-text-content",listItemText:"e-list-text",groupListItem:"e-list-group-item",hasChild:"e-has-child",view:"e-view",header:"e-list-header",headerText:"e-headertext",headerTemplateText:"e-headertemplate-text",text:"e-text",disable:"e-disabled",content:"e-content",icon:"e-icons",backIcon:"e-icon-back",checkboxWrapper:"e-checkbox-wrapper",checkbox:"e-checkbox",checked:"e-check",checklist:"e-checklist",checkboxIcon:"e-frame",checkboxRight:"e-checkbox-right",checkboxLeft:"e-checkbox-left",listviewCheckbox:"e-listview-checkbox",itemCheckList:"e-checklist"};let zM,qM,UM,WM,YM,$M,GM=(()=>{class e extends OA{}return HM([dA("id")],e.prototype,"id",void 0),HM([dA("text")],e.prototype,"text",void 0),HM([dA("isChecked")],e.prototype,"isChecked",void 0),HM([dA("isVisible")],e.prototype,"isVisible",void 0),HM([dA("enabled")],e.prototype,"enabled",void 0),HM([dA("iconCss")],e.prototype,"iconCss",void 0),HM([dA("child")],e.prototype,"child",void 0),HM([dA("tooltip")],e.prototype,"tooltip",void 0),HM([dA("groupBy")],e.prototype,"groupBy",void 0),HM([dA("text")],e.prototype,"sortBy",void 0),HM([dA("htmlAttributes")],e.prototype,"htmlAttributes",void 0),HM([dA("tableName")],e.prototype,"tableName",void 0),e})(),XM=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.itemReRender=!1}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"htmlAttributes":this.setHTMLAttribute();break;case"cssClass":this.setCSSClass(t.cssClass);break;case"enable":this.setEnable();break;case"width":case"height":this.setSize();break;case"enableRtl":this.setEnableRTL();break;case"fields":this.listBaseOption.fields=this.fields.properties,this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"headerTitle":this.curDSLevel.length||this.header(this.headerTitle,!1);break;case"query":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"showHeader":this.header(this.headerTitle,!1);break;case"enableVirtualization":UO(this.contentContainer)||qD(this.contentContainer),this.refresh();break;case"showCheckBox":case"checkBoxPosition":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.setCheckbox();break;case"dataSource":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"sortOrder":case"showIcon":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():(this.listBaseOption.showIcon=this.showIcon,this.curViewDS=this.getSubDS(),this.resetCurrentList())}}setHTMLAttribute(){Object.keys(this.htmlAttributes).length&&WD(this.element,this.htmlAttributes)}setCSSClass(e){this.cssClass&&RD([this.element],this.cssClass.split(" ").filter(e=>e)),e&&FD([this.element],e.split(" ").filter(e=>e))}setSize(){this.element.style.height=KO(this.height),this.element.style.width=KO(this.width),this.isWindow=!this.element.clientHeight}setEnable(){this.enableElement(this.element,this.enable)}setEnableRTL(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}enableElement(e,t){t?e.classList.remove(jM.disable):e.classList.add(jM.disable)}header(e,t){if(void 0===this.headerEle&&this.showHeader){this.enableHtmlSanitizer&&this.setProperties({headerTitle:QA.sanitize(this.headerTitle)},!0),this.headerEle=this.createElement("div",{className:jM.header});let e=this.createElement("span",{className:jM.headerText,innerHTML:this.headerTitle}),t=this.createElement("div",{className:jM.text,innerHTML:e.outerHTML}),n=this.createElement("div",{className:jM.icon+" "+jM.backIcon+" e-but-back",attrs:{style:"display:none;"}});if(this.headerEle.appendChild(n),this.headerEle.appendChild(t),this.headerTemplate){let e=fD(this.headerTemplate),t=this.createElement("div",{className:jM.headerTemplateText});jD(e({},null,null,this.LISTVIEW_HEADERTEMPLATE_ID),t),jD([t],this.headerEle),this.updateBlazorTemplates(!1,!0,!0)}this.headerTemplate&&this.headerTitle&&t.classList.add("header"),this.element.classList.add("e-has-header"),VD([this.headerEle],this.element)}else if(this.headerEle)if(this.showHeader){this.headerEle.style.display="";let n=this.headerEle.querySelector("."+jM.headerText),i=this.headerEle.querySelector("."+jM.backIcon);this.enableHtmlSanitizer&&(e=QA.sanitize(e)),n.innerHTML=e,this.headerTemplate&&t&&(n.parentElement.classList.remove("header"),this.headerEle.querySelector("."+jM.headerTemplateText).classList.add("nested-header")),this.headerTemplate&&!t&&(n.parentElement.classList.add("header"),this.headerEle.querySelector("."+jM.headerTemplateText).classList.remove("nested-header"),this.headerEle.querySelector("."+jM.headerTemplateText).classList.add("header")),i.style.display=!0===t?"":"none"}else this.headerEle.style.display="none"}switchView(e,t,n){if(e&&t){let i,s=e.style.position,l="hidden"!==this.element.style.overflow?this.element.style.overflow:"";e.style.position="absolute",e.classList.add("e-view");let r=this.animation.duration;this.animation.effect?i=this.enableRtl?VM[this.animation.effect]:BM[this.animation.effect]:(i=BM.SlideLeft,n=this.enableRtl,r=0),this.element.style.overflow="hidden",this.aniObj.animate(e,{name:!0===n?i[0]:i[1],duration:r,timingFunction:this.animation.easing,end:t=>{e.style.display="none",this.element.style.overflow=l,e.style.position=s,e.classList.remove("e-view")}}),t.style.display="",this.aniObj.animate(t,{name:!0===n?i[2]:i[3],duration:r,timingFunction:this.animation.easing,end:()=>{this.trigger("actionComplete")}}),this.curUL=t}}preRender(){this.listBaseOption={template:this.template,headerTemplate:this.headerTemplate,groupTemplate:this.groupTemplate,expandCollapse:!0,listClass:"",ariaAttributes:{itemRole:"option",listRole:"presentation",itemText:"",groupItemRole:"group",wrapperRole:"presentation"},fields:this.fields.properties,sortOrder:this.sortOrder,showIcon:this.showIcon,itemCreated:this.renderCheckbox.bind(this),templateID:`${this.element.id}Template`,groupTemplateID:`${this.element.id}GroupTemplate`,enableHtmlSanitizer:this.enableHtmlSanitizer,removeBlazorID:!0},this.initialization()}initialization(){this.curDSLevel=[],this.animateOptions={},this.curViewDS=[],this.currentLiElements=[],this.isNestedList=!1,this.selectedData=[],this.selectedId=[],this.LISTVIEW_TEMPLATE_ID=`${this.element.id}Template`,this.LISTVIEW_GROUPTEMPLATE_ID=`${this.element.id}GroupTemplate`,this.LISTVIEW_HEADERTEMPLATE_ID=`${this.element.id}HeaderTemplate`,this.aniObj=new yA(this.animateOptions),this.removeElement(this.curUL),this.removeElement(this.ulElement),this.removeElement(this.headerEle),this.removeElement(this.contentContainer),this.curUL=this.ulElement=this.liCollection=this.headerEle=this.contentContainer=void 0}renderCheckbox(e){if(e.item.classList.contains(jM.hasChild)&&(this.isNestedList=!0),this.showCheckBox&&this.isValidLI(e.item)){let t,n;t=xM(this.createElement,!1,{checked:!1,enableRtl:this.enableRtl,cssClass:jM.listviewCheckbox}),t.setAttribute("role","checkbox");let i=t.querySelector("."+jM.checkboxIcon);e.item.classList.add(jM.itemCheckList),e.item.firstElementChild.classList.add(jM.checkbox),"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]?(n=FM(e.curData,this.listBaseOption.fields),n[this.listBaseOption.fields.isChecked]&&this.checkInternally(e,t)):"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]||-1===this.selectedData.indexOf(e.text)||this.checkInternally(e,t),t.setAttribute("aria-checked",i.classList.contains(jM.checked)?"true":"false"),"Left"===this.checkBoxPosition?(t.classList.add(jM.checkboxLeft),e.item.firstElementChild.classList.add(jM.checkboxLeft),e.item.firstElementChild.insertBefore(t,e.item.firstElementChild.childNodes[0])):(t.classList.add(jM.checkboxRight),e.item.firstElementChild.classList.add(jM.checkboxRight),e.item.firstElementChild.appendChild(t)),this.currentLiElements.push(e.item),this.virtualCheckBox="Left"==this.checkBoxPosition?e.item.firstElementChild.children[0]:e.item.firstElementChild.lastElementChild}}checkInternally(e,t){e.item.classList.add(jM.selected),e.item.setAttribute("aria-selected","true"),t.querySelector("."+jM.checkboxIcon).classList.add(jM.checked),t.setAttribute("aria-checked","true")}checkItem(e){this.toggleCheckBase(e,!0)}toggleCheckBase(e,t){if(this.showCheckBox){let n=e;if(e instanceof Object&&e.constructor!==HTMLLIElement&&(n=this.getLiFromObjOrElement(e)),!UO(n)){let e=n.querySelector("."+jM.checkboxIcon);t?n.classList.add(jM.selected):n.classList.remove(jM.selected),n.setAttribute("aria-selected",t?"true":"false"),t?e.classList.add(jM.checked):e.classList.remove(jM.checked),e.parentElement.setAttribute("aria-checked",t?"true":"false")}this.setSelectedItemData(n)}}uncheckItem(e){this.toggleCheckBase(e,!1)}checkAllItems(){this.toggleAllCheckBase(!0)}uncheckAllItems(){this.toggleAllCheckBase(!1)}toggleAllCheckBase(e){if(this.showCheckBox){for(let t=0;t<this.liCollection.length;t++){let n=this.liCollection[t].querySelector("."+jM.checkboxIcon);n&&(e?n.classList.contains(jM.checked)||this.checkItem(this.liCollection[t]):n.classList.contains(jM.checked)&&this.uncheckItem(this.liCollection[t]))}this.enableVirtualization&&this.virtualizationModule.checkedItem(e)}}setCheckbox(){if(this.showCheckBox){let e=Array.prototype.slice.call(this.element.querySelectorAll("."+jM.listItem)),t={item:void 0,curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:""};for(let n=0;n<e.length;n++){let i=e[n];t.item=i,t.curData=this.getItemData(i),i.querySelector("."+jM.checkboxWrapper)&&this.removeElement(i.querySelector("."+jM.checkboxWrapper)),this.renderCheckbox(t),t.item.classList.contains(jM.selected)&&this.checkInternally(t,t.item.querySelector("."+jM.checkboxWrapper))}}else{let e=Array.prototype.slice.call(this.element.querySelectorAll("."+jM.itemCheckList));for(let t=0;t<e.length;t++){let n=e[t];n.classList.remove(jM.selected),n.firstElementChild.classList.remove(jM.checkbox),this.removeElement(n.querySelector("."+jM.checkboxWrapper))}this.selectedItems&&this.selectedItems.item.classList.add(jM.selected)}}refreshItemHeight(){this.virtualizationModule.refreshItemHeight()}clickHandler(e){let t=e.target,n=t.classList;if(n.contains(jM.backIcon)||n.contains(jM.headerText))this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back();else{let n=GD(t.parentNode,"."+jM.listItem);if(null===n&&(n=t),this.removeFocus(),this.enable&&this.showCheckBox&&this.isValidLI(n))if(e.target.classList.contains(jM.checkboxIcon)){if(n.classList.add(jM.focused),UO(n.querySelector("."+jM.checked))){let e={curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:void 0,item:n};this.checkInternally(e,e.item.querySelector("."+jM.checkboxWrapper))}else this.uncheckItem(n),n.classList.add(jM.focused);if(this.enableVirtualization&&this.virtualizationModule.setCheckboxLI(n,e),e){let t=this.selectEventData(n,e);zO(t,{isChecked:n.querySelector("."+jM.checkboxIcon).classList.contains(jM.checked)}),this.trigger("select",t)}}else n.classList.contains(jM.hasChild)?(this.removeHover(),this.removeSelect(),this.removeSelect(n),this.setSelectLI(n,e),n.classList.remove(jM.selected)):this.setCheckboxLI(n,e);else this.setSelectLI(n,e);e.target.closest("li")&&e.target.closest("li").classList.contains("e-has-child")&&!e.target.parentElement.classList.contains("e-listview-checkbox")&&e.target.closest("li").classList.add(jM.disable)}}removeElement(e){return e&&e.parentNode&&e.parentNode.removeChild(e)}hoverHandler(e){let t=GD(e.target.parentNode,"."+jM.listItem);this.setHoverLI(t)}leaveHandler(e){this.removeHover()}homeKeyHandler(e,t){if(Object.keys(this.dataSource).length&&this.curUL){this.selectedItems&&this.selectedItems.item.setAttribute("aria-selected","false");let n=this.curUL.querySelectorAll("."+jM.listItem),i=this.curUL.querySelector("."+jM.focused)||this.curUL.querySelector("."+jM.selected);i&&(i.classList.remove(jM.focused),this.showCheckBox||i.classList.remove(jM.selected));let s=t?n.length-1:0;n[s].classList.contains(jM.hasChild)||this.showCheckBox?n[s].classList.add(jM.focused):this.setSelectLI(n[s],e),n[s]?this.element.setAttribute("aria-activedescendant",n[s].id.toString()):this.element.removeAttribute("aria-activedescendant")}}onArrowKeyDown(e,t){let n,i;return!UO(this.curUL.querySelector("."+jM.hasChild))||this.showCheckBox?(i=this.curUL.querySelector("."+jM.focused)||this.curUL.querySelector("."+jM.selected),n=RM.getSiblingLI(this.curUL.querySelectorAll("."+jM.listItem),i,t),UO(n)||(i&&(i.classList.remove(jM.focused),this.showCheckBox||i.classList.remove(jM.selected)),n.classList.contains(jM.hasChild)||this.showCheckBox?n.classList.add(jM.focused):this.setSelectLI(n,e))):(i=this.curUL.querySelector("."+jM.selected),n=RM.getSiblingLI(this.curUL.querySelectorAll("."+jM.listItem),i,t),this.setSelectLI(n,e)),n?this.element.setAttribute("aria-activedescendant",n.id.toString()):this.element.removeAttribute("aria-activedescendant"),n}arrowKeyHandler(e,t){if(e.preventDefault(),Object.keys(this.dataSource).length&&this.curUL){let n,i,s=this.onArrowKeyDown(e,t),l=this.element.getBoundingClientRect().top,r=this.element.getBoundingClientRect().height,a=this.curUL.querySelector("."+jM.listItem).getBoundingClientRect();if(this.fields.groupBy&&(i=this.curUL.querySelector("."+jM.groupListItem).getBoundingClientRect()),s){let e=s.getBoundingClientRect().top,i=s.getBoundingClientRect().height;if(t)n=this.isWindow?e:e-l,n<0&&(this.isWindow?window.scroll(0,pageYOffset+n):this.element.scrollTop=this.element.scrollTop+n);else{let t=this.isWindow?window.innerHeight:r;n=this.isWindow?e+i:e-l+i,n>t&&(this.isWindow?window.scroll(0,pageYOffset+(n-t)):this.element.scrollTop=this.element.scrollTop+(n-t))}}else if(this.enableVirtualization&&t&&this.virtualizationModule.uiFirstIndex)this.onUIScrolled=()=>{this.onArrowKeyDown(e,t),this.onUIScrolled=void 0},n=this.virtualizationModule.listItemHeight,this.isWindow?window.scroll(0,pageYOffset-n):this.element.scrollTop=this.element.scrollTop-n;else if(t)if(this.showHeader&&this.headerEle){let e=i?i.top:a.top,t=this.headerEle.getBoundingClientRect();n=t.top<0?t.height-e:0,this.isWindow?window.scroll(0,pageYOffset-n):this.element.scrollTop=0}else this.fields.groupBy&&(n=this.isWindow?i.top<0?i.top:0:l-a.top+i.height,this.isWindow?window.scroll(0,pageYOffset+n):this.element.scrollTop=this.element.scrollTop-n)}}enterKeyHandler(e){if(Object.keys(this.dataSource).length&&this.curUL){let t=!UO(this.curUL.querySelector("."+jM.hasChild)),n=this.curUL.querySelector("."+jM.focused);t&&n&&(n.classList.remove(jM.focused),this.showCheckBox&&(this.removeSelect(),this.removeSelect(n),this.removeHover()),this.setSelectLI(n,e))}}spaceKeyHandler(e){if(this.enable&&this.showCheckBox&&Object.keys(this.dataSource).length&&this.curUL){let e=this.curUL.querySelector("."+jM.focused);if(!UO(e)&&UO(e.querySelector("."+jM.checked))){let t={curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:void 0,item:e};this.checkInternally(t,t.item.querySelector("."+jM.checkboxWrapper))}else this.uncheckItem(e)}}keyActionHandler(e){switch(e.keyCode){case 36:this.homeKeyHandler(e);break;case 35:this.homeKeyHandler(e,!0);break;case 40:this.arrowKeyHandler(e);break;case 38:this.arrowKeyHandler(e,!0);break;case 13:this.enterKeyHandler(e);break;case 8:this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back();break;case 32:this.spaceKeyHandler(e)}}swipeActionHandler(e){"Right"===e.swipeDirection&&e.velocity>.5&&"touchend"==e.originalEvent.type&&(this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back())}focusout(){if(Object.keys(this.dataSource).length&&this.curUL){let e=this.curUL.querySelector("."+jM.focused),t=this.curUL.querySelector("[aria-selected = true]");e&&(e.classList.remove(jM.focused),t&&!this.showCheckBox&&t.classList.add(jM.selected))}}wireEvents(){zI.add(this.element,"keydown",this.keyActionHandler,this),zI.add(this.element,"click",this.clickHandler,this),this.enableVirtualization||(zI.add(this.element,"mouseover",this.hoverHandler,this),zI.add(this.element,"mouseout",this.leaveHandler,this)),zI.add(this.element,"focusout",this.focusout,this),this.touchModule=new XA(this.element,{swipe:this.swipeActionHandler.bind(this)})}unWireEvents(){zI.remove(this.element,"click",this.clickHandler),this.enableVirtualization||(zI.remove(this.element,"mouseover",this.hoverHandler),zI.remove(this.element,"mouseout",this.leaveHandler)),zI.remove(this.element,"mouseover",this.hoverHandler),zI.remove(this.element,"mouseout",this.leaveHandler),this.touchModule.destroy()}removeFocus(){let e=this.element.querySelectorAll("."+jM.focused);for(let t of e)t.classList.remove(jM.focused)}removeHover(){let e=this.element.querySelector("."+jM.hover);e&&e.classList.remove(jM.hover)}removeSelect(e){if(UO(e)){let e=this.element.querySelectorAll("."+jM.selected);for(let t of e)this.showCheckBox&&t.querySelector("."+jM.checked)||(t.setAttribute("aria-selected","false"),t.classList.remove(jM.selected))}else e.classList.remove(jM.selected),e.setAttribute("aria-selected","false")}isValidLI(e){return e&&e.classList.contains(jM.listItem)&&!e.classList.contains(jM.groupListItem)&&!e.classList.contains(jM.disable)}setCheckboxLI(e,t){if(this.isValidLI(e)&&this.enable&&this.showCheckBox){this.curUL.querySelector("."+jM.focused)&&this.curUL.querySelector("."+jM.focused).classList.remove(jM.focused),e.classList.add(jM.focused);let n=e.querySelector("."+jM.checkboxWrapper),i=n.querySelector("."+jM.checkboxIcon+"."+jM.icon);this.removeHover(),i.classList.contains(jM.checked)?(i.classList.remove(jM.checked),e.classList.remove(jM.selected),e.setAttribute("aria-selected","false")):(i.classList.add(jM.checked),e.classList.add(jM.selected),e.setAttribute("aria-selected","true")),n.setAttribute("aria-checked",i.classList.contains(jM.checked)?"true":"false");let s=this.selectEventData(e,t);zO(s,{isChecked:i.classList.contains(jM.checked)}),this.enableVirtualization&&this.virtualizationModule.setCheckboxLI(e,t),this.trigger("select",s),this.setSelectedItemData(e),this.renderSubList(e)}}selectEventData(e,t){let n,i=this.getItemData(e),s=FM(i,this.listBaseOption.fields);n=!UO(i)&&"string"==typeof this.dataSource[0]||"number"==typeof this.dataSource[0]?{item:e,text:e&&e.innerText.trim(),data:this.dataSource}:{item:e,text:s&&s[this.listBaseOption.fields.text],data:i};let l={};return zO(l,n),t&&zO(l,{isInteracted:!0,event:t,index:this.curUL&&Array.prototype.indexOf.call(this.curUL.children,e)}),l}setSelectedItemData(e){let t=this.getItemData(e),n=FM(t,this.listBaseOption.fields);this.selectedItems=UO(t)||"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]?{item:e,text:n&&n[this.listBaseOption.fields.text],data:t}:{item:e,text:e&&e.innerText.trim(),data:this.dataSource}}setSelectLI(e,t){if(this.isValidLI(e)&&!e.classList.contains(jM.selected)&&this.enable){this.showCheckBox||this.removeSelect(),e.classList.add(jM.selected),e.setAttribute("aria-selected","true"),this.removeHover(),this.setSelectedItemData(e),this.enableVirtualization&&this.virtualizationModule.setSelectLI(e,t);let n=this.selectEventData(e,t);this.trigger("select",n),this.selectedLI=e,this.renderSubList(e)}}setHoverLI(e){if(this.isValidLI(e)&&!e.classList.contains(jM.hover)&&this.enable){let t=this.element.querySelectorAll("."+jM.hover);t&&t.length&&FD(t,jM.hover),e.classList.contains(jM.selected)&&!this.showCheckBox||e.classList.add(jM.hover)}}getSubDS(){let e=this.curDSLevel;if(e.length){let t=this.localData;for(let n of e){let e={};e[this.fields.id]=n,this.curDSJSON=this.findItemFromDS(t,e);let i=FM(this.curDSJSON,this.listBaseOption.fields);t=this.curDSJSON?i[this.fields.child]:t}return t}return this.localData}getItemData(e){let t,n=this.dataSource instanceof vM?this.localData:this.dataSource,i=this.getElementUID(e);return t=UO(this.element.querySelector("."+jM.hasChild))&&this.fields.groupBy?this.curViewDS:n,this.findItemFromDS(t,i)}findItemFromDS(e,t,n){let i;return e&&e.length&&t?e.some(s=>{let l=FM(s,this.listBaseOption.fields);if(!t[this.fields.id]&&!t[this.fields.text]||t[this.fields.id]&&(!UO(l[this.fields.id])&&l[this.fields.id].toString())!==t[this.fields.id].toString()||t[this.fields.text]&&l[this.fields.text]!==t[this.fields.text])if("object"!=typeof s&&-1!==e.indexOf(s))i=n?e:s;else if(!UO(t[this.fields.id])&&UO(l[this.fields.id])){let e=this.element.querySelector('[data-uid="'+t[this.fields.id]+'"]');e&&e.innerText.trim()===l[this.fields.text]&&(i=s)}else l.hasOwnProperty(this.fields.child)&&l[this.fields.child].length&&(i=this.findItemFromDS(l[this.fields.child],t,n));else i=n?e:s;return!!i}):i=e,i}getQuery(){let e=[],t=this.query?this.query:new hM;if(!this.query){for(let t of Object.keys(this.fields.properties))"tableName"!==t&&this.fields[t]&&this.fields[t]!==RM.defaultMappedFields[t]&&-1===e.indexOf(this.fields[t])&&e.push(this.fields[t]);t.select(e),this.fields.properties.hasOwnProperty("tableName")&&t.from(this.fields.tableName)}return t}setViewDataSource(e=this.localData){this.curViewDS=e&&this.fields.groupBy?RM.groupDataSource("None"!==this.sortOrder?RM.getDataSource(e,RM.addSorting(this.sortOrder,this.fields.sortBy)):e,this.listBaseOption.fields,this.sortOrder):e&&"None"!==this.sortOrder?RM.getDataSource(e,RM.addSorting(this.sortOrder,this.fields.sortBy)):e}isInAnimation(){return this.curUL.classList.contains(".e-animate")}setLocalData(){this.trigger("actionBegin");let e=this;if(this.dataSource instanceof vM)this.dataSource.executeQuery(this.getQuery()).then(t=>{this.isDestroyed||(this.localData=t.result,e.removeElement(e.contentContainer),this.renderList(),this.trigger("actionComplete",t))}).catch(e=>{this.isDestroyed||this.trigger("actionFailure",e)});else if(this.dataSource&&this.dataSource.length)this.localData=this.dataSource,this.renderList(),this.trigger("actionComplete",{data:this.localData});else{let e=this.element.querySelector("ul");e&&(UD(e),this.setProperties({dataSource:RM.createJsonFromElement(e)},!0),this.localData=this.dataSource,this.renderList(),this.trigger("actionComplete",{data:this.localData}))}}reRender(){this.resetBlazorTemplates(),this.removeElement(this.headerEle),this.removeElement(this.ulElement),this.removeElement(this.contentContainer),-1===Object.keys(window).indexOf("ejsInterop")&&(this.element.innerHTML=""),this.headerEle=this.ulElement=this.liCollection=void 0,this.header(),this.setLocalData()}resetCurrentList(){this.resetBlazorTemplates(),this.setViewDataSource(this.curViewDS),this.contentContainer.innerHTML="",this.createList(),this.renderIntoDom(this.curUL)}setAttributes(e){for(let t=0;t<e.length;t++){let n=e[t];n.classList.contains("e-list-item")&&(n.setAttribute("id",this.element.id+"_"+n.getAttribute("data-uid")),n.setAttribute("aria-selected","false"),n.setAttribute("tabindex","-1"))}}createList(){this.currentLiElements=[],this.isNestedList=!1,this.ulElement=this.curUL=RM.createList(this.createElement,this.curViewDS,this.listBaseOption),this.liCollection=this.curUL.querySelectorAll("."+jM.listItem),this.setAttributes(this.liCollection),this.updateBlazorTemplates(!0)}resetBlazorTemplates(){let e=pD;this.template&&(e[this.LISTVIEW_TEMPLATE_ID]=[],gD(this.LISTVIEW_TEMPLATE_ID)),this.groupTemplate&&(e[this.LISTVIEW_GROUPTEMPLATE_ID]=[],gD(this.LISTVIEW_GROUPTEMPLATE_ID)),this.headerTemplate&&gD(this.LISTVIEW_HEADERTEMPLATE_ID)}updateBlazorTemplates(e=!1,t=!1,n=!1){}exceptionEvent(e){this.trigger("actionFailure",e)}UpdateCurrentUL(){this.ulElement=this.curUL=this.element.querySelector("."+jM.parentItem),this.curUL&&(this.liCollection=this.curUL.querySelectorAll("."+jM.listItem))}renderingNestedList(){let e=GD(this.liElement.parentNode,"."+jM.parentItem),t=document.getElementById(this.element.id),n=t.getElementsByTagName("UL")[t.getElementsByTagName("UL").length-1];this.switchView(e,n),this.liElement=null}renderSubList(e){this.liElement=e;let t=e.getAttribute("data-uid");if(e.classList.contains(jM.hasChild)&&t){let n=GD(e.parentNode,"."+jM.parentItem),i=this.element.querySelector("[pid='"+t+"']");if(this.curDSLevel.push(t),this.setViewDataSource(this.getSubDS()),!i){{i=RM.createListFromJson(this.createElement,this.curViewDS,this.listBaseOption,this.curDSLevel.length);let e=i.querySelectorAll("."+jM.listItem);this.setAttributes(e),i.setAttribute("pID",t),i.style.display="none",this.renderIntoDom(i),this.updateBlazorTemplates(!0)}}if(this.switchView(n,i),this.liCollection=this.curUL.querySelectorAll("."+jM.listItem),this.selectedItems){let e=FM(this.selectedItems.data,this.listBaseOption.fields);this.header(e[this.listBaseOption.fields.text],!0)}this.selectedLI=void 0}}renderIntoDom(e){this.contentContainer.appendChild(e)}renderList(e){this.setViewDataSource(e),this.enableVirtualization?Object.keys(this.dataSource).length&&(!this.template&&!this.groupTemplate||this.virtualizationModule.isNgTemplate()||(this.listBaseOption.template=null,this.listBaseOption.groupTemplate=null,this.listBaseOption.itemCreated=this.virtualizationModule.createUIItem.bind(this.virtualizationModule)),this.virtualizationModule.uiVirtualization()):(this.createList(),this.contentContainer=this.createElement("div",{className:jM.content}),this.element.appendChild(this.contentContainer),this.renderIntoDom(this.ulElement))}getElementUID(e){let t={};return e instanceof Element?t[this.fields.id]=e.getAttribute("data-uid"):t=e,t}render(){this.element.classList.add(jM.root),WD(this.element,{role:"list",tabindex:"0"}),this.setCSSClass(),this.setEnableRTL(),this.setEnable(),this.setSize(),this.wireEvents(),this.header(),this.setLocalData(),this.setHTMLAttribute(),this.rippleFn=wA(this.element,{selector:"."+jM.listItem}),this.renderComplete()}initBlazor(e){null===e&&(e=!1),this.setLocalData(),this.setViewDataSource(this.localData),this.contentContainer=this.element.querySelector("."+jM.content),e&&this.wireEvents()}destroy(){this.resetBlazorTemplates(),this.unWireEvents();let e=[jM.root,jM.disable,"e-rtl","e-has-header","e-lib"].concat(this.cssClass.split(" ").filter(e=>e));FD([this.element],e),this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"),this.curUL=this.ulElement=this.liCollection=this.headerEle=void 0,this.element.innerHTML="",super.destroy()}back(){let e=this.curDSLevel[this.curDSLevel.length-1];if(void 0===e||this.isInAnimation())return;this.curDSLevel.pop(),this.setViewDataSource(this.getSubDS());let t=this.element.querySelector("[data-uid='"+e+"']"),n=this.curUL;t?t=t.parentElement:(this.createList(),this.renderIntoDom(this.ulElement),t=this.curUL);let i=FM(this.curDSJSON,this.listBaseOption.fields)[this.fields.text];this.switchView(n,t,!0),this.removeFocus();let s=this.element.querySelector("[data-uid='"+e+"']");s.classList.remove(jM.disable),s.classList.add(jM.focused),this.showCheckBox&&s.querySelector("."+jM.checkboxIcon).classList.contains(jM.checked)?s.setAttribute("aria-selected","true"):(s.classList.remove(jM.selected),s.setAttribute("aria-selected","false")),this.liCollection=this.curUL.querySelectorAll("."+jM.listItem),this.enableHtmlSanitizer&&this.setProperties({headerTitle:QA.sanitize(this.headerTitle)},!0),this.header(this.curDSLevel.length?i:this.headerTitle,!!this.curDSLevel.length)}selectItem(e){this.enableVirtualization?this.virtualizationModule.selectItem(e):this.showCheckBox?this.setCheckboxLI(this.getLiFromObjOrElement(e)):UO(e)?this.removeSelect():this.setSelectLI(this.getLiFromObjOrElement(e))}getLiFromObjOrElement(e){let t,n=this.dataSource instanceof vM?this.localData:this.dataSource;if(!UO(e))if("string"==typeof n[0]||"number"==typeof n[0])if(e instanceof Element){let n=e.getAttribute("data-uid").toString();for(let e=0;e<this.liCollection.length;e++)if(this.liCollection[e].getAttribute("data-uid").toString()===n){t=this.liCollection[e];break}}else Array.prototype.some.call(this.curUL.querySelectorAll("."+jM.listItem),n=>n.innerText.trim()===e.toString()&&(t=n,!0));else{let n=this.getItemData(e),i=FM(n,this.listBaseOption.fields);if(n&&(t=this.element.querySelector('[data-uid="'+i[this.fields.id]+'"]'),!this.enableVirtualization&&UO(t))){let e=this.element.querySelectorAll("."+jM.listItem);for(let n=0;n<e.length;n++)e[n].innerText.trim()===i[this.fields.text]&&(t=e[n])}}return t}selectMultipleItems(e){if(!UO(e))for(let t=0;t<e.length;t++)UO(e[t])||this.selectItem(e[t])}getParentId(){let e=[];if(this.isNestedList)for(let t=this.curDSLevel.length-1;t>=0;t--)e.push(this.curDSLevel[t]);return e}getSelectedItems(){let e,t=!1;this.selectedId=[];let n=this.dataSource instanceof vM?this.localData:this.dataSource;if(this.enableVirtualization&&!t)e=this.virtualizationModule.getSelectedItems(),t=!0;else if(this.showCheckBox&&!t){let i=this.curUL.getElementsByClassName(jM.selected),s=[],l=[];this.selectedId=[];let r=[];for(let e=0;e<i.length;e++)if("string"==typeof n[0]||"number"==typeof n[0])s.push(i[e].innerText.trim());else{let t=this.getItemData(i[e]),n=FM(t,this.listBaseOption.fields);this.isNestedList?r.push({data:t,parentId:this.getParentId()}):l.push(t),n?(s.push(n[this.listBaseOption.fields.text]),this.selectedId.push(n[this.listBaseOption.fields.id])):(s.push(void 0),this.selectedId.push(void 0))}"string"!=typeof n[0]&&"number"!=typeof n[0]||t||(e={item:i,data:n,text:s},t=!0),this.isNestedList&&!t?(e={item:i,data:r,text:s},t=!0):t||(e={item:i,data:l,text:s},t=!0)}else if(!t){let i=this.element.getElementsByClassName(jM.selected)[0],s=FM(this.getItemData(i),this.listBaseOption.fields);"string"!=typeof n[0]&&"number"!=typeof n[0]||t?t||(UO(s)||UO(i)?(e=void 0,t=!0):(this.selectedId.push(s[this.listBaseOption.fields.id]),e={text:s[this.listBaseOption.fields.text],item:i,data:this.getItemData(i)},t=!0)):(e=UO(i)?void 0:{item:i,data:n,text:i.innerText.trim()},t=!0)}return e}blazorGetSelectedItems(e){let t={data:[],index:[],parentId:[],text:[]};if(!UO(e)){if(!UO(e.data))if(this.showCheckBox&&this.isNestedList){for(let n=0;n<e.data.length;n++)t.data.push(e.data[n].data);UO(e.data[0])||UO(e.data[0].parentId)||(t.parentId=e.data[0].parentId)}else t.data=this.convertItemsToArray(e.data);UO(e.text)||(t.text=this.convertItemsToArray(e.text)),UO(e.index)||(t.index=this.convertItemsToArray(e.index))}return t}convertItemsToArray(e){return Array.isArray(e)?[...e]:[e]}findItem(e){return this.getItemData(e)}enableItem(e){this.setItemState(e,!0),this.enableVirtualization&&this.virtualizationModule.enableItem(e)}disableItem(e){this.setItemState(e,!1),this.enableVirtualization&&this.virtualizationModule.disableItem(e)}setItemState(e,t){let n=this.getItemData(e),i=FM(n,this.listBaseOption.fields);if(n){let e=this.element.querySelector('[data-uid="'+i[this.fields.id]+'"]');t?(e&&e.classList.remove(jM.disable),delete n[this.fields.enabled]):t||(e&&e.classList.add(jM.disable),n[this.fields.enabled]=!1)}}showItem(e){this.showHideItem(e,!1,""),this.enableVirtualization&&this.virtualizationModule.showItem(e)}hideItem(e){this.showHideItem(e,!0,"none"),this.enableVirtualization&&this.virtualizationModule.hideItem(e)}showHideItem(e,t,n){let i=this.getItemData(e),s=FM(i,this.listBaseOption.fields);if(i){let e=this.element.querySelector('[data-uid="'+s[this.fields.id]+'"]');e&&(e.style.display=n),t?i[this.fields.isVisible]=!1:delete i[this.fields.isVisible]}}addItem(e,t){this.addItemInternally(e,t,this.dataSource instanceof vM?this.localData:this.dataSource)}addItemInternally(e,t,n){if(e instanceof Array)if(this.enableVirtualization)this.virtualizationModule.addItem(e,t,n);else{const i=this.findItemFromDS(n,t);let s;if(i&&(s=FM(i,this.listBaseOption.fields)[this.fields.child],s||(s=[]),s=s.concat(e)),i instanceof Array){for(let t=0;t<e.length;t++){n.push(e[t]),this.setViewDataSource(n);const i=this.contentContainer?this.contentContainer.children[0]:null;this.contentContainer&&i?this.addItemIntoDom(e[t],i,this.curViewDS):this.reRender()}this.curUL&&this.updateBlazorTemplates(!0),this.liCollection=this.curUL.querySelectorAll("."+jM.listItem)}else i&&(i[this.fields.child]=s,this.addItemInNestedList(i,e))}}addItemInNestedList(e,t){const n=e[this.fields.id],i=e[this.fields.child],s=this.element.querySelector("[pid='"+n+"']"),l=this.element.querySelector("[data-uid='"+n+"']"),r=s||(l?GD(l,"ul"):null),a=s?i:[e];let o=!1;if(l&&!l.classList.contains(jM.hasChild)){const e=RM.createListItemFromJson(this.createElement,a,this.listBaseOption);this.setAttributes(e),r.insertBefore(e[0],l),qD(l),o=!0}if(s&&t){for(let e=0;e<t.length;e++)a.push(t[e]),this.addItemIntoDom(t[e],r,a);o=!0}o&&this.updateBlazorTemplates(!0)}addItemIntoDom(e,t,n){let i=n.indexOf(e);this.addListItem(e,i,t,n);let s=n[i-1];s&&s.isHeader&&1===s.items.length&&this.addListItem(s,i-1,t,n)}addListItem(e,t,n,i){let s=this.getLiFromObjOrElement(i[t+1])||this.getLiFromObjOrElement(i[t+2])||null,l=RM.createListItemFromJson(this.createElement,[e],this.listBaseOption);this.setAttributes(l),n.insertBefore(l[0],s)}removeItem(e){const t=this.dataSource instanceof vM?this.localData:this.dataSource;this.enableVirtualization?this.virtualizationModule.removeItem(e):(this.removeItemFromList(e,t),this.updateBlazorTemplates(!0))}removeItemFromList(e,t){const n=this.curViewDS;let i,s=e instanceof Element?this.getElementUID(e):e;if(i=this.findItemFromDS(t,s,!0),i){let l;l=this.findItemFromDS(i,s);let r,a=n.indexOf(l),o=this.getLiFromObjOrElement(e);this.validateNestedView(o),this.fields.groupBy&&this.curViewDS[a-1]&&n[a-1].isHeader&&1===n[a-1].items.length&&o&&o.previousElementSibling.classList.contains(jM.groupListItem)&&(UO(o.nextElementSibling)||o.nextElementSibling&&o.nextElementSibling.classList.contains(jM.groupListItem))&&(r=o.previousElementSibling),o&&qD(o),r&&qD(r);const h=i.length-1<=0?this.findParent(this.localData,this.fields.id,e=>e===l[this.fields.id],null):null;let c=i.indexOf(l);if(i.splice(c,1),this.setViewDataSource(t),h&&h.parent&&Array.isArray(h.parent[this.fields.child])&&h.parent[this.fields.child].length<=0){const e=this.getLiFromObjOrElement(h.parent);if(e){let t=RM.createListItemFromJson(this.createElement,[h.parent],this.listBaseOption);this.setAttributes(t),e.parentElement.insertBefore(t[0],e),e.parentElement.removeChild(e)}}i.length<=0&&this.back(),this.liCollection=Array.prototype.slice.call(this.element.querySelectorAll("."+jM.listItem))}}validateNestedView(e){const t=e?e.getAttribute("data-uid").toString().toLowerCase():null;if(t&&this.curDSLevel&&this.curDSLevel.length>0)for(;this.curDSLevel.some(e=>e.toString().toLowerCase()===t);)this.back()}removeMultipleItems(e){if(e.length){for(let t=0;t<e.length;t++)this.removeItem(e[t]);this.updateBlazorTemplates(!0)}}findParent(e,t,n,i){if(e.hasOwnProperty(t)&&!0===n(e[t]))return qO({},e);for(let s=0;s<Object.keys(e).length;s++)if(e[Object.keys(e)[s]]&&"object"==typeof e[Object.keys(e)[s]]){let l=this.findParent(e[Object.keys(e)[s]],t,n,e);if(null!=l)return l.parent||(l.parent=i),l}return null}getModuleName(){return"listview"}requiredModules(){let e=[];return this.enableVirtualization&&e.push({args:[this],member:"virtualization"}),e}getPersistData(){return this.addOnPersist(["cssClass","enableRtl","htmlAttributes","enable","fields","animation","headerTitle","sortOrder","showIcon","height","width","showCheckBox","checkBoxPosition"])}};return HM([dA("")],e.prototype,"cssClass",void 0),HM([dA(!1)],e.prototype,"enableVirtualization",void 0),HM([dA({})],e.prototype,"htmlAttributes",void 0),HM([dA(!0)],e.prototype,"enable",void 0),HM([dA([])],e.prototype,"dataSource",void 0),HM([dA()],e.prototype,"query",void 0),HM([uA(RM.defaultMappedFields,GM)],e.prototype,"fields",void 0),HM([dA({effect:"SlideLeft",duration:400,easing:"ease"})],e.prototype,"animation",void 0),HM([dA("None")],e.prototype,"sortOrder",void 0),HM([dA(!1)],e.prototype,"showIcon",void 0),HM([dA(!1)],e.prototype,"showCheckBox",void 0),HM([dA("Left")],e.prototype,"checkBoxPosition",void 0),HM([dA("")],e.prototype,"headerTitle",void 0),HM([dA(!1)],e.prototype,"showHeader",void 0),HM([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),HM([dA("")],e.prototype,"height",void 0),HM([dA("")],e.prototype,"width",void 0),HM([dA(null)],e.prototype,"template",void 0),HM([dA(null)],e.prototype,"headerTemplate",void 0),HM([dA(null)],e.prototype,"groupTemplate",void 0),HM([mA()],e.prototype,"select",void 0),HM([mA()],e.prototype,"actionBegin",void 0),HM([mA()],e.prototype,"actionComplete",void 0),HM([mA()],e.prototype,"actionFailure",void 0),e=HM([fA],e),e})(),KM=!1;function ZM(e,t){let n=!1,i={left:0,top:0},s=e;if(!e||!t)return i;for(UO(t.offsetParent)&&"fixed"===t.style.position&&(n=!0);(t.offsetParent||n)&&e&&t.offsetParent!==e;)i.left+=e.offsetLeft,i.top+=e.offsetTop,e=e.offsetParent;for(e=s;(t.offsetParent||n)&&e&&t.offsetParent!==e;)i.left-=e.scrollLeft,i.top-=e.scrollTop,e=e.parentElement;return i}function JM(e,t,n,i,s){return qM=n+t==="topright"?void 0:s,qM=s,KM=!!i,e?(t||(t="left"),n||(n="top"),WM=e.ownerDocument,UM=e,function(e,t,n){switch(zM=UM.getBoundingClientRect(),t+e){case"topcenter":QM(oT(),n),eT(lT(),n);break;case"topright":QM(aT(),n),eT(lT(),n);break;case"centercenter":QM(oT(),n),eT(sT(),n);break;case"centerright":QM(aT(),n),eT(sT(),n);break;case"centerleft":QM(rT(),n),eT(sT(),n);break;case"bottomcenter":QM(oT(),n),eT(iT(),n);break;case"bottomright":QM(aT(),n),eT(iT(),n);break;case"bottomleft":QM(rT(),n),eT(iT(),n);break;default:case"topleft":QM(rT(),n),eT(lT(),n)}return n}(t.toLowerCase(),n.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function QM(e,t){t.left=e}function eT(e,t){t.top=e}function tT(){return WM.documentElement.scrollTop||WM.body.scrollTop}function nT(){return WM.documentElement.scrollLeft||WM.body.scrollLeft}function iT(){return KM?zM.bottom:zM.bottom+tT()}function sT(){return lT()+zM.height/2}function lT(){return KM?zM.top:zM.top+tT()}function rT(){return zM.left+nT()}function aT(){return zM.right+nT()-(qM?qM.width:0)}function oT(){return rT()+zM.width/2}function hT(e,t=null,n={X:!1,Y:!1},i){if(!n.Y&&!n.X)return{left:0,top:0};let s=e.getBoundingClientRect();if($M=t,YM=e.ownerDocument,i||(i=JM(e,"left","top")),n.X){let e=$M?mT():kT(),t=yT(),n=wT(),l=t-i.left,r=i.left+s.width-n;s.width>e?i.left=l>0&&r<=0?n-s.width:r>0&&l<=0?t:l>r?n-s.width:t:l>0?i.left+=l:r>0&&(i.left-=r)}if(n.Y){let e=$M?fT():ST(),t=vT(),n=CT(),l=t-i.top,r=i.top+s.height-n;s.height>e?i.top=l>0&&r<=0?n-s.height:r>0&&l<=0?t:l>r?n-s.height:t:l>0?i.top+=l:r>0&&(i.top-=r)}return i}function cT(e,t=null,n,i){let s=JM(e,"left","top");n&&(s.left=n),i&&(s.top=i);let l=[];$M=t,YM=e.ownerDocument;let r=e.getBoundingClientRect(),a=s.left,o=s.left+r.width,h=pT(s.top,s.top+r.height),c=uT(a,o);return h.topSide&&l.push("top"),c.rightSide&&l.push("right"),c.leftSide&&l.push("left"),h.bottomSide&&l.push("bottom"),l}function dT(e,t,n){e.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},e.TR={top:e.TL.top,left:e.TL.left+n.width},e.BL={top:e.TL.top+n.height,left:e.TL.left},e.BR={top:e.TL.top+n.height,left:e.TL.left+n.width}}function uT(e,t){let n=!1,i=!1;return e-_T()<yT()&&(n=!0),t>wT()&&(i=!0),{leftSide:n,rightSide:i}}function pT(e,t){let n=!1,i=!1;return e-xT()<vT()&&(n=!0),t>CT()&&(i=!0),{topSide:n,bottomSide:i}}function mT(){return $M.getBoundingClientRect().width}function fT(){return $M.getBoundingClientRect().height}function gT(){return $M.getBoundingClientRect().left}function bT(){return $M.getBoundingClientRect().top}function vT(){return $M?bT():0}function yT(){return $M?gT():0}function wT(){return $M?_T()+gT()+mT():_T()+kT()}function CT(){return $M?xT()+bT()+fT():xT()+ST()}function xT(){return YM.documentElement.scrollTop||YM.body.scrollTop}function _T(){return YM.documentElement.scrollLeft||YM.body.scrollLeft}function ST(){return window.innerHeight}function kT(){let e=window.innerWidth;return e-(e-(UO(document.documentElement)?0:document.documentElement.offsetWidth))}var ET=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let OT=(()=>{class e extends OA{}return ET([dA("left")],e.prototype,"X",void 0),ET([dA("top")],e.prototype,"Y",void 0),e})(),IT=(()=>{let e=class extends TA{constructor(e,t){super(t,e)}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"width":XD(this.element,{width:KO(e.width)});break;case"height":XD(this.element,{height:KO(e.height)});break;case"zIndex":XD(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":let n=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+n).toString()+"px";break;case"offsetY":let i=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+i).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}getModuleName(){return"popup"}getPersistData(){return this.addOnPersist([])}destroy(){this.element.classList.remove("e-popup","e-rtl","e-popup-open","e-popup-close"),this.unwireEvents(),super.destroy()}render(){this.element.classList.add("e-popup");let e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=KO(this.width)),"auto"!==this.height&&(e.height=KO(this.height)),XD(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()}wireEvents(){jI.isDevice&&zI.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()}wireScrollEvents(){if(this.getRelateToElement())for(let e of this.getScrollableParent(this.getRelateToElement()))zI.add(e,"scroll",this.scrollRefresh,this)}unwireEvents(){jI.isDevice&&zI.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()}unwireScrollEvents(){if(this.getRelateToElement())for(let e of this.getScrollableParent(this.getRelateToElement()))zI.remove(e,"scroll",this.scrollRefresh)}getRelateToElement(){let e=""===this.relateTo||UO(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo}scrollRefresh(e){if("reposition"===this.actionOnScroll?this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){let t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}}isElementOnViewport(e,t){let n=this.getScrollableParent(e);for(let i=0;i<n.length;i++)if(!this.isElementVisible(e,n[i]))return!1;return!0}isElementVisible(e,t){let n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(UO(this.checkGetBoundingClientRect(t))){let t=window,i={top:t.pageYOffset,left:t.pageXOffset,right:t.pageXOffset+t.outerWidth,bottom:t.pageYOffset+t.outerHeight},s=JM(e),l={top:s.top,left:s.left,right:s.left+n.width,bottom:s.top+n.height},r={top:i.bottom-l.top,left:i.right-l.left,bottom:l.bottom-i.top,right:l.right-i.left};return r.top>0&&r.left>0&&r.right>0&&r.bottom>0}{let e=t.getBoundingClientRect();return!(n.bottom<e.top||n.bottom>e.bottom||n.right>e.right||n.left<e.left)}}preRender(){}setEnableRtl(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}setContent(){UO(this.content)||(this.element.innerHTML="","string"==typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))}orientationOnChange(){setTimeout(()=>{this.refreshPosition()},200)}refreshPosition(e,t){UO(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()}reposition(){let e,t,n=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){let i,s=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(i=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),e="string"==typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=s,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=i)}else if(n){let t=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=t}else e={left:0,top:0};UO(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")}checkGetBoundingClientRect(e){let t;try{return t=e.getBoundingClientRect(),t}catch(n){return null}}getAnchorPosition(e,t,n,i,s){let l=this.checkGetBoundingClientRect(t),r=this.checkGetBoundingClientRect(e);if(UO(l)||UO(r))return null;let a=e,o={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?o=JM(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==a.tagName&&(t=t.parentElement),o=ZM(a,t)),n.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?o.left+=window.innerWidth/2-l.width/2:o.left+="container"===this.targetType?r.width/2-l.width/2:r.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?o.left+=window.innerWidth-l.width:o.left+="container"===this.targetType?r.width-l.width:r.width}switch(n.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?o.top+=window.innerHeight/2-l.height/2:o.top+="container"===this.targetType?r.height/2-l.height/2:r.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?o.top+=window.innerHeight-l.height:o.top+="container"===this.targetType?r.height-l.height:r.height}return o.left+=i,o.top+=s,o}callFlip(e){let t=this.getRelateToElement();!function(e,t,n,i,s,l,r=null,a={X:!0,Y:!0},o){if(!(t&&e&&s&&l&&(a.X||a.Y)))return;let h={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null},d=e.getBoundingClientRect(),u={posX:s,posY:l,offsetX:n,offsetY:i,position:{left:0,top:0}};$M=r,YM=t.ownerDocument,function(e,t,n,i,s){n.position=JM(e,n.posX,n.posY,i,s),t.TL=JM(e,"left","top",i,s),t.TR=JM(e,"right","top",i,s),t.BR=JM(e,"left","bottom",i,s),t.BL=JM(e,"right","bottom",i,s)}(t,h,u,o,d),dT(c,u,d),a.X&&function e(t,n,i,s,l,r){let a=uT(n.TL.left,n.TR.left);i.TL.left-_T()<=yT()&&(a.leftSide=!1),i.TR.left>=wT()&&(a.rightSide=!1),(a.leftSide&&!a.rightSide||!a.leftSide&&a.rightSide)&&(s.posX="right"===s.posX?"left":"right",s.offsetX=s.offsetX+l.width,s.offsetX=-1*s.offsetX,s.position=JM(t,s.posX,s.posY,!1),dT(n,s,l),r&&e(t,n,i,s,l,!1))}(t,c,h,u,d,!0),a.Y&&h.TL.top>-1&&function e(t,n,i,s,l,r){let a=pT(n.TL.top,n.BL.top);i.TL.top-xT()<=vT()&&(a.topSide=!1),i.BL.top>=CT()&&(a.bottomSide=!1),(a.topSide&&!a.bottomSide||!a.topSide&&a.bottomSide)&&(s.posY="top"===s.posY?"bottom":"top",s.offsetY=s.offsetY+l.height,s.offsetY=-1*s.offsetY,s.position=JM(t,s.posX,s.posY,!1,l),dT(n,s,l),r&&e(t,n,i,s,l,!1))}(t,c,h,u,d,!0),function(e,t,n){let i=0,s=0;if(null!=e.offsetParent&&("absolute"===getComputedStyle(e.offsetParent).position||"relative"===getComputedStyle(e.offsetParent).position)){let t=JM(e.offsetParent,"left","top",!1,n);i=t.left,s=t.top}e.style.top=t.position.top+t.offsetY-s+"px",e.style.left=t.position.left+t.offsetX-i+"px"}(e,u,d)}(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)}callFit(e){if(0!==cT(this.element,this.viewPortElement).length)if(UO(this.viewPortElement)){let t=hT(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{let t=this.checkGetBoundingClientRect(this.element),n=this.checkGetBoundingClientRect(this.viewPortElement);if(UO(t)||UO(n))return null;e&&!0===e.Y&&(n.top>t.top?this.element.style.top="0px":n.bottom<t.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(t.bottom-n.bottom)+"px")),e&&!0===e.X&&(n.right<t.right?this.element.style.left=parseInt(this.element.style.left,10)-(t.right-n.right)+"px":n.left>t.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(n.left-t.left)+"px"))}}checkCollision(){let e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))}show(e,t){if(this.wireEvents(),1e3===this.zIndex||!UO(t)){let e=UO(t)?this.element:t;this.zIndex=AT(e),XD(this.element,{zIndex:this.zIndex})}e=UO(e)||"object"!=typeof e?this.showAnimation:e,"none"===this.collision.X&&"none"===this.collision.Y||(FD([this.element],"e-popup-close"),RD([this.element],"e-popup-open"),this.checkCollision(),FD([this.element],"e-popup-open"),RD([this.element],"e-popup-close")),UO(e)?(FD([this.element],"e-popup-close"),RD([this.element],"e-popup-open"),this.trigger("open")):(e.begin=()=>{this.isDestroyed||(FD([this.element],"e-popup-close"),RD([this.element],"e-popup-open"))},e.end=()=>{this.isDestroyed||this.trigger("open")},new yA(e).animate(this.element))}hide(e){e=UO(e)||"object"!=typeof e?this.hideAnimation:e,UO(e)?(FD([this.element],"e-popup-open"),RD([this.element],"e-popup-close"),this.trigger("close")):(e.end=()=>{this.isDestroyed||(FD([this.element],"e-popup-open"),RD([this.element],"e-popup-close"),this.trigger("close"))},new yA(e).animate(this.element)),this.unwireEvents()}getScrollableParent(e){return this.checkFixedParent(e),DT(e,this.fixedParent)}checkFixedParent(e){let t=e.parentElement;for(;t&&"HTML"!==t.tagName;){let e=getComputedStyle(t);"fixed"===e.position&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,UO(this.element.offsetParent)&&"fixed"===e.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}}};return ET([dA("auto")],e.prototype,"height",void 0),ET([dA("auto")],e.prototype,"width",void 0),ET([dA(null)],e.prototype,"content",void 0),ET([dA("container")],e.prototype,"targetType",void 0),ET([dA(null)],e.prototype,"viewPortElement",void 0),ET([dA({X:"none",Y:"none"})],e.prototype,"collision",void 0),ET([dA("")],e.prototype,"relateTo",void 0),ET([uA({},OT)],e.prototype,"position",void 0),ET([dA(0)],e.prototype,"offsetX",void 0),ET([dA(0)],e.prototype,"offsetY",void 0),ET([dA(1e3)],e.prototype,"zIndex",void 0),ET([dA(!1)],e.prototype,"enableRtl",void 0),ET([dA("reposition")],e.prototype,"actionOnScroll",void 0),ET([dA(null)],e.prototype,"showAnimation",void 0),ET([dA(null)],e.prototype,"hideAnimation",void 0),ET([mA()],e.prototype,"open",void 0),ET([mA()],e.prototype,"close",void 0),ET([mA()],e.prototype,"targetExitViewport",void 0),e=ET([fA],e),e})();function DT(e,t){let n=getComputedStyle(e),i=[],s=/(auto|scroll)/,l=e.parentElement;for(;l&&"HTML"!==l.tagName;){let e=getComputedStyle(l);"absolute"===n.position&&"static"===e.position||!s.test(e.overflow+e.overflowY+e.overflowX)||i.push(l),l=l.parentElement}return t||i.push(document),i}function AT(e){let t=e.parentElement,n=[];for(;t&&"BODY"!==t.tagName;){let e=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),i=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==e&&"static"!==i&&n.push(e),t=t.parentElement}let i=[];for(let a=0;a<document.body.children.length;a++)if(!e.isEqualNode(document.body.children[a])){let e=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("z-index"),t=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("position");"auto"!==e&&"static"!==t&&i.push(e)}i.push("999");let s=[];if(!UO(e.parentElement)&&"BODY"!==e.parentElement.tagName){let t=[].slice.call(e.parentElement.children);for(let e=0;e<t.length;e++){let n=document.defaultView.getComputedStyle(t[e],null).getPropertyValue("z-index"),i=document.defaultView.getComputedStyle(t[e],null).getPropertyValue("position");"auto"!==n&&"static"!==i&&s.push(n)}}let l=n.concat(i,s),r=Math.max.apply(Math,l)+1;return r>2147483647?2147483647:r}let MT,TT,PT,LT,NT,RT,FT,HT,BT,VT=["north-west","north","north-east","west","east","south-west","south","south-east"],jT=0,zT=0,qT=0,UT=0,WT=0,YT=0,$T=["e-restrict-left"],GT=null,XT=null,KT=null,ZT=!0,JT=0,QT=!0;function eP(e){let t;return UO(e)||(t="string"==typeof e?document.querySelector(e):e),t}function tP(e){UO(e)&&(e=this);let t=MT.querySelectorAll(".e-resize-handle");for(let n=0;n<t.length;n++)TT=t[n],zI.add(TT,"mousedown",iP,e),zI.add(TT,"msie"===jI.info.name?"pointerdown":"touchstart",rP,e)}function nP(e){return e.indexOf("mouse")>-1?"mouse":"touch"}function iP(e){if(e.preventDefault(),MT=e.target.parentElement,lP(),WT=e.pageX,YT=e.pageY,e.target.classList.add("e-focused-handle"),!UO(GT)&&(BT=this,!0===GT(e,BT)))return;let t=UO(FT)?document:FT;zI.add(t,"mousemove",aP,this),zI.add(document,"mouseup",sP,this);for(let n=0;n<$T.length;n++)ZT=!MT.classList.contains($T[n])}function sP(e){let t="msie"===jI.info.name?"pointermove":"touchmove",n="msie"===jI.info.name?"pointerup":"touchend",i=UO(FT)?document:FT;zI.remove(i,"mousemove",aP),zI.remove(i,t,aP),zI.remove(i,"msie"===jI.info.name?"pointerdown":"touchstart",aP),UO(document.body.querySelector(".e-focused-handle"))||document.body.querySelector(".e-focused-handle").classList.remove("e-focused-handle"),UO(KT)||(BT=this,KT(e,BT)),zI.remove(document,"mouseup",sP),zI.remove(document,n,sP)}function lP(){jT=parseFloat(getComputedStyle(MT,null).getPropertyValue("width").replace("px","")),zT=parseFloat(getComputedStyle(MT,null).getPropertyValue("height").replace("px","")),qT=MT.getBoundingClientRect().left,UT=MT.getBoundingClientRect().top}function rP(e){MT=e.target.parentElement,lP();let t=e.touches?e.changedTouches[0]:e;if(WT=t.pageX,YT=t.pageY,!UO(GT)&&(BT=this,!0===GT(e,BT)))return;let n="msie"===jI.info.name?"pointermove":"touchmove",i="msie"===jI.info.name?"pointerup":"touchend",s=UO(FT)?document:FT;zI.add(s,n,aP,this),zI.add(document,i,sP)}function aP(e){if(e.target.classList.contains("e-resize-handle")&&e.target.classList.contains("e-focused-handle")?TT=e.target:UO(document.body.querySelector(".e-focused-handle"))||(TT=document.body.querySelector(".e-focused-handle")),!UO(TT)){let t="";for(let e=0;e<VT.length;e++)TT.classList.contains("e-"+VT[e])&&(t=VT[e]);switch(UO(XT)||(BT=this,XT(e,BT)),t){case"south":hP(e);break;case"north":cP(e);break;case"west":dP(e);break;case"east":uP(e);break;case"south-east":hP(e),uP(e);break;case"south-west":hP(e),dP(e);break;case"north-east":cP(e),uP(e);break;case"north-west":cP(e),dP(e)}}}function oP(e){return e.getBoundingClientRect()}function hP(e){let t,n=document.documentElement.clientHeight,i=!1,s=(e.touches?e.changedTouches[0]:e).pageY,l=oP(MT);UO(FT)||(t=oP(FT)),UO(FT)?UO(FT)&&(n-s>=0||l.top<0)&&(i=!0):i=!0;let r=zT+(s-YT);r=r>PT?r:PT;let a=0;UO(FT)||(a=t.top);let o=UO(FT)?0:FT.offsetHeight-FT.clientHeight,h=l.top-a-o/2;if(h=h<0?0:h,l.top>0&&h+r>LT){if(i=!1,MT.classList.contains("e-resize-viewport"))return;return void(MT.style.height=LT-parseInt(h.toString(),10)+"px")}let c=0;if(i){l.top<0&&n+(l.height+l.top)>0&&(c=l.top,r+c<=30&&(r=l.height-(l.height+l.top)+30)),r+l.top>=LT&&(MT.style.height=l.height+(n-(l.height+l.top))+"px");let e=UO(FT)?c:h;r>=PT&&r+e<=LT&&(MT.style.height=r+"px")}}function cP(e){let t,n=!1,i="mouse"===nP(e.type)?e.pageY:e.touches[0].pageY,s=oP(MT);UO(FT)||(t=oP(FT)),!UO(FT)&&s.top-t.top>0?n=!0:UO(FT)&&i>0&&(n=!0);let l=zT-(i-YT);if(oP(MT).bottom+l>LT&&(n=!1,MT.style.height=LT-oP(MT).bottom+"px"),n&&l>=PT&&l<=LT){let e=0;UO(FT)||(e=t.top);let n=UT-e+(i-YT);n=n>0?n:1,MT.style.height=l+"px",MT.style.top=n+"px"}}function dP(e){let t,n=document.documentElement.clientWidth,i=!1;UO(FT)||(t=oP(FT));let s="mouse"===nP(e.type)?e.pageX:e.touches[0].pageX,l=oP(MT),r=UO(FT)?0:FT.offsetWidth-FT.clientWidth,a=UO(FT)?0:t.left,o=UO(FT)?0:t.width;UO(HT)&&(UO(FT)?HT=n:(HT=l.left-a-r/2+l.width,HT+=o-r-HT)),!UO(FT)&&l.left-t.left+l.width+(t.right-l.right)-r<=RT?i=!0:UO(FT)&&s>=0&&(i=!0);let h=jT-(s-WT);if(ZT&&(h=h>HT?HT:h),i&&h>=NT&&h<=RT){let e=0;UO(FT)||(e=t.left);let n=qT-e+(s-WT);n=n>0?n:1,h!==JT&&QT&&(MT.style.width=h+"px"),ZT&&(MT.style.left=n+"px",QT=1!==n)}JT=h}function uP(e){let t,n=document.documentElement.clientWidth,i=!1;UO(FT)||(t=oP(FT));let s=(e.touches?e.changedTouches[0]:e).pageX,l=oP(MT);!UO(FT)&&(l.left-t.left+l.width<RT||l.right-t.left>l.width)?i=!0:UO(FT)&&n-s>0&&(i=!0);let r=jT+(s-WT),a=0;if(UO(FT)||(a=t.left),l.left-a+r>RT){if(i=!1,MT.classList.contains("e-resize-viewport"))return;MT.style.width=RT-(l.left-a)+"px"}i&&r>=NT&&r<=RT&&(MT.style.width=r+"px")}function pP(){let e=MT.querySelectorAll(".e-resize-handle");for(let t=0;t<e.length;t++)qD(e[t])}var mP=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let fP=(()=>{class e extends OA{}return mP([dA()],e.prototype,"buttonModel",void 0),mP([dA("Button")],e.prototype,"type",void 0),mP([mA()],e.prototype,"click",void 0),e})(),gP=(()=>{class e extends OA{}return mP([dA("Fade")],e.prototype,"effect",void 0),mP([dA(400)],e.prototype,"duration",void 0),mP([dA(0)],e.prototype,"delay",void 0),e})();const bP="e-dialog",vP="e-dlg-target",yP="e-scroll-disabled",wP="e-dlg-fullscreen";let CP=(()=>{let e=class extends TA{constructor(e,t){super(e,t)}render(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=this.minHeight.toString()),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()}preRender(){if(this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=e=>{this.hide(e)},this.dlgOverlayClickEventHandler=e=>{this.trigger("overlayClick",e),this.focusContent()},this.l10n=new WA("dialog",{close:"Close"},this.locale),this.checkPositionData(),UO(this.target)){let e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=e}}isNumberValue(e){return/^[-+]?\d*\.?\d+$/.test(e)}checkPositionData(){if(!UO(this.position)){if(!UO(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){let e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=e}if(!UO(this.position.Y)&&"number"!=typeof this.position.Y&&this.isNumberValue(this.position.Y)){let e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=e}}}getEle(e,t){let n=void 0;for(let i=0;i<e.length;i++)if(e[i].classList.contains(t)){n=e[i];break}return n}getMinHeight(){let e="0px",t="0px";UO(this.element.querySelector(".e-dlg-header-content"))||(e=getComputedStyle(this.headerContent).height);let n=this.getEle(this.element.children,"e-footer-content");UO(n)||(t=getComputedStyle(n).height);let i=parseInt(e.slice(0,e.indexOf("p")),10),s=parseInt(t.slice(0,t.indexOf("p")),10);return PT=i+30+s,i+30+s}onResizeStart(e,t){return t.trigger("resizeStart",e),e.cancel}onResizing(e,t){t.trigger("resizing",e)}onResizeComplete(e,t){t.trigger("resizeStop",e)}setResize(){if(this.enableResize){if(this.isBlazorServerRender()&&!UO(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add("e-dlg-resizable");let e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth,n=this.enableRtl?"south-west":"south-east";this.isModal&&this.enableRtl?this.element.classList.add("e-restrict-left"):this.isModal&&this.target===document.body&&this.element.classList.add("e-resize-viewport"),function(e){GT=e.resizeBegin,XT=e.resizing,KT=e.resizeComplete,MT=eP(e.element),FT=eP(e.boundary);let t=e.direction.split(" ");for(let n=0;n<t.length;n++){let e=ND("div",{className:"e-icons e-resize-handle e-"+t[n]});MT.appendChild(e)}PT=e.minHeight,NT=e.minWidth,RT=e.maxWidth,LT=e.maxHeight,e.proxy&&e.proxy.element&&e.proxy.element.classList.contains("e-dialog")?tP(e.proxy):tP()}({element:this.element,direction:n,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this})}else pP(),this.element.classList.remove(this.isModal?"e-restrict-left":"e-resize-viewport"),this.element.classList.remove("e-dlg-resizable")}keyDown(e){if(9===e.keyCode&&this.isModal){let t;if(UO(this.btnObj)||(t=this.btnObj[this.btnObj.length-1]),UO(this.btnObj)&&!UO(this.ftrTemplateContent)){let e=this.ftrTemplateContent.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');t={element:e[e.length-1]}}UO(t)||document.activeElement!==t.element||e.shiftKey||(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),UO(t)||t.element.focus())}let t=document.activeElement,n=["input","textarea"].indexOf(t.tagName.toLowerCase())>-1,i=!1;if(n||(i=t.hasAttribute("contenteditable")&&"true"===t.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape&&this.hide(e),13===e.keyCode&&!e.ctrlKey&&"textarea"!==t.tagName.toLowerCase()&&n&&!UO(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===t.tagName.toLowerCase()||i)&&!UO(this.primaryButtonEle)){let t;this.buttons.some((e,n)=>{t=n;let i=e.buttonModel;return!UO(i)&&!0===i.isPrimary})&&"function"==typeof this.buttons[t].click&&setTimeout(()=>{this.buttons[t].click.call(this,e)})}}initialize(){UO(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||RD([this.element],bP),jI.isDevice&&RD([this.element],"e-device"),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()}initRender(){if(this.initialRender=!0,this.isBlazorServerRender()||WD(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&UO(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&UO(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""===this.header||UO(this.header)||this.setHeader(),this.showCloseIcon&&this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||UO(this.footerTemplate)?UO(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&(UO(this.buttons[0].buttonModel)||""!==this.footerTemplate||this.setButton()),this.allowDragging&&!UO(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(WD(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&UO(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(let e=0,t=this.dlgContainer.children;e<t.length;e++)t[e].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=t[e])}if(!0!==this.element.classList.contains("e-alert-dialog")&&!0!==this.element.classList.contains("e-confirm-dialog")&&!UO(this.element.parentElement)){let e=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),e.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}UO(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new IT(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:e=>{let t={container:this.isModal?this.dlgContainer:this.element,element:this.element,target:this.target,preventFocus:!1};this.enableResize&&this.resetResizeIcon(),this.trigger("open",t,e=>{e.preventFocus||this.focusContent()})},close:e=>{this.isModal&&RD([this.dlgOverlay],"e-fade"),this.unBindEvent(this.element),this.isModal&&(this.dlgContainer.style.display="none"),this.trigger("close",this.closeArgs);let t=document.activeElement;UO(t)||UO(t.blur)||t.blur(),UO(this.storeActiveElement)||UO(this.storeActiveElement.focus)||this.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(RD([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1}resetResizeIcon(){let e=this.getMinHeight();if(this.targetEle.offsetHeight<e){let t=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));UO(t)||(t.style.bottom="-"+e.toString()+"px")}}setOverlayZindex(e){let t;t=UO(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()}positionChange(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()}setPopupPosition(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})}setAllowDragging(){this.dragObj=new HA(this.element,{clone:!1,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:e=>{this.trigger("dragStart",e,e=>{})},dragStop:e=>{this.isModal&&(UO(this.position)||this.dlgContainer.classList.remove("e-dlg-"+this.position.X+"-"+this.position.Y),this.element.style.position="relative"),this.trigger("dragStop",e),this.element.classList.remove("e-restrict-left")},drag:e=>{this.trigger("drag",e)}}),UO(this.targetEle)||(this.dragObj.dragArea=this.targetEle)}setButton(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(let e=0;e<this.buttons.length;e++){let t=UO(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),n=this.createElement("button",{attrs:{type:t}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}let e;for(let t=0,n=this.element.children;t<n.length;t++)n[t].classList.contains("e-footer-content")&&(e=n[t].querySelectorAll("button"));for(let t=0;t<this.buttons.length;t++)this.isBlazorServerRender()||(this.btnObj[t]=new EM(this.buttons[t].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector(".e-footer-content")),!UO(this.ftrTemplateContent)&&"function"==typeof this.buttons[t].click&&e.length>0&&zI.add(e[t],"click",this.buttons[t].click,this),this.isBlazorServerRender()||UO(this.ftrTemplateContent)||(this.btnObj[t].appendTo(this.ftrTemplateContent.children[t]),this.btnObj[t].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])}setContent(){WD(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(UO(this.content)||""===this.content)&&this.initialRender||("string"!=typeof this.content?this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle):this.contentEle.innerHTML=this.sanitizeHelper(this.content)),UO(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(this.isBlazorServerRender()||!jI.isIE||""!==this.element.style.width||UO(this.width)||(this.element.style.width=KO(this.width)),this.setMaxHeight())}setTemplate(e,t){let n,i,s;i=t.classList.contains("e-dlg-header")?this.element.id+"header":t.classList.contains("e-footer-content")?this.element.id+"footerTemplate":this.element.id+"content",UO(e.outerHTML)?"string"!=typeof e?(n=fD(e),s=e):t.innerHTML=this.sanitizeHelper(e):t.appendChild(e);let l=[];if(!UO(n)){let e=!0;for(let t of n({},null,null,i,e))l.push(t);jD([].slice.call(l),t)}}sanitizeHelper(e){if(this.enableHtmlSanitizer){let t=QA.beforeSanitize();qO(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!UO(t.helper)?e=t.helper(e):t.cancel||(e=QA.serializeValue(t,e))}return e}setMaxHeight(){if(!this.allowMaxHeight)return;let e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!UO(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,jI.isIE&&"auto"===this.height&&!UO(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}setEnableRTL(){this.isBlazorServerRender()||(this.enableRtl?RD([this.element],"e-rtl"):FD([this.element],"e-rtl")),UO(this.element.querySelector(".e-resize-handle"))||(pP(),this.setResize())}setTargetContent(){if(UO(this.content)||""===this.content){let e=""!==this.element.innerHTML.replace(/\s|<(\/?|\!?)(!--!--)>/g,"");(this.element.children.length>0||e)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(e=>{8!==e.nodeType&&this.innerContentElement.appendChild(e)}))}}setHeader(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:"e-dlg-header"}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle),WD(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0])}setFooterTemplate(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:"e-footer-content"}),""===this.footerTemplate||UO(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent),this.element.appendChild(this.ftrTemplateContent)}createHeaderContent(){UO(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:"e-dlg-header-content"}))}renderCloseIcon(){this.closeIcon=this.createElement("button",{className:"e-dlg-closeicon-btn",attrs:{type:"button"}}),this.closeIconBtnObj=new EM({cssClass:"e-flat",iconCss:"e-icon-dlg-close e-icons"}),this.closeIconTitle(),UO(this.headerContent)?(this.createHeaderContent(),VD([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):VD([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon)}closeIconTitle(){this.l10n.setLocale(this.locale);let e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)}setCSSClass(e){this.cssClass&&RD([this.element],this.cssClass.split(" ")),e&&FD([this.element],e.split(" "))}setIsModal(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove("e-popup-open"),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),RD([this.element],"e-dlg-modal"),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)}getValidFocusNode(e){let t;for(let n=0;n<e.length;n++)if(t=e[n],(t.clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;return t}focusableElements(e){if(!UO(e)){let t=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(t)}return null}getAutoFocusNode(e){let t=e.querySelector(".e-dlg-closeicon-btn"),n=e.querySelectorAll("[autofocus]"),i=this.getValidFocusNode(n);if(UO(i)){if(i=this.focusableElements(this.contentEle),!UO(i))return i;if(!UO(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=i;return t}disableElement(e,t){let n=e?e.matches||e.webkitMatchesSelector||e.msMatchesSelector:null;if(n)for(;e;e=e.parentNode)if(e instanceof Element&&n.call(e,t))return e;return null}focusContent(){let e=this.getAutoFocusNode(this.element);(UO(e)?this.element:e).focus(),this.bindEvent(this.element)}bindEvent(e){zI.add(e,"keydown",this.keyDown,this)}unBindEvent(e){zI.remove(e,"keydown",this.keyDown)}updateSanitizeContent(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))}isBlazorServerRender(){return!1}getModuleName(){return"dialog"}onPropertyChanged(e,t){if(this.element.classList.contains(bP))for(let n of Object.keys(e))switch(n){case"content":UO(this.content)||""===this.content?UO(this.contentEle)||(qD(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),UO(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?this.isBlazorServerRender()&&!UO(this.element.querySelector(".e-dlg-content"))||this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||UO(this.header)?this.headerEle&&(qD(this.headerEle),this.headerEle=null):this.isBlazorServerRender()&&!UO(this.element.querySelector(".e-dlg-header-content"))||this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||UO(this.footerTemplate)){if(!this.ftrTemplateContent)return;qD(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.isBlazorServerRender()&&!UO(this.element.querySelector(".e-footer-content"))||this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName("e-icon-dlg-close").length>0?this.showCloseIcon||""!==this.header&&!UO(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():qD(this.closeIcon):(qD(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":XD(this.element,{height:KO(e.height)});break;case"width":XD(this.element,{width:KO(e.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":let n=this.buttons.length;UO(this.ftrTemplateContent)||this.isBlazorServerRender()||(qD(this.ftrTemplateContent),this.ftrTemplateContent=null);for(let e=0;e<n;e++)UO(this.buttons[e].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!UO(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){let e=UO(t.position.X)?this.position.X:t.position.X,n=UO(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+e+"-"+n)&&this.dlgContainer.classList.remove("e-dlg-"+e+"-"+n)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}}setTarget(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()}updateIsModal(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",UO(this.targetEle)||this.targetEle.appendChild(this.dlgContainer);else{for(FD([this.element],"e-dlg-modal"),FD([document.body],[vP,yP]),qD(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&zI.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}setzIndex(e,t){let n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=AT(e),this.isProtectedOnChange=n,t&&(this.popupObj.zIndex=this.zIndex)}getPersistData(){return this.addOnPersist([])}destroy(){if(this.isDestroyed)return;let e=["e-rtl","e-dlg-modal","e-dlg-resizable","e-restrict-left",wP,"e-device"],t=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(FD([this.targetEle],[vP,yP]),this.element.classList.contains(wP)&&FD([document.body],[vP,yP]),this.isModal&&FD([UO(this.targetEle)?document.body:this.targetEle],yP),this.unWireEvents(),!UO(this.btnObj))for(let n=0;n<this.btnObj.length;n++)this.btnObj[n].destroy();if(UO(this.dragObj)||this.dragObj.destroy(),this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),FD([this.element],e),UO(this.cssClass)||""===this.cssClass||FD([this.element],this.cssClass.split(" ")),UO(this.refElement)||UO(this.refElement.parentElement)||(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),qD(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(qD(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),qD(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!UO(this.element.children))for(let n=0;n<=this.element.children.length;n++)n-=n,qD(this.element.children[n]);for(let n=0;n<t.length;n++)this.element.removeAttribute(t[n]);this.isBlazorServerRender()?this.isDestroyed=!0:super.destroy()}wireEvents(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&zI.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&zI.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}unWireEvents(){if(this.showCloseIcon&&zI.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&zI.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!UO(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(let e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&zI.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)}refreshPosition(){this.popupObj.refreshPosition()}show(e){if(this.element.classList.contains(bP)&&(!this.element.classList.contains("e-popup-open")||!UO(e))){UO(e)||this.fullScreen(e);let t={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",t,e=>{if(!e.cancel){this.element.style.maxHeight!==t.maxHeight&&(this.allowMaxHeight=!1,this.element.style.maxHeight=t.maxHeight),this.storeActiveElement=document.activeElement,this.element.tabIndex=-1,this.isModal&&!UO(this.dlgOverlay)&&(this.dlgOverlay.style.display="block",this.dlgContainer.style.display="flex",FD([this.dlgOverlay],"e-fade"),UO(this.targetEle)?RD([document.body],[vP,yP]):(this.dlgContainer.style.position=this.targetEle===document.body?"fixed":"absolute",this.dlgOverlay.style.position="absolute",this.element.style.position="relative",RD([this.targetEle],[vP,yP])));let e={name:this.animationSettings.effect+"In",duration:this.animationSettings.duration,delay:this.animationSettings.delay},n=this.isModal?this.element.parentElement:this.element;this.calculatezIndex&&(this.setzIndex(n,!0),XD(this.element,{zIndex:this.zIndex}),this.isModal&&this.setOverlayZindex(this.zIndex)),"None"===this.animationSettings.effect?this.popupObj.show():this.popupObj.show(e),this.dialogOpen=!0;let i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!0,this.preventVisibility=!0,this.isProtectedOnChange=i}})}}hide(e){if(this.element.classList.contains(bP)&&this.preventVisibility){let t={cancel:!1,isInteraction:!!e,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e};this.closeArgs=t,this.trigger("beforeClose",t,e=>{if(!e.cancel){this.isModal&&(UO(this.targetEle)?FD([document.body],[vP,yP]):FD([this.targetEle],[vP,yP]));let e={name:this.animationSettings.effect+"Out",duration:this.animationSettings.duration,delay:this.animationSettings.delay};"None"===this.animationSettings.effect?this.popupObj.hide():this.popupObj.hide(e),this.dialogOpen=!1;let t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!1,this.preventVisibility=!1,this.isProtectedOnChange=t}})}}fullScreen(e){if(e){RD([this.element],wP);let e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=UO(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=e,RD([document.body],[vP,yP]),this.allowDragging&&!UO(this.dragObj)&&this.dragObj.destroy()}else FD([this.element],wP),FD([document.body],[vP,yP]),this.allowDragging&&!UO(this.headerContent)&&this.setAllowDragging();return e}getButtons(e){return UO(e)?this.btnObj:this.btnObj[e]}};return mP([dA("")],e.prototype,"content",void 0),mP([dA(!0)],e.prototype,"enableHtmlSanitizer",void 0),mP([dA(!1)],e.prototype,"showCloseIcon",void 0),mP([dA(!1)],e.prototype,"isModal",void 0),mP([dA("")],e.prototype,"header",void 0),mP([dA(!0)],e.prototype,"visible",void 0),mP([dA(!1)],e.prototype,"enableResize",void 0),mP([dA("auto")],e.prototype,"height",void 0),mP([dA("")],e.prototype,"minHeight",void 0),mP([dA("100%")],e.prototype,"width",void 0),mP([dA("")],e.prototype,"cssClass",void 0),mP([dA(1e3)],e.prototype,"zIndex",void 0),mP([dA(null)],e.prototype,"target",void 0),mP([dA("")],e.prototype,"footerTemplate",void 0),mP([dA(!1)],e.prototype,"allowDragging",void 0),mP([pA([{}],fP)],e.prototype,"buttons",void 0),mP([dA(!0)],e.prototype,"closeOnEscape",void 0),mP([uA({},gP)],e.prototype,"animationSettings",void 0),mP([uA({X:"center",Y:"center"},OT)],e.prototype,"position",void 0),mP([mA()],e.prototype,"created",void 0),mP([mA()],e.prototype,"open",void 0),mP([mA()],e.prototype,"beforeSanitizeHtml",void 0),mP([mA()],e.prototype,"beforeOpen",void 0),mP([mA()],e.prototype,"close",void 0),mP([mA()],e.prototype,"beforeClose",void 0),mP([mA()],e.prototype,"dragStart",void 0),mP([mA()],e.prototype,"dragStop",void 0),mP([mA()],e.prototype,"drag",void 0),mP([mA()],e.prototype,"overlayClick",void 0),mP([mA()],e.prototype,"resizeStart",void 0),mP([mA()],e.prototype,"resizing",void 0),mP([mA()],e.prototype,"resizeStop",void 0),mP([mA()],e.prototype,"destroyed",void 0),e=mP([fA],e),e})();var xP;!function(e){function t(e,t){let n=new CP(e);return n.appendTo(t),n}function n(e,t){return e.header=UO(t.title)?"Information":t.title,e.content=UO(t.content)?"":t.content,e.isModal=!!UO(t.isModal)||t.isModal,e.showCloseIcon=!UO(t.showCloseIcon)&&t.showCloseIcon,e.allowDragging=!UO(t.isDraggable)&&t.isDraggable,e.closeOnEscape=!UO(t.closeOnEscape)&&t.closeOnEscape,e.position=UO(t.position)?{X:"center",Y:"top"}:t.position,e.animationSettings=UO(t.animationSettings)?{effect:"Fade",duration:400,delay:0}:t.animationSettings,e.cssClass=UO(t.cssClass)?"":t.cssClass,e.zIndex=UO(t.zIndex)?1e3:t.zIndex,e.open=UO(t.open)?null:t.open,e}function i(e,t,n){let i=n;return UO(t.text)||(i.buttonModel.content=t.text),UO(t.icon)||(i.buttonModel.iconCss=t.icon),UO(t.cssClass)||(i.buttonModel.cssClass=t.cssClass),UO(t.click)||(i.click=t.click),i}e.alert=function(e){let s,l=ND("div",{className:"e-alert-dialog"});return document.body.appendChild(l),s=t("string"==typeof e?{content:e,position:{X:"center",Y:"top"},isModal:!0,header:"Information",buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(e){let t={buttons:[]};return t=n(t,e),t=function(e,t){let n=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return UO(t.okButton)?e.buttons=n:e.buttons[0]=i(0,t.okButton,n[0]),e}(t,e),t}(e),l),s.close=()=>{e&&e.close&&e.close.apply(s),s.destroy(),s.element.classList.contains("e-dlg-modal")?(s.element.parentElement.remove(),s.target.classList.remove("e-scroll-disabled")):s.element.remove()},s},e.confirm=function(e){let s,l=ND("div",{className:"e-confirm-dialog"});return document.body.appendChild(l),s=t("string"==typeof e?{position:{X:"center",Y:"top"},content:e,isModal:!0,header:"Information",buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(e){let t={buttons:[]};return t=n(t,e),t=function(e,t){let n={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},s={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return e.buttons[0]=UO(t.okButton)?n:i(0,t.okButton,n),e.buttons[1]=UO(t.cancelButton)?s:i(0,t.cancelButton,s),e}(t,e),t}(e),l),s.close=()=>{e&&e.close&&e.close.apply(s),s.destroy(),s.element.classList.contains("e-dlg-modal")?(s.element.parentElement.remove(),s.target.classList.remove("e-scroll-disabled")):s.element.remove()},s}}(xP||(xP={}));var _P=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let SP=(()=>{class e extends OA{}return _P([dA({effect:"FadeIn",duration:150,delay:0})],e.prototype,"open",void 0),_P([dA({effect:"FadeOut",duration:150,delay:0})],e.prototype,"close",void 0),e})(),kP=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.isBlazorTooltip=!1,this.contentTargetValue=null,this.contentEvent=null,this.contentAnimation=null}initialize(){this.formatPosition(),this.isServerRender()||RD([this.element],"e-tooltip")}isServerRender(){return!1}formatPosition(){0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?[this.tooltipPositionY,this.tooltipPositionX]=this.position.split(/(?=[A-Z])/):[this.tooltipPositionX,this.tooltipPositionY]=this.position.split(/(?=[A-Z])/)}renderArrow(){if(this.setTipClass(this.position),this.isServerRender()){let e=this.tooltipEle.querySelector(".e-arrow-tip");RD([e.querySelector(".e-arrow-tip-outer")],this.tipClass),RD([e.querySelector(".e-arrow-tip-inner")],this.tipClass),this.tooltipEle.appendChild(e)}else{let e=this.createElement("div",{className:"e-arrow-tip "+this.tipClass});e.appendChild(this.createElement("div",{className:"e-arrow-tip-outer "+this.tipClass})),e.appendChild(this.createElement("div",{className:"e-arrow-tip-inner "+this.tipClass})),this.tooltipEle.appendChild(e)}}setTipClass(e){this.tipClass=0===e.indexOf("Right")?"e-tip-left":0===e.indexOf("Bottom")?"e-tip-top":0===e.indexOf("Left")?"e-tip-right":"e-tip-bottom"}renderPopup(e){let t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove("e-lib"),this.popupObj=new IT(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})}getTooltipPosition(e){this.tooltipEle.style.display="block";let t=JM(e,this.tooltipPositionX,this.tooltipPositionY),n=this.calculateTooltipOffset(this.position),i=this.collisionFlipFit(e,t.left+n.left,t.top+n.top);return this.tooltipEle.style.display="",i}reposition(e){let t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}openPopupHandler(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs)}closePopupHandler(){gD(this.element.id+"content"),this.clear(),this.trigger("afterClose",this.tooltipEventArgs)}calculateTooltipOffset(e){let t={top:0,left:0},n=this.tooltipEle.offsetWidth,i=this.tooltipEle.offsetHeight,s=this.tooltipEle.querySelector(".e-arrow-tip"),l=s?s.offsetWidth:0,r=s?s.offsetHeight:0,a=this.showTipPointer?0:8,o=r/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),h=l/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(a+=2),e){case"RightTop":t.left+=l+a,t.top-=i-o;break;case"RightCenter":t.left+=l+a,t.top-=i/2;break;case"RightBottom":t.left+=l+a,t.top-=o;break;case"BottomRight":t.top+=r+a,t.left-=h;break;case"BottomCenter":t.top+=r+a,t.left-=n/2;break;case"BottomLeft":t.top+=r+a,t.left-=n-h;break;case"LeftBottom":t.left-=l+n+a,t.top-=o;break;case"LeftCenter":t.left-=l+n+a,t.top-=i/2;break;case"LeftTop":t.left-=l+n+a,t.top-=i-o;break;case"TopLeft":t.top-=i+r+a,t.left-=n-h;break;case"TopRight":t.top-=i+r+a,t.left-=h;break;default:t.top-=i+r+a,t.left-=n/2}return t.left+=this.offsetX,t.top+=this.offsetY,t}updateTipPosition(e){let t=this.tooltipEle.querySelectorAll(".e-arrow-tip,.e-arrow-tip-outer,.e-arrow-tip-inner");FD(t,["e-tip-bottom","e-tip-top","e-tip-left","e-tip-right"]),this.setTipClass(e),RD(t,this.tipClass)}adjustArrow(e,t,n,i){if(!1===this.showTipPointer)return;let s,l;this.updateTipPosition(t),this.tooltipEle.style.display="block";let r=this.tooltipEle.clientWidth,a=this.tooltipEle.clientHeight,o=this.tooltipEle.querySelector(".e-arrow-tip"),h=this.tooltipEle.querySelector(".e-arrow-tip-inner"),c=o.offsetWidth,d=o.offsetHeight;if(this.tooltipEle.style.display="","e-tip-bottom"===this.tipClass||"e-tip-top"===this.tipClass){if("e-tip-bottom"===this.tipClass?(l="99.9%",h.style.top="-"+(d-2)+"px"):(l=-(d-1)+"px",h.style.top="-"+(d-6)+"px"),e){let t="Center"!==n||r>e.offsetWidth||this.mouseTrail;s=t&&"Left"===n||!t&&"End"===this.tipPointerPosition?r-c-2+"px":t&&"Right"===n||!t&&"Start"===this.tipPointerPosition?"2px":r/2-c/2+"px"}}else{"e-tip-right"===this.tipClass?(s="99.9%",h.style.left="-"+(c-2)+"px"):(s=-(c-1)+"px",h.style.left=c-2-c+"px");let t="Center"!==i||a>e.offsetHeight||this.mouseTrail;l=t&&"Top"===i||!t&&"End"===this.tipPointerPosition?a-d-2+"px":t&&"Bottom"===i||!t&&"Start"===this.tipPointerPosition?"2px":a/2-d/2+"px"}o.style.top=l,o.style.left=s}renderContent(e){let t=this.tooltipEle.querySelector(".e-tip-content");this.cssClass&&RD([this.tooltipEle],this.cssClass.split(" ")),e&&!UO(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),UO(this.content)?e&&!UO(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content")):!this.isBlazorTooltip&&this.isServerRender()||(t.innerHTML="",this.content instanceof HTMLElement?t.appendChild(this.content):"string"==typeof this.content&&this.content.indexOf("<div>Blazor")<0?(this.enableHtmlSanitizer&&this.setProperties({content:QA.sanitize(this.content)},!0),t.innerHTML=this.content):(jD(fD(this.content)({},null,null,this.element.id+"content"),t),"string"==typeof this.content&&this.content.indexOf("<div>Blazor")>=0&&(this.isBlazorTemplate=!0)))}renderCloseIcon(){if(!this.isSticky)return;let e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),zI.add(e,jI.touchStartEvent,this.onStickyClose,this)}addDescribedBy(e,t){let n=(e.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(t)<0&&n.push(t),WD(e,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":t})}removeDescribedBy(e){let t=e.getAttribute("data-tooltip-id"),n=(e.getAttribute("aria-describedby")||"").split(/\s+/),i=n.indexOf(t);-1!==i&&n.splice(i,1),e.removeAttribute("data-tooltip-id");let s=n.join(" ").trim();s?e.setAttribute("aria-describedby",s):e.removeAttribute("aria-describedby")}tapHoldHandler(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)}touchEndHandler(e){this.isSticky||(this.autoCloseTimer=setTimeout(()=>{this.close()},1500))}targetClick(e){let t;t=this.target?GD(e.target,this.target):this.element,UO(t)||(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))}targetHover(e){let t;if(t=this.target?GD(e.target,this.target):this.element,UO(t)||null!==t.getAttribute("data-tooltip-id"))return;let n=[].slice.call(document.querySelectorAll("[data-tooltip-id= "+this.ctrlId+"_content]"));for(let i of n)this.restoreElement(i);this.showTooltip(t,this.animation.open,e)}showTooltip(e,t,n){clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!UO(n)},this.trigger("beforeRender",this.tooltipEventArgs,(i=>{this.beforeRenderCallback(i,e,n,t)}).bind(this))}beforeRenderCallback(e,t,n,i){let s=!1;e.cancel?(this.isHidden=!0,this.clear()):(this.isHidden=!1,UO(this.tooltipEle)?(this.isServerRender()?(this.contentTargetValue=t,this.contentEvent=n,this.contentAnimation=i,this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{enableTooltip:"true"}),s=!0):(this.ctrlId=this.element.getAttribute("id")?YO(this.element.getAttribute("id")):YO("tooltip"),this.tooltipEle=this.createElement("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+KO(this.width)+";height:"+KO(this.height)+";position:absolute;"}),this.beforeRenderBlazor(t,this)),s||this.afterRenderBlazor(t,n,i,this)):(this.isServerRender()&&(RD([this.tooltipEle],"e-popup-open"),document.body.appendChild(this.tooltipEle),this.renderCloseIcon(),this.renderPopup(t)),t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),yA.stop(this.tooltipEle),this.reposition(t),this.afterRenderBlazor(t,n,i,this))))}contentUpdated(e){UO(this.tooltipEle)&&this.isServerRender()&&(this.ctrlId=this.element.id,this.tooltipEle=document.querySelector("#"+this.ctrlId+"_content"),this.tooltipEle&&(this.tooltipEle.setAttribute("style","width:"+KO(this.width)+";height:"+KO(this.height)+";position:absolute;"),this.beforeRenderBlazor(this.contentTargetValue,this),this.afterRenderBlazor(this.contentTargetValue,this.contentEvent,this.contentAnimation,this),this.contentTargetValue=this.contentEvent=this.contentAnimation=null))}beforeRenderBlazor(e,t){e&&(jI.isDevice&&RD([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=KO(t.width)),this.isServerRender()||t.tooltipEle.appendChild(t.createElement("div",{className:"e-tip-content"})),document.body.appendChild(t.tooltipEle),FD([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),RD([t.tooltipEle],"e-popup-open"),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),yA.stop(t.tooltipEle),t.reposition(e))}afterRenderBlazor(e,t,n,i){if(e){FD([i.tooltipEle],"e-popup-open"),RD([i.tooltipEle],"e-popup-close"),i.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:i.tooltipEle,isInteracted:!UO(t)},i.needTemplateReposition()&&!i.mouseTrail&&(i.tooltipEle.style.display="none");const s=s=>{i.beforeOpenCallback(s,e,n,t)};i.trigger("beforeOpen",i.tooltipEventArgs,s.bind(i))}}beforeOpenCallback(e,t,n,i){if(e.cancel)this.isHidden=!0,this.clear(),this.restoreElement(t);else{let e={name:n.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};"None"===n.effect&&(e=void 0),this.openDelay>0?this.showTimer=setTimeout(()=>{this.popupObj&&this.popupObj.show(e,t)},this.openDelay):this.popupObj&&this.popupObj.show(e,t)}i&&this.wireMouseEvents(i,t)}needTemplateReposition(){return!UO(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef||this.isServerRender()&&this.isBlazorTemplate}checkCollision(e,t,n){let i={left:t,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},s=cT(this.tooltipEle,this.target?this.element:null,t,n);return s.length>0&&(i.horizontal=s.indexOf("left")>=0?"Right":s.indexOf("right")>=0?"Left":this.tooltipPositionX,i.vertical=s.indexOf("top")>=0?"Bottom":s.indexOf("bottom")>=0?"Top":this.tooltipPositionY),i}collisionFlipFit(e,t,n){let i=this.checkCollision(e,t,n),s=i.position;if(this.tooltipPositionY!==i.vertical&&(s=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?i.vertical+this.tooltipPositionX:this.tooltipPositionX+i.vertical),this.tooltipPositionX!==i.horizontal&&(0===s.indexOf("Left")&&(i.vertical="LeftTop"===s||"LeftCenter"===s?"Top":"Bottom",s=i.vertical+"Left"),0===s.indexOf("Right")&&(i.vertical="RightTop"===s||"RightCenter"===s?"Top":"Bottom",s=i.vertical+"Right"),i.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:s},this.trigger("beforeCollision",this.tooltipEventArgs),i.position!==s){let t=JM(e,i.horizontal,i.vertical);this.adjustArrow(e,s,i.horizontal,i.vertical);let n=this.calculateTooltipOffset(s);n.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(s.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,n.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(s.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,i.position=s,i.left=t.left+n.left,i.top=t.top+n.top}else this.adjustArrow(e,s,i.horizontal,i.vertical);let l={left:i.left,top:i.top},r=hT(this.tooltipEle,this.target?this.element:null,{X:!0,Y:!1},l).left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===s.indexOf("Bottom")||0===s.indexOf("Top"))){let e=this.tooltipEle.querySelector(".e-arrow-tip"),t=parseInt(e.style.left,10)-(r-i.left);t<0?t=0:t+e.offsetWidth>this.tooltipEle.clientWidth&&(t=this.tooltipEle.clientWidth-e.offsetWidth),e.style.left=t.toString()+"px"}return this.tooltipEle.style.display="",l.left=r,l}hideTooltip(e,t,n){let i;i=t?this.target?n||t.target:this.element:document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]"),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:i,event:t||null,element:this.tooltipEle,isInteracted:!UO(t)},this.trigger("beforeClose",this.tooltipEventArgs,t=>{t.cancel?this.isHidden=!1:this.isServerRender()?this.blazorHide(e,i):this.popupHide(e,i)})}blazorHide(e,t){let n=this;this.popupObj?this.popupHide(e,t):setTimeout(()=>{n.popupHide(e,t)},200)}popupHide(e,t){this.clearTemplate(),t&&this.restoreElement(t),this.isHidden=!0;let n={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(n=void 0),this.closeDelay>0?this.hideTimer=setTimeout(()=>{this.popupObj&&this.popupObj.hide(n)},this.closeDelay):this.popupObj&&this.popupObj.hide(n)}restoreElement(e){this.unwireMouseEvents(e),UO(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)}clear(){this.tooltipEle&&(FD([this.tooltipEle],"e-popup-close"),RD([this.tooltipEle],"e-popup-open")),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.isServerRender()&&this.tooltipEle?(this.tooltipEle.style.display="none",this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{enableTooltip:"false"}),UD(this.tooltipEle)):this.tooltipEle&&UD(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)}onMouseOut(e){const t=e.relatedTarget;if(t&&!this.mouseTrail){const n=GD(t,".e-tooltip-wrap.e-lib.e-popup");n?(zI.add(n,"mouseleave",this.tooltipElementMouseOut,this),this.unwireMouseEvents(e.target)):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()}tooltipElementMouseOut(e){this.hideTooltip(this.animation.close,e,this.findTarget()),zI.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()}onStickyClose(e){this.close()}onMouseMove(e){let t=0,n=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),yA.stop(this.tooltipEle),FD([this.tooltipEle],"e-popup-close"),RD([this.tooltipEle],"e-popup-open"),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);let i=this.calculateTooltipOffset(this.position),s=this.checkCollision(e.target,t+i.left+this.offsetX,n+i.top+this.offsetY);if(this.tooltipPositionX!==s.horizontal||this.tooltipPositionY!==s.vertical){let i=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?s.vertical+s.horizontal:s.horizontal+s.vertical;s.position=i,this.adjustArrow(e.target,s.position,s.horizontal,s.vertical);let l=this.calculateTooltipOffset(s.position);s.left=t+l.left-this.offsetX,s.top=n+l.top-this.offsetY}this.tooltipEle.style.left=s.left+"px",this.tooltipEle.style.top=s.top+"px"}keyDown(e){this.tooltipEle&&27===e.keyCode&&this.close()}touchEnd(e){this.tooltipEle&&null===GD(e.target,".e-tooltip")&&this.close()}scrollHandler(e){this.tooltipEle&&(GD(e.target,".e-tooltip-wrap.e-lib.e-popup")||this.close())}render(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()}preRender(){this.tipClass="e-tip-bottom",this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0}wireEvents(e){let t=this.getTriggerList(e);for(let n of t){if("Custom"===n)return;"Focus"===n&&this.wireFocusEvents(),"Click"===n&&zI.add(this.element,jI.touchStartEvent,this.targetClick,this),"Hover"===n&&(jI.isDevice?(this.touchModule=new XA(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),zI.add(this.element,jI.touchEndEvent,this.touchEndHandler,this)):(zI.add(this.element,"mouseover",this.targetHover,this),this.isServerRender()&&!this.isSticky&&zI.add(this.element,"mouseleave",this.onMouseOut,this)))}zI.add(document,"touchend",this.touchEnd,this),zI.add(document,"scroll wheel",this.scrollHandler,this),zI.add(document,"keydown",this.keyDown,this)}getTriggerList(e){return"Auto"===e&&(e=jI.isDevice?"Hover":"Hover Focus"),e.split(" ")}wireFocusEvents(){if(UO(this.target))zI.add(this.element,"focus",this.targetHover,this);else{let e=[].slice.call(this.element.querySelectorAll(this.target));for(let t of e)zI.add(t,"focus",this.targetHover,this)}}wireMouseEvents(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&zI.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&(this.isServerRender()||zI.add(t,"mouseleave",this.onMouseOut,this))),this.mouseTrail&&zI.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))}unwireEvents(e){let t=this.getTriggerList(e);for(let n of t){if("Custom"===n)return;"Focus"===n&&this.unwireFocusEvents(),"Click"===n&&zI.remove(this.element,jI.touchStartEvent,this.targetClick),"Hover"===n&&(jI.isDevice?(this.touchModule&&this.touchModule.destroy(),zI.remove(this.element,jI.touchEndEvent,this.touchEndHandler)):(zI.remove(this.element,"mouseover",this.targetHover),this.isServerRender()&&!this.isSticky&&zI.remove(this.element,"mouseleave",this.onMouseOut)))}zI.remove(document,"touchend",this.touchEnd),zI.remove(document,"scroll wheel",this.scrollHandler),zI.remove(document,"keydown",this.keyDown)}unwireFocusEvents(){if(UO(this.target))zI.remove(this.element,"focus",this.targetHover);else{let e=[].slice.call(this.element.querySelectorAll(this.target));for(let t of e)zI.remove(t,"focus",this.targetHover)}}unwireMouseEvents(e){if(!this.isSticky){let t=this.getTriggerList(this.opensOn);for(let n of t)"Focus"===n&&zI.remove(e,"blur",this.onMouseOut),"Hover"!==n||jI.isDevice||this.isServerRender()||zI.remove(e,"mouseleave",this.onMouseOut)}this.mouseTrail&&zI.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)}findTarget(){return document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]")}getModuleName(){return"tooltip"}getPersistData(){return this.addOnPersist([])}onPropertyChanged(e,t){let n=this.findTarget();for(let i of Object.keys(e))switch(i){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=KO(e.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=KO(e.height),this.reposition(n));break;case"content":this.tooltipEle?(this.isServerRender()&&(this.isBlazorTooltip=!0),this.renderContent()):this.isServerRender()&&this.interopAdaptor.invokeMethodAsync("OnTooltipServerCall",{content:e.content});break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){let e=this.tooltipEle.querySelector(".e-arrow-tip-inner");e.style.top=e.style.left=null,this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){let n=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+n).toString()+"px"}break;case"offsetY":if(this.tooltipEle){let n=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+n).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&FD([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&RD([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?RD([this.tooltipEle],"e-rtl"):FD([this.tooltipEle],"e-rtl"))}}open(e,t){UO(t)&&(t=this.animation.open),UO(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)}close(e){e||(e=this.animation.close),this.hideTooltip(e)}refresh(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)}destroy(){if(this.isServerRender()||(super.destroy(),this.tooltipEle&&UD(this.tooltipEle)),this.isServerRender()&&this.tooltipEle){let e=document.querySelector("#"+this.ctrlId+"_content_placeholder");e&&e.appendChild(this.tooltipEle)}this.popupObj&&this.popupObj.destroy(),FD([this.element],"e-tooltip"),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null}};return _P([dA("auto")],e.prototype,"width",void 0),_P([dA("auto")],e.prototype,"height",void 0),_P([dA()],e.prototype,"content",void 0),_P([dA()],e.prototype,"target",void 0),_P([dA("TopCenter")],e.prototype,"position",void 0),_P([dA(0)],e.prototype,"offsetX",void 0),_P([dA(0)],e.prototype,"offsetY",void 0),_P([dA(!0)],e.prototype,"showTipPointer",void 0),_P([dA("Auto")],e.prototype,"tipPointerPosition",void 0),_P([dA("Auto")],e.prototype,"opensOn",void 0),_P([dA(!1)],e.prototype,"mouseTrail",void 0),_P([dA(!1)],e.prototype,"isSticky",void 0),_P([uA({},SP)],e.prototype,"animation",void 0),_P([dA(0)],e.prototype,"openDelay",void 0),_P([dA(0)],e.prototype,"closeDelay",void 0),_P([dA()],e.prototype,"cssClass",void 0),_P([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),_P([mA()],e.prototype,"beforeRender",void 0),_P([mA()],e.prototype,"beforeOpen",void 0),_P([mA()],e.prototype,"afterOpen",void 0),_P([mA()],e.prototype,"beforeClose",void 0),_P([mA()],e.prototype,"afterClose",void 0),_P([mA()],e.prototype,"beforeCollision",void 0),_P([mA()],e.prototype,"created",void 0),_P([mA()],e.prototype,"destroyed",void 0),e=_P([fA],e),e})(),EP={};function OP(e,t){let n,i=UO(t)?ND:t,s=function(e,t){let n=t("div",{});n.classList.add("e-spinner-pane");let i=t("div",{});return i.classList.add("e-spinner-inner"),e.appendChild(n),n.appendChild(i),{wrap:n,inner_wrap:i}}(e.target,i);if(UO(e.cssClass)||s.wrap.classList.add(e.cssClass),UO(e.template)&&UO(null)){let t=UO(e.type)?function(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")}(s.wrap):e.type;n=function(e,t){let n;switch(t){case"Material":case"Fabric":n=30;break;case"Bootstrap4":n=36;break;default:n=30}return e=e?parseFloat(e+""):n,"Bootstrap"===t?e:e/2}(UO(e.width)?void 0:e.width,t),function(e,t,n,i){let s=t.querySelector(".e-spinner-inner"),l=s.querySelector("svg");switch(UO(l)||s.removeChild(l),e){case"Material":!function(e,t,n){let i=DP();EP[i]={timeOut:0,type:"Material",radius:t},MP(e,i,0,"e-spin-material"),TP(t,e,"Material","e-spin-material")}(s,n);break;case"Fabric":!function(e,t,n){let i=DP();EP[i]={timeOut:0,type:"Fabric",radius:t},AP(e,i,"e-spin-fabric"),RP(t,e,"e-spin-fabric")}(s,n);break;case"Bootstrap":!function(e,t,n){let i=DP();EP[i]={timeOut:0,type:"Bootstrap",radius:t},function(e,t,n){let i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id",t),i.setAttribute("class","e-spin-bootstrap"),i.setAttribute("viewBox","0 0 64 64"),e.insertBefore(i,e.firstChild);for(let s=0;s<=7;s++){let e=document.createElementNS("http://www.w3.org/2000/svg","circle");e.setAttribute("class","e-path-circle_"+s),e.setAttribute("r","2"),e.setAttribute("transform","translate(32,32)"),i.appendChild(e)}}(e,i),function(e,t){let n=e.querySelector("svg.e-spin-bootstrap");n.style.width=n.style.height=t+"px";let i=90;for(let s=0;s<=7;s++){let e=FP(0,0,24,i),t=n.querySelector(".e-path-circle_"+s);t.setAttribute("cx",e.x+""),t.setAttribute("cy",e.y+""),i=i>=360?0:i,i+=45}}(e,t)}(s,n);break;case"HighContrast":!function(e,t,n){let i=DP();EP[i]={timeOut:0,type:"HighContrast",radius:t},AP(e,i,"e-spin-high-contrast"),RP(t,e,"e-spin-high-contrast")}(s,n);break;case"Bootstrap4":!function(e,t,n){let i=DP();EP[i]={timeOut:0,type:"Bootstrap4",radius:t},MP(e,i,0,"e-spin-bootstrap4"),TP(t,e,"Bootstrap4","e-spin-bootstrap4")}(s,n)}}(t,s.wrap,n),UO(e.label)||function(e,t,n){let i=n("div",{});i.classList.add("e-spin-label"),i.textContent=t,e.appendChild(i)}(s.inner_wrap,e.label,i)}else{let t=UO(e.template)?null:e.template;s.wrap.classList.add("e-spin-template"),function(e,t,n){UO(null)||e.classList.add(null),e.querySelector(".e-spinner-inner").innerHTML=t}(s.wrap,t)}s.wrap.classList.add("e-spin-hide"),s=null}function IP(e,t){let n=[],i=e,s=t,l=!1,r=1;return function e(t){n.push(t),(t!==s||1===r)&&(t<=i&&t>1&&!l?t=parseFloat((t-.2).toFixed(2)):1===t?(t=7,t=parseFloat((t+.2).toFixed(2)),l=!0):t<8&&l?8===(t=parseFloat((t+.2).toFixed(2)))&&(l=!1):t<=8&&!l&&(t=parseFloat((t-.2).toFixed(2))),++r,e(t))}(i),n}function DP(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function AP(e,t,n,i){let s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("id",t),s.setAttribute("class",n);let l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("class","e-path-circle");let r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class","e-path-arc"),e.insertBefore(s,e.firstChild),s.appendChild(l),s.appendChild(r)}function MP(e,t,n,i){let s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("class",i),s.setAttribute("id",t);let l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("class","e-path-circle"),e.insertBefore(s,e.firstChild),s.appendChild(l)}function TP(e,t,n,i){let s=2*e,l=t.querySelector("svg."+i),r=l.querySelector("path.e-path-circle"),a=PP(s),o=s/2+"px";l.setAttribute("viewBox","0 0 "+s+" "+s),l.style.width=l.style.height=s+"px",l.style.transformOrigin=o+" "+o+" "+o,r.setAttribute("d",function(e,t){let n=e/2,i=t/2;return"M"+n+","+i+"A"+(n-i)+","+(n-i)+" 0 1 1 "+i+","+n}(s,a)),"Material"===n&&(r.setAttribute("stroke-width",a+""),r.setAttribute("stroke-dasharray",(s-a)*Math.PI*.75+""),r.setAttribute("stroke-dashoffset",LP(s,a,1,75)+""))}function PP(e){return.1*e}function LP(e,t,n,i){return(e-t)*Math.PI*(3*i/100-n/100)}function NP(e,t,n,i){let s=(e/=i)*e,l=s*e;return t+n*(6*l*s+-15*s*s+10*l)}function RP(e,t,n){let i=e,s=e,l=2*e,r=t.querySelector("."+n),a=r.querySelector(".e-path-circle"),o=r.querySelector(".e-path-arc"),h=l/2+"px";a.setAttribute("d",function(e,t,n){return["M",e,t,"m",-n,0,"a",n,n,0,1,0,2*n,0,"a",n,n,0,1,0,2*-n,0].join(" ")}(i,s,e)),o.setAttribute("d",function(e,t,n,i,s){let l=FP(e,t,n,45),r=FP(e,t,n,315);return["M",l.x,l.y,"A",n,n,0,0,0,r.x,r.y].join(" ")}(i,s,e)),r.setAttribute("viewBox","0 0 "+l+" "+l),r.style.transformOrigin=h+" "+h+" "+h,r.style.width=r.style.height=l+"px"}function FP(e,t,n,i){let s=(i-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}}function HP(e){BP(e,!1),e=null}function BP(e,t){let n,i=e.classList.contains("e-spinner-pane")?e:e.querySelector(".e-spinner-pane"),s=i.querySelector(".e-spinner-inner");if(n=t?!i.classList.contains("e-spin-template")&&!i.classList.contains("e-spin-hide"):!i.classList.contains("e-spin-template")&&!i.classList.contains("e-spin-show"),n){let e=i.querySelector("svg");if(UO(e))return;let n=e.getAttribute("id");switch(EP[n].isAnimate=!t,EP[n].type){case"Material":t?clearTimeout(EP[n].timeOut):function(e,t,n){let i={};EP[t].timeOut=0,i[t]=function(e,t,n,i){return{radius:t,count:0,previousId:0}}(0,n),function e(t){!function(t,n,i,s,l,r,a){let o=++a.globalInfo[a.uniqueID].previousId,h=(new Date).getTime(),c=parseFloat(2*a.globalInfo[a.uniqueID].radius+""),d=PP(c),u=-90*(a.globalInfo[a.uniqueID].count||0);!function t(n){let s=Math.max(0,Math.min((new Date).getTime()-h,1333));!function(e,t){if(!UO(t.querySelector("svg.e-spin-material"))&&!UO(t.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))){let n=t.querySelector("svg.e-spin-material").querySelector("path.e-path-circle");n.setAttribute("stroke-dashoffset",LP(c,d,e,75)+""),n.setAttribute("transform","rotate("+u+" "+c/2+" "+c/2+")")}}(i(s,1,148,1333),n.container),o===n.globalInfo[n.uniqueID].previousId&&s<1333?EP[n.uniqueID].timeOut=setTimeout(t.bind(null,n),1):e(n)}(a)}(0,0,NP,0,0,0,t),t.globalInfo[t.uniqueID].count=++t.globalInfo[t.uniqueID].count%4}({uniqueID:t,container:e,globalInfo:i,timeOutVar:0})}(s,n,EP[n].radius);break;case"Bootstrap":t?clearTimeout(EP[n].timeOut):function(e){let t=e.querySelector("svg.e-spin-bootstrap").getAttribute("id");for(let i=1;i<=8;i++)n(e.getElementsByClassName("e-path-circle_"+(8===i?0:i))[0],i,0,IP(i,i),t);function n(e,t,n,i,s){let l=0;!function t(n){EP[s].isAnimate&&(++l,e.setAttribute("r",n+""),l>=i.length&&(l=0),EP[s].timeOut=setTimeout(t.bind(null,i[l]),18))}(t)}}(s)}}t?KD(i,["e-spin-hide"],["e-spin-show"]):KD(i,["e-spin-show"],["e-spin-hide"]),e=null}function VP(e){BP(e,!0),e=null}var jP=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};function zP(e,t){let n=qO({},e);for(let i of Object.keys(n))t.indexOf(i)<0&&VO(n,i);return n}let qP=(()=>{class e extends OA{}return jP([dA("")],e.prototype,"iconCss",void 0),jP([dA("")],e.prototype,"id",void 0),jP([dA(!1)],e.prototype,"separator",void 0),jP([dA("")],e.prototype,"text",void 0),jP([dA("")],e.prototype,"url",void 0),e})();var UP=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const WP=new vI;let YP=(()=>{let e=class extends TA{constructor(e,t){super(e,t)}preRender(){}getPersistData(){return this.addOnPersist([])}toggle(){this.canOpen()?this.openPopUp():this.closePopup()}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}buttonRendered(e){this.element.id===e.instance.element.id&&(this.button=e.instance,kM.off("component-rendered",this.buttonRendered,this.element.id))}addItems(e,t){let n,i=this.items.length;for(let s=0,l=this.items.length;s<l;s++)if(t===this.items[s].text){i=s;break}for(let s=e.length-1;s>=0;s--)n=new qP(this,"items",e[s],!0),this.items.splice(i,0,n);this.canOpen()||this.createItems()}removeItems(e){for(let t=0,n=e.length;t<n;t++)for(let i=0,s=this.items.length;i<s;i++)if(e[t]===this.items[i].text){this.items.splice(i,1);break}this.canOpen()||this.createItems()}createPopup(){let e=this.createElement("div",{className:"e-dropdown-popup",id:this.element.id+"-popup"});document.body.appendChild(e),this.dropDown=new IT(e,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),WD(this.element,{"aria-haspopup":this.items.length||this.target?"true":"false","aria-expanded":"false","aria-owns":this.getPopUpElement().id,type:"button","aria-label":this.element.textContent+" dropdownbutton"}),this.cssClass&&RD([e],this.cssClass.split(" "))}getTargetElement(){return"string"==typeof this.target?YD(this.target):this.target}createItems(e){let t,n,i,s,l=this.items,r=this.hasIcon(this.items,"iconCss"),a=this.getULElement();a?a.innerHTML="":a=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(let o=0;o<l.length;o++){n=l[o];let e=this.enableHtmlSanitizer?QA.sanitize(n.text):n.text;i=this.createElement("li",{innerHTML:n.url?"":e,className:n.separator?"e-item e-separator":"e-item",attrs:{role:"menuItem",tabindex:"-1"},id:n.id?n.id:YO("e-"+this.getModuleName()+"-item")}),n.url&&(i.appendChild(this.createAnchor(n)),i.classList.add("e-url")),n.iconCss?(t=this.createElement("span",{className:"e-menu-icon "+n.iconCss}),n.url?i.childNodes[0].appendChild(t):i.insertBefore(t,i.childNodes[0])):r&&!n.separator&&i.classList.add("e-blank-icon"),s={item:n,element:i},this.trigger("beforeItemRender",s),a.appendChild(i)}if(e&&this.getPopUpElement().appendChild(a),r){let e,t=[].slice.call(this.getPopUpElement().getElementsByClassName("e-blank-icon")),n=this.getPopUpElement().querySelector(".e-item:not(.e-blank-icon)"),i=n.querySelector(".e-menu-icon");e=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};let s=`${parseInt(getComputedStyle(i).fontSize,10)+parseInt(getComputedStyle(i)[e.margin],10)+parseInt(getComputedStyle(n).paddingLeft,10)}px`;t.forEach(t=>{t.style[e.padding]=s})}}hasIcon(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n][t])return!0;return!1}createAnchor(e){let t=this.enableHtmlSanitizer?QA.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t,attrs:{href:e.url}})}initialize(){this.button=new EM({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=YO("e-"+this.getModuleName())),this.appendArrowSpan(),this.createPopup(),this.setActiveElem([this.element])}appendArrowSpan(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf("e-vertical")>-1?"bottom":"right")+" e-caret"}))}setActiveElem(e){this.activeElem=e}getModuleName(){return"dropdown-btn"}canOpen(){return this.getPopUpElement().classList.contains("e-popup-close")}destroy(){if(super.destroy(),"dropdown-btn"===this.getModuleName()){let e,t;this.element.querySelector("span.e-caret")&&qD(this.element.querySelector("span.e-caret")),this.cssClass&&(t=this.cssClass.split(" ")),this.button.destroy(),t&&FD([this.element],t),FD(this.activeElem,["e-active"]),e=this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"],e.forEach(e=>{this.element.removeAttribute(e)}),this.dropDown.destroy();let n=document.getElementById(this.getPopUpElement().id);n&&(FD([n],["e-popup-open","e-popup-close"]),qD(n)),this.disabled||this.unWireEvents()}}getPopUpElement(){return this.dropDown.element}getULElement(){return this.getPopUpElement().children[0]}wireEvents(){let e=this.getPopUpElement();this.delegateMousedownHandler=this.mousedownHandler.bind(this),zI.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),zI.add(this.element,"click",this.clickHandler,this),zI.add(e,"click",this.clickHandler,this),zI.add(this.element,"keydown",this.keyBoardHandler,this),zI.add(e,"keydown",this.keyBoardHandler,this),this.rippleFn=wA(e,{selector:".e-item"})}keyBoardHandler(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}}upDownKeyHandler(e){if(this.target&&(38===e.keyCode||40===e.keyCode))return;e.preventDefault();let t=this.getULElement(),n=40===e.keyCode?0:t.childElementCount-1,i=n,s=null;this.removeCustomSelection();for(let l=0,r=t.children.length;l<r;l++)t.children[l].classList.contains("e-focused")&&(s=t.children[l],i=l,s.classList.remove("e-focused"),40===e.keyCode?i++:i--,i===(40===e.keyCode?t.childElementCount:-1)&&(i=n));s=t.children[i],i=this.isValidLI(s,i,e.keyCode),-1!==i&&(RD([t.children[i]],"e-focused"),t.children[i].focus())}removeCustomSelection(){let e=this.getULElement().querySelector(".e-selected");e&&e.classList.remove("e-selected")}isValidLI(e,t,n,i=0){if((e.classList.contains("e-separator")||e.classList.contains("e-disabled"))&&(t===(40===n?this.items.length-1:0)?t=40===n?0:this.items.length-1:40===n?t++:t--),(e=this.getULElement().children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")){if(++i===this.items.length)return-1;t=this.isValidLI(e,t,n,i)}return t}keyEventHandler(e){(!this.target||13!==e.keyCode&&9!==e.keyCode)&&(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))}getLI(e){return"LI"===e.tagName?e:GD(e,"li")}mousedownHandler(e){let t=e.target;this.canOpen()||GD(t,"#"+this.getPopUpElement().id)||GD(t,"#"+this.element.id)||this.closePopup(e)}clickHandler(e){let t=e.target,n=this.canOpen();if(GD(t,"#"+this.element.id))n?this.openPopUp(e):this.closePopup(e,this.activeElem[0]);else if(GD(t,"#"+this.getPopUpElement().id)){let n,i,s,l=this.getLI(t);l&&(i=Array.prototype.indexOf.call(this.getULElement().children,l),s=this.items[i],s&&(n={element:l,item:s},this.trigger("select",n)),this.closePopup(e,this.activeElem[0]))}}openPopUp(e=null){this.target||this.createItems(!0);let t=this.getULElement();this.trigger("beforeOpen",{element:t,items:this.items,event:e,cancel:!1},e=>{if(!e.cancel){let e=this.getULElement();this.dropDown.show(null,this.element),RD([this.element],"e-active"),this.element.setAttribute("aria-expanded","true"),e.focus(),this.trigger("open",{element:e,items:this.items})}})}closePopup(e=null,t){let n=this.getULElement();this.trigger("beforeClose",{element:n,items:this.items,event:e,cancel:!1},e=>{if(!e.cancel){let e=this.getULElement();this.removeCustomSelection(),this.dropDown.hide(),FD(this.activeElem,"e-active"),this.element.setAttribute("aria-expanded","false"),t&&t.focus(),this.trigger("close",{element:e,items:this.items}),!this.target&&e&&qD(e)}})}unWireEvents(){zI.remove(document,"mousedown touchstart",this.delegateMousedownHandler),zI.remove(this.element,"click",this.clickHandler),zI.remove(this.getPopUpElement(),"click",this.clickHandler),zI.remove(this.element,"keydown",this.keyBoardHandler),zI.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.rippleFn()}onPropertyChanged(e,t){this.button.setProperties(zP(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.dropDown.setProperties(zP(e,["enableRtl"]));let n=this.getPopUpElement();for(let i of Object.keys(e))switch(i){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.canOpen()||this.closePopup()):this.wireEvents();break;case"cssClass":e.cssClass.indexOf("e-vertical")>-1&&KD(this.element.querySelector("span.e-caret"),["e-icon-bottom"],["e-icon-right"]),t.cssClass&&FD([n],t.cssClass.split(" ")),e.cssClass&&RD([n],e.cssClass.split(" "));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.canOpen()||this.createItems()}}focusIn(){this.element.focus()}};return UP([dA("")],e.prototype,"content",void 0),UP([dA("")],e.prototype,"cssClass",void 0),UP([dA(!1)],e.prototype,"disabled",void 0),UP([dA("")],e.prototype,"iconCss",void 0),UP([dA("Left")],e.prototype,"iconPosition",void 0),UP([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),UP([pA([],qP)],e.prototype,"items",void 0),UP([dA("")],e.prototype,"target",void 0),UP([mA()],e.prototype,"beforeItemRender",void 0),UP([mA()],e.prototype,"beforeOpen",void 0),UP([mA()],e.prototype,"beforeClose",void 0),UP([mA()],e.prototype,"close",void 0),UP([mA()],e.prototype,"open",void 0),UP([mA()],e.prototype,"select",void 0),UP([mA()],e.prototype,"created",void 0),e=UP([fA],e),e})();var $P=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const GP="EJS-SPLITBUTTON";let XP=(()=>{let e=class extends YP{constructor(e,t){super(e,t)}preRender(){let e=this.element;if(e.tagName===GP){let t=HO("ej2_instances",e),n=this.createElement("button",{attrs:{type:"button"}}),i=this.createElement(GP,{className:"e-"+this.getModuleName()+"-wrapper"});for(let s=0,l=e.attributes.length;s<l;s++)n.setAttribute(e.attributes[s].nodeName,e.attributes[s].nodeValue);e.parentNode.insertBefore(i,e),qD(e),e=n,i.appendChild(e),BO("ej2_instances",t,e),this.wrapper=i,this.element=e}this.element.id||(this.element.id=YO("e-"+this.getModuleName()))}render(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()}buttonInstance(e){this.element.id===e.instance.element.id&&(this.primaryBtnObj=e.instance,kM.off("component-rendered",this.buttonInstance,this.element.id))}dropDownButtonInstance(e){e.instance.element.id.indexOf(this.element.id)>-1&&(this.secondaryBtnObj=e.instance,this.renderControl(),WP.off("component-rendered",this.dropDownButtonInstance,this.element.id))}renderControl(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()}addItems(e,t){super.addItems(e,t),this.secondaryBtnObj.items=this.items}removeItems(e){super.removeItems(e),this.secondaryBtnObj.items=this.items}initWrapper(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add("e-rtl"),this.cssClass&&RD([this.wrapper],this.cssClass.split(" "))}createPrimaryButton(){this.primaryBtnObj=new EM({cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled}),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)}createSecondaryButton(){let e,t;t=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"}),this.wrapper.appendChild(t),e={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target},e.beforeItemRender=e=>{this.trigger("beforeItemRender",e)},e.open=e=>{this.trigger("open",e)},e.close=e=>{this.trigger("close",e)},e.select=e=>{this.trigger("select",e)},e.beforeOpen=e=>{let t=new KP;return this.trigger("beforeOpen",e,e=>{t.resolve(e)}),t},e.beforeClose=e=>{let t=new KP;return this.trigger("beforeClose",e,e=>{t.resolve(e)}),t},this.secondaryBtnObj=new YP(e),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(t),this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown,this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],zI.remove(this.getPopUpElement(),"keydown",this.secondaryBtnObj.keyBoardHandler),this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")}setAria(){WD(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.secondaryBtnObj.dropDown.element.id})}getModuleName(){return"split-btn"}toggle(){this.secondaryBtnObj.toggle()}destroy(){{let e=["e-rtl"],t=document.getElementById(this.element.id);this.cssClass&&(e=e.concat(this.cssClass.split(" "))),t&&t.parentElement===this.wrapper&&(this.wrapper.tagName===GP?(this.wrapper.innerHTML="",FD([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),FD([this.wrapper],this.cssClass.split(" "))):(FD([this.element],e),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(e=>{this.element.removeAttribute(e)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),UD(this.wrapper)),this.unWireEvents()),this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),super.destroy(),this.element.getAttribute("class")||this.element.removeAttribute("class")}}wireEvents(){zI.add(this.element,"click",this.primaryBtnClickHandler,this),zI.add(this.getPopUpElement(),"keydown",this.keyBoardHandler,this),new UA(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})}unWireEvents(){zI.remove(this.element,"click",this.primaryBtnClickHandler),QO(this.element,UA).destroy()}primaryBtnClickHandler(){this.trigger("click",{element:this.element})}btnKeyBoardHandler(e){switch(e.action){case"altdownarrow":this.clickHandler(e)}}onPropertyChanged(e,t){let n=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(zP(e,n)),n=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(zP(e,n));for(let i of Object.keys(e))switch(i){case"cssClass":t.cssClass&&FD([this.wrapper],t.cssClass.split(" ")),RD([this.wrapper],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?RD([this.wrapper],"e-rtl"):FD([this.wrapper],"e-rtl")}}focusIn(){this.element.focus()}};return $P([dA("")],e.prototype,"content",void 0),$P([dA("")],e.prototype,"cssClass",void 0),$P([dA(!1)],e.prototype,"disabled",void 0),$P([dA("")],e.prototype,"iconCss",void 0),$P([dA("Left")],e.prototype,"iconPosition",void 0),$P([pA([],qP)],e.prototype,"items",void 0),$P([dA("")],e.prototype,"target",void 0),$P([mA()],e.prototype,"beforeItemRender",void 0),$P([mA()],e.prototype,"beforeOpen",void 0),$P([mA()],e.prototype,"beforeClose",void 0),$P([mA()],e.prototype,"click",void 0),$P([mA()],e.prototype,"close",void 0),$P([mA()],e.prototype,"open",void 0),$P([mA()],e.prototype,"select",void 0),$P([mA()],e.prototype,"created",void 0),e=$P([fA],e),e})();class KP{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)}}var ZP;!function(e){let t;function n(e){i(e.floatLabelType,e.element),e.element.addEventListener("focus",(function(){let e=d(this);(e.classList.contains("e-input-group")||e.classList.contains("e-outline")||e.classList.contains("e-filled"))&&e.classList.add("e-input-focus")})),e.element.addEventListener("blur",(function(){let e=d(this);(e.classList.contains("e-input-group")||e.classList.contains("e-outline")||e.classList.contains("e-filled"))&&e.classList.remove("e-input-focus")})),e.element.addEventListener("input",()=>{i(t,e.element)})}function i(e,t){let n=t.value;""===n||UO(n)?"Always"!==e&&t.parentElement&&t.parentElement.classList.remove("e-valid-input"):t.parentElement.classList.add("e-valid-input")}function s(){let e=d(this).getElementsByClassName("e-float-text")[0];UO(e)||(RD([e],"e-label-top"),e.classList.contains("e-label-bottom")&&FD([e],"e-label-bottom"))}function l(){let e=d(this);if(e.getElementsByTagName("textarea")[0]?""===e.getElementsByTagName("textarea")[0].value:""===e.getElementsByTagName("input")[0].value){let t=e.getElementsByClassName("e-float-text")[0];UO(t)||(t.classList.contains("e-label-top")&&FD([t],"e-label-top"),RD([t],"e-label-bottom"))}}function r(e){e.addEventListener("focus",s),e.addEventListener("blur",l)}function a(e,t,n){let i,s,l=UO(n)?ND:n;if("Auto"===e.floatLabelType&&r(e.element),UO(t.container)?(t.container=m(e,"e-float-input","e-float-custom-tag","div",l),e.element.parentNode.insertBefore(t.container,e.element)):(UO(e.customTag)||t.container.classList.add("e-float-custom-tag"),t.container.classList.add("e-float-input")),i=l("span",{className:"e-float-line"}),s=l("label",{className:"e-float-text"}),UO(e.element.id)||""===e.element.id||(s.id="label_"+e.element.id.replace(/ /g,"_"),WD(e.element,{"aria-labelledby":s.id})),UO(e.element.placeholder)||""===e.element.placeholder||(s.innerHTML=e.element.placeholder,e.element.removeAttribute("placeholder")),UO(e.properties)||UO(e.properties.placeholder)||""===e.properties.placeholder||(s.innerHTML=e.properties.placeholder),s.innerHTML||t.container.classList.add("e-no-float-label"),t.container.classList.contains("e-float-icon-left")){let n=t.container.querySelector(".e-input-in-wrap");n.appendChild(e.element),n.appendChild(i),n.appendChild(s)}else t.container.appendChild(e.element),t.container.appendChild(i),t.container.appendChild(s);c(e.element.value,s),"Always"===e.floatLabelType&&(s.classList.contains("e-label-bottom")&&FD([s],"e-label-bottom"),RD([s],"e-label-top")),"Auto"===e.floatLabelType&&(e.element.addEventListener("input",t=>{c(e.element.value,s)}),e.element.addEventListener("blur",t=>{c(e.element.value,s)})),UO(e.element.getAttribute("id"))||s.setAttribute("for",e.element.getAttribute("id"))}function o(e,t){"Always"===e&&t.classList.contains("e-outline")&&t.classList.add("e-valid-input")}function h(e,t){e?FD([t],"e-clear-icon-hide"):RD([t],"e-clear-icon-hide")}function c(e,t){e?(RD([t],"e-label-top"),t.classList.contains("e-label-bottom")&&FD([t],"e-label-bottom")):(t.classList.contains("e-label-top")&&FD([t],"e-label-top"),RD([t],"e-label-bottom"))}function d(e){let t=UO(e.parentNode)?e:e.parentNode;return t&&t.classList.contains("e-input-in-wrap")&&(t=t.parentNode),t}function u(e,t,n){t.addEventListener("click",n=>{e.classList.contains("e-disabled")||e.readOnly||(n.preventDefault(),e!==document.activeElement&&e.focus(),e.value="",RD([t],"e-clear-icon-hide"))}),e.addEventListener("input",n=>{h(e.value,t)}),e.addEventListener("focus",n=>{h(e.value,t)}),e.addEventListener("blur",e=>{setTimeout(()=>{RD([t],"e-clear-icon-hide")},200)})}function p(e,t){if(d(e).classList.contains("e-float-input")&&"Auto"===t){let t=d(e).getElementsByClassName("e-float-text")[0];c(e.value,t)}}function m(e,t,n,i,s){let l,r=UO(s)?ND:s;return UO(e.customTag)?l=r(i,{className:t}):(l=r(e.customTag,{className:t}),l.classList.add(n)),l.classList.add("e-control-wrapper"),l}function f(e,t,n){UO(n)||""===n||FD(t,n.split(" ")),UO(e)||""===e||RD(t,e.split(" "))}function g(e,t){let n;e=function(e){let t="";if(!UO(e)&&""!==e){let n=document.createElement("span");n.innerHTML='<input  placeholder="'+e+'"/>',t=n.children[0].placeholder}return t}(e),n=d(t),n.classList.contains("e-float-input")?UO(e)||""===e?(n.classList.add("e-no-float-label"),n.getElementsByClassName("e-float-text")[0].textContent=""):(n.getElementsByClassName("e-float-text")[0].textContent=e,n.classList.remove("e-no-float-label"),t.removeAttribute("placeholder")):UO(e)||""===e?(t.removeAttribute("placeholder"),t.removeAttribute("aria-placeholder")):WD(t,{placeholder:e,"aria-placeholder":e})}function b(e,t,n){e?WD(t,{readonly:""}):t.removeAttribute("readonly"),UO(n)||p(t,n)}function v(e,t){e?RD(t,"e-rtl"):FD(t,"e-rtl")}function y(e,t,n,i){let s={disabled:"disabled","aria-disabled":"true"},l=!UO(i);e?(t.classList.remove("e-disabled"),C(s,t),l&&FD([i],"e-disabled")):(t.classList.add("e-disabled"),x(s,t),l&&RD([i],"e-disabled")),UO(n)||p(t,n)}function w(e,t,n,i,s){let l=UO(s)?ND:s;e?n.clearButton=function(e,t,n,i){let s=(UO(i)?ND:i)("span",{className:"e-clear-icon"}),l=t.container;return UO(n)?(t.container.classList.contains("e-float-input")?t.container.querySelector(".e-float-text"):e).insertAdjacentElement("afterend",s):l.appendChild(s),!UO(l)&&l.classList.contains("e-float-input")&&RD([l],"e-input-group"),RD([s],"e-clear-icon-hide"),u(e,s),s.setAttribute("aria-label","close"),s}(t,n,i,l):(n.clearButton.remove(),n.clearButton=null)}function C(e,t){for(let n of Object.keys(e)){let e;e=d(t),"disabled"===n&&t.classList.remove("e-disabled"),"disabled"===n&&e.classList.contains("e-input-group")&&e.classList.remove("e-disabled"),"placeholder"===n&&e.classList.contains("e-float-input")?e.getElementsByClassName("e-float-text")[0].textContent="":t.removeAttribute(n)}}function x(e,t){for(let n of Object.keys(e)){let i;i=d(t),"disabled"===n&&t.classList.add("e-disabled"),"disabled"===n&&i.classList.contains("e-input-group")&&i.classList.add("e-disabled"),"placeholder"===n&&i.classList.contains("e-float-input")?i.getElementsByClassName("e-float-text")[0].textContent=e[n]:t.setAttribute(n,e[n])}}function _(e,t,n){let i=[];i.push(n);let s=UO(n)?t.querySelectorAll(".e-input-group-icon"):i;if(e&&s.length>0)for(let l=0;l<s.length;l++)s[l].addEventListener("mousedown",S,!1),s[l].addEventListener("mouseup",k,!1);else if(s.length>0)for(let l=0;l<s.length;l++)s[l].removeEventListener("mousedown",S,this),s[l].removeEventListener("mouseup",k,this)}function S(){let e=this.parentElement;for(;!e.classList.contains("e-input-group");)e=e.parentElement;var t;(t=e).classList.contains("e-disabled")||t.querySelector("input").readOnly||this.classList.add("e-input-btn-ripple")}function k(){let e=this;setTimeout(()=>{e.classList.remove("e-input-btn-ripple")},500)}function E(e,t){let n=t("span",{className:e});return n.classList.add("e-input-group-icon"),n}function O(e,t,n,i){let s=UO(i)?ND:i,l=E(e,s);t.classList.add("e-float-icon-left");let r=t.querySelector(".e-input-in-wrap");if(UO(r)){r=s("span",{className:"e-input-in-wrap"}),n.parentNode.insertBefore(r,n);let e=t.querySelectorAll(n.tagName+" ~ *");r.appendChild(n);for(let t=0;t<e.length;t++)r.appendChild(e[t])}return r.parentNode.insertBefore(l,r),t.classList.contains("e-input-group")||t.classList.add("e-input-group"),_(!0,t,l),l}function I(e,t,n){let i=E(e,UO(n)?ND:n);return t.classList.contains("e-input-group")||t.classList.add("e-input-group"),(t.classList.contains("e-float-icon-left")?t.querySelector(".e-input-in-wrap"):t).appendChild(i),_(!0,t,i),i}e.createInput=function(e,i){let s=UO(i)?ND:i,l={container:null,buttons:[],clearButton:null};if(t=e.floatLabelType,UO(e.floatLabelType)||"Never"===e.floatLabelType?(l.container=m(e,"e-input-group","e-input-custom-tag","span",s),e.element.parentNode.insertBefore(l.container,e.element),RD([e.element],"e-input"),l.container.appendChild(e.element)):a(e,l,s),n(e),UO(e.properties)||UO(e.properties.showClearButton)||!e.properties.showClearButton||"TEXTAREA"===e.element.tagName||(w(e.properties.showClearButton,e.element,l,!0,s),l.clearButton.setAttribute("role","button"),l.container.classList.contains("e-float-input")&&RD([l.container],"e-input-group")),!UO(e.buttons)&&"TEXTAREA"!==e.element.tagName)for(let t=0;t<e.buttons.length;t++)l.buttons.push(I(e.buttons[t],l.container,s));return UO(e.element)||"TEXTAREA"!==e.element.tagName||RD([l.container],"e-multi-line-input"),l=function(e,t){if(!UO(e.properties))for(let n of Object.keys(e.properties))switch(n){case"cssClass":f(e.properties.cssClass,[t.container]),o(e.floatLabelType,t.container);break;case"enabled":y(e.properties.enabled,e.element,e.floatLabelType,t.container);break;case"enableRtl":v(e.properties.enableRtl,[t.container]);break;case"placeholder":g(e.properties.placeholder,e.element);break;case"readonly":b(e.properties.readonly,e.element)}return t}(e,l),l},e.bindInitialEvent=n,e.wireFloatingEvents=r,e.wireClearBtnEvents=u,e.setValue=function(e,t,n,s){if(t.value=e,UO(n)||"Auto"!==n||p(t,n),!UO(s)&&s){let e=d(t);if(!UO(e)){let n=e.getElementsByClassName("e-clear-icon")[0];t.value&&e.classList.contains("e-input-focus")?FD([n],"e-clear-icon-hide"):RD([n],"e-clear-icon-hide")}}i(n,t)},e.setCssClass=f,e.setWidth=function(e,t){"number"==typeof e?t.style.width=KO(e):"string"==typeof e&&(t.style.width=e.match(/px|%|em/)?e:KO(e))},e.setPlaceholder=g,e.setReadonly=b,e.setEnableRtl=v,e.setEnabled=y,e.setClearButton=w,e.removeAttributes=C,e.addAttributes=x,e.removeFloating=function(e){let t=e.container;if(!UO(t)&&t.classList.contains("e-float-input")){let e=t.querySelector("textarea")?t.querySelector("textarea"):t.querySelector("input"),i=t.querySelector(".e-float-text").textContent,r=null!==t.querySelector(".e-clear-icon");qD(t.querySelector(".e-float-line")),qD(t.querySelector(".e-float-text")),KD(t,["e-input-group"],["e-float-input"]),(n=e).removeEventListener("focus",s),n.removeEventListener("blur",l),WD(e,{placeholder:i}),e.classList.add("e-input"),r||"INPUT"!==e.tagName||e.removeAttribute("required")}var n},e.addFloating=function(e,n,i,s){let l=UO(s)?ND:s,r=GD(e,".e-input-group");if(t=n,"Never"!==n){let t=r.tagName;t="DIV"!==t&&"SPAN"!==t?t:null;let s={element:e,floatLabelType:n,customTag:t,properties:{placeholder:i}},o=r.querySelector(".e-clear-icon"),h={container:r};e.classList.remove("e-input"),a(s,h,l);let c=r.classList.contains("e-float-icon-left");if(UO(o)&&(o=c?r.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):r.querySelector(".e-input-group-icon")),UO(o))c&&(o=r.querySelector(".e-input-group-icon")),UO(o)&&r.classList.remove("e-input-group");else{let t=r.querySelector(".e-float-line"),n=r.querySelector(".e-float-text"),i=c?r.querySelector(".e-input-in-wrap"):r;i.insertBefore(e,o),i.insertBefore(t,o),i.insertBefore(n,o)}}o(n,e.parentElement)},e.setRipple=function(e,t){for(let n=0;n<t.length;n++)_(e,t[n].container)},e.addIcon=function(e,t,n,i,s){let l="string"==typeof t?t.split(","):t;if("append"===e.toLowerCase())for(let r of l)I(r,n,s);else for(let r of l)O(r,n,i,s)},e.prependSpan=O,e.appendSpan=I}(ZP||(ZP={}));var JP=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const QP="e-input-group-icon",eL=new RegExp("^(-)?(\\d*)$"),tL=["title","style","class"];let nL=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.isVue=!1,this.preventChange=!1,this.numericOptions=e}preRender(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;let e=HO("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),FD([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=GD(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;let t=this.createElement("input"),n=0;for(;n<this.element.attributes.length;n++)"id"!==this.element.attributes[n].nodeName&&(t.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),t.innerHTML=this.element.innerHTML);this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(t),this.element=t,BO("ej2_instances",e,this.element)}WD(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off","aria-live":"assertive"}),this.l10n=new WA("numerictextbox",{incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null!==this.placeholder||this.updatePlaceholder()}render(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null===this.value||isNaN(this.value)||this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.renderComplete())}checkAttributes(e){let t=e?UO(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];for(let n of t)if(!UO(this.element.getAttribute(n)))switch(n){case"disabled":if(UO(this.numericOptions)||void 0===this.numericOptions.enabled||e){let t="disabled"!==this.element.getAttribute(n)&&""!==this.element.getAttribute(n)&&"true"!==this.element.getAttribute(n);this.setProperties({enabled:t},!e)}break;case"readonly":if(UO(this.numericOptions)||void 0===this.numericOptions.readonly||e){let t="readonly"===this.element.getAttribute(n)||""===this.element.getAttribute(n)||"true"===this.element.getAttribute(n);this.setProperties({readonly:t},!e)}break;case"placeholder":(UO(this.numericOptions)||void 0===this.numericOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if(UO(this.numericOptions)||void 0===this.numericOptions.value||e){let t=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));this.setProperties(BO(n,t,{}),!e)}break;case"min":if(UO(this.numericOptions)||void 0===this.numericOptions.min||e){let t=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null===t||isNaN(t)||this.setProperties(BO(n,t,{}),!e)}break;case"max":if(UO(this.numericOptions)||void 0===this.numericOptions.max||e){let t=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null===t||isNaN(t)||this.setProperties(BO(n,t,{}),!e)}break;case"step":if(UO(this.numericOptions)||void 0===this.numericOptions.step||e){let t=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null===t||isNaN(t)||this.setProperties(BO(n,t,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(n);break;case"name":this.inputName=this.element.getAttribute(n);break;default:let t=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));(null!==t&&!isNaN(t)||"value"===n)&&this.setProperties(BO(n,t,{}),!0)}}updatePlaceholder(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)}initCultureFunc(){this.instance=new SI(this.locale)}initCultureInfo(){this.cultureInfo.format=this.format,null!==HO("currency",this)&&(BO("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))}createWrapper(){let e=this.cssClass;UO(this.cssClass)||""===this.cssClass||(e=this.getNumericValidClassList(this.cssClass));let t=ZP.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=t,this.container=t.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&WD(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),WD(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&WD(this.container,{style:this.inputStyle})}updateDataAttribute(e){let t={};if(e)t=this.htmlAttributes;else for(let n=0;n<this.element.attributes.length;n++)t[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(let n of Object.keys(t))0===n.indexOf("data")&&this.hiddenInput.setAttribute(n,t[n])}updateHTMLAttrToElement(){if(!UO(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))tL.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){ZP.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(t))}getNumericValidClassList(e){let t=e;return UO(e)||""===e||(t=e.replace(/\s+/g," ").trim()),t}updateHTMLAttrToWrapper(){if(!UO(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))if(tL.indexOf(e)>-1)if("class"===e){let t=this.getNumericValidClassList(this.htmlAttributes[e]);""!==t&&RD([this.container],t.split(" "))}else if("style"===e){let t=this.container.getAttribute(e);t=UO(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.container.setAttribute(e,t)}else this.container.setAttribute(e,this.htmlAttributes[e])}setElementWidth(e){UO(e)||("number"==typeof e?this.container.style.width=KO(e):"string"==typeof e&&(this.container.style.width=e.match(/px|%|em/)?e:KO(e)))}spinBtnCreation(){this.spinDown=ZP.appendSpan(QP+" e-spin-down",this.container,this.createElement),WD(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),this.spinUp=ZP.appendSpan(QP+" e-spin-up",this.container,this.createElement),WD(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()}validateMinMax(){("number"!=typeof this.min||isNaN(this.min))&&this.setProperties({min:-Number.MAX_VALUE},!0),("number"!=typeof this.max||isNaN(this.max))&&this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),WD(this.element,{"aria-valuemin":this.min.toString(),"aria-valuemax":this.max.toString()})}formattedValue(e,t){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(t)}validateStep(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)}action(e,t){this.isInteract=!0;let n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,e)),this.raiseChangeEvent(t)}checkErrorClass(){this.isValidState?FD([this.container],"e-error"):RD([this.container],"e-error"),WD(this.element,{"aria-invalid":this.isValidState?"false":"true"})}bindClearEvent(){this.showClearButton&&zI.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}resetHandler(e){e.preventDefault(),this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)}clear(e){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",GD(this.element,"form")){let e=this.element.nextElementSibling,t=document.createEvent("KeyboardEvent");t.initEvent("keyup",!1,!0),e.dispatchEvent(t)}}resetFormHandler(){this.updateValue("EJS-NUMERICTEXTBOX"===this.element.tagName?null:this.inputEleValue)}setSpinButton(){UO(this.spinDown)||WD(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),UO(this.spinUp)||WD(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})}wireEvents(){zI.add(this.element,"focus",this.focusHandler,this),zI.add(this.element,"blur",this.focusOutHandler,this),zI.add(this.element,"keydown",this.keyDownHandler,this),zI.add(this.element,"keyup",this.keyUpHandler,this),zI.add(this.element,"input",this.inputHandler,this),zI.add(this.element,"keypress",this.keyPressHandler,this),zI.add(this.element,"change",this.changeHandler,this),zI.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&zI.add(this.formEle,"reset",this.resetFormHandler,this))}wireSpinBtnEvents(){zI.add(this.spinUp,jI.touchStartEvent,this.mouseDownOnSpinner,this),zI.add(this.spinDown,jI.touchStartEvent,this.mouseDownOnSpinner,this),zI.add(this.spinUp,jI.touchEndEvent,this.mouseUpOnSpinner,this),zI.add(this.spinDown,jI.touchEndEvent,this.mouseUpOnSpinner,this),zI.add(this.spinUp,jI.touchMoveEvent,this.touchMoveOnSpinner,this),zI.add(this.spinDown,jI.touchMoveEvent,this.touchMoveOnSpinner,this)}unwireEvents(){zI.remove(this.element,"focus",this.focusHandler),zI.remove(this.element,"blur",this.focusOutHandler),zI.remove(this.element,"keyup",this.keyUpHandler),zI.remove(this.element,"input",this.inputHandler),zI.remove(this.element,"keydown",this.keyDownHandler),zI.remove(this.element,"keypress",this.keyPressHandler),zI.remove(this.element,"change",this.changeHandler),zI.remove(this.element,"paste",this.pasteHandler),this.formEle&&zI.remove(this.formEle,"reset",this.resetFormHandler)}unwireSpinBtnEvents(){zI.remove(this.spinUp,jI.touchStartEvent,this.mouseDownOnSpinner),zI.remove(this.spinDown,jI.touchStartEvent,this.mouseDownOnSpinner),zI.remove(this.spinUp,jI.touchEndEvent,this.mouseUpOnSpinner),zI.remove(this.spinDown,jI.touchEndEvent,this.mouseUpOnSpinner),zI.remove(this.spinUp,jI.touchMoveEvent,this.touchMoveOnSpinner),zI.remove(this.spinDown,jI.touchMoveEvent,this.touchMoveOnSpinner)}changeHandler(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);let t=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(t,e)}raiseChangeEvent(e){if(this.prevValue!==this.value){let t={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),zO(t,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",t)}}pasteHandler(){if(!this.enabled||this.readonly)return;let e=this.element.value;setTimeout(()=>{this.numericRegex().test(this.element.value)||this.setElementValue(e)})}preventHandler(){let e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(()=>{if(this.element.selectionStart>0){let t,n=this.element.selectionStart,i=this.element.selectionStart-1,s=0,l=this.element.value.split("");t=HO("decimal",kI(this.locale)).charCodeAt(0)," "===this.element.value[i]&&this.element.selectionStart>0&&!e?(UO(this.prevVal)?this.element.value=this.element.value.trim():0!==i?this.element.value=this.prevVal:0===i&&(this.element.value=this.element.value.trim()),this.element.setSelectionRange(i,i)):isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&45!==this.element.value[this.element.selectionStart-1].charCodeAt(0)?(l.indexOf(this.element.value[this.element.selectionStart-1])!==l.lastIndexOf(this.element.value[this.element.selectionStart-1])&&this.element.value[this.element.selectionStart-1].charCodeAt(0)===t||this.element.value[this.element.selectionStart-1].charCodeAt(0)!==t)&&(this.element.value=this.element.value.substring(0,i)+this.element.value.substring(n,this.element.value.length),this.element.setSelectionRange(i,i),isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&this.element.selectionStart>0&&this.element.value.length&&this.preventHandler()):isNaN(parseFloat(this.element.value[this.element.selectionStart-2]))&&this.element.selectionStart>1&&45!==this.element.value[this.element.selectionStart-2].charCodeAt(0)&&(l.indexOf(this.element.value[this.element.selectionStart-2])!==l.lastIndexOf(this.element.value[this.element.selectionStart-2])&&this.element.value[this.element.selectionStart-2].charCodeAt(0)===t||this.element.value[this.element.selectionStart-2].charCodeAt(0)!==t)&&(this.element.setSelectionRange(i,i),this.nextEle=this.element.value[this.element.selectionStart],this.cursorPosChanged=!0,this.preventHandler()),!0===this.cursorPosChanged&&this.element.value[this.element.selectionStart]===this.nextEle&&isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&(this.element.setSelectionRange(this.element.selectionStart+1,this.element.selectionStart+1),this.cursorPosChanged=!1,this.nextEle=null),""===this.element.value.trim()&&this.element.setSelectionRange(s,s),this.element.selectionStart>0&&45===this.element.value[this.element.selectionStart-1].charCodeAt(0)&&this.element.selectionStart>1&&(this.element.value=UO(this.prevVal)?this.element.value:this.prevVal,this.element.setSelectionRange(this.element.selectionStart,this.element.selectionStart)),this.prevVal=this.element.value}})}keyUpHandler(e){if(!this.enabled||this.readonly)return;(!navigator.platform||!/iPad|iPhone|iPod/.test(navigator.platform))&&jI.isDevice&&this.preventHandler();let t=this.instance.getNumberParser({format:"n"})(this.element.value);if(t=null===t||isNaN(t)?null:t,this.hiddenInput.value=t||0===t?t.toString():null,GD(this.element,"form")){let e=this.element.nextElementSibling,t=document.createEvent("KeyboardEvent");t.initEvent("keyup",!1,!0),e.dispatchEvent(t)}}inputHandler(e){if(!this.enabled||this.readonly)return;let t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||t)&&jI.isDevice&&this.preventHandler(),this.isVue){let t=this.instance.getNumberParser({format:"n"})(this.element.value),n=this.instance.getNumberParser({format:"n"})(this.elementPrevValue),i={event:e,value:null===t||isNaN(t)?null:t,previousValue:null===n||isNaN(n)?null:n};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",i)}}keyDownHandler(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action("increment",e);break;case 40:e.preventDefault(),this.action("decrement",e)}}performAction(e,t,n){(null===e||isNaN(e))&&(e=0);let i="increment"===n?e+t:e-t;return i=this.correctRounding(e,t,i),this.strictMode?this.trimValue(i):i}correctRounding(e,t,n){let i=new RegExp("[,.](.*)"),s=(e.toString(),t.toString(),i.test(e.toString())),l=i.test(t.toString());if(s||l){let r=s?i.exec(e.toString())[0].length:0,a=l?i.exec(t.toString())[0].length:0,o=Math.max(r,a);return this.roundValue(n,o)}return n}roundValue(e,t){t=t||0;let n=Math.pow(10,t);return Math.round(e*=n)/n}updateValue(e,t){t&&(this.isInteract=!0),null===e||isNaN(e)||this.decimals&&(e=this.roundNumber(e,this.decimals)),this.changeValue(null===e||isNaN(e)?null:this.strictMode?this.trimValue(e):e),(!this.isVue||this.isVue&&!this.preventChange)&&this.raiseChangeEvent(t)}updateCurrency(e,t){BO(e,t,this.cultureInfo),this.updateValue(this.value)}changeValue(e){if(e||0===e){let t;t=this.getNumberOfDecimals(e),this.setProperties({value:this.roundNumber(e,t)},!0)}else this.setProperties({value:e=null},!0);this.modifyText(),this.strictMode||this.validateState()}modifyText(){if(this.value||0===this.value){let e=this.formatNumber(),t=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(t),WD(this.element,{"aria-valuenow":e}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null}setElementValue(e,t){ZP.setValue(e,t||this.element,this.floatLabelType,this.showClearButton)}validateState(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()}getNumberOfDecimals(e){let t,n=new RegExp("[eE][-+]?([0-9]+)"),i=e.toString();if(n.test(i)){let t=n.exec(i);UO(t)||(i=e.toFixed(Math.min(parseInt(t[1],10),20)))}let s=i.split(".")[1];return t=s&&s.length?s.length:0,null!==this.decimals&&(t=t<this.decimals?t:this.decimals),t}formatNumber(){let e;return e=this.getNumberOfDecimals(this.value),this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)}trimValue(e){return e>this.max?this.max:e<this.min?this.min:e}roundNumber(e,t){let n=e,i=t||0,s=n.toString().split("e");n=Math.round(Number(s[0]+"e"+(s[1]?Number(s[1])+i:i)));let l=n.toString().split("e");return n=Number(l[0]+"e"+(l[1]?Number(l[1])-i:-i)),Number(n.toFixed(i))}cancelEvent(e){return e.preventDefault(),!1}keyPressHandler(e){if(!this.enabled||this.readonly)return!0;if(!jI.isDevice&&"11.0"===jI.info.version&&13===e.keyCode){let t=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(t,e),!0}if(0===e.which||e.metaKey||e.ctrlKey||8===e.keyCode||13===e.keyCode)return!0;let t=String.fromCharCode(e.which),n=this.element.value;return n=n.substring(0,this.element.selectionStart)+t+n.substring(this.element.selectionEnd),!!this.numericRegex().test(n)||(e.preventDefault(),e.stopPropagation(),!1)}numericRegex(){let e=HO("decimal",kI(this.locale)),t="*";return"."===e&&(e="\\"+e),0===this.decimals&&this.validateDecimalOnType?eL:(this.decimals&&this.validateDecimalOnType&&(t="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+e+"\\d"+t+")?)|("+e+"\\d"+t+")))?$"))}mouseWheel(e){let t;e.preventDefault(),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t>0?this.action("increment",e):t<0&&this.action("decrement",e),this.cancelEvent(e)}focusHandler(e){if(this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,FD([this.container],"e-error"),this.prevValue=this.value,this.value||0===this.value){let e=this.formatNumber();this.setElementValue(e),this.isPrevFocused||(jI.isDevice||"11.0"!==jI.info.version?setTimeout(()=>{this.element.setSelectionRange(0,e.length)},jI.isDevice&&jI.isIos?600:0):this.element.setSelectionRange(0,e.length))}jI.isDevice||zI.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}}focusOutHandler(e){if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(e.preventDefault(),jI.isDevice){let e=this.element.value;this.element.focus(),this.isPrevFocused=!1;let t=this.element;setTimeout(()=>{this.setElementValue(e,t)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);let e=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(e),jI.isDevice||zI.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(GD(this.element,"form")){let e=this.element.nextElementSibling,t=document.createEvent("FocusEvent");t.initEvent("focusout",!1,!0),e.dispatchEvent(t)}}}mouseDownOnSpinner(e){if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),!this.getElementData(e))return;this.getElementData(e);let t=e.currentTarget,n=t.classList.contains("e-spin-up")?"increment":"decrement";zI.add(t,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(()=>{this.isCalled=!0,this.action(n,e)},150),zI.add(document,"mouseup",this.mouseUpClick,this)}touchMoveOnSpinner(e){document.elementFromPoint(e.clientX,e.clientY).classList.contains(QP)||clearInterval(this.timeOut)}mouseUpOnSpinner(e){if(this.isPrevFocused&&(this.element.focus(),jI.isDevice||(this.isPrevFocused=!1)),jI.isDevice||e.preventDefault(),!this.getElementData(e))return;let t=e.currentTarget,n=t.classList.contains("e-spin-up")?"increment":"decrement";if(zI.remove(t,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,e),this.isCalled=!1,zI.remove(document,"mouseup",this.mouseUpClick),GD(this.element,"form")){let e=this.element.nextElementSibling,t=document.createEvent("KeyboardEvent");t.initEvent("keyup",!1,!0),e.dispatchEvent(t)}}getElementData(e){return!(e.which&&3===e.which||e.button&&2===e.button||!this.enabled||this.readonly||(clearInterval(this.timeOut),0))}floatLabelTypeUpdate(){ZP.removeFloating(this.inputWrapper);let e=this.hiddenInput;this.hiddenInput.remove(),ZP.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])}mouseUpClick(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,zI.remove(this.spinUp,"mouseleave",this.mouseUpClick),zI.remove(this.spinDown,"mouseleave",this.mouseUpClick)}increment(e=this.step){this.isInteract=!1,this.changeValue(this.performAction(this.value,e,"increment")),this.raiseChangeEvent()}decrement(e=this.step){this.isInteract=!1,this.changeValue(this.performAction(this.value,e,"decrement")),this.raiseChangeEvent()}destroy(){this.unwireEvents();{qD(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),qD(this.spinUp),qD(this.spinDown));let e=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-live","aria-valuenow","aria-invalid"];for(let t=0;t<e.length;t++)this.element.removeAttribute(e[t]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),qD(this.container),super.destroy()}}getText(){return this.element.value}focusIn(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),RD([this.container],["e-input-focus"]))}focusOut(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),FD([this.container],["e-input-focus"]))}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"width":this.setElementWidth(e.width);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":ZP.setEnabled(e.enabled,this.element);break;case"enableRtl":ZP.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":ZP.setReadonly(e.readonly,this.element),this.readonly?WD(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0);break;case"placeholder":ZP.setPlaceholder(e.placeholder,this.element);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.updateValue(e.value),this.isVue&&this.preventChange&&(this.preventChange=!1);break;case"min":case"max":BO(n,HO(n,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),ZP.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":let i=HO(n,e);this.setProperties({currencyCode:i},!0),this.updateCurrency(n,i);break;case"currencyCode":let s=HO(n,e);this.setProperties({currency:s},!0),this.updateCurrency("currency",s);break;case"format":BO(n,HO(n,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}updateClearButton(e){ZP.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()}updateSpinButton(e){e.showSpinButton?this.spinBtnCreation():(qD(this.spinUp),qD(this.spinDown))}getModuleName(){return"numerictextbox"}};return JP([dA("")],e.prototype,"cssClass",void 0),JP([dA(null)],e.prototype,"value",void 0),JP([dA(-Number.MAX_VALUE)],e.prototype,"min",void 0),JP([dA(Number.MAX_VALUE)],e.prototype,"max",void 0),JP([dA(1)],e.prototype,"step",void 0),JP([dA(null)],e.prototype,"width",void 0),JP([dA(null)],e.prototype,"placeholder",void 0),JP([dA({})],e.prototype,"htmlAttributes",void 0),JP([dA(!0)],e.prototype,"showSpinButton",void 0),JP([dA(!1)],e.prototype,"readonly",void 0),JP([dA(!0)],e.prototype,"enabled",void 0),JP([dA(!1)],e.prototype,"showClearButton",void 0),JP([dA(!1)],e.prototype,"enablePersistence",void 0),JP([dA("n2")],e.prototype,"format",void 0),JP([dA(null)],e.prototype,"decimals",void 0),JP([dA(null)],e.prototype,"currency",void 0),JP([dA(null)],e.prototype,"currencyCode",void 0),JP([dA(!0)],e.prototype,"strictMode",void 0),JP([dA(!1)],e.prototype,"validateDecimalOnType",void 0),JP([dA("Never")],e.prototype,"floatLabelType",void 0),JP([mA()],e.prototype,"created",void 0),JP([mA()],e.prototype,"destroyed",void 0),JP([mA()],e.prototype,"change",void 0),JP([mA()],e.prototype,"focus",void 0),JP([mA()],e.prototype,"blur",void 0),e=JP([fA],e),e})();var iL=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let sL=(()=>{class e extends OA{}return iL([dA("None")],e.prototype,"placement",void 0),iL([dA(10)],e.prototype,"largeStep",void 0),iL([dA(1)],e.prototype,"smallStep",void 0),iL([dA(!1)],e.prototype,"showSmallTicks",void 0),iL([dA(null)],e.prototype,"format",void 0),e})(),lL=(()=>{class e extends OA{}return iL([dA(null)],e.prototype,"color",void 0),iL([dA(null)],e.prototype,"start",void 0),iL([dA(null)],e.prototype,"end",void 0),e})(),rL=(()=>{class e extends OA{}return iL([dA(!1)],e.prototype,"enabled",void 0),iL([dA(null)],e.prototype,"minStart",void 0),iL([dA(null)],e.prototype,"minEnd",void 0),iL([dA(null)],e.prototype,"maxStart",void 0),iL([dA(null)],e.prototype,"maxEnd",void 0),iL([dA(!1)],e.prototype,"startHandleFixed",void 0),iL([dA(!1)],e.prototype,"endHandleFixed",void 0),e})(),aL=(()=>{class e extends OA{}return iL([dA("")],e.prototype,"cssClass",void 0),iL([dA("Before")],e.prototype,"placement",void 0),iL([dA("Focus")],e.prototype,"showOn",void 0),iL([dA(!1)],e.prototype,"isVisible",void 0),iL([dA(null)],e.prototype,"format",void 0),e})(),oL=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.horDir="left",this.verDir="bottom",this.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},this.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},this.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",this.customAriaText=null,this.drag=!0}preRender(){this.l10n=new WA("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()}formChecker(){const e=GD(this.element,"form");e?(this.isForm=!0,UO(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!UO(this.formResetValue)&&"object"==typeof this.formResetValue?UO(this.formResetValue)&&(this.formResetValue=parseFloat(KO(this.min))):this.formResetValue=[parseFloat(KO(this.min)),parseFloat(KO(this.max))],this.formElement=e):this.isForm=!1}initCultureFunc(){this.internationalization=new SI(this.locale)}initCultureInfo(){this.tooltipFormatInfo.format=UO(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=UO(this.ticks.format)?null:this.ticks.format}formatString(e,t){let n=null,i=null;if(e||0===e){n=this.formatNumber(e);let s=this.numberOfDecimals(e);i=this.internationalization.getNumberFormat(t)(this.makeRoundNumber(e,s))}return{elementVal:n,formatString:i}}formatNumber(e){let t=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(e)}numberOfDecimals(e){let t=e.toString().split(".")[1];return t&&t.length?t.length:0}makeRoundNumber(e,t){return Number(e.toFixed(t||0))}fractionalToInteger(e){e=0===this.numberOfDecimals(e)?Number(e).toFixed(this.noOfDecimals):e;let t=1;for(let n=0;n<this.noOfDecimals;n++)t*=10;return Number((e*t).toFixed(0))}render(){this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete()}initialize(){RD([this.element],"e-slider"),this.setCSSClass()}setElementWidth(e){UO(e)||("number"==typeof e?this.sliderContainer.style.width=KO(e):"string"==typeof e&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:KO(e)))}setCSSClass(e){e&&FD([this.element],e.split(" ")),this.cssClass&&RD([this.element],this.cssClass.split(" "))}setEnabled(){this.enabled?(FD([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove("e-disabled"),this.wireEvents()):(RD([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add("e-disabled"),this.unwireEvents())}getTheme(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")}initRender(){this.sliderContainer=this.createElement("div",{className:"e-slider-container e-control-wrapper"}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:"e-slider-track"}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:UO(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:"e-slider-input"}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=UO(this.value)?parseFloat(KO(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat(KO(this.value.toString()))):[this.checkHandleValue(parseFloat(KO(this.value[0].toString()))),this.checkHandleValue(parseFloat(KO(this.value[1].toString())))],this.previousChanged=this.previousVal,UO(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?FD([this.sliderContainer],["e-disabled"]):RD([this.sliderContainer],["e-disabled"]),this.readonly?RD([this.sliderContainer],["e-read-only"]):FD([this.sliderContainer],["e-read-only"])}getThemeInitialization(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=this.isMaterial&&"Range"!==this.type&&this.tooltip.isVisible}createRangeBar(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:"e-range"}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&this.rangeBar.classList.add("Horizontal"===this.orientation?"e-drag-horizontal":"e-drag-vertical"))}createLimitBar(){{let e="Range"!==this.type?"e-limit-bar":"e-limit-first";e+=" e-limits",this.limitBarFirst=this.createElement("div",{attrs:{class:e}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:"e-limit-second e-limits"}}),this.element.appendChild(this.limitBarSecond))}}setOrientClass(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove("e-vertical"),this.sliderContainer.classList.add("e-horizontal"),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove("e-horizontal"),this.sliderContainer.classList.add("e-vertical"),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))}setAriaAttributes(e){let t=this.min,n=this.max;!UO(this.customValues)&&this.customValues.length>0&&(t=this.customValues[0],n=this.customValues[this.customValues.length-1]),"Range"!==this.type?WD(e,{"aria-valuemin":t.toString(),"aria-valuemax":n.toString()}):(!UO(this.customValues)&&this.customValues.length>0?[[t.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),n.toString()]]:[[t.toString(),this.value[1].toString()],[this.value[0].toString(),n.toString()]]).forEach((e,t)=>{let n=0===t?this.firstHandle:this.secondHandle;n&&WD(n,{"aria-valuemin":e[0],"aria-valuemax":e[1]})})}createSecondHandle(){this.secondHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.secondHandle.classList.add("e-handle-second"),this.element.appendChild(this.secondHandle)}createFirstHandle(){this.firstHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.firstHandle.classList.add("e-handle-first"),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:"e-handle e-material-handle"}}),this.element.appendChild(this.materialHandle))}wireFirstHandleEvt(e){e?(zI.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),zI.remove(this.firstHandle,"transitionend",this.transitionEnd),zI.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),zI.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(zI.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),zI.add(this.firstHandle,"transitionend",this.transitionEnd,this),zI.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),zI.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))}wireSecondHandleEvt(e){e?(zI.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),zI.remove(this.secondHandle,"transitionend",this.transitionEnd),zI.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),zI.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(zI.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),zI.add(this.secondHandle,"transitionend",this.transitionEnd,this),zI.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),zI.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))}handleStart(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"]("e-material-tooltip-start")))}transitionEnd(e){"transform"!==e.propertyName&&(this.handleStart(),this.getHandle().style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),this.isMaterial&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())}handleFocusOut(){this.firstHandle.classList.contains("e-handle-focused")&&this.firstHandle.classList.remove("e-handle-focused"),"Range"===this.type&&this.secondHandle.classList.contains("e-handle-focused")&&this.secondHandle.classList.remove("e-handle-focused")}handleFocus(e){e.currentTarget===this.firstHandle?this.firstHandle.classList.add("e-handle-focused"):this.secondHandle.classList.add("e-handle-focused")}handleOver(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(e.currentTarget)}handleLeave(e){!this.tooltip.isVisible||"Hover"!==this.tooltip.showOn||e.currentTarget.classList.contains("e-handle-focused")||e.currentTarget.classList.contains("e-tab-handle")||this.closeTooltip()}setHandler(){this.min>this.max&&(this.min=this.max),this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()}setEnableRTL(){{this.enableRtl&&"Vertical"!==this.orientation?RD([this.sliderContainer],"e-rtl"):FD([this.sliderContainer],"e-rtl");let e="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),e!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&(XD(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&XD(this.secondHandle,{top:"",left:"auto"}))}this.setBarColor()}tooltipValue(){let e,t={value:this.value,text:""};this.setTooltipContent(),t.text=e=this.tooltipObj.content,this.trigger("tooltipChange",t,t=>{this.addTooltipClass(t.text),e!==t.text&&(this.customAriaText=t.text,this.tooltipObj.content=t.text,this.setAriaAttrValue(this.firstHandle),"Range"===this.type&&this.setAriaAttrValue(this.secondHandle))})}setTooltipContent(){let e;e=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=e}formatContent(e,t){let n="",i=this.handleVal1,s=this.handleVal2;return!UO(this.customValues)&&this.customValues.length>0&&(i=this.customValues[this.handleVal1],s=this.customValues[this.handleVal2]),t?("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?UO(this.tooltip)||UO(this.tooltip.format)?s.toString()+" - "+i.toString():this.formatString(s,e).elementVal+" - "+this.formatString(i,e).elementVal:UO(this.tooltip)||UO(this.tooltip.format)?i.toString()+" - "+s.toString():this.formatString(i,e).elementVal+" - "+this.formatString(s,e).elementVal:UO(i)||(n=UO(this.tooltip)||UO(this.tooltip.format)?i.toString():this.formatString(i,e).elementVal),n):("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?UO(e.format)?s.toString()+" - "+i.toString():this.formatString(s,e).formatString+" - "+this.formatString(i,e).formatString:UO(e.format)?i.toString()+" - "+s.toString():this.formatString(i,e).formatString+" - "+this.formatString(s,e).formatString:UO(i)||(n=UO(e.format)?i.toString():this.formatString(i,e).formatString),n)}addTooltipClass(e){if(this.isMaterialTooltip){let t=e.toString().length;if(this.tooltipElement){let e=t>4?{oldCss:"e-material-default",newCss:"e-material-range"}:{oldCss:"e-material-range",newCss:"e-material-default"};this.tooltipElement.classList.remove(e.oldCss),this.tooltipElement.classList.contains(e.newCss)||(this.tooltipElement.classList.add(e.newCss),this.tooltipElement.style.transform=t>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else this.tooltipObj.cssClass="e-slider-tooltip "+(t>4?"e-material-range":"e-material-default")}}tooltipPlacement(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"}tooltipBeforeOpen(e){this.tooltipElement=e.element,this.tooltip.cssClass&&RD([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(e=>e)),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add("e-material-tooltip-hide"),this.handleStart(),this.setTooltipTransform())}tooltipCollision(e){if(this.isBootstrap||this.isBootstrap4||this.isMaterial&&!this.isMaterialTooltip){const t=this.isBootstrap4?3:6;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-t},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:t},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-t},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:t},!1)}}}wireMaterialTooltipEvent(e){this.isMaterialTooltip&&(e?zI.remove(this.tooltipElement,"mousedown touchstart",this.sliderDown):zI.add(this.tooltipElement,"mousedown touchstart",this.sliderDown,this))}tooltipPositionCalculation(e){let t;switch(e){case"TopCenter":t="e-slider-horizontal-before";break;case"BottomCenter":t="e-slider-horizontal-after";break;case"LeftCenter":t="e-slider-vertical-before";break;case"RightCenter":t="e-slider-vertical-after"}return t}getTooltipTransformProperties(e){let t;if(this.tooltipElement){let n="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;t="Horizontal"===this.orientation?"e-slider-horizontal-before"===e?{rotate:"rotate(45deg)",translate:`translateY(${n}px)`}:{rotate:"rotate(225deg)",translate:`translateY(${-n}px)`}:"e-slider-vertical-before"===e?{rotate:"rotate(-45deg)",translate:`translateX(${n}px)`}:{rotate:"rotate(-225deg)",translate:`translateX(${-n}px)`}}return t}openMaterialTooltip(){if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);let e=this.tooltipElement.firstElementChild;e.classList.remove("e-material-tooltip-hide"),e.classList.add("e-material-tooltip-show"),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add("e-material-tooltip-open"),this.materialHandle.style.transform="scale(0)",this.tooltipElement.style.transform=e.innerText.length>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout(()=>{this.tooltipElement.style.transition=this.transition.handle},2500):setTimeout(()=>{this.tooltipElement.style.transition="none"},2500)}}closeMaterialTooltip(){if(this.isMaterialTooltip){let e=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,e.classList.remove("e-material-tooltip-show"),e.classList.add("e-material-tooltip-hide"),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove("e-material-tooltip-open"),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(()=>{this.tooltipElement.style.transition="none"},2500)}}checkTooltipPosition(e){if(void 0===this.tooltipCollidedPosition||this.tooltipCollidedPosition!==e.collidedPosition){if(this.isMaterialTooltip){let t=this.tooltipPositionCalculation(e.collidedPosition);void 0!==t&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(t),this.previousTooltipClass=t),e.element.style.transform&&e.element.classList.contains("e-material-tooltip-open")&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}this.tooltipCollidedPosition=e.collidedPosition}this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()}setTooltipTransform(){let e=this.getTooltipTransformProperties(this.previousTooltipClass);this.tooltipElement.style.transform=this.tooltipElement.firstElementChild.innerText.length>4?`${e.translate} scale(0.01)`:`${e.translate} ${e.rotate} scale(0.01)`}renderTooltip(){this.tooltipObj=new kP({showTipPointer:this.isBootstrap||this.isMaterial||this.isBootstrap4,cssClass:"e-slider-tooltip",height:this.isMaterial?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()}initializeTooltipProps(){this.setProperties({tooltip:{showOn:this.isMaterialTooltip?"Always":"Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(e=>{UO(e)||(e.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add("e-material-slider"),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))}tooltipBeforeClose(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0}setButtons(){this.firstBtn=this.createElement("div",{className:"e-slider-button e-first-button"}),this.firstBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:"e-slider-button e-second-button"}),this.secondBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add("e-slider-btn"),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()}buttonTitle(){let e=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);let t=this.l10n.getConstant("decrementTitle"),n=this.l10n.getConstant("incrementTitle");WD(e?this.secondBtn:this.firstBtn,{"aria-label":t,title:t}),WD(e?this.firstBtn:this.secondBtn,{"aria-label":n,title:n})}buttonFocusOut(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")}repeatButton(e){let t,n=this.handleValueUpdate(),i=this.enableRtl&&"Vertical"!==this.orientation;e.target.parentElement.classList.contains("e-first-button")||e.target.classList.contains("e-first-button")?t=this.add(n,parseFloat(this.step.toString()),!!i):(e.target.parentElement.classList.contains("e-second-button")||e.target.classList.contains("e-second-button"))&&(t=this.add(n,parseFloat(this.step.toString()),!i)),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),t>=this.min&&t<=this.max&&(this.changeHandleValue(t),this.tooltipToggle(this.getHandle()))}repeatHandlerMouse(e){e.preventDefault(),"mousedown"!==e.type&&"touchstart"!==e.type||(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))}materialChange(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")}repeatHandlerUp(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()}customTickCounter(e){let t=4;return!UO(this.customValues)&&this.customValues.length>0&&(e>4&&(t=3),e>7&&(t=2),e>14&&(t=1),e>28&&(t=0)),t}renderScale(){let e="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:"e-scale e-"+e+"-scale e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",jI.isAndroid&&"h"===e&&this.ul.classList.add("e-tick-pos");let t=this.ticks.smallStep;this.ticks.showSmallTicks?t<=0&&(t=parseFloat(KO(this.step))):t=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat(KO(this.max))-parseFloat(KO(this.min));let n,i=this.fractionalToInteger(this.min),s=this.fractionalToInteger(this.max),l=this.fractionalToInteger(t),r=!UO(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,a=this.customTickCounter(r),o=!UO(this.customValues)&&this.customValues.length>0?r*a+r:Math.abs((s-i)/l);this.element.appendChild(this.ul);let h=parseFloat(this.min.toString());"v"===e&&(h=parseFloat(this.max.toString()));let c,d=0,u=100/o;u===1/0&&(u=5);for(let p=0,m=!UO(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,f=0;p<=o;p++){if(n=this.createElement("li",{attrs:{class:"e-tick",role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!UO(this.customValues)&&this.customValues.length>0)c=p%(a+1)==0,c&&("h"===e?(h=this.customValues[f],f++):(h=this.customValues[m],m--),n.setAttribute("title",h.toString()));else if(n.setAttribute("title",h.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))c="h"===e?(h-parseFloat(this.min.toString()))%this.ticks.largeStep==0:Math.abs(h-parseFloat(this.max.toString()))%this.ticks.largeStep==0;else{let t=this.fractionalToInteger(this.ticks.largeStep),n=this.fractionalToInteger(h);c="h"===e?(n-i)%t==0:Math.abs(n-parseFloat(s.toString()))%t==0}c&&n.classList.add("e-large"),"h"===e?n.style.width=u+"%":n.style.height=u+"%";let l,r=c?"Both"===this.ticks.placement?2:1:0;if(c)for(let e=0;e<r;e++)this.createTick(n,h,u);else UO(this.customValues)&&this.formatTicksValue(n,h);this.ul.appendChild(n),this.tickElementCollection.push(n),UO(this.customValues)&&(l=this.numberOfDecimals(t)>this.numberOfDecimals(h)?this.numberOfDecimals(t):this.numberOfDecimals(h),h=this.makeRoundNumber("h"===e?h+t:h-t,l),d=this.makeRoundNumber(d+t,l))}this.ticksAlignment(e,u)}updateTicksValues(e,t){if(t.childElementCount>0)for(let n=0;n<t.childElementCount;n++)this.blazortTicksValue(t,e,t.children[n]);else this.blazortTicksValue(t,e,null)}blazortTicksValue(e,t,n){const i=this.formatNumber(t),s=UO(this.ticks)||UO(this.ticks.format)?i:this.formatString(t,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:t,text:s,tickElement:e},t=>{e.setAttribute("title",t.text.toString()),n&&(n.innerHTML=this.enableHtmlSanitizer?QA.sanitize(t.text.toString()):t.text.toString())})}ticksAlignment(e,t,n=!0){this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add("e-first-tick"),this.lastChild.classList.add("e-last-tick"),this.sliderContainer.classList.add("e-scale-"+this.ticks.placement.toLowerCase()),"h"===e?(this.firstChild.style.width=t/2+"%",this.lastChild.style.width=t/2+"%"):(this.firstChild.style.height=t/2+"%",this.lastChild.style.height=t/2+"%"),n&&this.trigger("renderedTicks",{ticksWrapper:this.ul,tickElements:this.tickElementCollection}),this.scaleAlignment()}createTick(e,t,n){let i=this.createElement("span",{className:"e-tick-value e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(i),UO(this.customValues)?this.formatTicksValue(e,t,i,n):i.innerHTML=this.enableHtmlSanitizer?QA.sanitize(t.toString()):t.toString()}formatTicksValue(e,t,n,i){const s=this.formatNumber(t),l=UO(this.ticks)||UO(this.ticks.format)?s:this.formatString(t,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:t,text:l,tickElement:e},t=>{e.setAttribute("title",t.text.toString()),n&&(n.innerHTML=this.enableHtmlSanitizer?QA.sanitize(t.text.toString()):t.text.toString()),UO(this.renderingTicks)})}scaleAlignment(){this.tickValuePosition(),"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size"):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size")}tickValuePosition(){this.firstChild=this.element.querySelector("ul").children[0];let e,t,n=this.firstChild.getBoundingClientRect(),i=this.ticks.smallStep,s=Math.abs(parseFloat(KO(this.max))-parseFloat(KO(this.min)))/i;this.firstChild.children.length>0&&(e=this.firstChild.children[0].getBoundingClientRect());let l,r=[this.sliderContainer.querySelectorAll(".e-tick.e-large .e-tick-value")];l=[].slice.call(r[0],"Both"===this.ticks.placement?2:1);let a="Vertical"===this.orientation?2*n.height:2*n.width;for(let o=0;o<this.firstChild.children.length;o++)"Vertical"===this.orientation?this.firstChild.children[o].style.top=-e.height/2+"px":this.firstChild.children[o].style.left=this.enableRtl?(a-this.firstChild.children[o].getBoundingClientRect().width)/2+"px":-e.width/2+"px";for(let o=0;o<l.length;o++)t=l[o].getBoundingClientRect(),XD(l[o],"Vertical"===this.orientation?{top:(a-t.height)/2+"px"}:{left:(a-t.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==s&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===s&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove("e-last-tick"))}setAriaAttrValue(e){let t,n=!UO(this.ticks)&&!UO(this.ticks.format),i=this.formatContent(n?this.tooltipFormatInfo:this.ticksFormatInfo,!1),s=this.formatContent(n?this.ticksFormatInfo:this.tooltipFormatInfo,!0);i=this.customAriaText?this.customAriaText:i,t=2===i.split(" - ").length?i.split(" - "):[i,i],this.setAriaAttributes(e),WD(e,"Range"!==this.type?{"aria-valuenow":s,"aria-valuetext":i}:this.enableRtl?e===this.firstHandle?{"aria-valuenow":s.split(" - ")[1],"aria-valuetext":t[1]}:{"aria-valuenow":s.split(" - ")[0],"aria-valuetext":t[0]}:e===this.firstHandle?{"aria-valuenow":s.split(" - ")[0],"aria-valuetext":t[0]}:{"aria-valuenow":s.split(" - ")[1],"aria-valuetext":t[1]})}handleValueUpdate(){let e;return e="Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1,e}getLimitCorrectedValues(e){return"MinRange"===this.type||"Default"===this.type?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:1===this.activeHandle?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0]}focusSliderElement(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)}buttonClick(e){let t;this.focusSliderElement();let n=this.enableRtl&&"Vertical"!==this.orientation,i=this.handleValueUpdate();40===e.keyCode||37===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(i,parseFloat(this.step.toString()),!!n):38===e.keyCode||39===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(i,parseFloat(this.step.toString()),!n):33===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(i,parseFloat(this.ticks.largeStep.toString()),!n):34===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(i,parseFloat(this.ticks.largeStep.toString()),!!n):36===e.keyCode?t=parseFloat(this.min.toString()):35===e.keyCode&&(t=parseFloat(this.max.toString())),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),this.changeHandleValue(t),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains("e-tab-handle")||this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),e.currentTarget.classList.contains("e-first-button")&&zI.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains("e-second-button")&&zI.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)}tooltipToggle(e){this.isMaterialTooltip?this.tooltipElement.classList.contains("e-material-tooltip-open")?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)}buttonUp(e){e.currentTarget.classList.contains("e-first-button")&&zI.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains("e-second-button")&&zI.remove(this.secondBtn,"mouseup touchend",this.buttonUp)}setRangeBar(){"Horizontal"===this.orientation?"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",XD(this.rangeBar,{width:UO(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",XD(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):"MinRange"===this.type?(this.rangeBar.style.bottom="0px",XD(this.rangeBar,{height:UO(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",XD(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))}checkValidValueAndPos(e){return e=this.checkHandleValue(e),this.checkHandlePosition(e)}setLimitBarPositions(e,t,n,i){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.bottom=e+"px",this.limitBarFirst.style.height=t-e+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=n+"px",this.limitBarSecond.style.width=i-n+"px"):(this.limitBarSecond.style.left=n+"px",this.limitBarSecond.style.width=i-n+"px"):(this.limitBarSecond.style.bottom=n+"px",this.limitBarSecond.style.height=i-n+"px"))}setLimitBar(){if("Default"===this.type||"MinRange"===this.type){let e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);let t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t),this.setLimitBarPositions(e,t)}else if("Range"===this.type){let e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);let t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t);let n=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];n=this.checkValidValueAndPos(n);let i=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];i=this.checkValidValueAndPos(i),this.setLimitBarPositions(e,t,n,i)}}getLimitValueAndPosition(e,t,n,i){return UO(t)&&(t=this.min,UO(e)&&i&&(e=t)),UO(n)&&(n=this.max,UO(e)&&i&&(e=n)),e<t&&(e=t),e>n&&(e=n),[e,this.checkHandlePosition(e)]}setValue(){if(!UO(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=UO(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,this.activeHandle=UO(this.activeHandle)?"Range"===this.type?2:1:this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){let e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()}rangeValueUpdate(){null!==this.value&&"object"==typeof this.value||(this.value=[parseFloat(KO(this.min)),parseFloat(KO(this.max))])}validateRangeValue(){this.rangeValueUpdate(),this.setRangeValue()}modifyZindex(){"Range"===this.type?1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=AT(this.element)+"")}setHandlePosition(e){let t,n=1===this.activeHandle?this.handlePos1:this.handlePos2;t=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),t.forEach(e=>{"Horizontal"===this.orientation?this.enableRtl?e.style.right=`${n}px`:e.style.left=`${n}px`:e.style.bottom=`${n}px`}),this.changeEvent("change",e)}getHandle(){return 1===this.activeHandle?this.firstHandle:this.secondHandle}setRangeValue(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1}changeEvent(e,t){let n="change"===e?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),n!==this.value&&(this.trigger(e,this.changeEventArgs(e,t)),this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{let i=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:i},!0),(n.length===this.value.length&&this.value[0]!==n[0]||this.value[1]!==n[1])&&(this.trigger(e,this.changeEventArgs(e,t)),this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()}changeEventArgs(e,t){let n;return this.tooltip.isVisible&&this.tooltipObj?(this.tooltipValue(),n={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:this.tooltipObj.content,isInteracted:!UO(t)}):n={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:UO(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!UO(t)},n}setPreviousVal(e,t){"change"===e?this.previousVal=t:this.previousChanged=t}updateRangeValue(){let e=this.value.toString().split(",").map(Number);if(this.value=this.enableRtl&&"Vertical"!==this.orientation||this.rtl?[e[1],e[0]]:[e[0],e[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;let e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,e=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=e[0],this.handlePos2=e[1],this.preHandlePos2=this.handlePos2}}checkHandlePosition(e){let t;return e=100*(e-parseFloat(KO(this.min)))/(parseFloat(KO(this.max))-parseFloat(KO(this.min))),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(e/100):this.element.getBoundingClientRect().height*(e/100),parseFloat(KO(this.max))===parseFloat(KO(this.min))&&(t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),t}checkHandleValue(e){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat(KO(this.max));let t=this.tempStartEnd();return e<t.start?e=t.start:e>t.end&&(e=t.end),e}reposition(){this.firstHandle.style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),"Range"===this.type&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=`${this.handlePos1}px`:this.firstHandle.style.left=`${this.handlePos1}px`,this.isMaterialTooltip&&(this.enableRtl?this.materialHandle.style.right=`${this.handlePos1}px`:this.materialHandle.style.left=`${this.handlePos1}px`),"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",XD(this.rangeBar,{width:UO(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.enableRtl?this.secondHandle.style.right=`${this.handlePos2}px`:this.secondHandle.style.left=`${this.handlePos2}px`,this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",XD(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=`${this.handlePos1}px`,this.isMaterialTooltip&&(this.materialHandle.style.bottom=`${this.handlePos1}px`),"MinRange"===this.type?(this.rangeBar.style.bottom="0px",XD(this.rangeBar,{height:UO(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=`${this.handlePos2}px`,this.rangeBar.style.bottom=this.handlePos1+"px",XD(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(()=>{this.firstHandle.style.transition=this.scaleTransform,"Range"===this.type&&(this.secondHandle.style.transition=this.scaleTransform)}),this.refreshTooltip(this.tooltipTarget),this.setBarColor()}changeHandleValue(e){let t=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(t=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(t=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==t&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))}tempStartEnd(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}}xyToPosition(e){let t;if(this.min===this.max)return 100;if("Horizontal"===this.orientation){let t=e.x-this.element.getBoundingClientRect().left;this.val=t/(this.element.offsetWidth/100)}else{let t=e.y-this.element.getBoundingClientRect().top;this.val=100-t/(this.element.offsetHeight/100)}let n=this.stepValueCalculation(this.val);return n<0?n=0:n>100&&(n=100),this.enableRtl&&"Vertical"!==this.orientation&&(n=100-n),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(n/100):this.element.getBoundingClientRect().height*(n/100),t}stepValueCalculation(e){0===this.step&&(this.step=1);let t=parseFloat(KO(this.step))/((parseFloat(KO(this.max))-parseFloat(KO(this.min)))/100),n=e%Math.abs(t);return 0!==n&&(t/2>n?e-=n:e+=Math.abs(t)-n),e}add(e,t,n){let i,s=Math.pow(10,3);return i=n?(Math.round(e*s)+Math.round(t*s))/s:(Math.round(e*s)-Math.round(t*s))/s,i}positionToValue(e){let t,n=parseFloat(KO(this.max))-parseFloat(KO(this.min));return t="Horizontal"===this.orientation?e/this.element.getBoundingClientRect().width*n:e/this.element.getBoundingClientRect().height*n,this.add(t,parseFloat(this.min.toString()),!0)}sliderBarClick(e){let t;e.preventDefault(),"mousedown"===e.type||"click"===e.type?t={x:e.clientX,y:e.clientY}:"touchstart"===e.type&&(t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});let n=this.xyToPosition(t),i=this.positionToValue(n);if("Range"===this.type&&this.handlePos2-n<n-this.handlePos1){if(this.activeHandle=2,!this.limits.enabled||!this.limits.endHandleFixed){if(this.limits.enabled){let e=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd);i=e[0],n=e[1]}this.secondHandle.classList.add("e-handle-active"),this.handlePos2=this.preHandlePos2=n,this.handleVal2=i}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){let e=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);i=e[0],n=e[1]}this.firstHandle.classList.add("e-handle-active"),this.handlePos1=this.preHandlePos1=n,this.handleVal1=i}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add("e-tooltip-active");let s=this.element.querySelector(".e-tab-handle");if(s&&this.getHandle()!==s&&s.classList.remove("e-tab-handle"),e.target===(1===this.activeHandle?this.firstHandle:this.secondHandle))return!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains("e-tab-handle")||this.materialChange(),void this.tooltipToggle(this.getHandle());if(!this.checkRepeatedValue(i))return;let l=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=l.handle,"Default"!==this.type&&(this.rangeBar.style.transition=l.rangeBar),this.setHandlePosition(e),"Default"!==this.type&&this.setRangeBar()}sliderDown(e){if(e.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&e.target===this.rangeBar){let t,n;"mousedown"===e.type?[t,n]=[e.clientX,e.clientY]:"touchstart"===e.type&&([t,n]=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]),"Horizontal"===this.orientation?(this.firstPartRemain=t-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-t):(this.firstPartRemain=n-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-n),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);let i=this.element.querySelector(".e-tab-handle");i&&i.classList.remove("e-tab-handle"),zI.add(document,"mousemove touchmove",this.dragRangeBarMove,this),zI.add(document,"mouseup touchend",this.dragRangeBarUp,this)}else this.sliderBarClick(e),zI.add(document,"mousemove touchmove",this.sliderBarMove,this),zI.add(document,"mouseup touchend",this.sliderBarUp,this)}handleValueAdjust(e,t,n){1===n?(this.handleVal1=t,this.handleVal2=this.handleVal1+this.minDiff):2===n&&(this.handleVal2=t,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)}dragRangeBarMove(e){let t,n,i;if("touchmove"!==e.type&&e.preventDefault(),this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none",[n,i]="mousemove"===e.type?[e.clientX,e.clientY]:[e.changedTouches[0].clientX,e.changedTouches[0].clientY],!(this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed)){if(t=this.enableRtl?{x:n+this.secondPartRemain,y:i+this.secondPartRemain}:{x:n-this.firstPartRemain,y:i+this.secondPartRemain},this.handlePos1=this.xyToPosition(t),this.handleVal1=this.positionToValue(this.handlePos1),t=this.enableRtl?{x:n-this.firstPartRemain,y:i-this.firstPartRemain}:{x:n+this.secondPartRemain,y:i-this.firstPartRemain},this.handlePos2=this.xyToPosition(t),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled){let e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),e=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=e[0],this.handlePos2=e[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()}sliderBarUp(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove("e-handle-active"),"Range"===this.type&&this.secondHandle.classList.remove("e-handle-active"),this.closeTooltip(),this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove("e-tooltip-active")),zI.remove(document,"mousemove touchmove",this.sliderBarMove),zI.remove(document,"mouseup touchend",this.sliderBarUp)}sliderBarMove(e){let t;"touchmove"!==e.type&&e.preventDefault(),t="mousemove"===e.type?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};let n=this.xyToPosition(t),i=this.positionToValue(n);if(n=Math.round(n),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){let e=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);n=e[1],i=e[0]}this.handlePos1=n,this.handleVal1=i}this.firstHandle.classList.add("e-handle-active")}if("Range"===this.type)if(1===this.activeHandle){if(this.firstHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.startHandleFixed||(n>this.handlePos2&&(n=this.handlePos2,i=this.handleVal2),n===this.preHandlePos1))){if(this.limits.enabled){let e=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);i=e[0],n=e[1]}this.handlePos1=this.preHandlePos1=n,this.handleVal1=i,this.activeHandle=1}}else if(2===this.activeHandle&&(this.secondHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.endHandleFixed||(n<this.handlePos1&&(n=this.handlePos1,i=this.handleVal1),n===this.preHandlePos2)))){if(this.limits.enabled){let e=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd);i=e[0],n=e[1]}this.handlePos2=this.preHandlePos2=n,this.handleVal2=i,this.activeHandle=2}this.checkRepeatedValue(i)&&(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains("e-tab-handle")||this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())}dragRangeBarUp(e){this.changeEvent("changed",e),this.closeTooltip(),zI.remove(document,"mousemove touchmove",this.dragRangeBarMove),zI.remove(document,"mouseup touchend",this.dragRangeBarUp)}checkRepeatedValue(e){if("Range"===this.type){if(e===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(e===this.previousVal)return 0;return 1}refreshTooltip(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))}openTooltip(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)}closeTooltip(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)}keyDown(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e)}}wireButtonEvt(e){e?(zI.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),zI.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),zI.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),zI.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),zI.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),zI.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),zI.remove(this.firstBtn,"focusout",this.sliderFocusOut),zI.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(zI.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),zI.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),zI.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),zI.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),zI.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),zI.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),zI.add(this.firstBtn,"focusout",this.sliderFocusOut,this),zI.add(this.secondBtn,"focusout",this.sliderFocusOut,this))}wireEvents(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(zI.add(this.element,"mousedown touchstart",this.sliderDown,this),zI.add(this.sliderContainer,"keydown",this.keyDown,this),zI.add(this.sliderContainer,"keyup",this.keyUp,this),zI.add(this.element,"focusout",this.sliderFocusOut,this),zI.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&zI.add(this.formElement,"reset",this.formResetHandler,this))}unwireEvents(){zI.remove(this.element,"mousedown touchstart",this.sliderDown),zI.remove(this.sliderContainer,"keydown",this.keyDown),zI.remove(this.sliderContainer,"keyup",this.keyUp),zI.remove(this.element,"focusout",this.sliderFocusOut),zI.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),zI.remove(this.element,"reset",this.formResetHandler)}formResetHandler(){this.setProperties({value:this.formResetValue},!0),this.setValue()}keyUp(e){if(9===e.keyCode&&e.target.classList.contains("e-handle")&&(this.focusSliderElement(),!e.target.classList.contains("e-tab-handle"))){this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),e.target.classList.add("e-tab-handle");let t=e.target.parentElement;t===this.element&&(t.querySelector(".e-slider-track").classList.add("e-tab-track"),"Range"!==this.type&&"MinRange"!==this.type||t.querySelector(".e-range").classList.add("e-tab-range")),"Range"===this.type&&(this.activeHandle=e.target.previousSibling.classList.contains("e-handle")?2:1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)}hover(e){UO(e)||("mouseover"===e.type||"touchmove"===e.type||"mousemove"===e.type||"pointermove"===e.type||"touchstart"===e.type?this.sliderContainer.classList.add("e-slider-hover"):this.sliderContainer.classList.remove("e-slider-hover"))}sliderFocusOut(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),this.element.querySelector(".e-tab-track")&&(this.element.querySelector(".e-tab-track").classList.remove("e-tab-track"),"Range"!==this.type&&"MinRange"!==this.type||!this.element.querySelector(".e-tab-range")||this.element.querySelector(".e-tab-range").classList.remove("e-tab-range")),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)}removeElement(e){e.parentNode&&e.parentNode.removeChild(e)}changeSliderType(e,t){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove("e-material-slider"),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==e&&("Range"===e&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!UO(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===e||"Default"===e?UO(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):UO(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),this.isServerRendered&&"tooltip"===t||this.updateConfig()}changeRtl(){if(this.enableRtl||"Range"!==this.type||(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){let e=this.enableRtl&&"Vertical"!==this.orientation;WD(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),WD(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}}changeOrientation(){this.changeSliderType(this.type,"null")}updateConfig(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()}limitsPropertyChange(){this.limits.enabled?(UO(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),UO(this.limitBarFirst)&&UO(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(UO(this.limitBarFirst)||qD(this.limitBarFirst),UO(this.limitBarSecond)||qD(this.limitBarSecond))}getPersistData(){return this.addOnPersist(["value"])}destroy(){super.destroy(),this.unwireEvents(),window.removeEventListener("resize",this.onresize),FD([this.sliderContainer],["e-disabled"]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.isServerRendered||(this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),qD(this.sliderContainer)),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.isServerRendered||(this.element.innerHTML="")}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"cssClass":this.setCSSClass(t.cssClass);break;case"value":if(e&&t){let n=UO(e.value)?"Range"===this.type?[this.min,this.max]:this.min:e.value;this.setProperties({value:n},!0),UO(t.value)||t.value.toString()===n.toString()||(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(this.activeHandle=UO(e.value)||t.value[1]===n[1]?1:2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":UO(e.tooltip)||UO(t.tooltip)||this.setTooltip(n);break;case"type":UO(t)||!Object.keys(t).length||UO(t.type)||(this.changeSliderType(t.type,n),this.setZindex());break;case"enableRtl":t.enableRtl!==e.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=t.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":UO(this.sliderContainer.querySelector(".e-scale"))||(qD(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,e=>{e.match(/e-scale-/)&&this.sliderContainer.classList.remove(e)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove("e-slider-btn"),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}setReadOnly(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add("e-read-only")):(this.wireEvents(),this.sliderContainer.classList.remove("e-read-only"))}setMinMaxValue(){this.setValue(),this.refreshTooltip(this.tooltipTarget),UO(this.sliderContainer.querySelector(".e-scale"))||this.ul&&(qD(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,e=>{e.match(/e-scale-/)&&this.sliderContainer.classList.remove(e)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())}setZindex(){this.zIndex=6,UO(this.ticks)||"None"===this.ticks.placement||(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),this.isMaterial||UO(this.ticks)||"Both"!==this.ticks.placement||(this.element.style.zIndex=this.zIndex+2+""),this.firstHandle.style.zIndex=this.zIndex+3+"","Range"===this.type&&(this.secondHandle.style.zIndex=this.zIndex+4+"")}setTooltip(e){this.changeSliderType(this.type,e)}setBarColor(){let e,t,n=this.sliderTrack.lastElementChild;for(;n;)this.sliderTrack.removeChild(n),n=this.sliderTrack.lastElementChild;for(let i=0;i<this.colorRange.length;i++)if(!UO(this.colorRange[i].start)&&!UO(this.colorRange[i].end)&&this.colorRange[i].end>this.colorRange[i].start){this.colorRange[i].start<this.min&&(this.colorRange[i].start=this.min),this.colorRange[i].end>this.max&&(this.colorRange[i].end=this.max);let n=this.checkHandlePosition(this.colorRange[i].start),s=this.checkHandlePosition(this.colorRange[i].end),l=this.createElement("div");l.style.backgroundColor=this.colorRange[i].color,l.style.border="1px solid "+this.colorRange[i].color,"Horizontal"===this.orientation?(t="e-slider-horizantal-color",e=this.enableRtl?UO(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[i].end):this.checkHandlePosition(this.customValues.length-this.colorRange[i].end-1):this.checkHandlePosition(this.colorRange[i].start),l.style.width=s-n+"px",l.style.left=e+"px"):(t="e-slider-vertical-color",e=this.checkHandlePosition(this.colorRange[i].start),l.style.height=s-n+"px",l.style.bottom=e+"px"),l.classList.add(t),this.sliderTrack.appendChild(l)}}getModuleName(){return"slider"}};return iL([dA(null)],e.prototype,"value",void 0),iL([dA(null)],e.prototype,"customValues",void 0),iL([dA(1)],e.prototype,"step",void 0),iL([dA(null)],e.prototype,"width",void 0),iL([dA(0)],e.prototype,"min",void 0),iL([dA(100)],e.prototype,"max",void 0),iL([dA(!1)],e.prototype,"readonly",void 0),iL([dA("Default")],e.prototype,"type",void 0),iL([pA([{}],lL)],e.prototype,"colorRange",void 0),iL([uA({},sL)],e.prototype,"ticks",void 0),iL([uA({},rL)],e.prototype,"limits",void 0),iL([dA(!0)],e.prototype,"enabled",void 0),iL([uA({},aL)],e.prototype,"tooltip",void 0),iL([dA(!1)],e.prototype,"showButtons",void 0),iL([dA(!0)],e.prototype,"enableAnimation",void 0),iL([dA("Horizontal")],e.prototype,"orientation",void 0),iL([dA("")],e.prototype,"cssClass",void 0),iL([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),iL([mA()],e.prototype,"created",void 0),iL([mA()],e.prototype,"change",void 0),iL([mA()],e.prototype,"changed",void 0),iL([mA()],e.prototype,"renderingTicks",void 0),iL([mA()],e.prototype,"renderedTicks",void 0),iL([mA()],e.prototype,"tooltipChange",void 0),e=iL([fA],e),e})();var hL,cL=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let dL={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")};var uL=function(e){return e[e.Message=0]="Message",e[e.Label=1]="Label",e}({});let pL=(()=>{let e=hL=class extends QD{constructor(e,t){super(t,e),this.validated=[],this.errorRules=[],this.allowSubmit=!1,this.required="required",this.infoElement=null,this.inputElement=null,this.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",this.localyMessage={},this.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},void 0===this.rules&&(this.rules={}),this.l10n=new WA("formValidator",this.defaultMessages,this.locale),this.locale&&this.localeFunc(),yI.on("notifyExternalChange",this.afterLocalization,this),e="string"==typeof e?YD(e,document):e,null!=this.element&&(this.element.setAttribute("novalidate",""),this.inputElements=$D(this.selectQuery,this.element),this.createHTML5Rules(),this.wireEvents())}addRules(e,t){e&&(this.rules.hasOwnProperty(e)?qO(this.rules[e],t,{}):this.rules[e]=t)}removeRules(e,t){if(e||t)if(this.rules[e]&&!t)delete this.rules[e];else{if(UO(this.rules[e]&&t))return;for(let n=0;n<t.length;n++)delete this.rules[e][t[n]]}else this.rules={}}validate(e){let t=Object.keys(this.rules);if(e&&t.length)return this.validateRules(e),-1!==t.indexOf(e)&&0===this.errorRules.filter(t=>t.name===e).length;this.errorRules=[];for(let n of t)this.validateRules(n);return 0===this.errorRules.length}reset(){this.element.reset(),this.clearForm()}getInputElement(e){return this.inputElement=YD('[name="'+e+'"]',this.element),this.inputElement}destroy(){this.reset(),this.unwireEvents(),this.rules={};let e=$D("."+this.errorClass+", ."+this.validClass,this.element);for(let t of e)qD(t);super.destroy(),yI.off("notifyExternalChange",this.afterLocalization)}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"locale":this.localeFunc()}}localeFunc(){for(let e of Object.keys(this.defaultMessages)){this.l10n.setLocale(this.locale);let t=this.l10n.getConstant(e);this.localyMessage[e]=t}}getModuleName(){return"formValidator"}afterLocalization(e){this.locale=e.locale,this.localeFunc()}refresh(){this.unwireEvents(),this.inputElements=$D(this.selectQuery,this.element),this.wireEvents()}clearForm(){this.errorRules=[],this.validated=[];let e=$D(this.selectQuery,this.element);for(let t of e){let e=t;e.removeAttribute("aria-invalid"),e.classList.remove(this.errorClass),e.name.length>0&&(this.getInputElement(e.name),this.getErrorElement(e.name),this.hideMessage(e.name)),e.classList.remove(this.validClass)}}createHTML5Rules(){let e=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],t=["hidden","email","url","date","number","tel"];for(let n of this.inputElements){let i={};for(let s of e)if(null!==n.getAttribute(s))switch(s){case"required":this.defRule(n,i,s,n.required);break;case"data-validation":s=n.getAttribute(s),this.defRule(n,i,s,!0);break;case"type":-1!==t.indexOf(n.type)&&this.defRule(n,i,n.type,!0);break;case"rangeLength":case"range":this.defRule(n,i,s,JSON.parse(n.getAttribute(s)));break;case"equalTo":let e=n.getAttribute(s);this.defRule(n,i,s,e);break;default:"true"===n.getAttribute("data-val")?this.annotationRule(n,i,s,n.getAttribute(s)):this.defRule(n,i,s,n.getAttribute(s))}0!==Object.keys(i).length&&this.addRules(n.name,i)}}annotationRule(e,t,n,i){let s=n.split("-"),l=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],r=s[s.length-1],a=s[s.length-2];if(-1!==l.indexOf(r))switch(r){case"required":this.defRule(e,t,"required",i);break;case"creditcard":this.defRule(e,t,"creditcard",i);break;case"phone":this.defRule(e,t,"tel",i)}else if(-1!==l.indexOf(a))switch(a){case"maxlength":this.defRule(e,t,"maxLength",i);break;case"minlength":this.defRule(e,t,"minLength",i);break;case"range":let s=e.getAttribute("data-val-range-min"),l=e.getAttribute("data-val-range-max");this.defRule(e,t,"range",[s,l]);break;case"equalto":let r=e.getAttribute(n).split(".");this.defRule(e,t,"equalTo",r[r.length-1]);break;case"regex":this.defRule(e,t,"regex",i)}}defRule(e,t,n,i){let s,l=e.getAttribute("data-"+n+"-message"),r=e.getAttribute("data-val-"+n);this.rules[e.name]&&"validateHidden"!==n&&"hidden"!==n&&(this.getInputElement(e.name),s=this.getErrorMessage(this.rules[e.name][n],n)),l?i=[i,l]:r?i=[i,r]:s&&(i=[i,s]),t[n]=i}wireEvents(){for(let e of this.inputElements)hL.isCheckable(e)?zI.add(e,"click",this.clickHandler,this):"SELECT"===e.tagName?zI.add(e,"change",this.changeHandler,this):(zI.add(e,"focusout",this.focusOutHandler,this),zI.add(e,"keyup",this.keyUpHandler,this));zI.add(this.element,"submit",this.submitHandler,this),zI.add(this.element,"reset",this.resetHandler,this)}unwireEvents(){for(let e of this.inputElements)zI.clearEvents(e);zI.remove(this.element,"submit",this.submitHandler),zI.remove(this.element,"reset",this.resetHandler)}focusOutHandler(e){this.trigger("focusout",e);let t=e.target;this.rules[t.name]&&(this.rules[t.name][this.required]||t.value.length>0?this.validate(t.name):-1===this.validated.indexOf(t.name)&&this.validated.push(t.name))}keyUpHandler(e){this.trigger("keyup",e);let t=e.target;(9!==e.which||this.rules[t.name]&&(!this.rules[t.name]||this.rules[t.name][this.required]))&&-1!==this.validated.indexOf(t.name)&&this.rules[t.name]&&-1===[16,17,18,20,35,36,37,38,39,40,45,144,225].indexOf(e.which)&&this.validate(t.name)}clickHandler(e){this.trigger("click",e);let t=e.target;"submit"!==t.type?this.validate(t.name):null!==t.getAttribute("formnovalidate")&&(this.allowSubmit=!0)}changeHandler(e){this.trigger("change",e),this.validate(e.target.name)}submitHandler(e){this.trigger("submit",e),this.allowSubmit||this.validate()?this.allowSubmit=!1:e.preventDefault()}resetHandler(){this.clearForm()}validateRules(e){if(!this.rules[e])return;let t=Object.keys(this.rules[e]),n=!1,i=!1,s=t.indexOf("validateHidden"),l=t.indexOf("hidden");if(this.getInputElement(e),-1!==l&&(n=!0),-1!==s&&(i=!0),!n||n&&i){-1!==s&&t.splice(s,1),-1!==l&&t.splice(l-1,1),this.getErrorElement(e);for(let n of t){let t=this.getErrorMessage(this.rules[e][n],n),i={name:e,message:t},s={inputName:e,element:this.inputElement,message:t};if(!this.isValid(e,n)&&!this.inputElement.classList.contains(this.ignore)){this.removeErrorRules(e),this.errorRules.push(i),this.inputElement.setAttribute("aria-invalid","true"),this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info"),this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.infoElement?this.showMessage(i):this.createErrorElement(e,i.message,this.inputElement),s.errorElement=this.infoElement,s.status="failure",this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.optionalValidationStatus(e,s),this.trigger("validationComplete",s),"required"===n&&this.inputElement.setAttribute("aria-required","true");break}this.hideMessage(e),s.status="success",this.trigger("validationComplete",s)}}}optionalValidationStatus(e,t){this.rules[e][this.required]||this.inputElement.value.length||UO(this.infoElement)||(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),t.status="",this.hideMessage(e))}isValid(e,t){let n=this.rules[e][t],i=this.rules[e][t],s={value:this.inputElement.value,param:n instanceof Array&&"string"==typeof n[1]?n[0]:n,element:this.inputElement,formElement:this.element};return this.trigger("validationBegin",s),i&&"function"==typeof i[0]?i[0].call(this,{element:this.inputElement,value:this.inputElement.value}):hL.isCheckable(this.inputElement)?"required"!==t||$D("input[name="+e+"]:checked",this.element).length>0:hL.checkValidator[t](s)}getErrorMessage(e,t){let n=this.inputElement.getAttribute("data-"+t+"-message")?this.inputElement.getAttribute("data-"+t+"-message"):e instanceof Array&&"string"==typeof e[1]?e[1]:0!==Object.keys(this.localyMessage).length?this.localyMessage[t]:this.defaultMessages[t],i=n.match(/{(\d)}/g);if(!UO(i))for(let s=0;s<i.length;s++)n=n.replace(i[s],e instanceof Array?e[s]:e);return n}createErrorElement(e,t,n){let i=ND(this.errorElement,{className:this.errorClass,innerHTML:t,attrs:{for:e}});if(this.errorOption===uL.Message&&(i.classList.remove(this.errorClass),i.classList.add("e-message"),i=ND(this.errorContainer,{className:this.errorClass,innerHTML:i.outerHTML})),i.id=this.inputElement.name+"-info",this.element.querySelector('[data-valmsg-for="'+n.id+'"]'))this.element.querySelector('[data-valmsg-for="'+n.id+'"]').appendChild(i);else if(!0===n.hasAttribute("data-msg-containerid")){let e=n.getAttribute("data-msg-containerid");this.element.querySelector("#"+e).appendChild(i)}else null!=this.customPlacement?this.customPlacement.call(this,this.inputElement,i):this.inputElement.parentNode.insertBefore(i,this.inputElement.nextSibling);i.style.display="block",this.getErrorElement(e),this.validated.push(e),this.checkRequired(e)}getErrorElement(e){return this.infoElement=YD(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=YD(this.errorElement+"."+this.errorClass+'[for="'+e+'"]',this.element)),this.infoElement}removeErrorRules(e){for(let t=0;t<this.errorRules.length;t++)this.errorRules[t].name===e&&this.errorRules.splice(t,1)}showMessage(e){this.infoElement.style.display="block",this.infoElement.innerHTML=e.message,this.checkRequired(e.name)}hideMessage(e){this.infoElement&&(this.infoElement.style.display="none",this.removeErrorRules(e),this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass),this.inputElement.setAttribute("aria-invalid","false"))}checkRequired(e){this.rules[e][this.required]||this.inputElement.value.length||UO(this.infoElement)||(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(e))}static isCheckable(e){let t=e.getAttribute("type");return t&&("checkbox"===t||"radio"===t||"submit"===t)}};return e.checkValidator={required:e=>e.value.length>0,email:e=>dL.EMAIL.test(e.value),url:e=>dL.URL.test(e.value),dateIso:e=>dL.DATE_ISO.test(e.value),tel:e=>dL.PHONE.test(e.value),creditcard:e=>dL.CREDITCARD.test(e.value),number:e=>!isNaN(Number(e.value))&&-1===e.value.indexOf(" "),digits:e=>dL.DIGITS.test(e.value),maxLength:e=>e.value.length<=e.param,minLength:e=>e.value.length>=e.param,rangeLength:e=>{let t=e.param;return e.value.length>=t[0]&&e.value.length<=t[1]},range:e=>{let t=e.param;return!isNaN(Number(e.value))&&Number(e.value)>=t[0]&&Number(e.value)<=t[1]},date:e=>!isNaN(new Date(e.value).getTime()),max:e=>isNaN(Number(e.value))?new Date(e.value).getTime()<=new Date(JSON.parse(JSON.stringify(e.param))).getTime():+e.value<=e.param,min:e=>{if(isNaN(Number(e.value))){if(-1!==e.value.indexOf(",")){let t=e.value.replace(/,/g,"");return parseFloat(t)>=e.param}return new Date(e.value).getTime()>=new Date(JSON.parse(JSON.stringify(e.param))).getTime()}return+e.value>=e.param},regex:e=>new RegExp(e.param).test(e.value),equalTo:e=>{let t=e.formElement.querySelector("#"+e.param);return e.param=t.value,e.param===e.value}},cL([dA("")],e.prototype,"locale",void 0),cL([dA("e-hidden")],e.prototype,"ignore",void 0),cL([dA()],e.prototype,"rules",void 0),cL([dA("e-error")],e.prototype,"errorClass",void 0),cL([dA("e-valid")],e.prototype,"validClass",void 0),cL([dA("label")],e.prototype,"errorElement",void 0),cL([dA("div")],e.prototype,"errorContainer",void 0),cL([dA(uL.Label)],e.prototype,"errorOption",void 0),cL([mA()],e.prototype,"focusout",void 0),cL([mA()],e.prototype,"keyup",void 0),cL([mA()],e.prototype,"click",void 0),cL([mA()],e.prototype,"change",void 0),cL([mA()],e.prototype,"submit",void 0),cL([mA()],e.prototype,"validationBegin",void 0),cL([mA()],e.prototype,"validationComplete",void 0),cL([mA()],e.prototype,"customPlacement",void 0),e=hL=cL([fA],e),e})();var mL=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const fL="e-switch-ctrl-btn",gL="e-hide-hex-value",bL="e-hide-switchable-value",vL="e-hide-value",yL="e-hsv-color",wL="e-selected-value",CL="e-mode-switch-btn",xL="e-nocolor-item",_L="e-opacity-value",SL="e-preview-container",kL="e-show-value",EL="e-selected",OL="e-tile",IL=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"];let DL=(()=>{let e=class extends TA{constructor(e,t){super(e,t)}preRender(){let e=this.element;this.formElement=GD(this.element,"form"),this.formElement&&zI.add(this.formElement,"reset",this.formResetHandler,this),this.l10n=new WA("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)}render(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||RD([this.container.parentElement],"e-hide-opacity"),this.renderComplete()}initWrapper(){let e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),WD(this.element,{tabindex:"-1",spellcheck:"false"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);let t=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(t="");let n=t.slice(0,7);UO(this.initialInputValue)&&(this.initialInputValue=n),this.element.value=n,this.setProperties(this.enableOpacity?{value:t}:{value:n},!0),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&RD([e],this.cssClass.split(" ")),this.tileRipple=wA(this.container,{selector:"."+OL}),this.ctrlBtnRipple=wA(this.container,{selector:".e-btn"})}getWrapper(){return this.element.parentElement}createWidget(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),jI.isDevice&&this.refreshPopupPos()}createSplitBtn(){let e=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(e),this.splitBtn=new XP({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,open:this.onOpen.bind(this),click:e=>{this.trigger("change",{currentValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},previousValue:{hex:null,rgba:null},value:this.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(e);let t=this.createElement("span",{className:"e-split-preview"});YD(".e-selected-color",e).appendChild(t),t.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));let n=this.getPopupEle();if(RD([n],"e-colorpicker-popup"),this.cssClass&&RD([n],this.cssClass.split(" ")),jI.isDevice){let e=this.getPopupInst();e.relateTo=document.body,e.position={X:"center",Y:"center"},e.targetType="container",e.collision={X:"fit",Y:"fit"},e.offsetY=4,n.style.zIndex=AT(this.splitBtn.element).toString()}this.bindCallBackEvent()}onOpen(e){this.trigger("open",{element:this.container})}getPopupInst(){return QO(this.getPopupEle(),IT)}bindCallBackEvent(){this.splitBtn.beforeOpen=e=>{let t=new KP;return this.trigger("beforeOpen",e,n=>{if(!n.cancel){let e=this.getPopupEle();e.style.top=KO(0+pageYOffset),e.style.left=KO(0+pageXOffset),e.style.display="block",this.createWidget(),e.style.display="",jI.isDevice&&(this.modal=this.createElement("div"),this.modal.className="e-"+this.getModuleName()+" e-modal",this.modal.style.display="none",document.body.insertBefore(this.modal,e),document.body.className+=" e-colorpicker-overflow",this.modal.style.display="block",this.modal.style.zIndex=(Number(e.style.zIndex)-1).toString())}e.cancel=n.cancel,t.resolve(n)}),t},this.splitBtn.beforeClose=e=>{let t=new KP;return UO(e.event)?t.resolve(e):this.trigger("beforeClose",{element:this.container,event:e.event,cancel:!1},n=>{jI.isDevice&&e.event.target===this.modal&&(n.cancel=!0),n.cancel||this.onPopupClose(),e.cancel=n.cancel,t.resolve(n)}),t}}onPopupClose(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",YD(".e-split-preview",this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",FD([this.container],["e-color-picker","e-color-palette"]),jI.isDevice&&this.modal&&(FD([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}createPalette(){if(KD(this.container,["e-color-palette"],["e-color-picker"]),this.presetColors){let e=this.createElement("div",{className:"e-custom-palette"});this.appendElement(e);let t=Object.keys(this.presetColors);if(1===t.length)this.appendPalette(this.presetColors[t[0]],t[0],e);else for(let n=0,i=t.length;n<i;n++)this.appendPalette(this.presetColors[t[n]],t[n],e);$D(".e-row",e).length>10&&RD([e],"e-palette-group")}else this.appendPalette(IL,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();let e=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=KO(this.container.children[0].offsetWidth+e+e),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)}firstPaletteFocus(){YD("."+EL,this.container.children[0])||$D(".e-palette",this.container)[0].focus()}appendPalette(e,t,n){let i,s,l,r=this.createElement("div",{className:"e-palette",attrs:{tabindex:"0"}});n?n.appendChild(r):this.appendElement(r);for(let a=0,o=e.length;a<o;a++)0!==a&&a%this.columns!=0||(i=this.createElement("div",{className:"e-row",attrs:{role:"row"}}),r.appendChild(i)),l=this.roundValue(e[a]).toLowerCase(),s=this.createElement("span",{className:OL,attrs:{role:"gridcell","aria-label":l,"aria-selected":"false"}}),this.trigger("beforeTileRender",{element:s,presetName:t,value:e[a]}),i.appendChild(s),this.value===l&&(this.addTileSelection(s),r.focus()),s.style.backgroundColor=this.convertToRgbString(this.hexToRgb(l))}setNoColor(){let e=this.container.querySelector(".e-row").children[0];e.classList.add(xL),this.value||(e.classList.add(EL),GD(e,".e-palette").focus()),["aria-selected","aria-label"].forEach(t=>{e.removeAttribute(t)}),e.style.backgroundColor=""}appendElement(e,t=0){let n=this.container.children[t];n?this.container.insertBefore(e,n):this.container.appendChild(e)}addTileSelection(e){e.classList.add(EL),e.setAttribute("aria-selected","true")}createPicker(){KD(this.container,["e-color-picker"],["e-color-palette"]);let e=this.createElement("div",{className:"e-hsv-container"});this.appendElement(e),e.appendChild(this.createElement("div",{className:yL}));let t=this.createElement("span",{className:"e-handler",attrs:{tabindex:"0"}});e.appendChild(t),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()}setHsvContainerBg(e=this.hsv[0]){this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))}getHsvContainer(){return YD(".e-hsv-container",this.container)}setHandlerPosition(){let e=this.getDragHandler(),t=YD("."+yL,this.container);e.style.left=KO(this.enableRtl?t.offsetWidth*Math.abs(100-this.hsv[1])/100:t.offsetWidth*this.hsv[1]/100),e.style.top=KO(t.offsetHeight*(100-this.hsv[2])/100)}createSlider(){let e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);let t=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(t,e.children[0]);let n=this.createElement("div",{className:"e-hue-slider"});t.appendChild(n),this.hueSlider=new oL({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(n),this.enableOpacity&&(n=this.createElement("div",{className:"e-opacity-slider"}),t.appendChild(n),this.createOpacitySlider(n))}createOpacitySlider(e){this.opacitySlider=new oL({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);let t=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(t),this.updateOpacitySliderBg()}updateOpacitySliderBg(){let e=this.enableRtl?"to left":"to right";YD(".e-slider-track",this.opacitySlider.element).style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)"}hueChange(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()}opacityChange(e){let t=e.value,n=this.rgbToHex(this.rgb);this.hsv[3]=t/100,this.rgb[3]=t/100;let i=this.rgbToHex(this.rgb);this.updateOpacityInput(t);let s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.triggerEvent(i,n,s)}updateOpacityInput(e){if(!this.getWrapper().classList.contains(vL)){let t=QO(YD("."+_L,this.container),nL);t.value=e,t.dataBind()}}createPreview(e){let t=this.createElement("div",{className:SL});e.appendChild(t);let n=this.createElement("span",{className:"e-preview e-current"});t.appendChild(n);let i=this.convertToRgbString(this.rgb);n.style.backgroundColor=i,n=this.createElement("span",{className:"e-preview e-previous"}),t.appendChild(n),n.style.backgroundColor=i}isPicker(){return!this.container.classList.contains("e-color-palette")}getPopupEle(){return this.container.parentElement}createNumericInput(e,t,n,i){let s=new nL({value:t,placeholder:n,min:0,max:i,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:e=>{e.event&&this.inputHandler(e.event)}});s.createElement=this.createElement,s.appendTo(e)}createInput(){let e=this.isPicker(),t=this.getWrapper();if(e&&!t.classList.contains(vL)||!e&&t.classList.contains(kL)){let n=this.createElement("div",{className:wL});this.appendElement(n,e?2:1);let i=this.createElement("div",{className:"e-input-container"});if(n.appendChild(i),t.classList.contains("e-hide-valueswitcher")||this.appendValueSwitchBtn(n),!t.classList.contains(gL)){let e=this.createElement("input",{className:"e-hex",attrs:{maxlength:"7",spellcheck:"false"}});i.appendChild(e),ZP.createInput({element:e,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),ZP.setValue(this.value.slice(0,7),e),e.addEventListener("input",this.inputHandler.bind(this))}if(!t.classList.contains(bL)){let e,t;this.isRgb?(e="RGB",t=this.rgb):(e="HSV",t=this.hsv);let n=["rh","gs","bv"];for(let s=0;s<3;s++)this.createNumericInput(i.appendChild(this.createElement("input",{className:"e-"+n[s]+"-value"})),t[s],e[s],255);this.enableOpacity&&this.appendOpacityValue(i)}}}appendOpacityValue(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:_L})),100*this.rgb[3],"A",100)}appendValueSwitchBtn(e){let t=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn e-value-switch-btn"});e.appendChild(t),this.isPicker()&&!this.getWrapper().classList.contains(bL)&&t.addEventListener("click",this.formatSwitchHandler.bind(this))}createCtrlBtn(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);let e=this.createElement("div",{className:fL});if(this.container.appendChild(e),this.showButtons){let t=this.createElement("div",{className:"e-ctrl-btn"});e.appendChild(t);let n=this.l10n.getConstant("Apply");t.appendChild(this.createElement("button",{innerHTML:n,className:"e-btn e-css e-flat e-primary e-small e-apply",attrs:{title:n}}));let i=this.l10n.getConstant("Cancel");t.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-css e-flat e-small e-cancel",attrs:{title:i}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}}appendModeSwitchBtn(){let e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+CL,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});YD("."+fL,this.container).insertBefore(e,YD(".e-ctrl-btn",this.container))}createDragTooltip(){let e=new kP({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:e=>{this.tooltipEle=e.element},animation:{open:{effect:"None"},close:{effect:"None"}}});e.createElement=this.createElement,e.appendTo(this.container),e.open(this.container),this.tooltipEle.style.zIndex=AT(this.tooltipEle).toString(),YD(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))}getTooltipInst(){return QO(this.container,kP)}setTooltipOffset(e){this.getTooltipInst().offsetY=e}toggleDisabled(e){e?this.getWrapper().classList.add("e-disabled"):this.getWrapper().classList.remove("e-disabled"),this.showButtons&&[].slice.call($D(".e-btn",this.container)).forEach(t=>{e?WD(t,{disabled:""}):t.removeAttribute("disabled")})}convertToRgbString(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""}convertToHsvString(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"}updateHsv(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()}convertToOtherFormat(e=!1){let t=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);let n=this.rgbToHex(this.rgb),i=this.convertToRgbString(this.rgb);this.updatePreview(i),this.updateInput(n),this.triggerEvent(n,t,i,e)}updateInput(e){let t=this.getWrapper();t.classList.contains(vL)||(t.classList.contains(gL)||ZP.setValue(e.substr(0,7),YD(".e-hex",this.container)),t.classList.contains(bL)||this.updateValue(this.isRgb?this.rgb:this.hsv,!1))}updatePreview(e){this.enableOpacity&&this.updateOpacitySliderBg(),YD(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,YD("."+SL+" .e-current",this.container).style.backgroundColor=e,YD("."+SL+" .e-previous",this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))}getDragHandler(){return YD(".e-handler",this.container)}removeTileSelection(){[].slice.call($D("."+EL,this.container.children[0])).forEach(e=>{e.classList.remove(EL),e.setAttribute("aria-selected","false")})}convertRgbToNumberArray(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((e,t)=>3!==t?parseInt(e,10):parseFloat(e))}getValue(e,t){if(e||(e=this.value),t=t?t.toLowerCase():"hex","r"===e[0]){let n=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){let e=this.rgbToHex(n);return"hex"===t?e.slice(0,7):e}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"null"}if("h"===e[0]){let n=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if("rgba"===t)return this.convertToRgbString(n);if("hex"===t||"hexa"===t){let e=this.rgbToHex(n);return"hex"===t?e.slice(0,7):e}return"rgb"===t?this.convertToRgbString(n.slice(0,3)):"null"}{e=this.roundValue(e);let n=this.hexToRgb(e);return"rgb"!==t&&"hsv"!==t||(n=n.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(n):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"hex"===t?e.slice(0,7):"a"===t?n[3].toString():"null"}}toggle(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)}getModuleName(){return"colorpicker"}getPersistData(){return this.addOnPersist(["value"])}wireEvents(){if(this.isPicker()){let e=this.getDragHandler();zI.add(e,"keydown",this.pickerKeyDown,this),zI.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),zI.add(YD(".e-previous",this.container),"click",this.previewHandler,this)}else zI.add(this.container,"click",this.paletteClickHandler,this),zI.add(this.container,"keydown",this.paletteKeyDown,this)}formResetHandler(){this.value=this.initialInputValue,WD(this.element,{value:this.initialInputValue})}addCtrlSwitchEvent(){zI.add(YD("."+fL,this.container),"click",this.btnClickHandler,this)}pickerKeyDown(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:e.preventDefault();let t=this.rgbToHex(this.rgb);this.enterKeyHandler(t,e)}}enterKeyHandler(e,t){this.triggerChangeEvent(e),this.inline||(this.closePopup(t),this.splitBtn.element.focus())}closePopup(e){this.trigger("beforeClose",{element:this.container,event:e,cancel:!1},e=>{e.cancel||(this.splitBtn.toggle(),this.onPopupClose())})}triggerChangeEvent(e){let t=e.slice(0,7);this.trigger("change",{currentValue:{hex:t,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:t}),this.setProperties(this.enableOpacity?{value:e}:{value:t},!0),this.element.value=t||"#000000"}handlerDragPosition(e,t,n){n.preventDefault(),this.hsv[e]+=t*(n.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0)}handlerDown(e){e.preventDefault(),"mousedown"===e.type?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),zI.add(document,"mousemove touchmove",this.handlerMove,this),zI.add(document,"mouseup touchend",this.handlerEnd,this)}handlerMove(e){let t,n;"touchmove"!==e.type&&e.preventDefault(),"mousemove"===e.type?(t=Math.abs(e.pageX-pageXOffset),n=Math.abs(e.pageY-pageYOffset)):(t=Math.abs(e.changedTouches[0].pageX-pageXOffset),n=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(t,n);let i=this.getDragHandler();parseInt(i.style.left,10),parseInt(i.style.top,10),this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(i),this.tooltipEle.style.transform||(Math.abs(this.clientX-t)>8||Math.abs(this.clientY-n)>8)&&(YD("."+yL,this.container).style.cursor="pointer",i.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",i.classList.add("e-hide-handler"))}setHsv(e,t){let n=YD("."+yL,this.container),i=n.getBoundingClientRect();e=this.enableRtl?e>i.right?0:Math.abs(e-i.right):e>i.left?Math.abs(e-i.left):0,t=t>i.top?Math.abs(t-i.top):0,this.hsv[2]=Math.round(10*Number(100*(n.offsetHeight-Math.max(0,Math.min(n.offsetHeight,t-n.offsetTop)))/n.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(n.offsetWidth,e-n.offsetLeft))/n.offsetWidth))/10}handlerEnd(e){"touchend"!==e.type&&e.preventDefault(),zI.remove(document,"mousemove touchmove",this.handlerMove),zI.remove(document,"mouseup touchend",this.handlerEnd);let t=this.getDragHandler();YD("."+yL,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",t.classList.remove("e-hide-handler")),this.inline||this.showButtons||this.closePopup(e)}btnClickHandler(e){let t=e.target;GD(t,"."+CL)?(e.stopPropagation(),this.switchToPalette()):(t.classList.contains("e-apply")||t.classList.contains("e-cancel"))&&this.ctrlBtnClick(t,e)}switchToPalette(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),qD(YD(".e-slider-preview",this.container)),this.getWrapper().classList.contains(vL)||UD(YD("."+wL,this.container)),qD(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})}refreshPopupPos(){if(!this.inline){let e=this.getPopupEle();e.style.left=KO(0+pageXOffset),e.style.top=KO(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}}formatSwitchHandler(e){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)}updateValue(e,t,n,i){let s,l=["e-rh-value","e-gs-value","e-bv-value"];for(let r=0,a=l.length;r<a;r++)s=QO(YD("."+l[r],this.container),nL),s.value=Math.round(e[r]),t&&(s.placeholder=l[r].substr(n,1).toUpperCase(),s.max=i?i[r]:255),s.dataBind()}previewHandler(e){let t=e.target,n=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(t.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);let i=this.rgbToHex(this.rgb),s=this.rgbToHsv.apply(this,this.rgb);s[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:s[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(s[0]),this.enableOpacity&&s[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*s[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=s,this.setHandlerPosition(),this.updateInput(i),YD("."+SL+" .e-current",this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(i,n,this.convertToRgbString(this.rgb))}paletteClickHandler(e){e.preventDefault();let t=e.target;if(t.classList.contains(OL)){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(xL))this.noColorTile();else{let e=t.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(e)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(kL)&&this.updateInput(e),this.triggerEvent(e,n,this.convertToRgbString(this.rgb))}this.inline||this.showButtons||this.closePopup(e)}else GD(t,"."+CL)?this.switchToPicker():t.classList.contains("e-apply")||t.classList.contains("e-cancel")?this.ctrlBtnClick(t,e):this.getWrapper().classList.contains(kL)&&GD(t,".e-value-switch-btn")&&this.formatSwitchHandler(e)}noColorTile(e=!1){let t=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",t,"",e)}switchToPicker(){let e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call($D(".e-palette",this.container)).forEach(e=>{qD(e)}),e.classList.contains(kL)&&qD(YD("."+wL,this.container)),this.container.style.width="";let t=YD(".e-custom-palette",this.container);this.presetColors&&UD(t),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})}ctrlBtnClick(e,t){if(e.classList.contains("e-apply")){let e=this.rgbToHex(this.rgb);this.triggerChangeEvent(e)}this.inline||(this.closePopup(t),this.splitBtn.element.focus())}paletteKeyDown(e){let t,n,i=e.target;if(!i.classList.contains("e-palette"))return;let s=[].slice.call($D("."+OL,i)),l=s.filter(e=>e.classList.contains("e-selected")).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),t=l?s[this.tilePosition(s,l,this.enableRtl?-1:1)]:s[this.enableRtl?s.length-1:0],this.keySelectionChanges(t);break;case 37:e.preventDefault(),t=l?s[this.tilePosition(s,l,this.enableRtl?1:-1)]:s[this.enableRtl?0:s.length-1],this.keySelectionChanges(t);break;case 38:e.preventDefault(),n=l?this.tilePosition(s,l,-this.columns):0,t=s[n]?s[n]:s[n-this.columns],this.keySelectionChanges(t);break;case 40:e.preventDefault(),n=l?this.tilePosition(s,l,this.columns):s.length-1,s[n]?t=s[n]:(n%=s.length,n+=s[s.length-1].parentElement.childElementCount,t=s[n]),this.keySelectionChanges(t);break;case 13:if(e.preventDefault(),l){let t=l.getAttribute("aria-label");this.enterKeyHandler(t||"",e)}}}keySelectionChanges(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(xL))this.noColorTile(!0);else{let t=e.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(kL)&&this.updateInput(t),this.triggerEvent(t,n,this.convertToRgbString(this.rgb),!0)}}tilePosition(e,t,n){let i=(e=Array.prototype.slice.call(e)).length,s=this.columns-e[i-1].parentElement.childElementCount,l=e.indexOf(t);return l+=n,l<0?l+=i+s:l%=i+s,l}inputHandler(e){let t,n,i=e.target;if(i.value.length)switch(YD(".e-float-text",i.parentElement).textContent){case"HEX":let e="";if(("#"===i.value[0]&&5!==i.value.length||"#"!==i.value[0]&&4!==i.value.length)&&(e=this.roundValue(i.value)),9!==e.length)return;n=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(e+e.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),n,i.value);break;case"R":this.rgb[0]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[0]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"G":this.rgb[1]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[1]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"B":this.rgb[2]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[2]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"H":this.hueSlider.value=Number(i.value);break;case"S":this.hsv[1]!==Number(i.value)&&(this.hsv[1]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(i.value)&&(this.hsv[2]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(i.value)}}inputValueChange(e,t,n){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;let i=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(n||i);let s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.triggerEvent(i,t,s)}triggerEvent(e,t,n,i=!1){let s=e.slice(0,7);this.showButtons||i?this.trigger("select",{currentValue:{hex:s,rgba:n},previousValue:{hex:t.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(t))}}):(this.trigger("change",{currentValue:{hex:s,rgba:n},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.setProperties({value:e},!0),this.element.value=s||"#000000")}destroy(){let e=this.getWrapper();super.destroy(),["tabindex","spellcheck"].forEach(e=>{this.element.removeAttribute(e)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&qD(this.element.nextElementSibling),e&&(e.parentElement.insertBefore(this.element,e),qD(e)),this.container=null,this.formElement&&zI.remove(this.formElement,"reset",this.formResetHandler)}destroyOtherComp(){if(this.isPicker()){this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;let e=this.getTooltipInst();e.close(),e.destroy(),this.tooltipEle=null}}isPopupOpen(){return this.getPopupEle().classList.contains("e-popup-open")}unWireEvents(){if(this.isPicker()){this.getWrapper();let e=this.getDragHandler();zI.remove(e,"keydown",this.pickerKeyDown),zI.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&zI.remove(YD("."+fL,this.container),"click",this.btnClickHandler),zI.remove(YD(".e-previous",this.container),"click",this.previewHandler)}else zI.remove(this.container,"click",this.paletteClickHandler),zI.remove(this.container,"keydown",this.paletteKeyDown)}roundValue(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);let t=e.length;if(4===t&&(e+="f",t=5),5===t){let n="";for(let t=1,i=e.length;t<i;t++)n+=e.charAt(t)+e.charAt(t);e="#"+n,t=9}return 7===t&&(e+="ff"),e}hexToRgb(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));let t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);let n=parseInt(e,16),i=[];return i.push(n>>16&255),i.push(n>>8&255),i.push(255&n),i.push(t),i}rgbToHsv(e,t,n,i){if(this.rgb&&!this.rgb.length)return[];e/=255,t/=255,n/=255;let s,l,r=Math.max(e,t,n),a=Math.min(e,t,n),o=r,h=r-a;if(l=0===r?0:h/r,r===a)s=0;else{switch(r){case e:s=(t-n)/h+(t<n?6:0);break;case t:s=(n-e)/h+2;break;case n:s=(e-t)/h+4}s/=6}let c=[Math.round(360*s),Math.round(1e3*l)/10,Math.round(1e3*o)/10];return UO(i)||c.push(i),c}hsvToRgb(e,t,n,i){let s,l,r,a,o,h,c,d;if(n/=100,0==(t/=100))return s=l=r=n,[Math.round(255*s),Math.round(255*l),Math.round(255*r),i];switch(e/=60,a=Math.floor(e),o=e-a,h=n*(1-t),c=n*(1-t*o),d=n*(1-t*(1-o)),a){case 0:s=n,l=d,r=h;break;case 1:s=c,l=n,r=h;break;case 2:s=h,l=n,r=d;break;case 3:s=h,l=c,r=n;break;case 4:s=d,l=h,r=n;break;default:s=n,l=h,r=c}let u=[Math.round(255*s),Math.round(255*l),Math.round(255*r)];return UO(i)||u.push(i),u}rgbToHex(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(UO(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""}hex(e){return("0"+e.toString(16)).slice(-2)}changeModeSwitcherProp(e){let t=YD("."+fL,this.container);e?t?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):t&&(this.showButtons?qD(YD("."+CL,t)):UD(t))}changeShowBtnProps(e){let t=YD("."+fL,this.container);e?(t&&UD(t),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?qD(YD(".e-ctrl-btn",t)):UD(t)}changeValueProp(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),qD(GD(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();let t=YD('span[aria-label="'+this.roundValue(e)+'"]',this.container);t&&this.addTileSelection(t)}}setInputEleProps(e){UD(YD("."+wL,this.container)),this.createInput()}changeDisabledProp(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps(e)),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())}changeCssClassProps(e,t){let n=this.getWrapper(),i=this.getPopupEle();t&&FD([n,i],t.split(" ")),e&&RD([n,i],e.split(" "))}changeRtlProps(e){e?RD([this.getWrapper()],"e-rtl"):FD([this.getWrapper()],"e-rtl")}changePaletteProps(){qD(this.container.children[0]),this.container.style.width="",this.createPalette()}changeOpacityProps(e){let t=this.getWrapper();e?(FD([this.container.parentElement],"e-hide-opacity"),this.createOpacitySlider(YD(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),t.classList.contains(vL)||t.classList.contains(bL)||this.appendOpacityValue(YD(".e-input-container",this.container))):(RD([this.container.parentElement],"e-hide-opacity"),this.opacitySlider.destroy(),UD(this.opacitySlider.element),this.opacitySlider=null,t.classList.contains(vL)||t.classList.contains(bL)||UD(YD("."+_L,this.container).parentElement))}onPropertyChanged(e,t){if(!UO(e.value)){let n=this.roundValue(e.value);if(9===n.length){this.element.value=this.roundValue(n).slice(0,7);let t=this.splitBtn&&YD(".e-split-preview",this.splitBtn.element);t&&(t.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)))}else this.value=t.value}if(!this.inline&&UO(e.inline)&&(this.splitBtn.setProperties(zP(e,["disabled","enableRtl"])),!this.isPopupOpen()))return this.changeCssClassProps(e.cssClass,t.cssClass),void this.changeRtlProps(e.enableRtl);for(let n of Object.keys(e))switch(n){case"inline":e.inline?(this.getWrapper().appendChild(this.container),this.splitBtn.destroy(),qD(this.element.nextElementSibling),this.container.children.length||this.createWidget()):(this.destroyOtherComp(),this.unWireEvents(),this.container.innerHTML="",this.createSplitBtn());break;case"cssClass":this.changeCssClassProps(e.cssClass,t.cssClass);let n=e.cssClass.split(" ").concat(t.cssClass.split(" "));n=n.reduce((e,t)=>(e.indexOf(t)<0&&e.push(t),e),[]);let i=0;n.forEach(e=>{0!==i||e!==vL&&"e-hide-valueswitcher"!==e&&e!==kL&&e!==gL&&e!==bL||(YD("."+wL,this.container)&&UD(YD("."+wL,this.container)),this.createInput(),i++)});break;case"enableRtl":this.isPicker()&&(this.hueSlider.enableRtl=e.enableRtl,this.enableOpacity&&(this.opacitySlider.enableRtl=e.enableRtl),this.setInputEleProps(e.enableRtl)),this.changeRtlProps(e.enableRtl);break;case"disabled":this.changeDisabledProp(e.disabled);break;case"value":this.value!==t.value&&this.changeValueProp(e.value);break;case"showButtons":this.changeShowBtnProps(e.showButtons);break;case"mode":"Picker"===e.mode?this.switchToPicker():this.switchToPalette();break;case"modeSwitcher":this.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":this.isPicker()||this.changePaletteProps();break;case"noColor":e.noColor?"Palette"!==this.mode||this.modeSwitcher||this.setNoColor():this.changePaletteProps();break;case"enableOpacity":this.changeOpacityProps(e.enableOpacity)}}focusIn(){this.element.parentElement.focus()}};return mL([dA("#008000ff")],e.prototype,"value",void 0),mL([dA("")],e.prototype,"cssClass",void 0),mL([dA(!1)],e.prototype,"disabled",void 0),mL([dA("Picker")],e.prototype,"mode",void 0),mL([dA(!0)],e.prototype,"modeSwitcher",void 0),mL([dA(null)],e.prototype,"presetColors",void 0),mL([dA(!0)],e.prototype,"showButtons",void 0),mL([dA(10)],e.prototype,"columns",void 0),mL([dA(!1)],e.prototype,"inline",void 0),mL([dA(!1)],e.prototype,"noColor",void 0),mL([dA(!1)],e.prototype,"enablePersistence",void 0),mL([dA(!0)],e.prototype,"enableOpacity",void 0),mL([mA()],e.prototype,"select",void 0),mL([mA()],e.prototype,"change",void 0),mL([mA()],e.prototype,"beforeTileRender",void 0),mL([mA()],e.prototype,"beforeOpen",void 0),mL([mA()],e.prototype,"open",void 0),mL([mA()],e.prototype,"beforeClose",void 0),mL([mA()],e.prototype,"beforeModeSwitch",void 0),mL([mA()],e.prototype,"onModeSwitch",void 0),mL([mA()],e.prototype,"created",void 0),e=mL([fA],e),e})();var AL=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const ML=["title","style","class"];let TL=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.previousValue=null,this.isAngular=!1,this.isHiddenInput=!1,this.isForm=!1,this.inputPreviousValue=null,this.isVue=!1,this.textboxOptions=e}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"floatLabelType":ZP.removeFloating(this.textboxWrapper),ZP.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":ZP.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":ZP.setWidth(e.width,this.textboxWrapper.container);break;case"value":let n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=n,ZP.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&!0===this.preventChange?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(UO(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&UO(this.preventChange))&&this.raiseChangeEvent();break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkAttributes(!0);break;case"readonly":ZP.setReadonly(this.readonly,this.respectiveElement);break;case"type":"TEXTAREA"!==this.respectiveElement.tagName&&(this.respectiveElement.setAttribute("type",this.type),this.raiseChangeEvent());break;case"showClearButton":"TEXTAREA"!==this.respectiveElement.tagName&&(ZP.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent());break;case"enableRtl":ZP.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":ZP.setPlaceholder(this.placeholder,this.respectiveElement);break;case"autocomplete":"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"locale":this.globalize=new SI(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),ZP.setPlaceholder(this.placeholder,this.respectiveElement)}}getModuleName(){return"textbox"}isBlank(e){return!e||/^\s*$/.test(e)}preRender(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=GD(this.element,"form"),UO(this.formElement)||(this.isForm=!0),"EJS-TEXTBOX"===this.element.tagName){let e=HO("ej2_instances",this.element),t=this.createElement(this.multiline?"textarea":"input"),n=0;for(;n<this.element.attributes.length;n++){let e=this.element.attributes[n].nodeName;"id"!==e&&(t.setAttribute(e,this.element.attributes[n].nodeValue),t.innerHTML=this.element.innerHTML,"name"===e&&this.element.removeAttribute("name"))}this.element.appendChild(t),this.element=t,BO("ej2_instances",e,this.element)}if(this.updateHTMLAttrToElement(),this.checkAttributes(!1),"TEXTAREA"!==this.element.tagName&&this.element.setAttribute("type",this.type),this.element.setAttribute("role","textbox"),this.globalize=new SI(this.locale),this.l10n=new WA("textbox",{placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",YO("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),"INPUT"===this.element.tagName&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role");let e=["required","minlength","maxlength"];for(let t=0;t<e.length;t++)if(this.element.hasAttribute(e[t])){let n=this.element.getAttribute(e[t]);this.textarea.setAttribute(e[t],n),this.element.removeAttribute(e[t])}}}checkAttributes(e){let t=e?UO(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"];for(let n of t)if(!UO(this.element.getAttribute(n)))switch(n){case"disabled":if(UO(this.textboxOptions)||void 0===this.textboxOptions.enabled||e){let t="disabled"!==this.element.getAttribute(n)&&""!==this.element.getAttribute(n)&&"true"!==this.element.getAttribute(n);this.setProperties({enabled:t},!e)}break;case"readonly":if(UO(this.textboxOptions)||void 0===this.textboxOptions.readonly||e){let t="readonly"===this.element.getAttribute(n)||""===this.element.getAttribute(n)||"true"===this.element.getAttribute(n);this.setProperties({readonly:t},!e)}break;case"placeholder":(UO(this.textboxOptions)||void 0===this.textboxOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"autocomplete":(UO(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||e)&&this.setProperties({autocomplete:"off"===this.element.autocomplete?"off":"on"},!e);break;case"value":(UO(this.textboxOptions)||void 0===this.textboxOptions.value||e)&&this.setProperties({value:this.element.value},!e);break;case"type":(UO(this.textboxOptions)||void 0===this.textboxOptions.type||e)&&this.setProperties({type:this.element.type},!e)}}render(){let e=this.cssClass;UO(this.cssClass)||""===this.cssClass||(e=this.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=ZP.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:e,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttrToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),UO(this.value)||(ZP.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),UO(this.value)||(this.initialValue=this.value,this.setInitialValue()),"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:UO(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,ZP.setWidth(this.width,this.textboxWrapper.container),this.renderComplete()}updateHTMLAttrToWrapper(){if(!UO(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))if(ML.indexOf(e)>-1)if("class"===e){let t=this.getInputValidClassList(this.htmlAttributes[e]);""!==t&&RD([this.textboxWrapper.container],t.split(" "))}else if("style"===e){let t=this.textboxWrapper.container.getAttribute(e);t=UO(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.textboxWrapper.container.setAttribute(e,t)}else this.textboxWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHTMLAttrToElement(){if(!UO(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))ML.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){ZP.setCssClass(this.getInputValidClassList(e),[this.textboxWrapper.container],this.getInputValidClassList(t))}getInputValidClassList(e){let t=e;return UO(e)||""===e||(t=e.replace(/\s+/g," ").trim()),t}setInitialValue(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)}wireEvents(){zI.add(this.respectiveElement,"focus",this.focusHandler,this),zI.add(this.respectiveElement,"blur",this.focusOutHandler,this),zI.add(this.respectiveElement,"input",this.inputHandler,this),zI.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&zI.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent()}resetValue(e){let t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=e,this.isProtectedOnChange=t}resetForm(){if(this.resetValue(this.isAngular?"":this.initialValue),!UO(this.textboxWrapper)){let e=this.textboxWrapper.container.querySelector(".e-float-text");UO(e)||(UO(this.initialValue)||""===this.initialValue?(e.classList.add("e-label-bottom"),e.classList.remove("e-label-top")):""!==this.initialValue&&(e.classList.add("e-label-top"),e.classList.remove("e-label-bottom")))}}focusHandler(e){this.trigger("focus",{container:this.textboxWrapper.container,event:e,value:this.value})}focusOutHandler(e){null===this.previousValue&&null===this.value&&""===this.respectiveElement.value||this.previousValue===this.respectiveElement.value||this.raiseChangeEvent(e,!0),this.trigger("blur",{container:this.textboxWrapper.container,event:e,value:this.value})}inputHandler(e){let t={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(this.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",t),e.stopPropagation()}changeHandler(e){this.setProperties({value:this.respectiveElement.value},!0),this.raiseChangeEvent(e,!0),e.stopPropagation()}raiseChangeEvent(e,t){let n={event:e,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:t||!1,isInteracted:t||!1};this.preventChange=!1,this.trigger("change",n),this.previousValue=this.value}bindClearEvent(){this.showClearButton&&"TEXTAREA"!==this.respectiveElement.tagName&&(this.enabled?zI.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):zI.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))}resetInputHandler(e){e.preventDefault(),this.textboxWrapper.clearButton.classList.contains("e-clear-icon-hide")||(ZP.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0),this.trigger("input",{event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container}),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(e,!0))}unWireEvents(){zI.remove(this.respectiveElement,"focus",this.focusHandler),zI.remove(this.respectiveElement,"blur",this.focusOutHandler),zI.remove(this.respectiveElement,"input",this.inputHandler),zI.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&zI.remove(this.formElement,"reset",this.resetForm)}destroy(){this.unWireEvents(),"INPUT"===this.element.tagName&&this.multiline&&(qD(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-placeholder","aria-disabled","aria-readonly","aria-labelledby"]),UO(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),qD(this.textboxWrapper.container)),this.textboxWrapper=null,super.destroy()}addIcon(e,t){ZP.addIcon(e,t,this.textboxWrapper.container,this.respectiveElement,this.createElement)}getPersistData(){return this.addOnPersist(["value"])}addAttributes(e){for(let t of Object.keys(e))"disabled"===t?(this.setProperties({enabled:!1},!0),ZP.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===t?(this.setProperties({readonly:!0},!0),ZP.setReadonly(this.readonly,this.respectiveElement)):"class"===t?this.respectiveElement.classList.add(e[t]):"placeholder"===t?(this.setProperties({placeholder:e[t]},!0),ZP.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.setAttribute(t,e[t])}removeAttributes(e){for(let t of e)"disabled"===t?(this.setProperties({enabled:!0},!0),ZP.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===t?(this.setProperties({readonly:!1},!0),ZP.setReadonly(this.readonly,this.respectiveElement)):"placeholder"===t?(this.setProperties({placeholder:null},!0),ZP.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(t)}focusIn(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&RD([this.textboxWrapper.container],["e-input-focus"]))}focusOut(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&FD([this.textboxWrapper.container],["e-input-focus"]))}};return AL([dA("text")],e.prototype,"type",void 0),AL([dA(!1)],e.prototype,"readonly",void 0),AL([dA(null)],e.prototype,"value",void 0),AL([dA("Never")],e.prototype,"floatLabelType",void 0),AL([dA("")],e.prototype,"cssClass",void 0),AL([dA(null)],e.prototype,"placeholder",void 0),AL([dA("on")],e.prototype,"autocomplete",void 0),AL([dA({})],e.prototype,"htmlAttributes",void 0),AL([dA(!1)],e.prototype,"multiline",void 0),AL([dA(!0)],e.prototype,"enabled",void 0),AL([dA(!1)],e.prototype,"showClearButton",void 0),AL([dA(!1)],e.prototype,"enablePersistence",void 0),AL([dA(null)],e.prototype,"width",void 0),AL([mA()],e.prototype,"created",void 0),AL([mA()],e.prototype,"destroyed",void 0),AL([mA()],e.prototype,"change",void 0),AL([mA()],e.prototype,"blur",void 0),AL([mA()],e.prototype,"focus",void 0),AL([mA()],e.prototype,"input",void 0),e=AL([fA],e),e})();var PL=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let LL=(()=>{let e=class extends TA{constructor(e,t){super(e,t)}preRender(){this.browser=jI.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=jI.isDevice,this.customStep=!0;let e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=YO("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")}render(){this.touchModule=new XA(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),zI.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()}setScrollState(){UO(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0}initialize(){let e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");let n=this.element,i=[].slice.call(n.children);for(let s of i)e.appendChild(s);t.appendChild(e),n.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"hScroll"}destroy(){let e=this.element;e.style.display="",e.classList.remove("e-hscroll"),e.classList.remove("e-scroll-device");let t=$D(".e-"+e.id+"_nav.e-scroll-nav",e),n=$D(".e-scroll-overlay",e);[].slice.call(n).forEach(e=>{qD(e)});for(let i of[].slice.call(this.scrollItems.children))e.appendChild(i);this.uniqueId&&this.element.removeAttribute("id"),qD(this.scrollEle),t.length>0&&(qD(t[0]),UO(t[1])||qD(t[1])),zI.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(e){let t=$D(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach(t=>{t.setAttribute("tabindex",e?"-1":"0")})}createOverlay(e){let t=e.id.concat("_nav"),n=this.createElement("div",{className:"e-scroll-overlay e-scroll-right-overlay"}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),s=this.createElement("div",{id:t.concat("_right"),className:i}),l=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});s.appendChild(l);let r=this.createElement("div",{className:"e-scroll-overlay e-scroll-left-overlay"});this.ieCheck&&s.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(s),e.insertBefore(r,e.firstChild),this.eventBinding([s])}createNavIcon(e){let t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),i=this.createElement("div",{id:t.concat("_right"),className:n});i.setAttribute("aria-disabled","false");let s=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),l="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),r=this.createElement("div",{id:t.concat("_left"),className:l+" e-overlay"});r.setAttribute("aria-disabled","true");let a=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});r.appendChild(a),i.appendChild(s),e.appendChild(i),e.insertBefore(r,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),r.classList.add("e-ie-align")),this.eventBinding([i,r])}onKeyPress(e){if("Enter"===e.key){let t=()=>{this.keyTimeout=!0,this.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(()=>{t()},100)}}onKeyUp(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}eventBinding(e){[].slice.call(e).forEach(e=>{new XA(e,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),e.addEventListener("keydown",this.onKeyPress.bind(this)),e.addEventListener("keyup",this.onKeyUp.bind(this)),e.addEventListener("mouseup",this.repeatScroll.bind(this)),e.addEventListener("touchend",this.repeatScroll.bind(this)),e.addEventListener("contextmenu",e=>{e.preventDefault()}),zI.add(e,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(e){let t=e.originalEvent.target;t=this.contains(t,"e-scroll-nav")?t.firstElementChild:t;let n=()=>{this.eleScrolling(10,t,!0)};this.timeout=window.setInterval(()=>{n()},50)}contains(e,t){return e.classList.contains(t)}eleScrolling(e,t,n){let i=this.element,s=t.classList;s.contains("e-scroll-nav")&&(s=t.querySelector(".e-nav-arrow").classList),this.contains(i,"e-rtl")&&this.browserCheck&&(e=-e),!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?s.contains("e-nav-right-arrow")?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n):s.contains("e-nav-left-arrow")?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n)}clickEventHandler(e){this.eleScrolling(this.scrollStep,e.target,!1)}swipeHandler(e){let t,n=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;let i=.5,s=()=>{let l=Math.sin(i);l<=0?window.cancelAnimationFrame(l):("Left"===e.swipeDirection?n.scrollLeft+=t*l:"Right"===e.swipeDirection&&(n.scrollLeft-=t*l),i-=.5,window.requestAnimationFrame(s))};s()}scrollUpdating(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e}frameScrollRequest(e,t,n){if(n)return void this.scrollUpdating(e,t);this.customStep||[].slice.call($D(".e-scroll-overlay",this.element)).forEach(t=>{e-=t.offsetWidth});let i=()=>{let n,s;this.contains(this.element,"e-rtl")&&this.browserCheck?(n=-e,s=-10):(n=e,s=10),n<10?window.cancelAnimationFrame(s):(this.scrollUpdating(s,t),e-=s,window.requestAnimationFrame(i))};i()}touchHandler(e){let t,n=this.scrollEle;t=e.distanceX,this.ieCheck&&this.contains(this.element,"e-rtl")&&(t=-t),"Left"===e.scrollDirection?n.scrollLeft=n.scrollLeft+t:"Right"===e.scrollDirection&&(n.scrollLeft=n.scrollLeft-t)}arrowDisabling(e,t){if(this.isDevice){let n=(UO(e)?t:e).querySelector(".e-nav-arrow");UO(e)?KD(n,["e-nav-right-arrow"],["e-nav-left-arrow"]):KD(n,["e-nav-left-arrow"],["e-nav-right-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}scrollHandler(e){let t=e.target,n=t.offsetWidth,i=this.element,s=this.element.querySelector(".e-scroll-left-nav"),l=this.element.querySelector(".e-scroll-right-nav"),r=this.element.querySelector(".e-scroll-left-overlay"),a=this.element.querySelector(".e-scroll-right-overlay"),o=t.scrollLeft;if(o<=0&&(o=-o),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(r=this.element.querySelector(".e-scroll-right-overlay"),a=this.element.querySelector(".e-scroll-left-overlay")),r.style.width=o<40?o+"px":"40px",a.style.width=t.scrollWidth-Math.ceil(n+o)<40?t.scrollWidth-Math.ceil(n+o)+"px":"40px"),0===o)!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(s,l):this.arrowDisabling(l,s);else if(Math.ceil(n+o+.1)>=t.scrollWidth)!this.contains(i,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(l,s):this.arrowDisabling(s,l);else{let e=this.element.querySelector(".e-scroll-nav.e-overlay");e&&(e.classList.remove("e-overlay"),e.setAttribute("aria-disabled","false"),e.setAttribute("tabindex","0"))}}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}};return PL([dA(null)],e.prototype,"scrollStep",void 0),e=PL([fA],e),e})();var NL=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let RL=(()=>{let e=class extends TA{constructor(e,t){super(e,t)}preRender(){this.browser=jI.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=jI.isDevice,this.customStep=!0;let e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=YO("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")}render(){this.touchModule=new XA(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),zI.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),zI.add(this.element,"wheel",this.wheelEventHandler,this)}setScrollState(){UO(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0}initialize(){let e=ND("div",{className:"e-vscroll-content"}),t=ND("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");let n=this.element,i=[].slice.call(n.children);for(let s of i)e.appendChild(s);t.appendChild(e),n.appendChild(t),t.style.overflowY="hidden",this.scrollEle=t,this.scrollItems=e}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"vScroll"}destroy(){let e=this.element;e.style.display="",FD([this.element],["e-vscroll","e-scroll-device"]);let t=$D(".e-"+e.id+"_nav.e-scroll-nav",e),n=$D(".e-scroll-overlay",e);[].slice.call(n).forEach(e=>{qD(e)});for(let i of[].slice.call(this.scrollItems.children))e.appendChild(i);this.uniqueId&&this.element.removeAttribute("id"),qD(this.scrollEle),t.length>0&&(qD(t[0]),UO(t[1])||qD(t[1])),zI.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(e){let t=$D(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach(t=>{t.setAttribute("tabindex",e?"-1":"0")})}createOverlayElement(e){let t=e.id.concat("_nav"),n=ND("div",{className:"e-scroll-overlay e-scroll-down-overlay"}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),s=ND("div",{id:t.concat("down"),className:i}),l=ND("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});s.appendChild(l);let r=ND("div",{className:"e-scroll-overlay e-scroll-up-overlay"});this.ieCheck&&s.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(s),e.insertBefore(r,e.firstChild),this.eventBinding([s])}createNavIcon(e){let t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),i=ND("div",{id:t.concat("_down"),className:n});i.setAttribute("aria-disabled","false");let s=ND("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),l="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),r=ND("div",{id:t.concat("_up"),className:l+" e-overlay"});r.setAttribute("aria-disabled","true");let a=ND("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});r.appendChild(a),i.appendChild(s),i.setAttribute("tabindex","0"),e.appendChild(i),e.insertBefore(r,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),r.classList.add("e-ie-align")),this.eventBinding([i,r])}onKeyPress(e){if("Enter"===e.key){let t=()=>{this.keyTimeout=!0,this.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(()=>{t()},100)}}onKeyUp(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}eventBinding(e){[].slice.call(e).forEach(e=>{new XA(e,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),e.addEventListener("keydown",this.onKeyPress.bind(this)),e.addEventListener("keyup",this.onKeyUp.bind(this)),e.addEventListener("mouseup",this.repeatScroll.bind(this)),e.addEventListener("touchend",this.repeatScroll.bind(this)),e.addEventListener("contextmenu",e=>{e.preventDefault()}),zI.add(e,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(e){let t=e.originalEvent.target;t=this.contains(t,"e-scroll-nav")?t.firstElementChild:t;let n=()=>{this.eleScrolling(10,t,!0)};this.timeout=window.setInterval(()=>{n()},50)}contains(e,t){return e.classList.contains(t)}eleScrolling(e,t,n){let i=t.classList;i.contains("e-scroll-nav")&&(i=t.querySelector(".e-nav-arrow").classList),i.contains("e-nav-down-arrow")?this.frameScrollRequest(e,"add",n):i.contains("e-nav-up-arrow")&&this.frameScrollRequest(e,"",n)}clickEventHandler(e){this.eleScrolling(this.scrollStep,e.target,!1)}wheelEventHandler(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)}swipeHandler(e){let t,n=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;let i=.5,s=()=>{let l=Math.sin(i);l<=0?window.cancelAnimationFrame(l):("Up"===e.swipeDirection?n.scrollTop+=t*l:"Down"===e.swipeDirection&&(n.scrollTop-=t*l),i-=.02,window.requestAnimationFrame(s))};s()}scrollUpdating(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e}frameScrollRequest(e,t,n){if(n)return void this.scrollUpdating(e,t);this.customStep||[].slice.call($D(".e-scroll-overlay",this.element)).forEach(t=>{e-=t.offsetHeight});let i=()=>{e<10?window.cancelAnimationFrame(10):(this.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(i))};i()}touchHandler(e){let t,n=this.scrollEle;t=e.distanceY,"Up"===e.scrollDirection?n.scrollTop=n.scrollTop+t:"Down"===e.scrollDirection&&(n.scrollTop=n.scrollTop-t)}arrowDisabling(e,t){if(this.isDevice){let n=(UO(e)?t:e).querySelector(".e-nav-arrow");UO(e)?KD(n,["e-nav-down-arrow"],["e-nav-up-arrow"]):KD(n,["e-nav-up-arrow"],["e-nav-down-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}scrollEventHandler(e){let t=e.target,n=t.offsetHeight,i=this.element.querySelector(".e-scroll-up-nav"),s=this.element.querySelector(".e-scroll-down-nav"),l=this.element.querySelector(".e-scroll-up-overlay"),r=this.element.querySelector(".e-scroll-down-overlay"),a=t.scrollTop;if(a<=0&&(a=-a),this.isDevice&&(l.style.height=a<40?a+"px":"40px",r.style.height=t.scrollHeight-Math.ceil(n+a)<40?t.scrollHeight-Math.ceil(n+a)+"px":"40px"),0===a)this.arrowDisabling(i,s);else if(Math.ceil(n+a+.1)>=t.scrollHeight)this.arrowDisabling(s,i);else{let e=this.element.querySelector(".e-scroll-nav.e-overlay");e&&(e.classList.remove("e-overlay"),e.setAttribute("aria-disabled","false"),e.setAttribute("tabindex","0"))}}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}};return NL([dA(null)],e.prototype,"scrollStep",void 0),e=NL([fA],e),e})();var FL=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const HL="e-focused",BL="e-menu-header",VL="e-selected",jL="e-menu-item",zL="e-menu-hide",qL="e-menu-popup";let UL=(()=>{class e extends OA{}return FL([dA("id")],e.prototype,"itemId",void 0),FL([dA("parentId")],e.prototype,"parentId",void 0),FL([dA("text")],e.prototype,"text",void 0),FL([dA("iconCss")],e.prototype,"iconCss",void 0),FL([dA("url")],e.prototype,"url",void 0),FL([dA("separator")],e.prototype,"separator",void 0),FL([dA("items")],e.prototype,"children",void 0),e})(),WL=(()=>{class e extends OA{}return FL([dA(null)],e.prototype,"iconCss",void 0),FL([dA("")],e.prototype,"id",void 0),FL([dA(!1)],e.prototype,"separator",void 0),FL([pA([],e)],e.prototype,"items",void 0),FL([dA("")],e.prototype,"text",void 0),FL([dA("")],e.prototype,"url",void 0),e})(),YL=(()=>{class e extends OA{}return FL([dA("SlideDown")],e.prototype,"effect",void 0),FL([dA(400)],e.prototype,"duration",void 0),FL([dA("ease")],e.prototype,"easing",void 0),e})(),$L=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.navIdx=[],this.animation=new yA({}),this.isTapHold=!1,this.tempItem=[]}preRender(){if(!this.isMenu){let e;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:YO(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});let t=HO("ej2_instances",this.element);FD([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,BO("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:YO(this.getModuleName())}),jD([].slice.call(this.element.cloneNode(!0).children),e);let t=this.element.nextElementSibling;t?this.element.parentElement.insertBefore(e,t):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){let e=this.element,t=HO("ej2_instances",e),n=this.createElement("ul"),i=this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"});for(let s=0,l=e.attributes.length;s<l;s++)n.setAttribute(e.attributes[s].nodeName,e.attributes[s].nodeValue);e.parentNode.insertBefore(i,e),qD(e),e=n,i.appendChild(e),BO("ej2_instances",t,e),this.clonedElement=i,this.element=e,this.element.id||(this.element.id=YO(this.getModuleName()))}}render(){this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete()}initialize(){let e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&RD([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e))}renderItems(){if(!this.items.length){let e=RM.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),this.element.innerHTML=""}let e=this.createItems(this.items);if(jD(Array.prototype.slice.call(e.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu){let e=this.getWrapper();this.element.classList.contains("e-vertical")?this.addScrolling(e,this.element,"vscroll",e.offsetHeight,this.element.offsetHeight):this.addScrolling(e,this.element,"hscroll",e.offsetWidth,this.element.offsetWidth)}}wireEvents(){let e=this.getWrapper();if(this.target){let e,t=$D(this.target);for(let n=0,i=t.length;n<i;n++)e=t[n],this.isMenu?zI.add(e,"click",this.menuHeaderClickHandler,this):jI.isIos?new XA(e,{tapHold:this.touchHandler.bind(this)}):zI.add(e,"contextmenu",this.cmenuHandler,this);if(this.targetElement=e,!this.isMenu){zI.add(this.targetElement,"scroll",this.scrollHandler,this);for(let e of DT(this.targetElement))zI.add(e,"scroll",this.scrollHandler,this)}}jI.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),zI.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),zI.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),zI.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=wA(e,{selector:"."+jL})}wireKeyboardEvent(e){let t={downarrow:"downarrow",uparrow:"uparrow",enter:"enter",leftarrow:"leftarrow",rightarrow:"rightarrow",escape:"escape"};this.isMenu&&(t.home="home",t.end="end"),new UA(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})}mouseDownHandler(e){GD(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||GD(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.isMenu?null:this.navIdx.length,e)}keyBoardHandler(e){let t="",n=e.target,i=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&n.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([HL,VL],[GD(n,".e-"+this.getModuleName()+"-wrapper")]),i)switch(e.action){case"rightarrow":t="rightarrow",e.action="downarrow";break;case"leftarrow":t="leftarrow",e.action="uparrow";break;case"downarrow":t="downarrow",e.action="rightarrow";break;case"uparrow":t="uparrow",e.action=""}else if(this.enableRtl)switch(e.action){case"leftarrow":i=!0,t="leftarrow",e.action="rightarrow";break;case"rightarrow":i=!0,t="rightarrow",e.action="leftarrow"}switch(e.action){case"downarrow":case"uparrow":case"end":case"home":this.upDownKeyHandler(e);break;case"rightarrow":this.rightEnterKeyHandler(e);break;case"leftarrow":this.leftEscKeyHandler(e);break;case"enter":this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case"escape":this.leftEscKeyHandler(e)}i&&(e.action=t)}upDownKeyHandler(e){let t=this.getUlByNavIdx(),n="downarrow"===e.action||"home"===e.action?0:t.childElementCount-1,i=n,s=this.getLIByClass(t,HL);s&&("end"!==e.action&&"home"!==e.action&&(i=this.getIdx(t,s)),s.classList.remove(HL),"end"!==e.action&&"home"!==e.action&&("downarrow"===e.action?i++:i--,i===("downarrow"===e.action?t.childElementCount:-1)&&(i=n))),i=this.isValidLI(t.children[i],i,e.action),t.children[i].classList.add(HL),t.children[i].focus()}isValidLI(e,t,n){this.getWrapper();let i=this.getUlByNavIdx();return(e.classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(zL))&&("downarrow"===n||"rightarrow"===n?t++:t--),((e=i.children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(zL))&&(t=this.isValidLI(e,t,n)),t}getUlByNavIdx(e=this.navIdx.length){if(this.isMenu){let t=[this.getWrapper()].concat([].slice.call($D("."+qL)))[e];return UO(t)?null:YD(".e-menu-parent",t)}return this.getWrapper().children[e]}rightEnterKeyHandler(e){let t,n=this.getUlByNavIdx(),i=this.getLIByClass(n,HL);if(i){let s=this.getIdx(n,i),l=this.navIdx.concat(s),r=this.getItem(l);r.items.length?(this.navIdx.push(s),this.keyType="right",this.action=e.action,this.openMenu(i,r,-1,-1,e)):"enter"===e.action&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([VL],[this.getWrapper()]):i.classList.remove(HL),i.classList.add(VL),t={element:i,item:r,event:e},this.trigger("select",t),this.closeMenu(null,e))}}leftEscKeyHandler(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):"escape"===e.action&&this.closeMenu(null,e)}scrollHandler(e){this.closeMenu(null,e)}touchHandler(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)}cmenuHandler(e){e.preventDefault(),this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)}closeMenu(e=0,t=null){if(this.isMenuVisible()){let n,i,s,l,r,a=this.getWrapper(),o=this.getPopups(),h=!1,c=this.isMenu?o.length+1:a.childElementCount;i=this.isMenu&&1!==c?YD(".e-ul",o[c-2]):$D(".e-menu-parent",a)[c-1],this.isMenu&&i.classList.contains("e-menu")&&(n=this.getLIByClass(i,VL),n&&n.classList.remove(VL),h=!0),h||(s=this.navIdx.length?this.getItem(this.navIdx):null,l=s?s.items:this.items,r={element:i,parentItem:s,items:l,event:t,cancel:!1},this.trigger("beforeClose",r,n=>{let r,a,o,h,c,d,u="",p=!n.cancel;(p||this.isCMenu)&&(this.isMenu?(r=GD(i,"."+qL),this.hamburgerMode&&(r.parentElement.style.minHeight=""),this.unWireKeyboardEvent(r),this.destroyScrollObj(QO(r.children[0],RL),r.children[0]),o=QO(r,IT),o.hide(),u=r.id,o.destroy(),qD(r)):this.toggleAnimation(i,!1),a={element:i,parentItem:s,items:l},this.trigger("onClose",a),this.navIdx.pop());let m=this.getWrapper()&&this.getUlByNavIdx(),f=t&&t.target&&this.getLI(t.target);this.isCMenu&&(this.canOpen(t.target)&&this.openMenu(null,null,this.pageY,this.pageX,t),this.isCMenu=!1),this.isMenu&&m&&u.length&&(h=new RegExp("(.*)-ej2menu-"+this.element.id+"-popup").exec(u)[1],c=m.querySelector('[id="'+h+'"]'),d=f&&m.querySelector('[id="'+f.id+'"]'));let g=f&&f.querySelectorAll(".e-menu-item");if(p&&this.hamburgerMode&&e&&!g.length)this.afterCloseMenu(t);else if(p&&!this.hamburgerMode&&this.navIdx.length&&c&&!d)this.closeMenu(this.navIdx[this.navIdx.length-1],t);else if(p&&!e&&(this.hamburgerMode&&this.navIdx.length||1===this.navIdx.length))this.closeMenu(null,t);else if(p&&UO(e)&&this.navIdx.length)this.closeMenu(null,t);else if(!p||this.isMenu||e||0!==this.navIdx.length||this.isMenusClosed)if(p&&this.isMenu&&t&&t.target&&0!==this.navIdx.length&&GD(t.target,".e-menu-parent.e-control"))this.closeMenu(0,t);else if(!p||"right"!==this.keyType&&"click"!==this.keyType){let e=this.getUlByNavIdx(),t=this.getLIByClass(e,VL);t&&(t.setAttribute("aria-expanded","false"),t.classList.remove(VL),f&&(t.classList.add(HL),t.focus()))}else this.afterCloseMenu(t);else this.isMenusClosed=!0,this.closeMenu(0,t);this.removeStateWrapper()}))}}destroyScrollObj(e,t){e&&(e.destroy(),t.parentElement.appendChild(YD(".e-menu-parent",t)),qD(t))}getPopups(){let e=[];return[].slice.call(document.querySelectorAll("."+qL)).forEach(t=>{this.getIndex(t.querySelector("."+jL).id,!0).length&&e.push(t)}),e}isMenuVisible(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&BD(this.element).valueOf()}canOpen(e){let t=!0;if(this.filter){t=!1;let n=this.filter.split(" ");for(let i=0,s=n.length;i<s;i++)if(GD(e,"."+n[i])){t=!0;break}}return t}openMenu(e,t,n=0,i=0,s=null,l=this.targetElement){let r=this.getWrapper();this.lItem=e;let a=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,UO(n)&&(n=-1),UO(i)&&(i=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&jI.isDevice){r.lastChild.style.display="none";let e={text:t[this.getField("text")].toString(),iconCss:"e-icons e-previous"},n=new WL(this.items[0],"items",e,!0),i=this.createItems([n]).children[0];i.classList.add(BL),this.uList.insertBefore(i,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+qL,id:e.id+"-ej2menu-"+a+"-popup"}),this.hamburgerMode?(n=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&RD([this.popupWrapper],this.cssClass.split(" ")),this.popupObj.hide()),this.triggerBeforeOpen(e,this.uList,t,s,0,0,"menu")):(this.uList.style.zIndex=this.element.style.zIndex,r.appendChild(this.uList),this.triggerBeforeOpen(e,this.uList,t,s,n,i,"none"))}else this.uList=this.element,this.uList.style.zIndex=AT(l||this.element).toString(),this.triggerBeforeOpen(e,this.uList,t,s,n,i,"none")}calculateIndentSize(e,t){let n=getComputedStyle(t),i=parseInt(n.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?i*=2:i+=i/4,e.style.textIndent=i+"px";let s=e.querySelectorAll(".e-blankicon");if(s&&s.length){let t=e.querySelector(".e-menu-icon"),n=getComputedStyle(t),l=parseInt(n.marginRight,10)+t.offsetWidth+i;for(let e=0;e<s.length;e++)s[e].style.textIndent=l+"px"}}generatePopup(e,t,n,i){let s=new IT(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:n,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:i||this.enableRtl?"none":"flip",Y:"fit"},position:i&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:()=>{let e=YD(".e-menu-vscroll",s.element);e&&(e.style.height="inherit",e.style.maxHeight="");let t=YD(".e-ul",s.element);s.element.style.maxHeight="",t.focus(),this.triggerOpen(t)}});return s}createHeaderContainer(e){e=e||this.getWrapper();let t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),n=this.enableHtmlSanitizer?QA.sanitize(this.title):this.title,i=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:n}),s=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(i),t.appendChild(s),e.insertBefore(t,this.element)}openHamburgerMenu(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")}closeHamburgerMenu(e){if(this.hamburgerMode){let t;t={element:this.element,parentItem:null,event:e,items:this.items,cancel:!1},this.trigger("beforeClose",t,t=>{t.cancel||(this.closeMenu(null,e),this.element.classList.add("e-hide-menu"),this.trigger("onClose",{element:this.element,parentItem:null,items:this.items}))})}}callFit(e,t,n,i,s){return hT(e,null,{X:t,Y:n},{top:i,left:s})}triggerBeforeOpen(e,t,n,i,s,l,r){this.getIndex(e?e.id:null,!0);let a=e?n[this.getField("children",this.navIdx.length-1)]:this.items,o=r;this.trigger("beforeOpen",{element:t,items:a,parentItem:n,event:i,cancel:!1,top:s,left:l},t=>{switch(o){case"menu":let e;if(this.hamburgerMode||(this.top=t.top,this.left=t.left),this.popupWrapper.style.display="block",this.hamburgerMode||(this.popupWrapper.style.maxHeight=this.popupWrapper.getBoundingClientRect().height+"px",this.addScrolling(this.popupWrapper,this.uList,"vscroll",this.popupWrapper.offsetHeight,this.uList.offsetHeight),this.checkScrollOffset(i)),this.hamburgerMode||this.left||this.top)this.popupObj.collision={X:"none",Y:"none"};else{if(this.popupObj.refreshPosition(this.lItem,!0),this.left=parseInt(this.popupWrapper.style.left,10),this.top=parseInt(this.popupWrapper.style.top,10),this.enableRtl&&(this.left=this.isNestedOrVertical?this.left-this.popupWrapper.offsetWidth-this.lItem.parentElement.offsetWidth+2:this.left-this.popupWrapper.offsetWidth+this.lItem.offsetWidth),e=cT(this.popupWrapper,null,this.left,this.top),(this.isNestedOrVertical||this.enableRtl)&&(e.indexOf("right")>-1||e.indexOf("left")>-1)){this.popupObj.collision.X="none";let e=GD(this.lItem,".e-"+this.getModuleName()+"-wrapper").offsetWidth;this.left=this.enableRtl?JM(this.lItem,this.isNestedOrVertical?"right":"left","top").left:this.left-this.popupWrapper.offsetWidth-e+2}e=cT(this.popupWrapper,null,this.left,this.top),(e.indexOf("left")>-1||e.indexOf("right")>-1)&&(this.left=this.callFit(this.popupWrapper,!0,!1,this.top,this.left).left),this.popupWrapper.style.left=this.left+"px"}this.popupWrapper.style.display="";break;case"none":this.top=t.top,this.left=t.left;break;case"hamburger":t.cancel||(this.element.classList.remove("e-hide-menu"),this.triggerOpen(this.element))}if("hamburger"!==o&&(t.cancel?(this.isMenu&&(this.popupObj.destroy(),qD(this.popupWrapper)),this.navIdx.pop()):this.isMenu?this.hamburgerMode?(this.popupWrapper.style.top=this.top+"px",this.popupWrapper.style.left="0px",this.toggleAnimation(this.popupWrapper)):(this.wireKeyboardEvent(this.popupWrapper),wA(this.popupWrapper,{selector:"."+jL}),this.popupWrapper.style.left=this.left+"px",this.popupWrapper.style.top=this.top+"px",this.popupObj.show("None"!==this.animationSettings.effect?{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing}:null,this.lItem)):(this.setPosition(this.lItem,this.uList,this.top,this.left),this.toggleAnimation(this.uList))),"right"===this.keyType){let t=this.getUlByNavIdx();e.classList.remove(HL),this.isMenu&&1===this.navIdx.length&&this.removeLIStateByClass([VL],[this.getWrapper()]),e.classList.add(VL),"enter"===this.action&&this.trigger("select",{element:e,item:n,event:i}),e.focus(),t=this.getUlByNavIdx();let s=this.isValidLI(t.children[0],0,this.action);t.children[s].classList.add(HL),t.children[s].focus()}})}checkScrollOffset(e){let t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){let n,i,s=UO(e)?this.element:GD(e.target,"."+jL),l=YD(".e-hscroll-bar",t);l.scrollLeft>s.offsetLeft&&(l.scrollLeft-=l.scrollLeft-s.offsetLeft),n=l.scrollLeft+l.offsetWidth,i=s.offsetLeft+s.offsetWidth,n<i&&(l.scrollLeft+=i-n)}}addScrolling(e,t,n,i,s){if(this.enableScrolling&&i<s){let i,s=this.createElement("div",{className:"e-menu-"+n});e.appendChild(s),s.appendChild(t),s.style.maxHeight=e.style.maxHeight,e.style.overflow="hidden","vscroll"===n?(i=new RL({enableRtl:this.enableRtl},s),i.scrollStep=YD(".e-"+n+"-bar",e).offsetHeight/2):(i=new LL({enableRtl:this.enableRtl},s),i.scrollStep=YD(".e-"+n+"-bar",e).offsetWidth)}}setPosition(e,t,n,i){if(this.toggleVisiblity(t),t===this.element||i>-1&&n>-1){let e=cT(t,null,i,n);e.indexOf("right")>-1&&(i-=t.offsetWidth),e.indexOf("bottom")>-1&&(n=this.callFit(t,!1,!0,n,i).top-20),e=cT(t,null,i,n),e.indexOf("left")>-1&&(i=this.callFit(t,!0,!1,n,i).left)}else if(jI.isDevice)n=Number(this.element.style.top.replace("px","")),i=Number(this.element.style.left.replace("px",""));else{let s=JM(e,this.enableRtl?"left":"right","top");i=s.left;let l=cT(t,null,this.enableRtl?i-t.offsetWidth:i,n=s.top),r=l.indexOf("left")>-1||l.indexOf("right")>-1;r&&(s=JM(e,this.enableRtl?"right":"left","top"),i=s.left),(this.enableRtl||r)&&(i=this.enableRtl&&r?i:i-t.offsetWidth),l.indexOf("bottom")>-1&&(s=this.callFit(t,!1,!0,n,i),n=s.top)}this.toggleVisiblity(t,!1),t.style.top=n+"px",t.style.left=i+"px"}toggleVisiblity(e,t=!0){e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"}createItems(e){let t=this.navIdx?this.navIdx.length:0,n=this.getFields(t),i=this.hasField(e,this.getField("iconCss",t)),s={showIcon:i,moduleName:"menu",fields:n,template:this.template,itemNavigable:!0,itemCreating:e=>{e.curData[e.fields[n.id]]||(e.curData[e.fields[n.id]]=YO("menuitem")),e.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},this.isMenu&&!e.curData[this.getField("separator",t)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text]),""===e.curData[e.fields[n.iconCss]]&&(e.curData[e.fields[n.iconCss]]=null)},itemCreated:e=>{if(e.curData[this.getField("separator",t)]&&(e.item.classList.add("e-separator"),e.item.removeAttribute("role")),!i||e.curData[e.fields.iconCss]||e.curData[this.getField("separator",t)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){let t=this.createElement("span",{className:"e-icons e-caret"});e.item.appendChild(t),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),this.isMenu||e.item.removeAttribute("role"),e.item.classList.add("e-menu-caret-icon")}this.isMenu&&this.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"),e.item.classList.contains("e-level-1")&&e.item.classList.remove("e-level-1"),e.item.classList.contains("e-has-child")&&e.item.classList.remove("e-has-child")),this.trigger("beforeItemRender",{item:e.curData,element:e.item})}};this.setProperties({items:this.items},!0),this.isMenu&&(s.templateID=this.element.id+"Template");let l=RM.createList(this.createElement,e,s,!this.template);return l.setAttribute("tabindex","0"),this.isMenu&&l.setAttribute("role","menu"),l}moverHandler(e){let t=e.target;this.liTrgt=t;let n,i=this.getLI(t),s=i?GD(i,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),l=this.getWrapper(),r=new RegExp("-ej2menu-(.*)-popup"),a=!1;if(s){if(n=""!==s.id?r.exec(s.id)[1]:s.querySelector("ul").id,n!==this.element.id){if(this.removeLIStateByClass([HL,VL],[this.getWrapper()]),!this.navIdx.length)return;a=!0}i&&GD(i,".e-"+this.getModuleName()+"-wrapper")&&!a?(this.removeLIStateByClass([HL],this.isMenu?[s].concat(this.getPopups()):[s]),this.removeLIStateByClass([HL],this.isMenu?[l].concat(this.getPopups()):[l]),i.classList.add(HL),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!a&&this.removeLIStateByClass([HL],[s].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===s||GD(t,".e-"+this.getModuleName()+"-popup")||i&&(!i||this.getIndex(i.id,!0).length)?a&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([HL],[s]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}}removeStateWrapper(){if(this.liTrgt){let e=GD(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([HL,VL],[e])}}removeLIStateByClass(e,t){let n;for(let i=0;i<t.length;i++)e.forEach(e=>{n=YD("."+e,t[i]),n&&n.classList.remove(e)})}getField(e,t=0){let n=this.fields[e];return"string"==typeof n?n:n[t]?n[t].toString():n[n.length-1].toString()}getFields(e=0){return{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}}hasField(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n][t])return!0;return!1}menuHeaderClickHandler(e){GD(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.classList.contains("e-hide-menu")?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))}clickHandler(e){if(this.isTapHold)this.isTapHold=!1;else{let t=this.getWrapper(),n=e.target,i=this.cli=this.getLI(n),s=new RegExp("-ej2menu-(.*)-popup"),l=i?GD(i,".e-"+this.getModuleName()+"-wrapper"):null,r=i&&l&&(this.isMenu?this.getIndex(i.id,!0).length>0:t.firstElementChild.id===l.firstElementChild.id);if(jI.isDevice&&this.isMenu&&(this.removeLIStateByClass([HL],[t].concat(this.getPopups())),this.mouseDownHandler(e)),i&&l&&this.isMenu){let e=l.id?s.exec(l.id)[1]:l.querySelector(".e-menu-parent").id;if(this.element.id!==e)return}if(r&&"click"===e.type&&!i.classList.contains(BL)){this.setLISelected(i);let t=this.getIndex(i.id,!0),n=this.getItem(t);this.trigger("select",{element:i,item:n,event:e})}if(r&&("mouseover"===e.type||jI.isDevice||this.showItemOnClick)){let n;if(i.classList.contains(BL)){n=t.children[this.navIdx.length-1],this.toggleAnimation(n);let e=this.getLIByClass(n,VL);e&&e.classList.remove(VL),qD(i.parentNode),this.navIdx.pop()}else if(!i.classList.contains("e-separator")){this.showSubMenu=!0;let n=i.parentNode;if(this.cliIdx=this.getIdx(n,i),this.isMenu||!jI.isDevice){let s=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),GD(n,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,n);if(this.navIdx[s]===this.cliIdx&&(this.showSubMenu=!1),s!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu)){let t=this.getLIByClass(n,VL);t&&t.classList.remove(VL),this.isClosed=!0,this.keyType="click",this.closeMenu(s+1,e),this.setLISelected(i)}}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===n.tagName&&this.navIdx.length&&GD(n,".e-menu-vscroll")){let t=GD(n,"."+qL),i=Array.prototype.indexOf.call(this.getPopups(),t)+1;i<this.navIdx.length&&(this.closeMenu(i+1,e),this.removeLIStateByClass([HL,VL],[t]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===n.tagName&&n.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):"UL"===n.tagName&&(this.isMenu?!n.parentElement.classList.contains("e-menu-wrapper")||this.getIndex(n.querySelector("."+jL).id,!0).length:n.parentElement===t)||(i||this.removeLIStateByClass([VL],[t]),i&&i.querySelector(".e-caret")||this.closeMenu(null,e))}}afterCloseMenu(e){if(this.showSubMenu){let t=this.navIdx.concat(this.cliIdx),n=this.getItem(t);n&&n[this.getField("children",t.length-1)]&&n[this.getField("children",t.length-1)].length?(("mouseover"===e.type||jI.isDevice&&this.isMenu)&&this.setLISelected(this.cli),this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,n,null,null,e)):"mouseover"!==e.type&&this.closeMenu(null,e)}this.keyType=""}setLISelected(e){let t=this.getLIByClass(e.parentElement,VL);t&&t.classList.remove(VL),this.isMenu||e.classList.remove(HL),e.classList.add(VL)}getLIByClass(e,t){for(let n=0,i=e.children.length;n<i;n++)if(e.children[n].classList.contains(t))return e.children[n];return null}getItemIndex(e,t){let n;return n="string"==typeof e?e:e.id,this.getIndex(n,!1!==t)}setItem(e,t,n){let i=this.getIndex(t||e.id,!1!==n),s=this.getItem(i);s.iconCss=e.iconCss,s.id=e.id,s.text=e.text,s.url=e.url,s.separator=e.separator,s.items=e.items}getItem(e){let t=(e=e.slice()).pop();return this.getItems(e)[t]}getItems(e){let t=this.items;for(let n=0;n<e.length;n++)t=t[e[n]][this.getField("children",n)];return t}setItems(e,t){let n=this.getItems(t);n.splice(0,n.length);for(let i=0;i<e.length;i++)n.splice(i,0,e[i])}getIdx(e,t,n=!0){let i=Array.prototype.indexOf.call(e.querySelectorAll("li"),t);return i=Array.prototype.indexOf.call(e.children,t),n&&e.children[0].classList.contains(BL)&&i--,i}getLI(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:GD(e,"li.e-menu-item")}removeChildElement(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e}onPropertyChanged(e,t){let n=this.getWrapper();for(let i of Object.keys(e))switch(i){case"cssClass":t.cssClass&&FD([n],t.cssClass.split(" ")),e.cssClass&&RD([n],e.cssClass.split(" "));break;case"enableRtl":n.classList.toggle("e-rtl");break;case"showItemOnClick":this.unWireEvents(),this.showItemOnClick=e.showItemOnClick,this.wireEvents();break;case"enableScrolling":if(e.enableScrolling){let e;this.element.classList.contains("e-vertical")?this.addScrolling(n,this.element,"vscroll",n.offsetHeight,this.element.offsetHeight):this.addScrolling(n,this.element,"hscroll",n.offsetWidth,this.element.offsetWidth),this.getPopups().forEach(t=>{e=YD(".e-ul",t),this.addScrolling(t,e,"vscroll",t.offsetHeight,e.offsetHeight)})}else{let e=n.children[0];this.element.classList.contains("e-vertical")?this.destroyScrollObj(QO(e,RL),e):this.destroyScrollObj(QO(e,LL),e),n.style.overflow="",n.appendChild(this.element),this.getPopups().forEach(t=>{e=t.children[0],this.destroyScrollObj(QO(e,RL),e),t.style.overflow=""})}break;case"items":let i,s,l;if(Object.keys(t.items).length){let t=Object.keys(e.items);for(let n=0;n<t.length;n++)s=this.getChangedItemIndex(e,[],Number(t[n])),s.length<=this.getWrapper().children.length&&(i=s.pop(),l=this.getItems(s),this.insertAfter([l[i]],l[i].text),this.removeItem(l,s,i),this.setItems(l,s)),s.length=0}else{let e=this.element;e.innerHTML="",[].slice.call(this.createItems(this.items).children).forEach(t=>{e.appendChild(t)});for(let t=1,i=n.childElementCount;t<i;t++)qD(n.lastElementChild);this.navIdx=[]}}}getChangedItemIndex(e,t,n){t.push(n);let i=Object.keys(e.items[n]).pop();if("items"===i){let i=e.items[n],s=Object.keys(i.items).pop();s&&this.getChangedItemIndex(i,t,Number(s))}else"isParentArray"===i&&t.length>1&&t.pop();return t}removeItem(e,t,n){e.splice(n,1);let i=this.getWrapper().children;t.length<i.length&&qD(i[t.length].children[n])}unWireEvents(e=this.target){let t=this.getWrapper();if(e){let t,n,i=$D(e);for(let e=0,s=i.length;e<s;e++)t=i[e],this.isMenu?zI.remove(t,"click",this.menuHeaderClickHandler):jI.isIos?(n=QO(t,XA),n&&n.destroy()):zI.remove(t,"contextmenu",this.cmenuHandler);if(!this.isMenu){zI.remove(this.targetElement,"scroll",this.scrollHandler);for(let e of DT(this.targetElement))zI.remove(e,"scroll",this.scrollHandler)}}jI.isDevice||(zI.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),zI.remove(document,"mousedown",this.delegateMouseDownHandler)),zI.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()}unWireKeyboardEvent(e){let t=QO(e,UA);t&&t.destroy()}toggleAnimation(e,t=!0){let n,i;"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:e=>{this.hamburgerMode?(i=e.element.parentElement,e.element.style.position="absolute",n=i.offsetHeight,e.element.style.maxHeight=e.element.offsetHeight+"px",i.style.maxHeight=""):(e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px")},progress:e=>{this.hamburgerMode&&(i.style.minHeight=n+e.element.offsetHeight+"px")},end:e=>{this.hamburgerMode?(e.element.style.position="",e.element.style.maxHeight="",i.style.minHeight="",e.element.style.top="0px",e.element.children[0].focus(),this.triggerOpen(e.element.children[0])):this.end(e.element,t)}}):this.end(e,t)}triggerOpen(e){let t=this.navIdx.length?this.getItem(this.navIdx):null;this.trigger("onOpen",{element:e,parentItem:t,items:t?t.items:this.items})}end(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+HL))e.querySelector("."+HL).focus();else{let t;t=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1],t?t.querySelector("."+VL).focus():this.element.focus()}else if(e===this.element){let t=this.getLIByClass(this.element,HL);t&&t.classList.remove(HL);let n=this.getLIByClass(this.element,VL);n&&n.classList.remove(VL),e.style.display="none"}else qD(e)}getPersistData(){return""}getWrapper(){return GD(this.element,".e-"+this.getModuleName()+"-wrapper")}getIndex(e,t,n=this.items,i=[],s=!1,l=0){let r;l=s?l+1:0;for(let a=0,o=n.length;a<o;a++){if(r=n[a],(t?r[this.getField("itemId",l)]:r[this.getField("text",l)])===e){i.push(a);break}if(r[this.getField("children",l)]&&r[this.getField("children",l)].length){if(-1!==(i=this.getIndex(e,t,r[this.getField("children",l)],i,!0,l))[i.length-1]){i.unshift(a);break}a!==o-1&&i.pop()}else a===o-1&&i.push(-1)}return s||-1!==i[0]?i:[]}enableItems(e,t=!0,n){let i,s,l,r,a="e-disabled";for(let o=0;o<e.length;o++){if(l=this.getIndex(e[o],n),this.navIdx.length){if(1!==l.length){r=!1;for(let e=0,t=l.length-1;e<t;e++)if(l[e]!==this.navIdx[e]){r=!0;break}if(r)continue}}else if(1!==l.length)continue;s=l.pop(),i=this.getUlByNavIdx(l.length),i&&(t?this.isMenu?(i.children[s].classList.remove(a),i.children[s].removeAttribute("aria-disabled")):jI.isDevice&&!i.classList.contains("e-contextmenu")?i.children[s+1].classList.remove(a):i.children[s].classList.remove(a):this.isMenu?(i.children[s].classList.add(a),i.children[s].setAttribute("aria-disabled","true")):jI.isDevice&&!i.classList.contains("e-contextmenu")?i.children[s+1].classList.add(a):i.children[s].classList.add(a))}}showItems(e,t){this.showHideItems(e,!1,t)}hideItems(e,t){this.showHideItems(e,!0,t)}showHideItems(e,t,n){let i,s,l;for(let r=0;r<e.length;r++)l=this.getIndex(e[r],n),s=l.pop(),i=this.getUlByNavIdx(l.length),i&&(t?jI.isDevice&&!i.classList.contains("e-contextmenu")?i.children[s+1].classList.add(zL):i.children[s].classList.add(zL):jI.isDevice&&!i.classList.contains("e-contextmenu")?i.children[s+1].classList.remove(zL):i.children[s].classList.remove(zL))}removeItems(e,t){let n,i,s;for(let l=0;l<e.length;l++)i=this.getIndex(e[l],t),n=i.pop(),s=this.getItems(i),this.removeItem(s,i,n)}insertAfter(e,t,n){this.insertItems(e,t,n)}insertBefore(e,t,n){this.insertItems(e,t,n,!1)}insertItems(e,t,n,i=!0){let s,l,r,a,o,h;for(let c=0;c<e.length;c++){r=this.getIndex(t,n),l=r.pop(),a=this.getItems(r),o=new WL(a[0],"items",e[c],!0),a.splice(i?l+1:l,0,o);let d=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(r.length<d.length){l=i?l+1:l,h=this.hasField(a,this.getField("iconCss",r.length-1)),s=this.createItems(a).children[l];let e=this.isMenu?YD(".e-menu-parent",d[r.length]):d[r.length];e.insertBefore(s,e.children[l])}}}removeAttributes(){["top","left","display","z-index"].forEach(e=>{this.element.style.removeProperty(e)}),["role","tabindex","class","style"].forEach(e=>{"class"===e&&this.element.classList.contains("e-menu-parent")&&this.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(e)&&this.element.getAttribute(e)||this.element.removeAttribute(e),this.isMenu&&"class"===e&&this.element.classList.contains("e-vertical")&&this.element.classList.remove("e-vertical")})}destroy(){let e=this.getWrapper();if(e){if(this.unWireEvents(),this.isMenu)this.closeMenu(),this.element.innerHTML="",this.removeAttributes(),e.parentNode.insertBefore(this.element,e);else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)RD([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){let t=this.clonedElement.nextElementSibling;t&&t!==e?this.clonedElement.parentElement.insertBefore(this.element,t):this.clonedElement.parentElement.appendChild(this.element),this.element.innerHTML="",jD([].slice.call(this.clonedElement.children),this.element),qD(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(qD(this.element),e.style.display="",e.classList.remove("e-"+this.getModuleName()+"-wrapper"),e.removeAttribute("data-ripple")):qD(e),super.destroy()}}};return FL([mA()],e.prototype,"beforeItemRender",void 0),FL([mA()],e.prototype,"beforeOpen",void 0),FL([mA()],e.prototype,"onOpen",void 0),FL([mA()],e.prototype,"beforeClose",void 0),FL([mA()],e.prototype,"onClose",void 0),FL([mA()],e.prototype,"select",void 0),FL([mA()],e.prototype,"created",void 0),FL([dA("")],e.prototype,"cssClass",void 0),FL([dA(!1)],e.prototype,"showItemOnClick",void 0),FL([dA("")],e.prototype,"target",void 0),FL([dA("")],e.prototype,"filter",void 0),FL([dA(null)],e.prototype,"template",void 0),FL([dA(!1)],e.prototype,"enableScrolling",void 0),FL([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),FL([uA({},UL)],e.prototype,"fields",void 0),FL([pA([],WL)],e.prototype,"items",void 0),FL([uA({},YL)],e.prototype,"animationSettings",void 0),e=FL([fA],e),e})();var GL=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const XL="e-toolbar-items",KL="e-blazor-toolbar-items",ZL="e-toolbar-item",JL="e-toolbar-popup";let QL=(()=>{class e extends OA{}return GL([dA("")],e.prototype,"id",void 0),GL([dA("")],e.prototype,"text",void 0),GL([dA("auto")],e.prototype,"width",void 0),GL([dA("")],e.prototype,"cssClass",void 0),GL([dA(!1)],e.prototype,"showAlwaysInPopup",void 0),GL([dA(!1)],e.prototype,"disabled",void 0),GL([dA("")],e.prototype,"prefixIcon",void 0),GL([dA("")],e.prototype,"suffixIcon",void 0),GL([dA(!0)],e.prototype,"visible",void 0),GL([dA("None")],e.prototype,"overflow",void 0),GL([dA("")],e.prototype,"template",void 0),GL([dA("Button")],e.prototype,"type",void 0),GL([dA("Both")],e.prototype,"showTextOn",void 0),GL([dA(null)],e.prototype,"htmlAttributes",void 0),GL([dA("")],e.prototype,"tooltipText",void 0),GL([dA("Left")],e.prototype,"align",void 0),GL([mA()],e.prototype,"click",void 0),e})(),eN=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.resizeContext=this.resize.bind(this),this.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"}}destroy(){super.destroy(),this.unwireEvents(),this.tempId.forEach(e=>{UO(this.element.querySelector(e))||(document.body.appendChild(this.element.querySelector(e)).style.display="none")});{let e=this.element.querySelectorAll(".e-control");[].slice.call(e).forEach(e=>{let t=e.ej2_instances;if(t){let e=t[0];e&&e.destroy()}})}for(;this.element.lastElementChild&&!this.element.lastElementChild.classList.contains(KL);)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&this.element.appendChild(this.ctrlTem),this.clearProperty(),this.popObj=null,this.tbarAlign=null,this.remove(this.element,"e-toolpop"),this.cssClass&&FD([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach(e=>this.element.removeAttribute(e))}preRender(){let e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains("e-vertical"),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,"e-rtl")}wireEvents(){zI.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.allowKeyboard&&this.wireKeyboardEvent()}wireKeyboardEvent(){this.keyModule=new UA(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),zI.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")}unwireKeyboardEvent(){this.keyModule&&(zI.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)}docKeyDown(e){if("INPUT"===e.target.tagName)return;let t=!UO(this.popObj)&&BD(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}unwireEvents(){zI.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),zI.remove(document,"scroll",this.docEvent),zI.remove(document,"click",this.docEvent)}clearProperty(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}}docEvent(e){let t=GD(e.target,".e-popup");this.popObj&&BD(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})}destroyScroll(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,"e-tbar-pos"),this.scrollModule.destroy(),this.scrollModule=null)}destroyItems(){[].slice.call(this.element.querySelectorAll("."+ZL)).forEach(e=>{qD(e)});let e=this.element.querySelector("."+XL);this.tbarAlign&&([].slice.call(e.children).forEach(e=>{qD(e)}),this.tbarAlign=!1,this.remove(e,"e-tbar-pos")),this.clearProperty()}destroyMode(){this.scrollModule&&(this.remove(this.scrollModule.element,"e-rtl"),this.destroyScroll()),this.remove(this.element,"e-tbar-extended"),this.remove(this.element,"e-extended-toolbar");let e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,"e-toolbar-multirow"),this.popObj&&this.popupRefresh(this.popObj.element,!0)}add(e,t){e.classList.add(t)}remove(e,t){e.classList.remove(t)}elementFocus(e){let t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()}clstElement(e,t){let n;return n=e&&this.popObj&&BD(this.popObj.element)?this.popObj.element.querySelector("."+ZL):this.element===t||e?this.element.querySelector("."+ZL+":not(.e-overlay ):not(.e-separator ):not(.e-hidden )"):GD(t,"."+ZL),n}keyHandling(e,t,n,i,s){let l=this.popObj,r=this.element,a={name:"FadeOut",duration:100};switch(t.action){case"moveRight":if(this.isVertical)return;r===n?this.elementFocus(e):i||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;i||this.eleFocus(e,"previous");break;case"home":case"end":let o,h;if(e){let n=GD(e,".e-popup");n?BD(this.popObj.element)&&(h=[].slice.call(n.children),o="home"===t.action?h[0]:h[h.length-1]):(h=this.element.querySelectorAll("."+XL+" ."+ZL),o="home"===t.action?h[0]:h[h.length-1]),o&&this.elementFocus(o)}break;case"moveUp":case"moveDown":let c="moveUp"===t.action?"previous":"next";if(this.isVertical)this.eleFocus(e,"moveUp"===t.action?"previous":"next");else if(l&&GD(n,".e-popup")){let t=l.element,n=t.firstElementChild;if("previous"===c&&n===e||"next"===c&&t.lastElementChild===e)return;this.eleFocus(e,c)}else"moveDown"===t.action&&l&&BD(l.element)&&this.elementFocus(e);break;case"tab":if(!s&&!i){let t=e.firstElementChild;r===n&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(t),t.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":l&&"Extended"!==this.overflowMode&&l.hide(a);break;case"popupOpen":if(!i)return;l&&!BD(l.element)?(l.element.style.top=r.offsetHeight+"px",l.show({name:"FadeIn",duration:100})):l.hide(a)}}keyActionHandler(e){let t,n=e.target;if("INPUT"===n.tagName||"TEXTAREA"===n.tagName||this.element.classList.contains("e-overlay"))return;e.preventDefault();let i=n.classList.contains("e-hor-nav"),s=n.classList.contains("e-scroll-nav");t=this.clstElement(i,n),(t||s)&&this.keyHandling(t,e,n,i,s)}disable(e){let t=this.element;e?t.classList.add("e-overlay"):t.classList.remove("e-overlay"),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(BD(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))}eleContains(e){return e.classList.contains("e-separator")||e.classList.contains("e-overlay")||e.getAttribute("disabled")||e.classList.contains("e-hidden")||!BD(e)}eleFocus(e,t){let n=Object(e)[t+"ElementSibling"];if(n){if(this.eleContains(n))return void this.eleFocus(n,t);this.elementFocus(n)}else if(this.tbarAlign){let n=Object(e.parentElement)[t+"ElementSibling"];if(UO(n)||0!==n.children.length||(n=Object(n)[t+"ElementSibling"]),!UO(n)&&n.children.length>0)if("next"===t){let e=n.querySelector("."+ZL);this.eleContains(e)?this.eleFocus(e,t):(e.firstElementChild.focus(),this.activeEleSwitch(e))}else{let e=n.lastElementChild;this.eleContains(e)?this.eleFocus(e,t):this.elementFocus(e)}}}clickHandler(e){let t,n=e.target,i=n.classList,s=this.element,l=!UO(GD(n,".e-toolbar-pop")),r=GD(n,".e-hor-nav");r||(r=n),s.children[0].classList.contains("e-hscroll")||s.children[0].classList.contains("e-vscroll")||!i.contains("e-hor-nav")||(i=n.querySelector(".e-icons").classList),(i.contains("e-popup-up-icon")||i.contains("e-popup-down-icon"))&&this.popupClickHandler(s,r,"e-rtl");let a=GD(e.target,"."+ZL);if((UO(a)||a.classList.contains("e-overlay"))&&!r.classList.contains("e-hor-nav"))return;if(a){t=this.items[this.tbarEle.indexOf(a)]}let o={originalEvent:e,item:t};t&&!UO(t.click)&&this.trigger("items["+this.tbarEle.indexOf(a)+"].click",o),o.cancel||this.trigger("clicked",o,e=>{!UO(this.popObj)&&l&&!e.cancel&&"Popup"===this.overflowMode&&e.item&&"Input"!==e.item.type&&this.popObj.hide({name:"FadeOut",duration:100})})}popupClickHandler(e,t,n){let i=this.popObj;BD(i.element)?(t.classList.remove("e-nav-active"),i.hide({name:"FadeOut",duration:100})):(e.classList.contains(n)&&(i.enableRtl=!0,i.position={X:"left",Y:"top"}),0!==i.offsetX||e.classList.contains(n)||(i.enableRtl=!1,i.position={X:"right",Y:"top"}),i.dataBind(),i.refreshPosition(),i.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(i.element.style.minHeight="0px"),t.classList.add("e-nav-active"),i.show({name:"FadeIn",duration:100}))}render(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}initialize(){let e=KO(this.width),t=KO(this.height);"msie"===jI.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||XD(this.element,{height:t}),XD(this.element,{width:e}),WD(this.element,{role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&RD([this.element],this.cssClass.split(" "))}renderControl(){let e=this.element;this.trgtEle=e.children.length>0&&!this.isServerRendered?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()}renderLayout(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()}itemsAlign(e,t){let n,i;this.tbarEle||(this.tbarEle=[]);for(let s=0;s<e.length;s++)n=this.renderSubComponent(e[s],s),-1===this.tbarEle.indexOf(n)&&this.tbarEle.push(n),this.tbarAlign||this.tbarItemAlign(e[s],t,s),i=t.querySelector(".e-toolbar-"+e[s].align.toLowerCase()),i?(e[s].showAlwaysInPopup&&"Show"!==e[s].overflow||this.tbarAlgEle[(e[s].align+"s").toLowerCase()].push(n),i.appendChild(n)):t.appendChild(n)}serverItemsRerender(){this.destroyMode(),this.resetServerItems(),this.serverItemsRefresh()}serverItemsRefresh(){this.element.querySelector("."+KL).children.length>0&&(this.itemsAlign(this.items,this.element.querySelector("."+XL)),this.renderLayout(),this.refreshOverflow())}resetServerItems(){let e=this.element.querySelector("."+KL);jD([].slice.call($D("."+XL+" ."+ZL,this.element)),e),this.clearProperty()}changeOrientation(){let e=this.element;this.isVertical?(e.classList.remove("e-vertical"),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add("e-vertical"),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),XD(this.element,{height:KO(this.height),width:KO(this.width)})),this.destroyMode(),this.refreshOverflow()}initScroll(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+XL+" .e-toolbar-center").removeAttribute("style"),this.scrollModule=this.isVertical?new RL({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):new LL({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.remove(this.scrollModule.element,"e-tbar-pos"),XD(this.element,{overflow:"hidden"}))}itemWidthCal(e){let t,n=0;return[].slice.call($D("."+ZL,e)).forEach(e=>{BD(e)&&(t=window.getComputedStyle(e),n+=this.isVertical?e.offsetHeight:e.offsetWidth,n+=parseFloat(this.isVertical?t.marginTop:t.marginRight),n+=parseFloat(this.isVertical?t.marginBottom:t.marginLeft))}),n}getScrollCntEle(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")}checkOverflow(e,t){if(UO(e)||UO(t)||!BD(e))return!1;let n=this.isVertical?e.offsetHeight:e.offsetWidth,i=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||n===i)&&(i=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));let s=e.querySelector(".e-hor-nav"),l=e.querySelector(".e-scroll-nav"),r=0;return s?r=this.isVertical?s.offsetHeight:s.offsetWidth:l&&(r=this.isVertical?2*l.offsetHeight:2*l.offsetWidth),i>n-r}refreshOverflow(){this.resize()}toolbarAlign(e){this.tbarAlign&&(this.add(e,"e-tbar-pos"),this.itemPositioning())}renderOverflowMode(){let e=this.element,t=e.querySelector("."+XL),n=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===jI.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":UO(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(XL)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||n)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,"e-toolbar-multirow"),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,"e-multirow-pos")),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==jI.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,"e-extended-toolbar"),(this.checkOverflow(e,t)||n)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}}setOverflowAttributes(e){this.createPopupEle(e,[].slice.call($D("."+XL+" ."+ZL,e))),this.element.querySelector(".e-hor-nav").setAttribute("tabIndex","0"),this.element.querySelector(".e-hor-nav").setAttribute("role","list")}separator(){let e,t=this.element,n=[].slice.call(t.querySelectorAll(".e-separator")),i=t.querySelector(".e-multirow-separator"),s=t.querySelector(".e-extended-separator");e="MultiRow"===this.overflowMode?i:s,null!==e&&("MultiRow"===this.overflowMode?e.classList.remove("e-multirow-separator"):"Extended"===this.overflowMode&&e.classList.remove("e-extended-separator"));for(let l=0;l<=n.length-1;l++)n[l].offsetLeft<30&&0!==n[l].offsetLeft&&("MultiRow"===this.overflowMode?n[l].classList.add("e-multirow-separator"):"Extended"===this.overflowMode&&n[l].classList.add("e-extended-separator"))}createPopupEle(e,t){let n=e.querySelector(".e-hor-nav"),i=this.isVertical;n||this.createPopupIcon(e),n=e.querySelector(".e-hor-nav");let s=(i?e.offsetHeight:e.offsetWidth)-(i?n.offsetHeight:n.offsetWidth);this.element.classList.remove("e-rtl"),XD(this.element,{direction:"initial"}),this.checkPriority(e,t,s,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()}pushingPoppedEle(e,t,n,i,s){let l=e.element,r=$D(".e-overflow-show",n),a=0,o=[].slice.call($D("."+JL,l.querySelector("."+XL))),h=0;o.forEach((l,o)=>{r=$D(".e-overflow-show",n),l.classList.contains("e-overflow-show")&&r.length>0?e.tbResize&&r.length>o?(n.insertBefore(l,r[o]),++h):(n.insertBefore(l,n.children[r.length]),++h):l.classList.contains("e-overflow-show")?(n.insertBefore(l,n.firstChild),++h):e.tbResize&&l.classList.contains("e-overflow-hide")&&n.children.length>0&&0===r.length?(n.insertBefore(l,n.firstChild),++h):l.classList.contains("e-overflow-hide")?t.push(l):e.tbResize?(n.insertBefore(l,n.childNodes[a+h]),++a):n.appendChild(l),l.classList.contains("e-separator")?XD(l,{display:"",height:s+"px"}):XD(l,{display:"",height:i+"px"})}),t.forEach(e=>{n.appendChild(e)});let c=$D("."+ZL,l.querySelector("."+XL));for(let d=c.length-1;d>=0;d--){let e=c[d];if(!e.classList.contains("e-separator")||"Extended"===this.overflowMode)break;XD(e,{display:"none"})}}createPopup(){let e,t,n,i,s,l=this.element;if("Extended"===this.overflowMode&&(i=l.querySelector(".e-separator:not(."+JL+")"),n="auto"===l.style.height||""===l.style.height?null:i.offsetHeight),t=l.querySelector("."+ZL+":not(.e-separator):not(."+JL+")"),e="auto"===l.style.height||""===l.style.height?null:t&&t.offsetHeight,l.querySelector("#"+l.id+"_popup.e-toolbar-pop"))s=l.querySelector("#"+l.id+"_popup.e-toolbar-pop");else{let e=this.createElement("div",{id:l.id+"_popup",className:"e-toolbar-pop e-toolbar-extended"}),t=this.createElement("div",{id:l.id+"_popup",className:"e-toolbar-pop"});s="Extended"===this.overflowMode?e:t}this.pushingPoppedEle(this,[],s,e,n),this.popupInit(l,s)}getElementOffsetY(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight}popupInit(e,t){if(this.popObj){let e=this.popObj.element;XD(e,{maxHeight:"",display:"block"}),XD(e,{maxHeight:e.offsetHeight+"px",display:""})}else{e.appendChild(t),XD(this.element,{overflow:""});let n=window.getComputedStyle(this.element),i=new IT(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(i.appendTo(t),"Extended"===this.overflowMode&&(i.width=parseFloat(n.width)+2*parseFloat(n.borderRightWidth),i.offsetX=0),zI.add(document,"scroll",this.docEvent.bind(this)),zI.add(document,"click ",this.docEvent.bind(this)),i.element.style.maxHeight=i.element.offsetHeight+"px",this.isVertical&&(i.element.style.visibility="hidden"),this.isExtendedOpen){let e=this.element.querySelector(".e-hor-nav");e.classList.add("e-nav-active"),KD(e.firstElementChild,["e-popup-up-icon"],["e-popup-down-icon"]),this.element.querySelector(".e-toolbar-extended").classList.add("e-popup-open")}else i.hide();this.popObj=i,this.element.setAttribute("aria-haspopup","true")}}tbarPopupHandler(e){"Extended"===this.overflowMode&&(e?this.add(this.element,"e-tbar-extended"):this.remove(this.element,"e-tbar-extended"))}popupOpen(e){let t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());let n=this.popObj.element,i=this.popObj.element.parentElement,s=i.querySelector(".e-hor-nav");XD(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");let l=n.offsetTop+n.offsetHeight+JM(i).top,r=s.firstElementChild;s.classList.add("e-nav-active"),KD(r,["e-popup-up-icon"],["e-popup-down-icon"]),this.tbarPopupHandler(!0);let a=UO(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+a<l&&this.element.offsetTop<n.offsetHeight){let e=n.offsetHeight-(l-window.innerHeight-a+5);t.height=e+"px";for(let t=0;t<=n.childElementCount;t++){let i=n.children[t];if(i.offsetTop+i.offsetHeight>e){e=i.offsetTop;break}}XD(t.element,{maxHeight:e+"px"})}else if(this.isVertical){let e=this.element.getBoundingClientRect();XD(t.element,{maxHeight:e.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}t&&t.refreshPosition()}popupClose(e){let t=this.element.querySelector(".e-hor-nav"),n=t.firstElementChild;t.classList.remove("e-nav-active"),KD(n,["e-popup-down-icon"],["e-popup-up-icon"]),this.tbarPopupHandler(!1)}checkPriority(e,t,n,i){let s,l,r=this.popupPriCount>0,a=n,o=0,h=0,c=0,d=(e,t)=>{let n=!1;return t.forEach(t=>{e.classList.contains(t)&&(n=!0)}),n};for(let u=t.length-1;u>=0;u--){let e,a=window.getComputedStyle(t[u]);this.isVertical?(e=parseFloat(a.marginTop),e+=parseFloat(a.marginBottom)):(e=parseFloat(a.marginRight),e+=parseFloat(a.marginLeft));let p=t[u]===this.tbarEle[0];p&&(this.tbarEleMrgn=e),s=this.isVertical?t[u].offsetHeight:t[u].offsetWidth;let m=p?s+e:s;if(d(t[u],["e-popup-alone"])&&r&&(t[u].classList.add(JL),XD(t[u],this.isVertical?{display:"none",minHeight:m+"px"}:{display:"none",minWidth:m+"px"}),c++),l=this.isVertical?t[u].offsetTop+t[u].offsetHeight+e>n:t[u].offsetLeft+t[u].offsetWidth+e>n,l){if(t[u].classList.contains("e-separator")){if("Extended"===this.overflowMode)h===c&&d(t[u],["e-separator","e-ignore"])&&(t[u].classList.add(JL),c++),h++;else if("Popup"===this.overflowMode){if(o>0&&h===c){let e=t[u+h+(o-1)];d(e,["e-separator","e-ignore"])&&XD(e,{display:"none"})}o++,h=0,c=0}}else h++;t[u].classList.contains("e-overflow-show")&&i?n-=(this.isVertical?t[u].offsetHeight:t[u].offsetWidth)+e:d(t[u],["e-separator","e-ignore"])?n-=(this.isVertical?t[u].offsetHeight:t[u].offsetWidth)+e:(t[u].classList.add(JL),XD(t[u],this.isVertical?{display:"none",minHeight:m+"px"}:{display:"none",minWidth:m+"px"}),c++)}}if(i){let t=$D("."+ZL+":not(."+JL+")",this.element);this.checkPriority(e,t,a,!1)}}createPopupIcon(e){let t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-hor-nav");n="Extended"===this.overflowMode?n+" e-expended-nav":n;let i=this.createElement("div",{id:t,className:n});"msie"!==jI.info.name&&"edge"!==jI.info.name||i.classList.add("e-ie-align");let s=this.createElement("div",{className:"e-popup-down-icon e-icons"});i.appendChild(s),i.setAttribute("tabindex","0"),i.setAttribute("role","list"),e.appendChild(i)}tbarPriRef(e,t,n,i,s,l,r,a){let o=a,h=$D("."+JL+":not(.e-overflow-show)",this.popObj.element).length,c=(e,t)=>e.classList.contains(t);if(0===$D(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){let a=e.children[t-(t-n)-1],h=!UO(a)&&c(a,"e-ignore");if(!UO(a)&&c(a,"e-separator")&&!BD(a)||h){let h="none";a.style.display="inherit";let c=a.offsetWidth+2*parseFloat(window.getComputedStyle(a).marginRight),d=a.previousElementSibling;l+c<r||s?(e.insertBefore(i,e.children[t+o-(t-n)]),UO(d)||(d.style.display="")):d.classList.contains("e-separator")&&(d.style.display=h),a.style.display=""}else e.insertBefore(i,e.children[t+o-(t-n)])}else e.insertBefore(i,e.children[t+o-h])}popupRefresh(e,t){let n,i=this.element,s=this.isVertical,l=i.querySelector(".e-hor-nav"),r=i.querySelector("."+XL);if(UO(l))return;r.removeAttribute("style"),e.style.display="block",n=s?i.offsetHeight-(l.offsetHeight+r.offsetHeight):i.offsetWidth-(l.offsetWidth+r.offsetWidth);let a=0;[].slice.call(e.children).forEach(e=>{a+=this.popupEleWidth(e),XD(e,{position:""})}),n+(s?l.offsetHeight:l.offsetWidth)>a&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(n,e,t),e.style.display="",0===e.children.length&&l&&this.popObj&&(qD(l),l=null,this.popObj.destroy(),qD(this.popObj.element),this.popObj=null,i.setAttribute("aria-haspopup","false"))}ignoreEleFetch(e,t){let n=[].slice.call(t.querySelectorAll(".e-ignore")),i=[],s=0;return n.length>0?(n.forEach(e=>{i.push([].slice.call(t.children).indexOf(e))}),i.forEach(t=>{t<=e&&s++}),s):0}checkPopupRefresh(e,t){t.style.display="block";let n=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");let i=e.offsetWidth-e.querySelector(".e-hor-nav").offsetWidth,s=e.querySelector("."+XL).offsetWidth;return t.style.removeProperty("display"),i>n+s}popupEleWidth(e){e.style.position="absolute";let t=this.isVertical?e.offsetHeight:e.offsetWidth,n=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains("e-popup-text")){let i=e.children[0];!UO(n)&&e.classList.contains("e-popup-text")?n.style.display="none":!UO(n)&&e.classList.contains("e-toolbar-text")&&(n.style.display="block"),i.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),i.style.minWidth="",i.style.minHeight="",UO(n)||(n.style.display="")}return t}popupEleRefresh(e,t,n){let i,s,l,r=this.popupPriCount>0,a=this.tbarEle,o=this.element.querySelector("."+XL),h=0;for(let c of[].slice.call(t.children)){if(c.classList.contains("e-popup-alone")&&r&&!n)continue;let t=this.popupEleWidth(c);if(c===this.tbarEle[0]&&(t+=this.tbarEleMrgn),c.style.position="",!(t<e||n))break;{if(XD(c,{minWidth:"",height:"",minHeight:""}),c.classList.contains("e-overflow-hide")||c.classList.remove(JL),s=this.tbarEle.indexOf(c),this.tbarAlign){let e=this.items[s].align;s=this.tbarAlgEle[(e+"s").toLowerCase()].indexOf(c),a=this.tbarAlgEle[(e+"s").toLowerCase()],o=this.element.querySelector("."+XL+" .e-toolbar-"+e.toLowerCase())}let l=0;"Extended"!==this.overflowMode&&a.slice(0,s).forEach(t=>{(t.classList.contains("e-overflow-show")||t.classList.contains("e-separator"))&&(t.classList.contains("e-separator")&&(t.style.display="",e-=t.offsetWidth),l++)}),h=this.ignoreEleFetch(s,o),c.classList.contains("e-overflow-show")?(this.tbarPriRef(o,s,l,c,n,t,e,h),e-=c.offsetWidth):0===s?(o.insertBefore(c,o.firstChild),e-=c.offsetWidth):(i=$D(".e-overflow-show",this.popObj.element).length,o.insertBefore(c,o.children[s+h-i]),e-=c.offsetWidth),c.style.height=""}}l=this.checkOverflow(this.element,this.element.getElementsByClassName(XL)[0]),l&&!n&&this.renderOverflowMode()}removePositioning(){let e=this.element.querySelector("."+XL);if(UO(e)||!e.classList.contains("e-tbar-pos"))return;this.remove(e,"e-tbar-pos");let t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}refreshPositioning(){let e=this.element.querySelector("."+XL);this.add(e,"e-tbar-pos"),this.itemPositioning()}itemPositioning(){let e,t=this.element.querySelector("."+XL);if(UO(t)||!t.classList.contains("e-tbar-pos"))return;let n,i=this.element.querySelector(".e-hor-nav");n=[].slice.call(this.scrollModule?t.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:t.childNodes),e=this.isVertical?n[0].offsetHeight+n[2].offsetHeight:n[0].offsetWidth+n[2].offsetWidth;let s=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(i){s-=this.isVertical?i.offsetHeight:i.offsetWidth;let e=(this.isVertical?i.offsetHeight:i.offsetWidth)+"px";n[2].removeAttribute("style"),this.isVertical?this.enableRtl?n[2].style.top=e:n[2].style.bottom=e:this.enableRtl?n[2].style.left=e:n[2].style.right=e}if(s<=e)return;let l=(s-e-(this.isVertical?n[1].offsetHeight:n[1].offsetWidth))/2;n[1].removeAttribute("style");let r=(this.isVertical?n[0].offsetHeight:n[0].offsetWidth)+l+"px";this.isVertical?this.enableRtl?n[1].style.marginBottom=r:n[1].style.marginTop=r:this.enableRtl?n[1].style.marginRight=r:n[1].style.marginLeft=r}tbarItemAlign(e,t,n){if(e.showAlwaysInPopup&&"Show"!==e.overflow)return;let i=[];if(i.push(this.createElement("div",{className:"e-toolbar-left"})),i.push(this.createElement("div",{className:"e-toolbar-center"})),i.push(this.createElement("div",{className:"e-toolbar-right"})),0===n&&"Left"!==e.align)i.forEach(e=>{t.appendChild(e)}),this.tbarAlign=!0,this.add(t,"e-tbar-pos");else if("Left"!==e.align){let e=i[0];[].slice.call(t.childNodes).forEach(t=>{this.tbarAlgEle.lefts.push(t),e.appendChild(t)}),t.appendChild(e),t.appendChild(i[1]),t.appendChild(i[2]),this.tbarAlign=!0,this.add(t,"e-tbar-pos")}}ctrlTemplate(){this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,XL),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(e=>{"DIV"===e.tagName&&(this.tbarEle.push(e),e.setAttribute("aria-disabled","false"),this.add(e,ZL))})}renderItems(){let e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){let n;e&&e.children.length>0&&(n=e.querySelector("."+XL)),n||(n=this.createElement("div",{className:XL})),this.itemsAlign(t,n),e.appendChild(n)}}setAttr(e,t){let n,i=Object.keys(e);for(let s=0;s<i.length;s++)n=i[s],"class"===n?this.add(t,e[n]):t.setAttribute(n,e[n])}enableItems(e,t){let n,i=e,s=i.length;UO(t)&&(t=!0);let l=(e,t)=>{e?(t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false")):(t.classList.add("e-overlay"),t.setAttribute("aria-disabled","true"))};if(!UO(s)&&s>=1){for(let e=0,r=[].slice.call(i);e<s;e++){let s=r[e];if("number"==typeof s){if(n=this.getElementByIndex(s),UO(n))return;i[e]=n}else n=s;l(t,n)}t?FD(i,"e-overlay"):RD(i,"e-overlay")}else{if("number"==typeof i){if(n=this.getElementByIndex(i),UO(n))return}else n=e;l(t,n)}}getElementByIndex(e){return this.tbarEle[e]?this.tbarEle[e]:null}addItems(e,t){let n;this.extendedOpen();let i,s=this.element.querySelector("."+XL);if(UO(s))return void this.itemsRerender(e);let l="Left";UO(t)&&(t=0),e.forEach(e=>{UO(e.align)||"Left"===e.align||"Left"!==l||(l=e.align)});for(let r of e)if(UO(r.type)&&(r.type="Button"),n=$D("."+ZL,this.element),r.align=l,i=this.renderSubComponent(r,t),this.tbarEle.length>=t&&n.length>=0){UO(this.scrollModule)&&this.destroyMode();let e,a="L"===r.align[0]?0:"C"===r.align[0]?1:2;this.tbarAlign||"Left"===l?this.tbarAlign?(e=GD(n[0],"."+XL).children[a],e.insertBefore(i,e.children[t]),this.tbarAlgEle[(r.align+"s").toLowerCase()].splice(t,0,i),this.refreshPositioning()):0===n.length?(n=$D("."+XL,this.element),n[0].appendChild(i)):n[0].parentNode.insertBefore(i,n[t]):(this.tbarItemAlign(r,s,1),this.tbarAlign=!0,e=GD(n[0],"."+XL).children[a],e.appendChild(i),this.tbarAlgEle[(r.align+"s").toLowerCase()].push(i),this.refreshPositioning()),this.items.splice(t,0,r),this.tbarEle.splice(t,0,i),t++,this.offsetWid=s.offsetWidth}s.style.width="",this.renderOverflowMode()}removeItems(e){let t,n=e,i=[].slice.call($D("."+ZL,this.element));if("number"==typeof n)t=parseInt(e.toString(),10),this.removeItemByIndex(t,i);else if(n&&n.length>1)for(let s of[].slice.call(n))t=this.tbarEle.indexOf(s),this.removeItemByIndex(t,i),i=$D("."+ZL,this.element);else t=i.indexOf(n&&n.length&&1===n.length?n[0]:e),this.removeItemByIndex(t,i);this.resize()}removeItemByIndex(e,t){if(this.tbarEle[e]&&t[e]){let n=this.tbarEle.indexOf(t[e]);if(this.tbarAlign){let e;e=this.tbarAlgEle[(this.items[n].align+"s").toLowerCase()].indexOf(this.tbarEle[n]),this.tbarAlgEle[(this.items[n].align+"s").toLowerCase()].splice(e,1)}qD(t[e]),this.items.splice(n,1),this.tbarEle.splice(n,1)}}templateRender(e,t,n,i){let s,l=e;if("object"==typeof e&&(s="function"==typeof l.appendTo),"string"!=typeof e&&s){if("Input"===n.type){let e=this.createElement("input");e.id=n.id?n.id:YO("tbr-ipt"),t.appendChild(e),l.appendTo(e)}}else{let n,s,l=e;l="string"==typeof e?e.trim():e;try{if("object"!=typeof e||UO(e.tagName)){if(document.querySelectorAll(l).length){let e=document.querySelector(l),n=e.outerHTML.trim();t.appendChild(e),e.style.display="",UO(n)||this.tempId.push(l)}}else t.appendChild(e)}catch(qG){n=fD(l)}UO(n)||(s=n({},this,"template",this.element.id+i+"_template",this.isStringTemplate)),!UO(s)&&s.length>0&&[].slice.call(s).forEach(e=>{UO(e.tagName)||(e.style.display=""),t.appendChild(e)})}this.add(t,"e-template"),this.tbarEle.push(t)}buttonRendering(e,t){let n=this.createElement("button",{className:"e-tbar-btn"});n.setAttribute("type","button");let i,s,l=e.text;n.id=e.id?e.id:YO("e-tbr-btn");let r=this.createElement("span",{className:"e-tbar-btn-text"});l?(r.innerHTML=this.enableHtmlSanitizer?QA.sanitize(l):l,n.appendChild(r),n.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(i=e.prefixIcon+" e-icons",s="Left"):(i=e.suffixIcon+" e-icons",s="Right"));let a=new EM({iconCss:i,iconPosition:s});return a.createElement=this.createElement,a.appendTo(n),e.width&&XD(n,{width:KO(e.width)}),n}renderSubComponent(e,t){let n,i;n=this.createElement("div",{className:ZL}),n.setAttribute("aria-disabled","false");let s=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?QA.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,n),e.tooltipText&&n.setAttribute("title",s.textContent),e.cssClass&&(n.className=n.className+" "+e.cssClass),e.template)this.templateRender(e.template,n,e,t);else switch(e.type){case"Button":i=this.buttonRendering(e,n),i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",e.text||e.tooltipText),n.appendChild(i),n.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(n,"e-separator")}if(e.showTextOn){let t=e.showTextOn;"Toolbar"===t?(this.add(n,"e-toolbar-text"),this.add(n,"e-tbtn-align")):"Overflow"===t&&this.add(n,"e-popup-text")}if(e.overflow){let t=e.overflow;"Show"===t?this.add(n,"e-overflow-show"):"Hide"===t&&(n.classList.contains("e-separator")||this.add(n,"e-overflow-hide"))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!n.classList.contains("e-separator")&&(this.add(n,"e-popup-alone"),this.popupPriCount++),e.disabled&&this.add(n,"e-overlay"),!1===e.visible&&this.add(n,"e-hidden"),n}itemClick(e){this.activeEleSwitch(e.currentTarget)}activeEleSwitch(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()}activeEleRemove(e){UO(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,UO(this.trgtEle)&&!e.parentElement.classList.contains("e-template")?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")}getPersistData(){return this.addOnPersist([])}getModuleName(){return"toolbar"}itemsRerender(e){this.items=this.tbarItemsCol,this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode()}resize(){let e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();let t=this.checkOverflow(e,e.getElementsByClassName(XL)[0]);if(!t){this.destroyScroll();let t=e.querySelector("."+XL);UO(t)||(this.remove(t,"e-multirow-pos"),this.tbarAlign&&this.add(t,"e-tbar-pos"))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){let e=window.getComputedStyle(this.element);this.popObj.width=parseFloat(e.width)+2*parseFloat(e.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector(".e-hscroll-bar")&&(this.scrollStep=this.element.querySelector(".e-hscroll-bar").offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}}extendedOpen(){let e=this.element.querySelector(".e-toolbar-extended");"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains("e-popup-open"))}onPropertyChanged(e,t){let n=this.element;this.extendedOpen();for(let i of Object.keys(e))switch(i){case"items":if(e.items instanceof Array&&t.items instanceof Array||this.isServerRendered)this.itemsRerender(e.items);else{let t=Object.keys(e.items);for(let i=0;i<t.length;i++){let t=parseInt(Object.keys(e.items)[i],10),s=Object.keys(e.items[t])[0],l=Object(e.items[t])[s];if(this.tbarAlign||"align"===s){this.refresh(),this.trigger("created");break}let r="overflow"===s&&0!==this.popupPriCount;("showAlwaysInPopup"===s&&!l||this.items[t].showAlwaysInPopup&&r)&&--this.popupPriCount,UO(this.scrollModule)&&this.destroyMode(),qD([].slice.call($D("."+XL+" ."+ZL,n))[t]),this.tbarEle.splice(t,1),this.addItems([this.items[t]],t),this.items.splice(t,1),this.items[t].template&&this.tbarEle.splice(this.items.length,1)}}break;case"width":let i=n.offsetWidth;XD(n,{width:KO(e.width)}),this.renderOverflowMode(),this.popObj&&i<n.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":XD(this.element,{height:KO(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(n,"e-rtl"),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(n,"e-rtl"):this.remove(n,"e-rtl"),UO(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,"e-rtl"):this.remove(this.scrollModule.element,"e-rtl")),UO(this.popObj)||(e.enableRtl?this.add(this.popObj.element,"e-rtl"):this.remove(this.popObj.element,"e-rtl")),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&FD([this.element],t.cssClass.split(" ")),e.cssClass&&RD([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}hideItem(e,t){let n,i,s="object"==typeof e,l=e,r=[].slice.call($D("."+ZL,this.element));if(s?i=e:this.tbarEle[l]&&(i=[].slice.call($D("."+ZL,this.element))[l]),i){if(t?i.classList.add("e-hidden"):i.classList.remove("e-hidden"),t&&UO(this.element.getAttribute("tabindex"))&&!i.classList.contains("e-separator")){if(UO(i.firstElementChild.getAttribute("tabindex"))){i.firstElementChild.setAttribute("tabindex","-1");let e=[].slice.call($D("."+ZL,this.element));s&&(l=e.indexOf(i));let t=e[++l];for(;t;){if(!this.eleContains(t)){t.firstElementChild.removeAttribute("tabindex");break}t=e[++l]}}}else if(UO(this.element.getAttribute("tabindex"))&&!i.classList.contains("e-separator")){n=0;let e=!1,t=!1,i=r[n];for(;i;)if(i.classList.contains("e-separator"))i=r[++n];else if(UO(i.firstElementChild.getAttribute("tabindex")))i.firstElementChild.setAttribute("tabindex","-1"),e=!0;else{if(e&&t)break;this.eleContains(i)||(i.firstElementChild.removeAttribute("tabindex"),t=!0),i=r[++n]}}this.refreshOverflow()}}};return GL([pA([],QL)],e.prototype,"items",void 0),GL([dA("auto")],e.prototype,"width",void 0),GL([dA("auto")],e.prototype,"height",void 0),GL([dA("")],e.prototype,"cssClass",void 0),GL([dA("Scrollable")],e.prototype,"overflowMode",void 0),GL([dA()],e.prototype,"scrollStep",void 0),GL([dA(!0)],e.prototype,"enableCollision",void 0),GL([dA(!0)],e.prototype,"enableHtmlSanitizer",void 0),GL([dA(!0)],e.prototype,"allowKeyboard",void 0),GL([mA()],e.prototype,"clicked",void 0),GL([mA()],e.prototype,"created",void 0),GL([mA()],e.prototype,"destroyed",void 0),GL([mA()],e.prototype,"beforeCreate",void 0),e=GL([fA],e),e})();var tN=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let nN=(()=>{let e=class extends $L{constructor(e,t){super(e,t)}preRender(){this.isMenu=!1,this.element.id=this.element.id||YO("ej2-contextmenu"),super.preRender()}initialize(){super.initialize(),WD(this.element,{role:"context menu",tabindex:"0"}),this.element.style.zIndex=AT(this.element).toString()}open(e,t,n){super.openMenu(null,null,e,t,null,n)}close(){super.closeMenu()}onPropertyChanged(e,t){super.onPropertyChanged(e,t);for(let n of Object.keys(e))switch(n){case"filter":this.close(),this.filter=e.filter;break;case"target":this.unWireEvents(t.target),this.wireEvents()}}getModuleName(){return"contextmenu"}};return tN([dA("")],e.prototype,"target",void 0),tN([dA("")],e.prototype,"filter",void 0),tN([pA([],WL)],e.prototype,"items",void 0),e=tN([fA],e),e})();var iN=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const sN="e-vertical";let lN=(()=>{let e=class extends $L{constructor(e,t){super(e,t),this.tempItems=[]}getModuleName(){return"menu"}preRender(){if(this.isMenu=!0,this.element.id=this.element.id||YO("ej2-menu"),this.template)try{document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch(qG){}else this.updateMenuItems(this.items);super.preRender()}initialize(){super.initialize(),WD(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(sN),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(sN),this.element.setAttribute("aria-orientation","vertical")):jI.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add("e-hamburger"),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))}updateMenuItems(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"orientation":"Vertical"===e.orientation?(this.element.classList.add(sN),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(sN),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(sN),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(sN),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(t.items).length||this.updateMenuItems(e.items);break;case"hamburgerMode":this.element.previousElementSibling||super.createHeaderContainer(),e.hamburgerMode?this.element.parentElement.classList.add("e-hamburger"):this.element.parentElement.classList.remove("e-hamburger"),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(sN),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(sN):this.element.previousElementSibling.classList.remove(sN),this.element.classList[e.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(e.title=this.enableHtmlSanitizer?QA.sanitize(e.title):e.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=e.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(t.target),this.wireEvents(),"Horizontal"===this.orientation&&(e.target?this.element.previousElementSibling.classList.add(sN):(this.element.previousElementSibling||super.createHeaderContainer(),this.element.previousElementSibling.classList.remove(sN)),this.element.classList.add("e-hide-menu")))}super.onPropertyChanged(e,t)}createMenuItems(e){let t,n,i,s=this.items;if(t=this.getField("parentId"),e[t]){for(n=this.getIndex(e[t].toString(),!0),i=0;i<n.length;i++)s[n[i]].items||(s[n[i]].items=[]),s=s[n[i]].items;s.push(e)}else this.items.push(e)}open(){super.openHamburgerMenu()}close(){super.closeHamburgerMenu()}};return iN([dA("Horizontal")],e.prototype,"orientation",void 0),iN([dA("")],e.prototype,"target",void 0),iN([dA(null)],e.prototype,"template",void 0),iN([dA(!1)],e.prototype,"enableScrolling",void 0),iN([dA(!1)],e.prototype,"hamburgerMode",void 0),iN([dA("Menu")],e.prototype,"title",void 0),iN([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),iN([uA({},UL)],e.prototype,"fields",void 0),e=iN([fA],e),e})();var rN=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const aN="e-toolbar-items",oN="e-toolbar-item",hN="e-vertical-tab";let cN=(()=>{class e extends OA{}return rN([dA("SlideLeftIn")],e.prototype,"effect",void 0),rN([dA(600)],e.prototype,"duration",void 0),rN([dA("ease")],e.prototype,"easing",void 0),e})(),dN=(()=>{class e extends OA{}return rN([uA({effect:"SlideLeftIn",duration:600,easing:"ease"},cN)],e.prototype,"previous",void 0),rN([uA({effect:"SlideRightIn",duration:600,easing:"ease"},cN)],e.prototype,"next",void 0),e})(),uN=(()=>{class e extends OA{}return rN([dA("")],e.prototype,"text",void 0),rN([dA("")],e.prototype,"iconCss",void 0),rN([dA("left")],e.prototype,"iconPosition",void 0),e})(),pN=(()=>{class e extends OA{}return rN([uA({},uN)],e.prototype,"header",void 0),rN([dA(null)],e.prototype,"headerTemplate",void 0),rN([dA("")],e.prototype,"content",void 0),rN([dA("")],e.prototype,"cssClass",void 0),rN([dA(!1)],e.prototype,"disabled",void 0),rN([dA(!0)],e.prototype,"visible",void 0),e})(),mN=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.show={},this.hide={},this.maxHeight=0,this.title="Close",this.lastIndex=0,this.isAdd=!1,this.isIconAlone=!1,this.resizeContext=this.refreshActElePosition.bind(this),this.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"}}destroy(){if(UO(this.tbObj)||this.tbObj.destroy(),this.unWireEvents(),["role","aria-disabled","aria-activedescendant","tabindex","aria-orientation"].forEach(e=>{this.element.removeAttribute(e)}),this.expTemplateContent(),this.isTemplate){let e=YD(".e-tab > .e-content",this.element);this.element.classList.remove("e-template"),UO(e)||(e.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)UD(this.element.firstElementChild);super.destroy(),this.trigger("destroyed")}refresh(){this.isServerRendered?this.isServerRendered&&(this.tbObj&&(this.tbObj.refreshOverflow(),this.refreshActiveBorder()),"Dynamic"!==this.loadOn&&this.setActiveBorder()):super.refresh()}preRender(){let e=GD(this.element,".e-content");this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwipeed=!1,this.itemIndexArray=[],this.templateEle=[],UO(e)||(e.parentElement.classList.add("e-nested"),this.isNested=!0);let t=jI.info.name,n="msie"===t?"e-ie":"edge"===t?"e-edge":"safari"===t?"e-safari":"";XD(this.element,{width:KO(this.width),height:KO(this.height)}),this.setCssClass(this.element,this.cssClass,!0),WD(this.element,{role:"tablist","aria-disabled":"false","aria-activedescendant":""}),this.setCssClass(this.element,n,!0),this.updatePopAnimationConfig()}render(){this.btnCls=this.createElement("span",{className:"e-icons e-close-icon",attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:mD(),this.renderContainer(),this.wireEvents(),this.initRender=!1}renderContainer(){if(this.isServerRendered)return void(this.isTemplate=!1);let e=this.element;if(this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:"e-content"})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:"e-tab-header"})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add("e-template");let t=e.querySelector(".e-tab-header");t&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,t)}if(!UO(YD(".e-tab-header",this.element))&&!UO(YD(".e-content",this.element))){if(this.renderHeader(),this.tbItems=YD(".e-tab-header ."+aN,this.element),UO(this.tbItems)||wA(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),$D("."+oN,this.element).length>0){let e;this.tbItems=YD(".e-tab-header ."+aN,this.element),this.bdrLine=this.createElement("div",{className:"e-indicator e-hidden e-ignore"}),e=YD("."+this.scrCntClass,this.tbItems),UO(e)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):e.insertBefore(this.bdrLine,e.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}this.setRTL(this.enableRtl)}}serverItemsChanged(){if(this.enableAnimation=!1,this.setActive(this.selectedItem,!0),"Dynamic"!==this.loadOn&&!UO(this.cntEle)){let e=[].slice.call(this.cntEle.children),t="e-content"+this.tabId+"_"+this.selectedItem;e.forEach(e=>{e.classList.contains("e-active")&&e.id!==t&&e.classList.remove("e-active"),e.id===t&&e.classList.add("e-active")}),this.prevIndex=this.selectedItem,this.triggerAnimation("e-item"+this.tabId+"_"+this.selectedItem,!1)}this.enableAnimation=!0}headerReady(){if(this.initRender=!0,this.hdrEle=this.getTabHeader(),this.setOrientation(this.headerPlacement,this.hdrEle),UO(this.hdrEle)||(this.tbObj=this.hdrEle&&this.hdrEle.ej2_instances[0]),this.tbObj.clicked=this.clickHandler.bind(this),this.tbObj.on("onItemsChanged",this.serverItemsChanged.bind(this)),this.tbItems=YD(".e-tab-header ."+aN,this.element),UO(this.tbItems)||wA(this.tbItems,{selector:".e-tab-wrap"}),$D("."+oN,this.element).length>0){let e;this.bdrLine=YD(".e-indicator.e-ignore",this.element),e=YD("."+this.scrCntClass,this.tbItems),UO(e)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstElementChild):e.insertBefore(this.bdrLine,e.firstElementChild),this.select(this.selectedItem)}if(this.cntEle=YD(".e-tab > .e-content",this.element),UO(this.cntEle)||(this.touchModule=new XA(this.cntEle,{swipe:this.swipeHandler.bind(this)})),"Demand"===this.loadOn){let e=this.setActiveContent();this.triggerAnimation(e,!1)}this.initRender=!1,this.renderComplete()}setActiveContent(){let e="e-item"+this.tabId+"_"+this.selectedItem,t=this.getTrgContent(this.cntEle,this.extIndex(e));return UO(t)||t.classList.add("e-active"),e}renderHeader(){let e=this.headerPlacement,t=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains("e-tab-header")&&this.setProperties({headerPlacement:"Bottom"},!0);let e=this.hdrEle.children.length,t=[];for(let n=0;n<e;n++)t.push(this.hdrEle.children.item(n).innerHTML);if(e>0){for(;this.hdrEle.firstElementChild;)qD(this.hdrEle.firstElementChild);let e=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(e),t.forEach((t,n)=>{this.lastIndex=n;let i={className:"e-item",id:"e-item"+this.tabId+"_"+n,attrs:{role:"tab","aria-controls":"e-content"+this.tabId+"_"+n,"aria-selected":"false"}},s=this.createElement("span",{className:"e-tab-text",innerHTML:t,attrs:{role:"presentation"}}).outerHTML,l=this.createElement("div",{className:"e-text-wrap",innerHTML:s+this.btnCls.outerHTML}).outerHTML,r=this.createElement("div",{className:"e-tab-wrap",innerHTML:l,attrs:{tabIndex:"-1"}});e.appendChild(this.createElement("div",i)),$D(".e-item",e)[n].appendChild(r)})}}else t=this.parseObject(this.items,0);this.tbObj=new eN({width:"Left"===e||"Right"===e?"auto":"100%",height:"Left"===e||"Right"===e?"100%":"auto",overflowMode:this.overflowMode,items:0!==t.length?t:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),WD(this.hdrEle,{"aria-label":"tab-header"}),this.updateOrientationAttribute(),this.setCloseButton(this.showCloseButton)}renderContent(){this.cntEle=YD(".e-content",this.element);let e=$D("."+oN,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";let t=this.cntEle.children;for(let n=0;n<e.length;n++)t.length-1>=n&&(t.item(n).className+="e-item",WD(t.item(n),{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_"+n}),t.item(n).id="e-content"+this.tabId+"_"+n)}}reRenderItems(){this.renderContainer(),UO(this.cntEle)||(this.touchModule=new XA(this.cntEle,{swipe:this.swipeHandler.bind(this)}))}parseObject(e,t){let n,i=$D("."+oN,this.element).length,s=[],l=[];return e.forEach((e,r)=>{let a=UO(e.header)||UO(e.header.iconPosition)?"":e.header.iconPosition,o=UO(e.header)||UO(e.header.iconCss)?"":e.header.iconCss;if(UO(e.headerTemplate)&&(UO(e.header)||UO(e.header.text)||0===e.header.text.length&&""===o))return void l.push(r);let h=e.headerTemplate||e.header.text;this.lastIndex=0===i?r:this.isReplace?t+r:this.lastIndex+1;let c=e.disabled?" e-disable e-overlay":"",d=!1===e.visible?" e-hidden":"";n=this.createElement("div",{className:"e-tab-text",attrs:{role:"presentation"}});let u,p=h instanceof Object?h.outerHTML:h,m=!UO(p)&&""!==p;UO(h.tagName)?this.headerTextCompile(n,h,r):n.appendChild(h);let f=this.createElement("span",{className:"e-icons e-tab-icon e-icon-"+a+" "+o}),g=this.createElement("div",{className:"e-text-wrap"});g.appendChild(n),""!==h&&void 0!==h&&""!==o?("left"===a||"top"===a?g.insertBefore(f,g.firstElementChild):g.appendChild(f),u=n,this.isIconAlone=!1):(u=""===o?n:f,u===f&&(qD(n),g.appendChild(f),this.isIconAlone=!0));let b=e.disabled?{}:{tabIndex:"-1"};g.appendChild(this.btnCls.cloneNode(!0));let v=this.createElement("div",{className:"e-tab-wrap",attrs:b});v.appendChild(g),this.itemIndexArray===[]?this.itemIndexArray.push("e-item"+this.tabId+"_"+this.lastIndex):this.itemIndexArray.splice(t+r,0,"e-item"+this.tabId+"_"+this.lastIndex);let y={htmlAttributes:{id:"e-item"+this.tabId+"_"+this.lastIndex,role:"tab","aria-selected":"false"},template:v};y.cssClass=(void 0!==e.cssClass?e.cssClass:" ")+" "+c+" "+d+(""!==o?"e-i"+a:"")+" "+(m?"":"e-icon"),"top"!==a&&"bottom"!==a||this.element.classList.add("e-vertical-icon"),s.push(y),r++}),this.isAdd||l.forEach(e=>{this.items.splice(e,1)}),this.isIconAlone?this.element.classList.add("e-icon-tab"):this.element.classList.remove("e-icon-tab"),s}removeActiveClass(){let e=this.getTabHeader();if(e){let t=$D(".e-toolbar-item.e-active",e);[].slice.call(t).forEach(e=>e.classList.remove("e-active"))}}checkPopupOverflow(e){this.tbPop=YD(".e-toolbar-pop",this.element);let t=YD(".e-hor-nav",this.element),n=YD("."+aN,this.element),i=n.lastChild,s=!1;return!this.isVertical()&&(this.enableRtl&&t.offsetLeft+t.offsetWidth>n.offsetLeft||!this.enableRtl&&t.offsetLeft<n.offsetWidth)?s=!0:this.isVertical()&&t.offsetTop<i.offsetTop+i.offsetHeight&&(s=!0),s&&(e.classList.add("e-toolbar-popup"),this.tbPop.insertBefore(e,$D(".e-toolbar-popup",this.tbPop)[0])),!0}popupHandler(e){let t=e.querySelector(".e-ripple-element");UO(t)||(t.outerHTML="",e.querySelector(".e-tab-wrap").classList.remove("e-ripple")),this.tbItem=$D(".e-toolbar-items ."+oN,this.hdrEle);let n=this.tbItem[this.tbItem.length-1];return 0!==this.tbItem.length&&(e.classList.remove("e-toolbar-popup"),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(n)&&this.checkPopupOverflow(this.tbItems.lastChild.previousElementSibling),this.isPopup=!0),$D("."+oN,this.tbItems).length-1}updateOrientationAttribute(){WD(this.element,{"aria-orientation":this.isVertical()?"vertical":"horizontal"})}setCloseButton(e){let t=YD(".e-tab-header",this.element);!0===e?t.classList.add("e-close-show"):t.classList.remove("e-close-show"),this.tbObj.refreshOverflow(),this.refreshActElePosition()}prevCtnAnimation(e,t){let n;return this.enableRtl||this.element.classList.contains("e-rtl"),n=this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null,n}triggerPrevAnimation(e,t){let n=this.prevCtnAnimation(t,this.selectedItem);UO(n)?e.classList.remove("e-active"):(n.begin=()=>{XD(e,{position:"absolute"}),e.classList.add("e-progress"),e.classList.add("e-view")},n.end=()=>{e.style.display="none",e.classList.remove("e-active"),e.classList.remove("e-progress"),e.classList.remove("e-view"),XD(e,{display:"",position:""}),0!==e.childNodes.length||this.isTemplate||qD(e)},new yA(n).animate(e))}triggerAnimation(e,t){let n,i,s=this.prevIndex;if(!this.isServerRendered||this.isServerRendered&&"Dynamic"!==this.loadOn){[].slice.call(this.element.querySelector(".e-content").children).forEach(e=>{e.id===this.prevActiveEle&&(n=e)});let t=this.tbItem[s];if(i=this.getTrgContent(this.cntEle,this.extIndex(e)),UO(n)&&!UO(t)){let e=this.extIndex(t.id);n=this.getTrgContent(this.cntEle,e)}}else i=this.cntEle.firstElementChild;if(UO(i)||(this.prevActiveEle=i.id),this.initRender||!1===t||this.animation==={}||UO(this.animation))return void(n&&n!==i&&n.classList.remove("e-active"));let l,r=YD(".e-content",this.element);if(this.prevIndex>this.selectedItem&&!this.isPopup){let e=this.animation.previous.effect;l={name:"None"===e?"":"SlideLeftIn"!==e?e:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){let e=this.animation.next.effect;l={name:"None"===e?"":"SlideRightIn"!==e?e:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}l.progress=()=>{r.classList.add("e-progress"),this.setActiveBorder()},l.end=()=>{r.classList.remove("e-progress"),i.classList.add("e-active")},this.initRender||UO(n)||this.triggerPrevAnimation(n,s),this.isPopup=!1,""===l.name?i.classList.add("e-active"):new yA(l).animate(i)}keyPressed(e){let t=GD(e,".e-tab-header ."+oN),n=this.getEleIndex(t);!UO(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():UO(t)||!1!==t.classList.contains("e-active")||(this.select(n),UO(this.popEle)||this.popObj.hide(this.hide))}getTabHeader(){let e=[].slice.call(this.element.children).filter(e=>e.classList.contains("e-tab-header"));if(e.length>0)return e[0];{let e=[].slice.call(this.element.children).filter(e=>!e.classList.contains("blazor-template"))[0];if(!e)return;return[].slice.call(e.children).filter(e=>e.classList.contains("e-tab-header"))[0]}}getEleIndex(e){return Array.prototype.indexOf.call($D("."+oN,this.getTabHeader()),e)}extIndex(e){return e.replace("e-item"+this.tabId+"_","")}expTemplateContent(){this.templateEle.forEach(e=>{UO(this.element.querySelector(e))||(document.body.appendChild(this.element.querySelector(e)).style.display="none")})}templateCompile(e,t,n){let i=this.createElement("div");this.compileElement(i,t,"content",n),0!==i.childNodes.length&&e.appendChild(i)}compileElement(e,t,n,i){let s,l;s=fD(t),UO(s)||(l=s({},this,n)),!UO(s)&&l.length>0&&[].slice.call(l).forEach(t=>{e.appendChild(t)})}headerTextCompile(e,t,n){this.compileElement(e,t,"headerTemplate",n)}getContent(e,t,n,i){let s;if("string"==typeof t||UO(t.innerHTML))if("string"==typeof t&&this.enableHtmlSanitizer&&(t=QA.sanitize(t)),"."===t[0]||"#"===t[0])if(document.querySelectorAll(t).length){let i=document.querySelector(t);s=i.outerHTML.trim(),"clone"===n?e.appendChild(i.cloneNode(!0)):(e.appendChild(i),i.style.display="")}else this.templateCompile(e,t,i);else this.templateCompile(e,t,i);else e.appendChild(t);UO(s)||-1===this.templateEle.indexOf(t.toString())&&this.templateEle.push(t.toString())}getTrgContent(e,t){let n;return n=this.element.classList.contains("e-nested")?YD(".e-nested> .e-content > #e-content"+this.tabId+"_"+t,this.element):this.findEle(e.children,"e-content"+this.tabId+"_"+t),n}findEle(e,t){let n;for(let i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n}isVertical(){let e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e}addVerticalClass(){if(this.isVertical()){let e="Left"===this.headerPlacement?"e-vertical-left":"e-vertical-right";RD([this.hdrEle],["e-vertical",e]),this.element.classList.contains("e-nested")?RD([this.hdrEle],[hN,e]):RD([this.element],[hN,e])}"Bottom"===this.headerPlacement&&RD([this.hdrEle],["e-horizontal-bottom"])}updatePopAnimationConfig(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}}changeOrientation(e){this.setOrientation(e,this.hdrEle);let t=!!this.hdrEle.classList.contains("e-vertical");FD([this.element],[hN]),FD([this.hdrEle],["e-vertical","e-vertical-left","e-vertical-right"]),t!==this.isVertical()&&this.changeToolbarOrientation(),this.addVerticalClass(),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()}focusItem(){let e=YD(" #e-item"+this.tabId+"_"+this.selectedItem,this.hdrEle);UO(e)||e.firstElementChild.focus()}serverChangeOrientation(e,t){this.setOrientation(e,this.hdrEle),FD([this.element],[hN]),("Left"===e||"Right"===e)!=("Left"===t||"Right"===t)&&this.changeToolbarOrientation(),this.isVertical()&&RD([this.element],[hN]),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()}changeToolbarOrientation(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()}setOrientation(e,t){let n=Array.prototype.indexOf.call(this.element.children,t),i=Array.prototype.indexOf.call(this.element.children,this.element.querySelector(".e-content"));"Bottom"===e&&i>n?this.element.appendChild(t):(FD([t],["e-horizontal-bottom"]),this.element.insertBefore(t,YD(".e-content",this.element)))}setCssClass(e,t,n){if(""===t)return;let i=t.split(" ");for(let s=0;s<i.length;s++)n?e.classList.add(i[s]):e.classList.remove(i[s])}setContentHeight(e){if(this.element.classList.contains("e-fill-mode")&&FD([this.element],["e-fill-mode"]),UO(this.cntEle))return;let t=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||XD(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)RD([this.element],["e-fill-mode"]),XD(this.element,{height:"100%"}),XD(this.cntEle,{height:"100%"});else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate){let e=$D(".e-content > .e-item",this.element);for(let t=0;t<e.length;t++)e[t].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(e[t])),e[t].style.removeProperty("display"),e[t].style.removeProperty("visibility")}else{this.cntEle=YD(".e-content",this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:"e-content"+this.tabId+"_0",className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_0"}}));let t=this.cntEle.children.item(0);for(let e=0;e<this.items.length;e++)for(this.getContent(t,this.items[e].content,"clone",e),this.maxHeight=Math.max(this.maxHeight,this.getHeight(t));t.firstChild;)t.removeChild(t.firstChild);this.clearTemplate(["content"]),this.templateEle=[],this.getContent(t,this.items[0].content,"render",0),t.classList.remove("e-active")}XD(this.cntEle,{height:this.maxHeight+"px"})}else XD(this.cntEle,{height:"auto"})}getHeight(e){let t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}setActiveBorder(){let e,t,n=this.getTabHeader(),i=YD(".e-toolbar-item.e-active",n);if(null===i)return;this.isServerRendered&&i.classList.contains("e-toolbar-popup")&&this.popupHandler(i);let s=GD(i,".e-tab");if(this.element===s){if(this.tbItems=YD("."+aN,n),e=YD(".e-indicator",n),t=YD(".e-toolbar-items ."+this.scrCntClass,n),this.isVertical())XD(e,{left:"",right:""}),XD(e,0!==(UO(t)?this.tbItems.offsetHeight:t.offsetHeight)?{top:i.offsetTop+"px",height:i.offsetHeight+"px"}:{top:0,height:0});else{XD(e,{top:"",height:""});let n=UO(t)?this.tbItems.offsetWidth:t.offsetWidth;XD(e,0!==n?{left:i.offsetLeft+"px",right:n-(i.offsetLeft+i.offsetWidth)+"px"}:{left:"auto",right:"auto"})}UO(this.bdrLine)||this.bdrLine.classList.remove("e-hidden")}}setActive(e,t=!1){this.tbItem=$D("."+oN,this.getTabHeader());let n=this.tbItem[e];if(this.isServerRendered&&n&&(e=parseInt(n.getAttribute("data-index"),10)),e<0||isNaN(e)||0===this.tbItem.length)return;if(e>=0&&!t&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),n.classList.contains("e-active"))return void this.setActiveBorder();if(!this.isTemplate){let t=this.tbItem[this.prevIndex];UO(t)||t.removeAttribute("aria-controls"),WD(n,{"aria-controls":"e-content"+this.tabId+"_"+e})}let i=n.id;this.removeActiveClass(),n.classList.add("e-active"),n.setAttribute("aria-selected","true");let s=Number(this.extIndex(i));if(UO(this.prevActiveEle)&&(this.prevActiveEle="e-content"+this.tabId+"_"+s),WD(this.element,{"aria-activedescendant":i}),this.isTemplate){if(YD(".e-content",this.element).children.length>0){let e=this.findEle(YD(".e-content",this.element).children,"e-content"+this.tabId+"_"+s);UO(e)||e.classList.add("e-active"),this.triggerAnimation(i,this.enableAnimation)}}else if(!this.isServerRendered||this.isServerRendered&&"Init"===this.loadOn){this.cntEle=YD(".e-tab > .e-content",this.element);let e=this.getTrgContent(this.cntEle,this.extIndex(i));if(UO(e)){this.cntEle.appendChild(this.createElement("div",{id:"e-content"+this.tabId+"_"+this.extIndex(i),className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item"+this.tabId+"_"+this.extIndex(i)}}));let e=this.getTrgContent(this.cntEle,this.extIndex(i)),t=Array.prototype.indexOf.call(this.itemIndexArray,i);this.getContent(e,this.items[t].content,"render",t)}else e.classList.add("e-active");this.triggerAnimation(i,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(n),!this.initRender&&!t){n.firstElementChild.focus();let t={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:n,selectedIndex:e,selectedContent:YD("#e-content"+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed};this.trigger("selected",t)}}contentReady(){let e=this.setActiveContent();this.triggerAnimation(e,this.enableAnimation)}setItems(e){this.isReplace=!0,this.tbItems=YD("."+aN,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1}setRTL(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,"e-rtl",e),this.refreshActiveBorder()}refreshActiveBorder(){UO(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.setActiveBorder()}showPopup(e){let t=YD(".e-popup.e-toolbar-pop",this.hdrEle);if(t.classList.contains("e-popup-close")){let n=t&&t.ej2_instances[0];n.position.X="Left"===this.headerPlacement?"left":"right",n.dataBind(),n.show(e)}}wireEvents(){window.addEventListener("resize",this.resizeContext),zI.add(this.element,"mouseover",this.hoverHandler,this),zI.add(this.element,"keydown",this.spaceKeyDown,this),UO(this.cntEle)||(this.touchModule=new XA(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new UA(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new UA(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})}unWireEvents(){this.keyModule.destroy(),this.tabKeyModule.destroy(),UO(this.cntEle)||this.touchModule.destroy(),window.removeEventListener("resize",this.resizeContext),zI.remove(this.element,"mouseover",this.hoverHandler),zI.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove("e-rtl"),this.element.classList.remove("e-focused")}clickHandler(e){this.element.classList.remove("e-focused");let t=e.originalEvent.target,n=GD(t,"."+oN),i=this.getEleIndex(n);t.classList.contains("e-close-icon")?this.removeTab(i):this.isVertical()&&GD(t,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,this.isServerRendered&&!UO(n)?parseInt(n.getAttribute("data-index"),10)!==this.selectedItem&&this.select(i):UO(n)||i===this.selectedItem&&i===this.prevIndex||this.select(i))}swipeHandler(e){if(!(e.velocity<3&&UO(e.originalEvent.changedTouches))){if(this.isSwipeed=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(let e=this.selectedItem-1;e>=0;e--)if(!this.tbItem[e].classList.contains("e-hidden")){this.select(e);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==$D("."+oN,this.element).length-1)for(let e=this.selectedItem+1;e<this.tbItem.length;e++)if(!this.tbItem[e].classList.contains("e-hidden")){this.select(e);break}this.isSwipeed=!1}}spaceKeyDown(e){(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which)&&(UO(GD(e.target,".e-tab-header"))||e.preventDefault())}keyHandler(e){if(this.element.classList.contains("e-disable"))return;this.element.classList.add("e-focused");let t=e.target,n=this.getTabHeader(),i=YD(".e-active",n);switch(this.popEle=YD(".e-toolbar-pop",n),UO(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]),e.action){case"space":case"enter":if(t.parentElement.classList.contains("e-disable"))return;if("enter"===e.action&&t.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(t);break;case"tab":case"shiftTab":t.classList.contains("e-tab-wrap")&&!1===GD(t,"."+oN).classList.contains("e-active")&&t.setAttribute("tabindex","-1"),this.popObj&&BD(this.popObj.element)&&this.popObj.hide(this.hide),i.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":let n=GD(document.activeElement,"."+oN);UO(n)||this.refreshItemVisibility(n);break;case"openPopup":e.preventDefault(),!UO(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":let s=GD(t,"."+oN);if(!0===this.showCloseButton&&!UO(s)){let e=s.nextSibling;!UO(e)&&e.classList.contains(oN)&&e.firstElementChild.focus(),this.removeTab(this.getEleIndex(s))}this.setActiveBorder()}}refreshActElePosition(){let e=YD(".e-toolbar-item.e-toolbar-popup.e-active",this.element);UO(e)||this.select(this.getEleIndex(e)),this.refreshActiveBorder()}refreshItemVisibility(e){let t=YD("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!UO(t)){let t=YD(".e-hscroll-bar",this.tbItems),n=t.scrollLeft,i=n+t.offsetWidth,s=e.offsetLeft,l=e.offsetWidth,r=e.offsetLeft+e.offsetWidth;n<s&&i<r?t.scrollLeft=n+(l-(i-s)):n>s&&i>r&&(t.scrollLeft=n-(l-(r-n)))}}hoverHandler(e){let t=e.target;!UO(t.classList)&&t.classList.contains("e-close-icon")&&t.setAttribute("title",new WA("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))}evalOnPropertyChangeItems(e,t){if(e.items instanceof Array&&t.items instanceof Array)if(this.lastIndex=0,UO(this.tbObj))this.reRenderItems();else{this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];let t=YD(".e-tab > .e-content",this.element);for(;t.firstElementChild;)qD(t.firstElementChild);this.select(this.selectedItem)}else{let n=Object.keys(e.items);for(let i=0;i<n.length;i++){let n=parseInt(Object.keys(e.items)[i],10),s=Object.keys(e.items[n])[0],l=Object(t.items[n])[s],r=Object(e.items[n])[s],a=YD(".e-toolbar-items #e-item"+this.tabId+"_"+n,this.element),o=YD(".e-content #e-content"+this.tabId+"_"+n,this.element);if("header"===s||"headerTemplate"===s){let e=UO(this.items[n].header)||UO(this.items[n].header.iconCss)?"":this.items[n].header.iconCss;if(""===(this.items[n].headerTemplate||this.items[n].header.text)&&""===e)this.removeTab(n);else{let e=[];e.push(this.items[n]),this.items.splice(n,1),this.itemIndexArray.splice(n,1),this.tbObj.items.splice(n,1);let t=a.classList.contains("e-hidden");qD(a),this.isReplace=!0,this.addTab(e,n),t&&this.hideTab(n),this.isReplace=!1}}if("content"===s&&!UO(o))if("string"!=typeof r&&!UO(r.innerHTML)||"."!==r[0]&&"#"!==r[0]||!r.length)""===r&&"#"===l[0]?(document.body.appendChild(this.element.querySelector(l)).style.display="none",o.innerHTML=r):o.innerHTML=r;else{let e=document.querySelector(r);o.appendChild(e),e.style.display=""}"cssClass"===s&&(UO(a)||(a.classList.remove(l),a.classList.add(r)),UO(o)||(o.classList.remove(l),o.classList.add(r))),"disabled"===s&&this.enableTab(n,!0!==r),"visible"===s&&this.hideTab(n,!0!==r)}}}enableTab(e,t){let n=$D("."+oN,this.element)[e];UO(n)||(!0===t?(n.classList.remove("e-disable","e-overlay"),n.firstElementChild.setAttribute("tabindex","-1")):(n.classList.add("e-disable","e-overlay"),n.firstElementChild.removeAttribute("tabindex"),n.classList.contains("e-active")&&this.select(e+1)),UO(this.items[e])||(this.items[e].disabled=!t,this.dataBind()),n.setAttribute("aria-disabled",!0===t?"false":"true"))}addTab(e,t){let n={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,t):this.trigger("adding",n,n=>{n.cancel||this.addingTabContent(e,t)})}addingTabContent(e,t){let n=0;if(this.hdrEle=YD(".e-tab-header",this.element),UO(this.hdrEle))this.items=e,this.reRenderItems();else{let i=$D("."+oN,this.element).length;if(0!==i&&(n=this.lastIndex+1),UO(t)&&(t=i-1),i<t||t<0||isNaN(t))return;0!==i||UO(this.hdrEle)||(this.hdrEle.style.display=""),UO(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.tbItems=YD("."+aN,this.getTabHeader()),this.isAdd=!0;let s=this.parseObject(e,t);this.isAdd=!1;let l,r=0;e.forEach((e,i)=>{if(l=e.headerTemplate||e.header.text,UO(e.headerTemplate||e.header)||UO(l)||0===l.length&&UO(e.header.iconCss)||(this.items.splice(t+r,0,e),r++),this.isTemplate&&!UO(e.header)&&!UO(e.header.text)){let s=n+i,l=this.createElement("div",{id:"e-content"+this.tabId+"_"+s,className:"e-item",attrs:{role:"tabpanel","aria-labelledby":"e-item_"+s}});this.cntEle.insertBefore(l,this.cntEle.children[t+i]);let r=this.getTrgContent(this.cntEle,s.toString());this.getContent(r,e.content,"render",t)}}),this.tbObj.addItems(s,t),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===t?this.select(t):this.setActiveBorder()}}removeTab(e){let t=$D("."+oN,this.element)[e];UO(t)||this.trigger("removing",{removedItem:t,removedIndex:e,cancel:!1},n=>{if(!n.cancel){this.tbObj.removeItems(e),this.items.splice(e,1),this.itemIndexArray.splice(e,1),this.refreshActiveBorder();let i=YD("#e-content"+this.tabId+"_"+this.extIndex(t.id),YD(".e-content",this.element));UO(i)||qD(i),this.trigger("removed",n),t.classList.contains("e-active")&&(e=e>$D(".e-toolbar-item:not(.e-toolbar-popup)",this.element).length-1?e-1:e,this.enableAnimation=!1,this.selectedItem=e,this.select(e)),0===$D("."+oN,this.element).length&&(this.hdrEle.style.display="none"),this.enableAnimation=!0}})}hideTab(e,t){let n,i=$D("."+oN,this.element)[e];if(!UO(i)){if(UO(t)&&(t=!0),this.bdrLine.classList.add("e-hidden"),!0===t)if(i.classList.add("e-hidden"),n=$D(".e-toolbar-item:not(.e-hidden)",this.tbItems),0!==n.length&&i.classList.contains("e-active")){if(0!==e)for(let t=e-1;t>=0;t--){if(!this.tbItem[t].classList.contains("e-hidden")){this.select(t);break}if(0===t)for(let t=e+1;t<this.tbItem.length;t++)if(!this.tbItem[t].classList.contains("e-hidden")){this.select(t);break}}else for(let t=e+1;t<this.tbItem.length;t++)if(!this.tbItem[t].classList.contains("e-hidden")){this.select(t);break}}else 0===n.length&&this.element.classList.add("e-hidden");else this.element.classList.remove("e-hidden"),n=$D(".e-toolbar-item:not(.e-hidden)",this.tbItems),i.classList.remove("e-hidden"),0===n.length&&this.select(e);this.setActiveBorder(),i.setAttribute("aria-hidden",""+t),!this.isServerRendered&&"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}}select(e){let t=this.getTabHeader();this.tbItems=YD("."+aN,t),this.tbItem=$D("."+oN,t),this.content=YD(".e-content",this.element),this.prevItem=this.tbItem[this.prevIndex],UO(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);let n=this.tbItem[e];UO(n)?this.selectedID="0":this.selectingID=this.extIndex(n.id),UO(this.prevItem)||this.prevItem.classList.contains("e-disable")||this.prevItem.children.item(0).setAttribute("tabindex","-1");let i={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:UO(this.content)?null:YD("#e-content"+this.tabId+"_"+this.selectedID,this.content),selectingItem:n,selectingIndex:e,selectingContent:UO(this.content)?null:YD("#e-content"+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed,cancel:!1};this.initRender?this.selectingContent(e):this.trigger("selecting",i,t=>{t.cancel||this.selectingContent(e)})}selectingContent(e){if("number"==typeof e){if(!UO(this.tbItem[e])&&(this.tbItem[e].classList.contains("e-disable")||this.tbItem[e].classList.contains("e-hidden")))for(let t=e+1;t<this.items.length;t++){if(!1===this.items[t].disabled&&!0===this.items[t].visible){e=t;break}e=0}this.tbItem.length>e&&e>=0&&!isNaN(e)?(this.prevIndex=this.selectedItem,this.tbItem[e].classList.contains("e-toolbar-popup")?this.setActive(this.popupHandler(this.tbItem[e])):this.setActive(e)):this.setActive(0)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e))}disable(e){this.setCssClass(this.element,"e-disable",e),this.element.setAttribute("aria-disabled",""+e)}getPersistData(){return this.addOnPersist(["selectedItem","actEleId"])}getModuleName(){return"tab"}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"width":XD(this.element,{width:KO(e.width)});break;case"height":XD(this.element,{height:KO(e.height)}),this.isServerRendered||this.setContentHeight(!1);break;case"cssClass":""!==t.cssClass?(this.setCssClass(this.element,t.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0)):this.setCssClass(this.element,e.cssClass,!0);break;case"items":this.isServerRendered||this.evalOnPropertyChangeItems(e,t);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"selectedItem":this.isServerRendered||(this.selectedItem=t.selectedItem,this.select(e.selectedItem));break;case"headerPlacement":this.isServerRendered?this.serverChangeOrientation(e.headerPlacement,t.headerPlacement):this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActElePosition();break;case"heightAdjustMode":this.isServerRendered||(this.setContentHeight(!1),this.select(this.selectedItem));break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep)}}};return rN([pA([],pN)],e.prototype,"items",void 0),rN([dA("100%")],e.prototype,"width",void 0),rN([dA("auto")],e.prototype,"height",void 0),rN([dA("")],e.prototype,"cssClass",void 0),rN([dA(0)],e.prototype,"selectedItem",void 0),rN([dA("Top")],e.prototype,"headerPlacement",void 0),rN([dA("Content")],e.prototype,"heightAdjustMode",void 0),rN([dA("Scrollable")],e.prototype,"overflowMode",void 0),rN([dA("Dynamic")],e.prototype,"loadOn",void 0),rN([dA(!1)],e.prototype,"enablePersistence",void 0),rN([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),rN([dA(!1)],e.prototype,"showCloseButton",void 0),rN([dA()],e.prototype,"scrollStep",void 0),rN([uA({},dN)],e.prototype,"animation",void 0),rN([mA()],e.prototype,"created",void 0),rN([mA()],e.prototype,"adding",void 0),rN([mA()],e.prototype,"added",void 0),rN([mA()],e.prototype,"selecting",void 0),rN([mA()],e.prototype,"selected",void 0),rN([mA()],e.prototype,"removing",void 0),rN([mA()],e.prototype,"removed",void 0),rN([mA()],e.prototype,"destroyed",void 0),e=rN([fA],e),e})();var fN,gN=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const bN="e-icon-collapsible",vN="e-icon-expandable",yN="e-list-item",wN="e-list-text",CN="e-list-parent",xN="e-hover",_N="e-icons-spinner",SN="e-process",kN="e-text-content",EN="e-sibling",ON="e-drop-next",IN="e-checkbox-wrapper",DN="e-node-focus",AN={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""};let MN=(()=>{class e extends OA{}return gN([dA("child")],e.prototype,"child",void 0),gN([dA([])],e.prototype,"dataSource",void 0),gN([dA("expanded")],e.prototype,"expanded",void 0),gN([dA("hasChildren")],e.prototype,"hasChildren",void 0),gN([dA("htmlAttributes")],e.prototype,"htmlAttributes",void 0),gN([dA("iconCss")],e.prototype,"iconCss",void 0),gN([dA("id")],e.prototype,"id",void 0),gN([dA("imageUrl")],e.prototype,"imageUrl",void 0),gN([dA("isChecked")],e.prototype,"isChecked",void 0),gN([dA("parentID")],e.prototype,"parentID",void 0),gN([dA(null)],e.prototype,"query",void 0),gN([dA("selected")],e.prototype,"selected",void 0),gN([dA(null)],e.prototype,"tableName",void 0),gN([dA("text")],e.prototype,"text",void 0),gN([dA("tooltip")],e.prototype,"tooltip",void 0),gN([dA("navigateUrl")],e.prototype,"navigateUrl",void 0),e})(),TN=(()=>{class e extends OA{}return gN([dA("SlideDown")],e.prototype,"effect",void 0),gN([dA(400)],e.prototype,"duration",void 0),gN([dA("linear")],e.prototype,"easing",void 0),e})(),PN=(()=>{class e extends OA{}return gN([uA({effect:"SlideUp",duration:400,easing:"linear"},TN)],e.prototype,"collapse",void 0),gN([uA({effect:"SlideDown",duration:400,easing:"linear"},TN)],e.prototype,"expand",void 0),e})(),LN=(()=>{let e=fN=class extends TA{constructor(e,t){super(e,t),this.isRefreshed=!1,this.preventExpand=!1,this.checkedElement=[],this.disableNode=[],this.validArr=[],this.expandChildren=[],this.isFieldChange=!1,this.changeDataSource=!1,this.isBlazorExpandedNodes=[],this.mouseDownStatus=!1}getModuleName(){return"treeview"}preRender(){this.isBlazorPlatform=!1,this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:vN,ariaAttributes:AN,expandIconPosition:"Left",itemCreated:e=>{this.beforeNodeCreate(e)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new yA({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),UO(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),UO(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),UO(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0}getPersistData(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])}render(){this.initialRender=!0,this.blazorInitialRender=!1,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.isBlazorPlatform||(this.initialRender=!1),this.renderComplete()}initialize(){this.isBlazorPlatform||(this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect)),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)}setDisabledMode(){this.disabled?this.element.classList.add("e-disabled"):this.element.classList.remove("e-disabled")}setEnableRtl(){this.enableRtl?RD([this.element],"e-rtl"):FD([this.element],"e-rtl")}setRipple(){this.rippleFn=wA(this.element,{selector:".e-fullrow,.e-text-content",ignore:"."+kN+" > .e-icons,.e-input-group,.e-input, ."+IN}),this.rippleIconFn=wA(this.element,{selector:"."+kN+" > .e-icons",isCenterRipple:!0})}setFullRow(e){e?RD([this.element],"e-fullrow-wrap"):FD([this.element],"e-fullrow-wrap")}setMultiSelect(e){let t=YD("."+CN,this.element);e?t.setAttribute("aria-multiselectable","true"):t.removeAttribute("aria-multiselectable")}templateComplier(e){if(e)try{if(document.querySelectorAll(e).length)return fD(document.querySelector(e).innerHTML.trim())}catch(qG){return fD(e)}}setDataBinding(e){this.treeList.push("false"),this.fields.dataSource instanceof vM?this.fields.dataSource.ready?this.fields.dataSource.ready.then(e=>{this.fields.dataSource instanceof vM&&this.fields.dataSource.dataSource.offline&&(this.treeList.pop(),this.treeData=e.result,this.isNumberTypeId=this.getType(),this.setRootData(),this.renderItems(!0),0!==this.treeList.length||this.isLoaded||this.finalize())}).catch(e=>{this.trigger("actionFailure",{error:e})}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(t=>{this.treeList.pop(),this.treeData=t.result,this.isNumberTypeId=this.getType(),this.setRootData(),e&&(this.changeDataSource=!0),this.renderItems(!0),this.changeDataSource=!1,0!==this.treeList.length||this.isLoaded||this.finalize()}).catch(e=>{this.trigger("actionFailure",{error:e})}):(this.treeList.pop(),UO(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0!==this.treeList.length||this.isLoaded||this.finalize()}getQuery(e,t=null){let n,i=[];if(e.query)n=e.query.clone();else{n=new hM;let t=this.getActualProperties(e);for(let n of Object.keys(t))"dataSource"!==n&&"tableName"!==n&&"child"!==n&&e[n]&&"url"!==n&&-1===i.indexOf(e[n])&&i.push(e[n]);n.select(i),t.hasOwnProperty("tableName")&&n.from(e.tableName)}return RM.addSorting(this.sortOrder,e.text,n),UO(t)||UO(e.parentID)||n.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(t):t),n}getType(){return!!this.treeData[0]&&"number"==typeof HO(this.fields.id,this.treeData[0])}setRootData(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);let e=this.getChildNodes(this.treeData,void 0,!0);this.rootData=UO(e)?[]:e}else this.rootData=this.treeData}renderItems(e){if(!this.isBlazorPlatform||this.isBlazorPlatform&&this.fields.dataSource instanceof vM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName||this.changeDataSource){this.listBaseOption.ariaAttributes.level=1;let t=this.getSortedData(this.rootData);this.ulElement=RM.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);let n=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand){let e=0;for(;e<n.length;)this.renderChildNodes(n[e],!0,null,!0),e++}(1===$D("."+CN,this.element).length&&n&&0!==n.length||this.loadOnDemand)&&this.finalizeNode(this.element)}this.updateTemplateForBlazor(),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()}updateTemplateForBlazor(){this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate()}updateCheckedStateFromDS(e){if(this.treeData&&this.showCheckBox)if(1===this.dataType){let e=this.fields,t=new vM(this.treeData).executeLocal((new hM).where(e.isChecked,"equal",!0,!1));for(let n=0;n<t.length;n++){let i=t[n][this.fields.id]?t[n][this.fields.id].toString():null;if(t[n][this.fields.parentID]&&t[n][this.fields.parentID].toString(),-1!==this.checkedNodes.indexOf(i)||this.isLoaded||this.checkedNodes.push(i),t[n][this.fields.hasChildren]){let i=t[n][this.fields.id],s=new vM(this.treeData).executeLocal((new hM).where(e.parentID,"equal",i,!1));for(let e=0;e<s.length;e++){let t=s[e][this.fields.id]?s[e][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(t)&&this.autoCheck&&this.checkedNodes.push(t)}}}for(let n=0;n<this.checkedNodes.length;n++){let e=this.fields,t=new vM(this.treeData).executeLocal((new hM).where(e.id,"equal",this.checkedNodes[n],!0));t[0]&&this.autoCheck&&(this.getCheckedNodeDetails(e,t),this.checkIndeterminateState(t[0]));let i=new vM(this.treeData).executeLocal((new hM).where(e.parentID,"equal",this.checkedNodes[n],!0));for(let n=0;n<i.length;n++){let e=i[n][this.fields.id]?i[n][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(e)&&this.autoCheck&&this.checkedNodes.push(e)}}}else if(2===this.dataType||this.fields.dataSource instanceof vM&&this.fields.dataSource.dataSource.offline)for(let t=0;t<this.treeData.length;t++){let e=this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():"";this.treeData[t][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(e)&&this.checkedNodes.push(e);let n=HO(this.fields.child.toString(),this.treeData[t]);n&&this.updateChildCheckState(n,this.treeData[t])}}getCheckedNodeDetails(e,t){let n=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,i=0,s=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),l=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(s||l)l&&(YD(".e-check",l)||this.changeState(l,"indeterminate",null,!0,!0));else{-1===this.parentNodeCheck.indexOf(n)&&this.parentNodeCheck.push(n);let t=this.getChildNodes(this.treeData,n);for(let e=0;e<t.length;e++){let s=t[e][this.fields.id]?t[e][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(s)&&i++,i===t.length&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n)}let s=new vM(this.treeData).executeLocal((new hM).where(e.id,"equal",n,!0));this.getCheckedNodeDetails(e,s)}}updateParentCheckState(){let e,t=$D(".e-stop",this.element);for(let n=0;n<t.length;n++){let i=GD(t[n],"."+yN),s=i.getAttribute("data-uid").toString();e=1===this.dataType?new vM(this.treeData).executeLocal((new hM).where(this.fields.parentID,"equal",s,!0)):this.getChildNodes(this.treeData,s);let l=0;if(e){for(let t=0;t<e.length;t++){let n=e[t][this.fields.id].toString();-1!==this.checkedNodes.indexOf(n)&&l++}if(l===e.length){let e=i.getAttribute("data-uid");-1===this.checkedNodes.indexOf(e)&&this.checkedNodes.push(e),this.changeState(i,"check",null,!0,!0)}else 0===l&&0===this.checkedNodes.length&&this.changeState(i,"uncheck",null,!0,!0)}}}checkIndeterminateState(e){let t;t=this.element.querySelector(1===this.dataType?'[data-uid="'+e[this.fields.parentID]+'"]':'[data-uid="'+e[this.fields.id]+'"]'),t?"true"!==t.querySelector("."+IN).getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0):2===this.dataType&&-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString())}updateChildCheckState(e,t){let n=0,i=t[this.fields.id]?t[this.fields.id].toString():"";for(let s=0;s<e.length;s++){let l=e[s][this.fields.id]?e[s][this.fields.id].toString():"";e[s][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(l)&&this.autoCheck&&this.checkedNodes.push(l),-1!==this.checkedNodes.indexOf(l)&&this.autoCheck&&n++;let r=HO(this.fields.child.toString(),e[s]);r&&(this.parentCheckData.push(t),this.updateChildCheckState(r,e[s])),n===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i)}if(0!==n&&this.autoCheck){this.checkIndeterminateState(t);for(let e=0;e<this.parentCheckData.length;e++)t!==this.parentCheckData[e]&&this.parentCheckData[e]&&this.checkIndeterminateState(this.parentCheckData[e])}this.parentCheckData=[]}beforeNodeCreate(e){if(this.showCheckBox){let t=xM(this.createElement,!0,{cssClass:this.touchClass});t.setAttribute("role","checkbox");let n=YD("div.e-icons",e.item),i=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(t,e.item.childNodes[0].childNodes[UO(n)?0:1]);let s=HO(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(i)>-1?(YD(".e-frame",t).classList.add("e-check"),t.setAttribute("aria-checked","true"),this.addCheck(e.item)):UO(s)||"true"!==s.toString()?t.setAttribute("aria-checked","false"):(YD(".e-frame",t).classList.add("e-check"),t.setAttribute("aria-checked","true"),this.addCheck(e.item));let l=YD(".e-frame",t);zI.add(l,"mousedown",this.frameMouseHandler,this),zI.add(l,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains("e-selected")&&e.item.setAttribute("aria-selected","false");let t=e.fields;if(this.addActionClass(e,t.selected,"e-selected"),this.addActionClass(e,t.expanded,"e-expanded"),!UO(this.nodeTemplateFn)){let t=e.item.querySelector("."+wN);t.innerHTML="";let n=this.nodeTemplateFn(e.curData,void 0,void 0,this.element.id+"nodeTemplate",this.isStringTemplate);n=Array.prototype.slice.call(n),jD(n,t)}this.isRefreshed||this.trigger("drawNode",{node:e.item,nodeData:e.curData,text:e.text})}frameMouseHandler(e){_M(e,YD(".e-ripple-container",e.target.parentElement))}addActionClass(e,t,n){let i=HO(t,e.curData);UO(i)||"false"===i.toString()||e.item.classList.add(n)}getDataType(e,t){if(this.fields.dataSource instanceof vM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName){for(let n=0;n<e.length;n++)if("string"==typeof t.child&&UO(HO(t.child,e[n])))return 1;return 2}for(let n=0,i=e.length;n<i;n++){if("string"==typeof t.child&&!UO(HO(t.child,e[n])))return 2;if(!UO(HO(t.parentID,e[n]))||!UO(HO(t.hasChildren,e[n])))return 1}return 1}getGroupedData(e,t){let n=(new hM).group(t),i=RM.getDataSource(e,n),s=[];for(let l=0;l<i.length;l++)s.push(i[l].items);return s}getSortedData(e){return e&&"None"!==this.sortOrder&&(e=RM.getDataSource(e,RM.addSorting(this.sortOrder,this.fields.text))),e}finalizeNode(e){let t=$D(".e-list-img",e);for(let s=0;s<t.length;s++)t[s].setAttribute("alt","e-list-img");if(this.isLoaded){let t=$D(".e-selected",e);for(let e=0;e<t.length;e++){this.selectNode(t[e],null);break}FD(t,"e-selected")}let n=$D(".e-list-item:not(.e-expanded)",e);for(let s=0;s<n.length;s++){let e=YD("div.e-icons",n[s]);e&&e.classList.contains(vN)&&this.disableExpandAttr(n[s])}let i=$D(".e-expanded",e);if(!this.isInitalExpand)for(let s=0;s<i.length;s++)this.renderChildNodes(i[s]);FD(i,"e-expanded"),this.updateList(),this.isLoaded&&this.updateCheckedProp()}updateCheckedProp(){if(this.showCheckBox){let e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}}ensureIndeterminate(){if(this.autoCheck){let e,t=$D("li",this.element);for(let n=0;n<t.length;n++)t[n].classList.contains(yN)&&(e=YD("."+CN,t[n]),e?this.ensureParentCheckState(t[n]):this.ensureChildCheckState(t[n]))}else{let e=$D(".e-stop",this.element);for(let t=0;t<e.length;t++)e[t].classList.remove("e-stop")}}ensureParentCheckState(e){if(!UO(e)){if(e.classList.contains("e-treeview"))return;let t=e;e.classList.contains(yN)&&(t=YD("."+CN,e));let n=$D(".e-check",t),i=$D(".e-stop",t),s=$D("."+yN,t),l=e.getElementsByClassName(IN)[0];s.length===n.length?this.changeState(l,"check",null,!0,!0):n.length>0||i.length>0?this.changeState(l,"indeterminate",null,!0,!0):0===n.length&&this.changeState(l,"uncheck",null,!0,!0);let r=GD(e,"."+CN);if(!UO(r)){let e=GD(r,"."+yN);this.ensureParentCheckState(e)}}}ensureChildCheckState(e,t){if(!UO(e)){let n,i=YD("."+CN,e);if(!UO(i)){n=$D("."+IN,i);let s,l=e.getElementsByClassName("e-frame")[0].classList.contains("e-check"),r=e.getElementsByClassName("e-frame")[0].classList.contains("e-stop"),a=i.querySelectorAll("li");i.parentElement.getAttribute("aria-expanded");for(let e=0;e<n.length;e++){let i=a[e].getAttribute("data-uid");if(UO(this.currentLoadData)||UO(HO(this.fields.isChecked,this.currentLoadData[e]))){let t=n[e].getElementsByClassName("e-frame")[0].classList.contains("e-check");l?s="check":t&&!this.isLoaded?s="check":-1!==this.checkedNodes.indexOf(i)&&this.isLoaded&&(r||l)?s="check":a[e].classList.contains("e-has-child")&&!WO(this.parentNodeCheck)&&this.autoCheck&&(l||r)&&-1!==this.parentNodeCheck.indexOf(i)?(s="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(i),1)):1===this.dataType&&!WO(this.parentNodeCheck)&&this.autoCheck&&(l||r)&&-1!==this.parentNodeCheck.indexOf(i)?(s="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(i),1)):s="uncheck"}else s=HO(this.fields.isChecked,this.currentLoadData[e])?"check":"uncheck",-1!==this.ele&&(s=l?"check":"uncheck"),"uncheck"===s&&!WO(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(i)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(i),1),s="indeterminate");this.changeState(n[e],s,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}}doCheckBoxAction(e,t){if($D("."+yN,this.element),UO(e)){let e=$D("."+IN,this.element);if(this.loadOnDemand)for(let n=0;n<e.length;n++)this.updateFieldChecked(e[n],t),this.changeState(e[n],t?"check":"uncheck",null,null,null,t);else for(let n=0;n<e.length;n++)this.updateFieldChecked(e[n],t),this.changeState(e[n],t?"check":"uncheck")}else for(let n=e.length;n>=0;n--){let i;if(i=this.getElement(1===e.length?e[n-1]:e[n]),UO(i)){let i;if(i=e[n-e.length]?e[n-e.length].toString():e[n]?e[n].toString():null,""!==i&&t&&i)this.setValidCheckedNode(i),this.dynamicCheckState(i,t);else if(-1!==this.checkedNodes.indexOf(i)&&""!==i&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(i),1);let e=this.getChildNodes(this.treeData,i);if(e){for(let t=0;t<e.length;t++){let n=e[t][this.fields.id]?e[t][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(n)&&this.checkedNodes.splice(this.checkedNodes.indexOf(n),1)}-1!==this.parentNodeCheck.indexOf(i)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(i),1)}i&&this.dynamicCheckState(i,t),this.updateField(this.treeData,this.fields,i,"isChecked",null)}continue}let s=YD(".e-list-parent ."+IN,i);this.validateCheckNode(s,!t,i,null)}if(e)for(let n=0;n<e.length;n++){let i=e[n]?e[n].toString():"";t||this.updateField(this.treeData,this.fields,i,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()}updateFieldChecked(e,t){let n=GD(e,"."+yN),i=n.getAttribute("data-uid");"true"!==this.getNodeData(n).isChecked||t||this.updateField(this.treeData,this.fields,i,"isChecked",null)}dynamicCheckState(e,t){if(1===this.dataType){let n=0,i=new vM(this.treeData).executeLocal((new hM).where(this.fields.id,"equal",e,!0));if(i[0]){let s=i[0][this.fields.id]?i[0][this.fields.id].toString():null,l=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null,r=this.element.querySelector('[data-uid="'+l+'"]'),a=(r&&YD(".e-stop",r),r&&YD(".e-check",r),this.element.querySelector('[data-uid="'+s+'"]')),o=this.getChildNodes(this.treeData,l);if(o)for(let e=0;e<o.length;e++){let t=o[e][this.fields.id]?o[e][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(t)&&n++}-1!==this.checkedNodes.indexOf(e)&&r&&s===e&&this.autoCheck?this.changeState(r,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&a&&s===e&&!t?this.changeState(a,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&a&&s===e&&t?this.changeState(a,"check",null):-1===this.checkedNodes.indexOf(e)&&!a&&r&&s===e&&this.autoCheck&&0!==n?this.changeState(r,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!a&&r&&s===e&&this.autoCheck&&0===n?this.changeState(r,"uncheck",null):a||r||s!==e||!this.autoCheck||this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof vM&&this.fields.dataSource.dataSource.offline){let n,i,s;for(let l=0;l<this.treeData.length;l++){n=this.treeData[l][this.fields.id]?this.treeData[l][this.fields.id].toString():"",i=this.element.querySelector('[data-uid="'+n+'"]'),s=i?YD(".e-check",i):null,-1===this.checkedNodes.indexOf(n)&&i&&s&&!t&&this.changeState(i,"uncheck",null);let r=HO(this.fields.child.toString(),this.treeData[l]);r&&this.updateChildIndeterminate(r,n,e,t,n)}}}updateIndeterminate(e,t){let n,i=this.getTreeData(e),s=0;1===this.dataType&&(n=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null);let l=this.getChildNodes(this.treeData,n);if(l)for(let a=0;a<l.length;a++){let e=l[a][this.fields.id]?l[a][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(e)&&s++}let r=this.element.querySelector('[data-uid="'+n+'"]');r&&t?this.changeState(r,"indeterminate",null):!t&&r&&-1===this.parentNodeCheck.indexOf(n)&&0!==s?this.changeState(r,"indeterminate",null):!t&&r&&-1===this.parentNodeCheck.indexOf(n)&&0===s?this.changeState(r,"uncheck",null):r||(t||-1!==this.checkedNodes.indexOf(n)||-1===this.parentNodeCheck.indexOf(n)?t&&-1===this.checkedNodes.indexOf(n)&&-1===this.parentNodeCheck.indexOf(n)?this.parentNodeCheck.push(n):t||-1===this.checkedNodes.indexOf(n)||-1!==this.parentNodeCheck.indexOf(n)||0===s||this.parentNodeCheck.push(n):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(n),1),this.updateIndeterminate(n,t),-1===this.checkedNodes.indexOf(n)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(n),1))}updateChildIndeterminate(e,t,n,i,s){let l=0;for(let r=0;r<e.length;r++){let a=e[r][this.fields.id]?e[r][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(a)&&l++;let o=this.element.querySelector('[data-uid="'+t+'"]'),h=o?YD(".e-stop",o):null,c=o?YD(".e-check",o):null,d=this.element.querySelector('[data-uid="'+a+'"]'),u=d?YD(".e-check",d):null;if(-1!==this.checkedNodes.indexOf(n)&&o&&a===n&&this.autoCheck)this.changeState(o,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(n)||!o||d||a!==n||i){if(-1===this.checkedNodes.indexOf(n)&&d&&a===n&&!i)this.changeState(d,"uncheck",null);else if(-1===this.checkedNodes.indexOf(n)&&h&&a===n&&this.autoCheck&&0===l&&!i)h.classList.remove("e-stop");else if(-1===this.checkedNodes.indexOf(n)&&!d&&c&&a===n&&0===l)this.changeState(o,"uncheck",null);else if(-1===this.checkedNodes.indexOf(a)&&d&&u&&0===l)this.changeState(d,"uncheck",null);else if(!d&&!o&&a===n||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){let n=this.element.querySelector('[data-uid="'+s+'"]');i&&0!==l?this.changeState(n,"indeterminate",null):i&&l===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):i||0!==l||-1===this.parentNodeCheck.indexOf(t)||this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.changeState(o,this.autoCheck?"uncheck":0!==l?"indeterminate":"uncheck",null);let p=HO(this.fields.child.toString(),e[r]);p&&this.updateChildIndeterminate(p,a,n,i,s)}}changeState(e,t,n,i,s,l){let r,a=GD(e,"."+yN);i?this.nodeCheckAction(e,t,a,r,n,i,s,l):(this.checkActionNodes=[],r=this.getCheckEvent(a,t,n),this.trigger("nodeChecking",r,r=>{r.cancel||this.nodeCheckAction(e,t,a,r,n,i,s,l)}))}nodeCheckAction(e,t,n,i,s,l,r,a){let o,h=e.getElementsByClassName("e-frame")[0];if("check"!==t||h.classList.contains("e-check")?"uncheck"===t&&(h.classList.contains("e-check")||h.classList.contains("e-stop"))?(FD([h],["e-check","e-stop"]),this.removeCheck(n),o="false"):"indeterminate"===t&&!h.classList.contains("e-stop")&&this.autoCheck&&(h.classList.remove("e-check"),h.classList.add("e-stop"),this.removeCheck(n),o="mixed"):(h.classList.remove("e-stop"),h.classList.add("e-check"),this.addCheck(n),o="true"),o="check"===t?"true":"uncheck"===t?"false":o,UO(o)||e.setAttribute("aria-checked",o),r){let e=[].concat([],this.checkActionNodes);i=this.getCheckEvent(n,t,s),WO(l)&&(i.data=e)}void 0!==a&&this.ensureStateChange(n,a),l||UO(o)||(e.setAttribute("aria-checked",o),this.allowServerDataBinding=!0,this.updateServerProperties("check"),this.allowServerDataBinding=!1,i.data[0].checked=o,this.trigger("nodeChecked",i),this.checkActionNodes=[])}addCheck(e){let t=e.getAttribute("data-uid");UO(t)||-1!==this.checkedNodes.indexOf(t)||this.checkedNodes.push(t)}removeCheck(e){let t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)}getCheckEvent(e,t,n){this.checkActionNodes.push(this.getNodeData(e));let i=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!UO(n),node:e,data:i}}finalize(){let e=YD("."+CN,this.element);if(!UO(e)){e.setAttribute("role",AN.treeRole),this.setMultiSelect(this.allowMultiSelection);let t=YD("."+yN,this.element);t&&(RD([t],DN),this.updateIdAttr(null,t)),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}}doExpandAction(){let e=this.expandedNodes;if(this.isInitalExpand&&e.length>0){if(this.setProperties({expandedNodes:[]},!0),this.isBlazorPlatform&&!this.initialRender)return;if(this.fields.dataSource instanceof vM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName)this.expandGivenNodes(e);else{for(let t=0;t<e.length;t++){let n=YD('[data-uid="'+e[t]+'"]',this.element);if(UO(n))e[t]&&-1===this.expandChildren.indexOf(e[t])&&this.expandChildren.push(e[t].toString());else{let e=YD("."+vN,YD("."+kN,n));UO(e)||this.expandAction(n,e,null)}}this.afterFinalized()}}else this.afterFinalized()}expandGivenNodes(e){let t=this;this.expandCallback(e[this.index],()=>{t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()})}expandCallback(e,t){let n=YD('[data-uid="'+e+'"]',this.element);if(UO(n))t();else{let e=YD("."+vN,YD("."+kN,n));UO(e)?t():this.expandAction(n,e,null,!1,t)}}afterFinalized(){(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender)&&this.doSelectionAction(),this.updateCheckedProp(),this.isBlazorPlatform&&(this.initialRender&&this.setCheckedNodes(this.checkedNodes),this.updateInstance(),this.initialRender=!1),this.isAnimate=!0,this.isInitalExpand=!1,(!this.isLoaded||this.isFieldChange)&&this.trigger("dataBound",{data:this.treeData}),this.isLoaded=!0}doSelectionAction(){let e=$D(".e-selected",this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(let e=0;e<t.length;e++){let n=YD('[data-uid="'+t[e]+'"]',this.element);if(n&&!n.classList.contains("e-active")?this.selectNode(n,null,!0):this.selectedNodes.push(t[e]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);FD(e,"e-selected")}selectGivenNodes(e){for(let t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);}clickHandler(e){let t=e.originalEvent.target;if(zI.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){let n=t.classList,i=GD(t,"."+yN);if(!i)return;if(3!==e.originalEvent.which){let s=YD(".e-ripple-element",i),l=YD(".e-icons",i);if(this.removeHover(),this.setFocusElement(i),this.showCheckBox&&!i.classList.contains("e-disable")){let n=GD(t,"."+IN);if(!UO(n)){let t=YD(".e-frame",n);return this.validateCheckNode(n,t.classList.contains("e-check"),i,e.originalEvent),void this.triggerClickEvent(e.originalEvent,i)}}n.contains(vN)?this.expandAction(i,t,e):n.contains(bN)?this.collapseNode(i,t,e):s&&l?l.classList.contains("e-ripple")&&l.classList.contains(vN)?this.expandAction(i,l,e):l.classList.contains("e-ripple")&&l.classList.contains(bN)?this.collapseNode(i,l,e):n.contains(CN)||n.contains(yN)||this.toggleSelect(i,e.originalEvent,!1):n.contains(CN)||n.contains(yN)||this.toggleSelect(i,e.originalEvent,!1)}this.triggerClickEvent(e.originalEvent,i)}}nodeCheckedEvent(e,t,n){GD(e,"."+yN);let i=this.getCheckEvent(e,t?"uncheck":"check",n);i.data=i.data.splice(0,i.data.length-1),this.trigger("nodeChecked",i)}triggerClickEvent(e,t){this.trigger("nodeClicked",{event:e,node:t})}expandNode(e,t,n){if(t.classList.contains(_N)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==n||!0===n&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){FD([t],vN),RD([t],bN);let n=0,i=0,s=this,l=YD("."+CN,e),r=e;this.setHeight(r,l);let a=YD(".e-list-item.e-active",e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(l,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:t=>{r.style.overflow="hidden",!UO(a)&&a instanceof HTMLElement&&a.classList.add("e-animation-active"),n=r.offsetHeight,i=YD("."+kN,e).offsetHeight},progress:e=>{e.element.style.display="block",s.animateHeight(e,n,i)},end:e=>{e.element.style.display="block",!UO(a)&&a instanceof HTMLElement&&a.classList.remove("e-animation-active"),this.expandedNode(r,l,t)}}):this.expandedNode(r,l,t)}}else YD("."+CN,e).style.display="none",this.fields.dataSource instanceof vM==1&&(this.preventExpand=!1);this.initialRender&&t.classList.add("interaction")}expandedNode(e,t,n){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",FD([n],SN),this.addExpand(e),this.allowServerDataBinding=!0,this.updateServerProperties("expand"),this.allowServerDataBinding=!1,this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.trigger("nodeExpanded",this.expandArgs))}addExpand(e){e.setAttribute("aria-expanded","true"),FD([e],"e-node-collapsed");let t=e.getAttribute("data-uid");UO(t)||-1!==this.expandedNodes.indexOf(t)||this.expandedNodes.push(t)}collapseNode(e,t,n){if(t.classList.contains(SN))return;let i;RD([t],SN),this.isLoaded?(i=this.getExpandEvent(e,n),this.trigger("nodeCollapsing",i,n=>{n.cancel?FD([t],SN):this.nodeCollapseAction(e,t,n)})):this.nodeCollapseAction(e,t,i)}nodeCollapseAction(e,t,n){FD([t],bN),RD([t],vN);let i=0,s=0,l=this,r=YD("."+CN,e),a=e,o=YD(".e-list-item.e-active",e);this.isAnimate?this.aniObj.animate(r,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:t=>{a.style.overflow="hidden",!UO(o)&&o instanceof HTMLElement&&o.classList.add("e-animation-active"),i=YD("."+kN,e).offsetHeight,s=a.offsetHeight},progress:e=>{l.animateHeight(e,i,s)},end:e=>{e.element.style.display="none",!UO(o)&&o instanceof HTMLElement&&o.classList.remove("e-animation-active"),this.collapsedNode(a,r,t,n)}}):this.collapsedNode(a,r,t,n)}collapsedNode(e,t,n,i){t.style.display="none",e.style.overflow="",e.style.height="",FD([n],SN),this.allowServerDataBinding=!0,this.updateServerProperties("expand"),this.allowServerDataBinding=!1,this.removeExpand(e),this.isLoaded&&this.trigger("nodeCollapsed",i)}removeExpand(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);let n=this.expandedNodes.indexOf(e.getAttribute("data-uid"));n>-1&&this.expandedNodes.splice(n,1)}disableExpandAttr(e){e.setAttribute("aria-expanded","false"),RD([e],"e-node-collapsed")}setHeight(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""}animateHeight(e,t,n){e.element.parentElement.style.height=(e.duration-e.timeStamp)/e.duration*(n-t)+t+"px"}renderChildNodes(e,t,n,i){let s,l=YD("div.e-icons",e);if(!UO(l))if(this.showSpinner(l),this.fields.dataSource instanceof vM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName){let r=this.parents(e,"."+CN).length,a=this.getChildFields(this.fields,r,1);if(UO(a)||UO(a.dataSource))return qD(l),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof vM&&this.fields.dataSource.dataSource.offline?(this.treeList.pop(),s=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(s,a,l,e,t,n,i),this.updateTemplateForBlazor()):a.dataSource.executeQuery(this.getQuery(a,e.getAttribute("data-uid"))).then(r=>{this.treeList.pop(),s=r.result,1===this.dataType&&(this.dataType=2),this.loadChild(s,a,l,e,t,n,i),this.updateTemplateForBlazor()}).catch(e=>{this.trigger("actionFailure",{error:e})})}else{if(s=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=s,UO(s)||0===s.length)return qD(l),void this.removeExpand(e,!0);this.isBlazorPlatform&&this.initialRender||(this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(RM.createList(this.createElement,this.getSortedData(s),this.listBaseOption))),this.expandNode(e,l,i),this.setSelectionForChildNodes(s),this.ensureCheckNode(e),this.finalizeNode(e),this.loadOnDemand&&this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate(),this.disableTreeNodes(s),this.renderSubChild(e,t,i)}}loadChild(e,t,n,i,s,l,r){if(this.currentLoadData=e,UO(e)||0===e.length)qD(n),this.removeExpand(i,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof vM&&!this.fields.dataSource.dataSource.offline){let t=i.getAttribute("data-uid");BO("child",e,this.getNodeObject(t))}this.listBaseOption.ariaAttributes.level=parseFloat(i.getAttribute("aria-level"))+1,i.appendChild(RM.createList(this.createElement,e,this.listBaseOption)),this.expandNode(i,n,r),this.setSelectionForChildNodes(e),this.ensureCheckNode(i),this.finalizeNode(i),this.disableTreeNodes(e),this.renderSubChild(i,s,r)}l&&l(),0!==this.treeList.length||this.isLoaded||this.finalize()}disableTreeNodes(e){let t=0;for(;t<e.length;){let n=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(n)&&this.doDisableAction([n]),t++}}setSelectionForChildNodes(e){let t;for(t=0;t<e.length;t++){let n=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(n)&&this.doSelectionAction()}}ensureCheckNode(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null}getFields(e,t,n){return t===n?e:this.getFields(this.getChildMapper(e),t,n+1)}getChildFields(e,t,n){return t===n?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,n+1)}getChildMapper(e){return"string"==typeof e.child||UO(e.child)?e:e.child}getChildNodes(e,t,n=!1){let i;if(UO(e))return i;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,n);if("string"==typeof this.fields.child)for(let s=0,l=e.length;s<l;s++){let n=HO(this.fields.id,e[s]);if(n&&n.toString()===t)return HO(this.fields.child,e[s]);if(!UO(HO(this.fields.child,e[s]))&&(i=this.getChildNodes(HO(this.fields.child,e[s]),t),void 0!==i))break}return i}getChildGroup(e,t,n){if(!UO(e))for(let i=0,s=e.length;i<s;i++){if(UO(e[i][0])||UO(HO(this.fields.parentID,e[i][0])))return n?e[i]:[];if(HO(this.fields.parentID,e[i][0]).toString()===t)return e[i]}}renderSubChild(e,t,n){if(t){let i=$D("."+vN,e);for(let s=0,l=i.length;s<l;s++){let l=i[s];if(e.querySelector(".e-icons")!==i[s]){let e=GD(l,"."+yN);this.expandArgs=this.getExpandEvent(e,null),!0!==n&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(e,t,null,n)}}}}toggleSelect(e,t,n){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||n)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,n))}isActive(e){return!!e.classList.contains("e-active")}selectNode(e,t,n){if(UO(e)||!this.allowMultiSelection&&this.isActive(e)&&!UO(t))return void this.setFocusElement(e);let i;this.isLoaded?(i=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",i,i=>{i.cancel||this.nodeSelectAction(e,t,i,n)})):this.nodeSelectAction(e,t,i,n)}nodeSelectAction(e,t,n,i){if(this.allowMultiSelection&&(i||t&&(!t||t.ctrlKey))||this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);let t=this.liList.indexOf(this.startNode),n=this.liList.indexOf(e);if(t>n){let e=t;t=n,n=e}for(let e=t;e<=n;e++){let t=this.liList[e];BD(t)&&!t.classList.contains("e-disable")&&this.addSelect(t)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,n.nodeData=this.getNodeData(e),this.trigger("nodeSelected",n))}unselectNode(e,t){let n;this.isLoaded?(n=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",n,t=>{t.cancel||(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,this.nodeUnselectAction(e,t))})):this.nodeUnselectAction(e,n)}nodeUnselectAction(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(this.allowServerDataBinding=!0,this.updateServerProperties("select"),this.allowServerDataBinding=!1,t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))}setFocusElement(e){if(!UO(e)){let t=this.getFocusedNode();t&&FD([t],DN),RD([e],DN),this.updateIdAttr(t,e)}}addSelect(e){e.setAttribute("aria-selected","true"),RD([e],"e-active");let t=e.getAttribute("data-uid");UO(t)||-1!==this.selectedNodes.indexOf(t)||this.selectedNodes.push(t)}removeSelect(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),FD([e],"e-active");let t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)}removeSelectAll(){let e=this.element.querySelectorAll(".e-active");for(let t of e)this.allowMultiSelection?t.setAttribute("aria-selected","false"):t.removeAttribute("aria-selected");FD(e,"e-active"),this.setProperties({selectedNodes:[]},!0)}getSelectEvent(e,t,n){let i=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!UO(n),node:e,nodeData:i}}setExpandOnType(){this.expandOnType="Auto"===this.expandOn?jI.isDevice?"Click":"DblClick":this.expandOn}expandHandler(e){let t=e.originalEvent.target;!t||t.classList.contains("e-input")||t.classList.contains("e-treeview")||t.classList.contains(CN)||t.classList.contains(yN)||t.classList.contains("e-icons")||this.showCheckBox&&GD(t,"."+IN)||this.expandCollapseAction(GD(t,"."+yN),e)}expandCollapseAction(e,t){let n=YD("div.e-icons",e);if(n&&!n.classList.contains(SN)){let i=n.classList;i.contains(vN)?this.expandAction(e,n,t):i.contains(bN)&&this.collapseNode(e,n,t)}}expandAction(e,t,n,i,s){t.classList.contains(SN)||(RD([t],SN),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,n),this.trigger("nodeExpanding",this.expandArgs,n=>{n.cancel?FD([t],SN):this.nodeExpandAction(e,t,i,s)})):this.nodeExpandAction(e,t,i,s))}nodeExpandAction(e,t,n,i){let s=YD("."+CN,e);if(s&&"UL"===s.nodeName)this.expandNode(e,t);else{this.renderChildNodes(e,n,i);let t=$D("."+yN,e);for(let e=0;e<t.length;e++){let n=this.getId(t[e]);if(-1!==this.expandChildren.indexOf(n)&&void 0!==this.expandChildren){let i=YD("."+vN,YD("."+kN,t[e]));UO(i)||this.expandAction(t[e],i,null),this.expandChildren.splice(this.expandChildren.indexOf(n),1)}}}}keyActionHandler(e){let t=e.target,n=this.getFocusedNode();if(t&&t.classList.contains("e-input")){let i=t;"enter"===e.action?(i.blur(),this.element.focus(),RD([n],xN)):"escape"===e.action&&(i.value=this.oldText,i.blur(),this.element.focus(),RD([n],xN))}else e.preventDefault(),this.trigger("keyPress",{cancel:!1,event:e,node:n},t=>{if(!t.cancel)switch(e.action){case"space":this.showCheckBox&&this.checkNode(e);break;case"moveRight":this.openNode(!this.enableRtl,e);break;case"moveLeft":this.openNode(!!this.enableRtl,e);break;case"shiftDown":this.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":this.navigateNode(!0);break;case"shiftUp":this.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":this.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":this.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":this.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":this.toggleSelect(n,e);break;case"f2":this.allowEditing&&!n.classList.contains("e-disable")&&this.createTextbox(n,e);break;case"ctrlA":if(this.allowMultiSelection){let e=$D(".e-list-item:not(.e-active)",this.element);this.selectGivenNodes(e)}}})}navigateToFocus(e){let t=this.getFocusedNode().querySelector("."+kN),n=t.getBoundingClientRect(),i=this.getScrollParent(this.element);if(!UO(i)){let e=i.getBoundingClientRect();n.bottom>e.bottom?i.scrollTop+=n.bottom-e.bottom:n.top<e.top&&(i.scrollTop-=e.top-n.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)}isVisibleInViewport(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}getScrollParent(e){return UO(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)}shiftKeySelect(e,t){if(this.allowMultiSelection){let n=this.getFocusedNode(),i=e?this.getNextNode(n):this.getPrevNode(n);this.removeHover(),this.setFocusElement(i),this.toggleSelect(i,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)}checkNode(e){let t=this.getFocusedNode(),n=YD("."+IN,t),i=YD(" .e-frame",n).classList.contains("e-check");t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(n,i,t,e)}validateCheckNode(e,t,n,i){let s=GD(e,"."+yN);this.checkActionNodes=[];let l=t?"false":"true";UO(l)||e.setAttribute("aria-checked",l);let r=this.getCheckEvent(s,t?"uncheck":"check",i);this.trigger("nodeChecking",r,s=>{s.cancel||this.nodeCheckingAction(e,t,n,s,i)})}nodeCheckingAction(e,t,n,i,s){if(-1===this.checkedElement.indexOf(n.getAttribute("data-uid"))){this.checkedElement.push(n.getAttribute("data-uid"));let e=this.getChildNodes(this.treeData,n.getAttribute("data-uid"));null!==e?this.allCheckNode(e,this.checkedElement,null,null,!1):e=null}if(this.changeState(e,t?"uncheck":"check",s,!0),this.autoCheck){let e;this.ensureChildCheckState(n),this.ensureParentCheckState(GD(GD(n,"."+CN),"."+yN)),"check"===i.action?e=!0:"uncheck"===i.action&&(e=!1),this.ensureStateChange(n,e)}this.allowServerDataBinding=!0,this.updateServerProperties("check"),this.allowServerDataBinding=!1,this.nodeCheckedEvent(e,t,s)}ensureStateChange(e,t){let n=YD("."+CN,e),i=e.getAttribute("data-uid"),s=this.fields;if(1===this.dataType&&this.autoCheck){let e=new vM(this.treeData).executeLocal((new hM).where(s.parentID,"equal",i,!0));for(let s=0;s<e.length;s++){let l=e[s][this.fields.id]?e[s][this.fields.id].toString():null,r=e[s][this.fields.isChecked]?e[s][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(l)){this.checkedNodes.push(l);let e=this.getChildNodes(this.treeData,l);this.getChildItems(e,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}else if(-1===this.checkedNodes.indexOf(i)&&null===n&&-1!==this.checkedNodes.indexOf(l)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),"true"===r&&this.updateField(this.treeData,this.fields,l,"isChecked",null),-1===this.checkedNodes.indexOf(i)&&null===n||-1!==this.parentNodeCheck.indexOf(l)){let e=this.getChildNodes(this.treeData,l);this.getChildItems(e,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}}else{let e=this.getChildNodes(this.treeData,l);this.getChildItems(e,t)}}}else if(1!==this.dataType||this.autoCheck){let e=this.getChildNodes(this.treeData,i);e&&this.childStateChange(e,i,n,t)}else if(t)for(let l=0;l<this.treeData.length;l++){let e=this.treeData[l][this.fields.id]?this.treeData[l][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(e)&&this.checkedNodes.push(e)}else{let e=new vM(this.treeData).executeLocal((new hM).where(s.isChecked,"equal",!0,!1));for(let t=0;t<e.length;t++){let n=e[t][this.fields.id]?e[t][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(n)&&this.checkedNodes.splice(this.checkedNodes.indexOf(n),1),this.updateField(this.treeData,this.fields,n,"isChecked",null)}this.checkedNodes=[]}}getChildItems(e,t){for(let n=0;n<e.length;n++){let i=e[n][this.fields.id]?e[n][this.fields.id].toString():null,s=e[n][this.fields.isChecked]?e[n][this.fields.isChecked].toString():null;-1===this.checkedNodes.indexOf(i)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(i),1),-1===this.checkedNodes.indexOf(i)&&t&&this.checkedNodes.push(i),"true"!==s||t||this.updateField(this.treeData,this.fields,i,"isChecked",null);let l=this.getChildNodes(this.treeData,i);l.length>0&&this.getChildItems(l,t)}}childStateChange(e,t,n,i){for(let s=0;s<e.length;s++){let l=e[s][this.fields.id]?e[s][this.fields.id].toString():"",r=e[s][this.fields.isChecked]?e[s][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(l)?(this.checkedNodes.push(l),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)):-1!==this.checkedNodes.indexOf(t)||-1===this.checkedNodes.indexOf(l)||i||(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),"true"===r&&this.updateField(this.treeData,this.fields,l,"isChecked",null)):this.autoCheck||(i?-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l):(-1!==this.checkedNodes.indexOf(l)&&this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),this.updateField(this.treeData,this.fields,l,"isChecked",null),this.checkedNodes=[]));let a=this.getChildNodes([e[s]],l);a&&this.childStateChange(a,t,n,i)}}allCheckNode(e,t,n,i,s){if(e)for(let l=0;l<e.length;l++){let r=HO(this.fields.id,e[l]),a=this.element.querySelector('[data-uid="'+r+'"]');if(!1!==s&&-1===this.checkedElement.indexOf(r.toString())&&(null===a&&!UO(e[l][this.fields.isChecked])&&-1===t.indexOf(r.toString())||0===i||2===n)&&(!1!==e[l][this.fields.isChecked]||2===n?t.push(r.toString()):i=null,i=!1!==e[l][this.fields.isChecked]||2===n?0:null),-1===t.indexOf(r.toString())&&UO(n)&&t.push(r.toString()),!0===HO(this.fields.hasChildren,e[l])||HO(this.fields.child.toString(),e[l])){let r=HO(this.fields.id,e[l]),a=this.getChildNodes(this.treeData,r.toString());a&&(UO(s)?this.allCheckNode(a,t,n,i):this.allCheckNode(a,t,n,i,s),i=null)}i=null}}openNode(e,t){let n=this.getFocusedNode(),i=YD("div.e-icons",n);if(e){if(!i)return;i.classList.contains(vN)?this.expandAction(n,i,t):this.focusNextNode(n,!0)}else if(i&&i.classList.contains(bN))this.collapseNode(n,i,t);else{let e=GD(GD(n,"."+CN),"."+yN);if(!e)return;e.classList.contains("e-disable")||(this.setFocus(n,e),this.navigateToFocus(!0))}}navigateNode(e){let t=this.getFocusedNode();this.focusNextNode(t,e)}navigateRootNode(e){let t=this.getFocusedNode(),n=e?this.getRootNode():this.getEndNode();n.classList.contains("e-disable")||(this.setFocus(t,n),this.navigateToFocus(e))}getFocusedNode(){let e,t=YD(".e-list-item."+DN,this.element);return UO(t)&&(e=YD("."+yN,this.element)),UO(t)?UO(e)?this.element.firstElementChild:e:t}focusNextNode(e,t){let n=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,n),this.navigateToFocus(!t),n.classList.contains("e-disable")){let e=n.lastChild;null==n.previousSibling&&n.classList.contains("e-level-1")?this.focusNextNode(n,!0):null==n.nextSibling&&n.classList.contains("e-node-collapsed")?this.focusNextNode(n,!1):null==n.nextSibling&&e.classList.contains("e-text-content")?this.focusNextNode(n,!1):this.focusNextNode(n,t)}}getNextNode(e){let t,n=this.liList.indexOf(e);do{if(n++,t=this.liList[n],UO(t))return e}while(!BD(t));return t}getPrevNode(e){let t,n=this.liList.indexOf(e);do{if(n--,t=this.liList[n],UO(t))return e}while(!BD(t));return t}getRootNode(){let e,t=0;do{e=this.liList[t],t++}while(!BD(e));return e}getEndNode(){let e,t=this.liList.length-1;do{e=this.liList[t],t--}while(!BD(e));return e}setFocus(e,t){FD([e],[xN,DN]),t.classList.contains("e-disable")||(RD([t],[xN,DN]),this.updateIdAttr(e,t))}updateIdAttr(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")}focusIn(){this.mouseDownStatus||RD([this.getFocusedNode()],xN),this.mouseDownStatus=!1}focusOut(){FD([this.getFocusedNode()],xN)}onMouseOver(e){let t=e.target,n=t.classList,i=GD(t,"."+yN);!i||n.contains(CN)||n.contains(yN)?this.removeHover():i&&!i.classList.contains("e-disable")&&this.setHover(i)}setHover(e){e.classList.contains(xN)||(this.removeHover(),RD([e],xN))}onMouseLeave(e){this.removeHover()}removeHover(){let e=$D("."+xN,this.element);e&&e.length&&FD(e,xN)}getNodeData(e,t){if(!UO(e)&&e.classList.contains(yN)&&!UO(GD(e,".e-control"))&&GD(e,".e-control").classList.contains("e-treeview")){let n=e.getAttribute("data-uid"),i=this.getText(e,t),s=GD(e.parentNode,"."+yN),l=s?s.getAttribute("data-uid"):null,r=e.classList.contains("e-active"),a="true"===e.getAttribute("aria-expanded"),o=null!==e.getAttribute("aria-expanded");this.isBlazorPlatform&&(o="true"===e.getAttribute("aria-expanded")||null!=(e.querySelector(".e-icon-expandable")||e.querySelector(".e-icon-collapsible")));let h=null;return this.showCheckBox&&(h=YD("."+IN,e).getAttribute("aria-checked")),{id:n,text:i,parentID:l,selected:r,expanded:a,isChecked:h,hasChildren:o}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}}getText(e,t){if(t){let t=this.getNodeObject(e.getAttribute("data-uid")),n=parseFloat(e.getAttribute("aria-level"));return HO(this.getFields(this.fields,n,1).text,t)}return YD("."+wN,e).textContent}getExpandEvent(e,t){let n=this.getNodeData(e);return{cancel:!1,isInteracted:!UO(t),node:e,nodeData:n,event:t}}destroyTemplate(e){this.clearTemplate(["nodeTemplate"])}reRenderNodes(){this.updateListProp(this.fields),gD(this.element.id+"nodeTemplate"),this.isBlazorPlatform?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",UO(this.nodeTemplateFn)||this.destroyTemplate(this.nodeTemplate),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)}setCssClass(e,t){UO(e)||""===e||FD([this.element],e.split(" ")),UO(t)||""===t||RD([this.element],t.split(" "))}editingHandler(e){let t=e.target;if(!(!t||t.classList.contains("e-treeview")||t.classList.contains(CN)||t.classList.contains(yN)||t.classList.contains("e-icons")||t.classList.contains("e-input")||t.classList.contains("e-input-group"))){let n=GD(t,"."+yN);this.createTextbox(n,e)}}createTextbox(e,t){let n=YD(".e-tree-input",this.element);n&&n.blur();let i=YD("."+wN,e);this.updateOldText(e);let s=this.createElement("input",{className:"e-tree-input",attrs:{value:this.oldText}}),l=this.getEditEvent(e,null,s.outerHTML);this.trigger("nodeEditing",l,t=>{if(!t.cancel){let t="width:"+(i.offsetWidth+5)+"px";RD([e],"e-editing"),i.innerHTML=l.innerHtml;let n=YD(".e-tree-input",i);this.inputObj=ZP.createInput({element:n,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",t),n.focus(),n.setSelectionRange(0,n.value.length),this.wireInputEvents(n)}})}updateOldText(e){let t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);let n=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,n,1),this.oldText=HO(this.editFields.text,this.editData)}inputFocusOut(e){if(!YD(".e-tree-input",this.element))return;let t=e.target,n=t.value,i=GD(t,"."+wN),s=GD(t,"."+yN);qD(this.inputObj.container),this.fields.dataSource instanceof vM&&!this.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("update",null,s,n,null,null,!0):this.appendNewText(s,i,n,!0)}appendNewText(e,t,n,i){let s=this.getEditEvent(e,n,null);this.trigger("nodeEdited",s,s=>{this.updateText(e,t,n=s.cancel?s.oldText:s.newText,i),s.oldText!==n&&this.triggerEvent()})}updateText(e,t,n,i){let s=BO(this.editFields.text,n,this.editData);if(UO(this.nodeTemplateFn))t.innerText=n;else{t.innerText="";let e=this.nodeTemplateFn(s,void 0,void 0,this.element.id+"nodeTemplate",this.isStringTemplate);e=Array.prototype.slice.call(e),jD(e,t),this.updateBlazorTemplate()}i&&(FD([e],"e-editing"),t.focus())}getElement(e){return UO(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?JO(e):null}getId(e){return UO(e)?null:"string"==typeof e?e:"object"==typeof e?JO(e).getAttribute("data-uid"):null}getEditEvent(e,t,n){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:n}}getNodeObject(e){if(!UO(e)){if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(let t=0,n=this.treeData.length;t<n;t++){let n=HO(this.fields.id,this.treeData[t]);if(!UO(this.treeData[t])&&!UO(n)&&n.toString()===e)return this.treeData[t]}}}getChildNodeObject(e,t,n){let i;if(UO(e))return i;for(let s=0,l=e.length;s<l;s++){let l=HO(t.id,e[s]);if(e[s]&&l&&l.toString()===n)return e[s];if("string"!=typeof t.child||UO(HO(t.child,e[s]))){if(this.fields.dataSource instanceof vM&&!UO(HO("child",e[s]))&&(i=this.getChildNodeObject(HO("child",e[s]),this.getChildMapper(t),n),void 0!==i))break}else{let l=HO(t.child,e[s]);if(i=this.getChildNodeObject(l,this.getChildMapper(t),n),void 0!==i)break}}return i}setDragAndDrop(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()}initializeDrag(){let e,t=this;this.dragObj=new HA(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+kN,helper:n=>{this.dragTarget=n.sender.target;let i=GD(this.dragTarget,".e-treeview"),s=GD(this.dragTarget,"."+kN);if(this.dragLi=GD(this.dragTarget,"."+yN),this.fullRowSelect&&!s&&this.dragTarget.classList.contains("e-fullrow")&&(s=this.dragTarget.nextElementSibling),!this.dragTarget||!n.element.isSameNode(i)||!s||this.dragTarget.classList.contains("e-treeview")||this.dragTarget.classList.contains(CN)||this.dragTarget.classList.contains(yN)||this.dragLi.classList.contains("e-disable"))return!1;let l=s.cloneNode(!0);if(UO(YD("div.e-icons",l))){let e=t.createElement("div",{className:"e-icons "+vN});l.insertBefore(e,l.children[0])}e=t.createElement("div",{className:"e-drag-item e-treeview "+this.cssClass+" "+(this.enableRtl?"e-rtl":"")}),e.appendChild(l);let r=this.selectedNodes.length;if(r>1&&this.allowMultiSelection&&this.dragLi.classList.contains("e-active")){let n=t.createElement("span",{className:"e-drop-count",innerHTML:""+r});e.appendChild(n)}return document.body.appendChild(e),document.body.style.cursor="",this.dragData=this.getNodeData(this.dragLi),e},dragStart:t=>{RD([this.element],"e-dragging");let n,i=GD(t.target,".e-list-item");i&&(n=parseInt(i.getAttribute("aria-level"),10));let s=this.getDragEvent(t.event,this,null,t.target,null,e,n);s.draggedNode.classList.contains("e-editing")?(this.dragObj.intDestroy(t.event),this.dragCancelAction(e)):this.trigger("nodeDragStart",s,n=>{n.cancel?(this.dragObj.intDestroy(t.event),this.dragCancelAction(e)):this.dragStartAction=!0})},drag:t=>{this.dragObj.setProperties({cursorAt:{top:!UO(t.event.targetTouches)||jI.isDevice?60:-20}}),this.dragAction(t,e)},dragStop:e=>{FD([this.element],"e-dragging"),this.removeVirtualEle();let t=e.target,n=GD(t,".e-droppable");t&&n||(qD(e.helper),document.body.style.cursor="");let i,s=GD(t,".e-list-item");s&&(i=parseInt(s.getAttribute("aria-level"),10));let l=this.getDragEvent(e.event,this,t,t,null,e.helper,i);l.preventTargetExpand=!1,(this.isBlazorPlatform&&this.dragStartAction||!this.isBlazorPlatform)&&this.trigger("nodeDragStop",l,t=>{this.dragParent=t.draggedParentNode,this.preventExpand=t.preventTargetExpand,t.cancel&&(e.helper.parentNode&&qD(e.helper),document.body.style.cursor=""),this.dragStartAction=!1,this.isBlazorPlatform&&this.dropAction(e,!0)})}}),this.dropObj=new VA(this.element,{out:e=>{UO(e)||e.target.classList.contains(EN)||(document.body.style.cursor="not-allowed")},over:e=>{document.body.style.cursor=""},drop:e=>{this.isBlazorPlatform||this.dropAction(e)}})}dragCancelAction(e){qD(e),FD([this.element],"e-dragging"),this.dragStartAction=!1}dragAction(e,t){let n=GD(e.target,".e-droppable"),i=GD(e.target,"."+kN),s=YD("div.e-icons",t);FD([s],["e-drop-in",ON,"e-drop-out","e-no-drop"]),this.removeVirtualEle(),document.body.style.cursor="";let l=e.target.classList;if(this.fullRowSelect&&!i&&!UO(l)&&l.contains("e-fullrow")&&(i=e.target.nextElementSibling),n){let t=GD(e.target,"."+yN),l=GD(e.target,"."+IN),r=GD(e.target,"."+bN),a=GD(e.target,"."+vN);if(!n.classList.contains("e-treeview")||i&&!t.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,t))if(t&&e&&!a&&!r&&e.event.offsetY<7&&!l||a&&e.event.offsetY<5||r&&e.event.offsetX<3){RD([s],ON);let e=this.createElement("div",{className:EN});t.insertBefore(e,t.children[this.fullRowSelect?1:0])}else if(t&&e&&!a&&!r&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!l||a&&e.event.offsetY>19||r&&e.event.offsetX>19){RD([s],ON);let e=this.createElement("div",{className:EN});t.insertBefore(e,t.children[this.fullRowSelect?2:1])}else RD([s],"e-drop-in");else"LI"!==e.target.nodeName||t.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,t)?e.target.classList.contains(EN)?RD([s],ON):RD([s],"e-drop-out"):(RD([s],ON),this.renderVirtualEle(e))}else RD([s],"e-no-drop"),document.body.style.cursor="not-allowed";let r,a=GD(e.target,".e-list-item");a&&(r=parseInt(a.getAttribute("aria-level"),10));let o=this.getDragEvent(e.event,this,e.target,e.target,null,t,r);o.dropIndicator&&FD([s],o.dropIndicator),this.trigger("nodeDragging",o),o.dropIndicator&&RD([s],o.dropIndicator)}dropAction(e,t){let n,i,s,l=e.event.offsetY,r=e.target,a=!1;s=t?e.element:e.dragData.draggable;for(let o=0;o<s.ej2_instances.length;o++)if(s.ej2_instances[o]instanceof fN){n=s.ej2_instances[o];break}if(n&&n.dragTarget){let s=GD(n.dragTarget,"."+yN),o=GD(r,"."+yN);if(null==o&&r.classList.contains("e-treeview")&&(o=r.firstElementChild),qD(t?e.helper:e.droppedElement),document.body.style.cursor="",!o||o.isSameNode(s)||this.isDescendant(s,o))return void(this.fields.dataSource instanceof vM==0&&(this.preventExpand=!1));if(n.allowMultiSelection&&s.classList.contains("e-active")){let t=$D(".e-active",n.element);if(e.target.offsetHeight<=33&&l>e.target.offsetHeight-10&&l>6)for(let i=t.length-1;i>=0;i--)o.isSameNode(t[i])||this.isDescendant(t[i],o)||this.appendNode(r,t[i],o,e,n,l);else for(let i=0;i<t.length;i++)o.isSameNode(t[i])||this.isDescendant(t[i],o)||this.appendNode(r,t[i],o,e,n,l)}else this.appendNode(r,s,o,e,n,l);i=parseInt(s.getAttribute("aria-level"),10),a=!0}this.fields.dataSource instanceof vM==0&&(this.preventExpand=!1),this.trigger("nodeDropped",this.getDragEvent(e.event,n,r,e.target,t?e.element:e.dragData.draggedElement,null,i,a)),this.triggerEvent()}appendNode(e,t,n,i,s,l){let r=GD(e,"."+IN),a=GD(i.target,"."+bN),o=GD(i.target,"."+vN);t.classList.contains("e-disable")||r||!(o&&i.event.offsetY<5||a&&i.event.offsetX<3||o&&i.event.offsetY>19||a&&i.event.offsetX>19||!o&&!a)?this.dropAsChildNode(t,n,s,null,i,l,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,n,i,s):e.firstElementChild&&e.classList.contains("e-treeview")?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,n,i,s):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,n,i,s):this.dropAsChildNode(t,n,s,null,i,l)}dropAsSiblingNode(e,t,n,i){let s,l=GD(t,"."+CN),r=GD(e,"."+CN),a=GD(r,"."+yN);if(n.target.offsetHeight>0&&n.event.offsetY>n.target.offsetHeight-2?s=!1:n.event.offsetY<2?s=!0:(n.target.classList.contains("e-icon-expandable")||n.target.classList.contains("e-icon-collapsible"))&&(n.event.offsetY<5||n.event.offsetX<3?s=!0:(n.event.offsetY>15||n.event.offsetX>17)&&(s=!1)),n.target.classList.contains("e-icon-expandable")||n.target.classList.contains("e-icon-collapsible")){let t=n.target.closest("li");l.insertBefore(e,s?t:t.nextElementSibling)}else l.insertBefore(e,s?n.target:n.target.nextElementSibling);this.moveData(e,t,l,s,i),this.updateElement(r,a),this.updateAriaLevel(e),i.element.id===this.element.id?this.updateList():(i.updateInstance(),this.updateInstance())}dropAsChildNode(e,t,n,i,s,l,r){let a=GD(e,"."+CN),o=GD(a,"."+yN),h=GD(t,"."+CN);if(s&&l<7&&!r)h.insertBefore(e,t),this.moveData(e,t,h,!0,n);else if(s&&s.target.offsetHeight>0&&l>s.target.offsetHeight-10&&!r)h.insertBefore(e,t.nextElementSibling),this.moveData(e,t,h,!1,n);else{let s=this.expandParent(t),l=s.childNodes[i];s.insertBefore(e,l),this.moveData(e,l,s,!0,n)}this.updateElement(a,o),this.updateAriaLevel(e),n.element.id===this.element.id?this.updateList():(n.updateInstance(),this.updateInstance())}moveData(e,t,n,i,s){let l=GD(n,"."+yN),r=this.getId(e),a=s.updateChildField(s.treeData,s.fields,r,null,null,!0),o=this.getId(t),h=this.getDataPos(this.treeData,this.fields,o),c=this.getId(l);if(1===this.dataType){this.updateField(this.treeData,this.fields,c,"hasChildren",!0);let e=UO(h)?this.treeData.length:i?h:h+1;if(UO(c)&&!this.hasPid)delete a[0][this.fields.parentID];else{let e=this.isNumberTypeId?parseFloat(c):c;BO(this.fields.parentID,e,a[0])}if(this.treeData.splice(e,0,a[0]),s.element.id!==this.element.id){let t=s.removeChildNodes(r);e++;for(let n=0,i=t.length;n<i;n++)this.treeData.splice(e,0,t[n]),e++;s.groupedData=s.getGroupedData(s.treeData,s.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,c,a,i?h:h+1)}expandParent(e){let t=YD("div.e-icons",e);t&&t.classList.contains(vN)&&!0!==this.preventExpand&&this.expandAction(e,t,null);let n=YD("."+CN,e);if(!0===this.preventExpand&&!n&&t&&this.renderChildNodes(e),n=YD("."+CN,e),UO(n)||!0!==this.preventExpand||(n.style.display="none"),UO(n)||!1!==this.preventExpand||(n.style.display="block"),UO(n)&&!0===this.preventExpand){UO(t)&&RM.generateIcon(this.createElement,e,vN,this.listBaseOption);let i=YD("div.e-icons",e);i&&i.classList.add("e-icon-expandable"),n=RM.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(n),i?FD([i],bN):RM.generateIcon(this.createElement,e,vN,this.listBaseOption),e.setAttribute("aria-expanded","false"),n.style.display="none"}if(UO(n)){this.trigger("nodeExpanding",this.getExpandEvent(e,null)),UO(t)&&RM.generateIcon(this.createElement,e,bN,this.listBaseOption);let i=YD("div.e-icons",e);i?FD([i],vN):(RM.generateIcon(this.createElement,e,bN,this.listBaseOption),i=YD("div.e-icons",e),FD([i],vN)),n=RM.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(n),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null))}return n}updateElement(e,t){if(t&&0===e.childElementCount){let n=YD("div.e-icons",t);qD(e),qD(n);let i=this.getId(t);this.updateField(this.treeData,this.fields,i,"hasChildren",!1),this.removeExpand(t,!0)}}updateAriaLevel(e){let t=this.parents(e,"."+CN).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel(YD("."+CN,e),t+1)}updateChildAriaLevel(e,t){if(!UO(e)){let n=e.childNodes;for(let e=0,i=n.length;e<i;e++){let i=n[e];i.setAttribute("aria-level",""+t),this.updateChildAriaLevel(YD("."+CN,i),t+1)}}}renderVirtualEle(e){let t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);let n=this.createElement("div",{className:EN});e.target.insertBefore(n,e.target.children[this.fullRowSelect?t?1:2:t?0:1])}removeVirtualEle(){let e=YD("."+EN);e&&qD(e)}destroyDrag(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())}getDragEvent(e,t,n,i,s,l,r,a){let o=n?GD(n,"."+yN):null,h=o?this.getNodeData(o):null,c=t?t.dragLi:s,d=t?t.dragData:null,u=n?this.parents(n,"."+yN):null,p=t.dragLi.parentElement,m=t.dragLi?GD(p,"."+yN):null,f=null,g=null,b=[ON,"e-drop-in","e-drop-out","e-no-drop"],v=null,y=!0===a?c:o,w=y?GD(y,".e-list-parent"):null,C=0;if(m=t.dragLi&&null===m?GD(p,".e-treeview"):m,m=!0===a?this.dragParent:m,l)for(;C<4;){if(YD(".e-icons",l).classList.contains(b[C])){v=b[C];break}C++}if(w){let t=0;for(C=0;C<w.childElementCount;C++){if(t=!0!==a&&w.children[C]===c&&o!==c?++t:t,!0!==a&&w.children[C].classList.contains("e-hover")){g=e.offsetY>=23?C+1:C;break}if(w.children[C]===y){g=C;break}}g=0!==t?--g:g}if(n&&(f=0===u.length?null:n.classList.contains(yN)?u[0]:u[1]),o===c&&(f=o),n&&i.offsetHeight<=33&&e.offsetY<i.offsetHeight-10&&e.offsetY>6&&(f=o,!0!==a)){r=++r;let e=f?YD(".e-list-parent",f):null;if(g=e?e.children.length:0,!(this.fields.dataSource instanceof vM)&&null===e&&f){let e=f.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,f.getAttribute("data-uid").toString()):null;g=e?e.length:0}}return{cancel:!1,clonedNode:l,event:e,draggedNode:c,draggedNodeData:d,droppedNode:o,droppedNodeData:h,dropIndex:g,dropLevel:r,draggedParentNode:m,dropTarget:f,dropIndicator:v,target:i}}addFullRow(e){let t=this.liList.length;if(e)for(let n=0;n<t;n++)this.createFullRow(this.liList[n]);else for(let n=0;n<t;n++)qD(YD(".e-fullrow",this.liList[n]))}createFullRow(e){let t=this.createElement("div",{className:"e-fullrow"});e.insertBefore(t,e.childNodes[0])}addMultiSelect(e){if(e){let e=$D('.e-list-item:not([aria-selected="true"])',this.element);for(let t of e)t.setAttribute("aria-selected","false")}else{let e=$D('.e-list-item[aria-selected="false"]',this.element);for(let t of e)t.removeAttribute("aria-selected")}}collapseByLevel(e,t,n){if(t>0&&!UO(e)){let i=this.getVisibleNodes(n,e.childNodes);for(let e=0,s=i.length;e<s;e++){let s=i[e],l=YD("."+bN,YD("."+kN,s));UO(l)||this.collapseNode(s,l,null),this.collapseByLevel(YD("."+CN,s),t-1,n)}}}collapseAllNodes(e){let t=this.getVisibleNodes(e,$D("."+bN,this.element));for(let n=0,i=t.length;n<i;n++){let e=t[n],i=GD(e,"."+yN);this.collapseNode(i,e,null)}}expandByLevel(e,t,n){if(t>0&&!UO(e)){let i=this.getVisibleNodes(n,e.childNodes);for(let e=0,s=i.length;e<s;e++){let s=i[e],l=YD("."+vN,YD("."+kN,s));UO(l)||this.expandAction(s,l,null),this.expandByLevel(YD("."+CN,s),t-1,n)}}}expandAllNodes(e){let t=this.getVisibleNodes(e,$D("."+vN,this.element));for(let n=0,i=t.length;n<i;n++){let e=t[n],i=GD(e,"."+yN);this.expandAction(i,e,null,!0)}}getVisibleNodes(e,t){let n=Array.prototype.slice.call(t);if(e)for(let i=0;i<n.length;i++)BD(n[i])||(n.splice(i,1),i--);return n}removeNode(e){let t=GD(e,"."+CN),n=GD(t,"."+yN);qD(e),this.updateElement(t,n),this.updateInstance(),this.removeData(e)}updateInstance(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes(),this.allowServerDataBinding=!1,this.updateServerProperties("expand"),this.updateServerProperties("check"),this.updateServerProperties("select"),this.allowServerDataBinding=!0}updateServerProperties(e){this.isBlazorPlatform&&("expand"==e?(this.isBlazorExpandedNodes=this.expandedNodes,this.setProperties({expandedNodes:[]},!0)):this.setProperties("check"==e?{checkedNodes:this.checkedNodes}:{selectedNodes:this.selectedNodes},!0))}updateList(){this.liList=Array.prototype.slice.call($D("."+yN,this.element))}updateSelectedNodes(){if(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender){this.setProperties({selectedNodes:[]},!0);let e=$D(".e-active",this.element);this.selectGivenNodes(e)}else if(this.isBlazorPlatform&&this.initialRender){let e=$D(".e-active",this.element);for(let t=0;t<e.length;t++){let n=e[t].getAttribute("data-uid").toString();UO(n)||-1!==this.selectedNodes.indexOf(n)||this.selectedNodes.push(n)}}}updateExpandedNodes(){if(!this.isBlazorPlatform||this.isBlazorPlatform&&!this.initialRender){this.setProperties({expandedNodes:[]},!0);let e=$D('[aria-expanded="true"]',this.element);for(let t=0,n=e.length;t<n;t++)this.addExpand(e[t])}else if(this.isBlazorPlatform&&this.initialRender){let e=$D('[aria-expanded="true"]',this.element);for(let t=0;t<e.length;t++){let n=e[t].getAttribute("data-uid").toString();UO(n)||-1!==this.expandedNodes.indexOf(n)||this.expandedNodes.push(n)}}}removeData(e){if(1===this.dataType){let t=new vM(this.treeData),n=this.getId(e),i={},s=this.isNumberTypeId?parseFloat(n):n;i[this.fields.id]=s,t.remove(this.fields.id,i),this.removeChildNodes(n)}else{let t=this.getId(e);this.updateChildField(this.treeData,this.fields,t,null,null,!0)}}removeChildNodes(e){let t=this.getChildGroup(this.groupedData,e,!1),n=[];if(t)for(let i=0,s=t.length;i<s;i++){let e=new vM(this.treeData),s=HO(this.fields.id,t[i]).toString(),l={},r=this.isNumberTypeId?parseFloat(s):s;l[this.fields.id]=r;let a=e.remove(this.fields.id,l);n.push(a[0]),this.removeChildNodes(s)}return n}doGivenAction(e,t,n){for(let i=0,s=e.length;i<s;i++){let s=this.getElement(e[i]);if(UO(s))continue;let l=YD("."+t,YD("."+kN,s));UO(l)||(n?this.expandAction(s,l,null):this.collapseNode(s,l,null))}}addGivenNodes(e,t,n,i,s){if(0===e.length)return;let l=this.getSortedData(e),r=t?parseFloat(t.getAttribute("aria-level"))+1:1;i&&this.updateMapper(r);let a,o=RM.createListItemFromJson(this.createElement,l,this.listBaseOption,r);a=s||(t?this.expandParent(t):YD("."+CN,this.element));let h=a.childNodes[n];for(let d=0;d<o.length;d++)a.insertBefore(o[d],h);this.nodeTemplate&&this.isBlazorPlatform&&!this.isStringTemplate&&this.updateBlazorTemplate();let c=this.getId(t);if(1===this.dataType){this.updateField(this.treeData,this.fields,c,"hasChildren",!0);let t=this.getId(h),n=UO(t)?this.treeData.length:this.getDataPos(this.treeData,this.fields,t);for(let i=0;i<e.length;i++){if(!UO(c)){let t=this.isNumberTypeId?parseFloat(c):c;BO(this.fields.parentID,t,e[i])}this.treeData.splice(n,0,e[i]),n++}}else this.addChildData(this.treeData,this.fields,c,e,n);this.finalizeNode(a)}updateMapper(e){let t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)}updateListProp(e){let t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"}getDataPos(e,t,n){let i=null;for(let s=0,l=e.length;s<l;s++){let l=HO(t.id,e[s]);if(e[s]&&l&&l.toString()===n)return s;if("string"!=typeof t.child||UO(HO(t.child,e[s]))){if(this.fields.dataSource instanceof vM&&!UO(HO("child",e[s]))){let l=HO("child",e[s]);if(i=this.getDataPos(l,this.getChildMapper(t),n),null!==i)break}}else{let l=HO(t.child,e[s]);if(i=this.getDataPos(l,this.getChildMapper(t),n),null!==i)break}}return i}addChildData(e,t,n,i,s){let l;if(UO(n)){s=UO(s)?e.length:s;for(let t=0,n=i.length;t<n;t++)e.splice(s,0,i[t]),s++;return l}for(let r=0,a=e.length;r<a;r++){let a=HO(t.id,e[r]);if(e[r]&&a&&a.toString()===n){if("string"==typeof t.child&&e[r].hasOwnProperty(t.child)||this.fields.dataSource instanceof vM&&e[r].hasOwnProperty("child")){let n=HO("string"==typeof t.child?t.child:"child",e[r]);UO(n)&&(n=[]),s=UO(s)?n.length:s;for(let e=0,t=i.length;e<t;e++)n.splice(s,0,i[e]),s++}else e[r]["string"==typeof t.child?t.child:"child"]=i;return!0}if("string"!=typeof t.child||UO(HO(t.child,e[r]))){if(this.fields.dataSource instanceof vM&&!UO(HO("child",e[r]))){let a=HO("child",e[r]);if(l=this.addChildData(a,this.getChildMapper(t),n,i,s),void 0!==l)break}}else{let a=HO(t.child,e[r]);if(l=this.addChildData(a,this.getChildMapper(t),n,i,s),void 0!==l)break}}return l}doDisableAction(e){let t=this.nodeType(e),n=this.checkValidId(t);this.validArr=[];for(let i=0,s=n.length;i<s;i++){let e=n[i][this.fields.id].toString();e&&-1===this.disableNode.indexOf(e)&&this.disableNode.push(e);let t=this.getElement(e);t&&(t.setAttribute("aria-disabled","true"),RD([t],"e-disable"))}}doEnableAction(e){let t=this.nodeType(e);for(let n=0,i=t.length;n<i;n++){let e=this.getElement(t[n]),i=t[n];i&&-1!==this.disableNode.indexOf(i)&&this.disableNode.splice(this.disableNode.indexOf(i),1),e&&(e.removeAttribute("aria-disabled"),FD([e],"e-disable"))}}nodeType(e){let t=[];for(let n=0,i=e.length;n<i;n++){let i;"string"==typeof e[n]?i=e[n]?e[n].toString():null:"object"==typeof e[n]&&(i=e[n]?e[n].getAttribute("data-uid").toString():null),-1==t.indexOf(i)&&t.push(i)}return t}checkValidId(e){if(1===this.dataType)this.validArr=this.treeData.filter(t=>-1!==e.indexOf(t[this.fields.id]?t[this.fields.id].toString():null));else if(2===this.dataType)for(let t=0;t<this.treeData.length;t++){let n=this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():null;-1!==e.indexOf(n)&&this.validArr.push(this.treeData[t]);let i=HO(this.fields.child.toString(),this.treeData[t]);i&&this.filterNestedChild(i,e)}return this.validArr}filterNestedChild(e,t){for(let n=0;n<e.length;n++){let i=e[n][this.fields.id]?e[n][this.fields.id].toString():null;-1!==t.indexOf(i)&&this.validArr.push(e[n]);let s=HO(this.fields.child.toString(),e[n]);s&&this.filterNestedChild(s,t)}}setTouchClass(){let e=GD(this.element,".e-bigger");this.touchClass=UO(e)?"":"e-small"}updatePersistProp(){this.removeField(this.treeData,this.fields,["selected","expanded"]);let e=this.selectedNodes;for(let n=0,i=e.length;n<i;n++)this.updateField(this.treeData,this.fields,e[n],"selected",!0);let t=this.expandedNodes;this.isBlazorPlatform&&(t=this.isBlazorExpandedNodes);for(let n=0,i=t.length;n<i;n++)this.updateField(this.treeData,this.fields,t[n],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);let e=this.checkedNodes;for(let t=0,n=e.length;t<n;t++)this.updateField(this.treeData,this.fields,e[t],"isChecked",!0)}}removeField(e,t,n){if(!UO(e)&&!UO(t))for(let i=0,s=e.length;i<s;i++){for(let s=0;s<n.length;s++){let l=this.getMapperProp(t,n[s]);UO(e[i][l])||delete e[i][l]}"string"!=typeof t.child||UO(HO(t.child,e[i]))?this.fields.dataSource instanceof vM&&!UO(HO("child",e[i]))&&this.removeField(HO("child",e[i]),this.getChildMapper(t),n):this.removeField(HO(t.child,e[i]),this.getChildMapper(t),n)}}getMapperProp(e,t){switch(t){case"selected":return UO(e.selected)?"selected":e.selected;case"expanded":return UO(e.expanded)?"expanded":e.expanded;case"isChecked":return UO(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return UO(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}}updateField(e,t,n,i,s){if(!UO(n))if(1===this.dataType){let e=this.isNumberTypeId?parseFloat(n):n,l=new vM(this.treeData).executeLocal((new hM).where(t.id,"equal",e,!1));BO(this.getMapperProp(t,i),s,l[0])}else this.updateChildField(e,t,n,i,s)}updateChildField(e,t,n,i,s,l){let r;if(UO(e))return r;for(let a=0,o=e.length;a<o;a++){let o=HO(t.id,e[a]);if(e[a]&&o&&o.toString()===n)return l?r=e.splice(a,1):(BO(this.getMapperProp(t,i),s,e[a]),r=[]),r;if("string"!=typeof t.child||UO(HO(t.child,e[a]))){if(this.fields.dataSource instanceof vM&&!UO(HO("child",e[a]))){let o=HO("child",e[a]);if(r=this.updateChildField(o,this.getChildMapper(t),n,i,s,l),void 0!==r)break}}else{let o=HO(t.child,e[a]);if(r=this.updateChildField(o,this.getChildMapper(t),n,i,s,l),void 0!==r)break}}return r}triggerEvent(){this.updateTemplateForBlazor(),this.trigger("dataSourceChanged",{data:this.treeData})}updateBlazorTemplate(){}clientUpdateInitial(){this.blazorInitialRender=!0}wireInputEvents(e){zI.add(e,"blur",this.inputFocusOut,this)}wireEditingEvents(e){if(e&&!this.disabled){let e=this;this.touchEditObj=new XA(this.element,{tap:t=>{2===t.tapCount&&(t.originalEvent.preventDefault(),e.editingHandler(t.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()}wireClickEvent(e){if(e){let e=this;this.touchClickObj=new XA(this.element,{tap:t=>{e.clickHandler(t)}})}else this.touchClickObj&&this.touchClickObj.destroy()}wireExpandOnEvent(e){if(e){let e=this;this.touchExpandObj=new XA(this.element,{tap:t=>{("Click"===this.expandOnType||"DblClick"===this.expandOnType&&2===t.tapCount)&&3!==t.originalEvent.which&&e.expandHandler(t)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()}mouseDownHandler(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&zI.add(this.element,"contextmenu",this.preventContextMenu,this)}preventContextMenu(e){e.preventDefault()}wireEvents(){zI.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),zI.add(this.element,"focus",this.focusIn,this),zI.add(this.element,"blur",this.focusOut,this),zI.add(this.element,"mouseover",this.onMouseOver,this),zI.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new UA(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}unWireEvents(){zI.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),zI.remove(this.element,"focus",this.focusIn),zI.remove(this.element,"blur",this.focusOut),zI.remove(this.element,"mouseover",this.onMouseOver),zI.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()}parents(e,t){let n=[],i=e.parentNode;for(;!UO(i);)ZD(i,t)&&n.push(i),i=i.parentNode;return n}isDescendant(e,t){let n=t.parentNode;for(;!UO(n);){if(n===e)return!0;n=n.parentNode}return!1}showSpinner(e){RD([e],_N),OP({target:e,width:jI.isDevice?16:14},this.createElement),HP(e)}hideSpinner(e){VP(e),e.innerHTML="",FD([e],_N)}setCheckedNodes(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)}setValidCheckedNode(e){if(1===this.dataType){let t=this.fields,n=new vM(this.treeData).executeLocal((new hM).where(t.id,"equal",e,!0));if(n[0]&&(this.setChildCheckState(n,e,n[0]),this.autoCheck)){let e=n[0][this.fields.parentID]?n[0][this.fields.parentID].toString():null,t=this.getChildNodes(this.treeData,e),i=0;for(let n=0;n<t.length;n++){let e=t[n][this.fields.id].toString();-1!==this.checkedNodes.indexOf(e)&&i++}i===t.length&&-1===this.checkedNodes.indexOf(e)&&e&&this.checkedNodes.push(e)}}else if(2===this.dataType)for(let t=0;t<this.treeData.length;t++){if((this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():"")===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}let n=HO(this.fields.child.toString(),this.treeData[t]);n&&this.setChildCheckState(n,e,this.treeData[t])}}setChildCheckState(e,t,n){let i,s=0;if(1===this.dataType){n&&(i=n[this.fields.id]?n[this.fields.id].toString():null);for(let s=0;s<e.length;s++){let l=e[s][this.fields.id]?e[s][this.fields.id].toString():null;n&&i&&this.autoCheck&&-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),l===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);let r=this.getChildNodes(this.treeData,l);r&&this.setChildCheckState(r,t,n)}}else{n&&(i=n[this.fields.id]?n[this.fields.id].toString():"");for(let l=0;l<e.length;l++){let r=e[l][this.fields.id]?e[l][this.fields.id].toString():"";n&&i&&this.autoCheck&&-1!==this.checkedNodes.indexOf(i)&&-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r),r===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);let a=HO(this.fields.child.toString(),e[l]);a&&this.setChildCheckState(a,t,e[l]),-1!==this.checkedNodes.indexOf(r)&&this.autoCheck&&s++,s===e.length&&-1===this.checkedNodes.indexOf(i)&&this.autoCheck&&this.checkedNodes.push(i)}}}setIndeterminate(e){for(let t=0;t<e.length;t++)this.setValidCheckedNode(e[t])}updatePosition(e,t,n,i){if(1===this.dataType){let s=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(s,1,t),n){this.removeChildNodes(e);for(let e=0;e<i.length;e++)this.treeData.splice(s,0,i[e]),s++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)}updateChildPosition(e,t,n,i,s){let l;for(let r=0,a=e.length;r<a;r++){let a=HO(t.id,e[r]);if(e[r]&&a&&a.toString()===n)return e[r]=i[0],!0;if("string"!=typeof t.child||UO(HO(t.child,e[r]))){if(this.fields.dataSource instanceof vM&&!UO(HO("child",e[r]))){let a=HO("child",e[r]);if(l=this.updateChildPosition(a,this.getChildMapper(t),n,i,s),void 0!==l)break}}else{let a=HO(t.child,e[r]);if(l=this.updateChildPosition(a,this.getChildMapper(t),n,i,s),void 0!==l)break}}return l}dynamicState(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())}crudOperation(e,t,n,i,s,l,r){let a,o=this.fields.dataSource,h=[],c=this.getQuery(this.fields),d=this.fields.id,u={addedRecords:[],deletedRecords:[],changedRecords:[]},p=[];t?p=this.nodeType(t):n&&("string"==typeof n?p[0]=n.toString():"object"==typeof n&&(p[0]=n.getAttribute("data-uid").toString()));for(let m=0,f=p.length;m<f;m++){if(UO(this.getElement(p[m])))continue;let e=this.getNodeObject(p[m]);h.push(e)}switch(e){case"delete":1==t.length?a=o.remove(d,h[0],c.fromTable,c):(u.deletedRecords=h,a=o.saveChanges(u,d,c.fromTable,c)),a.then(e=>this.deleteSuccess(p)).catch(e=>this.dmFailure(e));break;case"update":h[0][this.fields.text]=i,a=o.update(d,h[0],c.fromTable,c),a.then(e=>this.editSucess(n,i,r)).catch(e=>this.dmFailure(e,n,r));break;case"insert":if(1==s.length)a=o.insert(s[0],c.fromTable,c);else{let e=[];for(let t=0,n=s.length;t<n;t++)e.push(s[t]);u.addedRecords=e,a=o.saveChanges(u,d,c.fromTable,c)}a.then(e=>{let t=this.getElement(n);this.addSuccess(s,t,l),this.preventExpand=!1}).catch(e=>this.dmFailure(e))}}deleteSuccess(e){for(let t=0,n=e.length;t<n;t++){let n=this.getElement(e[t]);UO(n)||this.removeNode(n)}1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent()}editSucess(e,t,n){let i=this.getElement(e),s=YD("."+wN,i);this.appendNewText(i,s,t,n)}addSuccess(e,t,n){let i,s=t?t.querySelector(".e-icons"):null,l=this;t&&s&&s.classList.contains(vN)&&null===t.querySelector("."+CN)?l.renderChildNodes(t,null,()=>{i=t.querySelector("."+CN),l.addGivenNodes(e,t,n,!0,i),l.triggerEvent()}):(this.addGivenNodes(e,t,n,!0),this.triggerEvent())}dmFailure(e,t,n){t&&this.updatePreviousText(t,n),this.trigger("actionFailure",{error:e})}updatePreviousText(e,t){let n=this.getElement(e),i=YD("."+wN,n);this.updateText(n,i,this.oldText,t)}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){let e=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(e,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.isBlazorPlatform||this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.isBlazorPlatform||this.setProperties({expandedNodes:UO(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"===this.expandOnType||this.disabled||this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.blazorInitialRender||this.reRenderNodes(),this.blazorInitialRender=!1,this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect);break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){let e=this.element.querySelectorAll("li"),t=0;for(;t<e.length;)"true"!==e[t].getAttribute("aria-expanded")&&this.renderChildNodes(e[t],!0,null,!0),t++;this.onLoaded=!0}break;case"nodeTemplate":this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}}destroy(){gD(this.element.id+"nodeTemplate"),this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.isBlazorPlatform&&(this.ulElement=this.element.querySelector(".e-list-parent.e-ul")),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.isBlazorPlatform||super.destroy()}addNodes(e,t,n,i){if(UO(e))return;e=JSON.parse(JSON.stringify(e));let s=this.getElement(t);if(this.preventExpand=i,this.fields.dataSource instanceof vM&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName)this.fields.dataSource.dataSource.offline?this.addSuccess(e,s,n):this.crudOperation("insert",null,t,null,e,n,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,s,n);else{if(s)this.addGivenNodes(e,s,n);else{e=this.getSortedData(e);for(let t=0;t<e.length;t++){let i=HO(this.fields.parentID,e[t]);s=i?this.getElement(i.toString()):i,this.addGivenNodes([e[t]],s,n)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.showCheckBox&&s&&this.ensureParentCheckState(s),(this.fields.dataSource instanceof vM==0||this.fields.dataSource instanceof vM&&"BlazorAdaptor"===this.fields.dataSource.adaptorName)&&(this.preventExpand=!1,this.triggerEvent())}beginEdit(e){let t=this.getElement(e);UO(t)||this.disabled||this.createTextbox(t,null)}checkAll(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)}collapseAll(e,t,n){UO(e)?t>0?this.collapseByLevel(YD("."+CN,this.element),t,n):this.collapseAllNodes(n):this.doGivenAction(e,bN,!1)}disableNodes(e){UO(e)||this.doDisableAction(e)}enableNodes(e){UO(e)||this.doEnableAction(e)}ensureVisible(e){let t=this.getElement(e);if(UO(t))return;let n=this.parents(t,"."+yN);this.expandAll(n),setTimeout(()=>{t.scrollIntoView(!0)},450)}expandAll(e,t,n){UO(e)?t>0?this.expandByLevel(YD("."+CN,this.element),t,n):this.expandAllNodes(n):this.doGivenAction(e,vN,!0)}getAllCheckedNodes(){return this.checkedNodes}getDisabledNodes(){return this.disableNode}getNode(e){let t=this.getElement(e);return this.getNodeData(t,!0)}getTreeData(e){let t=this.getId(e);if(this.updatePersistProp(),UO(t))return this.treeData;{let e=this.getNodeObject(t);return UO(e)?[]:[e]}}moveNodes(e,t,n,i){let s=this.getElement(t);if(!UO(s)){for(let t=0;t<e.length;t++){let l=this.getElement(e[t]);UO(l)||s.isSameNode(l)||this.isDescendant(l,s)||(this.preventExpand=i,this.dropAsChildNode(l,s,this,n))}this.fields.dataSource instanceof vM==0&&(this.preventExpand=!1),this.triggerEvent()}}refreshNode(e,t){if(UO(e)||UO(t))return;let n,i=!1;1==this.dataType&&t.length>1?i=!0:2==this.dataType&&1===t.length&&(UO(HO(this.fields.child.toString(),t[0]))||(i=!0));let s,l,r=this.getElement(e);if(n=r?r.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(n),t=JSON.parse(JSON.stringify(t)),1==this.dataType&&i){for(let e=0;e<t.length;e++)if(UO(t[e][this.fields.parentID])){l=t[e],t.splice(e,1);break}s=qO({},this.refreshData,l)}else s=qO({},this.refreshData,t[0]);if(UO(r))return void this.updatePosition(n,s,i,t);this.isRefreshed=!0;let a=parseFloat(r.getAttribute("aria-level")),o=RM.createListItemFromJson(this.createElement,[s],this.listBaseOption,a),h=YD("."+CN,r),c=HO(this.fields.child.toString(),s);if(i&&h||i&&!UO(c))r.innerHTML=o[0].innerHTML,this.updatePosition(n,s,i,t),i&&h&&this.expandAll([n]);else{let e=YD("."+kN,r),l=YD("."+kN,o[0]),a=YD("div.e-icons",e),h=YD("div.e-icons",l);a&&h&&(h.classList.contains(vN)&&a.classList.contains(bN)?(FD([h],vN),RD([h],bN)):h.classList.contains(bN)&&a.classList.contains(vN)?(FD([h],bN),RD([h],vN)):a.classList.contains("interaction")&&RD([h],"interaction")),e.innerHTML=l.innerHTML,this.updatePosition(n,s,i,t)}if(s[this.fields.tooltip]&&r.setAttribute("title",s[this.fields.tooltip]),s.hasOwnProperty(this.fields.htmlAttributes)&&s[this.fields.htmlAttributes]){let e={};zO(e,s[this.fields.htmlAttributes]),e.class?(RD([r],e.class.split(" ")),delete e.class):WD(r,e)}this.isRefreshed=!1,this.triggerEvent()}removeNodes(e){UO(e)||(this.fields.dataSource instanceof vM&&!this.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("delete",e):this.deleteSuccess(e))}updateNode(e,t){if(UO(e)||UO(t)||!this.allowEditing)return;let n=this.getElement(e);if(UO(n))return;let i=YD("."+wN,n);this.updateOldText(n);let s=this.getEditEvent(n,null,null);this.trigger("nodeEditing",s,s=>{s.cancel||(this.fields.dataSource instanceof vM&&!this.fields.dataSource.dataSource.offline&&"BlazorAdaptor"!==this.fields.dataSource.adaptorName?this.crudOperation("update",null,e,t,null,null,!1):this.appendNewText(n,i,t,!1))})}uncheckAll(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)}};return gN([dA(!1)],e.prototype,"allowDragAndDrop",void 0),gN([dA(!1)],e.prototype,"allowEditing",void 0),gN([dA(!1)],e.prototype,"allowMultiSelection",void 0),gN([uA({},PN)],e.prototype,"animation",void 0),gN([dA()],e.prototype,"checkedNodes",void 0),gN([dA("")],e.prototype,"cssClass",void 0),gN([dA(!1)],e.prototype,"disabled",void 0),gN([dA(null)],e.prototype,"dragArea",void 0),gN([dA(!1)],e.prototype,"enableHtmlSanitizer",void 0),gN([dA(!1)],e.prototype,"enablePersistence",void 0),gN([dA()],e.prototype,"expandedNodes",void 0),gN([dA("Auto")],e.prototype,"expandOn",void 0),gN([uA({},MN)],e.prototype,"fields",void 0),gN([dA(!0)],e.prototype,"fullRowSelect",void 0),gN([dA(!0)],e.prototype,"loadOnDemand",void 0),gN([dA()],e.prototype,"locale",void 0),gN([dA()],e.prototype,"nodeTemplate",void 0),gN([dA()],e.prototype,"selectedNodes",void 0),gN([dA("None")],e.prototype,"sortOrder",void 0),gN([dA(!1)],e.prototype,"showCheckBox",void 0),gN([dA(!0)],e.prototype,"autoCheck",void 0),gN([dA(!1)],e.prototype,"fullRowNavigable",void 0),gN([mA()],e.prototype,"actionFailure",void 0),gN([mA()],e.prototype,"created",void 0),gN([mA()],e.prototype,"dataBound",void 0),gN([mA()],e.prototype,"dataSourceChanged",void 0),gN([mA()],e.prototype,"drawNode",void 0),gN([mA()],e.prototype,"destroyed",void 0),gN([mA()],e.prototype,"keyPress",void 0),gN([mA()],e.prototype,"nodeChecked",void 0),gN([mA()],e.prototype,"nodeChecking",void 0),gN([mA()],e.prototype,"nodeClicked",void 0),gN([mA()],e.prototype,"nodeCollapsed",void 0),gN([mA()],e.prototype,"nodeCollapsing",void 0),gN([mA()],e.prototype,"nodeDragging",void 0),gN([mA()],e.prototype,"nodeDragStart",void 0),gN([mA()],e.prototype,"nodeDragStop",void 0),gN([mA()],e.prototype,"nodeDropped",void 0),gN([mA()],e.prototype,"nodeEdited",void 0),gN([mA()],e.prototype,"nodeEditing",void 0),gN([mA()],e.prototype,"nodeExpanded",void 0),gN([mA()],e.prototype,"nodeExpanding",void 0),gN([mA()],e.prototype,"nodeSelected",void 0),gN([mA()],e.prototype,"nodeSelecting",void 0),e=fN=gN([fA],e),e})(),NN="",RN="",FN=[],HN="";function BN(e,t,n,i){let s=t;i=null==i||i;let l={item:null,index:null};if(e&&e.length){let t=e.length,r=i?e.toLocaleLowerCase():e;for(let e=0,a=s;e<a.length;e++){let s=a[e],o=(i?s.textContent.toLocaleLowerCase():s.textContent).replace(/^\s+|\s+$/g,"");if("Equal"===n&&o===r||"StartsWith"===n&&o.substr(0,t)===r)return l.item=s,l.index=e,{item:s,index:e}}return l}return l}function VN(e,t,n,i,s){if(""!==t){let l=n?"gim":"gm";t=/^[a-zA-Z0-9- ]*$/.test(t)?t:t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),function e(t,n,i){for(let s=0;t.childNodes&&s<t.childNodes.length;s++){if(3===t.childNodes[s].nodeType&&""!==t.childNodes[s].textContent.trim()){(t=i&&t.classList.contains("e-highlight")?t.parentElement:t).innerHTML=i&&t.getAttribute("data-value")?t.getAttribute("data-value").replace(n,'<span class="e-highlight">$1</span>'):t.innerHTML.replace(n,'<span class="e-highlight">$1</span>');break}e(t.childNodes[s],n,i)}}(e,new RegExp("StartsWith"===i?"^("+t+")":"EndsWith"===i?"("+t+")$":"("+t+")",l),s)}}function jN(e){let t=e.querySelectorAll(".e-highlight");for(let n=t.length-1;n>=0;n--){let e=t[n].parentNode,i=document.createTextNode(t[n].textContent);e.replaceChild(i,t[n])}}var zN=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let qN=(()=>{class e extends OA{}return zN([dA()],e.prototype,"text",void 0),zN([dA()],e.prototype,"value",void 0),zN([dA()],e.prototype,"iconCss",void 0),zN([dA()],e.prototype,"groupBy",void 0),zN([dA()],e.prototype,"htmlAttributes",void 0),e})(),UN=(()=>{let e=class extends TA{constructor(e,t){super(e,t)}getPropObject(e,t,n){let i=new Object,s=new Object;i[e]=t[e],s[e]=n[e];let l=new Object;return l.newProperty=i,l.oldProperty=s,l}getValueByText(e,t,n){let i=null;return UO(this.listData)||(i=this.checkValueCase(e,!!t,n)),i}checkValueCase(e,t,n,i){let s=null;i&&(s=e);let l=this.listData,r=this.fields,a=this.typeOfData(l).typeof;if("string"===a||"number"===a||"boolean"===a)for(let o of l)UO(o)||(n?s=this.checkingAccent(String(o),e,t):t?this.checkIgnoreCase(String(o),e)&&(s=this.getItemValue(String(o),e,t)):this.checkNonIgnoreCase(String(o),e)&&(s=this.getItemValue(String(o),e,t,i)));else l.filter(t?t=>{!UO(HO(r.value,t))&&this.checkIgnoreCase(HO(r.text,t).toString(),e)&&(s=HO(r.value,t))}:i?e=>{let t=HO(r.value,e);UO(t)||UO(s)||t.toString()!==s.toString()||(s=HO(r.text,e))}:t=>{this.checkNonIgnoreCase(HO(r.text,t),e)&&(s=HO(r.value,t))});return s}checkingAccent(e,t,n){let i=dM.ignoreDiacritics(String(e)),s=dM.ignoreDiacritics(t.toString()),l=null;return n?this.checkIgnoreCase(i,s)&&(l=this.getItemValue(String(e),t,n)):this.checkNonIgnoreCase(String(e),t)&&(l=this.getItemValue(String(e),t,n)),l}checkIgnoreCase(e,t){return String(e).toLowerCase()===t.toString().toLowerCase()}checkNonIgnoreCase(e,t){return String(e)===t.toString()}getItemValue(e,t,n,i){let s=null,l=this.typeOfData(this.listData).typeof;return s=i?e.toString():n?"string"===l?String(e):this.getFormattedValue(String(e)):"string"===l?t:this.getFormattedValue(t),s}templateCompiler(e){let t=!1;if(e)try{t=!!document.querySelectorAll(e).length}catch(n){t=!1}return t}l10nUpdate(e){let t="listbox"===this.getModuleName()?this.ulElement:this.list;if("No records found"!==this.noRecordsTemplate||"Request failed"!==this.actionFailureTemplate){this.DropDownBaseresetBlazorTemplates(!1,!1,!0,!0);let n,i=e?this.actionFailureTemplate:this.noRecordsTemplate,s=e?this.actionFailureTemplateId:this.noRecordsTemplateId;t.innerHTML="",n=fD(this.templateCompiler(i)?document.querySelector(i).innerHTML.trim():i);for(let e of n({},null,null,s,this.isStringTemplate))t.appendChild(e);this.DropDownBaseupdateBlazorTemplates(!1,!1,!e,e,!1,!1,!1,!1)}else{let n={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},i=new WA(this.getLocaleName(),{},this.locale);this.l10n=""!==i.getConstant("actionFailureTemplate")?i:new WA("listbox"===this.getModuleName()?"listbox":"dropdowns",n,this.locale);let s=this.l10n.getConstant(e?"actionFailureTemplate":"noRecordsTemplate");if("listbox"===this.getModuleName()){let e=this.createElement("li");e.textContent=s,t.appendChild(e),e.classList.add("e-list-nrt")}else t.innerHTML=s}}getLocaleName(){return"drop-down-base"}getTextByValue(e){let t;return t=this.checkValueCase(e,!1,!1,!0),t}getFormattedValue(e){if(this.listData&&this.listData.length){let t=this.typeOfData(this.listData);if("null"===e)return null;if("number"==typeof HO(this.fields.value?this.fields.value:"value",t.item)||"number"===t.typeof)return parseFloat(e);if("boolean"==typeof HO(this.fields.value?this.fields.value:"value",t.item)||"boolean"===t.typeof)return"true"===e}return e}setEnableRtl(){this.list&&this.enableRtlElements.push(this.list),this.enableRtl?RD(this.enableRtlElements,"e-rtl"):FD(this.enableRtlElements,"e-rtl")}initialize(){if(this.bindEvent=!0,this.actionFailureTemplateId=`${this.element.id}ActionFailureTemplate`,"UL"===this.element.tagName){let e=RM.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(e,this.fields)}else"SELECT"===this.element.tagName?(this.dataSource instanceof Array?this.dataSource.length>0:!UO(this.dataSource))||this.renderItemsBySelect():this.setListData(this.dataSource,this.fields,this.query)}DropDownBaseupdateBlazorTemplates(e,t,n,i,s,l,r,a){}DropDownBaseresetBlazorTemplates(e,t,n,i,s,l,r){this.isStringTemplate||(this.itemTemplate&&e&&gD(this.itemTemplateId),this.groupTemplate&&t&&gD(this.groupTemplateId),this.noRecordsTemplate&&n&&gD(this.noRecordsTemplateId),this.actionFailureTemplate&&i&&gD(this.actionFailureTemplateId),s&&gD(this.valueTemplateId),l&&gD(this.headerTemplateId),r&&gD(this.footerTemplateId))}getPersistData(){return this.addOnPersist([])}setEnabled(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")}updateDataAttribute(e){let t=["class","style","id","type"],n={};for(let i=0;i<this.element.attributes.length;i++)-1!==t.indexOf(this.element.attributes[i].name)||"dropdownlist"===this.getModuleName()&&"readonly"===this.element.attributes[i].name||(n[this.element.attributes[i].name]=this.element.getAttribute(this.element.attributes[i].name));qO(n,e,n),this.setProperties({htmlAttributes:n},!0)}renderItemsBySelect(){let e=this.element,t={value:"value",text:"text"},n=[],i=e.querySelectorAll("select>optgroup"),s=e.querySelectorAll("select>option");if(this.getJSONfromOption(n,s,t),i.length){for(let e=0;e<i.length;e++){let s=i[e],l={};l[t.text]=s.label,l.isHeader=!0;let r=s.querySelectorAll("option");n.push(l),this.getJSONfromOption(n,r,t)}e.querySelectorAll("select>option")}this.fields.text=t.text,this.fields.value=t.value,this.resetList(n,t)}getJSONfromOption(e,t,n){for(let i of t){let t={};t[n.text]=i.innerText,t[n.value]=i.getAttribute(n.value)?i.getAttribute(n.value):i.innerText,e.push(t)}}preRender(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId=`${this.element.id}ItemTemplate`,this.valueTemplateId=`${this.element.id}ValueTemplate`,this.groupTemplateId=`${this.element.id}GroupTemplate`,this.headerTemplateId=`${this.element.id}HeaderTemplate`,this.footerTemplateId=`${this.element.id}FooterTemplate`,this.noRecordsTemplateId=`${this.element.id}NoRecordsTemplate`}setListData(e,t,n){let i;t=t||this.fields,this.isActive=!0,this.trigger("actionBegin",{cancel:!1,data:e,query:n},n=>{if(!n.cancel)if(this.showSpinner(),e instanceof vM){if(this.isRequested=!0,this.isDataFetched)return void this.emptyDataRequest(t);n.data.executeQuery(this.getQuery(n.query)).then(e=>{this.trigger("actionComplete",e,e=>{if(!e.cancel){let n=e.result;0===n.length&&(this.isDataFetched=!0),i=this.renderItems(n,t),this.onActionComplete(i,n,e),this.groupTemplate&&this.renderGroupTemplate(i),this.isRequested=!1,this.bindChildItems(n,i,t,e)}})}).catch(e=>{this.isRequested=!1,this.onActionFailure(e),this.hideSpinner()})}else{let e=new vM(n.data),s=this.getQuery(n.query).executeLocal(e);this.trigger("actionComplete",{cancel:!1,result:s},e=>{e.cancel||(i=this.renderItems(e.result,t),this.onActionComplete(i,e.result),this.groupTemplate&&this.renderGroupTemplate(i),this.bindChildItems(e.result,i,t))})}})}bindChildItems(e,t,n,i){e.length>=100&&"autocomplete"===this.getModuleName()?setTimeout(()=>{jD(this.remainingItems(this.sortedData,n),t),this.DropDownBaseupdateBlazorTemplates(!0,!1,!1,!1),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.updateListValues(),this.raiseDataBound(e,i)},0):this.raiseDataBound(e,i)}updateListValues(){}findListElement(e,t,n,i){let s=null;if(e){let l=[].slice.call(e.querySelectorAll(t));for(let e=0;e<l.length;e++)if(l[e].getAttribute(n)===i+""){s=l[e];break}}return s}raiseDataBound(e,t){this.hideSpinner(),this.trigger("dataBound",{items:e,e:t})}remainingItems(e,t){let n=new vM(e).executeLocal((new hM).skip(100));if(this.itemTemplate){let e=this.templateListItem(n,t);return[].slice.call(e.childNodes)}let i=this.typeOfData(n).typeof;return"string"===i||"number"===i||"boolean"===i?RM.createListItemFromArray(this.createElement,n,!0,this.listOption(n,t)):RM.createListItemFromJson(this.createElement,n,this.listOption(n,t),1,!0)}emptyDataRequest(e){let t=[];this.onActionComplete(this.renderItems(t,e),t),this.isRequested=!1,this.hideSpinner()}showSpinner(){}hideSpinner(){}onActionFailure(e){this.liCollections=[],this.trigger("actionFailure",e),this.l10nUpdate(!0),RD([this.list],"e-nodata")}onActionComplete(e,t,n){this.listData=t,this.list.innerHTML="",this.fixedHeaderElement=UO(this.fixedHeaderElement)?this.fixedHeaderElement:null,this.list.appendChild(e),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,t,this.bindEvent)}postRender(e,t,n){let i=e.querySelector(".e-list-item"),s=e.querySelector(".e-active");i&&!s&&i.classList.add("e-item-focus"),t.length<=0?(this.l10nUpdate(),RD([e],"e-nodata")):e.classList.remove("e-nodata")}getQuery(e){return e||(this.query?this.query:new hM)}renderGroupTemplate(e){if(null!==this.fields.groupBy&&this.dataSource||this.element.querySelector(".e-list-group-item")){let t=this.dataSource,n={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},i=e.querySelectorAll(".e-list-group-item");if(this.templateCompiler(this.groupTemplate)){let e=document.querySelector(this.groupTemplate).innerHTML.trim();RM.renderGroupTemplate(e,t,this.fields.properties,i,n)}else RM.renderGroupTemplate(this.groupTemplate,t,this.fields.properties,i,n);this.DropDownBaseupdateBlazorTemplates(!1,!0,!1,!1,!1,!1,!1,!1)}}createListItems(e,t){e&&t.groupBy||this.element.querySelector("optgroup")?(t.groupBy&&("None"!==this.sortOrder&&(e=this.getSortedDataSource(e)),e=RM.groupDataSource(e,t.properties,this.sortOrder)),RD([this.list],"e-dd-group")):e=this.getSortedDataSource(e);let n=this.listOption(e,t),i=e.length>100?new vM(e).executeLocal((new hM).take(100)):e;return this.sortedData=e,RM.createList(this.createElement,"autocomplete"===this.getModuleName()?i:e,n,!0)}listOption(e,t){let n=!UO(t.iconCss),i=UO(t.properties)?t:t.properties;return qO({},null!==t.text||null!==t.value?{fields:i,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},t,!0)}setFloatingHeader(e){UO(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:"e-fixed-head"}),this.list.querySelector("li").classList.contains("e-list-group-item")||(this.fixedHeaderElement.style.display="none"),VD([this.fixedHeaderElement],this.list),this.setFixedHeader()),UO(this.fixedHeaderElement)||"0"!==this.fixedHeaderElement.style.zIndex||this.setFixedHeader(),this.scrollStop(e)}scrollStop(e){let t=e.target,n=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10),i=Math.round(t.scrollTop/n),s=this.list.querySelectorAll("li");for(let l=i;l>-1;l--){if(!UO(s[l])&&s[l].classList.contains("e-list-group-item")){this.fixedHeaderElement.innerHTML=s[l].innerHTML,this.fixedHeaderElement.style.top=e.target.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}}renderItems(e,t){let n;if(this.itemTemplate&&e){let i=e;i&&t.groupBy?("None"!==this.sortOrder&&(i=this.getSortedDataSource(i)),i=RM.groupDataSource(i,t.properties,this.sortOrder)):i=this.getSortedDataSource(i),this.sortedData=i;let s=i.length>100?new vM(i).executeLocal((new hM).take(100)):i;n=this.templateListItem("autocomplete"===this.getModuleName()?s:i,t);let l="listbox"===this.getModuleName();this.DropDownBaseupdateBlazorTemplates(!0,!1,!1,!1,!1,!1,!1,l)}else n=this.createListItems(e,t);return n}templateListItem(e,t){this.DropDownBaseresetBlazorTemplates(!0,!1,!1,!1);let n=this.listOption(e,t);if(n.templateID=this.itemTemplateId,n.isStringTemplate=this.isStringTemplate,this.templateCompiler(this.itemTemplate)){let i=document.querySelector(this.itemTemplate).innerHTML.trim();return RM.renderContentTemplate(this.createElement,i,e,t.properties,n)}return RM.renderContentTemplate(this.createElement,this.itemTemplate,e,t.properties,n)}typeOfData(e){for(let t=0;!UO(e)&&t<e.length;t++)if(!UO(e[t])&&!UO("string"==typeof e[t]||"number"==typeof e[t]||"boolean"==typeof e[t]?e[t]:HO(this.fields.value?this.fields.value:"value",e[t])))return{typeof:typeof e[t],item:e[t]};return{typeof:null,item:null}}setFixedHeader(){this.list.parentElement.style.display="block";let e=0;this.list&&this.list.parentElement&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10)),this.fixedHeaderElement.style.width=(this.liCollections[0].offsetWidth-e).toString()+"px",XD(this.fixedHeaderElement,{zIndex:10});let t=this.ulElement.querySelector(".e-list-group-item");this.fixedHeaderElement.innerHTML=t.innerHTML}getSortedDataSource(e){return e&&"None"!==this.sortOrder&&(e=RM.getDataSource(e,RM.addSorting(this.sortOrder,this.fields.text?this.fields.text:"text"))),e}getIndexByValue(e){let t,n=this.getItems();for(let i=0;i<n.length;i++)if(!UO(e)&&n[i].getAttribute("data-value")===e.toString()){t=i;break}return t}dispatchEvent(e,t){let n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}setFields(){this.fields.value&&!this.fields.text?this.fields.text=this.fields.value:!this.fields.value&&this.fields.text?this.fields.value=this.fields.text:this.fields.value||this.fields.text||(this.fields.value=this.fields.text="text")}resetList(e,t,n){this.list&&(("SELECT"===this.element.tagName&&this.element.options.length>0||"UL"===this.element.tagName&&this.element.childNodes.length>0)&&!(e instanceof Array?e.length>0:!UO(e))&&this.selectData&&this.selectData.length>0&&(e=this.selectData),this.setListData(e,t,n))}updateSelectElementData(e){e&&UO(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)}updateSelection(){}renderList(){this.render()}updateDataSource(e){this.resetList(this.dataSource)}setUpdateInitial(e,t){this.isDataFetched=!1;let n={};for(let i=0;e.length>i;i++)t[e[i]]&&"fields"===e[i]?this.setFields():t[e[i]]&&(n[e[i]]=t[e[i]]);Object.keys(n).length>0&&(-1===Object.keys(n).indexOf("dataSource")&&(n.dataSource=this.dataSource),this.updateDataSource(n))}onPropertyChanged(e,t){"dropdownbase"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e),this.setUpdateInitial(["sortOrder","itemTemplate"],e);for(let n of Object.keys(e))switch(n){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnabled();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){let e=this.ulElement.querySelector(".e-list-group-item");this.fixedHeaderElement.innerHTML=e.innerHTML}break;case"locale":this.list&&!UO(this.liCollections)&&0===this.liCollections.length&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex()}}render(e){this.list=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}}),this.list.classList.add("e-dropdownbase"),this.setFields(),this.rippleFun=wA(this.list,{duration:300,selector:".e-list-item"});let t=this.element.querySelector("select>optgroup");if(!this.fields.groupBy&&UO(t)||this.isGroupChecking||zI.add(this.list,"scroll",this.setFloatingHeader,this),"dropdownbase"===this.getModuleName()){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),FD([this.element],"e-dropdownbase"),this.element.style.display="none";let e=this.createElement("div");this.element.parentElement.insertBefore(e,this.element),e.appendChild(this.element),e.appendChild(this.list)}this.setEnableRtl(),this.setEnabled(),e||this.initialize()}getModuleName(){return"dropdownbase"}getItems(){return this.ulElement.querySelectorAll(".e-list-item")}addItem(e,t){if((!this.list||this.list.textContent===this.noRecordsTemplate&&"listbox"!==this.getModuleName())&&this.renderList(),"None"!==this.sortOrder&&UO(t)){let n=[].slice.call(this.listData);n.push(e),n=this.getSortedDataSource(n),t=n.indexOf(e)}this.DropDownBaseresetBlazorTemplates(!0,!1,!1,!1);let n,i=this.getItems().length,s=this.list.querySelector(".e-active");e=e instanceof Array?e:[e],n=UO(t)||t<0||t>i-1?i:t;let l=this.fields;e&&l.groupBy&&(e=RM.groupDataSource(e,l.properties));let r=[];for(let a=0;a<e.length;a++){let t=e[a],n=t.isHeader,i=this.createElement("li",{className:n?"e-list-group-item":"e-list-item",id:"option-add-"+a}),s=t instanceof Object?HO(l.text,t):t;n&&(i.innerText=s),this.itemTemplate&&!n?(jD(fD(this.itemTemplate)(t,null,null,this.itemTemplateId,this.isStringTemplate),i),this.DropDownBaseupdateBlazorTemplates(!0,!1,!1,!1)):n||i.appendChild(document.createTextNode(s)),i.setAttribute("data-value",t instanceof Object?HO(l.value,t):t),i.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:i}),r.push(i),this.listData.push(t),this.updateActionCompleteData(i,t),this.trigger("beforeItemRender",{element:i,item:t})}if(0===i&&UO(this.list.querySelector("ul")))this.list.innerHTML="",this.list.classList.remove("e-nodata"),this.list.appendChild(this.ulElement),this.liCollections=r,jD(r,this.ulElement),this.updateAddItemList(this.list,i);else{"listbox"===this.getModuleName()&&0===i&&(this.ulElement.innerHTML="");let t=[];for(let i=0;i<e.length;i++){let e=this.ulElement.querySelectorAll(".e-list-group-item");for(let n=0;n<e.length;n++)t[n]=e[n].innerText;if(t.indexOf(r[i].innerText)>-1&&l.groupBy){for(let n=0;n<e.length;n++)if(t[n]===r[i].innerText){this.ulElement.insertBefore(r[i+1],e[n+1]),i+=1;break}}else this.liCollections[n]?this.liCollections[n].parentNode.insertBefore(r[i],this.liCollections[n]):this.ulElement.appendChild(r[i]);let s=[].slice.call(this.liCollections);s.splice(n,0,r[i]),this.liCollections=s,n+=1,"multiselect"===this.getModuleName()&&this.updateDataList()}}(s||0===t)&&this.updateSelection()}validationAttribute(e,t){let n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",n),e.removeAttribute("name");let i=["required","aria-required","form"];for(let s=0;s<i.length;s++){if(!e.getAttribute(i[s]))continue;let n=e.getAttribute(i[s]);t.setAttribute(i[s],n),e.removeAttribute(i[s])}}setZIndex(){}updateActionCompleteData(e,t){}updateAddItemList(e,t){}updateDataList(){}getDataByValue(e){if(!UO(this.listData)){let t=this.typeOfData(this.listData).typeof;if("string"===t||"number"===t||"boolean"===t){for(let t of this.listData)if(!UO(t)&&t===e)return t}else for(let n of this.listData)if(!UO(n)&&HO(this.fields.value?this.fields.value:"value",n)===e)return n}return null}destroy(){document.body.contains(this.list)&&(zI.remove(this.list,"scroll",this.setFloatingHeader),UO(this.rippleFun)||this.rippleFun(),qD(this.list)),super.destroy()}};return zN([uA({text:null,value:null,iconCss:null,groupBy:null},qN)],e.prototype,"fields",void 0),zN([dA(!1)],e.prototype,"enablePersistence",void 0),zN([dA(null)],e.prototype,"itemTemplate",void 0),zN([dA(null)],e.prototype,"groupTemplate",void 0),zN([dA("No records found")],e.prototype,"noRecordsTemplate",void 0),zN([dA("Request failed")],e.prototype,"actionFailureTemplate",void 0),zN([dA("None")],e.prototype,"sortOrder",void 0),zN([dA(!0)],e.prototype,"enabled",void 0),zN([dA([])],e.prototype,"dataSource",void 0),zN([dA(null)],e.prototype,"query",void 0),zN([dA("StartsWith")],e.prototype,"filterType",void 0),zN([dA(!0)],e.prototype,"ignoreCase",void 0),zN([dA(1e3)],e.prototype,"zIndex",void 0),zN([dA(!1)],e.prototype,"ignoreAccent",void 0),zN([dA()],e.prototype,"locale",void 0),zN([mA()],e.prototype,"actionBegin",void 0),zN([mA()],e.prototype,"actionComplete",void 0),zN([mA()],e.prototype,"actionFailure",void 0),zN([mA()],e.prototype,"select",void 0),zN([mA()],e.prototype,"dataBound",void 0),zN([mA()],e.prototype,"created",void 0),zN([mA()],e.prototype,"destroyed",void 0),e=zN([fA],e),e})();var WN=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const YN={root:"e-dropdownlist",hover:"e-hover",selected:"e-active",rtl:"e-rtl",li:"e-list-item",disable:"e-disabled",base:"e-dropdownbase",focus:"e-item-focus",input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden"};let $N={container:null,buttons:[]},GN=(()=>{let e=class extends UN{constructor(e,t){super(e,t),this.previousValue=null}preRender(){this.isServerBlazor=!1,this.isServerBlazor?this.initializeData():(this.element.style.opacity="0",this.initializeData(),super.preRender()),this.activeIndex=this.index,this.queryString=""}initializeData(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"}}setZIndex(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})}renderList(e){this.isServerBlazor?this.interopAdaptor.invokeMethodAsync("OnServerRenderList",this.beforePopupOpen,!1):(super.render(e),this.wireListEvents())}floatLabelChange(){if("dropdownlist"===this.getModuleName()&&"Auto"===this.floatLabelType){let e=this.inputWrapper.container.querySelector(".e-float-text");""!==this.inputElement.value||this.isInteracted?KD(e,["e-label-top"],["e-label-bottom"]):KD(e,["e-label-bottom"],["e-label-top"])}}resetHandler(e){e.preventDefault(),this.clearAll(e)}resetFocusElement(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,"autocomplete"!==this.getModuleName()&&!UO(this.ulElement)){let e=this.ulElement.querySelector("."+YN.li);e&&e.classList.add(YN.focus)}}clearAll(e,t){!UO(t)&&(UO(t)||!UO(t.dataSource)&&(t.dataSource instanceof vM||0!==t.dataSource.length))||(this.isActive=!0,this.resetSelection(t));let n=this.getItemData();this.previousValue!==n.value&&this.onChangeEvent(e)}resetSelection(e){if(this.list)if(UO(e)||!UO(e.dataSource)&&(e.dataSource instanceof vM||0!==e.dataSource.length)){if(this.allowFiltering&&"autocomplete"!==this.getModuleName()&&!UO(this.actionCompleteData.ulElement)&&!UO(this.actionCompleteData.list)){let e=this.actionCompleteData.ulElement.querySelector("li"),t=this.ulElement&&this.ulElement.querySelector("li");"EJS-COMBOBOX"===this.element.tagName&&e&&t&&e.childElementCount>0&&t.childElementCount>0&&e.textContent!==t.textContent&&this.itemTemplate&&this.cloneElements(),this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list)}this.resetFocusElement()}else this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource);this.isServerBlazor||(this.hiddenElement.innerHTML=""),this.inputElement.value="",this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(qD(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()}setHTMLAttributes(){if(Object.keys(this.htmlAttributes).length)for(let e of Object.keys(this.htmlAttributes))if("class"===e){let t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&RD([this.inputWrapper.container],t.split(" "))}else if("disabled"===e&&"disabled"===this.htmlAttributes[e])this.enabled=!1,this.setEnable();else if("readonly"!==e||UO(this.htmlAttributes[e]))if("style"===e)this.inputWrapper.container.setAttribute("style",this.htmlAttributes[e]);else{let t=["title","id","placeholder","aria-placeholder","role","autocorrect","autocomplete","autocapitalize","spellcheck","minlength","maxlength"],n=["name","required"];"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||t.push("tabindex"),0===e.indexOf("data")||n.indexOf(e)>-1?this.hiddenElement.setAttribute(e,this.htmlAttributes[e]):t.indexOf(e)>-1?"placeholder"===e?ZP.setPlaceholder(this.htmlAttributes[e],this.inputElement):this.inputElement.setAttribute(e,this.htmlAttributes[e]):this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}else this.readonly=!0,this.dataBind();"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.inputWrapper.container.removeAttribute("tabindex")}getAriaAttributes(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-haspopup":"true","aria-expanded":"false","aria-activedescendant":"null","aria-live":"polite","aria-labelledby":this.hiddenElement.id}}setEnableRtl(){ZP.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())}setEnable(){ZP.setEnabled(this.enabled,this.inputElement),this.enabled?(FD([this.inputWrapper.container],YN.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex)):(this.hidePopup(),RD([this.inputWrapper.container],YN.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1)}getPersistData(){return this.addOnPersist(["value"])}getLocaleName(){return"drop-down-list"}preventTabIndex(e){"dropdownlist"===this.getModuleName()&&(e.tabIndex=-1)}targetElement(){return this.inputWrapper.container}getNgDirective(){return"EJS-DROPDOWNLIST"}getElementByText(e){return this.getElementByValue(this.getValueByText(e))}getElementByValue(e){let t,n=this.getItems();for(let i of n)if(this.getFormattedValue(i.getAttribute("data-value"))===e){t=i;break}return t}initValue(){this.renderList(),this.dataSource instanceof vM?this.initRemoteRender=!0:this.updateValues()}updateValues(){if(UO(this.value))if(this.text&&UO(this.value)){let e=this.getElementByText(this.text);if(UO(e))return void this.setProperties({text:null});this.setSelection(e,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else this.setSelection(this.getElementByValue(this.value),null);this.setHiddenValue(),ZP.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}onBlur(e){if(!this.enabled)return;let t=e.relatedTarget,n=e.target,i=this.isPreventBlur;this.isPreventBlur=!1,!i||this.isDocumentClick||!this.isPopupOpen||UO(n)&&(this.isFilterLayout()||!UO(t))?this.isDocumentClick||!UO(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(YN.mobileFilter)?this.beforePopupOpen||(this.isDocumentClick=!1):(("dropdownlist"===this.getModuleName()&&!this.isFilterFocus&&t!==this.inputElement&&(document.activeElement!==t||document.activeElement===t&&n.classList.contains(YN.inputFocus))||UO(t)&&"dropdownlist"===this.getModuleName()&&this.allowFiltering&&n!==this.inputWrapper.container||"dropdownlist"!==this.getModuleName()&&!this.inputWrapper.container.contains(t)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),!this.isRequested||this.isPopupOpen||this.isPreventBlur||(this.isActive=!1,this.beforePopupOpen=!1)):"dropdownlist"===this.getModuleName()&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus()}focusOutAction(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut()}onFocusOut(){this.enabled&&(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(null)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),"dropdownlist"===this.getModuleName()&&"INPUT"!==this.element.tagName&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&RD([this.inputWrapper.clearButton],YN.clearIconHide),this.trigger("blur"))}onFocus(e){this.isInteracted||(this.isInteracted=!0,this.trigger("focus",{isInteracted:!!e,event:e})),this.updateIconState()}resetValueHandler(e){let t=GD(this.inputElement,"form");if(t&&e.target===t){let e=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=e}}wireEvent(){zI.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),zI.add(this.inputWrapper.container,"focus",this.focusIn,this),zI.add(this.inputWrapper.container,"keypress",this.onSearch,this),this.bindCommonEvent()}bindCommonEvent(){zI.add(this.targetElement(),"blur",this.onBlur,this);let e=GD(this.inputElement,"form");e&&zI.add(e,"reset",this.resetValueHandler,this),this.keyboardModule=new UA(this.targetElement(),jI.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()}bindClearEvent(){this.showClearButton&&zI.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)}unBindCommonEvent(){zI.remove(this.targetElement(),"blur",this.onBlur);let e=GD(this.inputElement,"form");e&&zI.remove(e,"reset",this.resetValueHandler),jI.isDevice||this.keyboardModule.destroy(),this.showClearButton&&zI.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)}updateIconState(){this.showClearButton&&(""===this.inputElement.value||this.readonly?RD([this.inputWrapper.clearButton],YN.clearIconHide):FD([this.inputWrapper.clearButton],YN.clearIconHide))}wireListEvents(){zI.add(this.list,"click",this.onMouseClick,this),zI.add(this.list,"mouseover",this.onMouseOver,this),zI.add(this.list,"mouseout",this.onMouseLeave,this)}onSearch(e){32!==e.charCode&&13!==e.charCode&&(void 0===this.list&&(this.isServerBlazor?(this.isServerIncrementalSearch=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1)):this.renderList()),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))}onServerIncrementalSearch(e){this.isRequested||UO(this.list)||UO(this.list.querySelector("li"))||!this.enabled||this.readonly||this.incrementalSearch(e)}onMouseClick(e){let t=GD(e.target,".e-list-item");this.isValidLI(t)&&(this.setSelection(t,e),jI.isDevice&&this.isFilterLayout()?history.back():this.closePopup(100))}onMouseOver(e){let t=GD(e.target,".e-list-item");this.setHover(t)}setHover(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains("e-hover")&&(this.removeHover(),RD([e],"e-hover"))}onMouseLeave(e){this.removeHover()}removeHover(){if(this.list){let e=this.list.querySelectorAll(".e-hover");e&&e.length&&FD(e,"e-hover")}}isValidLI(e){return e&&e.hasAttribute("role")&&"option"===e.getAttribute("role")}incrementalSearch(e){if(this.liCollections.length>0){let t=function(e,t,n,i,s,l){let r;if(NN+=String.fromCharCode(e),setTimeout(()=>{NN=""},1e3),NN=NN.toLowerCase(),HN===s&&RN===NN){for(let e=0;e<FN.length;e++)if(FN[e].classList.contains("e-active")){r=e;break}return r+=1,FN[r]}{let e,i,a=t,o=NN.length,h=n=n?n+1:0;FN=[];do{h===a.length&&(h=-1),r=-1===h?0:h,i=a[r],e=l?i.textContent.trim().toLowerCase():i.innerText.toLowerCase(),e.substr(0,o)===NN&&FN.push(a[r]),h++}while(h!==n);return RN=NN,HN=s,FN[0]}}(e.charCode,this.liCollections,this.activeIndex,0,this.element.id,this.isServerBlazor);UO(t)||(this.setSelection(t,e),this.setScrollPosition())}}hideSpinner(){UO(this.spinnerElement)||(VP(this.spinnerElement),FD([this.spinnerElement],YN.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)}showSpinner(){UO(this.spinnerElement)&&(this.spinnerElement=jI.isDevice&&!UO(this.filterInputObj)&&this.filterInputObj.buttons[1]||!UO(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],RD([this.spinnerElement],YN.disableIcon),OP({target:this.spinnerElement,width:jI.isDevice?"16px":"14px"},this.createElement),HP(this.spinnerElement))}keyActionHandler(e){if(!this.enabled)return;let t="pageUp"===e.action||"pageDown"===e.action,n="dropdownlist"!==this.getModuleName()&&("home"===e.action||"end"===e.action);this.isEscapeKey="escape"===e.action,this.isTabKey=!this.isPopupOpen&&"tab"===e.action;let i="down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action,s="down"===e.action||"up"===e.action||"pageUp"===e.action||"pageDown"===e.action||"home"===e.action||"end"===e.action;if((!(this.isEditTextBox()||t||n)||this.isPopupOpen)&&!this.readonly){let t="tab"===e.action||"close"===e.action;if(void 0!==this.list||this.isRequested||t||"escape"===e.action||(this.searchKeyEvent=e,this.renderList()),((!this.isServerBlazor||"open"!==e.action&&"space"!==e.action)&&UO(this.list)||!UO(this.liCollections)&&s&&0===this.liCollections.length||this.isRequested)&&(!this.isServerBlazor||!i))return;switch((t&&"autocomplete"!==this.getModuleName()&&this.isPopupOpen||"escape"===e.action)&&e.preventDefault(),this.isSelected="escape"!==e.action&&this.isSelected,this.isTyped=!s&&"escape"!==e.action&&this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":case"end":this.updateHomeEndAction(e);break;case"space":"dropdownlist"===this.getModuleName()&&(this.beforePopupOpen||this.showPopup());break;case"open":this.showPopup();break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}}}updateUpDownAction(e){if(this.isServerBlazor&&UO(this.list))this.isServerNavigation=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1);else{this.isServerNavigation=!1;let t=this.list.querySelector("."+YN.focus);if(this.isSelectFocusItem(t))this.setSelection(t,e);else{let t,n="down"===e.action?this.activeIndex+1:this.activeIndex-1,i=0;"autocomplete"===this.getModuleName()&&(i="down"===e.action&&UO(this.activeIndex)?0:this.liCollections.length-1,n=n<0?this.liCollections.length-1:n===this.liCollections.length?0:n),t=UO(this.activeIndex)?this.liCollections[i]:this.liCollections[n],UO(t)||this.setSelection(t,e)}e.preventDefault()}}updateHomeEndAction(e){if("dropdownlist"===this.getModuleName())if(this.isServerBlazor&&UO(this.list))this.isServerNavigation=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1);else{this.isServerNavigation=!1;let t=0;if(t="home"===e.action?0:this.getItems().length-1,e.preventDefault(),this.activeIndex===t)return;this.setSelection(this.liCollections[t],e)}}selectCurrentValueOnTab(e){"autocomplete"===this.getModuleName()?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}mobileKeyActionHandler(e){if(this.enabled&&(!this.isEditTextBox()||this.isPopupOpen)&&!this.readonly){if(void 0!==this.list||this.isRequested||(this.searchKeyEvent=e,this.renderList()),UO(this.list)||!UO(this.liCollections)&&0===this.liCollections.length||this.isRequested)return;"enter"===e.action&&this.selectCurrentItem(e)}}selectCurrentItem(e){if(this.isPopupOpen){let t=this.list.querySelector("."+YN.focus);t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(),this.focusDropDown(e)}else this.showPopup()}isSelectFocusItem(e){return!UO(e)}getPageCount(){let e=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.getBoundingClientRect().height/parseInt(e,10))}pageUpSelection(e,t){this.setSelection(e>=0?this.liCollections[e+1]:this.liCollections[0],t)}pageDownSelection(e,t){let n=this.getItems();this.setSelection(e<=n.length?this.liCollections[e-1]:this.liCollections[n.length-1],t)}unWireEvent(){zI.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),zI.remove(this.inputWrapper.container,"keypress",this.onSearch),zI.remove(this.inputWrapper.container,"focus",this.focusIn),this.unBindCommonEvent()}unWireListEvents(){zI.remove(this.list,"click",this.onMouseClick),zI.remove(this.list,"mouseover",this.onMouseOver),zI.remove(this.list,"mouseout",this.onMouseLeave)}checkSelector(e){return"#"+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")}onDocumentClick(e){let t=e.target;if(!UO(this.popupObj)&&GD(t,this.checkSelector(this.popupObj.element.id))||this.inputWrapper.container.contains(e.target))t===this.inputElement||this.allowFiltering&&t===this.filterInput||"combobox"===this.getModuleName()&&!this.allowFiltering&&jI.isDevice&&t===this.inputWrapper.buttons[0]||(this.isPreventBlur=(jI.isIE||"edge"===jI.info.name)&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault());else if(this.inputWrapper.container.classList.contains(YN.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;let t=this.isRequested;this.isInteracted=!1,this.hidePopup(e),t||(this.onFocusOut(),this.inputWrapper.container.classList.remove(YN.inputFocus))}}activeStateChange(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(YN.inputFocus))}focusDropDown(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)}dropDownClick(e){if(3===e.which||2===e.button)return;if(this.targetElement().classList.contains(YN.disable)||this.inputWrapper.clearButton===e.target)return;let t=e.target;if(t===this.inputElement||this.allowFiltering&&t===this.filterInput||"combobox"===this.getModuleName()||e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen?(this.hidePopup(),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=""===this.inputElement.value.trim()?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup());let t=this,n=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout(()=>{t.cloneElements(),t.isSecondClick=!0},n)}}cloneElements(){if(this.list){let e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}}updateSelectedItem(e,t,n,i){this.removeSelection(),e.classList.add("e-active"),this.removeHover();let s=this.getFormattedValue(e.getAttribute("data-value")),l=this.getDataByValue(s);if(this.initial||n||UO(t))this.selectEventCallback(e,t,n,l,s),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerItemData",this.itemData),i&&this.setSelectOptions(e,t);else{let r=this.detachChanges(l);this.isSelected=!0,this.trigger("select",{e:t,item:e,itemData:r,isInteracted:!!t,cancel:!1},r=>{r.cancel?e.classList.remove("e-active"):(this.selectEventCallback(e,t,n,l,s),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerItemData",this.itemData),i&&this.setSelectOptions(e,t))})}}selectEventCallback(e,t,n,i,s){this.previousItemData=UO(this.itemData)?null:this.itemData,this.item=e,this.itemData=i;let l=this.list.querySelector(".e-item-focus");l&&FD([l],"e-item-focus"),e.setAttribute("aria-selected","true"),this.activeIndex=this.getIndexByValue(s)}activeItem(e){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.removeSelection(),e.classList.add("e-active"),this.removeHover(),e.setAttribute("aria-selected","true"))}setValue(e){let t=this.getItemData();return ZP.setValue(null===t.value?""!==t.text?t.text:null:t.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerValueTemplate",t),this.valueTemplate&&null!==this.itemData&&!this.isServerBlazor?(this.DropDownBaseresetBlazorTemplates(!1,!1,!1,!1,!0),this.setValueTemplate()):this.inputElement.previousSibling===this.valueTempElement&&(qD(this.valueTempElement),this.inputElement.style.display="block"),this.previousValue===t.value?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,"dropdownlist"===this.getModuleName()&&this.updateIconState(),!1)}setSelection(e,t){this.isValidLI(e)&&(!e.classList.contains("e-active")||this.isPopupOpen&&this.isSelected&&e.classList.contains("e-active"))?this.updateSelectedItem(e,t,!1,!0):this.setSelectOptions(e,t)}setSelectOptions(e,t){this.list&&this.removeHover(),this.previousSelectedLI=UO(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,this.setValue(t)||(this.isPopupOpen&&(WD(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null}),this.isFilterLayout()&&this.filterInput&&WD(this.filterInput,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})),(!this.isPopupOpen&&!UO(e)||this.isPopupOpen&&!UO(t)&&("keydown"!==t.type||"keydown"===t.type&&"enter"===t.action))&&(this.isSelectCustom=!1,this.onChangeEvent(t)),!this.isPopupOpen||UO(this.selectedLI)||null===this.itemData||t&&"click"===t.type||this.setScrollPosition(t),"mozilla"!==jI.info.name&&(WD(this.inputElement,{"aria-label":this.inputElement.value}),WD(this.targetElement(),{"aria-describedby":this.inputElement.id}),this.targetElement().removeAttribute("aria-live")))}dropdownCompiler(e){let t=!1;if(e)try{t=!!document.querySelectorAll(e).length}catch(n){t=!1}return t}setValueTemplate(){let e;this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:YN.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.valueTempElement.innerHTML="";let t=this.itemData;e=fD(this.dropdownCompiler(this.valueTemplate)?document.querySelector(this.valueTemplate).innerHTML.trim():this.valueTemplate);for(let n of e(t,null,null,this.valueTemplateId,this.isStringTemplate))this.valueTempElement.appendChild(n);this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!0,!0,!0)}removeSelection(){if(this.list){let e=this.list.querySelectorAll(".e-active");e.length&&(FD(e,"e-active"),e[0].removeAttribute("aria-selected"))}}getItemData(){let e,t,n=this.fields,i=null;return i=this.itemData,UO(i)||(e=HO(n.value,i),t=HO(n.text,i)),{value:UO(i)||WO(e)?i:e,text:UO(i)||WO(e)?i:t}}onChangeEvent(e){let t=this.getItemData();this.setProperties({index:this.isSelectCustom?null:this.activeIndex,text:t.text,value:t.value},!0),this.detachChangeEvent(e)}detachChanges(e){let t;return t="string"==typeof e||"boolean"==typeof e||"number"==typeof e?Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):e,t}detachChangeEvent(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.index,this.typedString=UO(this.text)?"":this.text,!this.initial){let t,n=this.detachChanges(this.itemData);t="string"==typeof this.previousItemData||"boolean"==typeof this.previousItemData||"number"==typeof this.previousItemData?Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):this.previousItemData,this.setHiddenValue(),this.trigger("change",{e,item:this.item,itemData:n,previousItem:this.previousSelectedLI,previousItemData:t,isInteracted:!!e,value:this.value,element:this.element})}!UO(this.value)&&""!==this.value||"Always"===this.floatLabelType||FD([this.inputWrapper.container],"e-valid-input")}setHiddenValue(){if(UO(this.value))this.isServerBlazor||(this.hiddenElement.innerHTML="");else if(this.isServerBlazor&&this.hiddenElement.querySelector("option")){let e=this.hiddenElement.querySelector("option");e.textContent=this.text,e.setAttribute("value",this.value.toString())}else this.isServerBlazor||(this.hiddenElement.innerHTML="<option selected>"+this.text+"</option>",this.hiddenElement.querySelector("option").setAttribute("value",this.value.toString()))}onFilterUp(e){if(e.ctrlKey&&86===e.keyCode||!this.isValidKey&&40!==e.keyCode&&38!==e.keyCode)this.isValidKey=!1;else switch(this.isValidKey=!1,e.keyCode){case 38:case 40:"autocomplete"!==this.getModuleName()||this.isPopupOpen||this.preventAltUp||this.isRequested?this.preventAutoFill=!1:(this.preventAutoFill=!0,this.searchLists(e)),this.preventAltUp=!1,e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&""!==this.typedString||this.isPopupOpen&&this.queryString.length>0?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&""===this.queryString&&"autocomplete"!==this.getModuleName()?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&(this.list&&this.resetFocusElement(),this.activeIndex=null,"autocomplete"===this.getModuleName()&&this.hidePopup()),e.preventDefault();break;default:this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.searchLists(e)}}onFilterDown(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&"autocomplete"!==this.getModuleName()&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value}}removeFillSelection(){if(this.isInteracted){let e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}}getQuery(e){let t;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){t=e?e.clone():this.query?this.query.clone():new hM;let n=""===this.typedString?"contains":this.filterType,i=this.typeOfData(this.dataSource).typeof;t.where((this.dataSource instanceof vM||"string"!==i)&&"number"!==i&&this.fields.text?this.fields.text:"",n,this.typedString,this.ignoreCase,this.ignoreAccent)}else t=e||(this.query?this.query:new hM);return t}getSelectionPoints(){let e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}}searchLists(e){if(this.isTyped=!0,this.activeIndex=null,this.filterInput.parentElement.querySelector("."+YN.clearIcon)&&(this.filterInput.parentElement.querySelector("."+YN.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible"),this.isDataFetched=!1,this.isFiltering())if(this.isServerBlazor)this.beforePopupOpen="combobox"===this.getModuleName()&&this.isFiltering()&&!this.beforePopupOpen?!this.beforePopupOpen:this.beforePopupOpen,""===this.filterInput.value&&"dropdownlist"!==this.getModuleName()?this.interopAdaptor.invokeMethodAsync("OnServerRenderList",this.beforePopupOpen,!1):this.interopAdaptor.invokeMethodAsync("OnServerFilter",this.filterInput.value);else{let t={preventDefaultAction:!1,text:this.filterInput.value,updateData:(e,n,i)=>{t.cancel||(this.isCustomFilter=!0,this.filteringAction(e,n,i))},baseEventArgs:e,cancel:!1};this.trigger("filtering",t,e=>{e.cancel||this.isCustomFilter||e.preventDefaultAction||this.filteringAction(this.dataSource,null,this.fields)})}}filter(e,t,n){this.isCustomFilter=!0,this.filteringAction(e,t,n)}filteringAction(e,t,n){UO(this.filterInput)||(this.beforePopupOpen=!0,""!==this.filterInput.value.trim()||this.itemTemplate?(this.isNotSearchList=!1,t=""===this.filterInput.value.trim()?null:t,this.resetList(e,n,t)):(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,UO(this.actionCompleteData.ulElement)||UO(this.actionCompleteData.list)||this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list),this.isTyped=!0,UO(this.itemData)||"dropdownlist"!==this.getModuleName()||(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0))}setSearchBox(e){if(this.isFiltering()){let t=e.querySelector("."+YN.filterParent)?e.querySelector("."+YN.filterParent):this.createElement("span",{className:YN.filterParent});this.isServerBlazor&&(t.innerHTML=""),this.filterInput=this.createElement("input",{attrs:{type:"text"},className:YN.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);let n=!1;return jI.isDevice&&(n=!0),this.filterInputObj=ZP.createInput({element:this.filterInput,buttons:n?[YN.backIcon,YN.filterBarClearIcon]:[YN.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),UO(this.cssClass)||(-1!==this.cssClass.split(" ").indexOf("e-outline")?RD([this.filterInputObj.container],"e-outline"):-1!==this.cssClass.split(" ").indexOf("e-filled")&&RD([this.filterInputObj.container],"e-filled")),jD([this.filterInputObj.container],t),VD([t],e),WD(this.filterInput,{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-activedescendant":this.selectedLI?this.selectedLI.id:null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+YN.clearIcon),!jI.isDevice&&this.clearIconElement&&(zI.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),this.searchKeyModule=new UA(this.filterInput,jI.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),zI.add(this.filterInput,"input",this.onInput,this),zI.add(this.filterInput,"keyup",this.onFilterUp,this),zI.add(this.filterInput,"keydown",this.onFilterDown,this),zI.add(this.filterInput,"blur",this.onBlur,this),zI.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}return $N}onInput(e){this.isValidKey=!0,jI.isDevice&&"mozilla"===jI.info.name&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))}pasteHandler(e){setTimeout(()=>{this.typedString=this.filterInput.value,this.searchLists(e)})}onActionFailure(e){super.onActionFailure(e),this.beforePopupOpen&&this.renderPopup()}onActionComplete(e,t,n,i){if(this.isNotSearchList)this.isNotSearchList=!1;else if(this.isActive){let i=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(super.onActionComplete(e,t,n),this.updateSelectElementData(this.allowFiltering),this.isRequested&&!UO(this.searchKeyEvent)&&"keydown"===this.searchKeyEvent.type&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!UO(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.list.scrollTop=0,UO(e)||WD(e,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"}),this.initRemoteRender&&(this.initial=!0,this.activeIndex=this.index,this.updateValues(),this.initRemoteRender=!1,this.initial=!1,this.value&&this.dataSource instanceof vM)){let e=UO(this.fields.value)?this.fields.text:this.fields.value;t.some(t=>t[e]===this.value)||this.dataSource.executeQuery(this.getQuery(this.query).where(new cM(e,"equal",this.value))).then(e=>{e.result.length>0&&(this.addItem(e.result,t.length),this.updateValues())})}"autocomplete"!==this.getModuleName()&&this.isFiltering()&&!this.isTyped&&(this.actionCompleteData.isUpdated&&(this.isCustomFilter||this.isFilterFocus||!(this.dataSource instanceof vM||!UO(this.dataSource)&&!UO(this.dataSource.length)&&0!==this.dataSource.length))||(this.actionCompleteData={ulElement:e.cloneNode(!0),list:t,isUpdated:!0}),this.addNewItem(t,i),UO(this.itemData)||this.focusIndexItem()),this.beforePopupOpen&&this.renderPopup()}}addNewItem(e,t){if(!UO(this.itemData)&&!UO(t)){let t=this.getItemData().value;e.some(e=>("string"==typeof e||"number"==typeof e)&&e===t||HO(this.fields.value,e)===t)||this.addItem(this.itemData)}}updateActionCompleteData(e,t){"autocomplete"!==this.getModuleName()&&this.actionCompleteData.ulElement&&(this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list.indexOf(t)<0&&this.actionCompleteData.list.push(t))}focusIndexItem(){let e=this.getItemData().value;this.activeIndex=this.getIndexByValue(e);let t=this.findListElement(this.list,"li","data-value",e);this.selectedLI=t,this.activeItem(t),this.removeFocus()}updateSelection(){let e=this.list.querySelector(".e-active");e?(this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index):(this.removeFocus(),this.list.querySelector(".e-list-item").classList.add(YN.focus))}removeFocus(){let e=this.list.querySelectorAll("."+YN.focus);e&&e.length&&FD(e,YN.focus)}renderPopup(){this.popupObj&&document.body.contains(this.popupObj.element)?this.refreshPopup():this.trigger("beforeOpen",{cancel:!1},e=>{if(e.cancel)this.beforePopupOpen=!1;else{let e=this.serverPopupEle?this.serverPopupEle:this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup "+(null!=this.cssClass?this.cssClass:"")}),t=this.setSearchBox(e);if(this.listHeight=KO(this.popupHeight),this.headerTemplate&&!this.isServerBlazor&&this.setHeaderTemplate(e),jD([this.list],e),this.footerTemplate&&!this.isServerBlazor&&this.setFooterTemplate(e),this.isServerRendered&&e&&e.querySelector(".e-ddl-footer")&&e.appendChild(e.querySelector(".e-ddl-footer")),document.body.appendChild(e),this.updateServerPopup(e),e.style.visibility="hidden","auto"!==this.popupHeight){if(this.searchBoxHeight=0,UO(t.container)||(this.searchBoxHeight=t.container.parentElement.getBoundingClientRect().height,this.listHeight=(parseInt(this.listHeight,10)-this.searchBoxHeight).toString()+"px"),this.headerTemplate||this.isServerRendered&&e&&e.querySelector(".e-ddl-header")){this.header=this.header?this.header:e.querySelector(".e-ddl-header");let t=Math.round(this.header.getBoundingClientRect().height);this.listHeight=(parseInt(this.listHeight,10)-(t+this.searchBoxHeight)).toString()+"px"}if(this.footerTemplate||this.isServerRendered&&e&&e.querySelector(".e-ddl-footer")){this.footer=this.footer?this.footer:e.querySelector(".e-ddl-footer");let t=Math.round(this.footer.getBoundingClientRect().height);this.listHeight=(parseInt(this.listHeight,10)-(t+this.searchBoxHeight)).toString()+"px"}this.list.style.maxHeight=(parseInt(this.listHeight,10)-2).toString()+"px",e.style.maxHeight=KO(this.popupHeight)}else e.style.height="auto";let n,i=0;if(!UO(this.selectedLI)&&!UO(this.activeIndex)&&this.activeIndex>=0?this.setScrollPosition():this.list.scrollTop=0,jI.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){i=this.getOffsetValue(e);let t=this.isEmptyList()?this.list:this.liCollections[0];n=-(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))}this.getFocusElement(),this.createPopup(e,i,n),this.checkCollision(e),jI.isDevice&&(this.popupObj.element.classList.add(YN.device),("dropdownlist"===this.getModuleName()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&(this.popupObj.collision={X:"fit",Y:"fit"}),this.isFilterLayout()&&(this.popupObj.element.classList.add(YN.mobileFilter),this.popupObj.position={X:0,Y:0},this.popupObj.dataBind(),WD(this.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),RD([document.body,this.popupObj.element],YN.popupFullScreen),this.setSearchBoxPosition(),this.backIconElement=t.container.querySelector(".e-back-icon"),this.clearIconElement=t.container.querySelector("."+YN.clearIcon),zI.add(this.backIconElement,"click",this.clickOnBackIcon,this),zI.add(this.clearIconElement,"click",this.clearText,this))),e.style.visibility="visible",RD([e],"e-popup-close");let s=this.popupObj.getScrollableParent(this.inputWrapper.container);for(let r of s)zI.add(r,"scroll",this.scrollHandler,this);jI.isDevice&&this.isFilterLayout()&&zI.add(this.list,"scroll",this.listScroll,this),WD(this.targetElement(),{"aria-expanded":"true"}),RD([this.isFiltering()?this.filterInput.parentElement:this.inputWrapper.container],[YN.inputFocus]);let l={name:"FadeIn",duration:100};this.beforePopupOpen=!0,this.trigger("open",{popup:this.popupObj,cancel:!1,animation:l},e=>{e.cancel?(this.beforePopupOpen=!1,this.destroyPopup()):(this.serverBlazorUpdateSelection(),this.bindServerScrollEvent(),RD([this.inputWrapper.container],[YN.iconAnimation]),this.popupObj.show(new yA(e.animation),1e3===this.zIndex?this.element:null))})}})}checkCollision(e){(!jI.isDevice||jI.isDevice&&"dropdownlist"!==this.getModuleName()&&!this.isDropDownClick)&&cT(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px")}serverBlazorUpdateSelection(){(this.isServerBlazor&&(null!==this.value||null!==this.index||null!==this.text)||"dropdownlist"!==this.getModuleName()&&!this.isTyped)&&("dropdownlist"===this.getModuleName()&&(this.removeSelection(),this.removeFocus(),this.removeHover(),this.updateValues()),"combobox"===this.getModuleName()&&this.ulElement&&this.findListElement(this.ulElement,"li","data-value",this.value)&&!this.isTyped&&this.updateValues(),this.isServerBlazor&&"dropdownlist"!==this.getModuleName()&&(""===this.text||null===this.text)&&this.ulElement&&(this.ulElement.querySelector("li").classList.contains("e-hover")||RD([this.ulElement.querySelector("li")],"e-hover")))}bindServerScrollEvent(){this.isServerBlazor&&this.list&&this.fields.groupBy&&!this.isGroupChecking&&(zI.remove(this.list,"scroll",this.setFloatingHeader),zI.add(this.list,"scroll",this.setFloatingHeader,this))}updateServerPopup(e){this.isServerBlazor&&(e&&e.querySelector("li")&&FD([this.list],["e-nodata"]),this.initial=!1,e.removeAttribute("style"))}getOffsetValue(e){let t=getComputedStyle(e),n=parseInt(t.borderTopWidth,10),i=parseInt(t.borderBottomWidth,10);return this.setPopupPosition(n+i)}createPopup(e,t,n){this.popupObj=new IT(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:{X:"flip",Y:"flip"},offsetY:t,enableRtl:this.enableRtl,offsetX:n,position:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:()=>{this.isDocumentClick||this.focusDropDown();let e="autocomplete"===this.getModuleName();this.DropDownBaseresetBlazorTemplates(e,e,!0,!0,!1,!0,!0),this.isNotSearchList=!1,this.isDocumentClick=!1,this.destroyPopup();let t=GD(this.inputElement,"form");this.isFiltering()&&t&&this.actionCompleteData.list&&this.actionCompleteData.list[0]&&(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0))},open:()=>{zI.add(document,"mousedown",this.onDocumentClick,this),this.isPopupOpen=!0;let e=this.actionCompleteData&&this.actionCompleteData.ulElement&&this.actionCompleteData.ulElement.querySelector("li"),t=this.list.querySelector("ul li");this.isFiltering()&&this.itemTemplate&&this.element.tagName===this.getNgDirective()&&e&&t&&e.textContent!==t.textContent&&this.cloneElements(),this.isFilterLayout()&&(FD([this.inputWrapper.container],[YN.inputFocus]),this.isFilterFocus=!0,this.filterInput.focus(),this.inputWrapper.clearButton&&RD([this.inputWrapper.clearButton],YN.clearIconHide)),this.activeStateChange()},targetExitViewport:()=>{jI.isDevice||this.hidePopup()}})}isEmptyList(){return!UO(this.liCollections)&&0===this.liCollections.length}getFocusElement(){}isFilterLayout(){return"dropdownlist"===this.getModuleName()&&this.allowFiltering}scrollHandler(){jI.isDevice&&("dropdownlist"===this.getModuleName()&&!this.isFilterLayout()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&this.hidePopup()}setSearchBoxPosition(){let e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";let t=this.filterInput.parentElement.querySelector("."+YN.clearIcon);qD(this.filterInput),t.parentElement.insertBefore(this.filterInput,t)}setPopupPosition(e){let t,n=e,i=this.list.querySelector("."+YN.focus)||this.selectedLI,s=this.isEmptyList()?this.list:this.liCollections[0],l=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],r=s.getBoundingClientRect().height,a=this.list.offsetHeight/2,o=UO(i)?s.offsetTop:i.offsetTop;if(l.offsetTop-a<o&&!UO(this.liCollections)&&this.liCollections.length>0&&!UO(i)){let e=this.list.offsetHeight/r,s=parseInt(getComputedStyle(this.list).paddingBottom,10);t=(e-(this.liCollections.length-this.activeIndex))*r-n+s,this.list.scrollTop=i.offsetTop}else o>a?(t=a-r/2,this.list.scrollTop=o-a+r/2):t=o;return t=t+r+n-(r-this.inputWrapper.container.offsetHeight)/2,-t}setWidth(){let e=KO(this.popupWidth);if(e.indexOf("%")>-1&&(e=(this.inputWrapper.container.offsetWidth*parseFloat(e)/100).toString()+"px"),jI.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){let t=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e}scrollBottom(e){if(!UO(this.selectedLI)){let t=this.list.offsetHeight,n=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop,i=this.list.scrollTop+n-t;i=e?i+2*parseInt(getComputedStyle(this.list).paddingTop,10):i;let s=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;s=this.fields.groupBy&&!UO(this.fixedHeaderElement)?s-this.fixedHeaderElement.offsetHeight:s,0===this.activeIndex?this.list.scrollTop=0:(n>t||!(s>0&&this.list.offsetHeight>s))&&(this.list.scrollTop=i)}}scrollTop(){if(!UO(this.selectedLI)){let e=this.selectedLI.offsetTop-this.list.scrollTop;e=this.fields.groupBy&&!UO(this.fixedHeaderElement)?e-this.fixedHeaderElement.offsetHeight:e;let t=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;0===this.activeIndex?this.list.scrollTop=0:e<0?this.list.scrollTop=this.list.scrollTop+e:t>0&&this.list.offsetHeight>t||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!UO(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}}isEditTextBox(){return!1}isFiltering(){return this.allowFiltering}isPopupButton(){return!0}setScrollPosition(e){if(UO(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.scrollBottom();break;default:this.scrollTop()}}clearText(){this.filterInput.value="",this.searchLists(null)}listScroll(){this.filterInput.blur()}setEleWidth(e){UO(e)||("number"==typeof e?this.inputWrapper.container.style.width=KO(e):"string"==typeof e&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:KO(e)))}closePopup(e){if(this.isTyped=!1,!(this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen))return;zI.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.filterInputObj=null,this.isDropDownClick=!1,this.preventAutoFill=!1;let t=this.popupObj.getScrollableParent(this.inputWrapper.container);for(let n of t)zI.remove(n,"scroll",this.scrollHandler);jI.isDevice&&this.isFilterLayout()&&(FD([document.body,this.popupObj.element],YN.popupFullScreen),zI.remove(this.list,"scroll",this.listScroll)),this.isFilterLayout()&&(jI.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&zI.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&(zI.remove(this.backIconElement,"click",this.clickOnBackIcon),zI.remove(this.clearIconElement,"click",this.clearText)),zI.remove(this.filterInput,"input",this.onInput),zI.remove(this.filterInput,"keyup",this.onFilterUp),zI.remove(this.filterInput,"keydown",this.onFilterDown),zI.remove(this.filterInput,"blur",this.onBlur),zI.remove(this.filterInput,"paste",this.pasteHandler),this.filterInput=null),WD(this.targetElement(),{"aria-expanded":"false","aria-activedescendant":null}),this.inputWrapper.container.classList.remove(YN.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.beforePopupOpen=!1,this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:e||0}},e=>{if(!UO(this.popupObj)&&!UO(this.popupObj.element.querySelector(".e-fixed-head"))){let e=this.popupObj.element.querySelector(".e-fixed-head");e.parentNode.removeChild(e),this.fixedHeaderElement=null}e.cancel||("autocomplete"!==this.getModuleName()||this.isServerBlazor||this.rippleFun(),this.isPopupOpen?this.popupObj.hide(new yA(e.animation)):this.destroyPopup())})}destroyPopup(){let e=document.querySelector("#"+this.element.id+"_popup_holder");this.isServerBlazor&&this.serverPopupEle&&e&&e.appendChild(this.serverPopupEle),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerClosePopup"),this.isPopupOpen=!1,this.isFilterFocus=!1,this.popupObj.destroy(),qD(this.popupObj.element)}clickOnBackIcon(){this.hidePopup(),this.focusIn()}render(){if(this.isServerBlazor)this.inputElement=this.element,this.inputWrapper={container:this.element.parentElement},this.hiddenElement=this.inputWrapper.container.querySelector("select"),this.inputWrapper.buttons=[this.inputWrapper.container.querySelector(".e-input-group-icon.e-ddl-icon")],this.showClearButton&&(this.inputWrapper.clearButton=this.inputWrapper.container.querySelector(".e-clear-icon"),ZP.wireClearBtnEvents(this.element,this.inputWrapper.clearButton,this.inputWrapper.container)),"Auto"===this.floatLabelType&&ZP.wireFloatingEvents(this.element),ZP.bindInitialEvent({element:this.element,buttons:null,customTag:null,floatLabelType:this.floatLabelType,properties:this.properties}),this.setFields(),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.enabled||(this.targetElement().tabIndex=-1),this.element.hasAttribute("autofocus")&&this.focusIn();else{"INPUT"===this.element.tagName?(this.inputElement=this.element,UO(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","textbox"),UO(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text")):(this.inputElement=this.createElement("input",{attrs:{role:"textbox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));let e=this.cssClass;UO(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=ZP.createInput({element:this.inputElement,buttons:this.isPopupButton()?[YN.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:"dropdownlist"===this.getModuleName()||this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",tabindex:"-1",class:YN.hiddenElement}}),VD([this.hiddenElement],this.inputWrapper.container),this.validationAttribute(this.element,this.hiddenElement),this.setFields(),this.inputWrapper.container.style.width=KO(this.width),this.inputWrapper.container.classList.add("e-ddl"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");let t=this.element.getAttribute("id")?this.element.getAttribute("id"):YO("ej2_dropdownlist");if(this.element.id=t,this.hiddenElement.id=t+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),WD(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),null!==this.value||null!==this.activeIndex||null!==this.text)this.initValue();else if("SELECT"===this.element.tagName&&this.element.options[0]){let e=this.element;this.value=e.options[e.selectedIndex].value,this.text=UO(this.value)?null:e.options[e.selectedIndex].textContent,this.initValue()}this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=e=>{e.stopImmediatePropagation()},this.inputElement.onchange=e=>{e.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),UO(this.text)||this.inputElement.setAttribute("value",this.text)}this.renderComplete()}setFooterTemplate(e){let t;this.footer?this.footer.innerHTML="":(this.footer=this.createElement("div"),RD([this.footer],YN.footer)),t=fD(this.dropdownCompiler(this.footerTemplate)?document.querySelector(this.footerTemplate).innerHTML.trim():this.footerTemplate);for(let n of t({},null,null,this.footerTemplateId,this.isStringTemplate))this.footer.appendChild(n);this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!1,!1,!0),jD([this.footer],e)}setHeaderTemplate(e){let t;this.header?this.header.innerHTML="":(this.header=this.createElement("div"),RD([this.header],YN.header)),t=fD(this.dropdownCompiler(this.headerTemplate)?document.querySelector(this.headerTemplate).innerHTML.trim():this.headerTemplate);for(let i of t({},null,null,this.headerTemplateId,this.isStringTemplate))this.header.appendChild(i);this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!1,!0,!1);let n=e.querySelector("div.e-content");e.insertBefore(this.header,n)}setOldText(e){this.text=e}setOldValue(e){this.value=e}refreshPopup(){UO(this.popupObj)||!document.body.contains(this.popupObj.element)||(!this.allowFiltering||jI.isDevice&&this.isFilterLayout())&&"autocomplete"!==this.getModuleName()||(FD([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container))}checkDatasource(e){e.dataSource&&!UO(Object.keys(e.dataSource))&&this.itemTemplate&&this.allowFiltering&&(this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1});let t=-1!==Object.keys(e).indexOf("value")&&UO(e.value),n=-1!==Object.keys(e).indexOf("text")&&UO(e.text);"autocomplete"!==this.getModuleName()&&this.allowFiltering&&(t||n)&&(this.itemData=null)}updateDataSource(e){""===this.inputElement.value&&(UO(e)||!UO(e.dataSource)&&(e.dataSource instanceof vM||0!==e.dataSource.length))||this.clearAll(null,e),(UO(e)||!UO(e.dataSource)&&(e.dataSource instanceof vM||0!==e.dataSource.length)||e.dataSource!==[])&&this.resetList(this.dataSource),this.isCustomFilter||this.isFilterFocus||document.activeElement===this.filterInput||this.checkCustomValue()}checkCustomValue(){this.itemData=this.getDataByValue(this.value);let e=this.getItemData();this.setProperties({value:e.value,text:e.text})}updateInputFields(){"dropdownlist"===this.getModuleName()&&ZP.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}onPropertyChanged(e,t){"dropdownlist"===this.getModuleName()&&(this.isServerBlazor||(this.checkDatasource(e),this.setUpdateInitial(["fields","query","dataSource"],e)));for(let n of Object.keys(e))switch(n){case"query":case"dataSource":break;case"htmlAttributes":this.setHTMLAttributes();break;case"width":this.setEleWidth(e.width);break;case"placeholder":ZP.setPlaceholder(e.placeholder,this.inputElement);break;case"filterBarPlaceholder":this.filterInput&&ZP.setPlaceholder(e.filterBarPlaceholder,this.filterInput);break;case"readonly":"dropdownlist"!==this.getModuleName()&&ZP.setReadonly(e.readonly,this.inputElement);break;case"cssClass":this.setCssClass(e.cssClass,t.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnable();break;case"text":if(null===e.text){this.clearAll();break}if(this.list||(this.dataSource instanceof vM&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){let n=this.getElementByText(e.text);this.checkValidLi(n)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.text,t.text,"text"):this.setOldText(t.text)),this.updateInputFields()}break;case"value":if(null===e.value){this.clearAll();break}if(this.notify("beforeValueChange",{newProp:e}),this.list||(this.dataSource instanceof vM&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){let n=this.getElementByValue(e.value);this.checkValidLi(n)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.value,t.value,"value"):this.setOldValue(t.value)),this.updateInputFields()}break;case"index":if(null===e.index){this.clearAll();break}this.list||(this.dataSource instanceof vM&&(this.initRemoteRender=!0),this.renderList()),this.initRemoteRender||(this.checkValidLi(this.liCollections[e.index])||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.index,t.index,"index"):this.index=t.index),this.updateInputFields());break;case"footerTemplate":this.popupObj&&this.setFooterTemplate(this.popupObj.element);break;case"headerTemplate":this.popupObj&&this.setHeaderTemplate(this.popupObj.element);break;case"valueTemplate":UO(this.itemData)||null==this.valueTemplate||this.setValueTemplate();break;case"allowFiltering":this.allowFiltering&&(this.actionCompleteData={ulElement:this.ulElement,list:this.listData,isUpdated:!0},this.updateSelectElementData(this.allowFiltering));break;case"floatLabelType":ZP.removeFloating(this.inputWrapper),ZP.addFloating(this.inputElement,e.floatLabelType,this.placeholder,this.createElement);break;case"showClearButton":ZP.setClearButton(e.showClearButton,this.inputElement,this.inputWrapper,null,this.createElement),this.bindClearEvent();break;default:let i;i=this.getPropObject(n,e,t),super.onPropertyChanged(i.newProperty,i.oldProperty)}}checkValidLi(e){return!!this.isValidLI(e)&&(this.setSelection(e,null),!0)}setSelectionData(e,t,n){let i;this.updateListValues=()=>{"text"===n?(i=this.getElementByText(e),this.checkValidLi(i)||this.setOldText(t)):"value"===n?(i=this.getElementByValue(e),this.checkValidLi(i)||this.setOldValue(t)):"index"===n&&(i=this.liCollections[e],this.checkValidLi(i)||(this.index=t))}}setCssClass(e,t){UO(t)||(t=t.replace(/\s+/g," ").trim()),UO(e)||(e=e.replace(/\s+/g," ").trim()),ZP.setCssClass(e,[this.inputWrapper.container],t),this.popupObj&&ZP.setCssClass(e,[this.popupObj.element],t)}getModuleName(){return"dropdownlist"}showPopup(){this.enabled&&(this.beforePopupOpen?this.refreshPopup():(this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):UO(this.list)||!WO(this.list)&&this.list.classList.contains("e-nodata")?this.renderList():this.isFiltering()&&this.isServerBlazor&&this.renderList(),this.isServerBlazor||this.invokeRenderPopup(),!this.isServerBlazor||UO(this.list)||"dropdownlist"!==this.getModuleName()&&this.isFiltering()||this.invokeRenderPopup()))}invokeRenderPopup(){if(jI.isDevice&&this.isFilterLayout()){let e=this;window.onpopstate=()=>{e.hidePopup()},history.pushState({},"")}UO(this.list.children[0])&&!this.list.classList.contains("e-nodata")||this.renderPopup(),WD(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}clientRenderPopup(e,t){t?(this.serverPopupEle=t,this.list=t.querySelector(".e-dropdownbase.e-content")?t.querySelector(".e-dropdownbase.e-content"):this.list,this.ulElement=this.list.querySelector("ul"),UO(this.ulElement)&&!this.list.classList.contains("e-nodata")&&RD([this.list],["e-nodata"]),this.liCollections=this.ulElement?this.ulElement.querySelectorAll(".e-list-item"):[],this.listData=e,"autocomplete"===this.getModuleName()&&this.liCollections.length>0&&this.renderHightSearch(),this.initRemoteRender=!1,this.isPopupOpen||this.serverBlazorUpdateSelection(),this.unWireListEvents(),this.wireListEvents(),this.isServerIncrementalSearch&&this.searchKeyEvent&&(this.isServerIncrementalSearch=!1,this.initial=!1,this.onServerIncrementalSearch(this.searchKeyEvent)),this.isServerNavigation&&this.searchKeyEvent&&("down"===this.searchKeyEvent.action||"up"===this.searchKeyEvent.action?(this.isServerNavigation=!1,this.updateUpDownAction(this.searchKeyEvent)):"home"!==this.searchKeyEvent.action&&"end"!==this.searchKeyEvent.action||(this.isServerNavigation=!1,this.updateHomeEndAction(this.searchKeyEvent))),this.beforePopupOpen&&this.invokeRenderPopup(),"dropdownlist"!==this.getModuleName()&&this.onActionComplete(this.ulElement,this.listData)):null!=e&&this.listData!==e&&(this.listData=e,this.initRemoteRender=!1)}renderHightSearch(){}updateclientItemData(e){this.listData=e}serverUpdateListElement(e,t){this.listData=e,this.ulElement&&(this.liCollections=this.ulElement.querySelectorAll(".e-list-item"))}hidePopup(e){if(this.DropDownBaseresetBlazorTemplates(!1,!1,!1,!1,!1,!!this.headerTemplate,!!this.headerTemplate),this.isEscapeKey&&"dropdownlist"===this.getModuleName())if(ZP.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,UO(this.index))this.resetSelection();else{let e=this.findListElement(this.ulElement,"li","data-value",this.value);this.selectedLI=this.liCollections[this.index]||e,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&null!==this.itemData&&this.setValueTemplate())}this.closePopup();let t=this.getItemData();""!==this.inputElement.value.trim()||this.isInteracted||!this.isSelectCustom&&(UO(this.selectedLI)||this.inputElement.value===t.text)||(this.isSelectCustom=!1,this.clearAll(e))}focusIn(e){if(!this.enabled)return;if(this.targetElement().classList.contains(YN.disable))return;let t=!1;this.preventFocus&&jI.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,t=!0),t||this.targetElement().focus(),RD([this.inputWrapper.container],[YN.inputFocus]),this.onFocus(e)}focusOut(e){this.enabled&&(this.isTyped=!0,this.hidePopup(e),this.targetElement().blur(),FD([this.inputWrapper.container],[YN.inputFocus]))}destroy(){if(this.isActive=!1,(!this.isServerBlazor||this.popupObj&&document.body.contains(this.popupObj.element))&&this.hidePopup(),this.unWireEvent(),this.list&&(this.unWireListEvents(),this.isServerBlazor&&this.fields.groupBy&&!this.isGroupChecking&&zI.remove(this.list,"scroll",this.setFloatingHeader)),!this.isServerBlazor){if(this.element&&!this.element.classList.contains("e-"+this.getModuleName()))return;let e=["readonly","aria-disabled","aria-placeholder","placeholder","aria-owns","aria-labelledby","aria-haspopup","aria-expanded","aria-activedescendant","autocomplete","aria-readonly","autocorrect","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"];for(let t=0;t<e.length;t++)this.inputElement.removeAttribute(e[t]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),ZP.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.element.style.display="block",this.inputWrapper.container.parentElement.tagName===this.getNgDirective()?qD(this.inputWrapper.container):(this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),qD(this.inputWrapper.container)),super.destroy()}}getItems(){return this.list||(this.dataSource instanceof vM&&(this.initRemoteRender=!0),this.renderList()),this.ulElement?super.getItems():[]}getDataByValue(e){return super.getDataByValue(e)}clear(){this.value=null}};return WN([dA(null)],e.prototype,"cssClass",void 0),WN([dA("100%")],e.prototype,"width",void 0),WN([dA("300px")],e.prototype,"popupHeight",void 0),WN([dA("100%")],e.prototype,"popupWidth",void 0),WN([dA(null)],e.prototype,"placeholder",void 0),WN([dA(null)],e.prototype,"filterBarPlaceholder",void 0),WN([dA({})],e.prototype,"htmlAttributes",void 0),WN([dA(null)],e.prototype,"query",void 0),WN([dA(null)],e.prototype,"valueTemplate",void 0),WN([dA(null)],e.prototype,"headerTemplate",void 0),WN([dA(null)],e.prototype,"footerTemplate",void 0),WN([dA(!1)],e.prototype,"allowFiltering",void 0),WN([dA(!1)],e.prototype,"readonly",void 0),WN([dA(null)],e.prototype,"text",void 0),WN([dA(null)],e.prototype,"value",void 0),WN([dA(null)],e.prototype,"index",void 0),WN([dA("Never")],e.prototype,"floatLabelType",void 0),WN([dA(!1)],e.prototype,"showClearButton",void 0),WN([mA()],e.prototype,"filtering",void 0),WN([mA()],e.prototype,"change",void 0),WN([mA()],e.prototype,"beforeOpen",void 0),WN([mA()],e.prototype,"open",void 0),WN([mA()],e.prototype,"close",void 0),WN([mA()],e.prototype,"blur",void 0),WN([mA()],e.prototype,"focus",void 0),e=WN([fA],e),e})();var XN=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};YN.root="e-combobox";let KN={container:null,buttons:[]},ZN=(()=>{let e=class extends GN{constructor(e,t){super(e,t)}preRender(){super.preRender()}getLocaleName(){return"combo-box"}wireEvent(){"combobox"===this.getModuleName()&&(zI.add(this.inputWrapper.buttons[0],"mousedown",this.preventBlur,this),zI.add(this.inputWrapper.container,"blur",this.onBlur,this)),UO(this.inputWrapper.buttons[0])||zI.add(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick,this),zI.add(this.inputElement,"focus",this.targetFocus,this),this.readonly||(zI.add(this.inputElement,"input",this.onInput,this),zI.add(this.inputElement,"keyup",this.onFilterUp,this),zI.add(this.inputElement,"keydown",this.onFilterDown,this),zI.add(this.inputElement,"paste",this.pasteHandler,this)),this.bindCommonEvent()}preventBlur(e){(this.allowFiltering||document.activeElement===this.inputElement||document.activeElement.classList.contains(YN.input)||!jI.isDevice)&&jI.isDevice||e.preventDefault()}onBlur(e){let t=""===this.inputElement.value?null:this.inputElement.value;UO(this.listData)||UO(t)||t===this.text||this.customValue(e),super.onBlur(e)}targetElement(){return this.inputElement}setOldText(e){ZP.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue(),this.removeSelection()}setOldValue(e){this.valueMuteChange(this.allowCustom?this.value:null),this.removeSelection(),this.setHiddenValue()}valueMuteChange(e){let t=UO(e)?null:e.toString();ZP.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e,text:e,index:null},!0),this.activeIndex=this.index;let n=this.fields,i={};i[n.text]=UO(e)?null:e.toString(),i[n.value]=UO(e)?null:e.toString(),this.itemData=i,this.item=null,this.previousValue!==this.value&&this.detachChangeEvent(null)}updateValues(){if(UO(this.value))if(this.text&&UO(this.value)){let e=this.getElementByText(this.text);e?this.setSelection(e,null):(ZP.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue())}else this.setSelection(this.liCollections[this.activeIndex],null);else{let e=this.getElementByValue(this.value);e?this.setSelection(e,null):this.valueMuteChange(this.allowCustom?this.value:null)}this.setHiddenValue(),ZP.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}updateIconState(){this.showClearButton&&(""===this.inputElement.value||this.readonly?RD([this.inputWrapper.clearButton],YN.clearIconHide):FD([this.inputWrapper.clearButton],YN.clearIconHide))}getAriaAttributes(){return{"aria-owns":this.element.id+"_options",role:"combobox","aria-autocomplete":"both","aria-labelledby":this.hiddenElement.id,"aria-hasPopup":"true","aria-expanded":"false","aria-readonly":this.readonly.toString(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}}searchLists(e){this.isTyped=!0,this.isFiltering()?(super.searchLists(e),this.ulElement&&""===this.filterInput.value.trim()&&this.setHoverList(this.ulElement.querySelector("."+YN.li))):(this.ulElement&&""===this.inputElement.value&&this.preventAutoFill&&this.setHoverList(this.ulElement.querySelector("."+YN.li)),this.incrementalSearch(e))}getNgDirective(){return"EJS-COMBOBOX"}setSearchBox(){return this.filterInput=this.inputElement,this.isFiltering()?this.inputWrapper:KN}onActionComplete(e,t,n,i){this.isServerBlazor||super.onActionComplete(e,t,n),this.isSelectCustom&&this.removeSelection(),!this.preventAutoFill&&"combobox"===this.getModuleName()&&this.isTyped&&this.inlineSearch()}getFocusElement(){let e=this.isSelectCustom?{text:""}:this.getItemData(),t=this.list.querySelector("."+YN.selected);if(e.text===this.inputElement.value&&!UO(t))return t;if((jI.isDevice&&!this.isDropDownClick||!jI.isDevice)&&!UO(this.liCollections)&&this.liCollections.length>0){let e=BN(this.inputElement.value,this.liCollections,"StartsWith",!0).item;if(UO(e))this.isSelectCustom&&""!==this.inputElement.value.trim()&&(this.removeFocus(),this.list.scrollTop=0);else{let t=this.getIndexByValue(e.getAttribute("data-value"))-1,n=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10);isNaN(n)||"autocomplete"===this.getModuleName()||(this.removeFocus(),this.list.scrollTop=t*n+(this.fields.groupBy?this.liCollections[0].offsetHeight:0),RD([e],YN.focus))}return e}return null}setValue(e){return e&&"keydown"===e.type&&"enter"===e.action&&this.removeFillSelection(),this.autofill&&"combobox"===this.getModuleName()&&e&&"keydown"===e.type&&"enter"!==e.action?(this.preventAutoFill=!1,this.inlineSearch(e),!1):super.setValue(e)}checkCustomValue(){this.itemData=this.getDataByValue(this.value);let e=this.getItemData();this.allowCustom&&UO(e.value)&&UO(e.text)||this.setProperties({value:e.value,text:e.text},!0)}showSpinner(){UO(this.spinnerElement)&&(this.spinnerElement="autocomplete"===this.getModuleName()?this.inputWrapper.buttons[0]||this.inputWrapper.clearButton||ZP.appendSpan("e-input-group-icon e-atc-spinner-icon",this.inputWrapper.container,this.createElement):this.inputWrapper.buttons[0]||this.inputWrapper.clearButton,RD([this.spinnerElement],YN.disableIcon),OP({target:this.spinnerElement,width:jI.isDevice?"16px":"14px"},this.createElement),HP(this.spinnerElement))}hideSpinner(){UO(this.spinnerElement)||(VP(this.spinnerElement),FD([this.spinnerElement],YN.disableIcon),this.spinnerElement.classList.contains("e-atc-spinner-icon")?qD(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)}setAutoFill(e,t){if(t||this.setHoverList(e),this.autofill&&!this.preventAutoFill){let t=this.getTextByValue(e.getAttribute("data-value")).toString(),n=this.getFormattedValue(e.getAttribute("data-value"));"combobox"===this.getModuleName()&&(this.isSelected||this.previousValue===n?this.updateSelectedItem(e,null,!0):(this.updateSelectedItem(e,null),this.isSelected=!0,this.previousValue=this.getFormattedValue(e.getAttribute("data-value")))),this.isAndroidAutoFill(t)||this.setAutoFillSelection(t)}}isAndroidAutoFill(e){if(jI.isAndroid){let t=this.getSelectionPoints(),n=this.prevSelectPoints.end,i=t.end,s=this.prevSelectPoints.start,l=t.start;return 0!==n&&(n===e.length&&s===e.length||s>l&&n>i||n===i&&s===l)}return!1}clearAll(e,t){(UO(t)||!UO(t)&&UO(t.dataSource))&&(super.clearAll(e),this.isServerBlazor&&this.isFiltering()&&this.isPopupOpen&&e&&this.interopAdaptor.invokeMethodAsync("OnServerRenderList",this.beforePopupOpen,!0))}isSelectFocusItem(e){return!UO(e)}inlineSearch(e){let t=e&&("down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action||"pageUp"===e.action||"pageDown"===e.action),n=t?this.liCollections[this.activeIndex]:this.getFocusElement();if(UO(n))if(""===this.inputElement.value){this.activeIndex=null,this.list.scrollTop=0;let e=this.list.querySelector("."+YN.li);this.setHoverList(e)}else this.activeIndex=null,this.removeSelection(),this.liCollections&&this.liCollections.length<0&&this.removeFocus();else{if(!t){let e=this.getFormattedValue(n.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(e),this.activeIndex=UO(this.activeIndex)?null:this.activeIndex}this.preventAutoFill=""!==this.inputElement.value&&this.preventAutoFill,this.setAutoFill(n,t)}}incrementalSearch(e){this.showPopup(),UO(this.listData)||(this.inlineSearch(e),e.preventDefault())}setAutoFillSelection(e){let t=this.getSelectionPoints(),n=this.inputElement.value.substr(0,t.start);if(n&&n.toLowerCase()===e.substr(0,t.start).toLowerCase()){let i=n+e.substr(n.length,e.length);ZP.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(t.start,this.inputElement.value.length)}else ZP.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(0,this.inputElement.value.length)}getValueByText(e){return super.getValueByText(e,!0,this.ignoreAccent)}unWireEvent(){"combobox"===this.getModuleName()&&(zI.remove(this.inputWrapper.buttons[0],"mousedown",this.preventBlur),zI.remove(this.inputWrapper.container,"blur",this.onBlur)),UO(this.inputWrapper.buttons[0])||zI.remove(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick),zI.remove(this.inputElement,"focus",this.targetFocus),this.readonly||(zI.remove(this.inputElement,"input",this.onInput),zI.remove(this.inputElement,"keyup",this.onFilterUp),zI.remove(this.inputElement,"keydown",this.onFilterDown),zI.remove(this.inputElement,"paste",this.pasteHandler)),this.unBindCommonEvent()}setSelection(e,t){super.setSelection(e,t),UO(e)||this.autofill||this.isDropDownClick||this.removeFocus()}selectCurrentItem(e){let t;this.isPopupOpen&&(t=this.list.querySelector(this.isSelected?"."+YN.selected:"."+YN.focus),t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e))),"enter"===e.action&&""===this.inputElement.value.trim()?this.clearAll(e):this.isTyped&&!this.isSelected&&UO(t)&&this.customValue(e),this.hidePopup()}setHoverList(e){this.removeSelection(),this.isValidLI(e)&&!e.classList.contains(YN.selected)&&(this.removeFocus(),e.classList.add(YN.focus))}targetFocus(e){jI.isDevice&&!this.allowFiltering&&(this.preventFocus=!1),this.onFocus(e)}dropDownClick(e){e.preventDefault(),jI.isDevice&&!this.allowFiltering&&(this.preventFocus=!0),super.dropDownClick(e)}customValue(e){let t=this.getValueByText(this.inputElement.value);if(this.allowCustom||""===this.inputElement.value)if(""!==this.inputElement.value.trim()){let n=this.value;if(UO(t)){let t,i=""===this.inputElement.value?null:this.inputElement.value;t={text:i,item:{}},this.initial?this.updateCustomValueCallback(i,t,n):this.trigger("customValueSpecifier",t,t=>{this.updateCustomValueCallback(i,t,n,e)})}else this.isSelectCustom=!1,this.setProperties({value:t}),n!==this.value&&this.onChangeEvent(e)}else this.allowCustom&&(this.isSelectCustom=!0);else{let e=this.previousValue,n=this.value;this.setProperties({value:t}),UO(this.value)&&ZP.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.autofill&&e===this.value&&n!==this.value&&this.onChangeEvent(null)}}updateCustomValueCallback(e,t,n,i){let s=this.fields,l=t.item,r={};l&&HO(s.text,l)&&HO(s.value,l)?r=l:(BO(s.text,e,r),BO(s.value,e,r)),this.itemData=r;let a={text:HO(s.text,this.itemData),value:HO(s.value,this.itemData),index:null};this.setProperties(a,!0),this.setSelection(null,null),this.isSelectCustom=!0,n!==this.value&&this.onChangeEvent(i)}onPropertyChanged(e,t){"combobox"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e);for(let n of Object.keys(e))switch(n){case"readonly":ZP.setReadonly(this.readonly,this.inputElement),this.readonly?(zI.remove(this.inputElement,"input",this.onInput),zI.remove(this.inputElement,"keyup",this.onFilterUp),zI.remove(this.inputElement,"keydown",this.onFilterDown)):(zI.add(this.inputElement,"input",this.onInput,this),zI.add(this.inputElement,"keyup",this.onFilterUp,this),zI.add(this.inputElement,"keydown",this.onFilterDown,this));break;case"allowFiltering":this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&UO(this.list)&&super.renderList();break;case"allowCustom":break;default:let i;i=this.getPropObject(n,e,t),super.onPropertyChanged(i.newProperty,i.oldProperty)}}render(){super.render(),this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&UO(this.list)&&super.renderList(),this.renderComplete()}getModuleName(){return"combobox"}addItem(e,t){super.addItem(e,t)}filter(e,t,n){super.filter(e,t,n)}showPopup(){super.showPopup()}hidePopup(e){let t=""===this.inputElement.value?null:this.inputElement.value;if(!UO(this.listData)){let t=this.isEscapeKey;this.isEscapeKey&&(ZP.setValue(this.typedString,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1),this.autofill&&this.removeFillSelection();let n=this.isSelectCustom?{text:""}:this.getItemData(),i=this.list.querySelector("."+YN.selected);if(n.text===this.inputElement.value&&!UO(i))return this.isSelected&&(this.onChangeEvent(e),this.isSelectCustom=!1),void super.hidePopup(e);if("combobox"===this.getModuleName()&&""!==this.inputElement.value.trim()){let e=BN(this.inputElement.value,this.liCollections,"Equal",!0);this.selectedLI=e.item,UO(e.index)&&(e.index=BN(this.inputElement.value,this.liCollections,"StartsWith",!0).index),this.activeIndex=e.index,UO(this.selectedLI)?t&&(this.isSelectCustom=!0,this.removeSelection()):this.updateSelectedItem(this.selectedLI,null,!0)}this.isEscapeKey||!this.isTyped||this.isInteracted||this.customValue(e)}UO(this.listData)&&this.allowCustom&&!UO(t)&&t!==this.value&&this.customValue(),super.hidePopup(e)}focusIn(){this.enabled&&(jI.isDevice&&!this.allowFiltering&&(this.preventFocus=!0),super.focusIn())}clear(){this.value=null}focusOut(e){super.focusOut(e)}getItems(){return super.getItems()}getDataByValue(e){return super.getDataByValue(e)}renderHightSearch(){}};return XN([dA(!1)],e.prototype,"autofill",void 0),XN([dA(!0)],e.prototype,"allowCustom",void 0),XN([dA({})],e.prototype,"htmlAttributes",void 0),XN([dA(!1)],e.prototype,"allowFiltering",void 0),XN([dA(null)],e.prototype,"query",void 0),XN([dA(null)],e.prototype,"index",void 0),XN([dA(!0)],e.prototype,"showClearButton",void 0),XN([dA(!1)],e.prototype,"enableRtl",void 0),XN([mA()],e.prototype,"customValueSpecifier",void 0),XN([mA()],e.prototype,"filtering",void 0),XN([dA(null)],e.prototype,"valueTemplate",void 0),XN([dA("Never")],e.prototype,"floatLabelType",void 0),XN([dA(null)],e.prototype,"filterBarPlaceholder",void 0),XN([dA(null)],e.prototype,"cssClass",void 0),XN([dA(null)],e.prototype,"headerTemplate",void 0),XN([dA(null)],e.prototype,"footerTemplate",void 0),XN([dA(null)],e.prototype,"placeholder",void 0),XN([dA("100%")],e.prototype,"width",void 0),XN([dA("300px")],e.prototype,"popupHeight",void 0),XN([dA("100%")],e.prototype,"popupWidth",void 0),XN([dA(!1)],e.prototype,"readonly",void 0),XN([dA(null)],e.prototype,"text",void 0),XN([dA(null)],e.prototype,"value",void 0),e=XN([fA],e),e})();var JN=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};YN.root="e-autocomplete",YN.icon="e-input-group-icon e-ddl-icon e-search-icon";let QN=(()=>{let e=class extends ZN{constructor(e,t){super(e,t),this.isFiltered=!1}preRender(){super.preRender()}getLocaleName(){return"auto-complete"}getNgDirective(){return"EJS-AUTOCOMPLETE"}getQuery(e){let t=e?e.clone():this.query?this.query.clone():new hM,n=""!==this.queryString||UO(this.value)?this.filterType:"equal",i=""!==this.queryString||UO(this.value)?this.queryString:this.value;if(this.isFiltered)return t;if(null!==this.queryString){let e=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof vM||"string"!==e)&&"number"!==e){let e=UO(this.fields.value)?"":this.fields.value;t.where(e,n,i,this.ignoreCase,this.ignoreAccent)}else t.where("",n,i,this.ignoreCase,this.ignoreAccent)}if(!UO(this.suggestionCount)){if(20!==this.suggestionCount)for(let e=0;e<t.queries.length;e++)"onTake"===t.queries[e].fn&&t.queries.splice(e,1);t.take(this.suggestionCount)}return t}searchLists(e){if(this.isTyped=!0,this.isDataFetched=this.isSelectCustom=!1,this.isServerBlazor)this.beforePopupOpen=this.isFiltering()&&!this.beforePopupOpen?!this.beforePopupOpen:this.beforePopupOpen,this.queryString=this.filterInput.value,""!==this.queryString&&this.queryString.length>=this.minLength?this.interopAdaptor.invokeMethodAsync("OnServerFilter",this.filterInput.value):this.hidePopup();else{if(UO(this.list)&&super.renderList(!0),this.queryString=this.filterInput.value,40===e.keyCode||38===e.keyCode)return this.queryString=""===this.queryString?null:this.queryString,this.beforePopupOpen=!0,void this.resetList(this.dataSource,this.fields);this.isSelected=!1,this.activeIndex=null;let t={preventDefaultAction:!1,text:this.filterInput.value,updateData:(e,n,i)=>{t.cancel||(this.isFiltered=!0,this.filterAction(e,n,i))},cancel:!1};this.trigger("filtering",t,e=>{e.cancel||this.isFiltered||e.preventDefaultAction||this.filterAction(this.dataSource,null,this.fields)})}}filter(e,t,n){this.isFiltered=!0,this.filterAction(e,t,n)}filterAction(e,t,n){this.beforePopupOpen=!0,""!==this.queryString&&this.queryString.length>=this.minLength?this.resetList(e,n,t):this.hidePopup()}clearAll(e,t){(UO(t)||!UO(t)&&UO(t.dataSource))&&super.clearAll(e),this.beforePopupOpen&&this.hidePopup()}onActionComplete(e,t,n,i){this.fixedHeaderElement=null,super.onActionComplete(e,t,n);let s=this.list.querySelector("."+YN.li);UO(s)||FD([s],YN.focus),this.postBackAction()}postBackAction(){this.autofill&&!UO(this.liCollections[0])&&(UO(BN(this.inputElement.value,[this.liCollections[0]],"StartsWith",this.ignoreCase).item)||super.setAutoFill(this.liCollections[0],!0))}setSelection(e,t){if(this.isValidLI(e))if(!UO(t)&&"keydown"===t.type&&"enter"!==t.action&&"tab"!==t.action&&this.isValidLI(e)){let n=this.getFormattedValue(e.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(n),this.isServerBlazor&&this.removeHover(),this.setHoverList(e),this.selectedLI=e,this.setScrollPosition(t),this.autofill&&(this.preventAutoFill=!1,super.setAutoFill(e)),WD(this.inputElement,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}else super.setSelection(e,t)}listOption(e,t){let n=super.listOption(e,t);if(UO(n.itemCreated))n.itemCreated=e=>{this.highlight&&(this.element.tagName===this.getNgDirective()&&this.itemTemplate?setTimeout(()=>{VN(e.item,this.queryString,this.ignoreCase,this.filterType)},0):VN(e.item,this.queryString,this.ignoreCase,this.filterType))};else{let e=n.itemCreated;n.itemCreated=t=>{this.highlight&&VN(t.item,this.queryString,this.ignoreCase,this.filterType),e.apply(this,[t])}}return n}isFiltering(){return!0}renderPopup(){this.list.scrollTop=0,super.renderPopup()}isEditTextBox(){return""!==this.inputElement.value.trim()}isPopupButton(){return this.showPopupButton}isSelectFocusItem(e){return!1}showPopup(){this.enabled&&(!this.beforePopupOpen||this.isServerBlazor?(this.beforePopupOpen=!0,this.preventAutoFill=!0,UO(this.list)||this.isServerBlazor?this.renderList():this.resetList(this.dataSource,this.fields)):this.refreshPopup())}hidePopup(){this.DropDownBaseresetBlazorTemplates(!0,!1,!1,!1),super.hidePopup(),this.activeIndex=-1}onPropertyChanged(e,t){"autocomplete"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e);for(let n of Object.keys(e))switch(n){case"showPopupButton":if(this.showPopupButton){if(this.isServerBlazor){if(this.inputWrapper&&this.inputWrapper.container){let e=this.inputWrapper.container.querySelector(".e-input-group-icon.e-ddl-icon");this.inputWrapper.buttons[0]=e}}else{let e=ZP.appendSpan(YN.icon,this.inputWrapper.container,this.createElement);this.inputWrapper.buttons[0]=e}this.inputWrapper&&this.inputWrapper.buttons&&this.inputWrapper.buttons[0]&&zI.add(this.inputWrapper.buttons[0],"click",this.dropDownClick,this)}else this.isServerBlazor||(qD(this.inputWrapper.buttons[0]),this.inputWrapper.buttons[0]=null);break;default:let i;i=this.getPropObject(n,e,t),super.onPropertyChanged(i.newProperty,i.oldProperty)}}renderHightSearch(){if(this.highlight)for(let e=0;e<this.liCollections.length;e++)this.ulElement.querySelector(".e-active")||(jN(this.liCollections[e]),VN(this.liCollections[e],this.queryString,this.ignoreCase,this.filterType,this.isServerBlazor))}getModuleName(){return"autocomplete"}render(){super.render()}};return JN([uA({value:null,iconCss:null,groupBy:null},qN)],e.prototype,"fields",void 0),JN([dA(!0)],e.prototype,"ignoreCase",void 0),JN([dA(!1)],e.prototype,"showPopupButton",void 0),JN([dA(!1)],e.prototype,"highlight",void 0),JN([dA(20)],e.prototype,"suggestionCount",void 0),JN([dA({})],e.prototype,"htmlAttributes",void 0),JN([dA(null)],e.prototype,"query",void 0),JN([dA(1)],e.prototype,"minLength",void 0),JN([dA("Contains")],e.prototype,"filterType",void 0),JN([mA()],e.prototype,"filtering",void 0),JN([dA(null)],e.prototype,"index",void 0),JN([dA("Never")],e.prototype,"floatLabelType",void 0),JN([dA(null)],e.prototype,"valueTemplate",void 0),JN([dA(null)],e.prototype,"filterBarPlaceholder",void 0),JN([dA(!1)],e.prototype,"allowFiltering",void 0),JN([dA(null)],e.prototype,"text",void 0),e=JN([fA],e),e})();var eR=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const tR="e-other-month",nR="e-overlay",iR="e-focused-date";let sR=(()=>{let e=class extends TA{constructor(e,t){super(e,t),this.effect="",this.isPopupClicked=!1,this.isDateSelected=!0}render(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new SI(this.locale),(UO(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add("e-calendar"),this.enableRtl&&this.element.classList.add("e-rtl"),jI.isDevice&&this.element.classList.add("e-device"),WD(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add("e-calendar"),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),jI.isDevice&&this.calendarElement.classList.add("e-device"),WD(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()}rangeValidation(e,t){UO(e)&&this.setProperties({min:new Date(1900,0,1)},!0),UO(t)&&this.setProperties({max:new Date(2099,11,31)},!0)}getDefaultKeyConfig(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs}validateDate(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!UO(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))}setOverlayIndex(e,t,n,i){if(i&&!UO(t)&&!UO(n)&&!UO(e)){let i=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;n.style.zIndex=(i-1).toString(),e.style.zIndex=i.toString()}}minMaxUpdate(e){+this.min<=+this.max?FD([this.element],nR):(this.setProperties({min:this.min},!0),RD([this.element],nR)),this.min=UO(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=UO(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}createHeader(){this.headerElement=this.createElement("div",{className:"e-header"});let e=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),wA(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),WD(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),wA(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),WD(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),WD(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev e-icons"})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  e-icons"})),e.appendChild(this.previousIcon),e.appendChild(this.nextIcon),this.headerElement.appendChild(e),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()}createContent(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()}getCultureValues(){let e,t=[],n="days.stand-alone."+this.dayHeaderFormat.toLowerCase();e="en"===this.locale||"en-US"===this.locale?HO(n,OI()):this.getCultureObjects(wI,""+this.locale);for(let i of Object.keys(e))t.push(HO(i,e));return t}toCapitalize(e){return!UO(e)&&e.length?e[0].toUpperCase()+e.slice(1):e}createContentHeader(){"calendar"===this.getModuleName()?UO(this.element.querySelectorAll(".e-content .e-week-header")[0])||qD(this.element.querySelectorAll(".e-content .e-week-header")[0]):UO(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||qD(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);let e,t="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(t+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?RD([this.element],"e-week-number"):RD([this.calendarElement],"e-week-number")),e=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(let n=0;n<=6;n++)t+='<th  class="">'+this.toCapitalize(e[n])+"</th>";t="<tr>"+t+"</tr>",this.tableHeadElement.innerHTML=t,this.table.appendChild(this.tableHeadElement)}createContentBody(){switch("calendar"===this.getModuleName()?UO(this.element.querySelectorAll(".e-content tbody")[0])||qD(this.element.querySelectorAll(".e-content tbody")[0]):UO(this.calendarElement.querySelectorAll(".e-content tbody")[0])||qD(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}}updateFooter(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))}createContentFooter(){if(this.showTodayButton){let e=new Date(+this.min),t=new Date(+this.max),n={today:"Today"};this.globalize=new SI(this.locale),this.l10=new WA(this.getModuleName(),n,this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),wA(this.todayElement),this.updateFooter(),RD([this.todayElement],["e-btn","e-today","e-flat","e-primary","e-css"]),+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(t.setHours(0,0,0,0))&&!this.todayDisabled||RD([this.todayElement],"e-disabled"),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains("e-disabled")||zI.add(this.todayElement,"click",this.todayButtonClick,this)}}wireEvents(e,t,n,i){zI.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=qO(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModule="calendar"===this.getModuleName()?new UA(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):new UA(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}dateWireEvents(e,t,n,i){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=qO(this.defaultKeyConfigs,n),this.blazorRef=t,this.serverModuleName=i}todayButtonClick(e){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(e))):this.navigateTo("Month",new Date(this.checkValue(e))))}checkDeviceMode(e){}keyActionHandle(e,t,n){let i,s=this.tableBodyElement.querySelector("tr td.e-focused-date");i=n?UO(s)||+t!==parseInt(s.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):s:this.tableBodyElement.querySelector("tr td.e-selected");{let n=this.getViewNumber(this.currentView()),l=this.getViewNumber(this.depth),r=n===l&&this.getViewNumber(this.start)>=l;switch(this.effect="",e.action){case"moveLeft":this.KeyboardNavigate(-1,n,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,n,e,this.max,this.min),e.preventDefault();break;case"moveUp":this.KeyboardNavigate(0===n?-7:-4,n,e,this.max,this.min),e.preventDefault();break;case"moveDown":this.KeyboardNavigate(0===n?7:4,n,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(t);else{let l=UO(s)?i:s;if(!UO(l)&&!l.classList.contains("e-disabled"))if(r){let t=new Date(parseInt(""+l.id,0));this.selectDate(e,t,l)}else this.contentClick(null,--n,l,t)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":UO(s)&&(UO(i)||r)||this.contentClick(null,--n,s||i,t),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),qD(this.tableBodyElement),0===n?this.renderMonths(e):1===n?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,n),qD(this.tableBodyElement),0===n?this.renderMonths(e):1===n?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()}}KeyboardNavigate(e,t,n,i,s){let l=new Date(this.checkValue(this.currentDate));switch(t){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(qD(this.tableBodyElement),this.renderDecades(n)):this.currentDate=l;break;case 1:this.addMonths(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(qD(this.tableBodyElement),this.renderYears(n)):this.currentDate=l;break;case 0:this.addDay(this.currentDate,e,n,i,s),this.isMinMaxRange(this.currentDate)?(qD(this.tableBodyElement),this.renderMonths(n)):this.currentDate=l}}preRender(e){this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=e=>{this.triggerNavigate(e)}}minMaxDate(e){let t=new Date(new Date(+e).setHours(0,0,0,0)),n=new Date(new Date(+this.min).setHours(0,0,0,0)),i=new Date(new Date(+this.max).setHours(0,0,0,0));return+t!=+n&&+t!=+i||(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e}renderMonths(e,t){let n,i=this.weekNumber?8:7;n="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,e,t):this.islamicModule.islamicRenderDays(this.currentDate,t),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(n,i,"e-month",e,t):this.islamicModule.islamicRenderTemplate(n,i,"e-month",e,t)}renderDays(e,t,n,i,s){let l,r=[],a=new Date(this.checkValue(e)),o=a.getMonth();this.titleUpdate(e,"days");let h=a;for(a=new Date(h.getFullYear(),h.getMonth(),0,h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds());a.getDay()!==this.firstDayOfWeek;)this.setStartDate(a,-864e5);for(let c=0;c<42;++c){let t=this.createElement("td",{className:"e-cell"}),h=this.createElement("span");c%7==0&&this.weekNumber&&(h.textContent=""+this.getWeek(a),t.appendChild(h),RD([t],"e-week-number"),r.push(t)),l=new Date(+a),a=this.minMaxDate(a);let d={type:"dateTime",skeleton:"full"},u=this.globalize.parseDate(this.globalize.formatDate(a,d),d),p=this.dayCell(a),m=this.globalize.formatDate(a,{type:"date",skeleton:"full"}),f=this.createElement("span");f.textContent=this.globalize.formatDate(a,{format:"d",type:"date",skeleton:"yMd"});let g=this.min>a||this.max<a;g?(RD([p],"e-disabled"),RD([p],nR)):f.setAttribute("title",""+m),o!==a.getMonth()&&RD([p],tR),0!==a.getDay()&&6!==a.getDay()||RD([p],"e-weekend"),p.appendChild(f),this.renderDayCellArgs={date:a,isDisabled:!1,element:p,isOutOfRange:g};let b=this.renderDayCellArgs;if(this.renderDayCellEvent(b),b.isDisabled){let e=new Date(this.checkValue(n)),t=new Date(this.checkValue(b.date));if(i){if(!UO(s)&&s.length>0)for(let e=0;e<s.length;e++)+new Date(this.globalize.formatDate(b.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(s[e],{type:"date",skeleton:"yMd"}))&&(s.splice(e,1),e=-1)}else e&&+e==+t&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!p.classList.contains("e-selected")&&(RD([p],"e-disabled"),RD([p],nR),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));let v=p.classList.contains(tR),y=p.classList.contains("e-disabled");if(y||zI.add(p,"click",this.clickHandler,this),!i||UO(s)||y)!y&&this.getDateVal(a,n)?RD([p],"e-selected"):this.updateFocus(v,y,a,p,e);else{for(let t=0;t<s.length;t++){let i="Gregorian"===this.calendarMode?"gregorian":"islamic",l={format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:i};this.globalize.formatDate(a,l)===this.globalize.formatDate(s[t],l)&&this.getDateVal(a,s[t])||this.getDateVal(a,n)?RD([p],"e-selected"):this.updateFocus(v,y,a,p,e)}s.length<=0&&this.updateFocus(v,y,a,p,e)}u.getMonth()===(new Date).getMonth()&&u.getDate()===(new Date).getDate()&&u.getFullYear()===(new Date).getFullYear()&&RD([p],"e-today"),r.push(this.renderDayCellArgs.element),a=new Date(+l),this.addDay(a,1,null,this.max,this.min)}return r}updateFocus(e,t,n,i,s){s.getDate()!==n.getDate()||e||t?(s>=this.max&&parseInt(i.id,0)===+this.max&&!e&&!t&&RD([i],iR),s<=this.min&&parseInt(i.id,0)===+this.min&&!e&&!t&&RD([i],iR)):RD([i],iR)}renderYears(e,t){this.removeTableHeadElement();let n=[],i=UO(t),s=new Date(this.checkValue(this.currentDate)),l=s.getMonth(),r=s.getFullYear(),a=s,o=a.getFullYear(),h=new Date(this.checkValue(this.min)).getFullYear(),c=new Date(this.checkValue(this.min)).getMonth(),d=new Date(this.checkValue(this.max)).getFullYear(),u=new Date(this.checkValue(this.max)).getMonth();a.setMonth(0),this.titleUpdate(this.currentDate,"months"),a.setDate(1);for(let p=0;p<12;++p){let e=this.dayCell(a),s=this.createElement("span"),m=t&&t.getMonth()===a.getMonth(),f=t&&t.getFullYear()===r&&m;s.textContent=this.toCapitalize(this.globalize.formatDate(a,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(o<h||p<c&&o===h)||this.max&&(o>d||p>u&&o>=d)?RD([e],"e-disabled"):!i&&f?RD([e],"e-selected"):a.getMonth()===l&&this.currentDate.getMonth()===l&&RD([e],iR),a.setDate(1),a.setMonth(a.getMonth()+1),e.classList.contains("e-disabled")||zI.add(e,"click",this.clickHandler,this),e.appendChild(s),n.push(e)}this.renderTemplate(n,4,"e-year",e,t)}renderDecades(e,t){this.removeTableHeadElement();let n=[],i=new Date(this.checkValue(this.currentDate));i.setMonth(0),i.setDate(1);let s=i.getFullYear(),l=new Date(i.setFullYear(s-s%10)),r=new Date(i.setFullYear(s-s%10+9)),a=l.getFullYear(),o=r.getFullYear(),h=this.globalize.formatDate(l,{format:null,type:"dateTime",skeleton:"y"}),c=this.globalize.formatDate(r,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=h+" - "+c;let d=new Date(s-s%10-1,0,1).getFullYear();for(let u=0;u<12;++u){let e=d+u;i.setFullYear(e);let s=this.dayCell(i);WD(s,{role:"gridcell"});let l=this.createElement("span");l.textContent=this.globalize.formatDate(i,{format:null,type:"dateTime",skeleton:"y"}),e<a||e>o?(RD([s],"e-other-year"),UO(t)||i.getFullYear()!==t.getFullYear()||RD([s],"e-selected"),(e<new Date(this.checkValue(this.min)).getFullYear()||e>new Date(this.checkValue(this.max)).getFullYear())&&RD([s],"e-disabled")):e<new Date(this.checkValue(this.min)).getFullYear()||e>new Date(this.checkValue(this.max)).getFullYear()?RD([s],"e-disabled"):UO(t)||i.getFullYear()!==t.getFullYear()?i.getFullYear()!==this.currentDate.getFullYear()||s.classList.contains("e-disabled")||RD([s],iR):RD([s],"e-selected"),s.classList.contains("e-disabled")||zI.add(s,"click",this.clickHandler,this),s.appendChild(l),n.push(s)}this.renderTemplate(n,4,"e-decade",e,t)}dayCell(e){let t={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},n={className:"e-cell",attrs:{id:""+YO(""+this.globalize.parseDate(this.globalize.formatDate(e,t),t).valueOf()),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",n)}firstDay(e){let t="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+tR):this.tableBodyElement.querySelectorAll("td:not(.e-other-year");if(t.length)for(let n=0;n<t.length;n++)if(!t[n].classList.contains("e-disabled")){e=new Date(parseInt(t[n].id,0));break}return e}lastDay(e,t){let n=new Date(e.getFullYear(),e.getMonth()+1,0);if(2!==t){let t=Math.abs(n.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return t&&n.setHours(this.firstDay(e).getHours()+t/60),this.findLastDay(n)}return this.findLastDay(this.firstDay(n))}checkDateValue(e){return!UO(e)&&e instanceof Date&&!isNaN(+e)?e:null}findLastDay(e){let t="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(.e-other-year"):this.tableBodyElement.querySelectorAll("td:not(."+tR);if(t.length)for(let n=t.length-1;n>=0;n--)if(!t[n].classList.contains("e-disabled")){e=new Date(parseInt(t[n].id,0));break}return e}removeTableHeadElement(){"calendar"===this.getModuleName()?UO(this.element.querySelectorAll(".e-content table thead")[0])||qD(this.tableHeadElement):UO(this.calendarElement.querySelectorAll(".e-content table thead")[0])||qD(this.tableHeadElement)}renderTemplate(e,t,n,i,s){let l,r=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),FD([this.contentElement,this.headerElement],["e-month","e-decade","e-year"]),RD([this.contentElement,this.headerElement],[n]);let a=t,o=0;for(let h=0;h<e.length/t;++h){for(l=this.createElement("tr",{attrs:{role:"row"}}),o=0+o;o<a;o++)e[o].classList.contains("e-week-number")||UO(e[o].children[0])||(RD([e[o].children[0]],["e-day"]),wA(e[o].children[0],{duration:600,isCenterRipple:!0})),l.appendChild(e[o]),this.weekNumber&&7===o&&e[7].classList.contains(tR)&&RD([l],"e-month-hide"),!this.weekNumber&&6===o&&e[6].classList.contains(tR)&&RD([l],"e-month-hide"),this.weekNumber?41===o&&e[41].classList.contains(tR)&&RD([l],"e-month-hide"):35===o&&e[35].classList.contains(tR)&&RD([l],"e-month-hide");a+=t,o+=0,this.tableBodyElement.appendChild(l)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(r!==this.getViewNumber(this.currentView())||0===r&&r!==this.getViewNumber(this.currentView()))&&this.navigateHandler(i),this.setAriaActiveDescendant()}clickHandler(e,t){this.clickEventEmitter(e);let n=e.currentTarget,i=this.getViewNumber(this.currentView());n.classList.contains(tR)?this.contentClick(e,0,null,t):i===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(e,1,null,t):2===i?this.contentClick(e,1,null,t):n.classList.contains(tR)||0!==i?this.contentClick(e,0,n,t):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()}clickEventEmitter(e){e.preventDefault()}contentClick(e,t,n,i){let s=this.getViewNumber(this.currentView()),l=this.getIdValue(e,n);switch(t){case 0:s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(qD(this.tableBodyElement),this.currentDate=l,this.effect="e-zoomin",this.renderMonths(e)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(l.getMonth()),l.getMonth()>0&&this.currentDate.getMonth()!==l.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(l.getFullYear())):this.currentDate=l,this.effect="e-zoomin",qD(this.tableBodyElement),this.renderMonths(e));break;case 1:if(s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,l,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(l.getFullYear());else{let e=this.islamicModule.getIslamicDate(l);this.currentDate=this.islamicModule.toGregorian(e.year,e.month,1)}this.effect="e-zoomin",qD(this.tableBodyElement),this.renderYears(e)}}}switchView(e,t,n){switch(e){case 0:qD(this.tableBodyElement),this.renderMonths(t),n&&!UO(this.tableBodyElement.querySelectorAll("."+iR)[0])&&this.tableBodyElement.querySelectorAll("."+iR)[0].classList.remove(iR);break;case 1:qD(this.tableBodyElement),this.renderYears(t);break;case 2:qD(this.tableBodyElement),this.renderDecades(t)}}getModuleName(){return"calendar"}requiredModules(){let e=[];return this&&e.push({args:[this],member:"islamic"}),e}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(e,t,n,i){this.effect="";for(let s of Object.keys(e))switch(s){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===s?{min:this.checkDateValue(new Date(this.checkValue(e.min)))}:{max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),qD(this.tableBodyElement),this.minMaxUpdate(),n&&this.validateValues(n,i),this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(qD(this.todayElement),qD(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(FD([this.todayElement],"e-disabled"),qD(this.todayElement),qD(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":this.checkView(),this.createContentHeader(),this.createContentBody();break;case"locale":this.globalize=new SI(this.locale),this.createContentHeader(),this.createContentBody(),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():UO(this.todayElement)||UO(this.footer)||(qD(this.todayElement),qD(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}validateValues(e,t){if(e&&!UO(t)&&t.length>0){let e=this.copyValues(t);for(let t=0;t<e.length;t++){let n,i="Gregorian"===this.calendarMode?"gregorian":"islamic";n=this.globalize.formatDate(e[t],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});let s=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:i}),l=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:i});(+new Date(n)<+new Date(s)||+new Date(n)>+new Date(l))&&(e.splice(t,1),t=-1)}this.setProperties({values:e},!0)}}setValueUpdate(){UO(this.tableBodyElement)||(qD(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())}copyValues(e){let t=[];if(!UO(e)&&e.length>0)for(let n=0;n<e.length;n++)t.push(new Date(+e[n]));return t}titleUpdate(e,t){let n,i,s=new SI(this.locale),l="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(n=s.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:l}),i=s.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:l})):(n=s.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:l}),i=s.formatDate(e,{type:"dateTime",format:"y",calendar:l})),t){case"days":this.headerTitleElement.textContent=this.toCapitalize(n);break;case"months":this.headerTitleElement.textContent=i}}setActiveDescendant(){let e,t,n=this.tableBodyElement.querySelector("tr td.e-focused-date"),i=this.tableBodyElement.querySelector("tr td.e-selected"),s="Gregorian"===this.calendarMode?"gregorian":"islamic",l=this.currentView();return t=this.globalize.formatDate(this.currentDate,"Month"===l?{type:"date",skeleton:"full",calendar:s}:"Year"===l?"islamic"!==s?{type:"date",skeleton:"yMMMM",calendar:s}:{type:"date",skeleton:"GyMMM",calendar:s}:{format:null,type:"date",skeleton:"y",calendar:s}),(i||n)&&(UO(i)||i.setAttribute("aria-selected","true"),(n||i).setAttribute("aria-label",t),e=(n||i).getAttribute("id")),e}iconHandler(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}}destroy(){"calendar"===this.getModuleName()?FD([this.element],["e-calendar"]):this.calendarElement&&FD([this.element],["e-calendar"]),"calendar"===this.getModuleName()&&(zI.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&zI.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),UO(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element.innerHTML="",super.destroy()}title(e){let t=this.getViewNumber(this.currentView());this.effect="e-zoomin",this.switchView(++t,e)}getViewNumber(e){return"Month"===e?0:"Year"===e?1:2}navigateTitle(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()}previous(){this.effect="";let e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}}navigatePrevious(e){e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()}next(){this.effect="";let e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}}navigateNext(e){e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()}navigateTo(e,t){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+t>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e))}currentView(){return this.contentElement.classList.contains("e-year")?"Year":this.contentElement.classList.contains("e-decade")?"Decade":"Month"}getDateVal(e,t){return!UO(t)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}getCultureObjects(e,t){let n=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),i=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return HO("Gregorian"===this.calendarMode?"main."+this.locale+n:"main."+this.locale+i,e)}getWeek(e){let t=new Date(this.checkValue(e)).valueOf(),n=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil(((t-n)/864e5+new Date(n).getDay()+1)/7)}setStartDate(e,t){let n=e.getTimezoneOffset(),i=new Date(e.getTime()+t),s=i.getTimezoneOffset()-n;e.setTime(i.getTime()+6e4*s)}addMonths(e,t){if("Gregorian"===this.calendarMode){let n=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(n,this.getMaxDays(e)))}else{let n=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(n.year,n.month+t,1)}}addYears(e,t){if("Gregorian"===this.calendarMode){let n=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(n,this.getMaxDays(e)))}else{let n=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(n.year+t,n.month,1)}}getIdValue(e,t){let n;n=e?e.currentTarget:t;let i={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},s=this.globalize.formatDate(new Date(parseInt(""+n.getAttribute("id"),0)),i),l=this.globalize.parseDate(s,i),r=l.valueOf()-l.valueOf()%1e3;return new Date(r)}adjustLongHeaderSize(){FD([this.element],"e-calendar-day-header-lg"),"Wide"===this.dayHeaderFormat&&RD(["calendar"===this.getModuleName()?this.element:this.calendarElement],"e-calendar-day-header-lg")}selectDate(e,t,n,i,s){let l=n||e.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,t.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,t);else{if(i&&!this.checkPresentDate(t,s)){let e=this.copyValues(s);!UO(s)&&e.length>0?(e.push(new Date(this.checkValue(t))),this.setProperties({values:e},!0),this.setProperties({value:s[s.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(t))]},!0)}else this.setProperties({value:new Date(this.checkValue(t))},!0);this.currentDate=new Date(this.checkValue(t))}let r=GD(l,".e-calendar");if(UO(r)&&(r=this.tableBodyElement),i||UO(r.querySelector(".e-selected"))||FD([r.querySelector(".e-selected")],"e-selected"),i||UO(r.querySelector("."+iR))||FD([r.querySelector("."+iR)],iR),i){let e=this.copyValues(s),n=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td"));for(let t=0;t<n.length;t++){let e=r.querySelectorAll("td."+iR)[0],i=r.querySelectorAll("td.e-selected")[0];n[t]===e&&FD([n[t]],iR),n[t]!==i||this.checkPresentDate(new Date(parseInt(i.getAttribute("id").split("_")[0],10)),s)||FD([n[t]],"e-selected")}if(l.classList.contains("e-selected")){FD([l],"e-selected");for(let n=0;n<e.length;n++){let i="Gregorian"===this.calendarMode?"gregorian":"islamic",s={format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:i};if(this.globalize.formatDate(t,s)===this.globalize.formatDate(e[n],s)){let t=e.indexOf(e[n]);e.splice(t,1),RD([l],iR)}}this.setProperties({values:e},!0)}else RD([l],"e-selected")}else RD([l],"e-selected");this.isDateSelected=!0}getFromatStringValue(){return null}checkPresentDate(e,t){let n=!1;if(!UO(t))for(let i=0;i<t.length;i++){let s="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:s})===this.globalize.formatDate(t[i],{format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:s})&&(n=!0)}return n}setAriaActiveDescendant(){WD(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})}previousIconHandler(e){e?(zI.remove(this.previousIcon,"click",this.navigatePreviousHandler),RD([this.previousIcon],"e-disabled"),RD([this.previousIcon],""+nR),this.previousIcon.setAttribute("aria-disabled","true")):(zI.add(this.previousIcon,"click",this.navigatePreviousHandler),FD([this.previousIcon],"e-disabled"),FD([this.previousIcon],""+nR),this.previousIcon.setAttribute("aria-disabled","false"))}renderDayCellEvent(e){qO(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)}navigatedEvent(e){qO(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)}triggerNavigate(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)}nextIconHandler(e){e?(zI.remove(this.nextIcon,"click",this.navigateNextHandler),RD([this.nextIcon],"e-disabled"),RD([this.nextIcon],nR),this.nextIcon.setAttribute("aria-disabled","true")):(zI.add(this.nextIcon,"click",this.navigateNextHandler),FD([this.nextIcon],"e-disabled"),FD([this.nextIcon],nR),this.nextIcon.setAttribute("aria-disabled","false"))}compare(e,t,n){let i,s,l=t.getFullYear();return i=l,s=0,n&&(l-=l%n,i=l-l%n+n-1),e.getFullYear()>i?s=1:e.getFullYear()<l&&(s=-1),s}isMinMaxRange(e){return+e>=+this.min&&+e<=+this.max}isMonthYearRange(e){if("Gregorian"===this.calendarMode)return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();{let t=this.islamicModule.getIslamicDate(e);return t.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&t.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&t.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&t.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year}}compareYear(e,t){return this.compare(e,t,0)}compareDecade(e,t){return this.compare(e,t,10)}shiftArray(e,t){return e.slice(t).concat(e.slice(0,t))}addDay(e,t,n,i,s){let l=t,r=new Date(+e);if(!UO(this.tableBodyElement)&&!UO(n)){for(;this.findNextTD(new Date(+e),l,i,s);)l+=t;let n=new Date(r.setDate(r.getDate()+l));l=+n>+i||+n<+s?l===t?t-t:t:l}e.setDate(e.getDate()+l)}findNextTD(e,t,n,i){let s=new Date(e.setDate(e.getDate()+t)),l=[],r=!1;if((!UO(s)&&s.getMonth())===(!UO(this.currentDate)&&this.currentDate.getMonth())){let e;e="Gregorian"===this.calendarMode?this.renderDays(s,null):this.islamicModule.islamicRenderDays(this.currentDate,s),l=e.filter(e=>e.classList.contains("e-disabled"))}else l=this.tableBodyElement.querySelectorAll("td.e-disabled");if(+s<=+n&&+s>=+i&&l.length)for(let a=0;a<l.length&&(r=+s==+new Date(parseInt(l[a].id,0)),!r);a++);return r}getMaxDays(e){let t,n,i=new Date(this.checkValue(e));for(t=28,n=i.getMonth();i.getMonth()===n;)++t,i.setDate(t);return t-1}setDateDecade(e,t){e.setFullYear(t),this.setProperties({value:new Date(this.checkValue(e))},!0)}setDateYear(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(t))),this.setProperties({value:new Date(this.checkValue(e))},!0)}compareMonth(e,t){let n;return n=e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1,n}checkValue(e){return e instanceof Date?e.toUTCString():""+e}checkView(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)}};return eR([dA(new Date(1900,0,1))],e.prototype,"min",void 0),eR([dA(new Date(2099,11,31))],e.prototype,"max",void 0),eR([dA(null)],e.prototype,"firstDayOfWeek",void 0),eR([dA("Gregorian")],e.prototype,"calendarMode",void 0),eR([dA("Month")],e.prototype,"start",void 0),eR([dA("Month")],e.prototype,"depth",void 0),eR([dA(!1)],e.prototype,"weekNumber",void 0),eR([dA(!0)],e.prototype,"showTodayButton",void 0),eR([dA("Short")],e.prototype,"dayHeaderFormat",void 0),eR([dA(!1)],e.prototype,"enablePersistence",void 0),eR([dA(null)],e.prototype,"keyConfigs",void 0),eR([dA(null)],e.prototype,"serverTimezoneOffset",void 0),eR([mA()],e.prototype,"created",void 0),eR([mA()],e.prototype,"destroyed",void 0),eR([mA()],e.prototype,"navigated",void 0),eR([mA()],e.prototype,"renderDayCell",void 0),e=eR([fA],e),e})(),lR=(()=>{let e=class extends sR{constructor(e,t){super(e,t)}render(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&XO("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!UO(this.values)&&this.values.length>0){let e=[],t=[];for(let n=0;n<this.values.length;n++)-1===e.indexOf(+this.values[n])&&(e.push(+this.values[n]),t.push(this.values[n]));this.setProperties({values:t},!0);for(let n=0;n<this.values.length;n++)if(!this.checkDateValue(this.values[n]))if("string"==typeof this.values[n]&&this.checkDateValue(new Date(this.checkValue(this.values[n])))){let e=new Date(this.checkValue(this.values[n]));this.values.splice(n,1),this.values.splice(n,0,e)}else this.values.splice(n,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),super.render(),"calendar"===this.getModuleName()){let e=GD(this.element,"form");e&&zI.add(e,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()}isDayLightSaving(){let e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(t,e)}setTimeZone(e){if(!UO(this.serverTimezoneOffset)&&this.value){let t=e+(new Date).getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3)}}formResetHandler(){this.setProperties({value:null},!0)}validateDate(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),super.validateDate(this.value),!UO(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)}minMaxUpdate(){"calendar"===this.getModuleName()&&(!UO(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!UO(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||UO(this.value)?super.minMaxUpdate(this.value):!UO(this.value)&&this.value<this.min&&this.min<=this.max?super.minMaxUpdate(this.min):!UO(this.value)&&this.value>this.max&&this.min<=this.max&&super.minMaxUpdate(this.max)}generateTodayVal(e){let t=new Date;return e?(t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t.setSeconds(e.getSeconds()),t.setMilliseconds(e.getMilliseconds())):t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),t}todayButtonClick(){if(this.showTodayButton){let e=this.generateTodayVal(this.value);if(this.setProperties({value:e},!0),this.isMultiSelection){let t=this.copyValues(this.values);super.checkPresentDate(e,this.values)||(t.push(e),this.setProperties({values:t}))}super.todayButtonClick(new Date(+this.value))}}keyActionHandle(e){super.keyActionHandle(e,this.value,this.isMultiSelection)}preRender(){this.changeHandler=e=>{this.triggerChange(e)},this.checkView(),super.preRender(this.value)}createContent(){this.previousDate=this.value,this.previousDateTime=this.value,super.createContent()}minMaxDate(e){return super.minMaxDate(e)}renderMonths(e){super.renderMonths(e,this.value)}renderDays(e,t){let n=super.renderDays(e,t,this.value,this.isMultiSelection,this.values);return this.isMultiSelection&&super.validateValues(this.isMultiSelection,this.values),n}renderYears(e){"Gregorian"===this.calendarMode?super.renderYears(e,this.value):this.islamicModule.islamicRenderYears(e,this.value)}renderDecades(e){"Gregorian"===this.calendarMode?super.renderDecades(e,this.value):this.islamicModule.islamicRenderDecade(e,this.value)}renderTemplate(e,t,n,i){"Gregorian"===this.calendarMode?super.renderTemplate(e,t,n,i,this.value):this.islamicModule.islamicRenderTemplate(e,t,n,i,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}clickHandler(e){let t=e.currentTarget;if(this.isPopupClicked=!0,t.classList.contains(tR))if(this.isMultiSelection){let t=this.copyValues(this.values);t.push(this.getIdValue(e,null)),this.setProperties({values:t},!0),this.setProperties({value:this.values[this.values.length-1]},!0)}else this.setProperties({value:this.getIdValue(e,null)},!0);let n=this.currentView();super.clickHandler(e,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!UO(this.tableBodyElement.querySelectorAll("."+iR)[0])&&"Year"===n&&this.tableBodyElement.querySelectorAll("."+iR)[0].classList.remove(iR)}switchView(e,t){super.switchView(e,t,this.isMultiSelection)}getModuleName(){return super.getModuleName(),"calendar"}getPersistData(){return super.getPersistData(),this.addOnPersist(["value","values"])}onPropertyChanged(e,t){this.effect="",this.rangeValidation(this.min,this.max);for(let n of Object.keys(e))switch(n){case"value":this.isDateSelected&&("string"==typeof e.value?this.setProperties({value:new Date(this.checkValue(e.value))},!0):e.value=new Date(this.checkValue(e.value)),isNaN(+this.value)&&this.setProperties({value:t.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof e.values||"number"==typeof e.values)this.setProperties({values:null},!0);else{let t=this.copyValues(this.values);for(let e=0;e<t.length;e++){let n=t[e];this.checkDateValue(n)&&!super.checkPresentDate(n,t)&&t.push(n)}this.setProperties({values:t},!0),this.values.length>0&&this.setProperties({value:e.values[e.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:e.isMultiSelection},!0),this.update());break;default:super.onPropertyChanged(e,t,this.isMultiSelection,this.values)}}destroy(){if(super.destroy(),"calendar"===this.getModuleName()){let e=GD(this.element,"form");e&&zI.remove(e,"reset",this.formResetHandler.bind(this))}}navigateTo(e,t){this.minMaxUpdate(),super.navigateTo(e,t)}currentView(){return super.currentView()}addDate(e){if("string"!=typeof e&&"number"!=typeof e){let t=this.copyValues(this.values);if("object"==typeof e&&e.length>0){let n=e;for(let e=0;e<n.length;e++)this.checkDateValue(n[e])&&!super.checkPresentDate(n[e],t)&&(!UO(t)&&t.length>0?t.push(n[e]):t=[new Date(+n[e])])}else this.checkDateValue(e)&&!super.checkPresentDate(e,t)&&(!UO(t)&&t.length>0?t.push(e):t=[new Date(+e)]);this.setProperties({values:t},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,t),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}removeDate(e){if("string"!=typeof e&&"number"!=typeof e&&!UO(this.values)&&this.values.length>0){let t=this.copyValues(this.values);if("object"==typeof e&&e.length>0){let n=e;for(let e=0;e<n.length;e++)for(let i=0;i<t.length;i++)+t[i]==+n[e]&&t.splice(i,1)}else for(let n=0;n<t.length;n++)+t[n]==+e&&t.splice(n,1);this.setProperties({values:t},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}update(){this.validateDate(),this.minMaxUpdate(),super.setValueUpdate()}selectDate(e,t,n){super.selectDate(e,t,n,this.isMultiSelection,this.values),this.isMultiSelection&&!UO(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(e)}changeEvent(e){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))}triggerChange(e){this.changedArgs.event=e||null,this.changedArgs.isInteracted=!UO(e),UO(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate&&(null!=this.previousDate||isNaN(+this.value))?UO(this.values)||this.previousValues===this.values.length||(this.changeEvent(e),this.previousValues=this.values.length):this.changeEvent(e)}};return eR([dA(null)],e.prototype,"value",void 0),eR([dA(null)],e.prototype,"values",void 0),eR([dA(!1)],e.prototype,"isMultiSelection",void 0),eR([mA()],e.prototype,"change",void 0),e=eR([fA],e),e})();var rR=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const aR=["title","class","style"];let oR=(()=>{let e=class extends lR{constructor(e,t){super(e,t),this.previousElementValue="",this.isDateIconClicked=!1,this.isAltKeyPressed=!1,this.isInteracted=!0,this.isBlazorServer=!1,this.invalidValueString=null,this.checkPreviousValue=null,this.datepickerOptions=e}render(){this.initialize(),this.bindEvents(),this.renderComplete(),this.isBlazorServer||this.setTimeZone(this.serverTimezoneOffset)}setTimeZone(e){if(!UO(this.serverTimezoneOffset)&&this.value){let t=e+(new Date).getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3),this.updateInput()}}isDayLightSaving(){let e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)}setAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):WD(this.inputElement,{readonly:""}),this.updateIconState()}updateIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&FD([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?FD([this.inputWrapper.container],["e-non-edit"]):RD([this.inputWrapper.container],["e-non-edit"])}initialize(){if(this.isBlazorServer){let e=this.element.parentElement;this.inputWrapper={container:e,clearButton:e.querySelector(".e-clear-icon"),buttons:[e.querySelector(".e-date-icon")]},ZP.bindInitialEvent({element:this.inputElement,floatLabelType:this.floatLabelType}),this.showClearButton&&this.inputWrapper.clearButton&&ZP.wireClearBtnEvents(this.inputElement,this.inputWrapper.clearButton,this.inputWrapper.container),this.setAllowEdit()}else this.checkInvalidValue(this.value),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),this.updateInput();this.previousElementValue=this.inputElement.value,this.previousDate=UO(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value}createInput(){let e={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};if("datepicker"===this.getModuleName()){let e={placeholder:this.placeholder};this.globalize=new SI(this.locale),this.l10n=new WA("datepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}let t=this.cssClass;UO(this.cssClass)||""===this.cssClass||(t=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=ZP.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),this.inputElement.setAttribute("name",""!==this.inputElement.name?""+this.inputElement.getAttribute("name"):""+this.element.id),WD(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),ZP.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),RD([this.inputWrapper.container],"e-date-wrapper")}updateInput(){let e;if(this.value&&!this.isCalendar()&&(this.isBlazorServer||this.disabledDates()),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(super.validateDate(),this.minMaxUpdates(),super.minMaxUpdate()),!UO(this.value)){let t,n=this.value,i=UO(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?t=this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:i,type:"dateTime",skeleton:"yMd"}:{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(e="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.value,e)),+n<=+this.max&&+n>=+this.min)this.updateInputValue(t);else{let e=+n>=+this.max||!+this.value||!+this.value||+n<=+this.min;!this.strictMode&&e&&this.updateInputValue(t)}}UO(this.value)&&this.strictMode&&this.updateInputValue(""),!this.strictMode&&UO(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()}minMaxUpdates(){!UO(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!UO(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})}checkStringValue(e){let t=null,n=null,i=null;if("datetimepicker"===this.getModuleName()){let e=new SI(this.locale);"Gregorian"===this.calendarMode?(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},i={format:e.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i={format:e.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return t=this.checkDateValue(this.globalize.parseDate(e,n)),UO(t)&&"datetimepicker"===this.getModuleName()&&(t=this.checkDateValue(this.globalize.parseDate(e,i))),t}checkInvalidValue(e){if(!(e instanceof Date||UO(e))){let t=null,n=e;"number"==typeof e&&(n=e.toString());let i=null,s=null;if("datetimepicker"===this.getModuleName()){let e=new SI(this.locale);"Gregorian"===this.calendarMode?(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},s={format:e.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s={format:e.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};let l=!1;if("string"!=typeof n)n=null,l=!0;else if("string"==typeof n&&(n=n.trim()),t=this.checkStringValue(n),!t){let e=null,i=null;e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,i=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!e.test(n)&&!i.test(n)||/^[a-zA-Z0-9- ]*$/.test(n)||isNaN(+new Date(this.checkValue(n)))?l=!0:t=new Date(n)}l?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0)):this.setProperties({value:t},!0)}}bindInputEvent(){UO(this.formatString)||(-1===this.formatString.indexOf("y")?zI.add(this.inputElement,"input",this.inputHandler,this):zI.remove(this.inputElement,"input",this.inputHandler))}bindEvents(){this.enabled?(zI.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.isBlazorServer?this.preventEventBubbling:this.dateIconHandler,this),zI.add(this.inputElement,"focus",this.inputFocusHandler,this),zI.add(this.inputElement,"blur",this.inputBlurHandler,this),this.bindInputEvent(),zI.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&(this.inputWrapper.clearButton||this.isBlazorServer)&&zI.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&zI.add(this.formElement,"reset",this.resetFormHandler,this)):(zI.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.isBlazorServer?this.preventEventBubbling:this.dateIconHandler),zI.remove(this.inputElement,"focus",this.inputFocusHandler),zI.remove(this.inputElement,"blur",this.inputBlurHandler),zI.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&(this.inputWrapper.clearButton||this.isBlazorServer)&&zI.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&zI.remove(this.formElement,"reset",this.resetFormHandler)),this.defaultKeyConfigs=qO(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new UA(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}resetFormHandler(){if(!this.inputElement.disabled){let e=this.inputElement.getAttribute("value");"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.isBlazorServer||(this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass()))}}restoreValue(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=UO(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})}inputChangeHandler(e){e.stopPropagation()}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&zI.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}resetHandler(e){e.preventDefault(),this.clear(e)}clear(e){this.isBlazorServer||this.setProperties({value:null},!0),this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.isBlazorServer||(this.updateInput(),this.popupUpdate(),this.changeEvent(e)),this.isBlazorServer&&this.interopAdaptor.invokeMethodAsync("OnValueCleared")}preventEventBubbling(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")}updateInputValue(e){ZP.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}dateIconHandler(e){jI.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),this.isBlazorServer||e.preventDefault(),this.readonly||(this.isCalendar()&&!this.isBlazorServer?this.hide(e):(!this.isBlazorServer||this.isBlazorServer&&this.inputWrapper.container.nextElementSibling)&&(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),RD([this.inputWrapper.container],["e-input-focus"]),RD(this.inputWrapper.buttons,"e-active")))}updateHtmlAttributeToWrapper(){if(!UO(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))if(!UO(this.htmlAttributes[e])&&aR.indexOf(e)>-1)if("class"===e){let t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&RD([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);UO(t)?t=this.htmlAttributes[e]:";"===t.charAt(t.length-1)?t+=this.htmlAttributes[e]:t=t+";"+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!UO(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))aR.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){UO(t)||(t=t.replace(/\s+/g," ").trim()),UO(e)||(e=e.replace(/\s+/g," ").trim()),ZP.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&ZP.setCssClass(e,[this.popupWrapper],t)}CalendarKeyActionHandle(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}}inputFocusHandler(){let e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState()}inputHandler(e){this.isPopupClicked=!1}inputBlurHandler(e){this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),""===this.inputElement.value&&UO(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=qO(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new UA(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1}documentHandler(e){!UO(this.popupObj)&&(this.inputWrapper.container.contains(e.target)||this.popupObj.element&&this.popupObj.element.contains(e.target))&&"touchstart"!==e.type&&e.preventDefault();let t=e.target;GD(t,".e-datepicker.e-popup-wrapper")||GD(t,".e-input-group")===this.inputWrapper.container||t.classList.contains("e-day")?GD(t,".e-datepicker.e-popup-wrapper")&&(t.classList.contains("e-day")&&!UO(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&GD(t,".e-content")&&GD(t,".e-content").classList.contains("e-"+this.depth.toLowerCase())?this.hide(e):GD(t,".e-footer-container")&&t.classList.contains("e-today")&&t.classList.contains("e-btn")&&+new Date(+this.value)==+super.generateTodayVal(this.value)&&!this.isBlazorServer&&this.hide(e)):(this.hide(e),this.focusOut())}inputKeyActionHandle(e){let t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e)),"datepicker"===this.getModuleName()&&(this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnPopupHide",!0):this.show(null,e));break;case"escape":this.hide(e);break;case"enter":this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictModeUpdate",this.inputElement.value):(this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}}defaultAction(e){this.previousDate=!UO(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(super.keyActionHandle(e),this.isBlazorServer||WD(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))}popupUpdate(){if((UO(this.value)&&!UO(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll(".e-selected").length>0&&FD(this.popupObj.element.querySelectorAll(".e-selected"),["e-selected"]),!UO(this.value)&&!this.isBlazorServer&&+this.value>=+this.min&&+this.value<=+this.max)){let e=new Date(this.checkValue(this.value));super.navigateTo("Month",e)}}strictModeUpdate(){let e,t,n,i;e="datetimepicker"===this.getModuleName()?UO(this.formatString)?this.dateTimeFormat:this.formatString:UO(this.formatString)?this.formatString:this.formatString.replace("dd","d"),UO(e)||e.split("M").length-1<3&&(e=e.replace("MM","M")),"datetimepicker"===this.getModuleName()?n="Gregorian"===this.calendarMode?{format:UO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:UO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:(t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n=t),"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,n))?i=this.globalize.parseDate(this.inputElement.value,n):(t="Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.globalize.parseDate(this.inputElement.value,t)):(i=this.globalize.parseDate(this.inputElement.value,n),!UO(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&i.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&i&&i.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&i?(this.updateInputValue(this.globalize.formatDate(i,n)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0),this.strictMode&&!i&&""===this.inputElement.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),UO(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))}createCalendar(){this.isBlazorServer?(this.popupWrapper=this.inputWrapper.container.nextElementSibling,this.calendarElement=this.popupWrapper.firstElementChild,this.tableBodyElement=YD("tbody",this.calendarElement),this.contentElement=YD(".e-content",this.calendarElement)):(this.popupWrapper=this.createElement("div",{className:"e-datepicker e-popup-wrapper"}),UO(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass)),jI.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className="e-datepicker e-date-modal",document.body.className+=" e-date-overflow",this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new IT(this.popupWrapper,{content:this.isBlazorServer?null:this.calendarElement,relateTo:jI.isDevice?document.body:this.inputWrapper.container,position:jI.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:jI.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:()=>{"datetimepicker"!==this.getModuleName()&&document.activeElement!==this.inputElement&&(this.defaultKeyConfigs=qO(this.defaultKeyConfigs,this.keyConfigs),this.calendarElement.children[1].firstElementChild.focus(),this.calendarKeyboardModules=new UA(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}),this.calendarKeyboardModules=new UA(this.inputWrapper.container.children[this.index],{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}))},close:()=>{this.isDateIconClicked&&this.inputWrapper.container.children[this.index].focus(),this.value&&!this.isBlazorServer&&this.disabledDates(),this.popupObj&&this.popupObj.destroy(),qD(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.setAriaAttributes()},targetExitViewport:()=>{jI.isDevice||this.hide()}}),this.isBlazorServer||(this.popupObj.element.className+=" "+this.cssClass),this.setAriaAttributes()}setAriaDisabled(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)}modelHeader(){let e,t=this.createElement("div",{className:"e-model-header"}),n=this.createElement("h1",{className:"e-model-year"}),i=this.createElement("div"),s=this.createElement("span",{className:"e-model-day"}),l=this.createElement("span",{className:"e-model-month"});e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},s.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},l.textContent=""+this.globalize.formatDate(this.value||new Date,e),t.appendChild(n),i.appendChild(s),i.appendChild(l),t.appendChild(i),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)}changeTrigger(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!UO(e),this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0)}navigatedEvent(){this.trigger("navigated",this.navigatedArgs)}changeEvent(e){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(e),this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass())}requiredModules(){let e=[];return this&&e.push({args:[this],member:"islamic"}),e}selectCalendar(e){let t,n,i;n="datetimepicker"===this.getModuleName()&&UO(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&("datetimepicker"===this.getModuleName()?(i="Gregorian"===this.calendarMode?{format:n,type:"dateTime",skeleton:"yMd"}:{format:n,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,i)):(i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,i))),UO(t)||this.updateInputValue(t)}isCalendar(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-popup-wrapper"))}setWidth(e){this.inputWrapper.container.style.width="number"==typeof e?KO(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:KO(this.width):"100%"}show(e,t){if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){let e,n=!0;UO(this.value)||+this.value>=+this.min&&+this.value<=+this.max?e=this.value||null:(e=new Date(this.checkValue(this.value)),this.isBlazorServer||this.setProperties({value:null},!0)),this.isCalendar()||(this.isBlazorServer||(super.render(),this.setProperties({value:e||null},!0)),this.previousDate=e,this.createCalendar()),jI.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:()=>{n=!1},popup:this.popupObj,event:t||null,cancel:!1,appendTo:jI.isDevice?this.mobilePopupWrapper:document.body},this.trigger("open",this.preventArgs,e=>{this.preventArgs=e,n&&!this.preventArgs.cancel?(this.isBlazorServer&&(this.popupWrapper.style.visibility="",this.popupWrapper.style.width="auto",this.popupWrapper.style.height="auto"),RD(this.inputWrapper.buttons,"e-active"),this.preventArgs.appendTo.appendChild(this.popupWrapper),this.popupObj.refreshPosition(this.inputElement),this.popupObj.show(new yA({name:"FadeIn",duration:jI.isDevice?0:300}),1e3===this.zIndex?this.element:null),this.isBlazorServer||super.setOverlayIndex(this.mobilePopupWrapper,this.popupObj.element,this.modal,jI.isDevice),this.setAriaAttributes()):(this.popupObj.destroy(),this.isBlazorServer&&this.interopAdaptor.invokeMethodAsync("OnPopupHide",!1),this.popupWrapper=this.popupObj=null),UO(this.inputElement)||""!==this.inputElement.value||!UO(this.tableBodyElement)&&this.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(RD([this.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),FD(this.tableBodyElement.querySelectorAll("td.e-selected"),"e-selected")),zI.add(document,"mousedown touchstart",this.documentHandler,this)})}}hide(e){if(UO(this.popupWrapper))jI.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{let t=!0;this.preventArgs={preventDefault:()=>{t=!1},popup:this.popupObj,event:e||null,cancel:!1},FD(this.inputWrapper.buttons,"e-active"),FD([document.body],"e-date-overflow");let n=this.preventArgs;this.isCalendar()?this.trigger("close",n,e=>{this.closeEventCallback(t,e)}):this.closeEventCallback(t,n)}}closeEventCallback(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.isBlazorServer?(this.interopAdaptor.invokeMethodAsync("OnPopupHide",!1),this.isAltKeyPressed=!1,this.popupWrapper=this.popupObj=null):(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy()),FD(this.inputWrapper.buttons,"e-active")),this.setAriaAttributes(),jI.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),jI.isDevice&&(UO(this.mobilePopupWrapper)||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),zI.remove(document,"mousedown touchstart",this.documentHandler),jI.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}focusIn(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),RD([this.inputWrapper.container],["e-input-focus"]))}focusOut(){document.activeElement===this.inputElement&&(FD([this.inputWrapper.container],["e-input-focus"]),this.inputElement.blur())}currentView(){let e;return this.calendarElement&&(e=super.currentView()),e}navigateTo(e,t){this.calendarElement&&super.navigateTo(e,t)}destroy(){this.isBlazorServer||(super.destroy(),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&super.destroy()),this.inputElement&&(ZP.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},this.inputElement),UO(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),zI.remove(this.inputElement,"blur",this.inputBlurHandler),zI.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&qD(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.isBlazorServer||this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),FD([this.inputElement],["e-input"])),FD([this.element],["e-datepicker"]),qD(this.inputWrapper.container)),this.formElement&&zI.remove(this.formElement,"reset",this.resetFormHandler)}ensureInputAttribute(){let e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)UO(this.inputElementCopy.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.inputElementCopy.getAttribute(e[t])))}preRender(){this.inputElementCopy=this.element.cloneNode(!0),FD([this.inputElementCopy],["e-datepicker","e-control","e-lib"]),this.inputElement=this.element,this.formElement=GD(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.isBlazorServer=!1,this.isBlazorServer||(this.ngTag=null,"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=YO("ej2-datetimepicker"),null!==this.ngTag&&WD(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=YO("ej2-datepicker"),null!==this.ngTag&&WD(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement()),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.isBlazorServer||(this.element.removeAttribute("tabindex"),super.preRender())}getDefaultKeyConfig(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs}validationAttribute(e,t){let n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",n),e.removeAttribute("name");let i=["required","aria-required","form"];for(let s=0;s<i.length;s++){if(UO(e.getAttribute(i[s])))continue;let n=e.getAttribute(i[s]);t.setAttribute(i[s],n),e.removeAttribute(i[s])}}checkFormat(){let e=new SI(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||UO(this.format.skeleton))this.formatString="datetimepicker"===this.getModuleName()?this.dateTimeFormat:null;else{let t=this.format.skeleton;this.formatString="datetimepicker"===this.getModuleName()?e.getDatePattern({skeleton:t,type:"dateTime"}):e.getDatePattern({skeleton:t,type:"date"})}else this.formatString=null}checkHtmlAttributes(e){this.globalize=new SI(this.locale),this.checkFormat(),this.checkView();let t,n=e?UO(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];t="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:UO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:UO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(let i of n)if(!UO(this.inputElement.getAttribute(i)))switch(i){case"disabled":if((UO(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e)&&!this.isBlazorServer){let t="disabled"!==this.inputElement.getAttribute(i)&&""!==this.inputElement.getAttribute(i)&&"true"!==this.inputElement.getAttribute(i);this.setProperties({enabled:t},!e)}break;case"readonly":if((UO(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e)&&!this.isBlazorServer){let t="readonly"===this.inputElement.getAttribute(i)||""===this.inputElement.getAttribute(i)||"true"===this.inputElement.getAttribute(i);this.setProperties({readonly:t},!e)}break;case"placeholder":!UO(this.datepickerOptions)&&void 0!==this.datepickerOptions.placeholder&&!e||this.isBlazorServer||(this.inputElement.getAttribute(i),this.setProperties({placeholder:this.inputElement.getAttribute(i)},!e));break;case"style":this.isBlazorServer||this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(i));break;case"name":this.isBlazorServer||this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(i));break;case"value":if((UO(this.datepickerOptions)||void 0===this.datepickerOptions.value||e)&&!this.isBlazorServer){let n=this.inputElement.getAttribute(i);this.setProperties(BO(i,this.globalize.parseDate(n,t),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){let t=this.inputElement.getAttribute(i);this.setProperties(BO(i,this.globalize.parseDate(t),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){let t=this.inputElement.getAttribute(i);this.setProperties(BO(i,this.globalize.parseDate(t),{}),!e)}break;case"type":"text"===this.inputElement.getAttribute(i)||this.isBlazorServer||this.inputElement.setAttribute("type","text")}}getModuleName(){return"datepicker"}disabledDates(){let e,t,n;e=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value));let i=this.previousDate;this.minMaxUpdates(),this.isBlazorServer||super.render(),this.previousDate=i;let s,l='*[id^="/id"]'.replace("/id",""+(e&&+e));this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+e)&&this.setProperties({value:e},!0),UO(this.calendarElement.querySelectorAll(l)[0])||this.calendarElement.querySelectorAll(l)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),"datetimepicker"===this.getModuleName()?(n=this.globalize.formatDate(e,"Gregorian"===this.calendarMode?{format:UO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:UO(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),s=n):(t="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s=this.globalize.formatDate(e,t)),this.popupObj||this.updateInputValue(s)}setAriaAttributes(){if(this.isBlazorServer)if(this.isCalendar()){let e=this.tableBodyElement.querySelector("tr td.e-focused-date"),t=this.tableBodyElement.querySelector("tr td.e-selected"),n=e||t?(e||t).getAttribute("id"):"null";WD(this.inputElement,{"aria-activedescendant":""+n})}else WD(this.inputElement,{"aria-activedescendant":"null"});else this.isCalendar()?(ZP.addAttributes({"aria-expanded":"true"},this.inputElement),WD(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(ZP.addAttributes({"aria-expanded":"false"},this.inputElement),WD(this.inputElement,{"aria-activedescendant":"null"}))}errorClass(){let e='*[id^="/id"]'.replace("/id",""+ +this.value),t=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!UO(this.value)&&!(+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&UO(this.value)||t?(RD([this.inputWrapper.container],"e-error"),WD(this.inputElement,{"aria-invalid":"true"})):(FD([this.inputWrapper.container],"e-error"),WD(this.inputElement,{"aria-invalid":"false"}))}onPropertyChanged(e,t){let n;n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(let i of Object.keys(e)){switch(i){case"value":this.isInteracted=!1,this.invalidValueString=null,this.isBlazorServer||this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,this.isBlazorServer||(UO(this.value)&&(this.updateInputValue(""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(),+this.previousDate!=+this.value&&this.changeTrigger(null)),this.isInteracted=!0;break;case"format":this.checkFormat(),this.bindInputEvent(),this.isBlazorServer||this.updateInput();break;case"allowEdit":this.setAllowEdit();break;case"placeholder":ZP.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":ZP.setReadonly(this.readonly,this.inputElement);break;case"enabled":ZP.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled(),this.bindEvents();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new SI(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),ZP.setPlaceholder(this.placeholder,this.inputElement),this.isBlazorServer||this.updateInput();break;case"enableRtl":ZP.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&!this.isBlazorServer&&super.onPropertyChanged(e,t);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"showClearButton":ZP.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.isBlazorServer||this.updateInput();break;case"width":this.setWidth(e.width);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,ZP.removeFloating(this.inputWrapper),ZP.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:this.calendarElement&&!this.isBlazorServer&&super.onPropertyChanged(e,t)}this.hide(null)}}};return rR([dA(null)],e.prototype,"width",void 0),rR([dA(null)],e.prototype,"value",void 0),rR([dA(null)],e.prototype,"cssClass",void 0),rR([dA(!1)],e.prototype,"strictMode",void 0),rR([dA(null)],e.prototype,"format",void 0),rR([dA(!0)],e.prototype,"enabled",void 0),rR([dA({})],e.prototype,"htmlAttributes",void 0),rR([dA(null)],e.prototype,"values",void 0),rR([dA(!1)],e.prototype,"isMultiSelection",void 0),rR([dA(!0)],e.prototype,"showClearButton",void 0),rR([dA(!0)],e.prototype,"allowEdit",void 0),rR([dA(null)],e.prototype,"keyConfigs",void 0),rR([dA(!1)],e.prototype,"enablePersistence",void 0),rR([dA(1e3)],e.prototype,"zIndex",void 0),rR([dA(!1)],e.prototype,"readonly",void 0),rR([dA(null)],e.prototype,"placeholder",void 0),rR([dA("Never")],e.prototype,"floatLabelType",void 0),rR([dA(null)],e.prototype,"serverTimezoneOffset",void 0),rR([mA()],e.prototype,"open",void 0),rR([mA()],e.prototype,"cleared",void 0),rR([mA()],e.prototype,"close",void 0),rR([mA()],e.prototype,"blur",void 0),rR([mA()],e.prototype,"focus",void 0),rR([mA()],e.prototype,"created",void 0),rR([mA()],e.prototype,"destroyed",void 0),e=rR([fA],e),e})();var hR;(hR||(hR={})).createListItems=function(e,t,n,i,s,l){let r,a,o=6e4*l,h=[],c=[];for(r=+t.setMilliseconds(0),a=+n.setMilliseconds(0);a>=r;)c.push(r),h.push(i.formatDate(new Date(r),{format:s,type:"time"})),r+=o;return{collection:c,list:RM.createList(e,h,null,!0)}};var cR=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};const dR=(new Date).getDate(),uR=(new Date).getMonth(),pR=(new Date).getFullYear(),mR=(new Date).getHours(),fR=(new Date).getMinutes(),gR=(new Date).getSeconds(),bR=(new Date).getMilliseconds(),vR="e-datetimepicker";let yR=(()=>{let e=class extends oR{constructor(e,t){super(e,t),this.valueWithMinutes=null,this.dateTimeOptions=e}focusHandler(){RD([this.inputWrapper.container],"e-input-focus")}focusIn(){super.focusIn()}focusOut(){document.activeElement===this.inputElement&&(this.inputElement.blur(),FD([this.inputWrapper.container],["e-input-focus"]))}blurHandler(e){if(this.isTimePopupOpen()&&this.isPreventBlur)return void this.inputElement.focus();FD([this.inputWrapper.container],"e-input-focus");let t={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)}destroy(){this.popupObject&&this.popupObject.element.classList.contains("e-popup")&&(this.popupObject.destroy(),qD(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],UO(this.rippleFn)||this.rippleFn()),this.inputElement&&(ZP.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&qD(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),super.destroy()}render(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,super.updateHtmlAttributeToElement(),this.checkAttributes(!1),this.l10n=new WA("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),super.render(),this.createInputElement(),super.updateHtmlAttributeToWrapper(),this.bindInputEvents(),this.setValue(),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),this.renderComplete()}setValue(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){let e=this.validateMinMaxRange(this.initValue);ZP.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else UO(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,super.updateInput()}validateMinMaxRange(e){let t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t}checkValidState(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()}checkErrorState(){this.isValidState?FD([this.inputWrapper.container],"e-error"):RD([this.inputWrapper.container],"e-error"),WD(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})}validateValue(e){let t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t}disablePopupButton(e){e?(RD([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled"),this.hide()):FD([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled")}getFormattedValue(e){let t;return UO(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))}isDateObject(e){return!UO(e)&&!isNaN(+e)}createInputElement(){FD([this.inputElement],"e-datepicker"),FD([this.inputWrapper.container],"e-date-wrapper"),RD([this.inputWrapper.container],"e-datetime-wrapper"),RD([this.inputElement],vR),this.renderTimeIcon()}renderTimeIcon(){this.timeIcon=ZP.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)}bindInputEvents(){zI.add(this.timeIcon,"mousedown",this.timeHandler,this),zI.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),zI.add(this.inputElement,"blur",this.blurHandler,this),zI.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=qO(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new UA(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})}unBindInputEvents(){zI.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),zI.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(zI.remove(this.inputElement,"blur",this.blurHandler),zI.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()}cldrTimeFormat(){let e;return e=this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?HO("timeFormats.short",OI()):this.getCultureTimeObject(wI,""+this.locale):this.timeFormat,e}cldrDateTimeFormat(){let e,t=new SI(this.locale).getDatePattern({skeleton:"yMd"});return e=this.isNullOrEmpty(this.formatString)?t+" "+this.getCldrFormat("time"):this.formatString,e}getCldrFormat(e){let t;return t="en"===this.locale||"en-US"===this.locale?HO("timeFormats.short",OI()):this.getCultureTimeObject(wI,""+this.locale),t}isNullOrEmpty(e){return!!(UO(e)||"string"==typeof e&&""===e.trim())}getCultureTimeObject(e,t){return HO("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.timeFormats.short":"main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)}timeHandler(e){jI.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&super.hide(e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),RD([this.inputWrapper.container],["e-input-focus"])))}dateHandler(e){e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),UO(this.popupWrapper)||this.popupCreation("date",e))}show(e,t){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(t),super.show(),this.popupCreation("date",t)):(this.isDatePopupOpen()&&this.hide(t),this.popupCreation("time",t)))}toggle(e){this.isDatePopupOpen()?(super.hide(e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),super.show(null,e),this.popupCreation("date",null)):this.show(null,e)}listCreation(){let e;e=this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"datetime"}:{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});let t=UO(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=t,this.listWrapper=ND("div",{className:"e-content",attrs:{tabindex:"0"}});let n=this.startTime(t),i=this.endTime(t),s=hR.createListItems(this.createElement,n,i,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=s.collection,this.listTag=s.list,WD(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),jD([s.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=wA(this.listWrapper,{duration:300,selector:".e-list-item"}),this.liCollections=this.listWrapper.querySelectorAll(".e-list-item")}popupCreation(e,t){jI.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(RD([this.popupWrapper],"e-datetimepopup-wrapper"),WD(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=ND("div",{className:vR+" e-popup",attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),UO(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!UO(this.step)&&this.step>0&&(this.listCreation(),jD([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),this.popupObject.refreshPosition(this.inputElement))}openPopup(e){this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.trigger("open",this.preventArgs,e=>{this.preventArgs=e,this.preventArgs.cancel||this.readonly||(this.popupObject.show(new yA({name:"FadeIn",duration:100}),1e3===this.zIndex?this.element:null),RD([this.inputWrapper.container],["e-icon-anim"]),WD(this.inputElement,{"aria-expanded":"true"}),zI.add(document,"mousedown touchstart",this.documentClickHandler,this))})}documentClickHandler(e){let t=e.target;!UO(this.popupObject)&&(this.inputWrapper.container.contains(t)||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),GD(t,"#"+(this.popupObject&&this.popupObject.element.id))||t===this.inputElement||t===this.timeIcon||t===this.inputWrapper.container?t!==this.inputElement&&(jI.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(jI.isIE||"edge"===jI.info.name)&&t===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())}isTimePopupOpen(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+vR))}isDatePopupOpen(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-datetimepopup-wrapper"))}renderPopup(){this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),jI.isDevice&&(this.timeModal=ND("div"),this.timeModal.className=vR+" e-time-modal",document.body.className+=" e-time-overflow",this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new IT(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:jI.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:jI.isDevice?document.body:this.inputWrapper.container,position:jI.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:()=>{this.dateTimeWrapper.style.visibility="visible",RD([this.timeIcon],"e-active"),jI.isDevice||(this.timekeyConfigure=qO(this.timekeyConfigure,this.keyConfigs),this.inputEvent=new UA(this.inputWrapper.container,{keyAction:this.TimeKeyActionHandle.bind(this),keyConfigs:this.timekeyConfigure,eventName:"keydown"}))},close:()=>{FD([this.timeIcon],"e-active"),this.unWireTimeListEvents(),this.inputElement.setAttribute("aria-activedescendant","null"),UD(this.popupObject.element),this.popupObject.destroy(),this.dateTimeWrapper.innerHTML="",this.listWrapper=this.dateTimeWrapper=void 0,this.inputEvent&&this.inputEvent.destroy()},targetExitViewport:()=>{jI.isDevice||this.hide()}}),this.popupObject.element.style.maxHeight="250px"}setDimension(e){return"number"==typeof e?KO(e):"string"==typeof e?e:"100%"}setPopupWidth(){let e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e}wireTimeListEvents(){zI.add(this.listWrapper,"click",this.onMouseClick,this),jI.isDevice||(zI.add(this.listWrapper,"mouseover",this.onMouseOver,this),zI.add(this.listWrapper,"mouseout",this.onMouseLeave,this))}unWireTimeListEvents(){this.listWrapper&&(zI.remove(this.listWrapper,"click",this.onMouseClick),zI.remove(document,"mousedown touchstart",this.documentClickHandler),jI.isDevice||(zI.add(this.listWrapper,"mouseover",this.onMouseOver,this),zI.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))}onMouseOver(e){let t=GD(e.target,".e-list-item");this.setTimeHover(t,"e-hover")}onMouseLeave(){this.removeTimeHover("e-hover")}setTimeHover(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),RD([e],t))}getPopupHeight(){let e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>e?e:t}changeEvent(e){(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(super.changeEvent(e),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))}updateValue(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!UO(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)}setTimeScrollPosition(){let e;e=this.selectedElement,UO(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)}findScrollTop(e){let t=this.getPopupHeight(),n=e.nextElementSibling,i=n?n.offsetTop:e.offsetTop,s=e.getBoundingClientRect().height;this.dateTimeWrapper.scrollTop=i+e.offsetTop>t?n?i-(t/2+s/2):i:0}setScrollTo(){let e,t=this.dateTimeWrapper.querySelectorAll(".e-list-item");if(t.length>=0){let n=this.timeCollections[0],i=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((i-n)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;UO(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)}setInputValue(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{let e=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));ZP.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0)}this.updateIconState()}getFullDateTime(){let e=null;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)}combineDateTime(e){if(this.isDateObject(e)){let t=this.previousDate.getDate(),n=this.previousDate.getMonth(),i=this.previousDate.getFullYear(),s=e.getHours(),l=e.getMinutes(),r=e.getSeconds();return new Date(i,n,t,s,l,r)}return this.previousDate}onMouseClick(e){let t=this.selectedElement=GD(e.target,".e-list-item");t&&t.classList.contains("e-list-item")&&(this.timeValue=t.getAttribute("data-value"),this.hide(e)),this.setSelection(t,e)}setSelection(e,t){if(this.isValidLI(e)&&!e.classList.contains("e-active")){e.getAttribute("data-value"),this.selectedElement=e;let n=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=n,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),RD([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}}setTimeActiveClass(){let e=UO(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!UO(e)){let t=e.querySelectorAll(".e-list-item");if(t.length)for(let e=0;e<t.length;e++)if(this.timeCollections[e]===+this.valueWithMinutes){t[e].setAttribute("aria-selected","true"),this.selectedElement=t[e],this.activeIndex=e,this.setTimeActiveDescendant();break}}}setTimeActiveDescendant(){UO(this.selectedElement)?WD(this.inputElement,{"aria-activedescendant":"null"}):WD(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})}addTimeSelection(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),UO(this.selectedElement)||(RD([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))}removeTimeSelection(){if(this.removeTimeHover("e-hover"),!UO(this.dateTimeWrapper)){let e=this.dateTimeWrapper.querySelectorAll(".e-active");e.length&&(FD(e,"e-active"),e[0].removeAttribute("aria-selected"))}}removeTimeHover(e){let t=this.getTimeHoverItem(e);t&&t.length&&FD(t,e)}getTimeHoverItem(e){let t,n=UO(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return UO(n)||(t=n.querySelectorAll("."+e)),t}isValidLI(e){return e&&e.classList.contains("e-list-item")&&!e.classList.contains("e-disabled")}calculateStartEnd(e,t,n){let i=e.getDate(),s=e.getMonth(),l=e.getFullYear(),r=e.getHours(),a=e.getMinutes(),o=e.getSeconds(),h=e.getMilliseconds();return t?"starttime"===n?new Date(l,s,i,0,0,0):new Date(l,s,i,23,59,59):new Date(l,s,i,r,a,o,h)}startTime(e){let t,n,i,s=this.min;return i=null===e?new Date:e,+i.getDate()==+s.getDate()&&+i.getMonth()==+s.getMonth()&&+i.getFullYear()==+s.getFullYear()||+new Date(i.getFullYear(),i.getMonth(),i.getDate())<=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(n=!1,t=this.min):+i<+this.max&&+i>+this.min?(n=!0,t=i):+i>=+this.max&&(n=!0,t=this.max),this.calculateStartEnd(t,n,"starttime")}endTime(e){let t,n,i,s=this.max;return i=null===e?new Date:e,+i.getDate()==+s.getDate()&&+i.getMonth()==+s.getMonth()&&+i.getFullYear()==+s.getFullYear()||+new Date(i.getUTCFullYear(),i.getMonth(),i.getDate())>=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(n=!1,t=this.max):+i<+this.max&&+i>+this.min?(n=!0,t=i):+i<=+this.min&&(n=!0,t=this.min),this.calculateStartEnd(t,n,"endtime")}hide(e){if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};let t=this.preventArgs;UO(this.popupObj)?this.trigger("close",t,t=>{this.dateTimeCloseEventCallback(e,t)}):this.dateTimeCloseEventCallback(e,t)}else jI.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}dateTimeCloseEventCallback(e,t){this.preventArgs=t,this.preventArgs.cancel||(this.isDatePopupOpen()?super.hide(e):this.isTimePopupOpen()&&(this.closePopup(e),FD([document.body],"e-time-overflow"),jI.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),jI.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}closePopup(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new yA({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove("e-icon-anim"),WD(this.inputElement,{"aria-expanded":"false"}),zI.remove(document,"mousedown touchstart",this.documentClickHandler))}preRender(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),super.preRender(),FD([this.inputElementCopy],[vR])}getProperty(e,t){this.setProperties("min"===t?{min:this.validateValue(e.min)}:{max:this.validateValue(e.max)},!0)}checkAttributes(e){let t,n=e?UO(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];for(let i of n)if(!UO(this.inputElement.getAttribute(i)))switch(i){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(i));break;case"step":this.step=parseInt(this.inputElement.getAttribute(i),10);break;case"readonly":if(UO(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){let t="disabled"===this.inputElement.getAttribute(i)||""===this.inputElement.getAttribute(i)||"true"===this.inputElement.getAttribute(i);this.setProperties({readonly:t},!e)}break;case"placeholder":(UO(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(i)},!e);break;case"min":(UO(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(i)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({min:t},!e));break;case"disabled":if(UO(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){let t="disabled"!==this.inputElement.getAttribute(i)&&"true"!==this.inputElement.getAttribute(i)&&""!==this.inputElement.getAttribute(i);this.setProperties({enabled:t},!e)}break;case"value":(UO(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(i)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({value:t},!e));break;case"max":(UO(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(i)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({max:t},!e))}}requiredModules(){let e=[];return this&&e.push({args:[this],member:"islamic"}),e}getTimeActiveElement(){return UO(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll(".e-active")}createDateObj(e){return e instanceof Date?e:null}getDateObject(e){if(!this.isNullOrEmpty(e)){let t=this.createDateObj(e),n=this.valueWithMinutes,i=!UO(n);if(this.checkDateValue(t)){let e=i?n.getDate():dR,t=i?n.getMonth():uR,s=i?n.getFullYear():pR,l=i?n.getHours():mR,r=i?n.getMinutes():fR,a=i?n.getSeconds():gR,o=i?n.getMilliseconds():bR;return new Date(s,t,e,l,r,a,o)}}return null}findNextTimeElement(e){let t=this.inputElement.value,n=UO(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),i=null,s=this.liCollections.length;if(!UO(this.activeIndex)||!UO(this.checkDateValue(n))){if("home"===e.action)i=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)i=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(let e=0;e<s;e++)if(+n<this.timeCollections[e]){i=+this.createDateObj(new Date(this.timeCollections[e])),this.activeIndex=e;break}}else for(let e=s-1;e>=0;e--)if(+n>this.timeCollections[e]){i=+this.createDateObj(new Date(this.timeCollections[e])),this.activeIndex=e;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(UO(i)?null:new Date(i))}}setTimeValue(e,t){let n,i,s=this.validateMinMaxRange(t),l=this.createDateObj(s);return this.getFormattedValue(l)!==(UO(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=UO(l)?null:l,i=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=l),this.valueWithMinutes=this.checkDateValue(e),i=new Date(+this.valueWithMinutes)),n=this.globalize.formatDate(i,"Gregorian"===this.calendarMode?{format:UO(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}:{format:UO(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&UO(i),ZP.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton),i}timeElementValue(e){if(!UO(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){let t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null}timeKeyHandler(e){if(UO(this.step)||this.step<=0)return;let t=this.timeCollections.length;if(UO(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(UO(this.value)&&UO(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{let n;if(e.keyCode>=37&&e.keyCode<=40){let i=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=i=this.activeIndex===t?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?t-1:this.activeIndex,n=UO(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i]}else"home"===e.action?(this.activeIndex=0,n=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,n=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(n))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setTimeScrollPosition()}TimeKeyActionHandle(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),RD([this.inputWrapper.container],"e-input-focus"),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}}inputKeyAction(e){switch(e.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(e)}}onPropertyChanged(e,t){for(let n of Object.keys(e)){switch(n){case"value":this.cldrDateTimeFormat(),this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),ZP.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null);break;case"min":case"max":this.getProperty(e,n),this.updateInput();break;case"enableRtl":ZP.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":UO(t.cssClass)||(t.cssClass=t.cssClass.replace(/\s+/g," ").trim()),UO(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),ZP.setCssClass(e.cssClass,[this.inputWrapper.container],t.cssClass),this.dateTimeWrapper&&ZP.setCssClass(e.cssClass,[this.dateTimeWrapper],t.cssClass);break;case"locale":this.globalize=new SI(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),ZP.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),super.updateInput();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue();break;case"placeholder":ZP.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":ZP.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1),this.bindEvents();break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":ZP.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,ZP.removeFloating(this.inputWrapper),ZP.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:e.scrollTo},!0)):this.setProperties({scrollTo:null},!0);break;default:super.onPropertyChanged(e,t)}this.hide(null)}}getModuleName(){return"datetimepicker"}restoreValue(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=UO(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)}};return cR([dA(null)],e.prototype,"timeFormat",void 0),cR([dA(30)],e.prototype,"step",void 0),cR([dA(null)],e.prototype,"scrollTo",void 0),cR([dA(1e3)],e.prototype,"zIndex",void 0),cR([dA(null)],e.prototype,"value",void 0),cR([dA(null)],e.prototype,"keyConfigs",void 0),cR([dA({})],e.prototype,"htmlAttributes",void 0),cR([dA(!1)],e.prototype,"enablePersistence",void 0),cR([dA(!0)],e.prototype,"allowEdit",void 0),cR([dA(!1)],e.prototype,"isMultiSelection",void 0),cR([dA(null)],e.prototype,"values",void 0),cR([dA(!0)],e.prototype,"showClearButton",void 0),cR([dA(null)],e.prototype,"placeholder",void 0),cR([dA(!1)],e.prototype,"strictMode",void 0),cR([dA(null)],e.prototype,"serverTimezoneOffset",void 0),cR([dA(new Date(1900,0,1))],e.prototype,"min",void 0),cR([dA(new Date(2099,11,31))],e.prototype,"max",void 0),cR([dA(null)],e.prototype,"firstDayOfWeek",void 0),cR([dA("Gregorian")],e.prototype,"calendarMode",void 0),cR([dA("Month")],e.prototype,"start",void 0),cR([dA("Month")],e.prototype,"depth",void 0),cR([dA(!1)],e.prototype,"weekNumber",void 0),cR([dA(!0)],e.prototype,"showTodayButton",void 0),cR([dA("Short")],e.prototype,"dayHeaderFormat",void 0),cR([mA()],e.prototype,"open",void 0),cR([mA()],e.prototype,"close",void 0),cR([mA()],e.prototype,"cleared",void 0),cR([mA()],e.prototype,"blur",void 0),cR([mA()],e.prototype,"focus",void 0),cR([mA()],e.prototype,"created",void 0),cR([mA()],e.prototype,"destroyed",void 0),e=cR([fA],e),e})();var wR;!function(e){let t,n;!function(e){e[e.None=0]="None",e[e.Ascii=1]="Ascii",e[e.Unicode=2]="Unicode"}(t=e.ForceEncoding||(e.ForceEncoding={})),function(e){e[e.StringValue=0]="StringValue",e[e.ByteBuffer=1]="ByteBuffer"}(n||(n={}))}(wR||(wR={}));class CR{constructor(e){this.intl=new SI,UO(e)||(this.intl.culture=e)}getFormatFunction(e){return e.type?this.intl.getDateFormat(e):this.intl.getNumberFormat(e)}getParserFunction(e){return e.type?this.intl.getDateParser(e):this.intl.getNumberParser(e)}fromView(e,t,n){return"date"!==n&&"datetime"!==n&&"number"!==n||UO(t)?e:t(e)}toView(e,t){let n=e;return UO(t)||UO(e)||(n=t(e)),n}setCulture(e){UO(e)||function(e){CI=e,yI.notify("notifyExternalChange",{locale:CI})}(e)}}function xR(e,t,n,i){let s=qO(e,t,n),l=Object.keys(s);for(let r=0;r<l.length;r++)i&&-1!==i.indexOf(l[r])&&delete s[l[r]];return s}function _R(e){return e instanceof OA?HO("properties",e):e}function SR(e,t,n){let i=e;for(;i&&(n?i.id!==t:!i.classList.contains(t));)i=i.parentElement;return i}let kR=0;function ER(e){return e+kR++}function OR(e,t){for(let n=0,i=t.length;n<i;n++)e.appendChild(i===t.length?t[n]:t[0]);return e}function IR(e){return e.split(".").length>1}function DR(e=""){return e.replace(/\./g,"___")}function AR(e,t,n){let i=ND("div",{className:n});return i.appendChild(t),i.setAttribute("uid",e),i}function MR(e,t){FD([e],["e-check","e-stop","e-uncheck"]),e.classList.add(t?"e-check":"e-uncheck")}function TR(e,t,n,i){let s=e.foreignKeyField,l=UO(n)?function(e,t,n){return UO(e)||""===e?"":dM.getObject(e,t)}(e.field,t):n;l=UO(l)?"":l;let r=new hM,a=i||(e.dataSource instanceof vM&&e.dataSource.dataSource.json.length?e.dataSource.dataSource.json:e.columnData);return l.getDay?r.where(LR({field:s,operator:"equal",value:l,matchCase:!1})):r.where(s,"==",l,!1),new vM(a).executeLocal(r)}function PR(e,t){let n;return t.some(t=>(n=t,t.foreignKeyValue===e))&&n}function LR(e,t){let n,i,s,l=qO({},_R(e)),r=qO({},_R(e));if(null===e.value)return n=new cM(l.field,l.operator,l.value,!1),n;let a=new Date(e.value);if("equal"===e.operator||"notequal"===e.operator){"datetime"===t?(i=new Date(a.setSeconds(a.getSeconds()-1)),s=new Date(a.setSeconds(a.getSeconds()+2)),e.value=new Date(a.setSeconds(s.getSeconds()-1))):(i=new Date(a.setHours(0)-1),s=new Date(a.setHours(24))),l.value=i,r.value=s,"equal"===e.operator?(l.operator="greaterthan",r.operator="lessthan"):"notequal"===e.operator&&(l.operator="lessthanorequal",r.operator="greaterthanorequal");let o=new cM(l.field,l.operator,l.value,!1),h=new cM(r.field,r.operator,r.value,!1);n="equal"===e.operator?o.and(h):o.or(h)}else"string"==typeof l.value&&(l.value=new Date(l.value)),n=new cM(l.field,l.operator,l.value,!1);return e.setProperties?e.setProperties({ejpredicate:n},!0):e.ejpredicate=n,n}function NR(e="",t){if(e){let n=t,i=e.split(".");for(let e=0;e<i.length&&!UO(n);e++)n=n[i[e]];return n}}function RR(e,t){let n;return n=(new SI).getDatePattern("date"===t?"object"==typeof e?{type:e.type?e.type:"date",format:e.format}:{type:"dateTime",skeleton:e}:"object"==typeof e?{type:e.type?e.type:"dateTime",format:e.format}:{type:"dateTime",skeleton:e},!1),n}function FR(e){let t=[];for(;Object.getPrototypeOf(e)&&Object.keys(Object.getPrototypeOf(e)).length;)t=t.concat(Object.keys(Object.getPrototypeOf(e))),e=Object.getPrototypeOf(e);return t}var HR;function BR(e,t){e.classList.contains("e-bigger")&&t.classList.add("e-bigger")}!function(e){e.timer=null}(HR||(HR={}));class VR{constructor(e){this.existingPredicate={},this.foreignKeyQuery=new hM,this.filterState=!0,this.values={},this.renderEmpty=!1,this.parent=e,this.id=this.parent.element.id,this.valueFormatter=new CR(this.parent.locale),this.cBoxTrue=xM(this.parent.createElement,!1,{checked:!0,label:" "}),this.cBoxFalse=xM(this.parent.createElement,!1,{checked:!1,label:" "}),this.cBoxTrue.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxTrue.firstChild),this.cBoxFalse.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxFalse.firstChild),this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"),this.parent.enableRtl&&RD([this.cBoxTrue,this.cBoxFalse],["e-rtl"])}destroy(){this.closeDialog()}wireEvents(){zI.add(this.dlg,"click",this.clickHandler,this),this.searchHandler=$O(this.searchBoxKeyUp,200),zI.add(this.dlg.querySelector(".e-searchinput"),"keyup",this.searchHandler,this)}unWireEvents(){zI.remove(this.dlg,"click",this.clickHandler);let e=this.dlg.querySelector(".e-searchinput");e&&zI.remove(e,"keyup",this.searchHandler)}foreignKeyFilter(e,t,n){let i={},s=[],l=this.foreignKeyQuery.clone();this.options.column.dataSource.executeQuery(l.where(n)).then(n=>{this.options.column.columnData=n.result,this.parent.notify("generateQuery",{predicate:i,column:this.options.column}),e.ejpredicate=i.predicate.predicates;let l=i.predicate.predicates;for(let e=0;e<l.length;e++)s.push({field:l[e].field,predicate:"or",matchCase:l[e].ignoreCase,ignoreAccent:l[e].ignoreAccent,operator:l[e].operator,value:l[e].value,type:this.options.type});e.filterCollection=s.length?s:t.filter(e=>e.field=this.options.field),this.options.handler(e)})}foreignFilter(e,t){let n=new cM(this.options.column.foreignKeyValue,this.options.isRemote?"string"===this.options.column.type?"contains":"equal":this.options.column.type?"contains":"equal",t,!0,this.options.ignoreAccent);this.foreignKeyFilter(e,[e.filterCollection],n)}searchBoxClick(e){e.target.classList.contains("e-searchclear")&&(this.sInput.value="",this.refreshCheckboxes(),this.updateSearchIcon(),this.sInput.focus())}searchBoxKeyUp(e){this.refreshCheckboxes(),this.updateSearchIcon()}updateSearchIcon(){this.sInput.value.length?KD(this.sIcon,["e-chkcancel-icon"],["e-search-icon"]):KD(this.sIcon,["e-search-icon"],["e-chkcancel-icon"])}getLocalizedLabel(e){return this.localeObj.getConstant(e)}updateDataSource(){let e=this.options.dataSource;if(!(e instanceof vM))for(let t=0;t<e.length;t++)if("object"!=typeof e){let n={};n[this.options.field]=e[t],e[t]=n}}updateModel(e){this.options=e,this.existingPredicate=e.actualPredicate||{},this.options.dataSource=e.dataSource,this.options.dataManager=e.dataManager?e.dataManager:e.dataSource,this.updateDataSource(),this.options.type=e.type,this.options.format=e.format||"",this.options.ignoreAccent=e.ignoreAccent||!1,this.options.filteredColumns=e.filteredColumns||this.parent.filterSettings.columns,this.options.query=e.query||new hM,this.options.allowCaseSensitive=e.allowCaseSensitive||!1,this.options.uid=e.column.uid,this.values={},this.localeObj=e.localeObj,this.isFiltered=e.filteredColumns.length}getAndSetChkElem(e){if(this.dlg=this.parent.createElement("div",{id:this.id+this.options.type+"_excelDlg",className:"e-checkboxfilter e-filter-popup"}),this.sBox=this.parent.createElement("div",{className:"e-searchcontainer"}),!e.hideSearchbox){this.sInput=this.parent.createElement("input",{id:this.id+"_SearchBox",className:"e-searchinput"}),this.sIcon=this.parent.createElement("span",{className:"e-searchclear e-search-icon e-icons e-input-group-icon",attrs:{type:"text",title:this.getLocalizedLabel("Search")}}),this.searchBox=this.parent.createElement("span",{className:"e-searchbox e-fields"}),this.searchBox.appendChild(this.sInput),this.sBox.appendChild(this.searchBox);let e={element:this.sInput,floatLabelType:"Never",properties:{placeholder:this.getLocalizedLabel("Search")}};ZP.createInput(e,this.parent.createElement),this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)}return this.spinner=this.parent.createElement("div",{className:"e-spinner"}),this.cBox=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxList",className:"e-checkboxlist e-fields"}),this.spinner.appendChild(this.cBox),this.sBox.appendChild(this.spinner),this.sBox}showDialog(e){let t={requestType:"filterbeforeopen",columnName:this.options.field,columnType:this.options.type,cancel:!1};t.filterModel=this,this.parent.notify("cbox-filter-begin",t),t.cancel||(this.dialogObj=new CP({visible:!1,content:this.sBox,close:this.closeDialog.bind(this),width:!UO(SR(e.target,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:255,target:this.parent.element,animationSettings:{effect:"None"},buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton"),cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:"e-flat",content:this.getLocalizedLabel(this.isExcel?"CancelButton":"ClearButton")}}],created:this.dialogCreated.bind(this),open:this.dialogOpen.bind(this)}),this.dialogObj.isStringTemplate=!0,this.dlg.setAttribute("aria-label",this.getLocalizedLabel("ExcelFilterDialogARIA")),this.parent.element.appendChild(this.dlg),this.dialogObj.appendTo(this.dlg),this.dialogObj.element.style.maxHeight=this.options.height+"px",this.dialogObj.show(),this.wireEvents(),OP({target:this.spinner},this.parent.createElement),HP(this.spinner),this.getAllData())}dialogCreated(e){jI.isDevice?this.dialogObj.position={X:"center",Y:"center"}:function(e,t,n){let i=t.element.style.display;t.element.style.display="block";let s,l=t.width;if(n.enableRtl){s=JM(e,"left","bottom"),t.element.style.top=s.top+e.getBoundingClientRect().height-35+"px",t.element.style.display=i;let n=s.left-l+e.clientWidth;t.element.style.left=n<1?l+n+-16+"px":n-16+"px"}else{s=ZM(e,t.element),t.element.style.display=i,t.element.style.top=s.top+e.getBoundingClientRect().height-5+"px";let n=s.left-l+e.clientWidth;t.element.style.left=n<1?l+n-16+"px":n+-4+"px"}}(this.options.target,this.dialogObj,this.parent),this.parent.notify("filterDialogCreated",e)}openDialog(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e)}closeDialog(){if(this.dialogObj&&!this.dialogObj.isDestroyed){let e=this.options.columns.filter(e=>e.getFilterItemTemplate()),t=this.parent.registeredTemplate;e.length&&!UO(t)&&t.filterItemTemplate&&this.parent.destroyTemplate(["filterItemTemplate"]),this.parent.notify("filter-menu-close",{field:this.options.field}),this.dialogObj.destroy(),this.unWireEvents(),UD(this.dlg),this.dlg=null}}clearFilter(){let e={instance:this,handler:this.clearFilter,cancel:!1};this.parent.notify("filter-Prevent",e),e.cancel||this.options.handler({action:"clear-filter",field:this.options.field})}btnClick(e){if(this.filterState){if("input"===e.target.tagName.toLowerCase()&&e.target.classList.contains("e-searchinput")){let t=e.target.value;"boolean"===this.options.column.type&&(""!==t&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(t.toLowerCase())?t=!0:""!==t&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(t.toLowerCase())&&(t=!1));let n={action:"filtering",filterCollection:{field:this.options.field,operator:this.options.isRemote?"string"===this.options.column.type?"contains":"equal":"date"===this.options.column.type||"datetime"===this.options.column.type||"boolean"===this.options.column.type?"equal":"contains",value:t,matchCase:!1,type:this.options.column.type},field:this.options.field};null!=t&&""!==t?this.isForeignColumn(this.options.column)?this.foreignFilter(n,t):this.options.handler(n):this.closeDialog()}else if(13===e.keyCode)this.fltrBtnHandler();else{let t=e.target.firstChild.textContent.toLowerCase();this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton").toLowerCase()===t?this.fltrBtnHandler():this.getLocalizedLabel("ClearButton").toLowerCase()===t&&this.clearFilter()}this.closeDialog()}else"input"!==e.target.tagName.toLowerCase()&&(this.clearFilter(),this.closeDialog())}fltrBtnHandler(){let e,t,n=[].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall)")),i="equal",s=this.searchBox.querySelector(".e-searchinput"),l={field:this.options.field,predicate:"or",uid:this.options.uid,operator:i,type:this.options.type,matchCase:this.options.allowCaseSensitive,ignoreAccent:this.options.ignoreAccent},r=this.itemsCnt!==n.length&&this.itemsCnt-n.length<n.length;r&&""===s.value&&(i="notequal",n=[].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")),l.predicate="and",l.operator="notequal");let a=[];if(n.length!==this.itemsCnt||s.value&&""!==s.value){for(let i=0;i<n.length;i++){e=this.values[SR(n[i],"e-ftrchk").getAttribute("uid")],t=qO({},{value:e},l),e&&!e.toString().length&&(t.operator=r?"notequal":"equal"),""===e||UO(e)?("string"===this.options.type&&a.push({field:l.field,ignoreAccent:l.ignoreAccent,matchCase:l.matchCase,operator:l.operator,predicate:l.predicate,value:""}),a.push({field:l.field,matchCase:l.matchCase,operator:l.operator,predicate:l.predicate,value:null}),a.push({field:l.field,matchCase:l.matchCase,operator:l.operator,predicate:l.predicate,value:void 0})):a.push(t);let s={instance:this,handler:this.fltrBtnHandler,arg1:t.field,arg2:t.predicate,arg3:t.operator,arg4:t.matchCase,arg5:t.ignoreAccent,arg6:t.value,cancel:!1};if(this.parent.notify("filter-Prevent",s),s.cancel)return}this.initiateFilter(a)}else this.clearFilter()}initiateFilter(e){let t,n=e[0];if(!UO(n)){t=n.ejpredicate?n.ejpredicate:new cM(n.field,n.operator,n.value,!n.matchCase,n.ignoreAccent);for(let n=1;n<e.length;n++)t=void 0!==e[n].ejpredicate?t[e[n].predicate](e[n].ejpredicate):t[e[n].predicate](e[n].field,e[n].operator,e[n].value,!e[n].matchCase,e[n].ignoreAccent);let i={action:"filtering",filterCollection:e,field:this.options.field,ejpredicate:cM.or(t)};this.options.handler(i)}}isForeignColumn(e){return!!e.isForeignColumn&&e.isForeignColumn()}refreshCheckboxes(){let e=this.sInput.value,t=this.options.column,n=this.isForeignColumn(t)?this.foreignKeyQuery.clone():this.options.query.clone(),i=this.options.query.clone(),s=n.queries.filter(e=>e&&"onWhere"===e.fn)[0];n.queries=[],i.queries=[];let l,r="string"!==this.options.type&&parseFloat(e)?parseFloat(e):e,a=this.options.isRemote?"string"===this.options.type?"contains":"equal":this.options.type?"contains":"equal",o=this.options.ignoreAccent,h=this.isForeignColumn(t)?t.foreignKeyValue:t.field;r=""===r||void 0===r?void 0:r;let c=this.options.dataManager.adaptor.getModuleName;"boolean"===this.options.type&&(void 0!==r&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(r.toLowerCase())&&c?(c(),r=!0):void 0!==r&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(r.toLowerCase())&&c&&(c(),r=!1),a="equal"),"date"!==this.options.type&&"datetime"!==this.options.type||(r=this.valueFormatter.fromView(e,this.options.parserFn,this.options.type)),this.addDistinct(n),this.parent.trigger("actionBegin",{requestType:"filtersearchbegin",filterModel:this,columnName:h,column:t,operator:a,matchCase:!0,ignoreAccent:o,filterChoiceCount:null,query:n,value:r},c=>{if(c.operator=c.operator,l=new cM(h,c.operator,r,c.matchCase,c.ignoreAccent),"date"===this.options.type||"datetime"===this.options.type){if(a="equal",UO(r)&&e.length)return;l=LR({field:h,operator:a,value:r,matchCase:!0,ignoreAccent:o},this.options.type)}e.length?(l=UO(s)?l:l.and(s.e),n.where(l)):UO(s)||n.where(s.e),c.filterChoiceCount=UO(c.filterChoiceCount)?1e3:c.filterChoiceCount;let d={};HP(this.spinner),this.renderEmpty=!1,this.isForeignColumn(t)&&e.length?("result"in t.dataSource?new vM(t.dataSource.result):t.dataSource).executeQuery(n).then(e=>{let n=this.options.column.columnData;this.options.column.columnData=e.result,this.parent.notify("generateQuery",{predicate:d,column:t}),d.predicate.predicates.length?i.where(d.predicate):this.renderEmpty=!0,this.options.column.columnData=n,i.take(c.filterChoiceCount),this.search(c,i)}):(n.take(c.filterChoiceCount),this.search(c,n))})}search(e,t){this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(e,t):this.processSearch(t)}getPredicateFromCols(e){let t=VR.getPredicate(e),n=[],i={},s=void 0!==this.parent.getForeignKeyColumns,l=s?this.parent.getForeignKeyColumns():[];for(let r of Object.keys(t)){let e;s&&this.parent.getColumnByField(r).isForeignColumn()&&(e=PR(r,l)),e?(this.parent.notify("generateQuery",{predicate:i,column:e}),i.predicate.predicates.length&&n.push(cM.or(i.predicate.predicates))):n.push(t[r])}return n.length&&cM.and(n)}getQuery(){return this.parent.getQuery?this.parent.getQuery().clone():new hM}getAllData(){let e=this.getQuery();e.requiresCount(),this.addDistinct(e);let t={requestType:"filterchoicerequest",query:e,filterChoiceCount:null};t.filterModel=this,this.parent.trigger("actionBegin",t,t=>{t.filterChoiceCount=UO(t.filterChoiceCount)?1e3:t.filterChoiceCount,e.take(t.filterChoiceCount),this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(t,e):this.processDataOperation(e,!0)})}addDistinct(e){let t=dM.distinct(this.options.filteredColumns,"field");return t.indexOf(this.options.column.field)<=-1&&(t=t.concat(this.options.column.field)),e.distinct(t),e}filterEvent(e,t){this.eventPromise(e,t).promise.then(e=>{this.dataSuccess(e)})}eventPromise(e,t){let n;n=this.getStateEventArgument(t);let i=new yM;return n.dataSource=i.resolve,n.action=e,this.parent.trigger("dataStateChange",n),i}getStateEventArgument(e){let t=new mM,n=new vM({url:"",adaptor:new mM}),i=t.processQuery(n,e);return JSON.parse(i.data)}processDataOperation(e,t){this.options.dataSource=this.options.dataSource instanceof vM?this.options.dataSource:new vM(this.options.dataSource);let n=[],i=[];if(this.isForeignColumn(this.options.column)&&t){let t="result"in this.options.column.dataSource?new vM(this.options.column.dataSource.result):this.options.column.dataSource;this.foreignKeyQuery.params=e.params,n.push(t.executeQuery(this.foreignKeyQuery)),i.push(e=>this.foreignKeyData=e)}n.push(this.options.dataSource.executeQuery(e)),i.push(this.dataSuccess.bind(this));let s=0;Promise.all(n).then(e=>{for(let t=0;t<e.length;t++)i[s++](e[t].result)})}dataSuccess(e){this.fullData=e;let t=new hM;if(this.parent.searchSettings&&this.parent.searchSettings.key.length){let e=this.parent.searchSettings,n=e.fields.length?e.fields:this.options.columns.map(e=>e.field);t.search(e.key,n,e.operator,e.ignoreCase,e.ignoreAccent)}if(this.options.filteredColumns.length){let e=[];for(let t=0;t<this.options.filteredColumns.length;t++){let n=this.options.filteredColumns[t];this.options.uid?(n.uid=n.uid||this.parent.getColumnByField(n.field).uid,n.uid!==this.options.uid&&e.push(this.options.filteredColumns[t])):n.field!==this.options.field&&e.push(this.options.filteredColumns[t])}let n=this.getPredicateFromCols(e);n&&t.where(n)}let n=new vM(this.fullData).executeLocal(t);this.filteredData=VR.getDistinct(n,this.options.field,this.options.column,this.foreignKeyData).records||[],this.processDataSource(null,!0,this.filteredData),this.sInput.focus();let i={requestType:"filterafteropen",columnName:this.options.field,columnType:this.options.type};i.filterModel=this,this.parent.notify("cbox-filter-complete",i)}processDataSource(e,t,n){HP(this.spinner),this.updateResult(),this.createFilterItems(n,t)}processSearch(e){this.processDataOperation(e)}updateResult(){this.result={};let e=this.getPredicateFromCols(this.options.filteredColumns),t=new hM;e&&t.where(e);let n=new vM(this.fullData).executeLocal(t);for(let i of n)this.result[NR(this.options.field,i)]=!0}clickHandler(e){let t=e.target,n=SR(t,"e-checkbox-wrapper");if(SR(t,"e-searchbox")&&this.searchBoxClick(e),n){let e=n.querySelector(".e-selectall");e?this.updateAllCBoxes(!e.classList.contains("e-check")):function(e){let t=e.querySelector(".e-frame");t.classList.contains("e-check")?KD(t,["e-uncheck"],["e-check"]):KD(t,["e-check"],["e-uncheck"])}(n.parentElement),this.updateIndeterminatenBtn(),n.querySelector(".e-chk-hidden").focus()}}updateAllCBoxes(e){let t=[].slice.call(this.cBox.querySelectorAll(".e-frame"));for(let n of t)MR(n,e)}dialogOpen(){this.parent.element.classList.contains("e-device")&&(this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"),this.dialogObj.element.querySelector(".e-btn").focus())}createCheckbox(e,t,n){let i=t?this.cBoxTrue.cloneNode(!0):this.cBoxFalse.cloneNode(!0),s=i.querySelector(".e-label"),l=function(e,t,n,i){let s=e||{},l=arguments.length;i&&(l-=1);for(let r=1;r<l;r++){if(!arguments[r])continue;let e=arguments[r],t=Object.keys(Object.getPrototypeOf(e)).length?Object.keys(e).concat(FR(e)):Object.keys(e);for(let n=0;n<t.length;n++){let l,r=s[t[n]],a=e[t[n]];i&&(jO(a)||Array.isArray(a))?jO(a)?(l=r||{},s[t[n]]=qO({},l,a,i)):(l=r||[],s[t[n]]=qO([],l,a,i)):s[t[n]]=a}}return s}({},n,{column:this.options.column,parent:this.parent});return s.innerHTML=!UO(e)&&e.toString().length?e:this.getLocalizedLabel("Blanks"),RD([s],["e-checkboxfiltertext"]),this.options.template&&n[this.options.column.field]!==this.getLocalizedLabel("SelectAll")&&(s.innerHTML="",OR(s,this.options.template(l,this.parent,"filterItemTemplate"))),i}updateIndeterminatenBtn(){let e=this.cBox.children.length-1,t=[],n=this.cBox.querySelector(".e-selectall"),i=this.cBox.querySelectorAll(".e-check:not(.e-selectall)").length,s=this.dialogObj.btnObj[0];s.disabled=!1,e===i?t=["e-check"]:i?t=["e-stop"]:(t=["e-uncheck"],s.disabled=!0),this.filterState=!s.disabled,s.dataBind(),FD([n],["e-check","e-stop","e-uncheck"]),RD([n],t)}createFilterItems(e,t){let n=this.parent.createElement("div"),i=this.dialogObj.btnObj[0],s=-1;for(let r=0;r<e.length;r++){let t=HO("ejValue",e[r]);(""===t||UO(t))&&(s+=1)}if(this.itemsCnt=-1!==s?e.length-s:e.length,e.length&&!this.renderEmpty){let t=this.getLocalizedLabel("SelectAll"),s=this.createCheckbox(t,!1,{[this.options.field]:t}),l=AR(ER("cbox"),s,"e-ftrchk");l.querySelector(".e-frame").classList.add("e-selectall"),n.appendChild(l);let r=new cM("field","equal",this.options.field);this.options.foreignKeyValue&&(r=r.or("field","equal",this.options.foreignKeyValue));let a,o=new vM(this.options.filteredColumns).executeLocal((new hM).where(r)).length;for(let i=0;i<e.length;i++){let t=ER("cbox");this.values[t]=HO("ejValue",e[i]);let s=HO(this.options.field,e[i]);this.options.formatFn&&(s=this.valueFormatter.toView(s,this.options.formatFn));let l={value:s,column:this.options.column,data:e[i]};if(this.parent.notify("filter-cbox-value",l),s=l.value,""===s||UO(s)){if(a)continue;a=!0}let r=this.createCheckbox(s,this.getCheckedState(o,this.values[t]),HO("dataObj",e[i]));n.appendChild(AR(t,r,"e-ftrchk"))}this.cBox.innerHTML="",OR(this.cBox,[].slice.call(n.children)),this.updateIndeterminatenBtn(),i.disabled=!1}else n.appendChild(this.parent.createElement("span",{innerHTML:this.getLocalizedLabel("NoResult")})),this.cBox.innerHTML="",OR(this.cBox,[].slice.call(n.children)),i.disabled=!0;this.filterState=!i.disabled,i.dataBind();let l={requestType:"filterchoicerequest",dataSource:this.renderEmpty?[]:e};l.filterModel=this,this.parent.notify("cbox-filter-complete",l),VP(this.spinner)}getCheckedState(e,t){return!this.isFiltered||!e||this.result[t]}static getDistinct(e,t,n,i){let s,l=e.length,r=[],a={},o=!(!n||!n.isForeignColumn)&&n.isForeignColumn();for(;l--;)if(s=e[l],s=NR(t,s),!(s in a)){let h={};if(h.ejValue=s,a[s]=!0,o){let t=TR(n,{},s,i)[0];BO("foreignKeyData",t,e[l]),s=HO(n.foreignKeyValue,t)}BO(t,UO(s)?null:s,h),BO("dataObj",e[l],h),r.push(h)}return dM.group(dM.sort(r,t,dM.fnAscending),"ejValue")}static getPredicate(e){let t=dM.distinct(e,"field",!0)||[],n=[],i={};for(let s=0;s<t.length;s++)n=new vM(e).executeLocal((new hM).where("field","equal",t[s].field)),0!==n.length&&(i[t[s].field]=VR.generatePredicate(n));return i}static generatePredicate(e){let t,n,i=e?e.length:0;n=VR.updateDateFilter(e[0]),n.ignoreAccent=!UO(n.ignoreAccent)&&n.ignoreAccent,t="date"===n.type||"datetime"===n.type?LR(n,n.type):n.ejpredicate?n.ejpredicate:new cM(n.field,n.operator,n.value,!VR.getCaseValue(n),n.ignoreAccent);for(let s=1;s<i;s++)e[s]=VR.updateDateFilter(e[s]),i>2&&s>1&&"or"===e[s].predicate?t.predicates.push("date"===e[s].type||"datetime"===e[s].type?LR(e[s],e[s].type):new cM(e[s].field,e[s].operator,e[s].value,!VR.getCaseValue(e[s]),e[s].ignoreAccent)):t="date"===e[s].type||"datetime"===e[s].type?t[e[s].predicate](LR(e[s],e[s].type),e[s].type,e[s].ignoreAccent):e[s].ejpredicate?t[e[s].predicate](e[s].ejpredicate):t[e[s].predicate](e[s].field,e[s].operator,e[s].value,!VR.getCaseValue(e[s]),e[s].ignoreAccent);return t||null}static getCaseValue(e){return UO(e.matchCase)?!("string"===e.type||UO(e.type)&&"string"==typeof e.value):e.matchCase}static updateDateFilter(e){return("date"===e.type||"datetime"===e.type||e.value instanceof Date)&&(e.type=e.type||"date"),e}}class jR extends VR{constructor(e,t){super(e),this.customFilterOperators=t,this.isExcel=!0}getCMenuDS(e,t){let n={number:["Equal","NotEqual","","LessThan","LessThanOrEqual","GreaterThan","GreaterThanOrEqual","Between","","CustomFilter"],string:["Equal","NotEqual","","StartsWith","EndsWith","","Contains","","CustomFilter"]};n.date=n.number,n.datetime=n.number;let i=[];for(let s=0;s<n[e].length;s++)i.push(n[e][s].length?t?{text:this.getLocalizedLabel(n[e][s])+"...",iconCss:"e-icons e-icon-check "+(t===n[e][s].toLowerCase()?"":"e-emptyicon")}:{text:this.getLocalizedLabel(n[e][s])+"..."}:{separator:!0});return i}destroy(){this.dlg&&(this.unwireExEvents(),super.destroy()),this.cmenu&&this.cmenu.parentElement&&UD(this.cmenu)}createMenu(e,t,n){this.menu=this.parent.createElement("div",{className:"e-contextmenu-wrapper"}),this.parent.enableRtl?this.menu.classList.add("e-rtl"):this.menu.classList.remove("e-rtl");let i=this.parent.createElement("ul"),s=t?"e-excl-filter-icon e-filtered":"e-excl-filter-icon";i.appendChild(this.createMenuElem(this.getLocalizedLabel("ClearFilter"),t?"":"e-disabled",s)),"boolean"!==e&&i.appendChild(this.createMenuElem(this.getLocalizedLabel({string:"TextFilter",date:"DateFilter",datetime:"DateTimeFilter",number:"NumberFilter"}[e]),"e-submenu",n&&this.ensureTextFilter()?"e-icon-check":s+" e-emptyicon",!0)),this.menu.appendChild(i),this.parent.notify("before-filter-cmenu-open",{element:this.menu})}createMenuElem(e,t,n,i){let s=this.parent.createElement("li",{className:t+" e-menu-item"});return s.innerHTML=e,s.insertBefore(this.parent.createElement("span",{className:"e-menu-icon e-icons "+n}),s.firstChild),i&&s.appendChild(this.parent.createElement("span",{className:"e-icons e-caret"})),s}wireExEvents(){zI.add(this.dlg,"mouseover",this.hoverHandler,this),zI.add(this.dlg,"click",this.clickExHandler,this)}unwireExEvents(){zI.remove(this.dlg,"mouseover",this.hoverHandler),zI.remove(this.dlg,"click",this.clickExHandler)}clickExHandler(e){let t=SR(e.target,"e-menu-item");t&&this.getLocalizedLabel("ClearFilter")===t.innerText.trim()&&(this.clearFilter(),this.closeDialog())}destroyCMenu(){this.menuObj&&!this.menuObj.isDestroyed&&(this.menuObj.destroy(),UD(this.cmenu))}hoverHandler(e){let t,n=e.target.querySelector(".e-contextmenu"),i=SR(e.target,"e-menu-item"),s=this.menu.querySelector(".e-focused");if(s&&s.classList.remove("e-focused"),i&&(i.classList.add("e-focused"),t=i.classList.contains("e-submenu")),n)return;if(!t){let e=this.menu.querySelector(".e-submenu");UO(e)||e.classList.remove("e-selected"),this.isCMenuOpen=!1,this.destroyCMenu()}let l=this.ensureTextFilter();if(!this.isCMenuOpen&&t){i.classList.add("e-selected"),this.isCMenuOpen=!0;let t={items:this.getCMenuDS(this.options.type,l?l.replace(/\s/g,""):void 0),select:this.selectHandler.bind(this),onClose:this.destroyCMenu.bind(this),enableRtl:this.parent.enableRtl,beforeClose:this.preventClose};this.parent.element.appendChild(this.cmenu),this.menuObj=new nN(t,this.cmenu);let n=this.menu.querySelector(".e-submenu").getBoundingClientRect(),s={top:0,left:0};if(jI.isDevice){let e=this.getContextBounds(this.menuObj);s.top=(window.innerHeight-e.height)/2,s.left=(window.innerWidth-e.width)/2,this.closeDialog()}else s.top=jI.isIE?window.pageYOffset+n.top:window.scrollY+n.top,s.left=this.getCMenuYPosition(this.dlg,this.menuObj);this.menuObj.open(s.top,s.left,e.target),BR(this.parent.element,this.menuObj.element.parentElement)}}ensureTextFilter(){let e,t=this.existingPredicate[this.options.field];return t&&2===t.length?e="greaterthanorequal"===t[0].operator&&"lessthanorequal"===t[1].operator?"between":"customfilter":t&&1===t.length&&(this.optrData=this.customFilterOperators[this.options.type+"Operator"],e=t[0].operator),e}preventClose(e){e.event instanceof MouseEvent&&e.event.target.classList.contains("e-submenu")&&(e.cancel=!0)}getContextBounds(e){return this.menuObj.element.style.display="block",this.menuObj.element.getBoundingClientRect()}getCMenuYPosition(e,t){let n=this.getContextBounds(t).width,i=e.getBoundingClientRect(),s=e.offsetWidth-e.clientWidth;return s=s?s+1:0,i.right+n-this.parent.element.clientWidth<1?i.right+1-s:i.left-n-1+s}openDialog(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e),this.dialogObj.dataBind();let t=this.existingPredicate[e.field]&&this.existingPredicate[e.field].length||this.options.filteredColumns.filter(e=>this.options.field===e.field).length;this.createMenu(e.type,t>0,1===t||2===t),this.dlg.insertBefore(this.menu,this.dlg.firstChild),this.dlg.classList.add("e-excelfilter"),this.parent.enableRtl&&this.dlg.classList.add("e-rtl"),this.dlg.classList.remove("e-checkboxfilter"),this.cmenu=this.parent.createElement("ul",{className:"e-excel-menu"}),this.wireExEvents()}closeDialog(){super.closeDialog()}selectHandler(e){e.item&&(this.menuItem=e.item,this.renderDialogue(e))}renderDialogue(e){let t=e.element,n=this.options.field,i=!UO(n)&&IR(n),s=!UO(n)&&DR(n),l=this.parent.createElement("div",{className:"e-xlfl-maindiv",id:i?s+"-xlflmenu":n+"-xlflmenu"});this.dlgDiv=this.parent.createElement("div",{className:"e-xlflmenu",id:i?s+"-xlfldlg":n+"-xlfldlg"}),this.parent.element.appendChild(this.dlgDiv),this.dlgObj=new CP({header:this.getLocalizedLabel("CustomFilter"),isModal:!0,overlayClick:this.removeDialog.bind(this),showCloseIcon:!0,closeOnEscape:!1,target:document.body,visible:!1,enableRtl:this.parent.enableRtl,open:()=>{let e=this.dlgObj.element.querySelector("table.e-xlfl-table>tr");this.options.column.filterTemplate?e.querySelector("#"+this.options.column.field+"-xlfl-frstvalue").focus():e.cells[1].querySelector("input:not([type=hidden])").focus()},close:this.removeDialog.bind(this),created:this.createdDialog.bind(this,t,n),buttons:[{click:this.filterBtnClick.bind(this,n),buttonModel:{content:this.getLocalizedLabel("OKButton"),isPrimary:!0,cssClass:"e-xlfl-okbtn"}},{click:this.removeDialog.bind(this),buttonModel:{content:this.getLocalizedLabel("CancelButton"),cssClass:"e-xlfl-cancelbtn"}}],content:l,width:430,animationSettings:{effect:"None"}}),this.dlgObj.isStringTemplate=!0,this.dlgDiv.setAttribute("aria-label",this.getLocalizedLabel("CustomFilterDialogARIA")),this.dlgObj.appendTo(this.dlgDiv)}removeDialog(){this.removeObjects([this.dropOptr,this.datePicker,this.dateTimePicker,this.actObj,this.numericTxtObj,this.dlgObj]),UD(this.dlgDiv)}createdDialog(e,t){this.renderCustomFilter(e,t),this.dlgObj.element.style.left="0px",this.dlgObj.element.style.top="0px",jI.isDevice&&window.innerWidth<440&&(this.dlgObj.element.style.width="90%"),this.parent.notify("beforeCustomFilterOpen",{column:t,dialog:this.dialogObj}),this.dlgObj.show(),BR(this.parent.element,this.dlgObj.element.parentElement)}renderCustomFilter(e,t){let n=this.dlgObj.element.querySelector(".e-xlfl-maindiv"),i=this.parent.createElement("div",{innerHTML:this.getLocalizedLabel("ShowRowsWhere"),className:"e-xlfl-dlgfields"});n.appendChild(i);let s=this.parent.createElement("div",{innerHTML:this.options.displayName,className:"e-xlfl-fieldset"});n.appendChild(s),this.renderFilterUI(t,n)}filterBtnClick(e){let t,n=!UO(e)&&IR(e),i=!UO(e)&&DR(e),s=n?i:e,l=this.dlgDiv.querySelector("#"+s+"-xlfl-frstvalue").ej2_instances[0],r=this.dlgDiv.querySelector("#"+s+"-xlfl-frstoptr").ej2_instances[0],a=this.dlgDiv.querySelector("#"+s+"-xlfl-secndvalue").ej2_instances[0],o=this.dlgDiv.querySelector("#"+s+"-xlfl-secndoptr").ej2_instances[0];"string"===this.options.type&&(t=this.dlgDiv.querySelector("#"+s+"-xlflmtcase").ej2_instances[0].checked);let h=this.dlgDiv.querySelector("#"+s+"e-xlfl-frstpredicate").ej2_instances[0],c=(this.dlgDiv.querySelector("#"+s+"e-xlfl-secndpredicate"),h.checked?"and":"or");null===a.value&&(c="or"),this.filterByColumn(this.options.field,r.value,l.value,c,t,this.options.ignoreAccent,o.value,a.value),this.removeDialog()}filterByColumn(e,t,n,i,s,l,r,a){let o,h=this.parent.getColumnByField?this.parent.getColumnByField(e):this.options.column,c=this.isForeignColumn(h)?h.foreignKeyValue:e,d=[];d.push({field:c,predicate:i,matchCase:s,ignoreAccent:l,operator:t,value:n,type:this.options.type});let u={instance:this,handler:this.filterByColumn,arg1:e,arg2:t,arg3:n,arg4:i,arg5:s,arg6:l,arg7:r,arg8:a,cancel:!1};if(this.parent.notify("filter-Prevent",u),u.cancel)return;o=new cM(c,t.toLowerCase(),n,!s,l),UO(a)||UO(r)||(d.push({field:c,predicate:i,matchCase:s,ignoreAccent:l,operator:r,value:a,type:this.options.type}),o=o[i](c,r.toLowerCase(),a,!s,l));let p={action:"filtering",filterCollection:d,field:this.options.field,ejpredicate:o,actualPredicate:d};this.isForeignColumn(h)?this.foreignKeyFilter(p,d,o):this.options.handler(p)}renderOperatorUI(e,t,n,i,s){let l=this.parent.createElement("tr",{className:"e-xlfl-fields"});t.appendChild(l);let r=this.parent.createElement("td",{className:"e-xlfl-optr"});l.appendChild(r);let a=this.parent.createElement("div",{className:"e-xlfl-optrdiv"}),o=!UO(e)&&IR(e),h=!UO(e)&&DR(e),c=this.parent.createElement("input",{id:o?h+n:e+n});a.appendChild(c),r.appendChild(a);let d=this.customFilterOperators[this.options.type+"Operator"];this.optrData=d;let u=this.dropSelectedVal(this.options.column,i,s),p="";this.menuItem&&(p=this.menuItem.text.slice(0,-3),p!==this.getLocalizedLabel("CustomFilter")&&(u=s?p:void 0),p===this.getLocalizedLabel("Between")&&(u=this.getLocalizedLabel(s?"GreaterThanOrEqual":"LessThanOrEqual")));let m=this.options.column;return this.dropOptr=new GN(xR({dataSource:d,fields:{text:"text",value:"value"},text:u,open:this.dropDownOpen.bind(this),enableRtl:this.parent.enableRtl,change:this.dropDownValueChange.bind(this)},m.filter.params)),this.dropOptr.appendTo(c),{fieldElement:l,operator:this.getSelectedValue(u)}}dropDownOpen(e){e.popup.element.style.zIndex=(this.dialogObj.zIndex+1).toString()}dropDownValueChange(e){e.element.id.includes("-xlfl-frstoptr")?this.firstOperator=e.value.toString():this.secondOperator=e.value.toString()}getFilterUIInfo(){return{firstOperator:this.firstOperator,secondOperator:this.secondOperator,field:this.options.field}}getSelectedValue(e){let t=new vM(this.optrData).executeLocal((new hM).where("text","equal",e));return UO(t[0])?"":t[0].value}dropSelectedVal(e,t,n){let i;return i=t&&t.length>0?2===t.length?n?t[0].operator:t[1].operator:n?t[0].operator:void 0:n&&"string"===e.type&&!e.filter.operator?"startswith":n?e.filter.operator||"equal":void 0,this.getSelectedText(i)}getSelectedText(e){let t=new vM(this.optrData).executeLocal((new hM).where("value","equal",e));return UO(t[0])?"":t[0].text}renderFilterUI(e,t){let n=this.existingPredicate[e],i=this.parent.createElement("table",{className:"e-xlfl-table"});t.appendChild(i);let s=this.parent.createElement("colGroup");s.innerHTML='<col style="width: 50%"></col><col style="width: 50%"></col>',i.appendChild(s);let l=this.renderOperatorUI(e,i,"-xlfl-frstoptr",n,!0);this.firstOperator=l.operator,this.renderFlValueUI(e,l,"-xlfl-frstvalue",n,!0);let r=this.parent.createElement("tr",{className:"e-xlfl-predicate"});i.appendChild(r),this.renderRadioButton(e,r,n),l=this.renderOperatorUI(e,i,"-xlfl-secndoptr",n,!1),this.secondOperator=l.operator,this.renderFlValueUI(e,l,"-xlfl-secndvalue",n,!1)}renderRadioButton(e,t,n){let i=this.parent.createElement("td",{className:"e-xlfl-radio",attrs:{colSpan:"2"}});t.appendChild(i);let s=this.parent.createElement("div",{className:"e-xlfl-radiodiv",attrs:{style:"display: inline-block"}}),l=!UO(e)&&IR(e),r=!UO(e)&&DR(e),a=this.parent.createElement("input",{id:l?r+"e-xlfl-frstpredicate":e+"e-xlfl-frstpredicate",attrs:{type:"radio"}}),o=this.parent.createElement("input",{id:l?r+"e-xlfl-secndpredicate":e+"e-xlfl-secndpredicate",attrs:{type:"radio"}});s.appendChild(a),s.appendChild(o),i.appendChild(s),"string"===this.options.type&&this.renderMatchCase(e,t,i,"-xlflmtcase",n);let h=new LM({label:this.getLocalizedLabel("AND"),name:"default",cssClass:"e-xlfl-radio-and",checked:!0,enableRtl:this.parent.enableRtl}),c=new LM({label:this.getLocalizedLabel("OR"),name:"default",cssClass:"e-xlfl-radio-or",enableRtl:this.parent.enableRtl});"and"===(n&&2===n.length?n[1].predicate:"and")?(h.checked=!0,c.checked=!1):(c.checked=!0,h.checked=!1),h.appendTo(a),c.appendTo(o)}removeObjects(e){for(let t of e)t&&!t.isDestroyed&&t.destroy()}renderFlValueUI(e,t,n,i,s){let l=this.parent.createElement("td",{className:"e-xlfl-value"});t.fieldElement.appendChild(l);let r=!UO(e)&&IR(e),a=!UO(e)&&DR(e),o=this.parent.createElement("div",{className:"e-xlfl-valuediv"}),h=this.options.filteredColumns.some(t=>e===t.field),c=this.options.filteredColumns.filter(t=>t.field===e);if(this.options.column.filterTemplate){let t={},s=this.options.column;h&&n&&(t=this.getExcelFilterData(n,t,s,i,c));let d=this.parent.element.id+s.uid+"filterTemplate";OR(o,this.options.column.getFilterTemplate()(t,this.parent,"filterTemplate",d)),o.children[0].id=r?a+n:e+n,l.appendChild(o)}else{let h,c,d=this.parent.createElement("input",{id:r?a+n:e+n});o.appendChild(d),l.appendChild(o),i&&i.length>0&&(c=2===i.length?s?i[0]:i[1]:s?i[0]:void 0,h=c&&c.operator===t.operator?c.value:void 0),{string:this.renderAutoComplete.bind(this),number:this.renderNumericTextBox.bind(this),date:this.renderDate.bind(this),datetime:this.renderDateTime.bind(this)}[this.options.type](this.options,e,d,h,this.parent.enableRtl)}}getExcelFilterData(e,t,n,i,s){let l="-xlfl-frstvalue"===e?0:1;if("-xlfl-frstvalue"===e||s.length>1){let e=this.options.column.columnData&&s.length>1?1===this.options.column.columnData.length?0:1:l;(t={column:i instanceof Array?i[l]:i})[this.options.field]=n.foreignKeyValue?this.options.column.columnData[e][n.foreignKeyValue]:s[e].value,this.options.foreignKeyValue&&(t[this.options.foreignKeyValue]=this.options.column.columnData[e][n.foreignKeyValue])}return t}renderMatchCase(e,t,n,i,s){let l=this.parent.createElement("div",{className:"e-xlfl-matchcasediv",attrs:{style:"display: inline-block"}}),r=!UO(e)&&IR(e),a=!UO(e)&&DR(e),o=this.parent.createElement("input",{id:r?a+i:e+i,attrs:{type:"checkbox"}});l.appendChild(o),n.appendChild(l);let h=!!(s&&s.length>0)&&(s&&2===s.length?s[1].matchCase:s[0].matchCase);new MM({label:this.getLocalizedLabel("MatchCase"),enableRtl:this.parent.enableRtl,checked:h}).appendTo(o)}renderDate(e,t,n,i,s){let l=RR(e.format,e.type);this.datePicker=new oR(xR({format:l,cssClass:"e-popup-flmenu",placeholder:this.getLocalizedLabel("CustomFilterDatePlaceHolder"),width:"100%",enableRtl:s,value:new Date(i),locale:this.parent.locale},e.column.filter.params)),this.datePicker.appendTo(n)}renderDateTime(e,t,n,i,s){let l=RR(e.format,e.type);this.dateTimePicker=new yR(xR({format:l,cssClass:"e-popup-flmenu",placeholder:this.getLocalizedLabel("CustomFilterDatePlaceHolder"),width:"100%",enableRtl:s,value:new Date(i),locale:this.parent.locale},e.column.filter.params)),this.dateTimePicker.appendTo(n)}completeAction(e){e.result=function(e){let t={},n=[];for(let i=0;i<e.length;i++)e[i]in t||(n.push(e[i].toString()),t[e[i]]=1);return n}(e.result)}renderNumericTextBox(e,t,n,i,s){this.numericTxtObj=new nL(xR({format:e.format,placeholder:this.getLocalizedLabel("CustomFilterPlaceHolder"),enableRtl:s,value:i,locale:this.parent.locale},e.column.filter.params)),this.numericTxtObj.appendTo(n)}renderAutoComplete(e,t,n,i,s){let l=this.options.column,r=this.isForeignColumn(l),a=r?l.dataSource:e.dataSource,o={value:r?l.foreignKeyValue:t},h=new QN(xR({dataSource:a instanceof vM?a:new vM(a),fields:o,query:this.getQuery(),sortOrder:"Ascending",locale:this.parent.locale,cssClass:"e-popup-flmenu",autofill:!0,focus:()=>{let i=!UO(t)&&IR(t),s=!UO(t)&&DR(t),l=i?s:t;h.filterType=this.dlgDiv.querySelector("#"+l+(n.id===l+"-xlfl-frstvalue"?"-xlfl-frstoptr":"-xlfl-secndoptr")).ej2_instances[0].value,h.ignoreCase="string"!==e.type||!this.dlgDiv.querySelector("#"+l+"-xlflmtcase").ej2_instances[0].checked,h.filterType=UO(h.filterType)?"equal":h.filterType},placeholder:this.getLocalizedLabel("CustomFilterPlaceHolder"),enableRtl:s,actionComplete:e=>{let n=!UO(t)&&IR(t);e.result=e.result.filter((e,t,i)=>i.map(e=>n?this.performComplexDataOperation(h.fields.value,e):e[h.fields.value]).indexOf(n?this.performComplexDataOperation(h.fields.value,e):e[this.actObj.fields.value])===t)},value:i},l.filter.params));h.appendTo(n),this.actObj=h}performComplexDataOperation(e,t){let n,i=e.split(".").length,s=e.split("."),l=t;for(let r=0;r<i;r++)n=l[s[r]],l=n;return n}}function zR(e){let t,n=[];return(e=-1===(e=e.indexOf("!")>-1?e.split("!")[1]:e).indexOf(":")?e+":"+e:e).split(":").forEach(e=>{t=qR(e),n.push(t[0]),n.push(t[1])}),n}function qR(e){return[parseInt(e.match(/\d+/)[0],10)-1,UR(e.match(/[A-Z]+/i)[0])]}function UR(e){let t=0;for(let n=(e=e.split("").reverse().join("")).length-1;n>=0;n--)t+=(e[n].charCodeAt(0)-64)*Math.pow(26,n);return t-1}function WR(e,t){return $R(t+1)+(e+1)}function YR(e){return WR(e[0],e[1])+":"+(UO(e[2])?WR(e[0],e[1]):WR(e[2],e[3]))}function $R(e){return e/26>1?$R(e%26==0?e/26-1:Math.floor(e/26))+String.fromCharCode(e%26==0?"Z".charCodeAt(0):64+e%26):String.fromCharCode(64+e)}function GR(e){return zR(XR(e))}function XR(e){return e.split("!")[1]||e}function KR(e){let t=e.slice();return e[0]>e[2]&&ZR(t,0,2),e[1]>e[3]&&ZR(t,1,3),t}function ZR(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}function JR(e){return e[0]===e[2]&&e[1]===e[3]}function QR(e,t,n,i,s){return new eF(e,t,n,i,s)}class eF{constructor(e,t,n,i,s){this.preventCallback=!1,this.context=e,this.workerTask=t,this.defaultListener=n,this.workerData=i,s&&(this.preventCallback=!0),this.initWorker()}terminate(){this.worker.terminate(),URL.revokeObjectURL(this.workerUrl)}initWorker(){let e=new Blob([this.getFnCode()],{type:"text/javascript"});this.workerUrl=URL.createObjectURL(e),this.worker=new Worker(this.workerUrl),this.worker.onmessage=this.messageFromWorker.bind(this),this.worker.onerror=this.onError.bind(this),this.worker.postMessage(this.workerData)}messageFromWorker(e){this.terminate(),this.defaultListener.apply(this.context,[e.data])}onError(e){throw this.terminate(),e.message||e}getFnCode(){let e,t,n="",i="",s=!1;if("function"==typeof this.workerTask)this.workerTask.toString().indexOf("function")<0?i="function "+this.workerTask.toString():(i=this.workerTask.toString(),s=!0),n+="self.workerTask = "+i+"; \n";else if("object"==typeof this.workerTask)for(t=Object.keys(this.workerTask),e=0;e<t.length;e++)this.workerTask[t[e]].toString().indexOf("function")<0?i="function "+this.workerTask[t[e]].toString():(i=this.workerTask[t[e]].toString(),s=!0),n+=(0===e?"self.workerTask":t[e])+"= "+i+"; \n";return n+="self.onmessage = "+(s?"":" function ")+(this.preventCallback?this.getMessageFn.toString():this.getCallbackMessageFn.toString())+"; \n",n}getCallbackMessageFn(e){postMessage(this.workerTask(...e.data))}getMessageFn(e){this.workerTask(...e.data)}}function tF(e){return(e=(e=Number(e))>0&&e<1?1+e:0===e?1:e)>60&&(e-=1),new Date(864e5*(e-1)+new Date("01/01/1900").getTime())}function nF(e){return e-parseFloat(e)>=0}const iF="setCellFormat",sF="workbookFormulaOperation",lF="ShowDialog",rF="setMerge";class aF{constructor(e){this.parent=e,this.localeObj=kI(this.parent.locale),this.decimalSep=this.localeObj.decimal,this.groupSep=this.localeObj.group,this.addEventListener()}numberFormatting(e){let t=this.parent.activeSheetIndex;e.range&&e.range.indexOf("!")>-1&&(t=fH(this.parent,e.range.split("!")[0]));let n,i=this.parent.sheets[t],s=zR(e.range?e.range.indexOf("!")>-1?e.range.split("!")[1]:e.range:i.selectedRange);for(let l=s[0];l<=s[2];l++)for(let r=s[1];r<=s[3];r++)hH(l,r,i,{format:e.format},!0),n=oH(l,r,i,!0),this.getFormattedCell({type:hF(n.format),value:n.value,format:n.format,rowIndex:l,colIndex:r,sheetIndex:t,cell:n})}getFormattedCell(e){let t=UO(e.value)?"":e.value,n=this.parent.sheets[UO(e.sheetIndex)?this.parent.activeSheetIndex:e.sheetIndex],i=zR(n.activeCell),s=Number(e.sheetIndex)?Number(e.sheetIndex):this.parent.activeSheetIndex,l=e.cell?e.cell:oH(i[0],i[1],n),r=!1,a=EI(this.parent.locale,"USD");if(""===e.format||"General"===e.format){l=l||{};let t={value:e.value,rowIndex:i[0],colIndex:i[1],sheetIndex:this.parent.activeSheetIndex,updatedVal:e.value,isDate:!1,isTime:!1};this.checkDateFormat(t),t.isDate?(r=!0,l.value=e.value=t.updatedVal,l.format=e.format=oF("ShortDate")):t.isTime&&(r=!0,l.value=e.value=t.updatedVal,l.format=e.format=oF("Time"))}e.type=e.format?hF(e.format):"General";let o=this.processFormats(e,t,r,l);return this.parent.getActiveSheet().id-1===s&&this.parent.notify("refreshCellElem",{isRightAlign:o.rightAlign,result:o.fResult||e.value,rowIndex:e.rowIndex,colIndex:e.colIndex,sheetIndex:e.sheetIndex,type:e.type,curSymbol:a,value:e.value||""}),!e.onLoad&&(e.rowIndex>n.usedRange.rowIndex||e.colIndex>n.usedRange.colIndex)&&this.parent.setUsedRange(e.rowIndex,e.colIndex),e.formattedText=o.fResult||e.value,e.isRightAlign=o.rightAlign,e.curSymbol=a,e.formattedText}processFormats(e,t,n,i){let s,l=new SI,r=EI(this.parent.locale,"USD");if(e.format=e.format?e.format:"General",""!==t)switch(e.type){case"General":s=this.autoDetectGeneralFormat({args:e,currencySymbol:r,fResult:t,intl:l,isRightAlign:n,curCode:"USD",cell:i,rowIdx:Number(e.rowIdx),colIdx:Number(e.colIdx)}),t=s.fResult,n=s.isRightAlign;break;case"Number":nF(t)&&(t=this.applyNumberFormat(e,l),n=!0);break;case"Currency":nF(t)&&(t=this.currencyFormat(e,l),n=!0);break;case"Percentage":nF(t)&&(t=this.percentageFormat(e,l),n=!0);break;case"Accounting":nF(t)&&(t=this.accountingFormat(e,l),n=!0);break;case"ShortDate":n=!!(t=this.shortDateFormat(e,l));break;case"LongDate":n=!!(t=this.longDateFormat(e,l));break;case"Time":n=!!(t=this.timeFormat(e,l));break;case"Fraction":nF(t)&&(t=this.fractionFormat(e),n=!0);break;case"Scientific":nF(t)&&(t=this.scientificFormat(e),n=!0);break;case"Text":n=!1}return{fResult:t,rightAlign:n}}autoDetectGeneralFormat(e){if(zR(this.parent.getActiveSheet().activeCell),nF(e.fResult)&&(e.args.format&&""!==e.args.format&&(e.fResult=e.args.format.toString().indexOf("%")>-1?this.percentageFormat(e.args,e.intl):e.args.format.toString().indexOf(e.currencySymbol)>-1?this.currencyFormat(e.args,e.intl):this.applyNumberFormat(e.args,e.intl)),e.fResult&&e.fResult.toString().split(this.decimalSep)[0].length>11&&(e.fResult=this.scientificFormat(e.args)),e.isRightAlign=!0),!UO(e.fResult)){let t=e.fResult.toString();t.indexOf("%")>-1&&""!==t.split("%")[0]&&""===t.split("%")[1].trim()&&"NaN"!==Number(t.split("%")[0].split(this.groupSep).join("")).toString()?(e.args.value=Number(t.split("%")[0].split(this.groupSep).join("")),e.cell.format=e.args.format=oF("Percentage"),e.fResult=this.percentageFormat(e.args,e.intl),e.cell.value=e.args.value.toString(),hH(e.rowIdx,e.colIdx,this.parent.getActiveSheet(),e.cell,!0),e.isRightAlign=!0):t.indexOf(e.currencySymbol)>-1&&""!==t.split(e.currencySymbol)[1]&&"NaN"!==Number(t.split(e.currencySymbol)[1].split(this.groupSep).join("")).toString()&&(e.args.value=Number(t.split(e.currencySymbol)[1].split(this.groupSep).join("")),e.cell.format=e.args.format=oF("Currency"),e.fResult=this.currencyFormat(e.args,e.intl),e.cell.value=e.args.value.toString(),hH(e.rowIdx,e.colIdx,this.parent.getActiveSheet(),e.cell,!0),e.isRightAlign=!0)}return{isRightAlign:e.isRightAlign,fResult:e.fResult}}findSuffix(e,t){let n=e.length-t.length;return e.substr(0,n<0?0:n)+t}applyNumberFormat(e,t){e.format=""===e.format?oF("Number"):e.format,e.format=e.format.toString().split("_)").join(" ").split("_(").join(" ").split("[Red]").join("");let n=e.format.toString().split(";");return e.format=Number(e.value)>=0?n[0]:UO(n[1])?n[0]:n[1].split("*").join(" "),t.formatNumber(Number(e.value),{format:e.format})}currencyFormat(e,t){e.format=""===e.format?oF("Currency"):e.format,e.format=e.format.toString().split("_(").join(" ").split("_)").join(" ").split("[Red]").join("");let n=e.format.toString().split(";");return e.format=Number(e.value)>=0?n[0]:UO(n[1])?n[0]:n[1].split("*").join(" "),t.formatNumber(Number(e.value),{format:e.format,currency:"USD"})}percentageFormat(e,t){return e.format=""===e.format?oF("Percentage"):e.format,t.formatNumber(Number(e.value),{format:e.format})}accountingFormat(e,t){e.format=""===e.format?oF("Accounting"):e.format,e.format=e.format.split("_(").join(" ").split("_)").join(" ").split("[Red]").join("");let n=EI(this.parent.locale,"USD"),i=e.format.split(";");return e.format=Number(e.value)>=0?i[0]:i[1].split("*").join(" "),0===Number(e.value)?n+"- ":t.formatNumber(Number(e.value),{format:e.format,currency:"USD"}).split("-").join("")}shortDateFormat(e,t){let n,i=tF(e.value),s=""===e.format||"General"===e.format?oF("ShortDate"):e.format.toString();return s===oF("ShortDate")?(s="M/d/yy",n={type:"date",skeleton:"yMd"}):n={type:"date",format:s},t.formatDate(i,n)}longDateFormat(e,t){let n=tF(e.value),i=""===e.format||"General"===e.format?oF("LongDate"):e.format.toString();return i===oF("LongDate")&&(i="EEEE, MMMM d, y"),t.formatDate(n,{type:"date",format:i})}timeFormat(e,t){if(UO(e.value))return"";UO(e.value.toString().split(this.decimalSep)[1])||(e.value=parseFloat("1"+this.decimalSep+e.value.split(this.decimalSep)[1])||e.value);let n=tF(e.value),i=""===e.format||"General"===e.format?oF("Time"):e.format.toString();return i===oF("Time")&&(i="h:mm:ss a"),t.formatDate(n,{type:"time",skeleton:"medium",format:i})}scientificFormat(e){e.format=""===e.format?oF("Scientific"):e.format;let t=e.format.split("+")[1],n=this.findDecimalPlaces(e.format,"Scientific"),i=Number(e.value).toExponential(n);return i.indexOf("e+")>-1?i=i.split("e+")[0]+"E+"+this.findSuffix(t,i.split("e+")[1]):i.indexOf("e-")>-1&&(i=i.split("e-")[0]+"E-"+ +this.findSuffix(t,i.split("e-")[1])),i}fractionFormat(e){e.format=""===e.format?oF("Fraction"):e.format;let t,n="";return e.value.toString().indexOf(this.decimalSep)>-1&&nF(e.value)?(n=e.value.toString().split(this.decimalSep)[0],t=function(e){let t=e.toString();if(e===parseInt(t,10))return parseInt(t,10)+"  ";{let e=t.indexOf(".")>-1?t.split(".")[1]:0,n=Math.pow(10,e.toString().replace("-","").length),i=Math.abs(function e(t,n){return t=Number(t),(n=Number(n))?e(n,t%n):t}(e,n));return e/i+"/"+n/i}}(Number(e.value)),0===Number(n)?" "+t:n+" "+t):n}findDecimalPlaces(e,t){switch(t){case"Scientific":let t=e.toUpperCase().indexOf("E"),n=e.indexOf(this.decimalSep);if(t>-1)return e.substring(n+1,t).length}return 2}checkDateFormat(e){let t,n=new SI,i=UO(e.value)?"":e.value.toString(),s=oH(e.rowIndex,e.colIndex,wH(this.parent,UO(e.sheetIndex)?this.parent.activeSheetIndex:e.sheetIndex));(i&&i.indexOf("/")>-1||i.indexOf("-")>0||i.indexOf(":")>-1)&&(t=function(e,t){let n=OI(),i=n.dateTimeFormats.availableFormats,s={dateObj:null,isCustom:!1,type:""};"string"==typeof e&&(e=e.toUpperCase());for(let l of Object.keys(n.dateFormats))if(s.dateObj=t.parseDate(e,{format:n.dateFormats[l],skeleton:l}),s.dateObj){s.type="date",s.isCustom=!1;break}if(UO(s.dateObj))for(let l of Object.keys(i))if(s.dateObj=t.parseDate(e,{format:i[l],skeleton:l}),s.dateObj){if(s.type=e.toString().indexOf(":")>-1?"time":"datetime","time"===s.type){let e=s.dateObj.toLocaleTimeString();s.dateObj=new Date("01/01/1900 "+e)}s.isCustom=!0;break}if(UO(s.dateObj))for(let l of Object.keys(n.timeFormats))if(s.dateObj=t.parseDate(e,{format:n.timeFormats[l],skeleton:l}),s.dateObj){let e=s.dateObj.toLocaleTimeString();s.dateObj=new Date("01/01/1900 "+e),s.type="time",s.isCustom=!1;break}return"#DIV/0!"===e||s.dateObj||"Invalid Date"===new Date(e).toString()||(s.dateObj=new Date(e)),s}(i,n),UO(t.dateObj)||"Invalid Date"===t.dateObj.toString()||(s=s||{},i=function(e,t){let n,i=(new Date).getTimezoneOffset(),s=new Date("01/01/1900").toUTCString().replace(" GMT",""),l=new Date(s),r=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.valueOf())}(e)?e:new Date(e),a=new Date(r.toUTCString().replace(" GMT","")).getTime()-l.getTime();n=i>0?a+60*i*1e3:a-60*i*1e3;let o=n/864e5;return t?o:parseInt(o.toString(),10)+2}(t.dateObj,i.indexOf(":")>-1).toString(),s.format&&""!==s.format||(s.format=oF("time"===t.type?"Time":"ShortDate")),e.isDate="date"===t.type||"datetime"===t.type,e.isTime="time"===t.type,e.dateObj=t.dateObj)),e.updatedVal=i}formattedBarText(e){let t=hF(e.cell?e.cell.format:""),n=new SI,i=e.value,s=oF("ShortDate"),l=oF("Time");switch(t){case"ShortDate":case"LongDate":e.value=this.shortDateFormat({type:t,value:e.value,format:s},n);break;case"Time":e.value=this.shortDateFormat({type:t,value:e.value,format:s},n)+" "+this.timeFormat({type:t,value:e.value,format:l},n)}(!e.value||e.value&&e.value.toString().indexOf("null")>-1)&&(e.value=i)}addEventListener(){this.parent.on("applyNumber",this.numberFormatting,this),this.parent.on("getFormattedCell",this.getFormattedCell,this),this.parent.on("checkDateFormat",this.checkDateFormat,this),this.parent.on("getFormattedBarText",this.formattedBarText,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("applyNumber",this.numberFormatting),this.parent.off("getFormattedCell",this.getFormattedCell),this.parent.off("checkDateFormat",this.checkDateFormat),this.parent.off("getFormattedBarText",this.formattedBarText))}destroy(){this.removeEventListener(),this.parent=null}getModuleName(){return"workbookNumberFormat"}}function oF(e){let t="General";switch(e.split(" ").join("")){case"Number":t="0.00";break;case"Currency":t="$#,##0.00";break;case"Accounting":t='_($* #,##0.00_);_($* (#,##0.00);_($* "-"??_);_(@_)';break;case"ShortDate":t="mm-dd-yyyy";break;case"LongDate":t="dddd, mmmm dd, yyyy";break;case"Time":t="h:mm:ss AM/PM";break;case"Percentage":t="0.00%";break;case"Fraction":t="# ?/?";break;case"Scientific":t="0.00E+00";break;case"Text":t="@"}return t}function hF(e){let t="General";switch(e){case"0.00":t="Number";break;case"$#,##0.00":case"$#,##0_);[Red]($#,##0)":case"$#,##0.00_);[Red]($#,##0.00)":case"$#,##0.00_);($#,##0.00)":case"$#,##0_);($#,##0)":t="Currency";break;case'_($*#,##0.00_);_($*(#,##0.00);_($*"-"??_);_(@_)':case'_($*#,##0.00_);_($* (#,##0.00);_($*"-"??_);_(@_)':case'_($* #,##0.00_);_($* (#,##0.00);_($* "-"??_);_(@_)':t="Accounting";break;case"mm-dd-yyyy":case"dd-mm-yyyy":case"dd-mm-yy":case"mm-dd-yy":t="ShortDate";break;case"dddd, mmmm dd, yyyy":t="LongDate";break;case"h:mm:ss AM/PM":t="Time";break;case"0.00%":case"0%":t="Percentage";break;case"# ?/?":case"# ??/??":case"# ???/???":t="Fraction";break;case"0.00E+00":t="Scientific";break;case"@":t="Text"}return t}class cF{constructor(e){this.parent=e,this.requestedInfo=[],this.addEventListener()}addEventListener(){this.parent.on("updateSheetFromDataSource",this.updateSheetFromDataSourceHandler,this),this.parent.on("dataSourceChanged",this.dataSourceChangedHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("updateSheetFromDataSource",this.updateSheetFromDataSourceHandler),this.parent.off("dataSourceChanged",this.dataSourceChangedHandler))}updateSheetFromDataSourceHandler(e){let t,n,i,s,l,r,a,o,h,c,d=[],u=[],p=new yM;if(e.promise=p.promise,e.sheet&&e.sheet.ranges.length)for(let m=e.sheet.ranges.length-1;m>=0;m--){let f=e.indexes[0],g=e.indexes[2],b=e.sheet.ranges[m];o=zR(b.startCell)[0],r=b.dataSource instanceof vM?b.dataSource:b.dataSource?new vM(b.dataSource):new vM,l=l||r.dataSource.url,e.sheet.isLocalData=!r.dataSource.url,o<=f?f-=o:o<=g?(g-=o,f=0):f=-1,b.showFieldAsHeader&&0!==f&&(f-=1);let v=!1,y=0;this.initRangeInfo(b);let w=this.getMaxCount(b);if(c=this.getLoadedInfo(f,g,b),f=c.unloadedRange[0],g=c.unloadedRange[1],b.info.insertRowRange&&(b.info.insertRowRange.forEach(e=>{y+=e[1]-e[0]+1}),f-=y,g-=y),f>w?v=!0:g>w&&(g=w),this.requestedInfo.push({deferred:p,indexes:e.indexes,isNotLoaded:c.isNotLoaded,sheetId:e.sheet.id}),f>=0&&c.isNotLoaded&&!v){u[m]=f,d.push(!1);let l=(b.query?b.query:new hM).clone();r.executeQuery(l.range(f,g>=w?g:g+1).requiresCount()).then(l=>{if(this.parent&&!this.parent.isDestroyed&&!e.skipModelUpdate){if(s=l.result&&l.result.result?l.result.result:l.result,i=zR(b.startCell),o=i[0],h=i[1],s.length){if(b.info.count||(w=l.count,b.info.count=l.count),n=Object.keys(s[0]),b.info.fldLen||(b.info.fldLen=n.length),b.info.insertColumnRange){let e=0;b.info.insertColumnRange.forEach(t=>{for(let i=t[0];i<=t[1];i++)n.splice(i<=h?0:i-h,0,`emptyCell${e}`),e++})}0===u[m]&&b.showFieldAsHeader&&(a=o+u[m]+y,n.forEach((n,i)=>{t=oH(a,h+i,e.sheet,!0),t?t.value||n.includes("emptyCell")||(t.value=n):e.sheet.rows[o+u[m]].cells[h+i]=n.includes("emptyCell")?{}:{value:n}})),s.forEach((i,s)=>{a=o+u[m]+s+(b.showFieldAsHeader?1:0)+y;for(let l=0;l<n.length;l++)t=oH(a,h+l,e.sheet,!0),t?t.value||n[l].includes("emptyCell")||hH(a,h+l,e.sheet,this.getCellDataFromProp(i[n[l]]),!0):e.sheet.rows[a].cells[h+l]=n[l].includes("emptyCell")?{}:this.getCellDataFromProp(i[n[l]]),this.checkDataForFormat({args:e,cell:t,colIndex:h+l,rowIndex:a,i:s,j:l,k:m,range:b,sRanges:u,value:i[n[l]]})})}else n=[];if(e.sheet.usedRange.rowIndex=Math.max(o+(w||l.count)+(b.showFieldAsHeader?1:0)+y-1,e.sheet.usedRange.rowIndex),e.sheet.usedRange.colIndex=Math.max(h+n.length-1,e.sheet.usedRange.colIndex),y?(c=this.getLoadedInfo(f,g,b),f=c.unloadedRange[0],g=c.unloadedRange[1],f>w&&(c.isNotLoaded=!1),c.isNotLoaded&&(g>w&&(g=w),b.info.loadedRange.push([f,g]))):b.info.loadedRange.push([f,g]),d[m]=!0,-1===d.indexOf(!1)){if(g+o<e.sheet.usedRange.rowIndex){e.rangeSettingCount||(e.rangeSettingCount=[]),e.rangeSettingCount.push(m);let t={sheet:e.sheet,indexes:[0,0,e.sheet.usedRange.rowIndex,e.sheet.usedRange.colIndex],promise:new Promise((e,t)=>{e(void 0)}),rangeSettingCount:e.rangeSettingCount};this.updateSheetFromDataSourceHandler(t),t.promise.then(()=>{"workbook"!==this.parent.getModuleName()&&(e.rangeSettingCount.pop(),e.rangeSettingCount.length||this.parent.notify("created",null))})}this.checkResolve(e.indexes,e.sheet.id)}}})}else 0===m&&-1===d.indexOf(!1)&&this.checkResolve(e.indexes,e.sheet.id)}else p.resolve()}checkResolve(e,t){let n,i,s=0;this.requestedInfo.forEach((l,r)=>{i=JSON.stringify(l.indexes)===JSON.stringify(e)&&t===l.sheetId,(i||n)&&(0===r?(l.deferred.resolve(),s++,n=!0):!n||!l.isLoaded&&l.isNotLoaded?i&&n?(l.deferred.resolve(),s++):i?l.isLoaded=!0:n=!1:(l.deferred.resolve(),s++))}),this.requestedInfo.splice(0,s)}getCellDataFromProp(e){let t={};return"[object Object]"===Object.prototype.toString.call(e)?e.formula?t.formula=e.formula:e.value&&("string"!=typeof e.value||0!==e.value.indexOf("http://")&&0!==e.value.indexOf("https://")&&0!==e.value.indexOf("ftp://")&&0!==e.value.indexOf("www.")?t.value=e.value:t.hyperlink=e.value):QF(e)?t.formula=e:"string"!=typeof e||0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("ftp://")&&0!==e.indexOf("www.")?t.value=e:t.hyperlink=e,t}checkDataForFormat(e){if(""!==e.value){let t={value:e.value,rowIndex:e.rowIndex,colIndex:e.colIndex,isDate:!1,updatedVal:e.value,isTime:!1};this.parent.notify("checkDateFormat",t),t.isDate?e.cell?(e.cell.format=oF("ShortDate"),e.cell.value=t.updatedVal):(e.args.sheet.rows[e.rowIndex].cells[e.colIndex].format=oF("ShortDate"),e.args.sheet.rows[e.rowIndex].cells[e.colIndex].value=t.updatedVal):t.isTime&&(e.cell?(e.cell.format=oF("Time"),e.cell.value=t.updatedVal):(e.args.sheet.rows[e.rowIndex].cells[e.colIndex].format=oF("Time"),e.args.sheet.rows[e.rowIndex].cells[e.colIndex].value=t.updatedVal))}}getLoadedInfo(e,t,n){let i=!0;return n.info.loadedRange.forEach(n=>{n[0]<=e&&e<=n[1]?n[0]<=t&&t<=n[1]?i=!1:e=n[1]+1:n[0]<=t&&t<=n[1]&&(t=n[0]-1)}),{isNotLoaded:i,unloadedRange:[e,t]}}getMaxCount(e){if(e.query){let t=e.query.queries;for(let n=0;n<t.length;n++)if("onTake"===t[n].fn)return Math.min(t[n].e.nos,e.info.count||t[n].e.nos)}return e.info.count}initRangeInfo(e){e.info||(e.info={loadedRange:[]})}dataSourceChangedHandler(e){let t,n=e.oldProp.sheets[e.sheetIdx],i=this.parent.sheets[e.sheetIdx],s=n&&n.ranges&&n.ranges[e.rangeIdx];if(s){let n=zR(s.startCell);i.ranges[e.rangeIdx].info.loadedRange=[],s.info.loadedRange.forEach(e=>{for(let l=e[0];l<e[1];l++){t=i.rows[l+n[0]];for(let e=n[1];e<n[1]+s.info.fldLen;e++)t.cells[e].value=""}})}this.parent.notify("data-refresh",{sheetIdx:e.sheetIdx})}getModuleName(){return"dataBind"}destroy(){this.removeEventListener(),this.parent=null,this.requestedInfo=[]}}const dF="editOperation",uF="keyUp",pF="keyDown",mF="contextmenuBeforeOpen",fF="autoFitRowsColumns",gF="actionComplete",bF="actionBegin",vF="renderGotoDlgt",yF="renderFindDlg";class wF{constructor(e){this.parent=e,this.addEventListener()}open(e){if(!this.parent.allowOpen)return;if(e.jsonObject)return void this.fetchSuccess(e.jsonObject);let t=new FormData;if(!e.file)return void(this.parent.isOpen=!1);t.append("file",e.file);let n={file:e.file||null,cancel:!1,requestData:{method:"POST",body:t}};this.parent.trigger("beforeOpen",n),this.parent.notify(bF,{eventArgs:n,action:"beforeOpen"}),n.cancel||fetch(this.parent.openUrl,n.requestData).then(e=>e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText,url:e.url})).then(e=>this.fetchSuccess(e)).catch(e=>this.fetchFailure(e))}fetchFailure(e){WO(e.status)&&WO(e.statusText)&&(e.statusText="Improper response"),this.parent.notify("openFailure",e),this.parent.isOpen=!1}fetchSuccess(e){let t=e;t="string"==typeof e?JSON.parse(e):e;let n=t.Workbook;["UnsupportedFile","InvalidUrl"].indexOf(n)>-1?this.parent.notify("openSuccess",{context:this,data:n}):(this.updateModel(n),this.parent.notify("openSuccess",{context:this,data:n}),this.parent.isOpen=!1)}updateModel(e){this.parent.notify(sF,{action:"unRegisterSheet"}),this.parent.sheetNameCount=1,this.parent.sheets=[],this.parent.notify("sheetsDestroyed",{}),e.activeSheetIndex=e.activeSheetIndex||0,this.parent.setProperties({sheets:e.sheets,activeSheetIndex:e.activeSheetIndex,definedNames:e.definedNames||[]},!0),_H(this.parent),this.parent.notify("sheetCreated",null),this.parent.notify(sF,{action:"registerSheet",isImport:!0}),this.parent.notify(sF,{action:"initiateDefinedNames"}),this.parent.notify("protectSheet",null)}addEventListener(){this.parent.on("workbookOpen",this.open.bind(this))}removeEventListener(){this.parent.isDestroyed||this.parent.off("workbookOpen",this.open.bind(this))}destroy(){this.removeEventListener(),this.parent=null}getModuleName(){return"workbookOpen"}}class CF extends class{constructor(e){this.parent=e}processSheet(e,t){return[t,JSON.parse(e,(e,t)=>{if(!Array.isArray(t)&&"string"!=typeof t||t.length)return t})]}processSave(e,t,n){let i,s=new FormData,l=Object.keys(t);for(s.append("JSONData",JSON.stringify(e)),i=0;i<l.length;i++)s.append(l[i],t[l[i]]);for(l=Object.keys(n),i=0;i<l.length;i++)s.append(l[i],n[l[i]]);fetch(t.url,{method:"POST",body:s}).then(e=>e.ok?e.blob():Promise.reject({message:e.statusText})).then(e=>{postMessage(e)}).catch(e=>{postMessage({error:e.message})})}}{constructor(e){super(e),this.isProcessCompleted=!1,this.saveJSON={},this.isFullPost=!1,this.needBlobData=!1,this.customParams=null,this.addEventListener()}getModuleName(){return"workbookSave"}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("beginSave",this.initiateSave,this)}removeEventListener(){this.parent.isDestroyed||this.parent.off("beginSave",this.initiateSave)}initiateSave(e){let t=e.saveSettings;this.saveSettings={saveType:t.saveType,url:t.url,fileName:t.fileName||"Sample"},this.isFullPost=e.isFullPost,this.needBlobData=e.needBlobData,this.needBlobData&&(this.isFullPost=!1),this.customParams=e.customParams,this.updateBasicSettings(),this.processSheets()}updateBasicSettings(){let e=this.getStringifyObject(this.parent,["sheets","_isScalar","observers","closed","isStopped","hasError","__isAsync","beforeCellFormat","beforeCellRender","beforeDataBound","beforeOpen","beforeSave","beforeSelect","beforeSort","cellEdit","cellEditing","cellSave","beforeCellSave","contextMenuItemSelect","contextMenuBeforeClose","contextMenuBeforeOpen","created","dataBound","fileMenuItemSelect","fileMenuBeforeClose","fileMenuBeforeOpen","saveComplete","sortComplete","select","actionBegin","actionComplete","afterHyperlinkClick","afterHyperlinkCreate","beforeHyperlinkClick","beforeHyperlinkCreate","openComplete","openFailure","queryCellInfo"]),t=JSON.parse(e);this.parent.sheets.length&&(t.sheets=[]),this.saveJSON=t}processSheets(){let e=0,t=this.parent.sheets.length;for(;e<t;)QR(this,this.processSheet,this.updateSheet,[this.getStringifyObject(this.parent.sheets[e]),e]),e++}updateSheet(e){this.saveJSON.sheets[e[0]]=e[1],this.isProcessCompleted=this.getSheetLength(this.saveJSON.sheets)===this.parent.sheets.length,this.isProcessCompleted&&this.save(this.saveSettings)}getSheetLength(e){let t=0;return e.forEach(e=>{e&&t++}),t}save(e){let t={cancel:!1,jsonObject:this.saveJSON};this.parent.notify("onSave",t),t.cancel||(this.isFullPost?this.initiateFullPostSave():QR(this,{workerTask:this.processSave},this.updateSaveResult,[this.saveJSON,e,this.customParams],!0)),this.saveJSON={}}updateSaveResult(e){let t={status:"Success",message:"",url:this.saveSettings.url,fileName:this.saveSettings.fileName,saveType:this.saveSettings.saveType,blobData:null};"object"==typeof e&&e.error?(t.status="Failure",t.message=e.error.toString()):this.needBlobData?t.blobData=e:this.ClientFileDownload(e,this.saveSettings.fileName),this.parent.trigger("saveComplete",t),this.parent.notify("saveCompleted",t)}ClientFileDownload(e,t){let n=this.parent.createElement("a",{attrs:{download:this.getFileNameWithExtension()}}),i=URL.createObjectURL(e);n.href=i,document.body.appendChild(n),n.click(),URL.revokeObjectURL(i),document.body.removeChild(n)}initiateFullPostSave(){let e,t=Object.keys(this.saveSettings),n=this.parent.createElement("form",{attrs:{method:"POST",action:this.saveSettings.url}}),i=this.parent.createElement("input",{attrs:{type:"hidden",name:"JSONData"}});for(i.value=JSON.stringify(this.saveJSON),n.appendChild(i),e=0;e<t.length;e++)i=this.parent.createElement("input",{attrs:{type:"hidden",name:t[e]}}),i.value=this.saveSettings[t[e]],n.appendChild(i);for(t=Object.keys(this.customParams),e=0;e<t.length;e++)i=this.parent.createElement("input",{attrs:{type:"hidden",name:t[e]}}),i.value=this.customParams[t[e]],n.appendChild(i);document.body.appendChild(n),n.submit(),qD(n),this.parent.notify("saveCompleted",{})}getStringifyObject(e,t=[]){return JSON.stringify(e,(e,n)=>t.indexOf(e)>-1?void 0:n&&"object"==typeof n&&n.hasOwnProperty("properties")?n.properties:null!==n?n:void 0)}getFileNameWithExtension(e){e||(e=this.saveSettings.fileName);let t=this.getFileExtension(),n=e.lastIndexOf(".");return n>-1&&(e=e.substr(0,n)),e+t}getFileExtension(){return"."+this.saveSettings.saveType.toLowerCase()}}function xF(e,t){let n=t,i=e.replace(/\[/g,".").replace(/\]/g,"").split(".");for(let s=0;s<i.length&&!WO(n);s++)n=n[i[s]];return n}function _F(e,t,n){let i,s,l=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=n||{},a=r,o=l.length;for(i=0;i<o;i++)s=l[i],i+1===o?a[s]=void 0===t?{}:t:UO(a[s])&&(a[s]={}),a=a[s];return r}class SF{constructor(e){this.loadedModules=[],this.parent=e}inject(e,t){let n=e.length;if(0!==n){this.loadedModules.length&&this.clearUnusedModule(e);for(let i=0;i<n;i++){let n=e[i];for(let e of t){let t=n.member;if(e.prototype.getModuleName()===n.member&&!this.isModuleLoaded(t)){let i=this.createInstance(e,n.args),s=this.getMemberName(t);_F(s,n.isProperty?e:i,this.parent);let l=n;l.member=s,this.loadedModules.push(l)}}}}else this.clean()}createInstance(e,t){let n=t;return n.unshift(void 0),new(Function.prototype.bind.apply(e,n))}clean(){for(let e of this.loadedModules)e.isProperty||xF(e.member,this.parent).destroy();this.loadedModules=[]}clearUnusedModule(e){let t=e.map(e=>this.getMemberName(e.member)),n=this.loadedModules.filter(e=>-1===t.indexOf(e.member));for(let i of n)i.isProperty||xF(i.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(i),1),this.deleteObject(this.parent,i.member)}getMemberName(e){return e[0].toLowerCase()+e.substring(1)+"Module"}deleteObject(e,t){delete e[t]}isModuleLoaded(e){for(let t of this.loadedModules)if(t.member===this.getMemberName(e))return!0;return!1}}var kF=function(e){return e[e.na=0]="na",e[e.value=1]="value",e[e.ref=2]="ref",e[e.divzero=3]="divzero",e[e.num=4]="num",e[e.name=5]="name",e[e.null=6]="null",e}({}),EF=function(e){return e[e.operators_cannot_start_with_expression=0]="operators_cannot_start_with_expression",e[e.reservedWord_And=1]="reservedWord_And",e[e.reservedWord_Xor=2]="reservedWord_Xor",e[e.reservedWord_If=3]="reservedWord_If",e[e.number_contains_2_decimal_points=4]="number_contains_2_decimal_points",e[e.reservedWord_Else=5]="reservedWord_Else",e[e.reservedWord_Not=6]="reservedWord_Not",e[e.invalid_char_in_number=7]="invalid_char_in_number",e[e.invalid_characters_following_with_operator=6]="invalid_characters_following_with_operator",e[e.mismatched_parentheses=8]="mismatched_parentheses",e[e.unknown_formula_name=9]="unknown_formula_name",e[e.requires_a_single_argument=10]="requires_a_single_argument",e[e.requires_3_args=11]="requires_3_args",e[e.invalid_Math_argument=12]="invalid_Math_argument",e[e.requires_2_args=13]="requires_2_args",e[e.bad_index=14]="bad_index",e[e.too_complex=15]="too_complex",e[e.circular_reference=16]="circular_reference",e[e.missing_formula=17]="missing_formula",e[e.improper_formula=18]="improper_formula",e[e.invalid_expression=19]="invalid_expression",e[e.cell_empty=20]="cell_empty",e[e.bad_formula=21]="bad_formula",e[e.empty_expression=22]="empty_expression",e[e.virtual_mode_required=23]="virtual_mode_required",e[e.mismatched_tics=24]="mismatched_tics",e[e.wrong_number_arguments=25]="wrong_number_arguments",e[e.invalid_arguments=26]="invalid_arguments",e[e.iterations_do_not_converge=27]="iterations_do_not_converge",e[e.calculation_overflow=29]="calculation_overflow",e[e.already_registered=28]="already_registered",e[e.missing_sheet=30]="missing_sheet",e[e.cannot_parse=31]="cannot_parse",e[e.expression_cannot_end_with_an_operator=32]="expression_cannot_end_with_an_operator",e}({});class OF{constructor(e){this.formulas=[{formulaName:"SUM",category:"Math & Trig",description:"Sums individual values, cell references or ranges."},{formulaName:"SUMIFS",category:"Math & Trig",description:"Sums the cells specified by a given set of conditionsor criteria."},{formulaName:"ABS",category:"Math & Trig",description:"Returns the absolute value of a number."},{formulaName:"RAND",category:"Math & Trig",description:"Return a random number between 0 and 1."},{formulaName:"FLOOR",category:"Math & Trig",description:"Returns the round a number down to the nearest integer."},{formulaName:"CEILING",category:"Math & Trig",description:"Returns a number rounded up to a multiple of another number."},{formulaName:"SUMIF",category:"Math & Trig",description:"It will sum up cells that meet the given criteria."},{formulaName:"PRODUCT",category:"Math & Trig",description:"Multiplies all the numbers given as arguments and returns the product."},{formulaName:"AVERAGE",category:"Statistical",description:"The sum of the numbers divided by how many numbers are being averaged."},{formulaName:"AVERAGEIF",category:"Statistical",description:"Computes the average of the numbers in a range that meet the supplied criteria."},{formulaName:"COUNT",category:"Statistical",description:"Counts the numbers in the list of arguments, exclude text entries."},{formulaName:"COUNTA",category:"Statistical",description:"Counts the non-empty values in the list of arguments."},{formulaName:"COUNTIF",category:"Statistical",description:"Counts the number of cells in a range that meet a specified condition."},{formulaName:"COUNTIFS",category:"Statistical",description:"Counts the number of times each cells in all the ranges that meet the specific conditions."},{formulaName:"AVERAGEA",category:"Statistical",description:"Calculates the average of values in the list of arguments.Arguments can be numbers, names, arrays or references."},{formulaName:"AVERAGEIFS",category:"Statistical",description:"Conditionally returns the average of the contents of cells for the set of ranges."},{formulaName:"MIN",category:"Statistical",description:"Returns the smaller number in set of arguments."},{formulaName:"MAX",category:"Statistical",description:"Returns the largest number in set of arguments."},{formulaName:"DATE",category:"Date",description:"Returns the date, given the year, month and day of the month."},{formulaName:"DAY",category:"Date",description:"Returns the day of a given date."},{formulaName:"DAYS",category:"Date",description:"Returns the number of days between two dates."},{formulaName:"IF",category:"Logical",description:"Returns one value if a logical expression is TRUE and another if it is FALSE"},{formulaName:"AND",category:"Logical",description:"Returns TRUE if all the arguments are considered TRUE, and FALSE otherwise."},{formulaName:"IFS",category:"Logical",description:"Checks multiple conditions and returns a value corresponding to the first TRUE result."},{formulaName:"IFERROR",category:"Logical",description:"Returns a value you specify if a formula evaluates to an error; otherwise, it returns the result of the formula."},{formulaName:"CHOOSE",category:"Lookup & Reference",description:"Returns a value from a list, given an index number."},{formulaName:"INDEX",category:"Lookup & Reference",description:"Returns a value from a table, given a row and column number."},{formulaName:"FIND",category:"Text",description:"Returns the position of a string of text within another string."},{formulaName:"CONCATENATE",category:"Text",description:" Used to join two or more strings together."},{formulaName:"CONCAT",category:"Text",description:"Concatenates a list or range of text strings."},{formulaName:"SUBTOTAL",category:"Lookup & Reference",description:"Returns a subtotal in a list or database."},{formulaName:"RADIANS",category:"Math & Trig",description:"Converts degrees to radians."},{formulaName:"OR",category:"Logical",description:"Returns TRUE if any arguments considered TRUE, and all the arguments are FALSE it will return FALSE."},{formulaName:"MATCH",category:"Lookup & Reference",description:"Returns the relative position of an checked item in range that matches a specified value in a specified order"},{formulaName:"RANDBETWEEN",category:"Math & Trig",description:"Returns an integer random number in a specified range."},{formulaName:"SLOPE",category:"Statistical",description:"Returns the slope of the line from linear regression of the data points."},{formulaName:"INTERCEPT",category:"Statistical",description:"Calculates the point of the Y-intercept line via linear regression."},{formulaName:"LN",category:"Math & Trig",description:"Returns the natural logarithm of a number."},{formulaName:"ISNUMBER",category:"Information",description:"Returns TRUE, if the argument is number and FALSE otherwise."},{formulaName:"ROUND",category:"Math & Trig",description:"Rounds a number to a specified number of digits."},{formulaName:"LOG",category:"Math & Trig",description:"Returns the logarithm of a number to the base that you specify."},{formulaName:"POWER",category:"Math & Trig",description:"Returns the result of a number raised to power."},{formulaName:"TRUNC",category:"Math & Trig",description:"Returns the truncated value of a number to a specified number of decimal places."},{formulaName:"EXP",category:"Math & Trig",description:"Returns e raised to the power of the given number."},{formulaName:"GEOMEAN",category:"Statistical",description:"Returns the geometric mean of an array or range of positive data."}],this.isConcat=!1,this.parent=e,this.init()}init(){let e;for(let t=0;t<this.formulas.length;t++)e=HO("Compute"+this.formulas[t].formulaName,this).bind(this),this.addFormulaCollection(this.formulas[t].formulaName.toUpperCase(),e,this.formulas[t].category,this.formulas[t].description)}addFormulaCollection(e,t,n,i){this.parent.libraryFormulas={fName:e,handler:t,category:n,description:i}}ComputeSUM(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];let t,n,i=0;if(!UO(e)){let s=e;for(let e=0;e<s.length;e++){let l=s[e].toString();if(l.indexOf(":")>-1&&this.parent.isCellReference(l)){let e=this.parent.getCellCollection(l.split(this.parent.tic).join(""));for(let n=0;n<e.length;n++){if(t=this.parent.getValueFromArg(e[n]),this.parent.getErrorStrings().indexOf(t)>-1)return t;UO(t[0])||isNaN(this.parent.parseFloat(t))||(i+=this.parent.parseFloat(t))}}else{if(s[e].split(this.parent.tic).join("")===this.parent.trueValue&&(s[e]="1"),s[e].split(this.parent.tic).join("")===this.parent.falseValue&&(s[e]="0"),n=this.parent.getValueFromArg(s[e].split(this.parent.tic).join("")),this.parent.getErrorStrings().indexOf(n)>-1)return n;if(UO(n)||isNaN(this.parent.parseFloat(n)))continue;n.length>0&&(i+=this.parent.parseFloat(n+""))}}}return i}ComputeCOUNT(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let t,n,i,s=e,l=0;for(let r=0;r<s.length;r++)if(t=s[r],t.indexOf(":")>-1&&this.parent.isCellReference(t)){n=this.parent.getCellCollection(t.split(this.parent.tic).join(""));for(let e=0;e<n.length;e++)i=this.parent.getValueFromArg(n[e]),isNaN(this.parent.parseFloat(i))||t.length>0&&""!==t&&" "!==t&&l++}else t=t.split(this.parent.tic).join(""),isNaN(this.parent.parseFloat(this.parent.getValueFromArg(t)))||t.length>0&&""!==t&&" "!==t&&l++;return l}ComputeDATE(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let t=e;if(3!==t.length)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];for(let a=0;a<t.length;++a)t[a]=this.parent.getValueFromArg(t[a]);t[0]="TRUE"===t[0].split(this.parent.tic).join("")?"1":"FALSE"===t[0].split(this.parent.tic).join("")?"0":t[0],t[1]="TRUE"===t[1].split(this.parent.tic).join("")?"1":"FALSE"===t[1].split(this.parent.tic).join("")?"0":t[1],t[2]="TRUE"===t[2].split(this.parent.tic).join("")?"1":"FALSE"===t[2].split(this.parent.tic).join("")?"0":t[2];let n=this.parent.parseFloat(t[0].split(this.parent.tic).join("")),i=this.parent.parseFloat(t[1].split(this.parent.tic).join("")),s=this.parent.parseFloat(t[2].split(this.parent.tic).join("")),l=0;if(isNaN(n)||isNaN(i)||isNaN(s))return this.parent.getErrorStrings()[kF.value].toString();if(n<0)return this.parent.getErrorStrings()[kF.num].toString();for(;i>12;)i-=12,n++;if(l=this.parent.getSerialDateFromDate(n,i,s),0===l)return this.parent.getErrorStrings()[kF.num].toString();let r=this.parent.fromOADate(l);return"Invalid Date"!==r.toString()?r.getFullYear()+"/"+this.parent.calculateDate((r.getMonth()+1).toString())+"/"+this.parent.calculateDate(r.getDate().toString()):l.toString()}ComputeFLOOR(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];let t,n,i=e,s=i.length,l=i[1].split(this.parent.tic).join(""),r=[];if(2!==s)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];if(r.push(t=this.parent.parseFloat(this.parent.getValueFromArg(i[0].split(this.parent.tic).join("")))),i[1]=l===this.parent.trueValue?"1":l===this.parent.falseValue?"0":i[1],r.push(n=this.parent.parseFloat(this.parent.getValueFromArg(i[1].split(this.parent.tic).join("")))),t>0&&n<0)return this.parent.getErrorStrings()[kF.num];if(t>0&&0===n)return this.parent.getErrorStrings()[kF.divzero];for(let a=0;a<i.length;a++)if(i[a].indexOf(this.parent.tic)>-1)return this.parent.getErrorStrings()[kF.value];return isNaN(t)?this.parent.getErrorStrings()[kF.name]:Math.floor(t/n)*n}ComputeCEILING(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];let t,n,i=e,s=[],l=i.length,r=i[1].split(this.parent.tic).join("");if(2!==l)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];if(s.push(t=this.parent.parseFloat(this.parent.getValueFromArg(i[0].split(this.parent.tic).join("")))),i[1]=r===this.parent.trueValue?"1":r===this.parent.falseValue?"0":i[1],s.push(n=this.parent.parseFloat(this.parent.getValueFromArg(i[1].split(this.parent.tic).join("")))),t>0&&n<0)return this.parent.getErrorStrings()[kF.num];for(let a=0;a<i.length;a++)if(i[a].indexOf(this.parent.tic)>-1)return this.parent.getErrorStrings()[kF.value];return isNaN(t)?this.parent.getErrorStrings()[kF.name]:0===n?0:Math.ceil(t/n)*n}ComputeDAY(...e){let t,n=e;if(UO(n)||1===n.length&&""===n[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];if(n.length>1)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let i=this.parent.getValueFromArg(n[0].split(this.parent.tic).join(""));return isNaN(this.parent.parseFloat(i))?(i=i,t=this.parent.parseDate(i),"[object Date]"===Object.prototype.toString.call(t)&&(t=t.getDate()),t):this.parent.getErrorStrings()[kF.name]}ComputeIF(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];if(this.parent.getErrorStrings().indexOf(e[0])>0)return e[0];let t,n,i=e;if(i.length>3||1===i.length)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];if(i.length<=3){if(t=this.parent.getValueFromArg(i[0]),this.parent.getErrorStrings().indexOf(t)>-1)return t;if(t===this.parent.trueValue||this.parent.parseFloat(t)>0||this.parent.parseFloat(t)<0)n=this.parent.getValueFromArg(i[1]);else{if(t!==this.parent.falseValue&&0!==this.parent.parseFloat(t))return this.parent.formulaErrorStrings[EF.requires_3_args];if(UO(i[2]))return this.parent.falseValue;n=this.parent.getValueFromArg(i[2])}}return n.indexOf(this.parent.tic)>-1?n.split(this.parent.tic).join(""):n}ComputeIFERROR(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];let t,n=e;return 2!==n.length?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:(t=this.parent.getValueFromArg(n[0]),t===this.parent.trueValue||t===this.parent.falseValue?t:(t[0]===this.parent.arithMarker&&(t=t.replace(this.parent.arithMarker," ")),t=this.parent.getValueFromArg(t).toUpperCase().split(this.parent.tic).join(""),"#"===t[0]||t.indexOf("Infinity")>-1||this.parent.getErrorStrings().indexOf(t)>-1?this.parent.getValueFromArg(n[1]).split(this.parent.tic).join(""):t))}ComputePRODUCT(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];let t,n,i,s=1,l=!0;if(!UO(e)){let r=e;for(let e=0;e<r.length;e++){let a=r[e];if(a.indexOf(":")>-1&&this.parent.isCellReference(a)){let e=this.parent.getCellCollection(a);for(let n=0;n<e.length;n++){if(t=this.parent.getValueFromArg(e[n].split(this.parent.tic).join("")),this.parent.getErrorStrings().indexOf(t)>-1)return t;t="TRUE"===t.split(this.parent.tic).join("")?"1":"FALSE"===t.split(this.parent.tic).join("")?"0":t,i=this.parent.parseFloat(t),isNaN(i)||t.length>0&&(s*=i,l=!1)}}else{if(n=this.parent.getValueFromArg(r[e].split(this.parent.tic).join("")),this.parent.getErrorStrings().indexOf(n)>-1)return n;if(n="TRUE"===n.split(this.parent.tic).join("")?"1":"FALSE"===n.split(this.parent.tic).join("")?"0":n,i=this.parent.parseFloat(n),isNaN(i)||n.length>0&&(s*=i,l=!1),this.parent.getErrorStrings().indexOf(n)>-1)return n}}}return l?"0":s.toString()}ComputeDAYS(...e){let t;if(UO(e)&&1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];if(2!==e.length)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let n=e;n[0].split(this.parent.tic).join("")===this.parent.trueValue&&(n[0]="1"),n[0].split(this.parent.tic).join("")===this.parent.falseValue&&(n[0]="0");let i=this.parent.getValueFromArg(n[0].split(this.parent.tic).join("")),s=this.parent.getValueFromArg(n[1].split(this.parent.tic).join(""));if(s=""===s||null==s?new Date(Date.parse("1899-12-31")).toDateString():s,i=""===i||null==i?new Date(Date.parse("1899-12-31")).toDateString():i,"#"===i[0])return i;if("#"===s[0])return s;let l=this.parent.intToDate(i),r=this.parent.intToDate(s);return"#"===l.toString()[0]?l.toString():"#"===r.toString()[0]?r.toString():"[object Date]"!==Object.prototype.toString.call(l)||"[object Date]"!==Object.prototype.toString.call(r)?this.parent.getErrorStrings()[kF.value]:(t=Math.ceil(l.getTime()-r.getTime())/864e5,Math.round(t))}ComputeCHOOSE(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];if(e.length<2)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let t=e;if(t[0].indexOf(":")>-1&&this.parent.isCellReference(t[0])){let e=this.parent.getCellCollection(t[0]);if(1!==e.length)return this.parent.getErrorStrings()[kF.value];t[0]=e[0]}let n=this.parent.getValueFromArg(t[0]);if(this.parent.getErrorStrings().indexOf(n)>-1)return n;let i,s=this.parent.parseFloat(this.parent.getValueFromArg(t[0].split(this.parent.tic).join("")));if(s<1)return this.parent.getErrorStrings()[kF.value];if(s=Math.floor(s),UO(t[s]))return this.parent.getErrorStrings()[kF.value];if(i=t[s],""===i&&(i="0"),i.indexOf(":")>-1&&this.parent.isCellReference(i)){let e=this.parent.getCellCollection(t[0].split(this.parent.tic).join(""));if(1!==e.length)return this.parent.getErrorStrings()[kF.value];t[0]=e[0]}return this.parent.getValueFromArg(i).split(this.parent.tic).join("")}ComputeSUMIF(...e){let t=e;if(t[0].indexOf(":")<0&&!this.parent.isCellReference(t[0]))return this.parent.formulaErrorStrings[EF.improper_formula];let n=this.parent.computeSumIfAndAvgIf(e);return"string"==typeof n&&(this.parent.formulaErrorStrings.indexOf(n)||this.parent.getErrorStrings().indexOf(n))?n:n[0]}ComputeABS(...e){let t,n=e,i="";if(0===e.length||e.length>1)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];if(""===n[0].toString().split(this.parent.tic).join("").trim()||n[0].indexOf(this.parent.tic)>-1)return this.parent.getErrorStrings()[kF.value];if(this.parent.isCellReference(n[0])){if(i=this.parent.getValueFromArg(n[0]),""===i)return this.parent.getErrorStrings()[kF.name];if(t=this.parent.parseFloat(i),isNaN(t))return this.parent.getErrorStrings()[kF.value]}else if(t=this.parent.parseFloat(n[0]),isNaN(t))return this.parent.getErrorStrings()[kF.name];return Math.abs(t)}ComputeAVERAGE(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];let t=e;for(let n=0;n<t.length;n++)if(t[n].indexOf(":")>-1&&t[n].indexOf(this.parent.tic)>-1)return this.parent.getErrorStrings()[kF.value];return this.parent.calculateAvg(t)}ComputeAVERAGEIF(...e){let t=e;if(t[0].indexOf(":")<0&&!this.parent.isCellReference(t[0]))return this.parent.formulaErrorStrings[EF.improper_formula];let n=this.parent.computeSumIfAndAvgIf(e);return"string"==typeof n&&(this.parent.formulaErrorStrings.indexOf(n)||this.parent.getErrorStrings().indexOf(n))?n:this.parent.parseFloat(n[0])/this.parent.parseFloat(n[1])}ComputeCONCATENATE(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.invalid_arguments];let t=e,n="",i="";for(let s=0;s<t.length;s++){if(t[s].indexOf(":")>-1&&this.parent.isCellReference(t[s])){if(!this.isConcat)return this.parent.getErrorStrings()[kF.value];{let e=this.parent.getCellCollection(t[s]);for(let t=0;t<e.length;t++)i=this.parent.getValueFromArg(e[t]),n+=i}}else{if(1===t.length&&t[0].indexOf(this.parent.tic)<0)return this.parent.getErrorStrings()[kF.name];i=this.parent.getValueFromArg(t[s]),n+=i}if(this.parent.getErrorStrings().indexOf(i)>-1)return i}return n.split(this.parent.tic).join("")}ComputeCONCAT(...e){return this.isConcat=!0,this.ComputeCONCATENATE(...e)}ComputeMAX(...e){return this.parent.computeMinMax(e,"max")}ComputeMIN(...e){return this.parent.computeMinMax(e,"min")}ComputeRAND(...e){return 1===e.length&&""===e[0]&&(e.length=0),e.length>0?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:Math.random().toString()}ComputeAND(...e){return this.parent.computeAndOr(e,"and")}ComputeOR(...e){return this.parent.computeAndOr(e,"or")}ComputeFIND(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let t=e;if(t.length>3)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let n=this.parent.removeTics(this.parent.getValueFromArg(t[0])),i=this.parent.removeTics(this.parent.getValueFromArg(t[1]));if(this.parent.getErrorStrings().indexOf(n)>-1||this.parent.getErrorStrings().indexOf(i)>-1)return this.parent.getErrorStrings()[kF.name];let s,l=1;if(3===t.length){if(l=this.parent.removeTics(this.parent.getValueFromArg(t[2])),this.parent.getErrorStrings().indexOf(l)>-1)return l;l=this.parent.parseFloat(l),isNaN(l)&&(l=1)}return l<=0||l>i.length?this.parent.getErrorStrings()[kF.value]:(s=i.indexOf(n,l-1),s<0?this.parent.getErrorStrings()[kF.value]:(Number(s)+Number(1)).toString())}ComputeINDEX(...e){let t=e,n=t.length;if(UO(e)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[EF.wrong_number_arguments];if(n>3)return this.parent.getErrorStrings()[kF.ref];let i="",s=[];if(n>2)for(let m=0;m<n;m++){if(this.parent.isCellReference(t[m])&&t[m].indexOf(":")<0)return this.parent.getErrorStrings()[kF.ref];this.parent.isCellReference(t[m])&&(s[m]=t[m])}if(i=t[0],t[1]=""===t[1]?"1":t[1],t[1]=this.parent.getValueFromArg(t[1]),this.parent.getErrorStrings().indexOf(t[1])>-1)return t[1];if(!UO(t[2])){if(t[2]=""===t[2]?"1":t[2],t[2]=this.parent.getValueFromArg(t[2]),this.parent.getErrorStrings().indexOf(t[2])>-1)return t[2];if("0"===t[2])return this.parent.getErrorStrings()[kF.value]}let l=parseFloat(t[1]);l=isNaN(l)?-1:l;let r=parseFloat(t[2]?t[2]:"1");if(r=isNaN(r)?-1:r,-1===l||-1===r)return this.parent.getErrorStrings()[kF.value];let a=t[0].indexOf(":"),o=this.parent.rowIndex(i.substring(0,a)),h=this.parent.rowIndex(i.substring(a+1)),c=this.parent.colIndex(i.substring(0,a)),d=this.parent.colIndex(i.substring(a+1));if(l>h-o+1||r>d-c+1)return this.parent.getErrorStrings()[kF.ref];l=o+l-1,r=c+r-1;let u=""+this.parent.convertAlpha(r)+l,p=this.parent.getValueFromArg(u);return""===p?0:p}ComputeIFS(...e){let t=e;if(UO(e)||1===t.length&&""===t[0])return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let n="",i="";for(let s=0;s<t.length;s++){if(n=this.parent.getValueFromArg(t[s]),n!==this.parent.trueValue&&n!==this.parent.falseValue)return this.parent.getErrorStrings()[kF.value];if(n===this.parent.trueValue)return t[s+1].indexOf(this.parent.arithMarker)>-1?this.parent.trueValue:(i=this.parent.isCellReference(t[s+1].split(this.parent.tic).join(""))?this.parent.getValueFromArg(t[s+1]):t[s+1].indexOf(this.parent.tic)>-1?t[s+1].split(this.parent.tic).join(""):this.parent.getErrorStrings()[kF.name],s+=1,i);n===this.parent.falseValue&&(s+=1)}return this.parent.getErrorStrings()[kF.na]}ComputeCOUNTA(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let t,n,i=e,s=0;for(let l=0;l<i.length;l++)if(i[l].indexOf(":")>-1&&this.parent.isCellReference(i[l])){t=this.parent.getCellCollection(i[l].split(this.parent.tic).join(""));for(let e=0;e<t.length;e++)n=this.parent.getValueFromArg(t[e]),n.length>0&&s++}else this.parent.getValueFromArg(i[l].split(this.parent.tic).join("")).length>0&&s++;return s}ComputeAVERAGEA(...e){if(UO(e)||1===e.length&&""===e[0])return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let t,n,i,s=e,l=0,r=0;for(let a=0;a<s.length;a++){if(s[a].indexOf(":")>-1&&this.parent.isCellReference(s[a])){t=this.parent.getCellCollection(s[a].split(this.parent.tic).join(""));for(let e=0;e<t.length;e++)if(n=this.parent.getValueFromArg(t[e]),n.toUpperCase()===this.parent.trueValue)n="1";else if(n.toUpperCase()===this.parent.falseValue||""===n)n="0";else{if(this.parent.getErrorStrings().indexOf(n)>-1)return n;n.length>0&&(i=parseFloat(n),n=isNaN(i)?0:i,l+=n,r+=1)}r=t.length}else{if(s[a]===this.parent.trueValue&&(s[a]="1"),s[a]!==this.parent.falseValue&&""!==s[a]||(s[a]="0"),n=this.parent.getValueFromArg(s[a].split(this.parent.tic).join("")),this.parent.getErrorStrings().indexOf(n)>-1)return n;n.length>0&&(i=parseFloat(n),n=isNaN(i)?0:i,l+=n,r+=1)}if(0===r)return this.parent.getErrorStrings()[kF.divzero]}return l/r}ComputeCOUNTIF(...e){let t,n=e;if(UO(e)||""===e[0]||n.length<2)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let i,s=0,l=[],r="equal",a=n[1].split(this.parent.tic).join("");if(a.startsWith("<=")?(r="lessEq",a=a.substring(2)):a.startsWith(">=")?(r="greaterEq",a=a.substring(2)):a.startsWith("<>")?(r="notEq",a=a.substring(2)):a.startsWith("<")?(r="less",a=a.substring(1)):a.startsWith(">")?(r="greater",a=a.substring(1)):a.startsWith("=")&&(r="equal",a=a.substring(1)),n[0].indexOf(":")>-1&&this.parent.isCellReference(n[0])){t=this.parent.getCellCollection(n[0].split(this.parent.tic).join(""));for(let e=0;e<t.length;e++)i=this.parent.getValueFromArg(t[e]),(a.indexOf("*")>-1||a.indexOf("?")>-1)&&(i=this.parent.findWildCardValue(a,i)),l.push(i),l.push(a),this.parent.processLogical(l,r)===this.parent.trueValue&&s++}return s}ComputeSUMIFS(...e){let t;return t=this.parent.computeIfsFormulas(e,this.parent.falseValue),t}ComputeCOUNTIFS(...e){let t;return t=this.parent.computeIfsFormulas(e,this.parent.trueValue),t}ComputeAVERAGEIFS(...e){let t;return t=this.parent.computeIfsFormulas(e,this.parent.falseValue,this.parent.trueValue),t}ComputeMATCH(...e){let t,n=e;if(UO(n)||1===n.length&&""===n[0]||n.length<2||n.length>3)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let i=[],s=n[0].split(this.parent.tic).join("");n[2]=UO(n[2])?"1":n[2].split(this.parent.tic).join(""),n[2].split(this.parent.tic).join("")===this.parent.trueValue&&(n[2]="1"),n[2].split(this.parent.tic).join("")===this.parent.falseValue&&(n[2]="0");let l=parseFloat(n[2]);if(-1!==l&&0!==l&&1!==l)return this.parent.getErrorStrings()[kF.na];let r=0,a="";if(n[1].indexOf(":")>-1||this.parent.isCellReference(n[1])){t=this.parent.getCellCollection(n[1].split(this.parent.tic).join(""));for(let e=0;e<t.length;e++)i[e]=this.parent.getValueFromArg(t[e]).split(this.parent.tic).join("");for(let e=0;e<i.length;e++)if(1===l){if(s===i[e])return e+1;s>i[e]&&(a?i[e]>a&&(r=e+1,a=i[e]):(r=e+1,a=i[e]))}else if(0===l){if((s.indexOf("*")>-1||s.indexOf("?")>-1)&&(i[e]=this.parent.findWildCardValue(s,i[e])),s===i[e])return e+1;if(this.parent.parseFloat(s)===this.parent.parseFloat(i[e]))return e+1}else if(-1===l){if(s===i[e])return e+1;s<i[e]&&(a?i[e]<a&&(r=e+1,a=i[e]):(r=e+1,a=i[e]))}}return r||this.parent.getErrorStrings()[kF.na]}ComputeLOOKUP(...e){let t=e,n="";return UO(t)||1===t.length&&""===t[0]||t.length<2||t.length>3?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:(n=this.parent.computeLookup(t),n)}ComputeVLOOKUP(...e){let t=e,n="";return UO(t)||1===t.length&&""===t[0]||t.length<3||t.length>4?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:(n=this.parent.computeVLookup(t),n)}ComputeSUBTOTAL(...e){let t=e,n="";if(t.length<2)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let i=this.parent.parseFloat(this.parent.getValueFromArg(t[0].split(this.parent.tic).join("")));isNaN(i)&&this.parent.getErrorStrings(),(i<1||i>11)&&(i<101||i>111)&&this.parent.getErrorStrings();let s=t.slice(1,t.length);switch(i){case 1:case 101:n=this.ComputeAVERAGE(...s);break;case 2:case 102:n=this.ComputeCOUNT(...s);break;case 3:case 103:n=this.ComputeCOUNTA(...s);break;case 4:case 104:n=this.ComputeMAX(...s);break;case 5:case 105:n=this.ComputeMIN(...s);break;case 6:case 106:n=this.ComputePRODUCT(...s);break;case 7:case 107:n=this.ComputeDAY(...s);break;case 8:case 108:n=this.ComputeCONCAT(...s);break;case 9:case 109:n=this.ComputeSUM(...s);break;case 10:case 110:n=this.ComputeAVERAGEA(...s);break;case 11:case 111:n=this.ComputeABS(...s);break;default:n=this.parent.getErrorStrings()[kF.value]}return n}ComputeRADIANS(...e){let t,n=e;if(""===n[0]||n.length>1)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];if(n[0].indexOf(":")>-1||""===n[0].split(this.parent.tic).join(""))return this.parent.getErrorStrings()[kF.value];let i=n[0].split(this.parent.tic).join("");n[0]=isNaN(this.parent.parseFloat(i))?n[0]:i;let s=this.parent.getValueFromArg(n[0]),l=this.parent.parseFloat(s);return isNaN(l)?s.indexOf(this.parent.tic)>-1?this.parent.getErrorStrings()[kF.value]:this.parent.getErrorStrings()[kF.name]:(t=Math.PI*l/180,t)}ComputeRANDBETWEEN(...e){let t,n,i,s=e.length;if(2!==s)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];for(let l=0;l<s;l++){if(""===e[l])return this.parent.getErrorStrings()[kF.na];if(e[l].indexOf(this.parent.tic)>-1){if(isNaN(parseFloat(e[l].split(this.parent.tic).join(""))))return this.parent.getErrorStrings()[kF.value];e[l]=e[l].split(this.parent.tic).join("")}if(i=parseFloat(this.parent.getValueFromArg(e[l])),this.parent.isCellReference(e[l])){if(i=""===this.parent.getValueFromArg(e[l])?0:i,0===l?t=i:n=i,0===t&&0===n)return"0";if(isNaN(i))return this.parent.getErrorStrings()[kF.value]}else{if(isNaN(i))return this.parent.getErrorStrings()[kF.name];0===l?t=i:n=i}}return n<t?this.parent.getErrorStrings()[kF.num]:0===t?Math.floor(Math.random()*(n-(t-1)))+t:n-t==1?Math.round(Math.random()*(n-t)+t):Math.floor(Math.random()*(n-(t-1)))+t}ComputeSLOPE(...e){let t,n,i=e;if(2!==i.length||""===i[0])return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let s=this.parent.getCellCollection(i[1].split(this.parent.tic).join("")),l=this.parent.getCellCollection(i[0].split(this.parent.tic).join(""));if(l.length!==s.length)return this.parent.getErrorStrings()[kF.na];if(t=this.getDataCollection(l),n=this.getDataCollection(s),n.indexOf("#NAME?")>-1||t.indexOf("#NAME?")>-1)return this.parent.getErrorStrings()[kF.name];let r=0,a=0,o=0,h=0;for(let d=0,u=n.length;d<u;++d)"NaN"!==Number(n[d]).toString()&&"NaN"!==Number(t[d]).toString()&&(r+=Number(n[d])*Number(t[d]),o+=Number(n[d]),h+=Number(t[d]),a+=Number(n[d])*Number(n[d]));r-o*h!=0&&a-o*o!=0||this.parent.getErrorStrings();let c=((r-o*h/n.length)/(a-o*o/n.length)).toString();return"NaN"===c?this.parent.getErrorStrings()[kF.divzero]:c}ComputeINTERCEPT(...e){let t,n,i=e;if(""===i[0]||2!==i.length)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];let s=this.parent.getCellCollection(i[0].split(this.parent.tic).join("")),l=this.parent.getCellCollection(i[1].split(this.parent.tic).join(""));if(s.length!==l.length)return this.parent.getErrorStrings()[kF.na];if(t=this.getDataCollection(l),n=this.getDataCollection(s),t.indexOf("#NAME?")>-1||n.indexOf("#NAME?")>-1)return this.parent.getErrorStrings()[kF.name];let r=0,a=0;for(let u=0,p=t.length;u<p;++u)r+=Number(t[u]),a+=Number(n[u]);r/=t.length,a/=t.length;let o,h=0,c=0;for(let u=0,p=t.length;u<p;++u)o=Number(t[u])-r,h+=o*(Number(n[u])-a),c+=o*o;let d=(a-h/c*r).toString();return a-h!=0&&c*r!=0||this.parent.getErrorStrings(),"NaN"===d?this.parent.getErrorStrings()[kF.divzero]:d}ComputeLN(...e){let t,n,i=e,s="";if(0===e.length||e.length>1)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];if(this.parent.isCellReference(i[0])){if(s=this.parent.getValueFromArg(i[0]),t=this.parent.parseFloat(s),t<=0||""===s)return this.parent.getErrorStrings()[kF.num];if(isNaN(t))return this.parent.getErrorStrings()[kF.value]}else{if(n=this.parent.getValueFromArg(i[0].split(this.parent.tic).join("")),t=this.parent.parseFloat(n),t<=0||""===t.toString())return this.parent.getErrorStrings()[kF.num];if(isNaN(t))return this.parent.getErrorStrings()[kF.value]}return Math.log(t)}ComputeISNUMBER(...e){let t,n,i=e;return 0===e.length||e.length>1?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:(n=this.parent.isCellReference(i[0])?this.parent.getValueFromArg(i[0]):this.parent.getValueFromArg(i[0].split(this.parent.tic).join("")),""!==n.toString()&&(t=this.parent.parseFloat(n),!isNaN(t)))}ComputeROUND(...e){let t,n,i,s,l,r=e,a=0,o=0;return 0===e.length||e.length>2?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:1===e.length?(t="TRUE"===r[0].split(this.parent.tic).join("")?"1":"FALSE"===r[0].split(this.parent.tic).join("")?"0":r[0],Math.round(this.parent.parseFloat(t)).toString()):(i=this.parent.getValueFromArg(r[0]),s=""===r[1].split(this.parent.tic).join("")?"0":this.parent.getValueFromArg(r[1].split(this.parent.tic).join("")),i="TRUE"===i.split(this.parent.tic).join("")?"1":"FALSE"===i.split(this.parent.tic).join("")?"0":i,s="TRUE"===s.split(this.parent.tic).join("")?"1":"FALSE"===s.split(this.parent.tic).join("")?"0":s,""!==i&&""!==s&&(a=this.parent.parseFloat(i),o=this.parent.parseFloat(s),!isNaN(o)&&!isNaN(a)&&o>0?n=a.toFixed(o):(l=Math.pow(10,-o),n=Math.round(a/l)*l)),n.toString())}ComputePOWER(...e){let t,n,i,s,l,r=e;return 0===e.length||e.length>2?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:(n=this.parent.getValueFromArg(r[0]),i=this.parent.getValueFromArg(r[1]),n="TRUE"===n.split(this.parent.tic).join("")?"1":"FALSE"===n.split(this.parent.tic).join("")?"0":n,i="TRUE"===i.split(this.parent.tic).join("")?"1":"FALSE"===i.split(this.parent.tic).join("")?"0":i,s=this.parent.parseFloat(n),l=this.parent.parseFloat(i),isNaN(s)||isNaN(l)?this.parent.getErrorStrings()[kF.value]:0===s&&l<0?this.parent.getErrorStrings()[kF.divzero]:0===s&&0===l?this.parent.getErrorStrings()[kF.num]:(t=Math.pow(s,l),t.toString()))}ComputeLOG(...e){let t,n,i,s,l=e;return 0===e.length||e.length>2?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:(t=this.parent.getValueFromArg(l[0]),n=2===e.length?this.parent.getValueFromArg(l[1]):"10",""===t||null===t||""===n||null===n?this.parent.getErrorStrings()[kF.num]:(t="TRUE"===t.split(this.parent.tic).join("")?"1":"FALSE"===t.split(this.parent.tic).join("")?"0":t,n="TRUE"===n.split(this.parent.tic).join("")?"1":"FALSE"===n.split(this.parent.tic).join("")?"0":n,i=this.parent.parseFloat(t),s=this.parent.parseFloat(n),i<=0||s<=0?this.parent.getErrorStrings()[kF.num]:1===s?this.parent.getErrorStrings()[kF.divzero]:isNaN(i)||isNaN(s)?this.parent.getErrorStrings()[kF.value]:(Math.log(i)/Math.LN10/(Math.log(s)/Math.LN10)).toString()))}ComputeTRUNC(...e){let t,n,i,s,l=e,r=0;return 0===e.length||e.length>2?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:(2===e.length&&(r=this.parent.getValueFromArg(l[1]),r="TRUE"===r.split(this.parent.tic).join("")?"1":"FALSE"===r.split(this.parent.tic).join("")?"0":r,r=this.parent.parseFloat(r)),t=this.parent.getValueFromArg(l[0]),t="TRUE"===t.split(this.parent.tic).join("")?"1":"FALSE"===t.split(this.parent.tic).join("")?"0":t,n=this.parent.parseFloat(t.split(this.parent.tic).join("")),isNaN(n)||isNaN(r)?l[0]===this.parent.tic||this.parent.isCellReference(l[0])||l[1]===this.parent.tic||this.parent.isCellReference(l[1])?this.parent.getErrorStrings()[kF.value]:this.parent.getErrorStrings()[kF.name]:(s=Math.pow(10,r),i=n<0?-1:1,(i*Math.floor(s*Math.abs(n))/s).toString()))}ComputeEXP(...e){let t,n,i=e;return 0===e.length||e.length>1?this.parent.formulaErrorStrings[EF.wrong_number_arguments]:(t=this.parent.getValueFromArg(i[0]),t="TRUE"===t.split(this.parent.tic).join("")?"1":"FALSE"===t.split(this.parent.tic).join("")?"0":t,""===t&&(t="0"),n=this.parent.parseFloat(t),n>709?this.parent.getErrorStrings()[kF.num]:isNaN(n)?i[0]===this.parent.tic||this.parent.isCellReference(i[0])?this.parent.getErrorStrings()[kF.value]:this.parent.getErrorStrings()[kF.name]:Math.exp(n).toString())}ComputeGEOMEAN(...e){let t,n,i,s,l=e,r=1,a=0,o=0;if(0===e.length)return this.parent.formulaErrorStrings[EF.wrong_number_arguments];for(n=0;n<l.length;n++)if(l[n].indexOf(":")>-1){if(l[0]===this.parent.tic)return this.parent.getErrorStrings()[kF.value];for(s=this.parent.getCellCollection(l[n].split(this.parent.tic).join("")),i=0;i<s.length;i++){if(o=this.parent.getValueFromArg(s[i]),o="TRUE"===o.split(this.parent.tic).join("")?"1":"FALSE"===o.split(this.parent.tic).join("")?"0":o,t=this.parent.parseFloat(o),t<=0)return this.parent.getErrorStrings()[kF.num];isNaN(t)||(a++,r*=t)}}else if(o=this.parent.getValueFromArg(l[n]),o.length>0){if(o="TRUE"===o.split(this.parent.tic).join("")?"1":"FALSE"===o.split(this.parent.tic).join("")?"0":o,!this.parent.isCellReference(l[n])&&isNaN(this.parent.parseFloat(o)))return this.parent.getErrorStrings()[kF.name];if(t=this.parent.parseFloat(o),t<=0)return this.parent.getErrorStrings()[kF.num];isNaN(t)||(a++,r*=t)}return a>0&&(r=Math.pow(r,1/a)),r.toString()}getDataCollection(e){let t=[];for(let n=0,i=e.length;n<i;n++)t.push(this.parent.getValueFromArg(e[n]));return t}getModuleName(){return"basic-formulas"}}class IF{constructor(e){this.emptyStr="",this.storedStringText=this.emptyStr,this.sheetToken="!",this.tokenAdd="a",this.tokenSubtract="s",this.tokenMultiply="m",this.tokenDivide="d",this.tokenLess="l",this.charEm="r",this.charEp="x",this.tokenGreater="g",this.tokenEqual="e",this.tokenLessEq="k",this.tokenGreaterEq="j",this.tokenNotEqual="o",this.tokenAnd="c",this.tokenEm="v",this.tokenEp="t",this.tokenOr=String.fromCharCode(126),this.charAnd="i",this.charLess="<",this.charGreater=">",this.charEqual="=",this.charLessEq="f",this.charGreaterEq="h",this.charNoEqual="z",this.stringGreaterEq=">=",this.stringLessEq="<=",this.stringNoEqual="<>",this.stringAnd="&",this.stringOr="^",this.charOr="w",this.charAdd="+",this.charSubtract="-",this.charMultiply="*",this.charDivide="/",this.fixedReference="$",this.spaceString=" ",this.ignoreBracet=!1,this.isError=!1,this.isFormulaParsed=!1,this.findNamedRange=!1,this.stringsColl=new Map,this.tokens=[this.tokenAdd,this.tokenSubtract,this.tokenMultiply,this.tokenDivide,this.tokenLess,this.tokenGreater,this.tokenEqual,this.tokenLessEq,this.tokenGreaterEq,this.tokenNotEqual,this.tokenAnd,this.tokenOr],this.charNOTop=String.fromCharCode(167),this.specialSym=["~","@","#","?","%"],this.isFailureTriggered=!1,this.parent=e}parse(e,t){if(this.parent.isTextEmpty(e))return e;this.parent.getFormulaCharacter()!==String.fromCharCode(0)&&this.parent.getFormulaCharacter()===e[0]&&(e=e.substring(1)),(this.parent.namedRanges.size>0||this.parent.storedData.size>0)&&(e=this.checkForNamedRangeAndKeyValue(e),this.findNamedRange=!1),e=(e=(e=(e=e.split("-+").join("-")).split("--").join("+")).split("+-").join("-")).split("-(-").join("(");let n=this.storeStrings(e);e=this.storedStringText;let i=0;if(UO(n)&&(e=e.split(" ").join("")),(e=(e=e.split("=>").join(">=")).split("=<").join("<="))[e.length-1]===this.parent.arithMarker&&this.indexOfAny(e,this.tokens)===e.length-2||(e=e.toUpperCase()),e.indexOf(this.sheetToken)>-1){let t=this.parent.getSheetFamilyItem(this.parent.grid);if(null!=t.sheetNameToParentObject&&t.sheetNameToParentObject.size>0){e[0]!==this.sheetToken.toString()&&(e=this.parent.setTokensForSheets(e));let t=this.parent.getSheetToken(e.split(this.parent.tic).join(this.emptyStr)),n=this.checkScopedRange(e.split('"').join(this.emptyStr).split(this.sheetToken).join(""));UO(t)&&""!==t&&this.parent.namedRanges.size>0&&""!==n&&(e=n)}}e=this.markLibraryFormulas(e);try{e=this.formulaAutoCorrection(e)}catch(s){let n={message:s.message,exception:s,isForceCalculable:s.formulaCorrection,computeForceCalculate:!1};if(!n.isForceCalculable)throw this.parent.formulaErrorStrings[EF.invalid_expression];if(this.isFailureTriggered||(this.parent.trigger("onFailure",n),this.isFailureTriggered=!0),!n.isForceCalculable||!n.computeForceCalculate)throw this.parent.formulaErrorStrings[EF.invalid_expression];e=this.formulaAutoCorrection(e,n),this.parent.storedData.get(t).formulaText="="+e}if(!this.ignoreBracet)for(i=e.indexOf(")");i>-1;){let t=e.substring(0,i).lastIndexOf("(");if(-1===t)throw new TF(this.parent.formulaErrorStrings[EF.mismatched_parentheses]);if(t===i-1)throw new TF(this.parent.formulaErrorStrings[EF.empty_expression]);let n=this.emptyStr;n=this.ignoreBracet?this.parent.substring(e,t,i-t+1):this.parent.substring(e,t+1,i-t-1);try{e=e.substring(0,t)+this.parseSimple(n)+e.substring(i+1)}catch(s){let e=this.exceptionArgs(s);this.isFailureTriggered||(this.parent.trigger("onFailure",e),this.isFailureTriggered=!0);let t="string"==typeof e.exception?e.exception:e.message;return(this.parent.getErrorLine(s)?"":"#"+this.parent.getErrorLine(s)+": ")+t}i=e.indexOf(")")}if(!this.ignoreBracet&&e.indexOf("(")>-1)throw new TF(this.parent.formulaErrorStrings[EF.mismatched_parentheses]);return e=this.parseSimple(e),null!==n&&n.size>0&&(e=this.setStrings(e,n)),e}exceptionArgs(e){return{message:e.message,exception:e,isForceCalculable:e.formulaCorrection,computeForceCalculate:!1}}formulaAutoCorrection(e,t){let n=["*","+","-","/","^","&"],i=[">","=","<"],s=0,l="",r="",a="",o="",h="",c="",d="",u=0;if(this.parent.formulaErrorStrings.indexOf(e)>-1)return e;if(this.indexOfAny(e,this.specialSym)>-1)throw new TF(this.parent.formulaErrorStrings[EF.invalid_expression],!1);for(;s<e.length;)if(e.indexOf("&")>-1||this.parent.isDigit(e[s])&&e.length>s+1&&this.indexOfAny(e[s+1],n)>-1&&e.length>s+2&&!UO(e[s+2])&&this.indexOfAny(e[s+2],n)>-1){if(UO(t))throw new TF(this.parent.formulaErrorStrings[EF.invalid_expression],!0);if(!t.computeForceCalculate)throw this.parent.formulaErrorStrings[EF.improper_formula];this.parent.isDigit(e[s])?(u<1?(c=e[s],a=e[s+1],UO(a)&&(a=this.emptyStr),a="&"===a?"":a,u+=1,l=l+c+a):u<2&&(d=e[s],o=e[s-1],h=e[s+1],u=0,"-"===o?(h=UO(h)?this.emptyStr:h,h="&"===h?"":h,l=l+o+d+h):(h=UO(h)?this.emptyStr:h,l=l+d+h)),s+=2):(l="-"===e[s]?l+e[s]:l,s+=1)}else if((this.parent.isDigit(e[s])||e[s]===this.parent.rightBracket||this.parent.storedData.has(e[s].toUpperCase()))&&(UO(e[s+1])||this.indexOfAny(e[s+1],n))>-1)r=UO(e[s+1])?this.emptyStr:e[s+1],r="&"===r?"":r,l="-"===e[s-1]?l+e[s-1]+e[s]+r:l+e[s]+r,s+=2;else if(this.indexOfAny(e[s],i)>-1&&!UO(e[s-1])&&!UO(e[s+1]))l+=e[s],s+=1;else if("q"===e[s])for(;e[s]!==this.parent.leftBracket;)l+=e[s],s+=1;else e[s]===this.parent.leftBracket||e[s]===this.parent.rightBracket||"{"===e[s]||"}"===e[s]||"("===e[s]||")"===e[s]?(l+=e[s],s+=1):this.parent.isUpperChar(e[s])||e[s].indexOf(":")>-1||e[s]===this.parent.getParseArgumentSeparator()||"%"===e[s]&&this.parent.isDigit(e[s-1])?(l+=e[s],s+=1):e[s]===this.parent.tic||" "===e[s]||"."===e[s]||e[s]===this.sheetToken||"$"===e[s]?(l+=e[s],s+=1):(this.parent.isDigit(e[s])&&(l="-"===e[s-1]?l+e[s-1]+e[s]:l+e[s]),"-"===e[s]&&(l+=e[s],l=l.split("++").join("+").split("+-").join("-").split("-").join("-")),s+=1);return l=l===this.emptyStr?e:l,this.indexOfAny(l[l.length-1],n)>-1&&(l=l.substring(0,l.length-1)),l=l.split("--").join("-").split("-+").join("-").split("+-").join("-"),l}checkScopedRange(e){let t=this.emptyStr,n="NaN",i=this.parent.getSheetID(this.parent.grid),s=this.parent.getSheetFamilyItem(this.parent.grid);if(e[0]===this.sheetToken.toString()){let t=e.indexOf(this.sheetToken,1),n=parseInt(e.substr(1,t-1),10);t>1&&!this.parent.isNaN(n)&&(e=e.substring(t+1),i=n)}let l="!"+i.toString()+"!";return null===s||null==s.sheetNameToToken?n:(s.sheetNameToToken.forEach((i,r)=>{if(s.sheetNameToToken.get(r).toString()===l){let i=this.emptyStr;this.parent.namedRanges.forEach((l,r)=>{i=UO(this.parent.parentObject)?s.sheetNameToToken.get(r).toUpperCase():(this.parent.parentObject.getActiveSheet().name+this.sheetToken+e).toUpperCase(),this.parent.getNamedRanges().has(i)&&(t=this.parent.getNamedRanges().get(i).toUpperCase(),n=t)})}}),n)}storeStrings(e){let t,n=0,i=0,s=0,l="",r=null,a=e.indexOf(this.parent.tic);if(e.indexOf(this.parent.singleTic),a>-1)for(n=(e=e.split(this.parent.singleTic).join(this.parent.tic)).indexOf(this.parent.tic);n>-1&&e.length>0;){if(null===r&&(r=this.stringsColl),i=n+1<e.length?e.indexOf(this.parent.tic,n+1):-1,-1===i)throw new TF(this.parent.formulaErrorStrings[EF.mismatched_tics]);t=this.parent.substring(e,n,i-n+1),l=this.parent.tic+this.spaceString+s.toString()+this.parent.tic,r=r.set(l,t),e=e.substring(0,n)+l+e.substring(i+1),n+=l.length,n<e.length&&(n=e.indexOf(this.parent.tic,n)),s++}return this.storedStringText=e,r}setStrings(e,t){for(let n=0;n<t.size;n++)t.forEach((t,n)=>{e=e.split(n).join(t)});return e}parseSimple(e){let t=!0,n=e;if(n.length>0&&"+"===n[0]&&(n=n.substring(1)),"#DIV/0!"===n)return"#DIV/0!";if("#NAME?"===n)return"#NAME?";if(""===n)return n;if(this.parent.formulaErrorStrings.indexOf(n)>-1)return n;n=n.split(this.stringLessEq).join(this.charLessEq),n=n.split(this.stringGreaterEq).join(this.charGreaterEq),n=n.split(this.stringNoEqual).join(this.charNoEqual),n=n.split(this.stringAnd).join(this.charAnd),n=n.split(this.stringOr).join(this.charOr),n=n.split(this.fixedReference).join(this.emptyStr),t=!0;let i=[this.tokenMultiply,this.tokenDivide],s=[this.tokenAdd,this.tokenSubtract],l=[this.charMultiply,this.charDivide],r=[this.charAdd,this.charSubtract],a=[this.tokenLess,this.tokenGreater,this.tokenEqual,this.tokenLessEq,this.tokenGreaterEq,this.tokenNotEqual],o=[this.charLess,this.charGreater,this.charEqual,this.charLessEq,this.charGreaterEq,this.charNoEqual],h=[this.tokenAnd],c=[this.charAnd],d=[this.charOr],u=[this.tokenOr];return n=this.parseSimpleOperators(n,[this.tokenEp,this.tokenEm],[this.charEp,this.charEm]),n=this.parseSimpleOperators(n,u,d),n=this.parseSimpleOperators(n,i,l),n=this.parseSimpleOperators(n,s,r),n=this.parseSimpleOperators(n,a,o),n=this.parseSimpleOperators(n,h,c),n}parseSimpleOperators(e,t,n){if(this.parent.getErrorStrings().indexOf(e)>-1)return e;let i=e,s=0,l="";for(let a=0;a<n.length;a++)l+=n[a];i=i.split("---").join("-").split("--").join("+").split(this.parent.getParseArgumentSeparator()+"-").join(this.parent.getParseArgumentSeparator()+"u").split(this.parent.leftBracket+"-").join(this.parent.leftBracket+"u").split("=-").join("=u"),i=i.split(",+").join(",").split(this.parent.leftBracket+"+").join(this.parent.leftBracket).split("=+").join("=").split(">+").join(">").split("<+").join("<").split("/+").join("/").split("*+").join("*").split("++").join("+").split("*-").join("*u").toString(),i.length>0&&"-"===i[0]?(i=i.substring(1).split("-").join(this.tokenOr),i="0-"+i,i=this.parseSimpleOperators(i,[this.tokenSubtract],[this.charSubtract]),i=i.split(this.tokenOr).join("-")):i.length>0&&"+"===i[0]?i=i.substring(1):i.length>0&&"+"===i[i.length-1]&&(i=i.substring(0,i.length-1));try{if(this.indexOfAny(i,n)>-1)for(s=this.indexOfAny(i,n);s>-1;){let e="",r="",a=0,o=0,h=0;if(i[s]===this.charNOTop)a=s;else if(h=s-1,i[h]===this.parent.arithMarker){let t=this.findLeftMarker(i.substring(0,h-1));if(t<0)throw new TF(this.parent.formulaErrorStrings[EF.cannot_parse]);e=this.parent.substring(i,t+1,h-t-1),a=t+1}else if(i[h]===this.parent.rightBracket){let t=0,n=h-1;for(;n>0&&("q"!==i[n]||0!==t);)"q"===i[n]?t--:i[n]===this.parent.rightBracket&&t++,n--;if(n<0)throw new TF(this.parent.formulaErrorStrings[EF.cannot_parse]);e=this.parent.substring(i,n,h-n+1),a=n}else if(i[h]===this.parent.tic[0]){let t=i.substring(0,h-1).lastIndexOf(this.parent.tic);if(t<0)throw new TF(this.parent.formulaErrorStrings[EF.cannot_parse]);e=this.parent.substring(i,t,h-t+1),a=t}else{let t=!1;for(;h>-1&&(this.parent.isDigit(i[h])||!t&&i[h]===this.parent.getParseDecimalSeparator());)i[h]===this.parent.getParseDecimalSeparator()&&(t=!0),h-=1;if(h>-1&&t&&i[h]===this.parent.getParseDecimalSeparator())throw new TF(this.parent.formulaErrorStrings[EF.number_contains_2_decimal_points]);if(h+=1,0===h||h>0&&!this.parent.isUpperChar(i[h-1]))e="n"+this.parent.substring(i,h,s-h),a=h;else{for(h-=1;h>-1&&(this.parent.isUpperChar(i[h])||this.parent.isDigit(i[h]));)h-=1;if(h>-1&&i[h]===this.sheetToken){for(h-=1;h>-1&&i[h]!==this.sheetToken;)h-=1;h>-1&&i[h]===this.sheetToken&&(h-=1)}h+=1,e=this.parent.substring(i,h,s-h),this.parent.updateDependentCell(e),a=h}(this.parent.namedRanges.size>0&&this.parent.namedRanges.has(e.toUpperCase())||this.parent.storedData.has(e.toUpperCase()))&&(e="n"+this.checkForNamedRangeAndKeyValue(e))}if(s===i.length-1)throw new TF(this.parent.formulaErrorStrings[EF.expression_cannot_end_with_an_operator]);{h=s+1;let e="u"===i[h];if(e&&(h+=1),i[h]===this.parent.tic[0]){let e=i.substring(h+1).indexOf(this.parent.tic);if(e<0)throw this.parent.formulaErrorStrings[EF.cannot_parse];r=this.parent.substring(i,h,e+2),o=e+h+2}else if(i[h]===this.parent.arithMarker){let e=this.findRightMarker(i.substring(h+1));if(e<0)throw new TF(this.parent.formulaErrorStrings[EF.cannot_parse]);r=this.parent.substring(i,h+1,e),o=e+h+2}else if("q"===i[h]){let t=0,n=h+1;for(;n<i.length&&(i[n]!==this.parent.rightBracket||0!==t);)i[n]===this.parent.rightBracket?t++:"q"===i[n]&&t--,n++;if(n===i.length)throw this.parent.formulaErrorStrings[EF.cannot_parse];r=this.parent.substring(i,h,n-h+1),e&&(r="u"+r),o=n+1}else if(this.parent.isDigit(i[h])||i[h]===this.parent.getParseDecimalSeparator()){let e=i[h]===this.parent.getParseDecimalSeparator();for(h+=1;h<i.length&&(this.parent.isDigit(i[h])||!e&&i[h]===this.parent.getParseDecimalSeparator());)i[h]===this.parent.getParseDecimalSeparator()&&(e=!0),h+=1;if(h<i.length&&"%"===i[h]&&(h+=1),e&&h<i.length&&i[h]===this.parent.getParseDecimalSeparator())throw this.parent.formulaErrorStrings[EF.number_contains_2_decimal_points];r="n"+this.parent.substring(i,s+1,h-s-1),o=h}else if(this.parent.isUpperChar(i[h])||i[h]===this.sheetToken||"u"===i[h]){if(i[h]===this.sheetToken)for(h+=1;h<i.length&&i[h]!==this.sheetToken;)h+=1;h+=1;let t=0,n=!1;for(;h<i.length&&(this.parent.isUpperChar(i[h])||"_"===i[h]||"."===i[h]||"["===i[h]||"]"===i[h]||"#"===i[h]||" "===i[h]||"%"===i[h]||i[h]===this.parent.getParseDecimalSeparator()&&n);)h!==i.length-1&&"["===i[h]&&"["===i[h+1]&&(n=!0),h!==i.length-1&&"]"===i[h]&&"]"===i[h+1]&&(n=!1),h++,t++;let l=h===i.length||!this.parent.isDigit(i[h]);if(t>1){for(;h<i.length&&(this.parent.isUpperChar(i[h])||this.parent.isDigit(i[h])||" "===i[h]||"_"===i[h]);)h++;l=!0}for(;h<i.length&&this.parent.isDigit(i[h]);)h+=1;if(h<i.length&&":"===i[h]){if(h+=1,h<i.length&&i[h]===this.sheetToken){for(h++;h<i.length&&i[h]!==this.sheetToken;)h+=1;h<i.length&&i[h]===this.sheetToken&&h++}for(;h<i.length&&this.parent.isUpperChar(i[h]);)h+=1;for(;h<i.length&&this.parent.isDigit(i[h]);)h+=1;h-=1,r=this.parent.substring(i,s+1,h-s)}else h-=1,r=this.parent.substring(i,s+1,h-s),e="u"===i[h],e&&(r="u"+r);l&&r.startsWith(this.sheetToken)&&(l=!this.parent.isCellReference(r)),l||this.parent.updateDependentCell(r),(this.parent.namedRanges.size>0&&this.parent.namedRanges.has(r.toUpperCase())||this.parent.storedData.has(r.toUpperCase()))&&(r="n"+this.checkForNamedRangeAndKeyValue(r)),o=h+1}}let c=l.indexOf(i[s]),d=this.parent.arithMarker+e+r+t[c]+this.parent.arithMarker;a>0&&(d=i.substring(0,a)+d),o<i.length&&(d+=i.substring(o)),d=d.split(this.parent.arithMarker2).join(this.parent.arithMarker.toString()),i=d,s=this.indexOfAny(i,n)}else if(i.length>0&&(this.parent.isUpperChar(i[0])||i[0]===this.sheetToken)){let e=!0,t=!0,n=!1,s=i.length;for(let l=0;l<s;++l)if(i[l]===this.sheetToken){if(l>0&&!n)throw this.parent.getErrorStrings()[kF.ref];for(n=!0,l++;l<s&&this.parent.isDigit(i[l]);)l++;if(l===s||i[l]!==this.sheetToken){e=!1;break}}else{if(!t&&this.parent.isChar(i[l])){e=!1;break}if(!this.parent.isChar(i[l])&&!this.parent.isDigit(i[l])&&i[l]!==this.sheetToken){e=!1;break}t=this.parent.isUpperChar(i[l])}e&&this.parent.updateDependentCell(i)}return i}catch(r){return r}}indexOfAny(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return n;return-1}findLeftMarker(e){let t=-1;if(e.indexOf(this.parent.arithMarker)>-1){let n=0;for(let i=e.length-1;i>=0;--i)if(e[i]===this.parent.rightBracket)n--;else if(e[i]===this.parent.leftBracket)n++;else if(e[i]===this.parent.arithMarker&&0===n){t=i;break}}return t}findRightMarker(e){let t=-1;if(e.indexOf(this.parent.arithMarker)>-1){let n=0;for(let i=0;i<e.length;++i)if(e[i]===this.parent.rightBracket)n--;else if(e[i]===this.parent.leftBracket)n++;else if(e[i]===this.parent.arithMarker&&0===n){t=i;break}}return t}parseFormula(e,t){e.length>0&&e[0]===this.parent.getFormulaCharacter()&&(e=e.substring(1)),e.length>0&&"+"===e[0]&&(e=e.substring(1));try{this.isFailureTriggered=!1,this.isError=!1,e=this.parse(e.trim(),t),this.isFormulaParsed=!0}catch(n){let t=this.exceptionArgs(n);this.isFailureTriggered||(this.parent.trigger("onFailure",t),this.isFailureTriggered=!0);let i="string"==typeof t.exception?t.exception:t.message;e=(UO(this.parent.getErrorLine(n))?"":"#"+this.parent.getErrorLine(n)+": ")+i,this.isError=!0}return e}markLibraryFormulas(e){let t=0,n=e.indexOf(")");if(-1===n)e=this.markNamedRanges(e);else for(;n>-1;){let s=0,l=n-1;for(;l>-1&&("("!==e[l]||0!==s);)")"===e[l]?s++:")"===e[l]&&s--,l--;if(-1===l)throw new TF(this.parent.formulaErrorStrings[EF.mismatched_parentheses]);let r=l-1;for(;r>-1&&this.parent.isChar(e[r]);)r--;let a=l-r-1,o=this.parent.substring(e,r+1,a);if(a>0&&!UO(this.parent.getFunction(o))){this.ignoreBracet="AREAS"===this.parent.substring(e,r+1,a);let s=this.parent.substring(e,l,n-l+1);try{let e;s=s.split("(").join("").split(")").join(""),s="("+this.formulaAutoCorrection(s,e)+")"}catch(i){let e={message:i.message,exception:i,isForceCalculable:i.formulaCorrection,computeForceCalculate:!1};if(!e.isForceCalculable)throw this.parent.formulaErrorStrings[EF.improper_formula];if(this.isFailureTriggered||(this.parent.trigger("onFailure",e),this.isFailureTriggered=!0,t+=1),e.computeForceCalculate=t>0||e.computeForceCalculate,!e.isForceCalculable)throw this.parent.formulaErrorStrings[EF.improper_formula];if(!e.computeForceCalculate)throw this.parent.formulaErrorStrings[EF.improper_formula];s=s.split("(").join("").split(")").join(""),s="("+this.formulaAutoCorrection(s,e)+")"}s=this.markNamedRanges(s),s=this.swapInnerParens(s),s=this.addParensToArgs(s),-1===s.lastIndexOf(this.parent.getParseArgumentSeparator())&&s.length>2&&"("===s[0]&&")"===s[s.length-1]&&"{"!==s[1]&&"("!==s[1]&&(s=s.substring(0,s.length-1)+"}"+s.substring(s.length-1),s=s[0]+"{"+s.substring(1)),e=e.substring(0,r+1)+"q"+this.parent.substring(e,r+1,a)+s.split("(").join(this.parent.leftBracket).split(")").join(this.parent.rightBracket)+e.substring(n+1)}else{if(a>0)return this.parent.getErrorStrings()[kF.name];{let t=this.emptyStr;l>0&&(t=e.substring(0,l)),t=t+"{"+this.parent.substring(e,l+1,n-l-1)+"}",n<e.length&&(t+=e.substring(n+1)),t=this.markNamedRanges(t),e=t}}n=e.indexOf(")")}return e.split("{").join("(").split("}").join(")")}swapInnerParens(e){return e.length>2&&(e=e[0]+e.substr(1,e.length-2).split("(").join("{").split(")").join("}")+e[e.length-1]),e}addParensToArgs(e){if(0===e.length)return this.emptyStr;let t=[];t.push(this.parent.getParseArgumentSeparator()),t.push(this.parent.rightBracket);let n=e.lastIndexOf(this.parent.getParseArgumentSeparator()),i=0;if(-1===n)e.length>2&&"("===e[0]&&")"===e[e.length-1]&&("{"!==e[1]&&"("!==e[1]?e=(e=e.substring(0,e.length-1)+"}"+e.substring(e.length-1))[0]+"{"+e.substring(1):(n=this.lastIndexOfAny(e,["+","-","*","/"]),0===i&&")"===e[e.length-1]&&(i=e.length-1),i>0&&"{"!==e[n+1]&&"}"===e[n-1]&&(e=(e=e.substr(0,i)+"}"+e.substr(i)).substr(0,n+1)+"{"+e.substr(n+1))));else{let i=!0;for(;n>-1;){let s=this.indexOfAny(e.substring(n+1,e.length),t);s>=0?s=n+s+1:-1===s&&")"===e[e.length-1]&&(s=e.length-1),s>0&&"{"!==e[n+1]&&"}"!==e[s-1]&&(e=(e=e.substr(0,s)+"}"+e.substr(s)).substr(0,n+1)+"{"+e.substr(n+1)),n=e.substr(0,n).lastIndexOf(this.parent.getParseArgumentSeparator()),i&&-1===n&&"("===e[0]&&(n=0,i=!1)}}return e.split("{}").join(this.emptyStr)}lastIndexOfAny(e,t){for(let n=e.length-1;n>-1;n--)if(t.indexOf(e[n])>-1)return n;return-1}markNamedRanges(e){let t=[")",this.parent.getParseArgumentSeparator(),"}","+","-","*","/","<",">","=","&"],n=e.length>0&&("("===e[0]||"{"===e[0])?1:0;e.indexOf("#N/A")>-1&&(e=e.split("#N/A").join("#N~A")),e.indexOf("#DIV/0!")>-1&&(e=e.split("#DIV/0!").join("#DIV~0!"));let i=this.indexOfAny(e.substring(n),t);for(;i>-1&&i+n<e.length;){let s=this.emptyStr,l=null;if(this.parent.substring(e,n,i).indexOf("[")>-1?l=this.getTableRange(this.parent.substring(e,n,i)):this.parent.storedData.has(this.parent.substring(e,n,i))?l=this.checkForNamedRangeAndKeyValue(this.parent.substring(e,n,i)):this.parent.namedRanges.has(this.parent.substring(e,n,i))&&(l=this.checkForNamedRangeAndKeyValue(this.parent.substring(e,n,i))),UO(l)&&(s=this.checkScopedRange(this.parent.substring(e,n,i)),"NaN"!==s?(this.findNamedRange=!0,l=s):this.parent.substring(e,n,i).startsWith(this.sheetToken.toString())&&this.parent.substring(e,n,i).indexOf(this.sheetToken,1),!UO(l)&&this.findNamedRange&&l.indexOf(this.fixedReference)>-1&&(l=l.split(this.fixedReference).join(this.emptyStr))),UO(l)||(l=l.toUpperCase(),l=this.parent.setTokensForSheets(l),l=this.markLibraryFormulas(l)),UO(l)||l===this.emptyStr)for(n+=i+1;n<e.length&&!this.parent.isUpperChar(e[n])&&e[n]!==this.sheetToken;)n++;else e=e.substring(0,n)+l+e.substring(n+i),n+=l.length+1;for(i=n,n<e.length-1&&"{"===e[n]&&(n+=1),i=this.indexOfAny(e.substring(n),t);0===i&&n<e.length-1;)n++,i=this.indexOfAny(e.substring(n),t);if((-1===i||e.substring(n).indexOf("[")>-1)&&n<e.length){if(l=e.substring(n).indexOf("[")>-1?this.getTableRange(e.substring(n)):this.parent.storedData.has(e.substring(n))?this.parent.storedData.size>0?this.checkForNamedRangeAndKeyValue(e.substring(n)):l:this.parent.namedRanges.size>0?this.checkForNamedRangeAndKeyValue(e.substring(n)):l,UO(l)&&(s=this.checkScopedRange(e.substring(n)),"NaN"!==s&&(l=s)),!UO(l)&&l!==this.emptyStr&&(l=l.toUpperCase(),l=this.parent.setTokensForSheets(l),l=this.markLibraryFormulas(l),null!=l)){let t=e.substring(n);e=")"===t[t.length-1]?e.substring(0,n)+l+")":e.substring(0,n)+l,n+=l.toString().length+1}i=n<e.length?this.indexOfAny(e.substring(n),t):-1}}return e.indexOf("#N~A")>-1&&(e=e.split("#N~A").join("#N/A")),e.indexOf("#DIV~0!")>-1&&(e=e.split("#DIV~0!").join("#DIV/0!")),e}checkForNamedRangeAndKeyValue(e){let t=this.emptyStr;if(e.indexOf("[")>-1){let t=this.getTableRange(e);UO(t)||(this.findNamedRange=!0,e=t)}if(t=this.checkScopedRange(e),"NaN"!==t)this.findNamedRange=!0,e=t;else{if(e.indexOf(this.sheetToken)>-1){let t=this.parent.getSheetFamilyItem(this.parent.grid),n=e.split('"').join(this.emptyStr);n=n.substr(0,n.indexOf(this.sheetToken)),t.sheetNameToToken.has(n.toUpperCase())&&parseInt(t.sheetNameToToken.get(n.toUpperCase()).split(this.sheetToken).join(this.emptyStr))}this.parent.storedData.size>0&&this.parent.storedData.has(e)&&(e="A"+this.parent.colIndex(e)),this.parent.namedRanges.size>0&&this.parent.namedRanges.has(e.toUpperCase())&&(UO(this.parent.parentObject)?(e=this.parse(this.parent.namedRanges.get(e.toUpperCase())),(e=this.parent.setTokensForSheets(e)).indexOf(this.fixedReference)>-1&&e.split(this.fixedReference).join(this.emptyStr),this.findNamedRange=!0):e=this.parse(this.parent.namedRanges.get(e.toUpperCase()))),this.findNamedRange&&"!"!==e[0]&&"q"!==e[0]&&"bq"!==e[0]&&(e=this.parent.setTokensForSheets(e)).indexOf(this.fixedReference)>-1&&(e=e.split(this.fixedReference).join(this.emptyStr))}return e}getTableRange(e){let t=(e=e.replace(" ",this.emptyStr).toUpperCase()).replace("]",this.emptyStr).replace("#DATA",this.emptyStr),n=t;return t.indexOf(this.parent.getParseArgumentSeparator())>-1&&(n=t.substring(0,t.indexOf(this.parent.getParseArgumentSeparator())).replace("[",this.emptyStr),t=t.replace("[",this.emptyStr).replace(this.parent.getParseArgumentSeparator(),"_")),t.toUpperCase()}findNextEndIndex(e,t){let n=0,i=t,s=!1;for(;!s&&t<e.length;)"["===e[i]?n++:"]"===e[i]&&(n--,0===n&&(s=!0)),t++;return t-i}}var DF,AF=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let MF=(()=>{let e=DF=class extends QD{constructor(e){super(null,null),this.lFormulas=new Map,this.storedData=new Map,this.keyToRowsMap=new Map,this.rowsToKeyMap=new Map,this.rightBracket=String.fromCharCode(161),this.leftBracket=String.fromCharCode(162),this.sheetToken="!",this.emptyString="",this.leftBrace="{",this.rightBrace="}",this.cell=this.emptyString,this.cellPrefix="!0!A",this.treatEmptyStringAsZero=!1,this.tic='"',this.singleTic="'",this.trueValue="TRUE",this.falseValue="FALSE",this.parseDecimalSeparator=".",this.arithMarker=String.fromCharCode(180),this.arithMarker2=this.arithMarker+this.arithMarker,this.dependentCells=null,this.dependentFormulaCells=null,this.minValue=Number.MIN_SAFE_INTEGER,this.maxValue=Number.MAX_SAFE_INTEGER,this.categoryCollection=["All"],this.dependencyLevel=0,this.refreshedCells=new Map,this.computedValues=null,this.randomValues=new Map,this.isRandomVal=!1,this.randCollection=[],this.formulaErrorStrings=["binary operators cannot start an expression","cannot parse","bad library","invalid char in front of","number contains 2 decimal points","expression cannot end with an operator","invalid characters following an operator","invalid character in number","mismatched parentheses","unknown formula name","requires a single argument","requires 3 arguments","invalid Math argument","requires 2 arguments","#NAME?","too complex","circular reference: ","missing formula","improper formula","invalid expression","cell empty","bad formula","empty expression","","mismatched string quotes","wrong number of arguments","invalid arguments","iterations do not converge","Control is already registered","Calculation overflow","Missing sheet","cannot_parse","expression_cannot_end_with_an_operator"],this.errorStrings=null,this.parseArgumentSeparator=",",this.dateTime1900=new Date(1900,0,1,0,0,0),this.isParseDecimalSeparatorChanged=!1,this.isArgumentSeparatorChanged=!1,this.sheetFamilyID=0,this.defaultFamilyItem=null,this.sheetFamiliesList=null,this.modelToSheetID=null,this.tokenCount=0,this.sortedSheetNames=null,this.tempSheetPlaceHolder=String.fromCharCode(133),this.namedRanges=new Map,this.formulaInfoTable=null,this.oaDate=new Date(1899,11,30),this.millisecondsOfaDay=864e5,this.parseDateTimeSeparator="/";let t=new SF(this);this.includeBasicFormulas&&DF.Inject(OF),this.injectedModules&&this.injectedModules.length&&t.inject(this.requiredModules(),this.injectedModules),this.parentObject=UO(e)?this:e,this.grid=this.parentObject,this.parser=new IF(this)}get libraryFormulas(){return this.lFormulas}set libraryFormulas(e){this.lFormulas.set(e.fName,{handler:e.handler,category:e.category,description:e.description})}getParseArgumentSeparator(){return this.isArgumentSeparatorChanged||","===this.parseArgumentSeparator||(this.parseArgumentSeparator=","),this.parseArgumentSeparator}setParseArgumentSeparator(e){this.parseArgumentSeparator=e,this.isArgumentSeparatorChanged=!0}getParseDateTimeSeparator(){return this.parseDateTimeSeparator}setTreatEmptyStringAsZero(e){this.treatEmptyStringAsZero=e}getTreatEmptyStringAsZero(){return this.treatEmptyStringAsZero}setParseDateTimeSeparator(e){this.parseDateTimeSeparator=e}requiredModules(){return function(e){let t=[];return e.includeBasicFormulas&&t.push({member:"basic-formulas",args:[e]}),t}(this)}static Inject(...e){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(let t=0;t<e.length;t++)-1===this.prototype.injectedModules.indexOf(e[t])&&this.prototype.injectedModules.push(e[t])}getInjectedModules(){return this.injectedModules}onPropertyChanged(e,t){}getModuleName(){return"calculate"}getFormulaCharacter(){return"="}isUpperChar(e){let t=e.charCodeAt(0);return t>64&&t<91}resetKeys(){this.storedData.clear(),this.keyToRowsMap.clear(),this.rowsToKeyMap.clear()}updateDependentCell(e){let t=this.getSheetFamilyItem(this.grid),n=this.cell;if(null!==t.sheetNameToParentObject){let i=t.parentObjectToToken.get(this.grid);-1===n.indexOf(this.sheetToken)&&(n=i+n),-1===e.indexOf(this.sheetToken)&&(e=i+e)}if(this.getDependentCells().has(e)){let t=this.getDependentCells().get(e);t.indexOf(n)<0&&t.push(n)}else this.getDependentCells().set(e,[n])}getDependentCells(){if(this.isSheetMember()){let e=this.getSheetFamilyItem(this.grid);return null==e.sheetDependentCells&&(e.sheetDependentCells=new Map),e.sheetDependentCells}return null==this.dependentCells&&(this.dependentCells=new Map),this.dependentCells}getDependentFormulaCells(){if(this.isSheetMember()){let e=this.getSheetFamilyItem(this.grid);return null==e.sheetDependentFormulaCells&&(e.sheetDependentFormulaCells=new Map),e.sheetDependentFormulaCells}return null==this.dependentFormulaCells&&(this.dependentFormulaCells=new Map),this.dependentFormulaCells}getLibraryFormulas(){return this.lFormulas}getFunction(e){return this.getLibraryFormulas().has(e.toUpperCase())?this.getLibraryFormulas().get(e.toUpperCase()).handler:null}intToDate(e){let t=Number(e);return t=t>0&&t<1?1+t:0===t?1:t,t>60&&(t-=1),new Date(864e5*(t-1)+new Date("01/01/1900").getTime())}getFormulaInfoTable(){if(this.isSheetMember()){let e=this.getSheetFamilyItem(this.grid);return null===e.sheetFormulaInfotable&&(e.sheetFormulaInfotable=new Map),e.sheetFormulaInfotable}return null===this.formulaInfoTable&&(this.formulaInfoTable=new Map),this.formulaInfoTable}getFormula(e){return e=e.toUpperCase(),this.storedData.has(e)?this.storedData.get(e).getFormulaText():""}getParseDecimalSeparator(){return this.isParseDecimalSeparatorChanged||"."===this.parseDecimalSeparator||(this.parseDecimalSeparator="."),this.parseDecimalSeparator}setParseDecimalSeparator(e){this.parseDecimalSeparator=e,this.isParseDecimalSeparatorChanged=!0}getSheetToken(e){let t=0,n=this.emptyString;if(t<e.length&&e[t]===this.sheetToken){for(t++;t<e.length&&e[t]!==this.sheetToken;)t++;n=e.substring(0,t+1)}if(t<e.length)return n;throw this.formulaErrorStrings[EF.bad_index]}getSheetID(e){let t=this.getSheetFamilyItem(e);if(null!=t.sheetNameToParentObject&&t.sheetNameToParentObject.size>0){let n=t.parentObjectToToken.get(e);n=n.split(this.sheetToken).join(this.emptyString);let i=this.parseFloat(n);if(!this.isNaN(i))return i}return-1}parseFloat(e){return Number(e)}rowIndex(e){let t,n=0,i=!1;if(n<e.length&&e[n]===this.sheetToken){for(n++;n<e.length&&e[n]!==this.sheetToken;)n++;n++}for(;n<e.length&&this.isChar(e[n]);)i=!0,n++;if(t=parseInt(e.substring(n),10),n<e.length&&!this.isNaN(t))return t;if(i)return-1;throw this.formulaErrorStrings[EF.bad_index]}colIndex(e){let t=0,n=0;if(t<(e=e.toUpperCase()).length&&e[t]===this.sheetToken){for(t++;t<e.length&&e[t]!==this.sheetToken;)t++;t++}for(;t<e.length&&this.isChar(e[t]);)n=26*n+e[t].charCodeAt(0)-64,t++;return 0===n?-1:n}getErrorStrings(){return null===this.errorStrings&&(this.errorStrings=["#N/A","#VALUE!","#REF!","#DIV/0!","#NUM!","#NAME?","#NULL!"]),this.errorStrings}substring(e,t,n){return e.substring(t,n+t)}isChar(e){return e.charCodeAt(0)>=65&&e.charCodeAt(0)<=90||e.charCodeAt(0)>=97&&e.charCodeAt(0)<=122}getSheetFamilyItem(e){if(0===this.sheetFamilyID)return null==this.defaultFamilyItem&&(this.defaultFamilyItem=new LF),this.defaultFamilyItem;null==this.sheetFamiliesList&&(this.sheetFamiliesList=new Map);let t=this.modelToSheetID.get(e);return this.sheetFamiliesList.has(t)||this.sheetFamiliesList.set(t,new LF),this.sheetFamiliesList.get(t)}setKeyValue(e,t){e=e.toUpperCase();let n=t.toString().trim();this.storedData.get(e)&&0!==n.indexOf(this.leftBrace)||(this.storedData.set(e,new PF),this.keyToRowsMap.set(e,this.keyToRowsMap.size+1),this.rowsToKeyMap.set(this.rowsToKeyMap.size+1,e));let i=this.storedData.get(e);if(null!=i.getFormulaText()&&i.getFormulaText().length>0&&i.getFormulaText()!==n){let t=this.cellPrefix+this.keyToRowsMap.get(e).toString();null!=this.getDependentFormulaCells().get(t)&&this.clearFormulaDependentCells(t)}n.length>0&&n[0]===this.getFormulaCharacter()?i.setFormulaText(n):i.getFormulaValue()!==n&&(i.setFormulaText(""),i.setParsedFormula(""),i.setFormulaValue(n))}clearFormulaDependentCells(e){let t=this.getDependentFormulaCells().get(e);null!=t&&(t.forEach((t,n)=>{let i=n,s=this.getDependentCells().get(i);this.arrayRemove(s,e),0===s.length&&this.getDependentCells().delete(i)}),this.getDependentFormulaCells().delete(e))}arrayRemove(e,t){let n=null;for(;-1!==n;)n=e.indexOf(t),e.splice(n,1);return e}getKeyValue(e){if(e=e.toUpperCase(),null!==this.storedData.has(e)){let n=this.storedData.get(e),i=n.getFormulaText();if(i.length>0&&i[0]===this.getFormulaCharacter()){this.cell=this.cellPrefix+this.keyToRowsMap.get(e).toString(),i=i.substring(1);try{n.setParsedFormula(this.parser.parseFormula(i,e))}catch(t){let i={message:t.message,exception:t,isForceCalculable:!1,computeForceCalculate:!1};return this.trigger("onFailure",i),n.setFormulaValue(i.message),this.storedData.get(e).getFormulaValue()}try{n.setFormulaValue(this.computeFormula(n.getParsedFormula()))}catch(t){let e={message:t.message,exception:t,isForceCalculable:!1,computeForceCalculate:!1};this.trigger("onFailure",e);let n="string"==typeof e.exception?e.exception:e.message;return(UO(this.getErrorLine(t))?"":"#"+this.getErrorLine(t)+": ")+n}}return this.storedData.get(e).getFormulaValue()}return this.emptyString}getNamedRanges(){return this.namedRanges}addNamedRange(e,t){let n=e.split(this.sheetToken);if(n.length>1){if(!this.getSheetFamilyItem(this.grid).parentObjectToToken.get(n[0]))return!1;e=n[0]+this.sheetToken+n[1].toUpperCase()}else e=e.toUpperCase();return this.namedRanges.set(e,t),!0}removeNamedRange(e){return e=e.toUpperCase(),null!=this.namedRanges.get(e)&&(this.namedRanges.delete(e),!0)}convertAlpha(e){let t=[],n=0;for(;e>0;){e--;let i="A".charCodeAt(0);t[n]=String.fromCharCode(e%26+i),e=parseInt((e/26).toString(),10),n++}return t.join("")}getCellCollection(e){if(e.indexOf(":")<0){if(!this.isCellReference(e))return e.split(this.getParseArgumentSeparator());e=e+":"+e}let t=this.emptyString,n=e.indexOf(this.sheetToken);if(n>-1){let i=n+1;for(;i<e.length;){if(e[i]===this.sheetToken){t=e.substr(0,i+1);break}i++}}let i,s,l,r,a=e.indexOf(":");if(a>0&&this.isChar(e[a-1])){let t=a-2;for(;t>=0&&this.isDigit(e[t]);)t--}i=this.rowIndex(this.substring(e,0,a)),s=this.rowIndex(this.substring(e,a+1,a+e.length-a-1)),l=this.colIndex(this.substring(e,0,a)),r=this.colIndex(this.substring(e,a+1,a+e.length-a-1)),i>s&&(a=s,s=i,i=a),l>r&&(a=r,r=l,l=a);let o,h=[],c=0;for(a=i;a<=s;a++)for(o=l;o<=r;o++)h[c]=t+this.emptyString+this.convertAlpha(o)+a.toString(),c++;return h}computeFormula(e){let t,n,i,s,l=!1;if(this.parser.isError)return e;t=this.parser.isFormulaParsed?e:this.parser.parseFormula(e),this.parser.isFormulaParsed=!1;try{if(n=this.findLastIndexOfq(t),n>0&&(l=!0),t!==this.emptyString&&n>-1){let e=n+1;for(;e>-1;){if(t[e]!==this.rightBracket){e++;continue}let r=t.substring(n,e+1),a=r.split(this.leftBracket)[0].split("q").join(this.emptyString),o=r.substring(r.indexOf(this.leftBracket)+1,r.indexOf(this.rightBracket)).split(this.getParseArgumentSeparator());if(this.getLibraryFormulas().get(a.toUpperCase()).isCustom){let e=0,t=[];for(e=0;e<o.length;e++)t.push(this.getValueFromArg(o[e]));o=t}if(i=UO(this.getFunction(a))?this.getErrorStrings()[kF.name]:this.getFunction(a)(...o),!l)break;{s=this.processNestedFormula(t,r,i);let a=this.findLastIndexOfq(s);0===a&&(l=!1),-1===a&&(i=this.computeValue(s)),n=e=a,t=s}}}else this.formulaErrorStrings.indexOf(t)>-1?i=t:t!==this.emptyString&&-1===n&&(i=this.computeValue(t))}catch(r){let e={message:r.message,exception:r,isForceCalculable:!1,computeForceCalculate:!1};this.trigger("onFailure",e);let t="string"==typeof e.exception?e.exception:e.message;i=(UO(this.getErrorLine(r))?"":"#"+this.getErrorLine(r)+": ")+t}return i}computeSumIfAndAvgIf(e){if(UO(e)||e[0]===this.emptyString||0===e.length)return this.formulaErrorStrings[EF.wrong_number_arguments];let t=e,n=t.length;if(2!==n&&3!==n&&0===n)return this.formulaErrorStrings[EF.wrong_number_arguments];let i=t[0],s=n>2?t[2].trim():t[1].trim();if(s=s.split(this.tic).join(this.emptyString),s.length>255)return this.getErrorStrings()[kF.value];let l=this.parser.tokenEqual;s.startsWith("<=")?(l=this.parser.tokenLessEq,s=s.substring(2)):s.startsWith(">=")?(l=this.parser.tokenGreaterEq,s=s.substring(2)):s.startsWith("<>")?(l=this.parser.tokenNotEqual,s=s.substring(2)):s.startsWith("<")?(l=this.parser.tokenLess,s=s.substring(1)):s.startsWith(">")?(l=this.parser.tokenGreater,s=s.substring(1)):s.startsWith("=")&&(l=this.parser.tokenEqual,s=s.substring(1));let r=this.parseFloat(s),a=2===n?i:t[1],o=this.getCellCollection(t[0]),h=this.getCellCollection(a),c=this.getComputeSumIfValue(h,o,s,r,l);return[c[0],c[1]]}computeLookup(e){if(0===e.length)return this.formulaErrorStrings[EF.wrong_number_arguments];let t=[],n=[],i=e,s=i.length,l=i[0].split(this.tic).join(this.emptyString),r=2===s?i[1]:i[2],a=this.getCellCollection(i[1]),o=this.getCellCollection(r);for(let u=0;u<a.length;u++)n[u]=this.getValueFromArg(a[u]).split(this.tic).join("");let h=n.toString().split(this.getParseArgumentSeparator()),c=this.parseFloat(h[h.sort().length-1]),d=this.parseFloat(h[0]);for(let u=0;u<a.length;u++){if(t[u]=this.getValueFromArg(a[u]).split(this.tic).join(""),l===t[u])return this.getValueFromArg(o[u]).split(this.tic).join("");if(this.parseFloat(l)===this.parseFloat(t[u]))return this.getValueFromArg(o[u]).split(this.tic).join("");if(this.parseFloat(l)<d)return this.getErrorStrings()[kF.na];if(this.parseFloat(l)>c){let e=n.indexOf(c.toString());return this.getValueFromArg(o[e]).split(this.tic).join("")}}if(n.indexOf(l)<0){let e=[];for(let n=0;n<h.length;n++)this.parseFloat(l)>this.parseFloat(h[n])&&e.push(h[n]);let t=n.indexOf(e[e.length-1]);return this.getValueFromArg(o[t]).split(this.tic).join("")}return this.getErrorStrings()[kF.na]}computeVLookup(e){let t=e,n=[],i=t[0].split(this.tic).join("");if(i.indexOf(":")>-1)return this.getErrorStrings()[kF.value];if(this.isCellReference(i)&&(i=this.getValueFromArg(i)),t[1].indexOf(":")<-1)return this.getErrorStrings()[kF.na];let s=[],l="",r="";if(this.isCellReference(t[1])&&(s=this.getCellCollection(t[1]),t[1].indexOf(":")>-1)){let e=t[1].indexOf(":");for(let n=0;n<e;n++)l+=this.isChar(t[1][n])?t[1][n]:"";for(let n=e;n<t[1].length;n++)r+=this.isChar(t[1][n])?t[1][n]:""}let a=this.colIndex(l)+this.parseFloat(t[2]);if(a>this.colIndex(r))return this.getErrorStrings()[kF.na];if(a===this.colIndex(l))return this.getErrorStrings()[kF.na];let o=this.convertAlpha(a);t[3]=UO(t[3])?this.trueValue:t[3].split(this.tic).join("");let h="";for(let p=0;p<s.length;p++)n[p]=this.getValueFromArg(s[p]).split(this.tic).join("");let c=n.toString().split(this.getParseArgumentSeparator()),d=this.parseFloat(c[c.sort().length-1]),u=this.parseFloat(c[0]);for(let p=0;p<s.length;p++){if(h=this.getValueFromArg(s[p]),t[3].toUpperCase()===this.trueValue){if(i===h)return this.getValueFromArg(o+p).split(this.tic).join("");if(this.parseFloat(i)===this.parseFloat(h))return this.getValueFromArg(o+p).split(this.tic).join("");if(this.parseFloat(i)<u)return this.getErrorStrings()[kF.na];if(this.parseFloat(i)>d){let e=n.indexOf(d.toString());return this.getValueFromArg(o+e).split(this.tic).join("")}}if(t[3]===this.falseValue&&i===h)return this.getValueFromArg(o+p)}return this.getErrorStrings()[kF.na]}findWildCardValue(e,t){let n="";if(e.indexOf("?")>-1){let i=e.indexOf("?"),s=e[i-1],l=e[i+1];if(t.indexOf(s)>-1&&t.indexOf(l)>-1){let i=t.indexOf(s);n=t[i]===s&&t[i+2]===l?e:t}else n=t}else if(e.indexOf("*")>-1){let i=e.indexOf("*"),s="",l="",r=this.falseValue,a=this.falseValue;for(let t=i-1;t>=0;t--)s+=e[t],a=this.trueValue;for(let t=i+1;t<e.length;t++)l+=e[t],r=this.trueValue;let o=""===s?-1:t.indexOf(s.split("").reverse().join("")),h=""===l?-1:t.indexOf(l);o>-1||h>-1?a===this.trueValue?n=s.split("").reverse().join("")===t.substr(0,s.length)?e:t:r===this.trueValue&&(n=l===t.substring(t.length-l.length,t.length)?e:t):n=t}return n}getComputeSumIfValue(e,t,n,i,s){let l=0,r=0;switch(s){case this.parser.tokenEqual:for(let s=0;s<e.length;s++){let a=this.getValueFromArg(e[s].split(this.tic).join("")),o=this.parseFloat(a);if(a===n&&o===i){let e=this.getValueFromArg(t[s].split(this.tic).join(""));l+=this.parseFloat(e),r+=1}}break;case this.parser.tokenLess:for(let n=0;n<e.length;n++){let s=this.getValueFromArg(e[n].split(this.tic).join(""));if(this.parseFloat(s)<i){let e=this.getValueFromArg(t[n].split(this.tic).join(""));l+=this.parseFloat(e),r+=1}}break;case this.parser.tokenGreater:for(let n=0;n<e.length;n++){let s=this.getValueFromArg(e[n].split(this.tic).join(""));if(this.parseFloat(s)>i){let e=this.getValueFromArg(t[n].split(this.tic).join(""));l+=this.parseFloat(e),r+=1}}break;case this.parser.tokenLessEq:for(let n=0;n<e.length;n++){let s=this.getValueFromArg(e[n].split(this.tic).join(""));if(this.parseFloat(s)<=i){let e=this.getValueFromArg(t[n].split(this.tic).join(""));l+=this.parseFloat(e),r+=1}}break;case this.parser.tokenGreaterEq:for(let n=0;n<e.length;n++){let s=this.getValueFromArg(e[n].split(this.tic).join(""));if(this.parseFloat(s)>=i){let e=this.getValueFromArg(t[n].split(this.tic).join(""));l+=this.parseFloat(e),r+=1}}break;case this.parser.tokenNotEqual:for(let s=0;s<e.length;s++){let a=this.getValueFromArg(e[s].split(this.tic).join("")),o=this.parseFloat(a);if(a!==n&&o!==i){let e=this.getValueFromArg(t[s].split(this.tic).join(""));l+=this.parseFloat(e),r+=1}}}return[l,r]}computeAndOr(e,t){let n,i,s="and"===t;if(0===e.length)return this.formulaErrorStrings[EF.wrong_number_arguments];for(let r=0,a=e.length;r<a;r++)if(e[r].split(this.tic).join("").trim()===this.emptyString)return this.getErrorStrings()[kF.value];let l=e;for(let r=0;r<l.length;r++){if(l[r]===this.tic)return this.getErrorStrings()[kF.value];if(l[r].indexOf(":")>-1&&this.isCellReference(l[r])){let e=this.getCellCollection(l[r]);for(let t=0;t<e.length;t++){if(this.getErrorStrings().indexOf(e[t])>-1)return e[t];if(e[t][0]===this.tic)return this.getErrorStrings()[kF.name];if(n=this.getValueFromArg(e[t]),""===n&&(n=this.trueValue),this.getErrorStrings().indexOf(n)>-1)return n;i=this.parseFloat(n)}}else{if(n=this.getValueFromArg(l[r]).split(this.tic).join("").toUpperCase(),this.getErrorStrings().indexOf(n)>-1)return n;let e=Date.parse(n.split(this.tic).join(""));if(isNaN(e)){if(n!==this.trueValue&&n!==this.falseValue)return this.getErrorStrings()[kF.value].toString()}else s=!0;i=this.parseFloat(n)}s="and"===t?s&&(n===this.trueValue||!isNaN(i)):s||n===this.trueValue||!isNaN(i)}return s?this.trueValue:this.falseValue}removeTics(e){return e.length>1&&e[0]===this.tic[0]&&e[e.length-1]===this.tic[0]&&(e=this.substring(e,1,e.length-2)),e}computeValue(e){try{let t=[],n=0,i="";for(t.length=0;n<e.length;){let s="u"===e[n];if(e[n]!==this.arithMarker){if(this.isDigit(e[n])){let i=this.emptyString;for(;n<e.length&&this.isDigit(e[n]);)i+=e[n],n+=1;t.push(i)}if(e[n]===this.sheetToken){for(i=e[n],n+=1;n<e.length&&e[n]!==this.sheetToken;)i+=e[n],n+=1;n<e.length&&(i+=e[n],n+=1)}else if(this.isUpperChar(e[n])){let s=this.emptyString,l="";for(;n<e.length&&this.isUpperChar(e[n]);)s+=e[n],n+=1;for(;n<e.length&&this.isDigit(e[n]);)s+=e[n],n+=1;if(s=i+s,l=this.getParentObjectCellValue(s).toString(),"string"==typeof l&&this.getErrorStrings().indexOf(l)>-1)return l;t.push(l)}else if("q"===e[n]){let t=e.substring(n+1).indexOf(this.leftBracket),i=e.substring(n+t+1).indexOf(this.rightBracket);e=this.substring(e,n+t+2,i-1)}else if(e[n]===this.tic[0]){let i=e[n].toString();for(n+=1;n<e.length&&e[n]!==this.tic[0];)i+=e[n],n+=1;t.push(i.split(this.tic).join(this.emptyString)),n+=1}else if("%"===e[n]&&t.length>0){let e=this.parseFloat(t[0]);this.isNaN(e)||(t.pop(),t.push((e/100).toString())),n+=1}else if(0===e.substring(n).indexOf(this.trueValue))t.push(this.trueValue),n+=this.trueValue.length;else if(0===e.substring(n).indexOf(this.falseValue))t.push(this.falseValue),n+=this.falseValue.length;else if(e[n]===this.tic[0]||"|"===e[n]){let i=e[n].toString();for(n++;n<e.length&&e[n]!==this.tic[0];)i+=e[n],n+=1;t.push(i+this.tic),n+=1}else switch(e[n]){case"#":{let i=0;this.getErrorStrings().indexOf(e.substring(n))>-1?(i=-1===e.indexOf("!")||-1===e.substring(n).indexOf("!")?e.indexOf("#N/A")>-1?e.indexOf("#N/A")+4+n:e.indexOf("?")+1+n:e.indexOf("!")+1+n,t.push(this.substring(e,n,i-n))):(i=n+1,t.push(this.substring(e,n,i-n))),n=i}break;case"n":{n+=1;let i="";if(0===e.substring(n).indexOf("Infinity"))i="Infinity",n+=i.length;else for(("u"===e[n]||s)&&(i="-",s?s=!1:n+=1);n<e.length&&this.isDigit(e[n])||e[n]===this.getParseDecimalSeparator();)i+=e[n],n+=1;t.push(i)}break;case this.parser.tokenAdd:this.getValArithmetic(t,"add"),n+=1;break;case this.parser.tokenSubtract:this.getValArithmetic(t,"sub"),n+=1;break;case this.parser.tokenMultiply:this.getValArithmetic(t,"mul"),n+=1;break;case this.parser.tokenDivide:this.getValArithmetic(t,"div"),n+=1;break;case this.parser.tokenLess:this.processLogical(t,"less"),n+=1;break;case this.parser.tokenGreater:this.processLogical(t,"greater"),n+=1;break;case this.parser.tokenGreaterEq:this.processLogical(t,"greaterEq"),n+=1;break;case this.parser.tokenLessEq:this.processLogical(t,"lessEq"),n+=1;break;case this.parser.tokenNotEqual:this.processLogical(t,"notEq"),n+=1;break;case this.parser.tokenOr:this.processLogical(t,"or"),n+=1;break;case this.parser.tokenAnd:this.processLogical(t,"and"),n+=1;break;case this.parser.tokenEqual:this.processLogical(t,"equal"),n+=1;break;default:return this.getErrorStrings()[kF.value]}}else n+=1}if(0===t.length)return this.emptyString;{let n=this.emptyString,i=t.length;for(;i>0;){if(n=t.pop()+n,n===this.emptyString&&this.isCellReference(e)&&this.getTreatEmptyStringAsZero())return"0";i--}return n}}catch(t){if(this.getErrorStrings().indexOf(t)>-1||this.formulaErrorStrings.indexOf(t)>-1)throw t;throw new TF(this.formulaErrorStrings[EF.invalid_expression])}}getValArithmetic(e,t){let n=e.pop();n=n===this.emptyString?"0":n;let i=Number(n);if(isNaN(i))throw this.getErrorStrings()[kF.value];let s=e.pop();if(s=s===this.emptyString?"0":s,i=Number(s),isNaN(i))throw this.getErrorStrings()[kF.value];"add"===t&&e.push((Number(s)+Number(n)).toString()),"sub"===t&&e.push((Number(s)-Number(n)).toString()),"mul"===t&&e.push((Number(s)*Number(n)).toString()),"div"===t&&(this.isNaN(this.parseFloat(n))||this.isNaN(this.parseFloat(s))?e.push(this.getErrorStrings()[kF.value]):0===this.parseFloat(n)?e.push(this.getErrorStrings()[kF.divzero]):e.push((Number(s)/Number(n)).toString()))}processLogical(e,t){let n,i,s,l,r;return"and"!==t&&"equal"!==t&&(n=e.pop(),i=e.pop(),s=n.indexOf(this.tic)>-1?n:this.parseFloat(n),l=i.indexOf(this.tic)>-1?i:this.parseFloat(i)),"less"===t&&(r=this.isNaN(s)||this.isNaN(l)?i.toUpperCase().split(this.tic).join("").localeCompare(n.toUpperCase().split(this.tic).join(""))<0?this.trueValue:this.falseValue:l<s?this.trueValue:this.falseValue),"greater"===t&&(r=this.isNaN(s)||this.isNaN(l)?i.toUpperCase().split(this.tic).join("").localeCompare(n.toUpperCase().split(this.tic).join(""))>0?this.trueValue:this.falseValue:l>s?this.trueValue:this.falseValue),"lessEq"===t&&(r=this.isNaN(s)||this.isNaN(l)?i.toUpperCase().split(this.tic).join("").localeCompare(n.toUpperCase().split(this.tic).join(""))<=0?this.trueValue:this.falseValue:l<=s?this.trueValue:this.falseValue),"greaterEq"===t&&(r=this.isNaN(s)||this.isNaN(l)?i.toUpperCase().split(this.tic).join("").localeCompare(n.toUpperCase().split(this.tic).join(""))>=0?this.trueValue:this.falseValue:l>=s?this.trueValue:this.falseValue),"notEq"===t&&(r=i!==n?this.trueValue:this.falseValue),"and"===t&&(n=e.pop().toString(),i="",e.length>0&&(i=e.pop().toString()),r=this.emptyString+i+n+this.emptyString,r=r.split(this.tic).join("")),"equal"===t&&(n=e.pop().toString(),i=e.pop().toString(),r=n===i?this.trueValue:this.falseValue),"or"===t&&(r=Math.pow(this.parseFloat(l),this.parseFloat(s)).toString()),e.push(r),r}computeStoreCells(e){let t=e.cellValue,n=e.cellRange,i=e.criteria,s=e.argArray,l=e.isCriteria,r=e.storedCells,a=e.isCountIfS,o=e.countVal,h=l===this.trueValue?r:t,c=[];for(let d=0;d<h.length;d++){let e,h=[],u=this.getValueFromArg(t[d]),p="";if(e=s[2].split(this.tic).join(this.emptyString),l=a===this.trueValue?this.trueValue:l,l===this.trueValue){let s="",l=0,h=0;for(r[d]=a===this.trueValue&&0===o?t[d]:r[d],s=r[d];!this.isDigit(s[l]);)l+=1;if(this.isCellReference(n[o])&&n[o].indexOf(":")>-1){let e=n[o].indexOf(":");for(p=this.substring(n[o],e);!this.isDigit(p[h]);)h+=1}let c=this.substring(s,l),m=this.substring(p,h);p=r[d].split(c).join(m),u=this.getValueFromArg(p),e=a===this.trueValue?i[o].split(this.tic).join(this.emptyString):i[o-1].split(this.tic).join(this.emptyString)}let m="equal";e.startsWith("<=")?(m="lessEq",e=e.substring(2)):e.startsWith(">=")?(m="greaterEq",e=e.substring(2)):e.startsWith("<>")?(m="notEq",e=e.substring(2)):e.startsWith("<")?(m="less",e=e.substring(1)):e.startsWith(">")?(m="greater",e=e.substring(1)):e.startsWith("=")&&(m="equal",e=e.substring(1)),(e.indexOf("*")>-1||e.indexOf("?")>-1)&&(u=this.findWildCardValue(e,u)),h.push(u.toLowerCase()),h.push(e.toLowerCase()),this.processLogical(h,m)===this.trueValue&&c.push(l===this.falseValue?t[d]:p)}return r=c,c=[],r}computeIfsFormulas(e,t,n){if(UO(e)||""===e[0]||0===e.length)return this.formulaErrorStrings[EF.wrong_number_arguments];let i=e,s=i.length;if(s<2||s>127)return this.formulaErrorStrings[EF.wrong_number_arguments];let l,r,a,o=[],h=[],c=[],d=0,u=0;for(let p=0;p<i.length;p++)i[p].indexOf(":")>-1&&this.isCellReference(i[p])?o.push(i[p]):h.push(i[p]);if(o=o.toString().split(",,").join(","),o=o.split(this.getParseArgumentSeparator()),t===this.falseValue&&(r=this.falseValue,l=this.getCellCollection(o[1]),c=this.computeStoreCells({cellValue:l,cellRange:o,criteria:h,argArray:i,isCriteria:r,storedCells:c,isCountIfS:t}),d=c.length,0===d))return 0;a=t===this.trueValue?0:2;for(let p=a;p<o.length;p++)if(r=this.trueValue,r=t===this.trueValue&&0===p?this.falseValue:this.trueValue,l=this.getCellCollection(o[p]),c=this.computeStoreCells({cellValue:l,cellRange:o,criteria:h,argArray:i,isCriteria:r,storedCells:c,isCountIfS:t,countVal:p}),d=c.length,0===d)return 0;for(let p=0;p<c.length;p++){let e="",n="",i=0,s=0;for(e=c[p];!this.isDigit(e[i]);)i+=1;if(this.isCellReference(o[0])&&o[0].indexOf(":")>-1){let e=o[0].indexOf(":");for(n=this.substring(o[0],e);!this.isDigit(n[s]);)s+=1}let r=this.substring(e,i),a=this.substring(n,s);if(l=c[p].split(r).join(a),t===this.trueValue)u+=1;else{let e=this.getValueFromArg(l);u+=parseFloat(""===e?"0":e)}}return n===this.trueValue&&(u/=l.length),u}processNestedFormula(e,t,n){return this.findLastIndexOfq(e),e.split(t).join("n"+n)}isNaN(e){return"NaN"===e.toString()||"string"==typeof e}fromOADate(e){let t=new Date;return t.setTime(e*this.millisecondsOfaDay+Date.parse(this.oaDate.toString())),t}getSerialDateFromDate(e,t,n){let i=0;e<1900&&(e+=1900);let s=!1;for(;!s;){for(;t>12;)e++,t-=12;s=!0;let i=new Date(e,t,1,-1).getDate();for(;n>i;)i=new Date(e,t,1,-1).getDate(),t++,n-=i,s=!1;n<1&&(t--,i=new Date(e,t,1,-1).getDate(),n=i-n)}let l=Date.parse(e.toString()+this.getParseDateTimeSeparator()+t.toString()+this.getParseDateTimeSeparator()+n.toString());return this.isNaN(l)||(i=this.toOADate(new Date(l))),i}toOADate(e){return(e.getTime()-Date.parse(this.oaDate.toString()))/this.millisecondsOfaDay}calculateDate(e){return this.parseFloat(e)<10?"0"+e:e}isTextEmpty(e){return null===e||""===e}isDigit(e){let t=e.charCodeAt(0);return t>47&&t<58}findLastIndexOfq(e){return e.lastIndexOf("q")}getValueFromArg(e){let t=e=e.trim(),n=this.dateTime1900,i=t;if(UO(t)||this.isTextEmpty(t))return t;if(e[0]===this.tic||e[0]===this.singleTic)return n=this.isDate(e.split(this.tic).join("")),this.isNaN(this.parseFloat(e.split(this.tic).join("")))&&!UO(n)&&!this.isNaN(n.getDate())&&this.dateTime1900<=n?this.toOADate(n).toString():e;if(e=e.split("u").join("-"),!this.isUpperChar(t[0])&&(this.isDigit(t[0])||t[0]===this.getParseDecimalSeparator()||"-"===t[0]||"n"===t[0]))return"n"===t[0]&&(t=t.substring(1)),t;if(-1===this.parser.indexOfAny(t,["+","-","/","*",")",")","{"])&&this.isUpperChar(t[0])||t[0]===this.sheetToken){if(t!==this.trueValue&&t!==this.falseValue&&this.isCellReference(t)){let e=this.getSheetFamilyItem(this.grid);null!==e.sheetNameToParentObject&&e.sheetNameToParentObject.size>0&&-1===t.indexOf(this.sheetToken)&&(t=e.parentObjectToToken.get(this.grid)+t)}if(t===this.cell){let e=this.getDependentCells().get(t);throw null!=e&&e.indexOf(t)>-1&&this.arrayRemove(e,t),this.getDependentFormulaCells().has(this.cell)||this.clearFormulaDependentCells(this.cell),this.formulaErrorStrings[EF.circular_reference]+t}return i=this.getParentObjectCellValue(t),this.updateDependentCell(t),i.toString()}return this.getErrorStrings().indexOf(e)>-1?e:this.computeValue(i.toString())}isDate(e){if("object"==typeof e||null!==Date.parse(e)){let t=new Date(Date.parse(e));return t>=this.dateTime1900?t:null}return null}isValidCellReference(e){let t=0,n=0,i=[89,71,69],s=this.emptyString;if(this.namedRanges.has(e))return!1;for(let l=0;l<e.length;l++)this.isChar(e[l])&&t++;if(s=e.substring(0,t),s.length<4){for(;n<s.length;){if(UO(s[n])||!(s[n].charCodeAt(0)<i[n])){if(UO(s[n])&&n>0)break;return!1}n++}if(this.parseFloat(e.substring(t,e.length))<1048576)return!0}return!1}parseDate(e){if(!this.isNaN(e)){if(e instanceof Date)return new Date(e);let t=parseInt(e,10);return t<0?this.getErrorStrings()[kF.num]:t<=60?new Date(this.dateTime1900.getTime()+864e5*(t-1)):new Date(this.dateTime1900.getTime()+864e5*(t-2))}return"string"!=typeof e||(e=new Date(e),this.isNaN(e))?this.getErrorStrings()[kF.value]:e}isCellReference(e){if(e===this.emptyString)return!1;e=e.trim(),e=this.setTokensForSheets(e);let t=this.getSheetToken(e),n=!1;""!==t&&(e=e.split(t).join(this.emptyString));let i=!1,s=!1;if(e.indexOf(":")!==e.lastIndexOf(":"))return!1;let l=e.split("").join(this.getParseArgumentSeparator()).split(this.getParseArgumentSeparator());for(let r=0;r<l.length;r++)if(this.isChar(l[r]))i=!0;else if(this.isDigit(l[r]))s=!0;else{if(":"!==l[r])return!1;i&&s&&(n=!0),i=!1,s=!1}return e.indexOf(":")>-1&&-1===e.indexOf(this.tic)?!!(n&&i&&s)||!(!(i&&!s||!i&&s)||n):!(!i||!s||-1!==e.indexOf(this.tic))}setTokensForSheets(e){let t=this.getSheetFamilyItem(this.grid),n=this.getSortedSheetNames();if(null!=n)for(let i=0;i<n.length;i++){let s=t.sheetNameToToken.get(n[i]);s=s.split(this.sheetToken).join(this.tempSheetPlaceHolder);let l=this.singleTic+"SHEET"+n[i]+this.singleTic+this.sheetToken;-1===e.indexOf(l)&&(l="SHEET"+n[i]+this.sheetToken),e=e.split(l).join(s),l=n[i]+this.sheetToken,e=e.split(l).join(s)}return e.split(this.tempSheetPlaceHolder).join(this.sheetToken)}getParentObjectCellValue(e){if(e===this.trueValue||e===this.falseValue)return e;let t=e.lastIndexOf(this.sheetToken),n=0,i=0,s=this.grid,l=this.getSheetFamilyItem(s);if(t>-1&&null!==l.tokenToParentObject)this.grid=l.tokenToParentObject.get(e.substring(0,t+1)),n=this.rowIndex(e),i=this.colIndex(e);else if(-1===t){let t=0;for(;t<e.length&&this.isChar(e[t]);)t++;if(t===e.length)return e=e.toLowerCase(),this.getErrorStrings()[kF.name];n=this.rowIndex(e),i=this.colIndex(e),l.isSheetMember&&null!=l.parentObjectToToken&&(e=l.parentObjectToToken.get(this.grid)+e)}let r=""===this.cell||null===this.cell?"":this.cell;if(this.cell=e,r===this.cell)throw this.formulaErrorStrings[EF.circular_reference];let a=this.getParentCellValue(n,i,this.grid);return this.grid=s,this.cell=r,a}getParentCellValue(e,t,n){let i;return void 0!==this.parentObject.getValueRowCol?(i=this.parentObject.getValueRowCol(this.getSheetID(n),e,t),UO(i)?this.emptyString:i.toString()):(i=this.getValueRowCol(this.getSheetID(n),e,t),""!==i&&void 0!==i||(i=""),i)}getValueRowCol(e,t,n){let i=this.rowsToKeyMap.get(t).toString(),s=this.getKeyValue(i).toString();if(null!=s&&"%"===s[s.length-1]&&s.length>1){let e=this.parseFloat(s.substring(0,s.length-1));this.isNaN(e)&&(s=(Number(e)/100).toString())}return s}defineFunction(e,t){"string"==typeof t&&(t=HO(t,window)),e=e.toUpperCase(),this.libraryFormulas.set(e,{handler:t,isCustom:!0})}valueChanged(e,t,n){let i=e;this.grid=e;let s=!0,l=!0,r=this.getSheetFamilyItem(i),a=NF(t.getColIndex())+t.getRowIndex().toString();null!==r.sheetNameToParentObject&&r.sheetNameToParentObject.size>0&&(a=r.parentObjectToToken.get(i)+a);let o=t.getValue().toUpperCase();if(o.indexOf("=RAND()")>-1||o.indexOf("RAND()")>-1||o.indexOf("=RANDBETWEEN(")>-1||o.indexOf("RANDBETWEEN(")>-1||this.randomValues.has(a)){let e=this.randCollection.toString();this.randomValues.has(a)?this.randomValues.has(a)&&(o.indexOf("=RAND()")>-1||o.indexOf("RAND()")>-1||o.indexOf("=RANDBETWEEN(")>-1||o.indexOf("RANDBETWEEN(")>-1?this.randomValues.set(a,t.getValue()):t.getValue().toUpperCase()!==this.randomValues.get(a.toUpperCase())&&(this.randomValues.delete(a),e=e.split(a+this.parseArgumentSeparator).join("").split(this.parseArgumentSeparator+a).join("").split(a).join(""),this.randCollection=e.split(this.parseArgumentSeparator)),0===this.randomValues.size&&this.randCollection.length&&(this.isRandomVal=!1,this.randomValues.clear(),this.randCollection=[])):(this.randomValues.set(a,t.getValue()),this.randCollection.push(a),this.isRandomVal=!0)}if(t.getValue()&&t.getValue()[0]===this.getFormulaCharacter()){let e;if(this.cell=a,UO(l)||(l=n),this.getFormulaInfoTable().has(a)){if(e=this.getFormulaInfoTable().get(a),t.getValue()!==e.getFormulaText()||null==e.getParsedFormula()){e.setFormulaText(t.getValue()),this.getDependentFormulaCells().has(this.cell)&&this.clearFormulaDependentCells(this.cell);try{e.setParsedFormula(this.parser.parseFormula(t.getValue()))}catch(h){e.setFormulaValue(h),l=!1}}if(l){this.parser.isFormulaParsed=!0;let t=this.computeFormula(e.getParsedFormula());s=t!==e.getFormulaValue(),e.setFormulaValue(t)}}else{e=new PF,e.setFormulaText(t.getValue()),this.getDependentFormulaCells().has(a)||this.getDependentFormulaCells().set(a,new Map);try{e.setParsedFormula(this.parser.parseFormula(t.getValue()))}catch(h){e.setFormulaValue(h),l=!1}l&&e.setFormulaValue(this.computeFormula(e.getParsedFormula())),this.getFormulaInfoTable().has(a),this.getFormulaInfoTable().set(a,e)}l&&(void 0===this.parentObject.setValueRowCol?this.setValueRowCol(this.getSheetID(i)+1,e.getFormulaValue(),t.getRowIndex(),t.getColIndex()):this.parentObject.setValueRowCol(this.getSheetID(i)+1,e.getFormulaValue(),t.getRowIndex(),t.getColIndex()))}else this.getFormulaInfoTable().has(a)&&(this.getFormulaInfoTable().delete(a),this.getDependentFormulaCells().has(a)&&this.clearFormulaDependentCells(a));l&&s&&this.getDependentCells().has(a)&&this.getDependentCells().get(a).toString()!==a&&(this.getComputedValue().clear(),this.refresh(a))}getComputedValue(){return null===this.computedValues&&(this.computedValues=new Map),this.computedValues}setValueRowCol(e,t,n,i){}getSortedSheetNames(){let e=this.getSheetFamilyItem(this.grid);if(null!=e&&null!=e.sheetNameToToken){let t=[];e.sheetNameToToken.forEach((e,n)=>{t.push(n),t.sort()}),this.sortedSheetNames=t,this.sortedSheetNames.sort()}return this.sortedSheetNames}getErrorLine(e){let t=e.stack?e.stack.split("\n")[1].split(":"):null;return t?t[t.length-2]:null}createSheetFamilyID(){return this.sheetFamilyID===Number.MAX_SAFE_INTEGER&&(this.sheetFamilyID=Number.MIN_SAFE_INTEGER),this.sheetFamilyID++}computeMinMax(e,t){let n,i,s=0;if(UO(e)||0===e.length)return this.formulaErrorStrings[EF.wrong_number_arguments];for(let r=0,a=e.length;r<a;r++)if(e[r].split(this.tic).join("").trim()===this.emptyString)return this.getErrorStrings()[kF.value];n="max"===t?this.minValue:this.maxValue;let l=e;if(l.length>255)return this.getErrorStrings()[kF.value];for(let r=0;r<l.length;r++)if(l[r].indexOf(":")>-1&&this.isCellReference(l[r])){let e=this.getCellCollection(l[r]);for(let l=0;l<e.length;l++){if(i=this.getValueFromArg(e[l]),this.getErrorStrings().indexOf(i)>-1)return i;let r=this.parseFloat(i);""===i||this.isNaN(this.parseFloat(r))?(s+=1,s===e.length&&(n=0)):n="max"===t?Math.max(n,r):Math.min(n,r)}}else{let e;if(e=this.getValueFromArg(l[r]),this.getErrorStrings().indexOf(e)>-1)return e;let a=this.parseFloat(e);if(""===e||this.isNaN(this.parseFloat(a))){s+=1,s===i.length&&(n=0);continue}n="max"===t?Math.max(n,a):Math.min(n,a)}return n.toString()}calculateAvg(e){let t=0,n=e,i=[],s=0,l=0;for(let r=0;r<n.length;r++)if(n[r].indexOf(":")>-1&&this.isCellReference(n[r])){l=0,i=this.getCellCollection(n[r]),s=0;for(let e=0;e<i.length;e++){let t=this.getValueFromArg(i[e]);UO(t)||isNaN(this.parseFloat(t))||(s+=this.parseFloat(t),l+=1)}if(0===l)return this.getErrorStrings()[kF.divzero];s/=l,t=s+t}else{if(n[r].indexOf(this.tic)>-1&&isNaN(parseFloat(n[r].split(this.tic).join(""))))return this.getErrorStrings()[kF.value];0===n[r].length&&(n[r]="1");let e=this.getValueFromArg(n[r].split(this.tic).join(""));if(UO(e)||isNaN(this.parseFloat(e)))return this.getErrorStrings()[kF.name];t+=this.parseFloat(e)}return(t/(n.length-0)).toString()}registerGridAsSheet(e,t,n){UO(this.modelToSheetID)&&(this.modelToSheetID=new Map),UO(this.modelToSheetID.get(t))&&this.modelToSheetID.set(t,n);let i=this.getSheetFamilyItem(t);i.isSheetMember=!0;let s=e.toUpperCase();if(0===i.parentObjectToToken.size&&(i.parentObjectToToken=new Map),0===i.sheetNameToParentObject.size&&(i.sheetNameToParentObject=new Map),0===i.sheetNameToToken.size&&(i.sheetNameToToken=new Map),0===i.tokenToParentObject.size&&(i.tokenToParentObject=new Map),WO(i.sheetNameToParentObject.get(s))){let e=this.sheetToken+this.tokenCount.toString()+this.sheetToken;this.tokenCount++,i.tokenToParentObject.set(e,t),i.parentObjectToToken.set(t,e),i.sheetNameToToken.set(s,e),i.sheetNameToParentObject.set(s,t)}else{let e=i.sheetNameToToken.get(s);i.tokenToParentObject.set(e,t),i.parentObjectToToken.set(t,e)}return e}unregisterGridAsSheet(e,t){let n=this.getSheetFamilyItem(t),i=e.toUpperCase();if(null!=n.sheetNameToParentObject&&n.sheetNameToParentObject.has(i)){n.sheetNameToParentObject.delete(i);let e=n.sheetNameToToken.get(i);n.sheetNameToToken.delete(i),n.tokenToParentObject.delete(e),n.parentObjectToToken.delete(t)}}computeExpression(e){let t=this.parser.parseFormula(e);return this.computeFormula(t)}isSheetMember(){let e=this.getSheetFamilyItem(this.grid);return!UO(e)&&e.isSheetMember}dispose(){this.resetKeys(),this.namedRanges.clear(),this.lFormulas.clear()}refreshRandValues(e){let t,n,i,s,l="",r=this.randCollection.toString();this.randomValues.has(e)&&(this.randomValues.delete(e),r=r.split(e+this.parseArgumentSeparator).join("").split(this.parseArgumentSeparator+e).join("").split(e).join(""),0===this.randomValues.size&&""===r?(this.randomValues.clear(),this.randCollection=[]):this.randCollection=r.split(this.parseArgumentSeparator));for(let a=0;a<this.randomValues.size;a++)t=this.rowIndex(this.randCollection[a]),n=this.colIndex(this.randCollection[a]),l=(parseFloat(this.getSheetToken(this.randCollection[a]).split(this.sheetToken).join(""))+1).toString(),s=this.getSheetFamilyItem(l),this.grid=s.sheetNameToParentObject.get(l),i=this.randomValues.get(this.randCollection[a]),i=this.computeFormula(i),void 0===this.parentObject.setValueRowCol?this.setValueRowCol(this.getSheetID(this.grid)+1,i,t,n):this.parentObject.setValueRowCol(this.getSheetID(this.grid)+1,i,t,n)}refresh(e){if(0===this.dependencyLevel&&this.refreshedCells.clear(),this.getDependentCells().has(e)&&null!==this.getDependentCells().get(e)){let n=this.getSheetFamilyItem(this.grid);this.dependencyLevel=this.dependencyLevel+1;try{let i,s=this.getDependentCells().get(e);for(i=0;i<s.length;i++){let e=s[i],l=this.getSheetToken(e);l.length&&(this.grid=n.tokenToParentObject.get(l));try{let t,n=this.rowIndex(e),i=this.colIndex(e),s=this.getFormulaInfoTable().get(e);s&&(this.cell=e,this.getComputedValue().has(e)?t=this.getComputedValue().get(e):(this.parser.isFormulaParsed=!0,t=this.computeFormula(s.getParsedFormula()),this.computedValues.set(e,t)),s.setFormulaValue(t)),void 0===this.parentObject.setValueRowCol?this.setValueRowCol(this.getSheetID(this.grid)+1,s.getFormulaValue(),n,i):this.parentObject.setValueRowCol(this.getSheetID(this.grid)+1,s.getFormulaValue(),n,i),this.refreshedCells.has(e)||(this.refreshedCells.set(e,[]),this.refresh(e))}catch(t){continue}}}finally{this.grid=n.tokenToParentObject.get(this.getSheetToken(e)),this.dependencyLevel--,0===this.dependencyLevel&&this.refreshedCells.clear()}}}};return AF([dA(!0)],e.prototype,"includeBasicFormulas",void 0),AF([mA()],e.prototype,"onFailure",void 0),e=DF=AF([fA],e),e})();class TF{constructor(e,t){this.formulaCorrection=!1,this.message=e,this.formulaCorrection=t}}class PF{constructor(){this.calcID=Number.MIN_VALUE+1,this.calcID1=Number.MIN_VALUE+1}getFormulaText(){return this.formulaText}setFormulaText(e){this.formulaText=e}getFormulaValue(){return this.formulaValue}setFormulaValue(e){this.formulaValue=e}getParsedFormula(){return this.parsedFormula}setParsedFormula(e){this.parsedFormula=e}}class LF{constructor(){this.isSheetMember=!1,this.parentObjectToToken=new Map,this.sheetDependentCells=new Map,this.sheetDependentFormulaCells=new Map,this.sheetNameToParentObject=new Map,this.sheetNameToToken=new Map,this.tokenToParentObject=new Map,this.sheetFormulaInfotable=new Map}}function NF(e){let t=[],n=0;for(;e>0&&n<9;){e--;let i="A".charCodeAt(0);t[n]=String.fromCharCode(e%26+i),e=parseInt((e/26).toString(),10),n++}let i=[];for(let s=0;s<n;s++)i[n-s-1]=t[s];return i.join("")}class RF{constructor(e,t,n){return this.row=e,this.col=t,this.value=n,this.getRowIndex=()=>e,this.setRowIndex=t=>{e=t},this.getColIndex=()=>t,this.setColIndex=e=>{t=e},this.getValue=()=>n,this.setValue=e=>{e=e},this}}class FF{constructor(e){this.sheetInfo=[],this.parent=e,this.init()}init(){this.addEventListener(),this.initCalculate(),this.registerSheet()}destroy(){this.removeEventListener(),this.calculateInstance.dispose(),this.calculateInstance=null,this.parent=null}addEventListener(){this.parent.on(sF,this.performFormulaOperation,this),this.parent.on("aggregateComputation",this.aggregateComputation,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off(sF,this.performFormulaOperation),this.parent.off("aggregateComputation",this.aggregateComputation))}getModuleName(){return"workbookFormula"}initCalculate(){this.calculateInstance=new MF(this.parent),this.calcID=this.calculateInstance.createSheetFamilyID(),this.calculateInstance.setTreatEmptyStringAsZero(!0),this.calculateInstance.grid=this.parent.getActiveSheet().id.toString()}performFormulaOperation(e){let t=e.action,n=this.calculateInstance.getLibraryFormulas(),i=Array.from(n.values());switch(t){case"getLibraryFormulas":e.formulaCollection=Array.from(n.keys());break;case"getFormulaCategory":let t=["All"];for(let e=1;e<Array.from(n.values()).length;e++)t.indexOf(i[e].category)<0&&t.push(i[e].category);e.categoryCollection=t;break;case"dropDownSelectFormulas":for(let l=0;l<Array.from(n.values()).length;l++)e.selectCategory===i[l].category&&(e.formulaCollection[l]=Array.from(n.keys())[l]);break;case"getFormulaDescription":for(let l=0;l<Array.from(n.values()).length;l++)e.selectedList===Array.from(n.keys())[l]&&(e.description=i[l].description);break;case"registerSheet":this.registerSheet(e.sheetIndex,e.sheetCount),e.isImport&&this.updateSheetInfo();break;case"unRegisterSheet":this.unRegisterSheet(e.sheetIndex,e.sheetCount);break;case"refreshCalculate":e.value=this.autoCorrectFormula(e.value),this.refreshCalculate(e.rowIndex,e.colIndex,e.value,e.isFormula,e.sheetIndex);break;case"getArgumentSeparator":e.argumentSeparator=this.calculateInstance.getParseArgumentSeparator();break;case"addDefinedName":e.isAdded=this.addDefinedName(e.definedName);break;case"removeDefinedName":e.isRemoved=this.removeDefinedName(e.definedName,e.scope);break;case"initiateDefinedNames":this.initiateDefinedNames();break;case"renameUpdation":this.renameUpdation(e.value,e.sheetId);break;case"addSheet":this.sheetInfo.push({visibleName:e.visibleName,sheet:e.sheetName,index:e.index});break;case"getSheetInfo":e.sheetInfo=this.sheetInfo;break;case"deleteSheetTab":let s=this.sheetInfo.length;for(let n=0;n<s;n++)if(this.sheetInfo[n].index===e.index){e.sheetName=this.sheetInfo[n].sheet,this.sheetInfo.splice(n,1);break}this.sheetDeletion(e.sheetName,e.index,e.index);break;case"getReferenceError":e.refError=this.referenceError();break;case"getAlpha":e.col=NF(e.col);break;case"addCustomFunction":this.addCustomFunction(e.functionHandler,e.functionName);break;case"computeExpression":e.calcValue=this.calculateInstance.computeExpression(e.formula)}}referenceError(){return this.calculateInstance.getErrorStrings()[kF.ref]}getSheetInfo(){return this.sheetInfo}addCustomFunction(e,t){this.calculateInstance.defineFunction(t,e)}updateSheetInfo(){this.sheetInfo=[],this.parent.sheets.forEach((e,t)=>{this.sheetInfo.push({visibleName:e.name,sheet:"Sheet"+e.id,index:t})})}sheetDeletion(e,t,n){let i,s,l=this.calculateInstance.getDependentCells(),r=[],a=null,o="";l.forEach((e,t)=>{r.push(t)}),this.removeSheetTokenIndex(o,n);for(let h=0;h<r.length;h++){let n=this.calculateInstance.getDependentCells().get(r[h]);for(let l=0;l<n.length;l++)a=this.calculateInstance.getFormulaInfoTable().get(n[l]),t=vH(0,"Sheet"+(parseInt(n[l].split("!")[1],10)+1),this.sheetInfo),!UO(a)&&t>-1&&(o=a.formulaText,o.toUpperCase().indexOf(e.toUpperCase())>-1&&(o=o.toUpperCase().split(e.toUpperCase()+this.calculateInstance.sheetToken).join(this.referenceError()),i=this.calculateInstance.rowIndex(n[l]),s=this.calculateInstance.colIndex(n[l]),this.updateDataContainer([i-1,s-1],{value:o,sheetId:t,visible:!1}),this.calculateInstance.refresh(a.getParsedFormula())))}}removeSheetTokenIndex(e,t){return this.calculateInstance.getSheetFamilyItem(this.calculateInstance.grid).sheetNameToToken.delete(t.toString()),e}renameUpdation(e,t){let n,i,s,l,r=this.calculateInstance.getDependentCells(),a=[],o="",h=[],c=!1;r.forEach((e,t)=>{a.push(t)});for(let u=0;u<this.sheetInfo.length;u++)if(this.sheetInfo[u].index===t){this.sheetInfo[u].visibleName=e;break}let d=this.sheetInfo;for(let u=0;u<a.length;u++){let e=this.calculateInstance.getDependentCells().get(a[u]);for(let t=0;t<e.length;t++){n=this.calculateInstance.getFormulaInfoTable().get(e[t]),o=n.formulaText;for(let e=0;e<d.length;e++)if(d[e].visibleName!==d[e].sheet){let t=d[e].sheet.toUpperCase();o.toUpperCase().indexOf(t)>-1&&(o=o.toUpperCase().split(t).join(e+"/"),h.push(e),c=!0)}if(c){for(let e=0;e<h.length;e++)o=o.split(h[e].toString()+"/").join(d[h[e]].visibleName);i=this.calculateInstance.rowIndex(e[t]),s=this.calculateInstance.colIndex(e[t]),l=vH(0,"Sheet"+(parseInt(e[t].split("!")[1],10)+1),this.sheetInfo),this.updateDataContainer([i-1,s-1],{value:o,sheetId:l,visible:!0})}}}}updateDataContainer(e,t){let n,i,s,l=e[0],r=e[1],a=this.parent.sheets.length;for(let o=0;o<a;o++)if(this.parent.sheets[o].id===t.sheetId){n=this.parent.sheets[o].rows;break}UO(t)||(l in n?(i=n[l],r in i.cells?(s=i.cells[r],s.formula=t.value,s.value=t.visible?s.value:this.referenceError()):i.cells[r]=s={}):(i=n[l]={},i[r]=s={}))}parseSheetRef(e){let t,n=new RegExp("[!@#$%^&()+=';,.{}|\":<>~_-]","g"),i=0,s=this.parent.sheets.length,l=[];l.length=0;let r=this.getSheetInfo(),a='(?=[\'!])(?=[^"]*(?:"[^"]*"[^"]*)*$)';for(i=0;i<s;i++)r[i].sheet!==r[i].visibleName&&(t=new RegExp(r[i].visibleName.replace(n,"\\$&")+a,"gi"),e.match(t)&&(e=e.replace(t,i+"/"),l.push(i)));for(i=0;i<l.length;)t=new RegExp(l[i]+"/"+a,"gi"),e=e.replace(t,r[l[i]].sheet),i++;return e}registerSheet(e=0,t=this.parent.sheets.length){let n;for(;e<t;)n=wH(this.parent,e).id+"",this.calculateInstance.registerGridAsSheet(n,n,this.calcID),e++}unRegisterSheet(e=0,t=this.parent.sheets.length){let n;for(this.calculateInstance.tokenCount=0;e<t;)n=wH(this.parent,e).id+"",this.calculateInstance.unregisterGridAsSheet(n,n),e++}refreshCalculate(e,t,n,i,s){s||(s=this.parent.activeSheetIndex);let l=wH(this.parent,s).id+"";if(i){n=this.parseSheetRef(n);let i=new RF(e+1,t+1,n);this.calculateInstance.valueChanged(l,i,!0);let s=this.calculateInstance.randCollection;if(!0===this.calculateInstance.isRandomVal){let e,t,n="";if(this.calculateInstance.randomValues.size>1&&this.calculateInstance.randomValues.size===s.length)for(let i=0;i<this.calculateInstance.randomValues.size;i++){e=this.calculateInstance.rowIndex(s[i]),t=this.calculateInstance.colIndex(s[i]),n=this.calculateInstance.randomValues.get(s[i]),l=(parseFloat(this.calculateInstance.getSheetToken(s[i]).split(this.calculateInstance.sheetToken).join(""))+1).toString();let r=new RF(e,t,n);this.calculateInstance.valueChanged(l,r,!0)}}}else{let n=this.calculateInstance.getSheetFamilyItem(l),i=$R(t+1)+(e+1);n.isSheetMember&&!UO(n.parentObjectToToken)&&(i=n.parentObjectToToken.get(l)+i),this.calculateInstance.getFormulaInfoTable().has(i)&&(this.calculateInstance.getFormulaInfoTable().delete(i),this.calculateInstance.getDependentCells().has(i)&&this.calculateInstance.clearFormulaDependentCells(i)),this.calculateInstance.getComputedValue().clear(),this.calculateInstance.refresh(i),this.calculateInstance.refreshRandValues(i)}}autoCorrectFormula(e){return UO(e)||2===(e=e.toString()).split("(").length&&e.indexOf(")")<0&&(e+=")"),e}initiateDefinedNames(){let e=this.parent.definedNames,t=e.length,n=0;for(;n<t;)this.addDefinedName(e[n],!0),n++}addDefinedName(e,t){let n,i=!0,s=e.name;if(e.refersTo.indexOf("!")<0){let t=SH(this.parent);t=-1!==t.indexOf(" ")?"'"+t+"'":t,e.refersTo=t+"!"+(e.refersTo.indexOf("=")<0?e.refersTo:e.refersTo.split("=")[1])}let l=e.refersTo,r=this.parseSheetRef(e.refersTo);return e.scope?(n=fH(this.parent,e.scope),n>-1&&(s=SH(this.parent,n+1)+"!"+s)):e.scope="",e.comment||(e.comment=""),!t&&this.checkIsNameExist(e.name,e.scope)?i=!1:(this.calculateInstance.addNamedRange(s,"="===r[0]?r.substr(1):r),"="!==r[0]&&(e.refersTo="="+l),this.parent.definedNames.indexOf(e)<0&&this.parent.definedNames.push(e)),i}removeDefinedName(e,t){let n=!1,i=this.getIndexFromNameColl(e,t);if(i>-1){let s=e;if(t){let n=fH(this.parent,t);n&&(s=SH(this.parent,n)+"!"+e)}this.calculateInstance.removeNamedRange(s),this.parent.definedNames.splice(i,1),n=!0}return n}checkIsNameExist(e,t){return this.parent.definedNames.some(n=>n.name===e&&(t?n.scope===t:""===n.scope))}getIndexFromNameColl(e,t=""){let n=-1;return this.parent.definedNames.filter((i,s)=>{i.name===e&&i.scope===t&&(n=s)}),n}toFixed(e){let t=Number(e);return Math.round(t)!==t&&(e=t.toFixed(2)),e}aggregateComputation(e){let t=this.parent.getActiveSheet(),n=t.selectedRange,i=zR(n.split(":")[1]);i[0]+1===t.rowCount&&i[1]+1===t.colCount&&(n=`A1:${WR(t.usedRange.rowIndex,t.usedRange.colIndex)}`),e.Count=this.calculateInstance.getFunction("COUNTA")(n),e.Count&&!e.countOnly&&(e.Sum=this.toFixed(this.calculateInstance.getFunction("SUM")(n)),e.Avg=this.toFixed(this.calculateInstance.getFunction("AVERAGE")(n)),e.Min=this.toFixed(this.calculateInstance.getFunction("MIN")(n)),e.Max=this.toFixed(this.calculateInstance.getFunction("MAX")(n)))}}class HF{constructor(e){this.parent=e,this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("initiateSort",this.initiateSortHandler,this)}removeEventListener(){this.parent.isDestroyed||this.parent.off("initiateSort",this.initiateSortHandler)}initiateSortHandler(e){let t=e.args,n=new yM,i=this.parent.getActiveSheet(),s=KR(GR(t.range)),l=t.sortOptions||{sortDescriptors:{},containsHeader:!0},r=!1;if(e.promise=n.promise,s[0]>i.usedRange.rowIndex||s[1]>i.usedRange.colIndex)return void n.reject(this.parent.serviceLocator.getService(eH).getConstant("SortOutOfRangeError"));let a=l.containsHeader;s[0]===s[2]&&s[2]-s[0]==0&&(s[0]=0,s[1]=0,s[2]=i.usedRange.rowIndex,s[3]=i.usedRange.colIndex,r=!0,a=!!UO(l.containsHeader)||l.containsHeader),!UO(t.sortOptions)&&!UO(t.sortOptions.containsHeader)||r||UO(oH(s[0],s[1],i))||UO(oH(s[0]+1,s[1],i))||(a=typeof oH(s[0],s[1],i).value!=typeof oH(s[0]+1,s[1],i).value);let o,h,c=s[0]=a?s[0]+1:s[0],d=$R(qR(i.activeCell)[1]+1),u=l.sortDescriptors,p=YR(s);uH(this.parent,`${i.name}!${p}`,!0).then(e=>{let r=new vM(e),a=new hM;if(Array.isArray(u)){u&&0!==u.length||(u=[{field:d}]);for(let e=u.length,t=e-1;t>-1;t--){if(u[e-1].field||(u[e-1].field=d),!u[t].field)continue;let n=u[t].sortComparer||this.sortComparer.bind(this,u[t],l.caseSensitive);a.sortBy(u[t].field,n)}}else{u||(u={field:d}),u.field||(u.field=d);let e=u.sortComparer||this.sortComparer.bind(this,u,l.caseSensitive);a.sortBy(u.field,e)}r.executeQuery(a).then(l=>{let r,a={};Array.prototype.forEach.call(l.result,(t,n)=>{if(t)for(o=s[1],h=s[3],c=parseInt(e[n].__rowIndex,10)-1;o<=h;o++)r=$R(o+1),a=t[r],hH(c,o,i,a)}),n.resolve({range:`${i.name}!${p}`,sortOptions:t.sortOptions})})})}sortComparer(e,t,n,i){let s=e.order||"",l=dM.fnSort(s);if(n&&i&&"string"==typeof n.value){let e=new Intl.Collator(this.parent.locale,{sensitivity:t?"case":"base"});return s&&"ascending"!==s.toLowerCase()?-1*e.compare(n.value,i.value):e.compare(n.value,i.value)}return l(n?n.value:n,i?i.value:i)}getModuleName(){return"workbookSort"}}class BF{constructor(e){this.parent=e,this.addEventListener()}destroy(){this.removeEventListener(),this.filterRange=null,this.parent=null}addEventListener(){this.parent.on("initiateFilter",this.initiateFilterHandler,this),this.parent.on("clearAllFilter",this.clearAllFilterHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("initiateFilter",this.initiateFilterHandler),this.parent.off("clearAllFilter",this.clearAllFilterHandler))}initiateFilterHandler(e){let t=e.args,n=new yM,i=this.parent.getActiveSheet(),s=t.filterOptions||{};if(e.promise=n.promise,this.filterRange=t.range,s.datasource)this.setFilter(s.datasource,s.predicates),n.resolve({range:t.range,filterOptions:s});else{let e=KR(GR(t.range));if(e[0]>i.usedRange.rowIndex||e[1]>i.usedRange.colIndex)return void n.reject("Select a cell or range inside the used range and try again.");e[0]===e[2]&&e[2]-e[0]==0&&(e[0]=0,e[1]=0,e[3]=i.usedRange.colIndex),e[2]=i.usedRange.rowIndex,e[0]=e[0]+1;let l=YR(e);uH(this.parent,`${i.name}!${l}`,!0,!0).then(e=>{let t=new vM(e);this.setFilter(t,s.predicates),n.resolve({range:l,filterOptions:s})})}}setFilter(e,t){if(e&&t){let n=e.dataSource.json,i=new hM;t.length&&i.where(cM.and(t));let s=e.executeLocal(i),l="__rowIndex";n.forEach((e,t)=>{e&&this.parent.hideRow(parseInt(e[l],10)-1,void 0,s.indexOf(e)<0)})}}clearAllFilterHandler(){if(this.filterRange){let e=qR(this.filterRange),t=this.parent.getActiveSheet();this.parent.hideRow(e[0],t.usedRange.rowIndex-1,!1)}}getModuleName(){return"workbookFilter"}}class VF{constructor(e){this.parent=e,this.addEventListener()}format(e){let t,n,i=e.range;i&&"string"==typeof i&&i.indexOf("!")>-1?(i=i.split("!")[1],t=this.parent.sheets[fH(this.parent,e.range.split("!")[0])]):t=this.parent.getActiveSheet(),void 0===i&&(i=t.selectedRange);let s="object"!=typeof i&&e.onActionUpdate;if(n={range:i,style:e.style,requestType:"CellFormat"},s&&(this.parent.trigger("beforeCellFormat",n),this.parent.notify("actionBegin",{eventArgs:n,action:"format"}),n.cancel))return void(e.cancel=!0);let l,r,a="object"==typeof n.range?n.range:KR(zR(n.range));if(e.borderType&&(this.setTypedBorder(t,e.style.border,a,e.borderType,e.onActionUpdate),delete e.style.border),void 0!==n.style.borderTop){for(let i=a[1];i<=a[3];i++)this.checkAdjustantBorder(t,"borderBottom",a[0]-1,i),this.checkFullBorder(t,"borderBottom",a[0]-1,i),this.checkFullBorder(t,"borderTop",a[0],i),this.setCellBorder(t,{borderTop:n.style.borderTop},a[0],i,e.onActionUpdate,i===a[3]);delete n.style.borderTop}if(void 0!==n.style.borderBottom){for(let i=a[1];i<=a[3];i++)this.checkAdjustantBorder(t,"borderTop",a[2]+1,i),this.checkFullBorder(t,"borderTop",a[2]+1,i),this.checkFullBorder(t,"borderBottom",a[2],i),this.setCellBorder(t,{borderBottom:n.style.borderBottom},a[2],i,e.onActionUpdate,i===a[3]),this.setBottomBorderPriority(t,a[2],i);delete n.style.borderBottom}if(void 0!==n.style.borderLeft){for(let i=a[0];i<=a[2];i++)this.checkAdjustantBorder(t,"borderRight",i,a[1]-1),this.checkFullBorder(t,"borderRight",i,a[1]-1),this.checkFullBorder(t,"borderLeft",i,a[1]),this.setCellBorder(t,{borderLeft:n.style.borderLeft},i,a[1],e.onActionUpdate);delete n.style.borderLeft}if(void 0!==n.style.borderRight){for(let i=a[0];i<=a[2];i++)this.checkAdjustantBorder(t,"borderLeft",i,a[3]-1),this.checkFullBorder(t,"borderLeft",i,a[3]-1),this.checkFullBorder(t,"borderRight",i,a[3]),this.setCellBorder(t,{borderRight:n.style.borderRight},i,a[3],e.onActionUpdate);delete n.style.borderRight}if(Object.keys(e.style).length)for(let o=a[0];o<=a[2];o++)for(let i=a[1];i<=a[3];i++)void 0===r&&(void 0!==n.style.border?(l=n.style.border,n.style.border=void 0,r=!0):r=!1),r&&this.setFullBorder(t,l,a,o,i,e.onActionUpdate),this.setCellStyle(t,o,i,n.style),this.parent.getActiveSheet().id===t.id&&this.parent.notify("applyCellFormat",{style:n.style,rowIdx:o,colIdx:i,lastCell:i===a[3],isHeightCheckNeeded:!0,manualUpdate:!0,onActionUpdate:e.onActionUpdate});r&&(n.style.border=l),this.parent.setUsedRange(a[2],a[3]),e.refreshRibbon&&this.parent.notify("activeCellChanged",null),s&&(n.range=`${t.name}!${i}`,this.parent.notify("actionComplete",{eventArgs:n,action:"format"}))}setBottomBorderPriority(e,t,n){if(sH(e,t+1)){let i=this.skipHiddenRows(e,t+1);""!==this.parent.getCellStyleValue(["borderTop"],[i,n]).borderTop&&(e.rows[t].cells[n].style.bottomPriority=!0)}}setFullBorder(e,t,n,i,s,l){let r={};i===n[0]&&(this.checkAdjustantBorder(e,"borderBottom",i-1,s),this.checkFullBorder(e,"borderBottom",i-1,s)),s===n[1]&&(this.checkAdjustantBorder(e,"borderRight",i,s-1),this.checkFullBorder(e,"borderRight",i,s-1)),s===n[3]?(this.checkAdjustantBorder(e,"borderLeft",i,s+1),this.checkFullBorder(e,"borderLeft",i,s+1)):this.checkAdjustantBorder(e,"border",i,s+1),r.borderRight=t,r.borderTop=t,r.borderLeft=t,r.borderBottom=t,this.setCellBorder(e,r,i,s,l,s===n[3]),i===n[2]?(this.checkAdjustantBorder(e,"borderTop",i+1,s),this.checkFullBorder(e,"borderTop",i+1,s),this.setBottomBorderPriority(e,i,s)):this.checkAdjustantBorder(e,"border",i+1,s)}checkAdjustantBorder(e,t,n,i){let s={};""!==this.parent.getCellStyleValue([t],[n,i])[t]&&(s[t]=void 0,this.setCellStyle(e,n,i,s))}checkFullBorder(e,t,n,i){let s=this.parent.getCellStyleValue(["border"],[n,i]).border;if(""!==s){let l={border:void 0};["borderBottom","borderTop","borderLeft","borderRight"].forEach(e=>{e!==t&&(l[e]=s)}),this.setCellStyle(e,n,i,l)}}textDecorationActionUpdate(e){let t=this.parent.getActiveSheet(),n={range:t.selectedRange,style:e.style,requestType:"CellFormat"};if(this.parent.trigger("beforeCellFormat",n),this.parent.notify("actionBegin",{eventArgs:n,action:"format"}),n.cancel)return void(e.cancel=!0);let i,s=KR(zR(t.selectedRange)),l=e.style.textDecoration,r=l,a=zR(t.activeCell),o=this.parent.getCellStyleValue(["textDecoration"],a).textDecoration,h=!1;"underline"===o?r="underline"===l?"none":"underline line-through":"line-through"===o?r="line-through"===l?"none":"underline line-through":"underline line-through"===o&&(r="underline"===l?"line-through":"underline",h=!0),"none"===r&&(h=!0),this.format({style:{textDecoration:r},range:a,refreshRibbon:e.refreshRibbon,onActionUpdate:!0});for(let c=s[0];c<=s[2];c++)for(let t=s[1];t<=s[3];t++)if(c!==a[0]||t!==a[1]){if(i={},o=this.parent.getCellStyleValue(["textDecoration"],[c,t]).textDecoration,"none"===o){if(h)continue;i.textDecoration=l}else if("underline"===o||"line-through"===o)if(h){if(l!==o)continue;i.textDecoration="none"}else i.textDecoration=l!==o?"underline line-through":l;else if("underline line-through"===o){if(!h)continue;i.textDecoration="underline"===l?"line-through":"underline"}this.format({style:i,range:[c,t,c,t],refreshRibbon:e.refreshRibbon,onActionUpdate:!0})}n.range=t.name+"!"+n.range,this.parent.notify("actionComplete",{eventArgs:n,action:"format"})}setTypedBorder(e,t,n,i,s){let l;if("Outer"===i){for(let i=n[1];i<=n[3];i++)this.checkAdjustantBorder(e,"borderBottom",n[0]-1,i),this.checkFullBorder(e,"borderBottom",n[0]-1,i),this.setCellBorder(e,{borderTop:t},n[0],i,s,i===n[3]),this.checkAdjustantBorder(e,"borderTop",n[2]+1,i),this.checkFullBorder(e,"borderTop",n[2]+1,i),this.setCellBorder(e,{borderBottom:t},n[2],i,s,i===n[3]),this.setBottomBorderPriority(e,n[2],i);for(let i=n[0];i<=n[2];i++)this.checkAdjustantBorder(e,"borderRight",i,n[1]-1),this.checkFullBorder(e,"borderRight",i,n[1]-1),this.setCellBorder(e,{borderLeft:t},i,n[1],s),this.checkAdjustantBorder(e,"borderLeft",i,n[3]+1),this.checkFullBorder(e,"borderLeft",i,n[3]+1),this.setCellBorder(e,{borderRight:t},i,n[3],s)}else if("Inner"===i)for(let r=n[0];r<=n[2];r++)for(let i=n[1];i<=n[3];i++){let a={};l=this.parent.getCellStyleValue(["border"],[r,i]).border,""!==l&&(a.border=void 0,i!==n[3]&&i!==n[1]&&r!==n[0]&&r!==n[2]||(r===n[0]&&(a.borderTop=l),r===n[2]&&(a.borderBottom=l),i===n[3]&&(a.borderRight=l),i===n[1]&&(a.borderLeft=l))),i!==n[3]&&(a.borderRight=t),r!==n[0]&&(a.borderTop=t),r!==n[2]&&(a.borderBottom=t),i!==n[1]&&(a.borderLeft=t),this.setCellBorder(e,a,r,i,s,i===n[3])}else if("Vertical"===i)for(let r=n[0];r<=n[2];r++)for(let i=n[1];i<=n[3];i++){let l={borderRight:t,borderLeft:t};i===n[1]&&(this.checkAdjustantBorder(e,"borderRight",r,i-1),this.checkFullBorder(e,"borderRight",r,i-1)),i===n[3]&&(this.checkAdjustantBorder(e,"borderLeft",r,i+1),this.checkFullBorder(e,"borderLeft",r,i+1)),this.setCellBorder(e,l,r,i,s)}else for(let r=n[0];r<=n[2];r++)for(let i=n[1];i<=n[3];i++){let l={borderTop:t,borderBottom:t};r===n[0]&&(this.checkAdjustantBorder(e,"borderBottom",r-1,i),this.checkFullBorder(e,"borderBottom",r-1,i)),this.setCellBorder(e,l,r,i,s,i===n[3]),r===n[2]&&(this.checkAdjustantBorder(e,"borderTop",r+1,i),this.checkFullBorder(e,"borderTop",r+1,i),this.setBottomBorderPriority(e,r,i))}}setCellBorder(e,t,n,i,s,l){this.setCellStyle(e,n,i,t),this.parent.getActiveSheet().id===e.id&&this.parent.notify("applyCellFormat",{style:t,rowIdx:n,colIdx:i,onActionUpdate:s,first:"",lastCell:l,isHeightCheckNeeded:!0,manualUpdate:!0})}setCellStyle(e,t,n,i){e.rows[t]?e.rows[t].cells||(e.rows[t].cells=[]):e.rows[t]={cells:[]},e.rows[t].cells[n]||(e.rows[t].cells[n]={}),e.rows[t].cells[n].style||(e.rows[t].cells[n].style={}),Object.assign(e.rows[t].cells[n].style,i,null,!0)}skipHiddenRows(e,t){return sH(e,++t)&&(t=this.skipHiddenRows(e,t)),t}addEventListener(){this.parent.on(iF,this.format,this),this.parent.on("textDecorationUpdate",this.textDecorationActionUpdate,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off(iF,this.format),this.parent.off("textDecorationUpdate",this.textDecorationActionUpdate))}destroy(){this.removeEventListener(),this.parent=null}getModuleName(){return"workbookcellformat"}}class jF{constructor(e){this.parent=e,this.localeObj=kI(this.parent.locale),this.decimalSep=this.localeObj.decimal,this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("workbookEditOperation",this.performEditOperation,this)}removeEventListener(){this.parent.isDestroyed||this.parent.off("workbookEditOperation",this.performEditOperation)}getModuleName(){return"workbookEdit"}performEditOperation(e){switch(e.action){case"updateCellValue":this.updateCellValue(e.address,e.value,e.sheetIndex,e.isValueOnly)}}checkDecimalPoint(e){if(Number(e)){let t=e.toString().indexOf(this.decimalSep)+1,n=e.toString().substr(t).length<=6;e=n?t<7?e:parseFloat(e).toFixed(0):t>7?parseFloat(e).toFixed(0):parseFloat(e).toFixed(6-t+2)}return e}updateCellValue(e,t,n,i=!1){let s;n||(n=this.parent.activeSheetIndex),s="string"==typeof e?zR(e):e;let l=wH(this.parent,n);l.rows[s[0]]||(l.rows[s[0]]={},l.rows[s[0]].cells=[]),l.rows[s[0]].cells[s[1]]||(l.rows[s[0]].cells[s[1]]={});let r=oH(s[0],s[1],l);if(i)t.toString().indexOf(this.decimalSep)>-1&&(t=this.checkDecimalPoint(t)),r.value=t;else{let e=QF(t);e||(r.formula="",r.value=t);let i={action:"refreshCalculate",value:t,rowIndex:s[0],colIndex:s[1],sheetIndex:n,isFormula:e};this.parent.notify(sF,i),e&&(r.formula=i.value,t=r.value);let l={value:t,rowIndex:s[0],colIndex:s[1],sheetIndex:n,updatedVal:""};this.parent.notify("checkDateFormat",l),!UO(l.updatedVal)&&l.updatedVal.length>0&&(r.value=l.updatedVal)}this.parent.setUsedRange(s[0]+1,s[1])}}class zF{constructor(e){this.parent=e,this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("setLinkModel",this.setLinkHandler,this)}removeEventListener(){this.parent.isDestroyed||this.parent.off("setLinkModel",this.setLinkHandler)}setLinkHandler(e){let t,n,i,s,l=e.hyperlink,r=e.cell,a=this.parent.getActiveSheet();if(r&&-1!==r.indexOf("!")){t=r.split("!");let e=this.parent.sheets;for(let i=0;i<e.length;i++)e[i].name===t[0]&&(n=i);a=this.parent.sheets[n],r=t[1]}r=r||this.parent.getActiveSheet().activeCell,i=zR(r);let o=i[0],h=i[1];a&&(UO(a.rows[o])&&(a.rows[o]={}),UO(a.rows[o].cells)&&(a.rows[o].cells=[]),UO(a.rows[o].cells[h])&&(a.rows[o].cells[h]={}),"string"==typeof l?(0!==l.indexOf("http://")&&0!==l.indexOf("https://")&&0!==l.indexOf("ftp://")&&(l=0===l.indexOf("www.")?"http://"+l:l,s=l),a.rows[o].cells[h].hyperlink=l):(s=l.address,0!==s.indexOf("http://")&&0!==s.indexOf("https://")&&0!==s.indexOf("ftp://")&&(s=0===s.indexOf("www.")?"http://"+s:s),a.rows[o].cells[h].hyperlink={address:s}))}getModuleName(){return"workbookHyperlink"}}class qF{constructor(e){this.parent=e,this.addEventListener()}insert(e){if("Sheet"===e.modelType||UO(e.sheet)||e.sheet===this.parent.activeSheetIndex)this.insertModel(e);else{e.model=e.model;for(let t=0;t<e.model.ranges.length;t++)if(e.model.ranges[t].dataSource){let t={sheet:e.model,indexes:[0,0,1048576,16384],promise:new Promise((e,t)=>{e(void 0)})};return this.parent.notify("updateSheetFromDataSource",t),void t.promise.then(()=>{e.model=this.parent.sheets[e.sheet],this.insertModel(e),t.skipModelUpdate=!0})}this.insertModel(e)}}insertModel(e){let t,n,i=[];if("number"==typeof e.start){t=e.start,e.end=e.end||t,t>e.end&&(t=e.end,e.end=e.start);for(let n=t;n<=e.end;n++)i.push({})}else e.start?(t=e.start[0].index||0,i=e.start,delete e.start[0].index):(t=0,i.push({}));if("Row"===e.modelType){let n;e.model=e.model,e.model.rows||(e.model.rows=[]),t&&!e.model.rows[t-1]&&(e.model.rows[t-1]={}),e.model.rows.splice(t,0,...i),e.model.ranges.forEach(e=>{n=qR(e.startCell),t<=n[0]&&(n[0]+=i.length,e.startCell=WR(n[0],n[1]))}),this.parent.setUsedRange(t>e.model.usedRange.rowIndex?t+(i.length-1):e.model.usedRange.rowIndex+i.length,e.model.usedRange.colIndex,e.sheet);let s=t+i.length;for(let t=0;t<=e.model.usedRange.colIndex;t++)e.model.rows[s]&&e.model.rows[s].cells&&e.model.rows[s].cells[t]&&void 0!==e.model.rows[s].cells[t].rowSpan&&e.model.rows[s].cells[t].rowSpan<0&&void 0===e.model.rows[s].cells[t].colSpan&&this.parent.notify("insertMerge",{range:[s,t,s,t],insertCount:i.length,insertModel:"Row"})}else if("Column"===e.modelType){let s;e.model=e.model,e.model.columns||(e.model.columns=[]),t&&!e.model.columns[t-1]&&(e.model.columns[t-1]={}),e.model.columns.splice(t,0,...i),e.model.ranges.forEach(e=>{s=qR(e.startCell),t<=s[1]&&(s[1]+=i.length,e.startCell=WR(s[0],s[1]))}),this.parent.setUsedRange(e.model.usedRange.rowIndex,t>e.model.usedRange.colIndex?t+(i.length-1):e.model.usedRange.colIndex+i.length,e.sheet),e.model.rows||(e.model.rows=[]),e.columnCellsModel||(e.columnCellsModel=[]),n=[];for(let l=0;l<=e.model.usedRange.rowIndex;l++){e.model.rows[l]?e.model.rows[l].cells||(e.model.rows[l].cells=[]):e.model.rows[l]={cells:[]},t&&!e.model.rows[l].cells[t-1]&&(e.model.rows[l].cells[t-1]={}),e.model.rows[l].cells.splice(t,0,...e.columnCellsModel[l]&&e.columnCellsModel[l].cells?e.columnCellsModel[l].cells:this.getEmptyModel(i.length));let s=t+i.length;e.model.rows[l].cells[s]&&void 0!==e.model.rows[l].cells[s].colSpan&&e.model.rows[l].cells[s].colSpan<0&&void 0===e.model.rows[l].cells[s].rowSpan&&n.push({range:[l,s,l,s],insertCount:i.length,insertModel:"Column"})}n.forEach(e=>{this.parent.notify("insertMerge",e)})}else{if(void 0!==e.checkCount&&e.checkCount===this.parent.sheets.length)return;let n;this.parent.createSheet(t,i),e.activeSheetIndex&&this.parent.setProperties({activeSheetIndex:e.activeSheetIndex},!0),i.forEach(e=>{n=e.id,this.parent.notify(sF,{action:"addSheet",visibleName:e.name,sheetName:"Sheet"+n,index:n})})}this.parent.notify("insert",{model:i,index:t,modelType:e.modelType,isAction:e.isAction,activeSheetIndex:e.activeSheetIndex,sheetCount:this.parent.sheets.length})}getEmptyModel(e){let t=[];for(let n=0;n<e;n++)t.push({});return t}setInsertInfo(e,t,n,i,s="Row"){let l=n=t+(n-1);e.ranges.forEach(e=>{e.info&&t<e.info[i]&&(e.info[`insert${s}Range`]?e.info[`insert${s}Range`].push([t,l]):e.info[`insert${s}Range`]=[[t,l]],e.info[i]+=l-t+1)})}addEventListener(){this.parent.on("insertModel",this.insert,this)}destroy(){this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.isDestroyed||this.parent.off("insertModel",this.insert)}getModuleName(){return"workbookinsert"}}class UF{constructor(e){this.parent=e,this.addEventListener()}delete(e){if(UO(e.sheet)||"Sheet"===e.modelType||e.sheet===this.parent.activeSheetIndex)this.deleteModel(e);else{e.model=e.model;for(let t=0,n=e.model.ranges.length;t<n;t++)if(e.model.ranges[t].dataSource){let t={promise:new Promise((e,t)=>{e(void 0)}),sheet:e.model,indexes:[0,0,1048576,16384]};return this.parent.notify("updateSheetFromDataSource",t),void t.promise.then(()=>{e.model=this.parent.sheets[e.sheet],this.deleteModel(e),t.skipModelUpdate=!0})}this.deleteModel(e)}}deleteModel(e){let t,n=`${e.modelType.toLowerCase()}s`;if(e.start=e.start,e.start>e.end){let t=e.start;e.start=e.end,e.end=t}let i=[],s=e.end-e.start+1;if("Row"===e.modelType){if(e.model=e.model,e.start>e.model.usedRange.rowIndex)return;e.end>e.model.usedRange.rowIndex&&(e.end-=e.end-e.model.usedRange.rowIndex),e.model.usedRange.rowIndex-=e.end-e.start+1,e.model.usedRange.rowIndex<0&&(e.model.usedRange.rowIndex=0),this.parent.notify("updateUsedRange",{index:e.model.usedRange.rowIndex,update:"row"});let t,n,l=e.end+1;if(e.model.rows[e.start]&&e.model.rows[e.start].cells)for(let r=0;r<=e.model.usedRange.colIndex;r++){if(e.model.rows[e.start].cells[r]&&void 0!==e.model.rows[e.start].cells[r].rowSpan&&e.model.rows[e.start].cells[r].rowSpan<0&&void 0===e.model.rows[e.start].cells[r].colSpan&&(n={range:[e.start,r,e.start,r]},this.parent.notify("activeCellMergedRange",n),n.range=n.range,n.range[2]<=e.end)){let t=oH(n.range[0],r,e.model);t&&t.rowSpan>1&&(t.rowSpan-(n.range[2]-e.start+1)>1?hH(n.range[0],r,e.model,{colSpan:t.rowSpan-(n.range[2]-e.start+1)},!0):delete e.model.rows[n.range[0]].cells[r].rowSpan),n=null}if(e.model.rows[l]&&e.model.rows[l].cells[r]&&void 0!==e.model.rows[l].cells[r].rowSpan&&e.model.rows[l].cells[r].rowSpan<0&&void 0===e.model.rows[l].cells[r].colSpan&&(n||(n={range:[l,r,l,r]},this.parent.notify("activeCellMergedRange",n)),t=new Object,n.range=n.range,Object.assign(t,oH(n.range[0],n.range[1],e.model)),t&&t.rowSpan&&(t.rowSpan>1||t.colSpan>1))){let l=[];l[1]=r,l[3]=t.colSpan>1?r+(t.colSpan-1):r,n.range=n.range,n.range[0]<e.start?(l[0]=l[2]=n.range[0],t.rowSpan-s>1&&(l[2]+=t.rowSpan-s-1)):(l[0]=l[2]=e.start,t.rowSpan-(e.end-n.range[0]+1)>1&&(l[2]+=t.rowSpan-(e.end-n.range[0]+1)-1)),i.push({range:l,isAction:!1,preventRefresh:!0,merge:!0,type:"All",skipChecking:!0})}n=null}}else if("Column"===e.modelType){if(e.model=e.model,e.start>e.model.usedRange.colIndex)return;e.end>e.model.usedRange.colIndex&&(e.end-=e.end-e.model.usedRange.colIndex),e.model.usedRange.colIndex-=s,e.model.usedRange.colIndex<0&&(e.model.usedRange.colIndex=0),this.parent.notify("updateUsedRange",{index:e.model.usedRange.colIndex,update:"col"}),t=[];let n,l,r=e.end+1;for(let a=0;a<=e.model.usedRange.rowIndex;a++)if(t.push({}),e.model.rows[a]&&e.model.rows[a].cells){if(e.model.rows[a].cells[e.start]&&void 0!==e.model.rows[a].cells[e.start].colSpan&&e.model.rows[a].cells[e.start].colSpan<0&&void 0===e.model.rows[a].cells[e.start].rowSpan&&(l={range:[a,e.start,a,e.start]},this.parent.notify("activeCellMergedRange",l),l.range=l.range,l.range[3]<=e.end)){let t=oH(a,l.range[1],e.model);t&&t.colSpan>1&&(t.colSpan-(l.range[3]-e.start+1)>1?hH(a,l.range[1],e.model,{colSpan:t.colSpan-(l.range[3]-e.start+1)},!0):delete e.model.rows[a].cells[l.range[1]].colSpan),l=null}if(e.model.rows[a].cells[r]&&void 0!==e.model.rows[a].cells[r].colSpan&&e.model.rows[a].cells[r].colSpan<0&&void 0===e.model.rows[a].cells[r].rowSpan&&(l||(l={range:[a,r,a,r]},this.parent.notify("activeCellMergedRange",l)),n=new Object,l.range=l.range,Object.assign(n,oH(l.range[0],l.range[1],e.model)),n&&n.colSpan&&(n.colSpan>1||n.rowSpan>1))){let t=[];t[0]=a,t[2]=n.rowSpan>1?a+(n.rowSpan-1):a,l.range=l.range,l.range[1]<e.start?(t[1]=t[3]=l.range[1],n.colSpan-s>1&&(t[3]+=n.colSpan-s-1)):(t[1]=t[3]=e.start,n.colSpan-(e.end-l.range[1]+1)>1&&(t[3]+=n.colSpan-(e.end-l.range[1]+1)-1)),i.push({range:t,isAction:!1,preventRefresh:!0,merge:!0,type:"All",skipChecking:!0})}t[a].cells=e.model.rows[a].cells.splice(e.start,s),l=null}}let l=[];for(let r=e.start;r<=e.end;r++)e.model[n][e.start]?(l.push(e.model[n][e.start]),e.model[n].splice(e.start,1)):l.push({}),r===e.start&&(l[0].index=e.start);i.forEach(e=>{this.parent.notify(rF,e)}),this.parent.notify("delete",{startIndex:e.start,endIndex:e.end,modelType:e.modelType,isAction:e.isAction,deletedModel:l,deletedCellsModel:t})}setDeleteInfo(e,t,n,i="Row"){let s=t-e+1,l=[];this.parent.getActiveSheet().ranges.forEach(r=>{r.info&&e<r.info[n]&&(r.info[`delete${i}Range`]?r.info[`delete${i}Range`].push([e,t]):r.info[`delete${i}Range`]=[[e,t]],r.info[n]-=s,r.info[`insert${i}Range`]&&(r.info[`insert${i}Range`]=l))})}addEventListener(){this.parent.on("deleteModel",this.delete,this)}destroy(){this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.isDestroyed||this.parent.off("deleteModel",this.delete)}getModuleName(){return"workbookdelete"}}class WF{constructor(e){this.parent=e,this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("setValidation",this.addValidationHandler,this),this.parent.on("removeValidation",this.removeValidationHandler,this),this.parent.on("addHighlight",this.addHighlightHandler,this),this.parent.on("removeHighlight",this.removeHighlightHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("setValidation",this.addValidationHandler),this.parent.off("removeValidation",this.removeValidationHandler),this.parent.off("addHighlight",this.addHighlightHandler),this.parent.off("removeHighlight",this.removeHighlightHandler))}addValidationHandler(e){this.ValidationHandler(e.rules,e.range,!1)}removeValidationHandler(e){this.ValidationHandler(e.rules,e.range,!0)}ValidationHandler(e,t,n){let i,s=this.parent.getActiveSheet(),l=zR(t=t||s.selectedRange);for(let r=l[0];r<=l[2];r++){s.rows[r]||iH(s,r,{});for(let t=l[1];t<=l[3];t++)if(s.rows[r].cells&&s.rows[r].cells[t]||hH(r,t,s,{}),i=s.rows[r].cells[t],n){if(i.validation){delete i.validation;let e=this.parent.getCellStyleValue(["backgroundColor","color"],[r,t]);this.parent.notify("applyCellFormat",{style:e,rowIdx:r,colIdx:t})}}else i.validation={type:e.type,operator:e.operator,value1:"List"===e.type&&e.value1.length>256?e.value1.substring(0,255):e.value1,value2:e.value2,ignoreBlank:e.ignoreBlank,inCellDropDown:e.inCellDropDown}}}addHighlightHandler(e){this.InvalidDataHandler(e.range,!1)}removeHighlightHandler(e){this.InvalidDataHandler(e.range,!0)}InvalidDataHandler(e,t){let n,i,s=this.parent.getActiveSheet(),l=(e=e||s.selectedRange)?zR(e):[],r=e?l[0]:0,a=e?l[2]:s.rows.length;for(;r<=a;r++)if(s.rows[r]){let a=e?l[1]:0,o=e?l[3]:s.rows[r].cells.length;for(;a<=o;a++)if(s.rows[r].cells[a]){n=s.rows[r].cells[a],i=n.value?n.value:"";let e=[r,a],l=this.parent.activeSheetIndex;if(n.validation&&this.parent.allowDataValidation){this.parent.notify("isValidation",{value:i,range:e,sheetIdx:l,isCell:!1});let s=this.parent.allowDataValidation;if(this.parent.allowDataValidation=!0,!s)if(t){if(t){n.validation.isHighlighted&&(n.validation.isHighlighted=!1);let e=this.parent.getCellStyleValue(["backgroundColor","color"],[r,a]);this.parent.notify("applyCellFormat",{style:e,rowIdx:r,colIdx:a})}}else n.validation.isHighlighted||(n.validation.isHighlighted=!0),this.parent.notify("applyCellFormat",{style:{backgroundColor:"#ffff00",color:"#ff0000"},rowIdx:r,colIdx:a})}}}}getModuleName(){return"workbookDataValidation"}}class YF{constructor(e){this.parent=e,this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("findNext",this.findNext,this),this.parent.on("findPrevious",this.findPrevious,this),this.parent.on("replace",this.replace,this),this.parent.on("replaceAll",this.replaceAll,this),this.parent.on("count",this.totalCount,this),this.parent.on("findAllValues",this.findAllValues,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("findNext",this.findNext),this.parent.off("findPrevious",this.findPrevious),this.parent.off("replace",this.replace),this.parent.off("replaceAll",this.replaceAll),this.parent.off("count",this.totalCount),this.parent.off("findAllValues",this.findAllValues))}findNext(e){let t,n,i,s,l=this.parent.sheets,r=l[this.parent.activeSheetIndex],a=qR(r.activeCell),o=r.usedRange,h=o.colIndex,c=e.value.toString(),d=0,u=o.rowIndex;t=a[1],n=a[0];let p=t,m=n;if(r.rows[n]&&r.rows[n].cells[t]&&(i=r.rows[n].cells[t].format,s=i?this.parent.getDisplayText(r.rows[n].cells[t]).toString():r.rows[n].cells[t].value.toString()),s){let i=s.toLowerCase(),l=s.indexOf(e.value)>-1,r=i.indexOf(e.value)>-1;(c===s||c===i||l||r)&&("By Column"===e.searchBy?n++:t++,d++)}(a[0]>r.usedRange.rowIndex||a[1]>r.usedRange.colIndex)&&(a[0]>r.usedRange.rowIndex&&a[1]<=r.usedRange.colIndex?(n=0,t=a[1]):a[0]<=r.usedRange.rowIndex&&a[1]>r.usedRange.colIndex?(n=a[0],t=0):(n=0,t=0));let f={rowIndex:n,colIndex:t,usedRange:o,endRow:u,endColumn:h,startRow:m,mode:e.mode,loopCount:0,count:d,args:e,val:void 0,stringValue:c,sheetIndex:this.parent.activeSheetIndex,startColumn:p,sheets:l};"By Row"===e.searchBy&&this.findNxtRow(f),"By Column"===e.searchBy&&this.findNxtCol(f)}findNxtRow(e){let t,n=e.sheets[e.sheetIndex],i=this.parent.sheets.length,s=qR(n.activeCell);for(e.colIndex>=e.usedRange.colIndex+1&&(e.colIndex=0,e.rowIndex++);e.rowIndex<=e.endRow+1;e.rowIndex++){if(e.rowIndex>e.endRow){if("Workbook"===e.mode){let l=this.parent.activeSheetIndex;if(e.sheetIndex++,i===e.sheetIndex&&(e.sheetIndex=0),l===e.sheetIndex&&0===e.count)return void this.parent.notify(lF,null);n=e.sheets[e.sheetIndex],t=n.usedRange,s=qR(n.activeCell),e.rowIndex=0,e.colIndex=0,e.endColumn=t.colIndex,e.endRow=t.rowIndex}if(0===e.colIndex&&e.rowIndex>e.endRow)if(0===s[0]&&0===s[1]||s[0]>n.usedRange.rowIndex||s[1]>n.usedRange.colIndex){if(0===e.count)return void this.parent.notify(lF,null)}else(0!==s[0]&&0!==s[1]||0!==s[0]||0!==s[1])&&(e.startColumn=0,e.startRow=0,e.endColumn=e.usedRange.colIndex,e.endRow=s[0],e.rowIndex=e.startRow,e.colIndex=e.startColumn,e.loopCount++)}if(e.count>0&&e.usedRange.rowIndex<e.rowIndex&&(e.rowIndex=0,0===e.rowIndex&&(e.colIndex=0)),n.rows[e.rowIndex]){let t=n.rows[e.rowIndex];for(;e.colIndex<=e.endColumn;e.colIndex++)if(t&&t.cells[e.colIndex]&&this.nextCommon(e))return;if(e.colIndex>e.endColumn&&(e.colIndex=0),e.loopCount>0&&s[0]===e.rowIndex)return void this.parent.notify(lF,null)}}0!==e.count||this.parent.notify(lF,null)}findNxtCol(e){let t,n=e.sheets[e.sheetIndex],i=qR(n.activeCell),s=this.parent.sheets.length;for(e.rowIndex>=e.usedRange.rowIndex&&(e.rowIndex=0,e.colIndex++);e.colIndex<=e.usedRange.colIndex+1;e.colIndex++){if(e.colIndex>=e.endColumn+1&&"Workbook"===e.mode){if(t=this.parent.activeSheetIndex,e.sheetIndex++,s===e.sheetIndex&&(e.sheetIndex=0),t===e.sheetIndex&&0===e.count)return void this.parent.notify(lF,null);n=e.sheets[e.sheetIndex],e.usedRange=n.usedRange,i=qR(n.activeCell),e.colIndex=0,e.rowIndex=0,e.endColumn=e.usedRange.colIndex,e.endRow=e.usedRange.rowIndex}if(e.colIndex>=e.endColumn+1&&(e.colIndex=0),e.rowIndex>e.endRow&&0===e.colIndex)if(0===i[0]&&0===i[1]||i[1]>n.usedRange.rowIndex||i[0]>n.usedRange.colIndex){if(0===e.count)return void this.parent.notify(lF,null)}else(0!==i[1]||0!==i[0]||0!==i[1]&&0!==i[0])&&(e.startRow=0,e.startColumn=0,e.endRow=i[0],e.endColumn=e.usedRange.colIndex,e.colIndex=e.startColumn,e.rowIndex=e.startRow,e.loopCount++);if(e.count>0&&e.usedRange.colIndex+1<e.colIndex&&(e.colIndex=0,e.rowIndex=0),e.rowIndex>=e.endRow&&(e.rowIndex=0),e.colIndex<=e.usedRange.colIndex){for(;e.rowIndex<=e.usedRange.rowIndex;e.rowIndex++)if(n.rows[e.rowIndex]&&n.rows[e.rowIndex].cells[e.colIndex]&&this.nextCommon(e))return;if(e.loopCount>0&&i[1]===e.colIndex)return void this.parent.notify(lF,null)}}0!==e.count||this.parent.notify(lF,null)}nextCommon(e){let t=e.sheets[e.sheetIndex];if(t.rows[e.rowIndex]&&t.rows[e.rowIndex].cells[e.colIndex]){let n=t.rows[e.rowIndex].cells[e.colIndex];if(n){let i;if(i=n.format?this.parent.getDisplayText(t.rows[e.rowIndex].cells[e.colIndex]):t.rows[e.rowIndex].cells[e.colIndex].value.toString(),e.args.isCSen&&e.args.isEMatch){if(i===e.stringValue){let n=t.name+"!"+WR(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:n}),e.count++,!0}}else if(e.args.isCSen&&!e.args.isEMatch){let n=i.indexOf(e.args.value)>-1;if(i===e.stringValue||n){let n=t.name+"!"+WR(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:n}),e.count++,!0}}else if(!e.args.isCSen&&e.args.isEMatch){if(e.val=i.toString().toLowerCase(),e.val===e.stringValue){let n=t.name+"!"+WR(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:n}),e.count++,!0}}else if(!e.args.isCSen&&!e.args.isEMatch){e.val=i.toString().toLowerCase();let n=i.indexOf(e.args.value)>-1,s=e.val.indexOf(e.args.value)>-1;if(e.val===e.stringValue||i===e.stringValue||n||i===e.stringValue||s){let n=t.name+"!"+WR(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:n}),e.count++,!0}}}}return!1}findPrevious(e){let t,n,i=this.parent.sheets,s=e.sheetIndex,l=i[s],r=qR(l.activeCell),a=0,o=l.usedRange.rowIndex,h=l.usedRange.colIndex,c=e.value.toString(),d=r[1],u=r[0],p=d,m=u;if(l.rows[u]&&l.rows[u].cells[d]&&(n=l.rows[u].cells[d].format,t=n?this.parent.getDisplayText(l.rows[u].cells[d]).toString():l.rows[u].cells[d].value.toString()),t){let n=t.toLowerCase(),i=t.indexOf(e.value)>-1,s=n.indexOf(e.value)>-1;(c===t||c===n||i||s)&&("By Row"===e.searchBy&&d--,"By Column"===e.searchBy&&u--,a++)}(r[0]>l.usedRange.rowIndex||r[1]>l.usedRange.colIndex)&&(r[0]>l.usedRange.rowIndex&&r[1]<=l.usedRange.colIndex?(u=l.usedRange.rowIndex,d=r[1]):r[0]<=l.usedRange.rowIndex&&r[1]>l.usedRange.colIndex?(u=r[0],d=l.usedRange.colIndex):(u=l.usedRange.rowIndex,d=l.usedRange.colIndex));let f={rowIndex:u,colIndex:d,endRow:o,endColumn:h,startRow:m,loopCount:0,count:a,args:e,val:void 0,stringValue:c,sheets:i,sheetIndex:s,startColumn:p};"By Row"===e.searchBy&&this.findPreRow(f),"By Column"===e.searchBy&&this.findPreCol(f)}findPreRow(e){let t,n=e.sheets[e.sheetIndex],i=this.parent.sheets.length,s=!1,l=qR(n.activeCell);for(-1===e.colIndex&&(e.colIndex=e.endColumn,e.rowIndex--);e.rowIndex>=-1;e.rowIndex--){if(e.rowIndex<0&&e.colIndex<0){if("Workbook"===e.args.mode){let s=this.parent.activeSheetIndex;if(e.sheetIndex--,-1===e.sheetIndex&&(e.sheetIndex=i-1),s===e.sheetIndex&&0===e.count)return void this.parent.notify(lF,null);n=e.sheets[e.sheetIndex],t=n.usedRange,l=qR(n.activeCell),e.rowIndex=t.rowIndex,e.colIndex=t.colIndex,e.endColumn=0,e.endRow=0}s=this.commonCondition(e,l)}if(!s&&("Workbook"!==e.args.mode&&e.count>0&&-1===e.rowIndex&&(e.rowIndex=e.endRow),-1===e.rowIndex&&(e.rowIndex=n.usedRange.rowIndex,e.colIndex=n.usedRange.colIndex),n.rows[e.rowIndex])){for(-1===e.colIndex&&(e.colIndex=n.usedRange.colIndex);e.colIndex>=0;e.colIndex--)if(n.rows[e.rowIndex]&&n.rows[e.rowIndex].cells[e.colIndex]&&this.prevCommon(e))return;if(e.loopCount>0&&l[0]===e.rowIndex)return void this.parent.notify(lF,null)}}s||0!==e.count||this.parent.notify(lF,null)}findPreCol(e){let t,n=e.sheets[e.sheetIndex],i=this.parent.sheets.length,s=!1,l=qR(n.activeCell);for(;e.colIndex>=-1;e.colIndex--){if(e.rowIndex<0&&e.colIndex<0){if("Workbook"===e.args.mode){let s=this.parent.activeSheetIndex;if(e.sheetIndex--,-1===e.sheetIndex&&(e.sheetIndex=i-1),s===e.sheetIndex&&0===e.count)return void this.parent.notify(lF,null);n=e.sheets[e.sheetIndex],t=n.usedRange,l=qR(n.activeCell),e.rowIndex=t.rowIndex,e.colIndex=t.colIndex,e.endColumn=0,e.endRow=0}s=this.commonCondition(e,l)}if(!s)for(e.count>0&&e.colIndex<0&&(e.colIndex=e.endColumn),e.rowIndex<0&&(e.rowIndex=n.usedRange.rowIndex),e.colIndex<-1&&(e.colIndex=n.usedRange.colIndex,e.rowIndex--),n.rows[e.rowIndex]&&n.rows[e.rowIndex].cells[e.colIndex]&&-1===e.rowIndex&&(e.rowIndex=n.usedRange.rowIndex);e.rowIndex>=0;e.rowIndex--){if(n.rows[e.rowIndex]&&n.rows[e.rowIndex].cells[e.colIndex]&&this.prevCommon(e))return;if(e.loopCount>0&&l[1]===e.colIndex)return void this.parent.notify(lF,null)}}s||0!==e.count||this.parent.notify(lF,null)}commonCondition(e,t){let n,i=e.sheets[e.sheetIndex];return t[0]!==e.endRow&&t[1]!==e.endColumn||t[0]!==e.endRow||t[1]!==e.endColumn?(e.startColumn=i.usedRange.colIndex,e.startRow=i.usedRange.rowIndex,e.endColumn=0,e.endRow=t[0],e.rowIndex=e.startRow,e.colIndex=e.startColumn,e.loopCount++,n=!1):(t[0]===i.usedRange.rowIndex&&t[1]===i.usedRange.colIndex||t[0]>i.usedRange.rowIndex||t[1]>i.usedRange.colIndex)&&(this.parent.notify(lF,null),n=!0),n}prevCommon(e){let t=e.sheets[e.sheetIndex];if(t.rows[e.rowIndex]&&t.rows[e.rowIndex].cells[e.colIndex]){let n=t.rows[e.rowIndex].cells[e.colIndex];if(n){let i;if(i=n.format?this.parent.getDisplayText(t.rows[e.rowIndex].cells[e.colIndex]):t.rows[e.rowIndex].cells[e.colIndex].value.toString(),e.args.isCSen&&e.args.isEMatch){if(i===e.stringValue){let n=t.name+"!"+WR(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:n}),e.count++,!0}}else if(e.args.isCSen&&!e.args.isEMatch){let n=i.indexOf(e.args.value)>-1;if(i===e.stringValue||n){let n=t.name+"!"+WR(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:n}),e.count++,!0}}else if(!e.args.isCSen&&e.args.isEMatch){if(e.val=i.toString().toLowerCase(),e.val===e.stringValue){let n=t.name+"!"+WR(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:n}),e.count++,!0}}else if(!e.args.isCSen&&!e.args.isEMatch){e.val=i.toString().toLowerCase();let n=i.indexOf(e.args.value)>-1,s=e.val.indexOf(e.args.value)>-1;if(i===e.stringValue||i===e.stringValue||n||e.val===e.stringValue||s){let n=t.name+"!"+WR(e.rowIndex,e.colIndex);return this.parent.notify("gotoHandler",{address:n}),e.count++,!0}}}}return!1}replace(e){if(this.parent.getActiveSheet().isProtected)return void this.parent.notify("editAlert",null);let t=this.parent.getActiveSheet(),n=qR(t.activeCell),i=t.rows[n[0]].cells[n[1]].value.toString(),s=i.indexOf(e.value)>-1,l=i.toLowerCase().indexOf(e.value)>-1,r=i.toString().toLowerCase();i===e.value||s||r===e.value||l||(e.findOpt="next",this.findNext(e)),this.parent.getActiveSheet();let a,o=qR(t.activeCell),h=t.activeCell,c=t.rows[o[0]].cells[o[1]],d=t.rows[o[0]].cells[o[1]].format,u=t.name+"!"+WR(o[0],o[1]);a=d?this.parent.getDisplayText(t.rows[o[0]].cells[o[1]]).toString():t.rows[o[0]].cells[o[1]].value.toString(),this.parent.notify("findUndoRedo",{undoRedoOpt:"before",address:u,compareVal:a});let p=a.toLowerCase(),m=a.indexOf(e.value)>-1,f=p.indexOf(e.value)>-1;if(e.value===a||e.value===p)t.rows[o[0]].cells[o[1]].value=e.replaceValue,this.parent.updateCell(c,h),this.parent.notify("findUndoRedo",{address:u,compareVal:e.replaceValue,undoRedoOpt:"after"});else if(m){let n=a.replace(e.value,e.replaceValue);t.rows[o[0]].cells[o[1]].value=n,this.parent.updateCell(c,h),this.parent.notify("findUndoRedo",{address:u,compareVal:e.replaceValue,undoRedoOpt:"after"})}else if(f){let n=new RegExp(e.value.toString().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig"),i=a.replace(n,e.replaceValue);t.rows[o[0]].cells[o[1]].value=i,this.parent.updateCell(c,h),this.parent.notify("findUndoRedo",{address:u,compareVal:e.replaceValue,undoRedoOpt:"after"})}}replaceAll(e){let t,n=0,i=this.parent.sheets[n],s=i.usedRange.rowIndex,l=0,r=0,a=i.usedRange.colIndex,o=0,h=[];for(;r<=s;r++)if(o>a&&r===s&&"Workbook"===e.mode&&(n++,i=this.parent.sheets[n],i&&(o=0,r=0,a=i.usedRange.colIndex,s=i.usedRange.rowIndex,i=i)),i&&i.rows[r]){let n=i.rows[r];for(o===a+1&&(o=0);o<=a;o++){let s=i.rows[r].cells[o];if(n&&n.cells[o]){let n=i.rows[r].cells[o];if(n){let a;if(a=n.format?this.parent.getDisplayText(i.rows[r].cells[o]).toString():i.rows[r].cells[o].value.toString(),e.isCSen&&e.isEMatch)a===e.value&&(i.rows[r].cells[o].value=e.replaceValue,t=i.name+"!"+WR(r,o),this.parent.updateCell(s,t),h.push(t),l++);else if(e.isCSen&&!e.isEMatch){let n=a.indexOf(e.value)>-1;if(a===e.value||n){let n=a.replace(e.value,e.replaceValue);i.rows[r].cells[o].value=n,t=i.name+"!"+WR(r,o),this.parent.updateCell(s,t),h.push(t),l++}}else if(!e.isCSen&&e.isEMatch)a.toString().toLowerCase()===e.value&&(i.rows[r].cells[o].value=e.replaceValue,t=i.name+"!"+WR(r,o),this.parent.updateCell(s,t),h.push(t),l++);else if(!e.isCSen&&!e.isEMatch){let n=a.toString().toLowerCase(),c=a.indexOf(e.value)>-1,d=n.indexOf(e.value)>-1;if(a===e.value||c||n===e.value||a===e.value||d){let n=new RegExp(e.value.toString().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig"),c=a.replace(n,e.replaceValue);i.rows[r].cells[o].value=c,t=i.name+"!"+WR(r,o),this.parent.updateCell(s,t),h.push(t),l++}}}}}}let c={undoRedoOpt:"beforeReplaceAll",Collection:h,replaceValue:e.value};this.parent.notify("findUndoRedo",c),c={undoRedoOpt:"afterReplaceAll",Collection:h,replaceValue:e.replaceValue},this.parent.notify("findUndoRedo",c),this.parent.notify("replaceAllDialog",{count:l,replaceValue:e.replaceValue})}totalCount(e){let t=this.parent.sheets[0],n=t.usedRange.rowIndex,i=0,s=0,l=t.usedRange.colIndex,r=0;for(;s<=n;s++)if(t.rows[s]){let n=t.rows[s];for(r===l+1&&(r=0);r<=l;r++)if(n&&n.cells[r]){let n=t.rows[s].cells[r];if(n){let l;if(l=n.format?this.parent.getDisplayText(t.rows[s].cells[r]).toString():n.value.toString(),e.isCSen&&e.isEMatch)l===e.value&&i++;else if(e.isCSen&&!e.isEMatch){let t=l.indexOf(e.value)>-1;(l===e.value||t)&&i++}else if(!e.isCSen&&e.isEMatch)l.toString().toLowerCase()===e.value&&i++;else if(!e.isCSen&&!e.isEMatch){let t=l.toString().toLowerCase(),n=l.indexOf(e.value)>-1,s=t.indexOf(e.value)>-1;(t===e.value||l===e.value||n||l===e.value||s)&&i++}}}}let a=i;i=a-(this.requiredCount(e)-1),e.findCount=i+"of"+a}requiredCount(e){let t=this.parent.sheets[this.parent.activeSheetIndex],n=qR(t.activeCell),i=t.usedRange.rowIndex,s=0,l=n[0],r=t.usedRange.colIndex,a=n[1];for(;l<=i;l++)if(t.rows[l]){let n=t.rows[l];for(a===r+1&&(a=0);a<=r;a++)if(n&&n.cells[a]&&t.rows[l].cells[a]){let n;if(n=t.rows[l].cells[a].format?this.parent.getDisplayText(t.rows[l].cells[a]).toString():t.rows[l].cells[a].value.toString(),e.isCSen&&!e.isEMatch){let t=n.indexOf(e.value)>-1;(n===e.value||t)&&s++}else if(e.isCSen&&e.isEMatch)n===e.value&&s++;else if(!e.isCSen&&e.isEMatch)n.toString().toLowerCase()===e.value&&s++;else if(!e.isCSen&&!e.isEMatch){let t=n.toString().toLowerCase(),i=n.indexOf(e.value)>-1,l=t.indexOf(e.value)>-1;(n===e.value||n===e.value||i||t===e.value||l)&&s++}}}return s}findAllValues(e){let t,n=e.sheetIndex,i=this.parent.sheets[n],s=i.usedRange.rowIndex,l=0,r=i.usedRange.colIndex,a=0,o=this.parent.sheets.length,h=e.sheetIndex;for(;l<=s+1;l++){if(1!==h&&e.sheetIndex===o&&(n=1),l>s&&a>r&&"Workbook"===e.mode){if(n++,h===n)return;n>o-1&&(n=0),i=this.parent.sheets[n],i&&(l=0,a=0,r=i.usedRange.colIndex,s=i.usedRange.rowIndex,i=i)}if(!UO(i)&&i.rows[l]){let n=i.rows[l];for(a===r+2&&(a=0);a<=r+1;a++)if(n&&n.cells[a]){let n=i.rows[l].cells[a];if(n){let s;if(s=n.format?this.parent.getDisplayText(i.rows[l].cells[a]).toString():n.value.toString(),e.isCSen&&e.isEMatch)s===e.value&&(t=i.name+"!"+WR(l,a),e.findCollection.push(t));else if(e.isCSen&&!e.isEMatch){let n=s.indexOf(e.value)>-1;(s===e.value||n)&&(t=i.name+"!"+WR(l,a),e.findCollection.push(t))}else if(!e.isCSen&&e.isEMatch)s.toString().toLowerCase()===e.value&&(t=i.name+"!"+WR(l,a),e.findCollection.push(t));else if(!e.isCSen&&!e.isEMatch){let n=s.toString().toLowerCase(),r=s.indexOf(e.value)>-1;(n===e.value||s===e.value||r||s===e.value)&&(t=i.name+"!"+WR(l,a),e.findCollection.push(t))}}}}}}getModuleName(){return"workbookfindAndReplace"}}class $F{constructor(e){this.parent=e,this.addEventListener()}protectsheetHandler(e){let t=this.parent.getActiveSheet();t.protectSettings.selectCells=e.selectCells,t.protectSettings.formatCells=e.formatCells,t.protectSettings.formatColumns=e.formatColumns,t.protectSettings.formatRows=e.formatRows,t.protectSettings.insertLink=e.insertLink,this.parent.notify("protectSheet",t.protectSettings),this.parent.notify("updateToggleItem",{props:"Protect"})}unprotectsheetHandler(e){let t=this.parent.getActiveSheet();e.sheet&&(t=this.parent.sheets[e.sheet]),t.protectSettings.formatCells=t.protectSettings.formatColumns=!1,t.protectSettings.formatRows=t.protectSettings.selectCells=!1,t.isProtected=!1,this.parent.notify("protectSheet",t.protectSettings),this.parent.notify("updateToggleItem",{props:"Protect"})}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("protectsheetHandler",this.protectsheetHandler,this),this.parent.on("unprotectsheetHandler",this.unprotectsheetHandler,this),this.parent.on("setLockCells",this.lockCells,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("protectsheetHandler",this.protectsheetHandler),this.parent.off("setLockCells",this.lockCells),this.parent.off("protectsheetHandler",this.unprotectsheetHandler))}lockCells(e){let t,n=this.parent.getActiveSheet();t=e?e.range:n.selectedRange;let i="object"==typeof t?t:KR(zR(t));for(let s=i[0];s<=i[2];s++)for(let t=i[1];t<=i[3];t++)this.parent.getActiveSheet().id===n.id&&this.parent.notify("applyLockCells",{rowIdx:s,colIdx:t,isLocked:e.isLocked})}getModuleName(){return"workbookProtectSheet"}}class GF{constructor(e){this.parent=e,this.addEventListener()}merge(e){e.isAction&&(this.parent.notify("actionBegin",{eventArgs:e,action:"merge"}),e.model||(e.model=[])),"string"==typeof e.range&&(e.range=zR(e.range)),e.range=KR(e.range);let t=this.parent.getActiveSheet();e.skipChecking||this.mergedRange(e),e.merge&&"All"!==e.type?"Horizontally"===e.type?this.mergeHorizontally(e):"Vertically"===e.type&&this.mergeVertically(e):(this.mergeAll(e),e.refreshRibbon&&this.parent.notify("activeCellChanged",null)),this.parent.setUsedRange(e.range[2],e.range[3]),e.isAction&&this.parent.notify("actionComplete",{eventArgs:e,action:"merge"}),this.parent.notify("selectRange",{indexes:zR(t.selectedRange),skipChecking:!0})}mergeAll(e){let t,n,i,s=0;e.range=e.range;let l,r=this.parent.getActiveSheet();for(let a=e.range[0];a<=e.range[2];a++){n=0,e.isAction&&e.model.push({cells:[]});for(let o=e.range[1];o<=e.range[3];o++){if(t=oH(a,o,r),t&&(t.value||t.formula)&&!i&&(i=t.formula||t.value),e.isAction&&e.merge&&(e.model[a-e.range[0]].cells[o-e.range[1]]={},Object.assign(e.model[a-e.range[0]].cells[o-e.range[1]],t)),r.rows[a]&&r.rows[a].cells&&r.rows[a].cells[o]&&(delete r.rows[a].cells[o].rowSpan,delete r.rows[a].cells[o].colSpan,!e.merge&&!e.isAction&&e.model&&e.model[a-e.range[0]]&&e.model[a-e.range[0]].cells[o-e.range[1]]&&e.model[a-e.range[0]].cells[o-e.range[1]]!=={}&&hH(a,o,r,e.model[a-e.range[0]].cells[o-e.range[1]])),e.merge){if(t=new Object,a===e.range[0]&&o===e.range[1]){e.range[3]-e.range[1]>0&&(t.colSpan=e.range[3]-e.range[1]+1),e.range[2]-e.range[0]>0&&(t.rowSpan=e.range[2]-e.range[0]+1),hH(e.range[0],e.range[1],r,t,!0);continue}a!==e.range[0]&&(t.rowSpan=-s),o!==e.range[1]&&(n++,t.colSpan=-n),r.rows[a]&&r.rows[a].cells&&r.rows[a].cells[o]&&(delete r.rows[a].cells[o].value,delete r.rows[a].cells[o].formula),l=oH(a,o,r)||{},hH(a,o,r,Object.assign(t,l))}e.preventRefresh||this.parent.notify("applyMerge",{rowIdx:a,colIdx:o})}s++}e.merge&&(t=this.getCellValue(e.range[0],e.range[1],i),hH(e.range[0],e.range[1],r,t,!0),e.preventRefresh||this.parent.notify("applyMerge",{rowIdx:e.range[0],colIdx:e.range[1]}))}mergeHorizontally(e){let t,n;e.range=e.range;let i,s,l,r=this.parent.getActiveSheet();for(let a=e.range[0];a<=e.range[2];a++){t=0,e.isAction&&e.model.push({cells:[]});for(let o=e.range[1];o<=e.range[3];o++){if(l=oH(a,o,r),n=new Object,e.isAction&&(e.model[a-e.range[0]].cells[o-e.range[1]]={},Object.assign(e.model[a-e.range[0]].cells[o-e.range[1]],l)),o===e.range[1]){if(a===e.range[0])continue;s=a-1,r.rows[s]&&r.rows[s].cells&&r.rows[s].cells[o]&&delete r.rows[s].cells[o].rowSpan,n=this.getCellValue(s,o,i),e.range[3]-e.range[1]>0&&(n.colSpan=e.range[3]-e.range[1]+1),i=null,hH(s,o,r,n,!0)}else l&&(l.value||l.formula)&&!i&&(i=l.formula||l.value),s=a,r.rows[s]&&r.rows[s].cells&&r.rows[s].cells[o]&&(delete r.rows[s].cells[o].rowSpan,delete r.rows[s].cells[o].value,delete r.rows[s].cells[o].formula),t++,n.colSpan=-t,hH(s,o,r,n,!0);this.parent.notify("applyMerge",{rowIdx:s,colIdx:o})}}r.rows[e.range[2]]&&r.rows[e.range[2]].cells&&r.rows[e.range[2]].cells[e.range[1]]&&delete r.rows[e.range[2]].cells[e.range[1]].rowSpan,n=this.getCellValue(e.range[2],e.range[1],i),e.range[3]-e.range[1]>0&&(n.colSpan=e.range[3]-e.range[1]+1),hH(e.range[2],e.range[1],r,n,!0),this.parent.notify("applyMerge",{rowIdx:e.range[2],colIdx:e.range[1]})}getCellValue(e,t,n){let i=this.parent.getActiveSheet(),s=new Object,l=oH(e,t,i);return!n||l&&(l.value||l.formula)||(QF(n)?s.formula=n:s.value=n),s}mergeVertically(e){let t=0;e.range=e.range;let n,i,s,l,r=this.parent.getActiveSheet();for(let a=e.range[1];a<=e.range[3];a++)for(let o=e.range[0];o<=e.range[2];o++){if(l=oH(o,a,r),e.isAction&&(void 0===e.model[o-e.range[0]]&&(e.model[o-e.range[0]]={cells:[]}),e.model[o-e.range[0]].cells[a-e.range[1]]={},Object.assign(e.model[o-e.range[0]].cells[a-e.range[1]],l)),o===e.range[0]){if(t=0,a===e.range[1])continue;s=a-1,r.rows[o]&&r.rows[o].cells&&r.rows[o].cells[s]&&delete r.rows[o].cells[s].colSpan,n=this.getCellValue(o,s,i),e.range[2]-e.range[0]>0&&(n.rowSpan=e.range[2]-e.range[0]+1),i=null,hH(o,s,r,n,!0)}else n=new Object,l&&(l.value||l.formula)&&!i&&(i=l.formula||l.value),t++,s=a,r.rows[o]&&r.rows[o].cells&&r.rows[o].cells[s]&&(delete r.rows[o].cells[s].colSpan,delete r.rows[o].cells[s].value,delete r.rows[o].cells[s].formula),n.rowSpan=-t,hH(o,s,r,n,!0);this.parent.notify("applyMerge",{rowIdx:o,colIdx:s})}r.rows[e.range[0]]&&r.rows[e.range[0]].cells&&r.rows[e.range[0]].cells[e.range[3]]&&delete r.rows[e.range[0]].cells[e.range[3]].colSpan,n=this.getCellValue(e.range[0],e.range[1],i),e.range[2]-e.range[0]>0&&(n.rowSpan=e.range[2]-e.range[0]+1),hH(e.range[0],e.range[3],r,n,!0),this.parent.notify("applyMerge",{rowIdx:e.range[0],colIdx:e.range[3]})}activeCellRange(e){e.range=e.range;let t=this.parent.getActiveSheet(),n=oH(e.range[0],e.range[1],t);n&&(!UO(n.rowSpan)&&n.rowSpan<0&&(e.range[0]+=n.rowSpan,e.insertCount&&(e.range[0]-=e.insertCount)),!UO(n.colSpan)&&n.colSpan<0&&(e.range[1]+=n.colSpan,e.insertCount&&(e.range[1]-=e.insertCount)),n=oH(e.range[0],e.range[1],t),n&&(n.rowSpan>1&&(e.range[0]+(n.rowSpan-1)>=e.range[2]||e.insertCount)&&(e.range[2]=e.range[0]+(n.rowSpan-1)),n.colSpan>1&&(e.range[1]+(n.colSpan-1)>=e.range[3]||e.insertCount)&&(e.range[3]=e.range[1]+(n.colSpan-1))))}mergedRange(e){"string"==typeof e.range&&(e.range=zR(e.range)),e.range[0]<=e.range[2]&&e.range[1]<=e.range[3]?this.forward(e):e.range[0]>=e.range[2]&&e.range[1]>=e.range[3]?this.reverse(e):e.range[0]<e.range[2]&&e.range[1]>e.range[3]?this.forwardReverse(e):e.range[0]>e.range[2]&&e.range[1]<e.range[3]&&this.reverseForward(e)}forward(e){e.range=e.range;let t,n,i,s,l=this.parent.getActiveSheet(),r=oH(e.range[0],e.range[1],l),a=t=e.range[0],o=n=e.range[1];if(r&&(!UO(r.rowSpan)&&r.rowSpan<0&&(a=t=e.range[0]+r.rowSpan),!UO(r.colSpan)&&r.colSpan<0&&(o=n=e.range[1]+r.colSpan),r=oH(a,o,l),r&&(r.rowSpan>1&&(t+=r.rowSpan-1,a+(r.rowSpan-1)>=e.range[2]&&(e.range[2]=e.range[0],e.range[2]=a+(r.rowSpan-1))),r.colSpan>1&&(n+=r.colSpan-1,o+(r.colSpan-1)>=e.range[3]&&(e.range[3]=e.range[1],e.range[3]=o+(r.colSpan-1))))),e.range[0]=a,e.range[1]=o,e.range[0]===a&&e.range[1]===o&&e.range[2]===t&&e.range[3]===n&&(e.isActiveCell=!0),!e.skipChecking){for(let t=e.range[1];t<=e.range[3];t++)r=oH(e.range[2],t,l),r&&(a=e.range[2],o=t,!UO(r.colSpan)&&r.colSpan<0&&(o+=r.colSpan,o<e.range[1]&&(e.range[1]=o)),!UO(r.rowSpan)&&r.rowSpan<0&&(a+=r.rowSpan,a<e.range[0]&&(e.range[0]=a)),r=oH(a,o,l),r&&(r.colSpan>1&&o+(r.colSpan-1)>e.range[3]&&(e.range[3]=o,e.range[3]=o+(r.colSpan-1)),r.rowSpan>1&&a+(r.rowSpan-1)>e.range[2]&&(e.range[2]=a,e.range[2]=a+(r.rowSpan-1))));for(let t=e.range[1];t<=e.range[3];t++)r=oH(e.range[0],t,l),r&&(s=t,i=e.range[0],!UO(r.colSpan)&&r.colSpan<0&&(s+=r.colSpan,s<e.range[1]&&(e.range[1]=s)),!UO(r.rowSpan)&&r.rowSpan<0&&(i+=r.rowSpan,i<e.range[0]&&(e.range[0]=i)));for(let t=e.range[0];t<=e.range[2];t++)r=oH(t,e.range[3],l),r&&(a=t,o=e.range[3],!UO(r.rowSpan)&&r.rowSpan<0&&(a+=r.rowSpan,a<e.range[0]&&(e.range[0]=a)),!UO(r.colSpan)&&r.colSpan<0&&(o+=r.colSpan,o<e.range[1]&&(e.range[1]=o)),r=oH(a,o,l),r&&(r.rowSpan>1&&a+(r.rowSpan-1)>e.range[2]&&(e.range[2]=a,e.range[2]=a+(r.rowSpan-1)),r.colSpan>1&&o+(r.colSpan-1)>e.range[3]&&(e.range[3]=o,e.range[3]=o+(r.colSpan-1))))}}forwardReverse(e){let t=this.parent.getActiveSheet();e.range=e.range;let n,i,s,l,r=e.range[1],a=oH(e.range[0],e.range[1],t),o=e.range[0];if(a&&(!UO(a.colSpan)&&a.colSpan<0&&(r+=a.colSpan,e.range[3]>=r&&(e.range[3]=r)),!UO(a.rowSpan)&&a.rowSpan<0&&(o+=a.rowSpan,o<e.range[0]&&(e.range[0]=o)),a=oH(o,r,t),a&&(a.rowSpan>1&&o+(a.rowSpan-1)>=e.range[2]&&(e.range[2]=o+(a.rowSpan-1)),a.colSpan>1&&r+(a.colSpan-1)>=e.range[1]&&(e.range[1]=r+(a.colSpan-1)))),e.range[0]=o,!e.skipChecking){for(let s=e.range[3];s<=e.range[1];s++)a=oH(e.range[2],s,t),a&&(i=s,n=e.range[2],!UO(a.rowSpan)&&a.rowSpan<0&&(n+=a.rowSpan,n<e.range[0]&&(e.range[0]=n)),!UO(a.colSpan)&&a.colSpan<0&&(i+=a.colSpan,i<e.range[3]&&(e.range[3]=i)),a=oH(n,i,t),a&&(a.rowSpan>1&&n+(a.rowSpan-1)>e.range[2]&&(e.range[2]=n+(a.rowSpan-1)),a.colSpan>1&&i+(a.colSpan-1)>e.range[1]&&(e.range[1]=i+(a.colSpan-1))));for(let n=e.range[3];n<=e.range[1];n++)a=oH(e.range[0],n,t),a&&(i=n,s=e.range[0],!UO(a.rowSpan)&&a.rowSpan<0&&(s+=a.rowSpan,s<e.range[0]&&(e.range[0]=s)),!UO(a.colSpan)&&a.colSpan<0&&(i+=a.colSpan),a=oH(s,i,t),a&&(a.rowSpan>1&&s+(a.rowSpan-1)>e.range[2]&&(e.range[2]=s+(a.rowSpan-1)),a.colSpan>1&&i+(a.colSpan-1)>e.range[1]&&(e.range[1]=i,e.range[1]=i+(a.colSpan-1))));for(let n=e.range[0];n<=e.range[2];n++)a=oH(n,e.range[3],t),a&&(s=n,l=e.range[3],!UO(a.rowSpan)&&a.rowSpan<0&&(s+=a.rowSpan,s<e.range[0]&&(e.range[0]=s)),!UO(a.colSpan)&&a.colSpan<0&&(l+=a.colSpan,l<e.range[3]&&(e.range[3]=l)),a=oH(s,l,t),a&&(a.rowSpan>1&&s+(a.rowSpan-1)>e.range[2]&&(e.range[2]=s,e.range[2]=s+(a.rowSpan-1)),a.colSpan>1&&l+(a.colSpan-1)>e.range[1]&&(e.range[1]=l,e.range[1]=l+(a.colSpan-1))))}}reverse(e){e.range=e.range;let t=e.range[1],n=this.parent.getActiveSheet(),i=oH(e.range[0],e.range[1],n),s=e.range[0];i&&(!UO(i.colSpan)&&i.colSpan<0&&(t+=i.colSpan),!UO(i.rowSpan)&&i.rowSpan<0&&(s+=i.rowSpan),e.range[2]>=s&&(e.range[2]=s,e.isActiveCell=!0),e.range[3]>=t?(e.range[3]=t,e.range[2]===s&&(e.isActiveCell=!0)):e.isActiveCell&&(e.isActiveCell=!1),i=oH(s,t,n),i&&(i.rowSpan>1&&s+(i.rowSpan-1)>=e.range[0]&&(e.range[0]=s,e.range[0]=s+(i.rowSpan-1)),i.colSpan>1&&t+(i.colSpan-1)>=e.range[1]&&(e.range[1]=t,e.range[1]=t+(i.colSpan-1))));let l,r,a=e.range[3];if(!e.skipChecking){for(let t=e.range[3];t<=e.range[1];t++)i=oH(e.range[2],t,n),i&&(a=t,s=e.range[2],!UO(i.rowSpan)&&i.rowSpan<0&&(s+=i.rowSpan,s<e.range[2]&&(e.range[2]=s)),!UO(i.colSpan)&&i.colSpan<0&&(a+=i.colSpan,a<e.range[3]&&(e.range[3]=a)),i=oH(s,a,n),i&&(i.rowSpan>1&&s+(i.rowSpan-1)>e.range[0]&&(e.range[0]=s,e.range[0]=s+(i.rowSpan-1)),i.colSpan>1&&a+(i.colSpan-1)>e.range[1]&&(e.range[1]=a,e.range[1]=a+(i.colSpan-1))));a=e.range[3];for(let t=e.range[3];t<=e.range[1];t++)i=oH(e.range[0],t,n),i&&(a=t,s=e.range[0],!UO(i.colSpan)&&i.colSpan<0&&(a+=i.colSpan),!UO(i.rowSpan)&&i.rowSpan<0&&(s+=i.rowSpan),i=oH(s,a,n),i&&(i.colSpan>1&&a+(i.colSpan-1)>e.range[1]&&(e.range[1]=a,e.range[1]=a+(i.colSpan-1)),i.rowSpan>1&&s+(i.rowSpan-1)>e.range[0]&&(e.range[0]=s,e.range[0]=s+(i.rowSpan-1))));for(let t=e.range[2];t<=e.range[0];t++)i=oH(t,e.range[3],n),i&&(r=t,l=e.range[3],!UO(i.rowSpan)&&i.rowSpan<0&&(r+=i.rowSpan,r<e.range[2]&&(e.range[2]=r)),!UO(i.colSpan)&&i.colSpan<0&&(l+=i.colSpan,l<e.range[3]&&(e.range[3]=l)),i=oH(r,l,n),i&&(i.rowSpan>1&&r+(i.rowSpan-1)>e.range[0]&&(e.range[0]=r,e.range[0]=r+(i.rowSpan-1)),i.colSpan>1&&l+(i.colSpan-1)>e.range[1]&&(e.range[1]=l,e.range[1]=l+(i.colSpan-1))))}}reverseForward(e){e.range=e.range;let t=this.parent.getActiveSheet(),n=e.range[0],i=e.range[1],s=oH(e.range[0],e.range[1],t);if(s&&(!UO(s.rowSpan)&&s.rowSpan<0&&(n+=s.rowSpan,e.range[2]>=n&&(e.range[2]=n)),!UO(s.colSpan)&&s.colSpan<0&&(i+=s.colSpan),s=oH(n,i,t),s&&(s.rowSpan>1&&n+(s.rowSpan-1)>=e.range[0]&&(e.range[0]=n,e.range[0]=n+(s.rowSpan-1)),s.colSpan>1&&i+(s.colSpan-1)>=e.range[3]&&(e.range[3]=e.range[1],e.range[3]=i+(s.colSpan-1)))),e.skipChecking)return;let l,r,a,o,h=e.range[3];for(let c=e.range[1];c<=e.range[3];c++)s=oH(e.range[2],c,t),s&&(l=e.range[2],h=c,!UO(s.rowSpan)&&s.rowSpan<0&&(l+=s.rowSpan,l<e.range[2]&&(e.range[2]=l)),!UO(s.colSpan)&&s.colSpan<0&&(h+=s.colSpan,h<e.range[1]&&(e.range[1]=h)),s=oH(l,h,t),s&&(s.colSpan>1&&h+(s.colSpan-1)>e.range[3]&&(e.range[3]=h+(s.colSpan-1)),s.rowSpan>1&&s.rowSpan-1+l>e.range[0]&&(e.range[0]=s.rowSpan-1+l)));for(let c=e.range[1];c<=e.range[3];c++)s=oH(e.range[0],c,t),s&&(a=c,r=e.range[0],!UO(s.colSpan)&&s.colSpan<0&&(a+=s.colSpan,a<e.range[1]&&(e.range[1]=a)),!UO(s.rowSpan)&&s.rowSpan<0&&(r+=s.rowSpan),s=oH(r,a,t),s&&s.rowSpan>1&&r+(s.rowSpan-1)>e.range[0]&&(e.range[0]=r+(s.rowSpan-1)));for(let c=e.range[2];c<=e.range[0];c++)s=oH(c,e.range[3],t),s&&(l=c,o=e.range[3],!UO(s.rowSpan)&&s.rowSpan<0&&(l+=s.rowSpan,l<e.range[2]&&(e.range[2]=l)),!UO(s.colSpan)&&s.colSpan<0&&(o+=s.colSpan,o<e.range[1]&&(e.range[1]=o)),s=oH(l,o,t),s&&(s.rowSpan>1&&s.rowSpan-1+l>e.range[0]&&(e.range[0]=s.rowSpan-1+l),s.colSpan>1&&s.colSpan-1+o>e.range[3]&&(e.range[3]=o,e.range[3]=s.colSpan-1+o)))}insertHandler(e){this.activeCellRange(e),e.range=e.range,"Row"===e.insertModel?e.range[2]+=e.insertCount:e.range[3]+=e.insertCount,e.preventRefresh=!0,e.merge=!0,this.mergeAll(e)}pasteHandler(e){let t,n,i,s=this.parent.getActiveSheet(),l=qR(s.activeCell);for(let r=e.range[0],a=0;r<=e.range[2];r++,a++)for(let o=e.range[1],h=0;o<=e.range[3];o++,h++){if(t=oH(r,o,e.prevSheet)||{},t.rowSpan>1&&(i=oH(l[0]+(t.rowSpan-1),l[1],s)||{},n=oH(l[0]+1,l[1],s)||{},void 0!==i.colSpan&&i.colSpan<0||void 0!==n.colSpan&&n.colSpan<0))return e.cancel=!0,void this.parent.notify("applyMerge",{showDialog:!0});if(t.colSpan>1&&(i=oH(l[0],l[1]+(t.colSpan-1),s)||{},n=oH(l[0],l[1]+1,s)||{},void 0!==i.rowSpan&&i.rowSpan<0||void 0!==n.rowSpan&&n.rowSpan<0))return e.cancel=!0,void this.parent.notify("applyMerge",{showDialog:!0})}}addEventListener(){this.parent.on(rF,this.merge,this),this.parent.on("mergedRange",this.mergedRange,this),this.parent.on("activeCellMergedRange",this.activeCellRange,this),this.parent.on("insertMerge",this.insertHandler,this),this.parent.on("pasteMerge",this.pasteHandler,this)}destroy(){this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.isDestroyed||(this.parent.off(rF,this.merge),this.parent.off("mergedRange",this.mergedRange),this.parent.off("activeCellMergedRange",this.activeCellRange),this.parent.off("insertMerge",this.insertHandler),this.parent.off("pasteMerge",this.pasteHandler))}getModuleName(){return"workbookmerge"}}function XF(e,t=[]){return t.push({member:"workbookBasic",args:[]}),t.push({member:"workbookAll",args:[]}),t.push({member:"dataBind",args:[e]}),t.push({member:"workbookProtectSheet",args:[e]}),e.allowSave&&t.push({member:"workbookSave",args:[e]}),e.allowOpen&&t.push({member:"workbookOpen",args:[e]}),e.allowEditing&&(t.push({member:"workbookEdit",args:[e]}),t.push({member:"workbookFormula",args:[e]})),e.allowNumberFormatting&&t.push({member:"workbookNumberFormat",args:[e]}),e.allowCellFormatting&&t.push({member:"workbookcellformat",args:[e]}),e.allowSorting&&t.push({member:"workbookSort",args:[e]}),e.allowHyperlink&&t.push({member:"workbookHyperlink",args:[e]}),e.allowFiltering&&t.push({member:"workbookFilter",args:[e]}),e.allowFindAndReplace&&t.push({member:"workbookfindAndReplace",args:[e]}),e.allowInsert&&t.push({member:"workbookinsert",args:[e]}),e.allowDelete&&t.push({member:"workbookdelete",args:[e]}),e.allowDataValidation&&t.push({member:"workbookDataValidation",args:[e]}),e.allowMerge&&t.push({member:"workbookmerge",args:[e]}),t}var KF=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let ZF=(()=>{class e extends OA{}return KF([dA("Calibri")],e.prototype,"fontFamily",void 0),KF([dA("bottom")],e.prototype,"verticalAlign",void 0),KF([dA("left")],e.prototype,"textAlign",void 0),KF([dA("0pt")],e.prototype,"textIndent",void 0),KF([dA("#000000")],e.prototype,"color",void 0),KF([dA("#ffffff")],e.prototype,"backgroundColor",void 0),KF([dA("normal")],e.prototype,"fontWeight",void 0),KF([dA("normal")],e.prototype,"fontStyle",void 0),KF([dA("11pt")],e.prototype,"fontSize",void 0),KF([dA("none")],e.prototype,"textDecoration",void 0),KF([dA("")],e.prototype,"border",void 0),KF([dA("")],e.prototype,"borderTop",void 0),KF([dA("")],e.prototype,"borderBottom",void 0),KF([dA("")],e.prototype,"borderLeft",void 0),KF([dA("")],e.prototype,"borderRight",void 0),e})(),JF=(()=>{class e extends OA{}return KF([dA("")],e.prototype,"name",void 0),KF([dA("")],e.prototype,"scope",void 0),KF([dA("")],e.prototype,"comment",void 0),KF([dA("")],e.prototype,"refersTo",void 0),e})();function QF(e){return e&&"="===e[0]&&e.length>1}const eH="spreadsheetLocale";let tH={SortOutOfRangeError:"Select a cell or range inside the used range and try again."};function nH(e,t){return e.rows[t]}function iH(e,t,n){e.rows[t]||(e.rows[t]={}),Object.keys(n).forEach(i=>{e.rows[t][i]=n[i]})}function sH(e,t){return e.rows[t]&&e.rows[t].hidden}function lH(e,t){return e&&e.rows&&e.rows[t]?e.rows[t].hidden?0:void 0===e.rows[t].height?20:e.rows[t].height:20}function rH(e,t,n){e&&e.rows&&(e.rows[t]||(e.rows[t]={}),e.rows[t].height=n)}function aH(e,t,n=t){let i,s=0;t>n&&(i=t,t=n,n=i);for(let l=t;l<=n;l++)s+=lH(e,l);return s}function oH(e,t,n,i){let s=nH(n,e);if(!s||!s.cells){if(!i)return null;s?n.rows[e].cells=[]:n.rows[e]={cells:[]}}return n.rows[e].cells[t]||null}function hH(e,t,n,i,s){n.rows[e]?n.rows[e].cells||(n.rows[e].cells=[]):n.rows[e]={cells:[]},s&&n.rows[e].cells[t]?qO(n.rows[e].cells[t],i,null,!0):n.rows[e].cells[t]=i}function cH(e,t){let n={fontFamily:"Calibri",verticalAlign:"bottom",textIndent:"0pt",backgroundColor:"#ffffff",color:"#000000",textAlign:"left",fontSize:"11pt",fontWeight:"normal",fontStyle:"normal",textDecoration:"none",border:"",borderLeft:"",borderTop:"",borderRight:"",borderBottom:""},i={};return Object.keys(t?n:e).forEach(t=>{e[t]!==n[t]&&(i[t]=e[t])}),i}function dH(e,t=!0,n){let i=n.getAddressInfo(e),s=i.indices,l=wH(n,i.sheetIndex);for(let r=s[0];r<=s[2];r++)for(let e=s[1];e<=s[3];e++)hH(r,e,l,{wrap:t},!0);n.setProperties({sheets:n.sheets},!0),n.notify("wrapText",{range:s,wrap:t,sheet:l})}function uH(e,t,n,i){return new Promise((s,l)=>{s((()=>{let s,l,r=new Map,a=fH(e,bH(t)),o=wH(e,a),h=GR(t),c=h[0],d=0,u={sheet:o,indexes:h,promise:new Promise((e,t)=>{e(void 0)})};return e.notify("updateSheetFromDataSource",u),u.promise.then(()=>{for(;c<=h[2];){let t={};for(l=nH(o,c),s=h[1];s<=h[3];){if(n){r instanceof Map&&(r=[]);let n="__rowIndex";t[$R(s+1)]=i?l?pH(e,c,s,a,o):"":l?oH(c,s,o):null,h[3]<s+1&&(t[n]=(c+1).toString()),r[d.toString()]=t}else{let t={};if(Object.assign(t,l?oH(c,s,o):null),t.colSpan>1&&t.rowSpan>1){let e;for(let n=c,i=c+t.rowSpan;n<i;n++)for(let l=s,r=s+t.colSpan;l<r;l++)n===c&&l===s||(e=new Object,n!==c&&(e.rowSpan=c-n),l!==s&&(e.colSpan=s-l),o.rows[n]&&o.rows[n].cells&&o.rows[n].cells[l]&&(delete o.rows[n].cells[l].value,delete o.rows[n].cells[l].formula),hH(n,l,o,e,!0))}else if(t.colSpan>1)for(let e=s+1,i=s+t.colSpan;e<i;e++)hH(c,e,o,{colSpan:s-e},!0),o.rows[c]&&o.rows[c].cells&&o.rows[c].cells[e]&&(delete o.rows[c].cells[e].value,delete o.rows[c].cells[e].formula);else if(t.rowSpan>1)for(let e=c+1,i=c+t.rowSpan;e<i;e++)hH(e,s,o,{rowSpan:c-e},!0),o.rows[e]&&o.rows[e].cells&&o.rows[e].cells[s]&&(delete o.rows[e].cells[s].value,delete o.rows[e].cells[s].formula);if(!i&&sH(o,c)){c++;continue}if(!i&&PH(o,s)){s++;continue}if(t.style){let e={};Object.assign(e,t.style),t.style=e}let n={cell:t,address:WR(c,s)};e.trigger("queryCellInfo",n),r.set(n.address,n.cell)}s++}c++,d++}return r})})())})}function pH(e,t,n,i,s){let l=oH(t,n,s);if(l){if(l.format){let s={value:e.getDisplayText(l),rowIndex:t,colIndex:n,sheetIndex:i,dateObj:"",isDate:!1,isTime:!1};return e.notify("checkDateFormat",s),s.isDate?s.dateObj:l.value}return l.value}return""}function mH(e,t,n){let i,s,l=0,r=e.length;for(let a=0;a<r;a++){if(UO(e[a])||WO(e[a].index)||(s=l=e[a].index-a,delete e[a].index),l>0){for(i=0;l--;)t?(n.createSheet(a+i),i++):e.splice(a,0,null);a+=s,r+=s}if(t){e[a].id<1&&(e[a].id=xH(n.sheets)),e[a].name||(e[a].name="Sheet"+CH(n));let t=0;e[a].rows.forEach(e=>{t=Math.max(t,e&&e.cells&&e.cells.length-1||0)}),e[a].usedRange={rowIndex:e[a].rows.length-1,colIndex:t}}}}function fH(e,t){if(UO(t))return e.activeSheetIndex;if("number"==typeof t)return t;let n;for(let i=0;i<e.sheets.length;i++)if(e.sheets[i].name.toLowerCase()===t.toLowerCase()){n=i;break}return n}function gH(e,t){let n;for(let i=0;i<e.sheets.length;i++)if(e.sheets[i].id===t){n=i;break}return n}function bH(e){return e.split("!")[0].replace(/\'/gi,"")}function vH(e,t,n){let i=n.length;for(let s=0;s<i;s++)if(n[s].sheet.toUpperCase()===t.toUpperCase())return n[s].index;return-1}function yH(e,t,n={}){n.selectedRange=t}function wH(e,t){return e.sheets[fH(e,t)||0]}function CH(e){let t=[];e.sheets.forEach(e=>{t.push(e.name.toLowerCase())});for(let n=0;n<t.length;n++){if(!(t.indexOf("sheet"+e.sheetNameCount)>-1))return e.sheetNameCount++;e.sheetNameCount++}return e.sheetNameCount++}function xH(e){let t=0;return e.forEach(e=>{t=Math.max(e.id,t)}),t+1}function _H(e,t){let n=t||e.sheets;n.forEach(e=>{var t,n;e.id=e.id||0,e.name=e.name||"",e.rowCount=WO(e.rowCount)?100:e.rowCount,e.colCount=WO(e.colCount)?100:e.colCount,e.topLeftCell=e.topLeftCell||"A1",e.activeCell=e.activeCell||"A1",e.selectedRange=e.selectedRange||"A1",e.usedRange=e.usedRange||{rowIndex:0,colIndex:0},e.ranges=e.ranges?((t=e.ranges).forEach(e=>{e.startCell=e.startCell||"A1",e.address=e.address||"A1",e.template=e.template||"",e.showFieldAsHeader=!!WO(e.showFieldAsHeader)||e.showFieldAsHeader}),t):[],e.rows=e.rows||[],e.columns=e.columns||[],e.showHeaders=!!WO(e.showHeaders)||e.showHeaders,e.showGridLines=!!WO(e.showGridLines)||e.showGridLines,e.state=e.state||"Visible",e.maxHgts=[],e.protectSettings=e.protectSettings||{selectCells:!1,formatCells:!1,formatRows:!1,formatColumns:!1,insertLink:!1},e.isProtected=e.isProtected||!1,mH(e.columns),(n=e.rows).forEach(e=>{e&&e.cells&&mH(e.cells)}),mH(n)}),mH(n,!0,e)}function SH(e,t=e.activeSheetIndex){return wH(e,t).name}class kH{constructor(){this.services={}}getService(e){if(UO(this.services[e]))throw`The service ${e} is not registered`;return this.services[e]}register(e,t){UO(this.services[e])&&(this.services[e]=t)}}var EH,OH=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let IH=(()=>{let e=EH=class extends TA{constructor(e){super(e),this.sheetNameCount=1,this.isOpen=!1,EH.Inject(cF,CF,wF,aF,VF,jF,FF,HF,zF,BF,qF,YF,WF,$F,GF),this.commonCellStyle={},e&&e.cellStyle&&(this.commonCellStyle=e.cellStyle),"workbook"===this.getModuleName()&&(this.serviceLocator=new kH,this.initWorkbookServices(),this.dataBind(),this.initEmptySheet())}preRender(){Object.keys(this.commonCellStyle).length||(this.commonCellStyle=cH(this.cellStyle,!0)),"spreadsheet"!==this.getModuleName()||this.refreshing||this.initEmptySheet()}initWorkbookServices(){this.serviceLocator.register(eH,new WA(this.getModuleName(),tH,this.locale))}render(){}requiredModules(){return XF(this)}getPersistData(){return this.addOnPersist([])}cellFormat(e,t){let n=this.getActiveSheet();this.notify(iF,{style:e,range:t=t||n.selectedRange,refreshRibbon:t.indexOf(n.activeCell)>-1})}lockCells(e,t){let n=this.getActiveSheet();this.notify("setLockCells",{range:e=e||n.selectedRange,isLocked:t})}getCellStyleValue(e,t){let n=oH(t[0],t[1],this.getActiveSheet()),i={};return e.forEach(e=>{i[e]=this.cellStyle[e],n&&n.style&&n.style[e]&&(i[e]=n.style[e])}),i}numberFormat(e,t){this.notify("applyNumber",{format:e,range:t})}createSheet(e=this.sheets.length,t=[{}]){this.sheets.splice(e,0,...t),_H(this,t),this.notify("sheetCreated",{sheetIndex:e||0,sheets:t}),this.notify(sF,{action:"registerSheet",sheetIndex:e||0,sheetCount:e+t.length})}removeSheet(e){this.sheets.splice(e,1)}destroy(){this.notify("workbookDestroyed",null),super.destroy()}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"cellStyle":zO(this.commonCellStyle,cH(e.cellStyle));break;case"sheets":_H(this)}}appendTo(e){super.appendTo(e)}hideRow(e,t,n,i){UO(n)&&(n=!0),UO(t)&&(t=e);let s=wH(this,i);for(let l=e;l<=t;l++)iH(s,l,{hidden:n})}hideColumn(e,t,n,i){UO(t)&&(t=e),UO(n)&&(n=!0);let s=wH(this,i);for(let l=e;l<=t;l++)AH(s,l,{hidden:n})}setBorder(e,t,n){this.notify(iF,{style:e,borderType:n,range:t||this.getActiveSheet().selectedRange})}insertRow(e,t,n){n=fH(this,n)||0,this.notify("insertModel",{model:this.sheets[n],start:e,end:t,modelType:"Row",sheet:n})}insertColumn(e,t,n){n=fH(this,n)||0,this.notify("insertModel",{model:this.sheets[n],start:e,end:t,modelType:"Column",sheet:n})}insertSheet(e,t){this.notify("insertModel",{model:this,start:e,end:t,modelType:"Sheet"})}delete(e,t,n,i){i=fH(this,i)||0,this.notify("deleteModel",{model:n&&"Sheet"!==n?this.sheets[i]:this,sheet:i,start:e||0,end:UO(t)?e||0:t,modelType:n||"Sheet"})}merge(e,t){e=e||this.getActiveSheet().selectedRange,this.notify(rF,{merge:!0,range:e,type:t||"All",refreshRibbon:e.indexOf(this.getActiveSheet().activeCell)>-1})}unMerge(e=this.getActiveSheet().selectedRange){this.notify(rF,{merge:!1,range:e,type:"All",refreshRibbon:e.indexOf(this.getActiveSheet().activeCell)>-1})}computeExpression(e){let t={action:"computeExpression",formula:e};return this.notify(sF,t),t.calcValue}initEmptySheet(){this.sheets.length?_H(this):this.createSheet()}getActiveSheet(){return this.sheets[this.activeSheetIndex]}setUsedRange(e,t,n){let i=wH(this,n);e>i.usedRange.rowIndex&&(i.usedRange.rowIndex=e,this.notify("updateUsedRange",{index:e,update:"row"})),t>i.usedRange.colIndex&&(i.usedRange.colIndex=t,this.notify("updateUsedRange",{index:t,update:"col"}))}getData(e){return uH(this,e)}getModuleName(){return"workbook"}getValueRowCol(e,t,n){let i={action:"getSheetInfo",sheetInfo:[]};if(this.notify(sF,i),-1===vH(0,"Sheet"+(e+1),i.sheetInfo)){let e={action:"getReferenceError",refError:""};return this.notify(sF,e),e.refError}let s=oH(t-1,n-1,wH(this,e=gH(this,e+1)));return s&&s.value||""}setValueRowCol(e,t,n,i){e=gH(this,e),this.notify("workbookEditOperation",{action:"updateCellValue",address:[n-1,i-1],value:t,sheetIndex:e,isValueOnly:!0})}open(e){this.notify("workbookOpen",e)}openFromJson(e){this.isOpen=!0;let t="object"==typeof e.file?JSON.stringify(e.file):e.file;this.notify("workbookOpen",{jsonObject:t})}save(e={}){if(this.allowSave){let t=Object.assign({},{url:this.saveUrl,fileName:e.fileName||"Sample",saveType:"Xlsx"},e,{customParams:{},isFullPost:!0,needBlobData:!1,cancel:!1});this.trigger("beforeSave",t),this.notify(bF,{eventArgs:t,action:"beforeSave"}),t.cancel||this.notify("beginSave",{saveSettings:t,isFullPost:t.isFullPost,needBlobData:t.needBlobData,customParams:t.customParams})}}saveAsJson(){return new Promise(e=>{this.on("onSave",t=>{t.cancel=!0,this.off("onSave"),e({jsonObject:{Workbook:t.jsonObject}}),this.notify("saveCompleted",t)}),this.save()})}addHyperlink(e,t){this.notify("setLinkModel",{hyperlink:e,cell:t})}findHandler(e){"next"===e.findOpt?this.notify("findNext",e):"prev"===e.findOpt&&this.notify("findPrevious",e)}replaceHandler(e){this.notify("replace"===e.replaceBy?"replace":"replaceAll",e)}protectSheet(e,t){this.notify("protectsheetHandler",t)}unprotectSheet(e){this.notify("unprotectsheetHandler",{sheet:e})}sort(e,t){if(!this.allowSorting)return Promise.reject();let n={args:{range:t||this.getActiveSheet().selectedRange,sortOptions:e||{sortDescriptors:{}},cancel:!1},promise:new Promise((e,t)=>{e(void 0)})};return this.notify("initiateSort",n),n.promise}addDataValidation(e,t){let n={range:t=t||this.getActiveSheet().selectedRange,type:e.type,operator:e.operator,value1:e.value1,value2:e.value2,ignoreBlank:e.ignoreBlank,inCellDropDown:e.inCellDropDown,cancel:!1};this.notify(bF,{eventArgs:n,action:"validation"}),n.cancel||(t=n.range,e.type=n.type,e.operator=n.operator,e.value1=n.value1,e.value2=n.value2,e.ignoreBlank=n.ignoreBlank,e.inCellDropDown=n.inCellDropDown,this.notify("setValidation",{rules:e,range:t}),delete n.cancel,this.notify(gF,{eventArgs:n,action:"validation"}))}removeDataValidation(e){this.notify("removeValidation",{range:e})}addInvalidHighlight(e){this.notify("addHighlight",{range:e})}removeInvalidHighlight(e){this.notify("removeHighlight",{range:e})}updateCell(e,t){let n,i=GR(t);t.includes("!")?(n=fH(this,t.split("!")[0]),void 0===n&&(n=this.activeSheetIndex)):n=this.activeSheetIndex,hH(i[0],i[1],this.sheets[n],e,!0),e.value&&this.notify("workbookEditOperation",{action:"updateCellValue",address:i,value:e.value,sheetIndex:n})}wrap(e,t=!0){dH(e,t,this)}addDefinedName(e){let t={action:"addDefinedName",isAdded:!1,definedName:e};return this.notify(sF,t),t.isAdded}removeDefinedName(e,t=""){let n={action:"removeDefinedName",isRemoved:!1,definedName:e,scope:t};return this.notify(sF,n),n.isRemoved}clearRange(e,t,n=!0){!function(e,t,n,i){let s,l,r=wH(e,n),a=GR(t),o=a[0],h=a[2];for(;o<=h;o++)for(s=a[1],l=a[3];s<=l;s++){let e=oH(o,s,r);!UO(e)&&i&&(delete e.value,UO(e.formula)||delete e.formula)}}(this,e||this.getActiveSheet().selectedRange,UO(t)?this.activeSheetIndex:t,n)}filter(e,t){if(!this.allowFiltering)return Promise.reject();let n={args:{range:t||this.getActiveSheet().selectedRange,filterOptions:e,cancel:!1},promise:new Promise((e,t)=>{e(void 0)})};return this.notify("initiateFilter",n),n.promise}clearFilter(){this.notify("clearAllFilter",null)}addCustomFunction(e,t){t=t||("string"==typeof e?e:e.name.replace("bound ","")),this.notify(sF,{action:"addCustomFunction",functionHandler:e,functionName:t})}getDisplayText(e){if(!e)return"";if(e.value&&e.format){let t={formattedText:e.value,value:e.value,format:e.format,onLoad:!0};return this.notify("getFormattedCell",t),t.formattedText}return!e.value&&e.hyperlink?"string"==typeof e.hyperlink?e.hyperlink:e.hyperlink.address:e.value?e.value.toString():""}getAddressInfo(e){return function(e,t){let n;return n=t.indexOf("!")>-1?fH(e,bH(t)):e.activeSheetIndex,{sheetIndex:n,indices:GR(t)}}(this,e)}};return OH([dA([])],e.prototype,"sheets",void 0),OH([dA(0)],e.prototype,"activeSheetIndex",void 0),OH([dA("100%")],e.prototype,"height",void 0),OH([dA(!0)],e.prototype,"allowFindAndReplace",void 0),OH([dA("100%")],e.prototype,"width",void 0),OH([dA(!0)],e.prototype,"showRibbon",void 0),OH([dA(!0)],e.prototype,"showFormulaBar",void 0),OH([dA(!0)],e.prototype,"showSheetTabs",void 0),OH([dA(!0)],e.prototype,"allowEditing",void 0),OH([dA(!0)],e.prototype,"allowOpen",void 0),OH([dA(!0)],e.prototype,"allowSave",void 0),OH([dA(!0)],e.prototype,"allowSorting",void 0),OH([dA(!0)],e.prototype,"allowFiltering",void 0),OH([dA(!0)],e.prototype,"allowNumberFormatting",void 0),OH([dA(!0)],e.prototype,"allowCellFormatting",void 0),OH([dA(!0)],e.prototype,"allowHyperlink",void 0),OH([dA(!0)],e.prototype,"allowInsert",void 0),OH([dA(!0)],e.prototype,"allowDelete",void 0),OH([dA(!0)],e.prototype,"allowMerge",void 0),OH([dA(!0)],e.prototype,"allowDataValidation",void 0),OH([uA({},ZF)],e.prototype,"cellStyle",void 0),OH([dA("")],e.prototype,"openUrl",void 0),OH([dA("")],e.prototype,"saveUrl",void 0),OH([pA([],JF)],e.prototype,"definedNames",void 0),OH([mA()],e.prototype,"beforeOpen",void 0),OH([mA()],e.prototype,"openFailure",void 0),OH([mA()],e.prototype,"beforeSave",void 0),OH([mA()],e.prototype,"saveComplete",void 0),OH([mA()],e.prototype,"beforeCellFormat",void 0),OH([mA()],e.prototype,"queryCellInfo",void 0),e=EH=OH([fA],e),e})();function DH(e,t){return e.columns?e.columns[t]||(e.columns[t]={}):(e.columns=[],e.columns[t]={}),e.columns[t]}function AH(e,t,n){let i=DH(e,t);Object.keys(n).forEach(e=>{i[e]=n[e]})}function MH(e,t,n){return e&&e.columns&&e.columns[t]?!n&&e.columns[t].hidden?0:e.columns[t].width||e.columns[t].customWidth?e.columns[t].width:64:64}function TH(e,t,n=t){let i=0;if(t>n){let e=t;t=n,n=e}for(let s=t;s<=n;s++)i+=MH(e,s);return i}function PH(e,t){return e.columns[t]&&e.columns[t].hidden}function LH(e){requestAnimationFrame(()=>{e()})}function NH(e,t){for(;e.firstChild;)e.removeChild(e.firstChild)}function RH(e){let t=30;return e.toString().length>3&&(t=10*e.toString().length),t}let FH=null,HH=["e-ribbon","e-formula-bar-panel","e-sheet-tab-panel","e-header-toolbar"];function BH(e,t=HH){return VH(e,"previous",t)+VH(e,"next",t)}function VH(e,t,n){let i=e[t+"ElementSibling"],s=0;for(;i;)n.some(e=>i.classList.contains(e))&&(s+=i.offsetHeight),i=i[t+"ElementSibling"];return s}function jH(e,t,n){if(e.scrollSettings.enableVirtualization){let i=e.viewport.topIndex,s=e.viewport.leftIndex,l=i+e.viewport.rowCount+2*e.getThreshold("row"),r=s+e.viewport.colCount+2*e.getThreshold("col"),a=i<=t[0]&&l>=t[2]&&s<=t[1]&&r>=t[3];if(a)return!0;if(n){if(t[0]<i&&t[2]<i||t[0]>l&&t[2]>l)return!1;if(t[0]<i&&t[2]>i&&(t[0]=i,a=!0),t[2]>l&&(t[2]=l,a=!0),t[1]<s&&t[3]<s||t[1]>r&&t[3]>r)return!1;t[1]<s&&t[3]>s&&(t[1]=s,a=!0),t[3]>r&&(t[3]=r,a=!0)}return a}return!0}function zH(e,t,n={left:{idx:0,size:0},top:{idx:0,size:0}}){let i,s=n.top.size,l=n.left.size;for(i=t[0];i<n.top.idx;i++)s-=aH(e,i);for(i=n.top.idx;i<t[0];i++)s+=aH(e,i);for(i=t[1];i<n.left.idx;i++)l-=TH(e,i);for(i=n.left.idx;i<t[1];i++)l+=TH(e,i);return{top:s,left:l}}function qH(e,t,n,i,s){let l=KR(t),r=zH(n,l,s),a=[dB(n,0,!0),dB(n,0,!0,"columns")],o={top:(l[0]===a[0]?r.top:r.top-1)+"px",height:aH(n,t[0],t[2])+(l[0]===a[0]?0:1)+"px",width:TH(n,t[1],t[3])+(l[1]===a[1]?0:1)+"px"};var h;o[i?"right":"left"]=(l[1]===a[1]?r.left:r.left-1)+"px",h=[{element:e,attrs:o}],requestAnimationFrame(()=>{h.forEach(e=>{XD(e.element,e.attrs)})})}function UH(){return jI.isPointer?"pointerdown":"mousedown touchstart"}function WH(){return jI.isPointer?"pointermove":"mousemove touchmove"}function YH(){return jI.isPointer?"pointerup":"mouseup touchend"}function $H(e){return"touchstart"===e.type||"pointerdown"===e.type&&"touch"===e.pointerType}function GH(e){return"touchmove"===e.type||"pointermove"===e.type&&"touch"===e.pointerType}function XH(e){return"touchend"===e.type||"pointerup"===e.type&&"touch"===e.pointerType}function KH(e){return e.changedTouches?e.changedTouches[0].clientX:e.clientX}function ZH(e){return e.changedTouches?e.changedTouches[0].clientY:e.clientY}const JH={role:"role",selected:"aria-selected",multiselectable:"aria-multiselectable",busy:"aria-busy",colcount:"aria-colcount"};function QH(e,t){Object.keys(t).forEach(n=>{e&&e.setAttribute(JH[n],t[n])})}function eB(e,t,n,i){let s,l,r,a,o,h,c,d,u;if(i.getActiveSheet(),n)s=i.element.getElementsByClassName("e-column-header")[0].getElementsByTagName("th")[e],l=i.element.getElementsByClassName("e-column-header")[0].getElementsByTagName("col")[e],r=i.element.getElementsByClassName("e-sheet-content")[0].getElementsByTagName("col")[e];else{s=i.element.getElementsByClassName("e-row-header")[0].getElementsByTagName("tr")[e],l=i.element.getElementsByClassName("e-row-header")[0].getElementsByTagName("tr")[e],r=i.element.getElementsByClassName("e-sheet-content")[0].getElementsByTagName("tr")[e],l.style.height=parseInt(t,10)>0?t:"2px",r.style.height=parseInt(t,10)>0?t:"0px";let n=i.getRowHeaderContent().getElementsByClassName("e-row"),a=[];a[0]=n[e].getElementsByTagName("td")[0].cloneNode(!0);let o=nB(i.getRowHeaderTable(),a,!1,i)+1,h=i.getMainContent().getElementsByClassName("e-row"),c=[];for(let t=0;t<h[e].getElementsByTagName("td").length;t++)c[t]=h[e].getElementsByTagName("td")[t].cloneNode(!0);let d=nB(i.getContentTable(),c,!1,i)+1,u=o>=d?o:d;parseInt(r.style.height,10)<u||s.classList.contains("e-reach-fntsize")&&parseInt(r.style.height,10)===u?(s.classList.add("e-reach-fntsize"),l.style.lineHeight=parseInt(t,10)>=4?parseInt(t,10)-4+"px":parseInt(t,10)>0?parseInt(t,10)-1+"px":"0px",r.style.lineHeight=parseInt(t,10)>0?parseInt(t,10)-1+"px":"0px"):(l.style.removeProperty("line-height"),r.style.removeProperty("line-height"),s.classList.contains("e-reach-fntsize")&&s.classList.remove("e-reach-fntsize"))}if(a=s.previousElementSibling,c=s.nextElementSibling,a&&(a=s.previousElementSibling,o=l.previousElementSibling,h=r.previousElementSibling),c&&(c=s.nextElementSibling,d=l.nextElementSibling,u=r.nextElementSibling),parseInt(t,10)<=0&&!s.classList.contains("e-zero")&&!s.classList.contains("e-zero-start")){if(a&&c)if(n?(l.style.width="2px",r.style.width="0px"):(l.style.height="2px",r.style.height="0px"),a.classList.contains("e-zero-start")?(s.classList.add("e-zero-start"),r.classList.add("e-zero-start")):(s.classList.add("e-zero"),r.classList.add("e-zero")),c.classList.contains("e-zero")||c.classList.contains("e-zero-last")||(s.classList.add("e-zero-last"),r.classList.add("e-zero-last")),a.classList.contains("e-zero-last")&&(a.classList.remove("e-zero-last"),h.classList.remove("e-zero-last")),a.classList.contains("e-zero")?(s.classList.contains("e-zero-end"),tB(o,-2,n)):tB(o,-1,n),a.classList.contains("e-zero-start")&&tB(l,-1,n),c.classList.contains("e-zero"))if(s.classList.contains("e-zero-start"))for(;c;){if(c.classList.contains("e-zero")&&0!==parseInt(d.style.height,10)&&!n||0!==parseInt(d.style.width,10)&&n){n?(l.style.width=parseInt(l.style.width,10)-1+"px",d.style.width=parseInt(d.style.width,10)-1+"px"):(l.style.height=parseInt(l.style.height,10)-1+"px",d.style.height=parseInt(d.style.height,10)-1+"px"),c.classList.remove("e-zero"),c.classList.add("e-zero-start");break}{let e;c.classList.remove("e-zero"),c.classList.add("e-zero-start"),n?(e=parseInt(c.getAttribute("aria-colindex"),10)-1,c=i.getColHeaderTable().getElementsByTagName("th")[e+1],d=i.getColHeaderTable().getElementsByTagName("col")[e+1]):(e=parseInt(c.getAttribute("aria-rowindex"),10)-1,c=i.getRowHeaderTable().getElementsByTagName("tr")[e+1],d=i.getRowHeaderTable().getElementsByTagName("tr")[e+1])}}else tB(l,-2,n);else c.classList.contains("e-zero-end")?n?l.style.width="0px":l.style.height="0px":tB(d,-1,n);else if(a)n?(l.style.width="1px",r.style.width="0px"):(l.style.height="1px",r.style.height="0px"),s.classList.add("e-zero-end"),r.classList.add("e-zero-end"),s.classList.add("e-zero-last"),r.classList.add("e-zero-last"),a.classList.contains("e-zero")?tB(o,-2,n):tB(o,-1,n);else if(c)if(s.classList.add("e-zero-start"),r.classList.add("e-zero-start"),c.classList.contains("e-zero")||(s.classList.add("e-zero-last"),r.classList.add("e-zero-last")),n?(l.style.width="1px",r.style.width="0px"):(l.style.height="1px",r.style.height="0px"),c.classList.contains("e-zero"))for(;c;){if(c.classList.contains("e-zero")&&0!==parseInt(d.style.width,10)&&n||0!==parseInt(d.style.height,10)&&!n){n?(d.style.width=parseInt(d.style.width,10)-1+"px",l.style.width=parseInt(l.style.width,10)-1+"px"):(d.style.height=parseInt(d.style.height,10)-1+"px",l.style.height=parseInt(l.style.height,10)-1+"px"),c.classList.add("e-zero-start"),c.classList.remove("e-zero");break}{let e;c.classList.add("e-zero-start"),c.classList.remove("e-zero"),n?(e=parseInt(c.getAttribute("aria-colindex"),10)-1,d=i.getColHeaderTable().getElementsByTagName("col")[e+1],c=i.getColHeaderTable().getElementsByTagName("th")[e+1]):(e=parseInt(c.getAttribute("aria-rowindex"),10)-1,d=i.getRowHeaderTable().getElementsByTagName("tr")[e+1],c=i.getRowHeaderTable().getElementsByTagName("tr")[e+1])}}else tB(d,-1,n)}else parseInt(t,10)>0&&(n?(l.style.width=t,r.style.width=t):(l.style.height=t,r.style.height=t),a&&c?(a.classList.contains("e-zero")?s.classList.contains("e-zero")?n?(o.style.width=parseInt(o.style.width,10)+2+"px",l.style.width=parseInt(l.style.width,10)-1+"px"):(o.style.height=parseInt(o.style.height,10)+2+"px",l.style.height=parseInt(l.style.height,10)-1+"px"):tB(l,-1,n):s.classList.contains("e-zero")?tB(o,1,n):s.classList.contains("e-zero-start")&&(n?(o.style.width=parseInt(o.style.width,10)+1+"px",l.style.width=parseInt(l.style.width,10)-1+"px"):(o.style.height=parseInt(o.style.height,10)+1+"px",l.style.height=parseInt(l.style.height,10)-1+"px")),c.classList.contains("e-zero")?tB(l,-1,n):(s.classList.contains("e-zero")||s.classList.contains("e-zero-start"))&&tB(d,1,n),s.classList.contains("e-zero")&&s.classList.remove("e-zero"),s.classList.contains("e-zero-start")&&s.classList.remove("e-zero-start"),r.classList.contains("e-zero")&&r.classList.remove("e-zero"),r.classList.contains("e-zero-start")&&r.classList.remove("e-zero-start"),s.classList.contains("e-zero-last")&&s.classList.remove("e-zero-last"),r.classList.contains("e-zero-last")&&r.classList.remove("e-zero-last"),(a.classList.contains("e-zero")||a.classList.contains("e-zero-start"))&&(a.classList.add("e-zero-last"),h.classList.add("e-zero-last"))):a?(a.classList.contains("e-zero")?s.classList.contains("e-zero")?n?(l.style.width=parseInt(l.style.width,10)-1+"px",o.style.width=parseInt(o.style.width,10)+2+"px"):(l.style.height=parseInt(l.style.height,10)-1+"px",o.style.height=parseInt(o.style.height,10)+2+"px"):tB(l,-1,n):s.classList.contains("e-zero")?tB(o,1,n):tB(l,-1,n),s.classList.contains("e-zero")&&s.classList.remove("e-zero"),s.classList.contains("e-zero-end")&&s.classList.remove("e-zero-end"),r.classList.contains("e-zero")&&r.classList.remove("e-zero"),r.classList.contains("e-zero-end")&&r.classList.remove("e-zero-end")):c&&(c.classList.contains("e-zero")?tB(l,-1,n):s.classList.contains("e-zero-start")&&(tB(d,1,n),s.classList.remove("e-zero-start")),s.classList.contains("e-zero")&&s.classList.remove("e-zero"),r.classList.contains("e-zero")&&r.classList.remove("e-zero"),s.classList.contains("e-zero-start")&&s.classList.remove("e-zero-start"),r.classList.contains("e-zero-start")&&r.classList.remove("e-zero-start")))}function tB(e,t,n){n?e.style.width=parseInt(e.style.width,10)+t+"px":e.style.height=parseInt(e.style.height,10)+t+"px"}function nB(e,t,n,i){let s=i.createElement("div",{className:i.element.className}),l=i.createElement("table",{className:e.className+"e-resizetable",styles:"width: auto;height: auto"}),r=i.createElement("tr");n?t.forEach(e=>{let t=r.cloneNode();t.appendChild(e),l.appendChild(t)}):(t.forEach(e=>{r.appendChild(e.cloneNode(!0))}),l.appendChild(r)),s.appendChild(l),document.body.appendChild(s);let a=l.getBoundingClientRect().width,o=l.getBoundingClientRect().height;return document.body.removeChild(s),n?Math.ceil(a):Math.ceil(o)}function iB(e,t,n){let i=e.eventArgs;switch(e.action){case"sorting":let s={args:{range:e.eventArgs.range,sortOptions:e.eventArgs.sortOptions,cancel:!1},promise:new Promise((e,t)=>{e(void 0)})};t.notify("initiateSort",s),s.promise.then(e=>{t.serviceLocator.getService("cell").refreshRange(GR(e.range))});break;case"cellSave":let l=e.eventArgs;t.updateCell(i.formula?{formula:l.formula}:{value:l.value},l.address);break;case"format":"CellFormat"===i.requestType?t.cellFormat(i.style,i.range):t.numberFormat(i.format,i.range);break;case"clipboard":if(i.copiedInfo.isCut&&!n)return;(i.copiedInfo.isCut?t.cut(i.copiedRange):t.copy(i.copiedRange)).then(e=>{t.paste(i.pastedRange,i.type)});break;case"gridLines":t.sheets[i.sheetIdx].showGridLines=i.isShow;break;case"headers":t.sheets[i.sheetIdx].showHeaders=i.isShow;break;case"resize":case"resizeToFit":i.isCol?void 0===i.hide?t.setColWidth(i.width,i.index,i.sheetIdx):t.hideColumn(i.index,i.index,i.hide):void 0===i.hide?t.setRowHeight(i.height,i.index,i.sheetIdx):t.hideRow(i.index,i.index,i.hide);break;case"renameSheet":t.sheets[i.index-1].name=i.value;break;case"removeSheet":t.notify("removeSheetTab",{index:i.index,isAction:!0,count:i.sheetCount,clicked:!0});break;case"wrap":dH(e.eventArgs.address,e.eventArgs.wrap,t);break;case"hideShow":i.isCol?t.hideColumn(i.startIndex,i.endIndex,i.hide):t.hideRow(i.startIndex,i.endIndex,i.hide);break;case"replace":t.updateCell({value:i.compareVal},i.address);break;case"insert":!1===n?t.delete(e.eventArgs.index,e.eventArgs.index+(e.eventArgs.model.length-1),e.eventArgs.modelType):t.notify("insertModel",{model:"Sheet"===e.eventArgs.modelType?t:t.getActiveSheet(),start:e.eventArgs.index,end:e.eventArgs.index+(e.eventArgs.model.length-1),modelType:e.eventArgs.modelType,isAction:!1,checkCount:e.eventArgs.sheetCount,activeSheetIndex:e.eventArgs.activeSheetIndex});break;case"delete":!1===n?t.notify("insertModel",{model:"Sheet"===e.eventArgs.modelType?t:t.getActiveSheet(),start:e.eventArgs.deletedModel,modelType:e.eventArgs.modelType,isAction:!1,columnCellsModel:e.eventArgs.deletedCellsModel}):t.delete(e.eventArgs.startIndex,e.eventArgs.endIndex,e.eventArgs.modelType);break;case"validation":n?t.notify("setValidation",{rules:{type:i.type,operator:i.operator,value1:i.value1,value2:i.value2,ignoreBlank:i.ignoreBlank,inCellDropDown:i.inCellDropDown},range:i.range}):t.notify("removeValidation",{range:i.range});break;case"merge":e.eventArgs.isAction=!1,t.notify(rF,e.eventArgs)}}function sB(e,t,n,i){let s,l=e.sheets[i].ranges;for(let r=0,a=l.length;r<a;r++)if(l[r].template&&(s=zR(l[r].address.length?l[r].address:l[r].startCell),s[0]<=t&&s[1]<=n&&s[2]>=t&&s[3]>=n))return!0;return!1}function lB(e,t,n,i,s,l,r=!0){let a=lH(t,i);(s||e.getRow(i)).style.height=`${n}px`,t.showHeaders&&((l||e.getRow(i,e.getRowHeaderTable())).style.height=`${n}px`),rH(t,i,n),e.setProperties({sheets:e.sheets},!0),r&&e.notify("rowHeightChanged",{rowIdx:i,threshold:n-a})}function rB(e,t,n=1){let i=t&&t.fontSize||e.cellStyle.fontSize,s=i.indexOf("pt")>-1?1.33*parseInt(i,10):parseInt(i,10);return Math.ceil(s*(t&&"Arial Black"===t.fontFamily?1.44:1.24)*n)}function aB(e,t,n){t||(t=n);let i=document.createElement("canvas").getContext("2d");return i.font=(t.fontStyle||n.fontStyle)+" "+(t.fontWeight||n.fontWeight)+" "+(t.fontSize||n.fontSize)+" "+(t.fontFamily||n.fontFamily),i.measureText(e).width}function oB(e,t,n,i){let s,l,r=0,a=e.toString().split(" "),o=aB(" ",n,i),h=0;return t-=5,a.forEach(e=>{let a=0,c=0;s=aB(e,n,i),l=(r+s)/t,l>=1?(r&&h++,s/t>=1?(e.split("").forEach(e=>{c=aB(e,n,i),a+=c,a>t&&(h++,a=c)}),r=a+o):r=s+o):r+=s+o}),r&&(h+=Math.ceil((r-o)/t)),h}function hB(e,t,n,i){e.maxHgts[t]||(e.maxHgts[t]={}),e.maxHgts[t][n]=i}function cB(e,t){let n=0,i=e.maxHgts[t];return i&&Object.keys(i).forEach(e=>{i[e]>n&&(n=i[e])}),n}function dB(e,t,n,i="rows"){return t<0&&(t=-1),e[i][t]&&e[i][t].hidden&&(n?t++:t--,t=dB(e,t,n,i)),t}class uB{constructor(e){this.parent=e,this.init(),this.addEventListener()}init(){this.parent.element.appendChild(this.parent.createElement("input",{className:"e-clipboard",attrs:{contenteditable:"true"}}))}addEventListener(){let e=this.getClipboardEle();this.parent.on("cut",this.cut,this),this.parent.on("copy",this.copy,this),this.parent.on("paste",this.paste,this),this.parent.on("clearCopy",this.clearCopiedInfo,this),this.parent.on("tabSwitch",this.tabSwitchHandler,this),this.parent.on(mF,this.cMenuBeforeOpenHandler,this),this.parent.on("ribboClick",this.ribbonClickHandler,this),this.parent.on("contentLoaded",this.initCopyIndicator,this),this.parent.on("rowHeightChanged",this.rowHeightChanged,this),zI.add(e,"cut",this.cut,this),zI.add(e,"copy",this.copy,this),zI.add(e,"paste",this.paste,this)}removeEventListener(){let e=this.getClipboardEle();this.parent.isDestroyed||(this.parent.off("cut",this.cut),this.parent.off("copy",this.copy),this.parent.off("paste",this.paste),this.parent.off("clearCopy",this.clearCopiedInfo),this.parent.off("tabSwitch",this.tabSwitchHandler),this.parent.off(mF,this.cMenuBeforeOpenHandler),this.parent.off("ribboClick",this.ribbonClickHandler),this.parent.off("contentLoaded",this.initCopyIndicator),this.parent.off("rowHeightChanged",this.rowHeightChanged)),zI.remove(e,"cut",this.cut),zI.remove(e,"copy",this.copy),zI.remove(e,"paste",this.paste)}ribbonClickHandler(e){let t=this.parent.element.id;switch(e.item.id){case t+"_cut":this.cut({isAction:!0});break;case t+"_copy":this.copy({isAction:!0})}this.parent.element.focus()}tabSwitchHandler(e){0!==e.activeTab||this.copiedInfo||this.hidePaste()}cMenuBeforeOpenHandler(e){let t=this.parent.getActiveSheet(),n=this.parent.serviceLocator.getService(QB),i=[],s=[],l=[],r=[];"Content"!==e.target&&"RowHeader"!==e.target&&"ColumnHeader"!==e.target||(this.parent.enableContextMenuItems([n.getConstant("Paste"),n.getConstant("PasteSpecial")],!(!this.copiedInfo||t.isProtected)),this.parent.enableContextMenuItems([n.getConstant("Cut")],!t.isProtected)),"Content"===e.target&&t.isProtected&&this.parent.enableContextMenuItems([n.getConstant("Cut"),n.getConstant("Filter"),n.getConstant("Sort")],!1),"Content"===e.target&&t.isProtected&&!t.protectSettings.insertLink&&this.parent.enableContextMenuItems([n.getConstant("Hyperlink")],!1),"ColumnHeader"===e.target&&t.isProtected&&(l=[n.getConstant("DeleteColumn"),n.getConstant("DeleteColumns"),n.getConstant("InsertColumn"),n.getConstant("InsertColumns")],r=[n.getConstant("HideColumn"),n.getConstant("HideColumns"),n.getConstant("UnHideColumns")],this.parent.enableContextMenuItems(l,!1),this.parent.enableContextMenuItems(r,!!t.protectSettings.formatColumns)),"RowHeader"===e.target&&t.isProtected&&(i=[n.getConstant("DeleteRow"),n.getConstant("DeleteRows"),n.getConstant("InsertRow"),n.getConstant("InsertRows")],s=[n.getConstant("HideRow"),n.getConstant("HideRows"),n.getConstant("UnHideRows")],this.parent.enableContextMenuItems(i,!1),this.parent.enableContextMenuItems(s,!!t.protectSettings.formatRows))}rowHeightChanged(e){if(this.copiedInfo&&this.copiedInfo.range[0]>e.rowIdx){let t=this.parent.element.getElementsByClassName("e-copy-indicator")[0];t.style.top=`${parseInt(t.style.top,10)+e.threshold}px`}}cut(e){this.setCopiedInfo(e,!0)}copy(e){this.setCopiedInfo(e,!1)}paste(e){if(this.parent.isEdit&&this.copiedInfo&&e&&e.type)return e.preventDefault(),void document.getElementById(this.parent.element.id+"_edit").focus();let t,n=!this.copiedInfo&&(e&&e.clipboardData||window.clipboardData),i=this.getCopiedIdx(),s=Object.assign({},this.copiedInfo);if(this.copiedInfo||n){let l=e&&e.sIdx>-1?e.sIdx:this.parent.activeSheetIndex,r=wH(this.parent,l),a=KR(e&&e.range||zR(r.selectedRange)),o=n&&this.getExternalCells(e);if(n&&!o.length)return;let h=a[0],c=n?[0,0,o.length-1,o[0].cells.length-1]:KR(this.copiedInfo.range),d=(a[2]-a[0]+1)%(c[2]-c[0]+1)==0&&(a[3]-a[1]+1)%(c[3]-c[1]+1)==0;t=d?a:[a[0],a[1]].concat([a[0]+c[2]-c[0],a[1]+c[3]-c[1]||a[1]]);let u,p,m,f={requestType:"paste",copiedInfo:this.copiedInfo,copiedRange:n?null:YR(c),pastedRange:YR(t),type:e&&e.type||"All",cancel:!1};if((e.isAction||n)&&this.parent.notify(bF,{eventArgs:f,action:"clipboard"}),f.cancel)return;let g=[],b=wH(this.parent,n?l:i);a=zR(f.pastedRange),h=a[0],c=n?[0,0,o.length-1,o[0].cells.length-1]:KR(this.copiedInfo.range),d=(a[2]-a[0]+1)%(c[2]-c[0]+1)==0&&(a[3]-a[1]+1)%(c[3]-c[1]+1)==0;let v={range:c,prevSheet:b,cancel:!1};if(t=d?a:[a[0],a[1]].concat([a[0]+c[2]-c[0],a[1]+c[3]-c[1]||a[1]]),this.parent.notify("pasteMerge",v),v.cancel)return;for(let t=c[0],s=0;t<=c[2];t++,s++){for(let l=c[1],f=0;l<=c[3];l++,f++){if(u=n?o[t].cells[l]:Object.assign({},oH(t,l,b)),u&&e&&e.type){switch(e.type){case"Formats":u={format:u.format,style:u.style};break;case"Values":u={value:u.value}}p=["Formats","Values"].indexOf(e.type)>-1}if(!this.parent.scrollSettings.isFinite&&(c[2]-c[0]>1048575-a[0]||c[3]-c[1]>16383-a[1])||this.parent.scrollSettings.isFinite&&(c[2]-c[0]>r.rowCount-1-a[0]||c[3]-c[1]>r.colCount-1-a[1]))return void this.showDialog();if(d)for(let e=a[0];e<=a[2];e+=c[2]-c[0]+1)for(let t=a[1];t<=a[3];t+=c[3]-c[1]+1){if(m=oH(e+s,t+f,r)||{},void 0!==m.colSpan||void 0!==m.rowSpan){v={range:[e+s,t+f,e+s,t+f]};let n={range:v.range,merge:!1,isAction:!1,type:"All"};g.push(n),this.parent.notify(rF,n)}this.setCell(e+s,t+f,r,u,p)}else sB(this.parent,t,l,i)||this.setCell(h,a[1]+f,r,u,p);!n&&this.copiedInfo.isCut&&this.setCell(t,l,b,null,!1,!0)}h++}if(this.parent.setUsedRange(t[2]+1,t[3]),l===this.parent.activeSheetIndex&&(this.parent.serviceLocator.getService("cell").refreshRange(t),this.parent.notify("selectRange",{indexes:t})),!n&&this.copiedInfo.isCut&&(i===this.parent.activeSheetIndex&&this.parent.serviceLocator.getService("cell").refreshRange(c),this.clearCopiedInfo()),(n||e&&e.isAction)&&this.parent.element.focus(),e.isAction||n){let i=s&&s.sId?gH(this.parent,s.sId):this.parent.activeSheetIndex,l={requestType:"paste",copiedInfo:s,mergeCollection:g,pasteSheetIndex:this.parent.activeSheetIndex,copiedRange:n?null:this.parent.sheets[i].name+"!"+YR(s&&s.range?s.range:zR(this.parent.sheets[i].selectedRange)),pastedRange:SH(this.parent)+"!"+YR(t),type:e&&e.type||"All"};this.parent.notify(gF,{eventArgs:l,action:"clipboard"})}}else this.getClipboardEle().select()}setCell(e,t,n,i,s,l){hH(e,t,n,l?null:i,s),i&&i.formula&&this.parent.notify(sF,{action:"refreshCalculate",value:l?"":i.formula,rowIndex:e,colIndex:t,sheetIndex:this.parent.activeSheetIndex,isFormula:!0}),i&&!i.formula&&this.parent.notify("workbookEditOperation",{action:"updateCellValue",address:[e,t,e,t],value:i.value}),l&&i&&(i.style&&this.parent.notify("applyCellFormat",{style:qO({},this.getEmptyStyle(i.style),this.parent.commonCellStyle),rowIdx:e,colIdx:t,cell:null,lastCell:null,row:null,hRow:null,isHeightCheckNeeded:!0,manualUpdate:!1}),i.wrap&&this.parent.notify("wrapText",{range:[e,t,e,t],wrap:!1,sheet:n}))}getEmptyStyle(e){let t={};return Object.keys(e).forEach(e=>{t[e]=""}),t}getCopiedIdx(){if(this.copiedInfo){for(let e=0;e<this.parent.sheets.length;e++)if(this.parent.sheets[e].id===this.copiedInfo.sId)return e;this.clearCopiedInfo()}return-1}setCopiedInfo(e,t){if(this.parent.isEdit)return;let n=new yM;e.promise=n.promise;let i=this.parent.getActiveSheet(),s=e&&e.range||zR(i.selectedRange),l={sheet:i,indexes:[0,0,i.rowCount-1,i.colCount-1],promise:new Promise((e,t)=>{e(void 0)})};!i.isLocalData||e&&e.clipboardData||0!==s[0]||s[2]!==i.rowCount-1||(this.parent.showSpinner(),this.parent.notify("updateSheetFromDataSource",l)),l.promise.then(()=>{e&&e.clipboardData||(this.copiedInfo&&this.clearCopiedInfo(),this.copiedInfo={range:s,sId:e&&e.sId?e.sId:i.id,isCut:t},this.hidePaste(!0),this.initCopyIndicator(),jI.isIE||this.getClipboardEle().select(),e&&e.isAction&&document.execCommand(t?"cut":"copy"),this.parent.hideSpinner()),jI.isIE&&this.setExternalCells(e),n.resolve()}),e&&e.clipboardData&&(this.setExternalCells(e),this.parent.element.focus())}clearCopiedInfo(){this.copiedInfo&&(this.parent.getActiveSheet().id===this.copiedInfo.sId&&qD(this.parent.getMainContent().getElementsByClassName("e-copy-indicator")[0]),this.copiedInfo=null,this.hidePaste())}initCopyIndicator(){if(this.copiedInfo&&this.parent.getActiveSheet().id===this.copiedInfo.sId){let e=this.parent.createElement("div",{className:"e-copy-indicator"});e.appendChild(this.parent.createElement("div",{className:"e-top"})),e.appendChild(this.parent.createElement("div",{className:"e-bottom"})),e.appendChild(this.parent.createElement("div",{className:"e-left"})),e.appendChild(this.parent.createElement("div",{className:"e-right"})),qH(e,this.copiedInfo.range,this.parent.getActiveSheet(),!1),this.parent.getMainContent().appendChild(e)}}showDialog(){this.parent.serviceLocator.getService(eV).show({header:"Spreadsheet",target:this.parent.element,height:205,width:340,isModal:!0,showCloseIcon:!0,content:this.parent.serviceLocator.getService(QB).getConstant("PasteAlert")})}hidePaste(e){this.parent.getActiveSheet().isProtected&&(e=!1),this.parent.notify("enableToolbarItems",[{items:[this.parent.element.id+"_paste"],enable:e||!1}])}setExternalCells(e){let t,n="",i=this.copiedInfo.range,s=this.parent.getActiveSheet(),l='<html><body><table xmlns="http://www.w3.org/1999/xhtml"><tbody>';for(let r=i[0];r<=i[2];r++){l+="<tr>";for(let e=i[1];e<=i[3];e++){if(l+='<td style="white-space:nowrap;vertical-align:bottom;',t=oH(r,e,s),t&&t.style&&Object.keys(t.style).forEach(e=>{let n=e.match(/[A-Z]/);l+=("backgroundColor"===e?"background":n?e.replace(n[0],"-"+n[0].toLowerCase()):e)+":"+("backgroundColor"===e||"color"===e?t.style[e].slice(0,7):t.style[e])+";"}),l+='">',t&&t.value){let e={formattedText:t.value,value:t.value,format:t.format,onLoad:!0};t.format&&this.parent.notify("getFormattedCell",e),l+=e.formattedText,n+=e.formattedText}l+="</td>",n+=e===i[3]?"":"\t"}l+="</tr>",n+=r===i[2]?"":"\n"}l+="</tbody></table></body></html>",jI.isIE?window.clipboardData.setData("text",n):(e.clipboardData.setData("text/html",l),e.clipboardData.setData("text/plain",n),e.preventDefault())}getExternalCells(e){let t,n,i,s=[],l=[],r=this.parent.createElement("span");return jI.isIE?n=window.clipboardData.getData("text"):(t=e.clipboardData.getData("text/html"),n=e.clipboardData.getData("text/plain"),r.innerHTML=t),r.querySelector("table")?r.querySelectorAll("tr").forEach(e=>{e.querySelectorAll("td").forEach((e,t)=>{l[t]={value:e.textContent,style:this.getStyle(e,r)}}),s.push({cells:l}),l=[]}):n&&(t&&[].slice.call(r.children).forEach(e=>{e.getAttribute("style")&&(i=this.getStyle(e,r))}),n.trim().split("\n").forEach(e=>{e.split("\t").forEach((e,t)=>{l[t]={style:i},QF(e)?l[t].formula=e:l[t].value=e}),s.push({cells:l}),l=[]})),setTimeout(()=>{this.getClipboardEle().innerHTML=""},0),s}getStyle(e,t){let n=[],i={};return(e.classList.length||e.getAttribute("style"))&&(e.classList.length&&n.push(t.querySelector("style").innerHTML.split(e.classList[0])[1].split("{")[1].split("}")[0]),e.getAttribute("style")&&n.push(e.getAttribute("style")),n.forEach(e=>{e.split(";").forEach(e=>{let t=e.split(":")[0].trim();if(["font-family","vertical-align","text-align","text-indent","color","background","font-weight","font-style","font-size","text-decoration"].indexOf(t)>-1){t="background"===t?"backgroundColor":t;let n=t.match(/-[a-z]/);i[n?t.replace(n[0],n[0].charAt(1).toUpperCase()):t]=e.split(":")[1]}})})),i}getClipboardEle(){return this.parent.element.getElementsByClassName("e-clipboard")[0]}getModuleName(){return"clipboard"}destroy(){this.removeEventListener(),qD(this.getClipboardEle()),this.parent=null}}class pB{constructor(e){this.editorElem=null,this.editCellData={},this.isEdit=!1,this.isCellEdit=!0,this.isNewValueEdit=!0,this.keyCodes={BACKSPACE:8,SPACE:32,TAB:9,DELETE:46,ESC:27,ENTER:13,FIRSTALPHABET:65,LASTALPHABET:90,FIRSTNUMBER:48,LASTNUMBER:59,FIRSTNUMPAD:96,LASTNUMPAD:111,SYMBOLSETONESTART:186,SYMBOLSETONEEND:192,SYMBOLSETTWOSTART:219,SYMBOLSETTWOEND:222,FIREFOXEQUALPLUS:61,FIREFOXMINUS:173,F2:113},this.parent=e,this.init()}init(){this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null,this.editorElem=null}addEventListener(){zI.add(this.parent.element,"dblclick",this.dblClickHandler,this),this.parent.on("mouseDown",this.mouseDownHandler,this),this.parent.on(uF,this.keyUpHandler,this),this.parent.on(pF,this.keyDownHandler,this),this.parent.on(dF,this.performEditOperation,this)}removeEventListener(){zI.remove(this.parent.element,"dblclick",this.dblClickHandler),this.parent.isDestroyed||(this.parent.off("mouseDown",this.mouseDownHandler),this.parent.off(uF,this.keyUpHandler),this.parent.off(pF,this.keyDownHandler),this.parent.off(dF,this.performEditOperation))}getModuleName(){return"edit"}performEditOperation(e){switch(e.action){case"renderEditor":this.renderEditor();break;case"refreshEditor":this.refreshEditor(e.value,e.refreshFormulaBar,e.refreshEditorElem,e.isAppend,e.trigEvent),e.refreshCurPos&&this.setCursorPosition();break;case"startEdit":this.isEdit||(this.isNewValueEdit=e.isNewValueEdit,this.startEdit(e.address,e.value,e.refreshCurPos));break;case"endEdit":this.isEdit&&this.endEdit(e.refreshFormulaBar);break;case"cancelEdit":this.isEdit&&this.cancelEdit(e.refreshFormulaBar);break;case"getCurrentEditValue":e.editedValue=this.editCellData.value;break;case"refreshDependentCellValue":this.refreshDependentCellValue(e.rowIdx,e.colIdx,e.sheetIdx);break;case"getPosition":e.position=this.editorElem.getBoundingClientRect();break;case"focusEditorElem":this.editorElem.focus()}}keyUpHandler(e){this.isEdit&&this.isCellEdit&&this.editCellData.value!==this.editorElem.textContent&&this.refreshEditor(this.editorElem.textContent,this.isCellEdit)}keyDownHandler(e){let t=e.target,n=e.keyCode,i=this.parent.getActiveSheet(),s=qR(i.activeCell),l=oH(s[0],s[1],i)||{};if(!GD(e.target,".e-findtool-dlg")&&!GD(e.target,".e-validationerror-dlg"))if(!i.isProtected||GD(e.target,".e-sheet-rename")||!1===l.isLocked){if(this.isEdit)switch(this.isCellEdit&&this.refreshEditor(this.editorElem.textContent,this.isCellEdit),n){case this.keyCodes.ENTER:jI.isWindows&&e.preventDefault(),this.endEdit(!1,e);break;case this.keyCodes.TAB:this.hasFormulaSuggSelected()||this.endEdit(!1,e);break;case this.keyCodes.ESC:this.cancelEdit(!0,!0,e)}else if(!this.isEdit&&(t.classList.contains("e-spreadsheet")||GD(t,".e-sheet-panel"))){let t=n>=this.keyCodes.FIRSTALPHABET&&n<=this.keyCodes.LASTALPHABET,i=n>=this.keyCodes.FIRSTNUMBER&&n<=this.keyCodes.LASTNUMBER,s=n>=this.keyCodes.FIRSTNUMPAD&&n<=this.keyCodes.LASTNUMPAD,l=n>=this.keyCodes.SYMBOLSETONESTART&&n<=this.keyCodes.SYMBOLSETONEEND;l||(l=n>=this.keyCodes.SYMBOLSETTWOSTART&&n<=this.keyCodes.SYMBOLSETTWOEND);let r=n===this.keyCodes.FIREFOXEQUALPLUS||n===this.keyCodes.FIREFOXMINUS,a=!e.shiftKey&&!e.ctrlKey&&n===this.keyCodes.F2,o=n===this.keyCodes.BACKSPACE;(!e.ctrlKey&&!e.altKey&&(!e.shiftKey&&n===this.keyCodes.SPACE||t||i||s||l||"mozilla"===jI.info.name&&r)||a||o)&&(a&&(this.isNewValueEdit=!1),this.startEdit()),n===this.keyCodes.DELETE&&this.editingHandler("delete")}}else if((n>=this.keyCodes.FIRSTALPHABET&&n<=this.keyCodes.LASTALPHABET||n>=this.keyCodes.FIRSTNUMBER&&n<=this.keyCodes.LASTNUMBER||n===this.keyCodes.DELETE||n===this.keyCodes.BACKSPACE||n===this.keyCodes.SPACE||n>=this.keyCodes.FIRSTNUMPAD&&n<=this.keyCodes.LASTNUMPAD||n>=this.keyCodes.SYMBOLSETONESTART&&n<=this.keyCodes.SYMBOLSETONEEND||n>=219&&n<=222||!e.shiftKey&&!e.ctrlKey&&n===this.keyCodes.F2)&&67!==n&&89!==n&&90!==n){if(i.protectSettings.insertLink&&75===n)return;this.parent.notify("editAlert",null)}}renderEditor(){if(!this.editorElem||!this.parent.element.querySelector("#"+this.parent.element.id+"_edit")){let e;e=this.parent.createElement("div",{id:this.parent.element.id+"_edit",className:"e-spreadsheet-edit"}),e.contentEditable="true",e.spellcheck=!1,this.editorElem=e,this.parent.element.querySelector(".e-sheet-content").appendChild(this.editorElem)}this.parent.notify("formulaOperation",{action:"renderAutoComplete"})}refreshEditor(e,t,n,i,s=!0){i?e=this.editCellData.value=this.editCellData.value+e:this.editCellData.value=e,n&&(this.editorElem.textContent=e),t&&this.parent.notify("formulaBarOperation",{action:"refreshFormulabar",value:e}),s&&this.editCellData.value===this.editorElem.textContent&&this.triggerEvent("cellEditing")&&this.cancelEdit()}startEdit(e,t,n=!0){let i=zR(this.parent.getActiveSheet().activeCell);sB(this.parent,i[0],i[1],this.parent.activeSheetIndex)||(this.updateEditCellDetail(e,t),this.initiateEditor(n),this.positionEditor(),this.parent.isEdit=this.isEdit=!0,this.parent.notify("clearCopy",null),this.parent.notify("enableToolbarItems",[{enable:!1}]))}setCursorPosition(){let e=this.editorElem,t=e.textContent.length;if(t){let n=document.getSelection(),i=document.createRange();i.setStart(e.firstChild,t),i.collapse(!0),n.removeAllRanges(),n.addRange(i)}e.focus()}hasFormulaSuggSelected(){let e=document.getElementById(this.parent.element.id+"_ac_popup");return e&&"visible"===e.style.visibility&&e.querySelectorAll(".e-item-focus").length>0}editingHandler(e){switch(e){case"delete":let e=this.parent.getActiveSheet().selectedRange,t=GR(e);t=t[0]>t[2]?KR(t):t,e=YR(t),this.parent.clearRange(e,null,!0),this.parent.serviceLocator.getService("cell").refreshRange(t),this.parent.notify("selectionComplete",{})}}mouseDownHandler(e){if(!GD(e.target,".e-findtool-dlg")&&this.isEdit){let t=e.target;this.isCellEdit=t.classList.contains("e-spreadsheet-edit"),(t.classList.contains("e-cell")||t.classList.contains("e-header-cell")||t.classList.contains("e-selectall")||GD(t,".e-toolbar-item.e-active"))&&this.endEdit(!1,e)}}dblClickHandler(e){let t=e.target,n=this.parent.getActiveSheet(),i=qR(n.activeCell),s=oH(i[0],i[1],n)||{};n.isProtected&&!1!==s.isLocked?(t.classList.contains("e-active-cell")||t.classList.contains("e-cell"))&&this.parent.notify("editAlert",null):(t.classList.contains("e-active-cell")||t.classList.contains("e-cell")||GD(t,".e-sheet-content"))&&(this.isEdit?this.endEdit():(this.isNewValueEdit=!1,this.startEdit()))}updateEditCellDetail(e,t){let n,i;this.editCellData.sheetIndex||(n=e&&e.split("!").length>1?fH(this.parent,bH(e)):this.parent.activeSheetIndex),this.editCellData.addr||(i=wH(this.parent,n),e=e?XR(e):i.activeCell);let s=zR(e),l=s[0],r=s[1],a=this.parent.getCell(l,r),o=zH(i,s);this.editCellData={addr:e,fullAddr:SH(this.parent,n)+"!"+e,rowIndex:l,colIndex:r,sheetIndex:n,element:a,value:t||"",position:o}}initiateEditor(e){this.parent.getData(this.editCellData.fullAddr).then(t=>{t.forEach((t,n)=>{let i={cell:t,value:t?t.value:""};this.parent.notify("getFormattedBarText",i);let s=t?i.value:"";t&&t.formula&&(s=t.formula),this.editCellData.oldValue=s,this.editCellData.value?s=this.editCellData.value:this.editCellData.value=s,this.isNewValueEdit?s="":this.isNewValueEdit=!0,s&&this.refreshEditor(s,!1,!0,!1,!1),e&&this.setCursorPosition(),this.triggerEvent("cellEdit")&&this.cancelEdit(!0,!1)})})}positionEditor(){let e=this.editCellData.element;e.classList.add("e-ss-edited");let t=oH(this.editCellData.rowIndex,this.editCellData.colIndex,this.parent.getActiveSheet()),n=this.editCellData.position.left+1,i=this.editCellData.position.top+1,s=this.editCellData.element.offsetHeight-3,l=this.editCellData.element.offsetWidth-3,r=this.parent.getMainContent(),a="display:block;top:"+i+"px;"+(this.parent.enableRtl?"right:":"left:")+n+"px;min-width:"+l+"px;max-width:"+(r.offsetWidth-n-28)+"px;"+(t&&t.wrap?"min-height:":"height:")+s+"px;"+(t&&t.wrap?"width:"+l+"px;":"");a+=e.style.cssText,this.editorElem.setAttribute("style",a),e.classList.contains("e-right-align")?this.editorElem.classList.add("e-right-align"):e.classList.contains("e-center-align")&&this.editorElem.classList.add("e-center-align")}updateEditedValue(e=!0){let t=this.editCellData.oldValue,n=t?t.toString().toUpperCase():"",i=!0,s=this.editCellData.addr,l=zR(this.parent.getActiveSheet().activeCell),r=this.parent.getActiveSheet(),a=oH(l[0],l[1],r);if(this.parent.notify("setActionData",{args:{action:"beforeCellSave",eventArgs:{address:this.editCellData.addr}}}),this.parent.allowDataValidation&&a&&a.validation){let e,t=this.parent.element.getElementsByClassName("e-spreadsheet-edit")[0].innerText,n=!0,l=this.parent.activeSheetIndex;e="string"==typeof s?zR(s):s,this.parent.notify("isValidation",{value:t,range:e,sheetIdx:l,isCell:n}),i=this.parent.allowDataValidation,this.editCellData.value=i?t:this.editCellData.value,this.parent.allowDataValidation=!0}if((t!==this.editCellData.value||n.indexOf("=RAND()")>-1||n.indexOf("RAND()")>-1||n.indexOf("=RANDBETWEEN(")>-1||n.indexOf("RANDBETWEEN(")>-1)&&i){let t=this.parent.getActiveSheet(),n=zR(t.activeCell);this.parent.notify("workbookEditOperation",{action:"updateCellValue",address:this.editCellData.addr,value:this.editCellData.value});let i=oH(n[0],n[1],t,!0),s=this.getRefreshNodeArgs(i);this.editCellData.value=s.value,i.formula&&(this.editCellData.formula=i.formula),i.wrap&&this.parent.notify("wrapText",{range:n,wrap:!0,sheet:t}),e&&this.parent.refreshNode(this.editCellData.element,s)}return i}refreshDependentCellValue(e,t,n){if(e&&t&&(e--,t--,(this.editCellData.rowIndex!==e||this.editCellData.colIndex!==t)&&this.parent.activeSheetIndex===n)){let i=this.parent.getCell(e,t);if(i){let s=oH(e,t,wH(this.parent,n)),l=this.getRefreshNodeArgs(s);this.parent.refreshNode(i,l)}}}getRefreshNodeArgs(e){let t,n={value:(e=e||{}).value,format:e&&e.format?e.format:"",onLoad:!0,formattedText:"",isRightAlign:!1,type:"General"};return this.parent.notify("getFormattedCell",n),n.formattedText=this.parent.allowNumberFormatting?n.formattedText:n.value,t={isRightAlign:n.isRightAlign,result:n.formattedText,type:n.type,value:n.value,curSymbol:n.curSymbol},t}endEdit(e=!1,t){e&&this.refreshEditor(this.editCellData.oldValue,!1,!0,!1,!1),this.triggerEvent("beforeCellSave")?t.preventDefault():this.updateEditedValue()?(this.triggerEvent("cellSave",t),this.resetEditState(),this.focusElement()):t&&t.preventDefault()}cancelEdit(e=!0,t=!0,n){this.refreshEditor(this.editCellData.oldValue,e,!1,!1,!1),t&&this.triggerEvent("cellSave",n),this.resetEditState(),this.focusElement()}focusElement(){this.parent.element.focus(),this.parent.notify("enableToolbarItems",[{enable:!0}])}triggerEvent(e,t){let n={element:this.editCellData.element,value:this.editCellData.value,oldValue:this.editCellData.oldValue,address:this.editCellData.fullAddr};return"cellSave"===e&&(this.editCellData.formula&&(n.formula=this.editCellData.formula),n.originalEvent=t,this.parent.notify(gF,{eventArgs:n,action:"cellSave"})),"cellSave"!==e&&(n.cancel=!1),this.parent.trigger(e,n),n.cancel}altEnter(){let e,t,n,i,s=window.getSelection(),l=s.anchorNode,r=document.createRange();i=3===l.nodeType?s.anchorOffset:l.textContent.length,e=l.textContent,t=e.slice(0,i),n=e.slice(i)||" ",l.textContent=t+"\n"+n,r=document.createRange(),3===l.nodeType?(r.setStart(l,i+1),r.setEnd(l,i+1)):1===l.nodeType&&(r.setStart(l.firstChild,i+1),r.setEnd(l.firstChild,i+1)),s.removeAllRanges(),s.addRange(r)}resetEditState(e=!0){e&&(this.editCellData.element.classList.remove("e-ss-edited"),this.editorElem.textContent="",this.editorElem.removeAttribute("style"),this.editorElem.classList.remove("e-right-align")),this.editCellData={},this.parent.isEdit=this.isEdit=!1,this.isCellEdit=!0,this.parent.notify("formulaOperation",{action:"endEdit"})}}class mB{constructor(e){this.parent=e,this.addEventListener(),this.mouseMoveEvt=this.mouseMoveHandler.bind(this)}addEventListener(){this.parent.on("contentLoaded",this.init,this),this.parent.on("mouseDown",this.mouseDownHandler,this),this.parent.on("virtualContentLoaded",this.virtualContentLoadedHandler,this),this.parent.on("cellNavigate",this.cellNavigateHandler,this),this.parent.on("selectRange",this.selectRange,this),this.parent.on("rowHeightChanged",this.rowHeightChanged,this),this.parent.on("colWidthChanged",this.colWidthChanged,this),this.parent.on("protectSelection",this.protectHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("contentLoaded",this.init),this.parent.off("mouseDown",this.mouseDownHandler),this.parent.off("virtualContentLoaded",this.virtualContentLoadedHandler),this.parent.off("cellNavigate",this.cellNavigateHandler),this.parent.off("selectRange",this.selectRange),this.parent.off("rowHeightChanged",this.rowHeightChanged),this.parent.off("colWidthChanged",this.colWidthChanged),this.parent.off("protectSelection",this.protectHandler))}rowHeightChanged(e){LH(()=>{let t=this.getActiveCell(),n=qR(this.parent.getActiveSheet().activeCell)[0];if(n===e.rowIdx&&t?t.style.height=`${parseInt(t.style.height,10)+e.threshold}px`:n>e.rowIdx&&t&&(t.style.top=`${parseInt(t.style.top,10)+e.threshold}px`),t=this.getSelectionElement(),t){let n=KR(zR(this.parent.getActiveSheet().selectedRange)),i=n[0],s=n[2];i<=e.rowIdx&&s>=e.rowIdx&&t?t.style.height=`${parseInt(t.style.height,10)+e.threshold}px`:i>e.rowIdx&&t&&(t.style.top=`${parseInt(t.style.top,10)+e.threshold}px`)}})}colWidthChanged(e){LH(()=>{let t=this.getActiveCell(),n=qR(this.parent.getActiveSheet().activeCell)[1];n===e.colIdx&&t?t.style.width=`${parseInt(t.style.width,10)+e.threshold}px`:n>e.colIdx&&t&&(t.style.left=`${parseInt(t.style.left,10)+e.threshold}px`),t=this.getSelectionElement();let i=KR(zR(this.parent.getActiveSheet().selectedRange)),s=i[1];s<=e.colIdx&&i[3]>=e.colIdx&&t?t.style.width=`${parseInt(t.style.width,10)+e.threshold}px`:s>e.colIdx&&t&&(t.style.left=`${parseInt(t.style.left,10)+e.threshold}px`)})}selectRange(e){this.selectRangeByIdx("Single"===this.parent.selectionSettings.mode?e.indexes.slice(0,2).concat(e.indexes.slice(0,2)):e.indexes,null,null,null,null,e.skipChecking)}init(){this.parent.getActiveSheet();let e=zR(this.parent.getActiveSheet().selectedRange),t=KR(e),n=qR(this.parent.getActiveSheet().activeCell),i=t[0]<=n[0]&&t[2]>=n[0]&&t[1]<=n[1]&&t[3]>=n[1];this.createSelectionElement(),this.selectRangeByIdx(e,null,null,i,!0)}createSelectionElement(){let e=this.parent.getMainContent(),t=this.parent.createElement("div",{className:"e-selection"}),n=this.parent.createElement("div",{className:"e-active-cell"});e.appendChild(t),e.appendChild(n)}mouseDownHandler(e){if(!this.parent.isEdit){if(this.parent.getActiveSheet().isProtected&&!this.parent.getActiveSheet().protectSettings.selectCells)return;if(!GD(e.target,".e-findtool-dlg")&&this.getSheetElement().contains(e.target)&&!e.target.classList.contains("e-colresize")&&!e.target.classList.contains("e-rowresize")){let t=this.parent.getActiveSheet(),n=this.parent.selectionSettings.mode,i=this.getRowIdxFromClientY(ZH(e)),s=this.getColIdxFromClientX(KH(e)),l=qR(t.activeCell),r=t.showHeaders&&this.parent.getRowHeaderContent().contains(e.target),a=t.showHeaders&&this.parent.getColumnHeaderContent().contains(e.target);if(3===e.which&&this.isSelected(i,s))return;if("Multiple"===n&&(!XH(e)&&(!$H(e)||$H(e)&&l[0]===i&&l[1]===s)||a||r)&&(document.addEventListener(WH().split(" ")[0],this.mouseMoveEvt),jI.isPointer||document.addEventListener(WH().split(" ")[1],this.mouseMoveEvt,{passive:!1})),XH(e)||zI.add(document,YH(),this.mouseUpHandler,this),$H(e)&&!a&&!r)return void(this.touchEvt=e);if(r)this.isRowSelected=!0,e.shiftKey&&"Single"!==n||(this.startCell=[i,0]),this.selectRangeByIdx([this.startCell[0],0,i,t.colCount-1],e);else if(a)this.isColSelected=!0,e.shiftKey&&"Single"!==n||(this.startCell=[0,s]),this.selectRangeByIdx([0,this.startCell[1],t.rowCount-1,s],e);else if(e.target.classList.contains("e-selectall"))this.startCell=[0,0],this.selectRangeByIdx([].concat(this.startCell,[t.rowCount-1,t.colCount-1]),e);else if(!e.target.classList.contains("e-main-content")){let l=this.isRowSelected||this.isColSelected;this.isRowSelected=!1,this.isColSelected=!1,e.shiftKey&&"Single"!==n||(this.startCell=[i,s]),this.selectRangeByIdx([].concat(this.startCell?this.startCell:qR(t.activeCell),[i,s]),e,null,null,null,null,l)}this.parent.isMobileView()&&(this.parent.element.classList.add("e-mobile-focused"),this.parent.renderModule.setSheetPanelSize())}}}mouseMoveHandler(e){let t=this.parent.getActiveSheet();GH(e)&&e.preventDefault();let n=this.getScrollContent(),i=n.getBoundingClientRect(),s=KH(e),l=ZH(e),r=this.isRowSelected?t.colCount-1:this.getColIdxFromClientX(Math.min(s,i.right)),a=this.isColSelected?t.rowCount-1:this.getRowIdxFromClientY(Math.min(l,i.bottom)),o=zR(t.selectedRange),h={range:[a,r,a,r]};this.parent.notify("activeCellMergedRange",h);let c=l>i.bottom&&a<t.rowCount,d=l<i.top&&a>=0&&!this.isColSelected,u=s>i.right&&r<t.colCount,p=s<i.left&&r>=0&&!this.isRowSelected;if(this.clearInterval(),c||d||u||p)this.scrollInterval=setInterval(()=>{if((c||d)&&!this.isColSelected){if(a=this.getRowIdxFromClientY(c?i.bottom:i.top),a>=t.rowCount)return void this.clearInterval();n.scrollTop+=(c?1:-1)*lH(t,a)}if((u||p)&&!this.isRowSelected){if(r=this.getColIdxFromClientX(u?i.right:i.left),r>=t.colCount)return void this.clearInterval();n.scrollLeft+=(u?1:-1)*MH(t,r)}this.isColSelected||this.isRowSelected||(o=qR(t.activeCell)),this.selectRangeByIdx([].concat(o[0],o[1],[a,r]),e)},100);else{if(h.range[2]===o[2]&&h.range[3]===o[3])return;this.isColSelected||this.isRowSelected||(o=qR(t.activeCell)),this.selectRangeByIdx([].concat(o[0],o[1],[a,r]),e)}}mouseUpHandler(e){let t=this.getRowIdxFromClientY(ZH(e)),n=this.getColIdxFromClientX(KH(e));this.clearInterval(),!XH(e)||this.isColSelected||this.isRowSelected||this.getRowIdxFromClientY(ZH(this.touchEvt))!==t||this.getColIdxFromClientX(KH(this.touchEvt))!==n||this.mouseDownHandler(e),document.removeEventListener(WH().split(" ")[0],this.mouseMoveEvt),jI.isPointer||document.removeEventListener(WH().split(" ")[1],this.mouseMoveEvt),zI.remove(document,YH(),this.mouseUpHandler),this.parent.notify("mouseUpAfterSelection",e)}isSelected(e,t){let n=KR(zR(this.parent.getActiveSheet().selectedRange));return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}virtualContentLoadedHandler(){let e=this.parent.getActiveSheet(),t=zR(e.selectedRange);this.isColSelected&&this.isRowSelected?this.selectRangeByIdx([0,0,e.rowCount-1,e.colCount-1],null,!0):this.isColSelected?this.selectRangeByIdx([0,t[1],e.rowCount-1,t[3]],null,!0):this.isRowSelected?this.selectRangeByIdx([t[0],0,t[2],e.colCount-1],null,!0):this.highlightHdr(t,t[0]>=this.parent.viewport.topIndex||t[2]>=this.parent.viewport.topIndex,t[1]>=this.parent.viewport.leftIndex||t[3]>=this.parent.viewport.leftIndex)}clearInterval(){clearInterval(this.scrollInterval),this.scrollInterval=null}getScrollContent(){return this.parent.getMainContent()}getScrollLeft(){return this.parent.scrollModule?this.parent.scrollModule.prevScroll.scrollLeft:0}cellNavigateHandler(e){let t=this.parent.getActiveSheet();t.isProtected&&!t.protectSettings.selectCells||this.selectRangeByIdx(e.range.concat(e.range))}getColIdxFromClientX(e){let t=0,n=this.parent.getActiveSheet(),i=this.parent.getMainContent().getBoundingClientRect(),s=(this.parent.enableRtl?i.right-e:e-i.left)+this.getScrollLeft();for(let l=0;;l++)if(t+=TH(n,l),s<t)return l}getRowIdxFromClientY(e){let t=0,n=this.parent.getActiveSheet(),i=e-this.parent.getMainContent().getBoundingClientRect().top+this.parent.getMainContent().scrollTop;for(let s=0;;s++)if(t+=lH(n,s),i<t)return s}selectRangeByIdx(e,t,n,i,s,l,r){let a=this.getSelectionElement(),o=this.parent.getActiveSheet(),h={range:e,isActiveCell:!1,skipChecking:l};this.isColSelected||this.isRowSelected||this.parent.notify("mergedRange",h);let c={range:YR(e=h.range),cancel:!1};this.parent.trigger("beforeSelect",c),!0!==c.cancel&&(JR(e)||h.isActiveCell?a.classList.add("e-hide"):(a.classList.remove("e-hide"),qH(a,e,o,this.parent.enableRtl,this.getOffset(e[2],e[3]))),yH(0,YR(e),o),this.UpdateRowColSelected(e),this.highlightHdr(e),n||t&&("mousemove"===t.type||GH(t))||this.updateActiveCell(i?zR(o.activeCell):e,s,r),UO(t)&&(t={type:"mousedown"}),this.parent.notify("selectionComplete",t),this.parent.trigger("select",{range:this.parent.getActiveSheet().selectedRange}))}UpdateRowColSelected(e){let t=this.parent.getActiveSheet();this.isRowSelected=0===e[1]&&e[3]===t.colCount-1,this.isColSelected=0===e[0]&&e[2]===t.rowCount-1}updateActiveCell(e,t,n){let i,s,l=this.parent.getActiveSheet(),r=zR(l.topLeftCell);this.isColSelected?(i=r[0],s=e[1],this.isRowSelected&&(s=r[1])):(i=e[0],s=e[1],this.isRowSelected&&(s=r[1]));let a={range:[i,s,i,s]};this.parent.notify("activeCellMergedRange",a),l.activeCell!==WR((e=a.range)[0],e[1])||t?(l.activeCell=WR(e[0],e[1]),qH(this.getActiveCell(),e,l,this.parent.enableRtl,this.getOffset(e[2],e[3])),n=!0):qH(this.getActiveCell(),e,l,this.parent.enableRtl,this.getOffset(e[2],e[3])),n&&this.parent.notify("activeCellChanged",null)}getOffset(e,t){let n={left:{idx:0,size:0},top:{idx:0,size:0}};return this.parent.scrollModule&&(t>=this.parent.scrollModule.offset.left.idx&&(n.left=this.parent.scrollModule.offset.left),e>=this.parent.scrollModule.offset.top.idx&&(n.top=this.parent.scrollModule.offset.top)),n}getSelectionElement(){return this.parent.element.getElementsByClassName("e-selection")[0]}getActiveCell(){return this.parent.getMainContent().getElementsByClassName("e-active-cell")[0]}getSheetElement(){return document.getElementById(this.parent.element.id+"_sheet")}highlightHdr(e,t=!0,n=!0){if(this.parent.getActiveSheet().showHeaders){let i=this.parent.getActiveSheet(),s=[],l=[],r=KR(e);r=this.getHdrIndexes(r);let a=this.parent.element.getElementsByClassName("e-select-all-cell")[0];FD(this.getSheetElement().querySelectorAll(".e-highlight"),"e-highlight"),FD(this.getSheetElement().querySelectorAll(".e-prev-highlight"),"e-prev-highlight"),FD([a],["e-prev-highlight-right","e-prev-highlight-bottom"]),t&&(s=[].slice.call(this.parent.getRowHeaderContent().querySelectorAll("td")).slice(r[0],r[2]+1)),n&&(l=[].slice.call(this.parent.getColumnHeaderContent().querySelectorAll("th")).slice(r[1],r[3]+1)),i.isProtected&&!i.protectSettings.selectCells?FD([].concat(s,l),"e-highlight"):RD([].concat(s,l),"e-highlight"),s.length&&s[0].parentElement.previousElementSibling&&s[0].parentElement.previousElementSibling.classList.add("e-prev-highlight"),l.length&&l[0].previousElementSibling&&l[0].previousElementSibling.classList.add("e-prev-highlight"),this.isRowSelected&&this.isColSelected&&(i.isProtected&&!i.protectSettings.selectCells?document.getElementById(`${this.parent.element.id}_select_all`).classList.remove("e-highlight"):document.getElementById(`${this.parent.element.id}_select_all`).classList.add("e-highlight")),0===r[0]&&a.classList.add("e-prev-highlight-bottom"),0===r[1]&&a.classList.add("e-prev-highlight-right")}}protectHandler(){let e=zR(this.parent.getActiveSheet().selectedRange),t=KR(e),n=qR(this.parent.getActiveSheet().activeCell);this.selectRangeByIdx(e,null,null,t[0]<=n[0]&&t[2]>=n[0]&&t[1]<=n[1]&&t[3]>=n[1])}getHdrIndexes(e){if(this.parent.scrollSettings.enableVirtualization){let t=[],n=this.parent.hiddenCount(this.parent.viewport.topIndex,e[0]),i=this.parent.hiddenCount(this.parent.viewport.leftIndex,e[1],"columns");return t[0]=this.isColSelected?e[0]:e[0]-this.parent.viewport.topIndex<0?0:e[0]-n-this.parent.viewport.topIndex,t[1]=this.isRowSelected?e[1]:e[1]-this.parent.viewport.leftIndex<0?0:e[1]-i-this.parent.viewport.leftIndex,t[2]=this.isColSelected?this.parent.viewport.rowCount+2*this.parent.getThreshold("row"):e[2]-this.parent.hiddenCount(e[0],e[2])-n-this.parent.viewport.topIndex,t[3]=this.isRowSelected?this.parent.viewport.colCount+2*this.parent.getThreshold("col"):e[3]-this.parent.hiddenCount(e[1],e[3],"columns")-i-this.parent.viewport.leftIndex,t}return e}getModuleName(){return"selection"}destroy(){this.removeEventListener(),this.parent=null}}class fB{constructor(e){this.parent=e,this.addEventListener(),this.initProps()}onContentScroll(e){let t,n,i=this.parent.getMainContent(),s=e.scrollLeft||i.scrollLeft,l=e.scrollTop||i.scrollTop,r=this.parent.enableRtl?this.initScrollValue-s:s;if(this.prevScroll.scrollLeft!==r){let i=r>this.prevScroll.scrollLeft;n=this.offset.left.size,this.offset.left=this.getColOffset(r,i,e.skipHidden),this.parent.getActiveSheet().showHeaders&&(this.parent.getColumnHeaderContent().scrollLeft=s),t={cur:this.offset.left,prev:{idx:this.leftIndex,size:n},increase:i,preventScroll:e.preventScroll},this.parent.notify("horizontalScroll",t),this.updateTopLeftCell(i),this.parent.scrollSettings.enableVirtualization||!i||this.parent.scrollSettings.isFinite||this.updateNonVirtualCols(),this.leftIndex=t.prev.idx,this.prevScroll.scrollLeft=r}if(this.prevScroll.scrollTop!==l){let i=l>this.prevScroll.scrollTop;n=this.offset.top.size,this.offset.top=this.getRowOffset(l,i),this.parent.getActiveSheet().showHeaders&&(this.parent.getRowHeaderContent().scrollTop=l),t={cur:this.offset.top,prev:{idx:this.topIndex,size:n},increase:i,preventScroll:e.preventScroll},this.parent.notify("verticalScroll",t),this.updateTopLeftCell(i),this.parent.scrollSettings.enableVirtualization||!i||this.parent.scrollSettings.isFinite||this.updateNonVirtualRows(),this.topIndex=t.prev.idx,this.prevScroll.scrollTop=l}}updateNonVirtualRows(){let e=this.parent.getActiveSheet(),t=this.parent.getThreshold("row");this.offset.top.idx>e.rowCount-(this.parent.viewport.rowCount+t)&&(this.parent.renderModule.refreshUI({colIndex:0,direction:"first",refresh:"RowPart"},`${WR(e.rowCount,0)}:${WR(e.rowCount+t-1,e.colCount-1)}`),e.rowCount+=t)}updateNonVirtualCols(){let e=this.parent.getActiveSheet(),t=this.parent.getThreshold("col");this.offset.left.idx>e.colCount-(this.parent.viewport.colCount+t)&&(this.parent.renderModule.refreshUI({rowIndex:0,colIndex:e.colCount,direction:"first",refresh:"ColumnPart"},`${WR(0,e.colCount)}:${WR(e.rowCount-1,e.colCount+t-1)}`),e.colCount+=t)}updateTopLeftCell(e){let t=this.offset.top.idx,n=this.offset.left.idx;if(!e){let e=this.parent.getActiveSheet();t=dB(e,t,!0),n=dB(e,n,!0,"columns")}this.parent.getActiveSheet().topLeftCell=WR(t,n)}getRowOffset(e,t){let n,i=this.offset.top.size,s=this.parent.getActiveSheet(),l=t?this.offset.top.idx+1:this.offset.top.idx?this.offset.top.idx-1:0;if(this.parent.scrollSettings.isFinite){if(n=s.rowCount,t&&l+this.parent.viewport.rowCount+this.parent.getThreshold("row")>=n)return{idx:this.offset.top.idx,size:this.offset.top.size}}else n=1/0;for(;l<n;)if(t){if(i+=lH(s,l-1),i===e)return{idx:l,size:i};if(i>e)return{idx:l-1,size:i-lH(s,l-1)};l++}else{if(0===i)return{idx:0,size:0};if(i-=lH(s,l),i===e)return{idx:l,size:i};if(i<e)return i+=lH(s,l),i>e?{idx:l,size:i-lH(s,l)}:{idx:l+1,size:i};l--}return{idx:this.offset.top.idx,size:this.offset.top.size}}getColOffset(e,t,n){let i,s=this.offset.left.size,l=this.parent.getActiveSheet(),r=t?this.offset.left.idx+1:this.offset.left.idx-1;if(this.parent.scrollSettings.isFinite){if(i=l.colCount,t&&r+this.parent.viewport.colCount+this.parent.getThreshold("col")>=i)return{idx:this.offset.left.idx,size:this.offset.left.size}}else i=1/0;for(;r<i;)if(t){if(s+=MH(l,r-1,n),s===e)return{idx:r,size:s};if(s>e)return{idx:r-1,size:s-MH(l,r-1,n)};r++}else{if(0===s)return{idx:0,size:0};if(s-=MH(l,r,n),s===e)return{idx:r,size:s};if(s<e)return s+=MH(l,r,n),s>e?{idx:r,size:s-MH(l,r,n)}:{idx:r+1,size:s};r--}return{idx:this.offset.left.idx,size:this.offset.left.size}}contentLoaded(){this.onScroll=this.onContentScroll.bind(this),this.setScrollEvent(),this.parent.enableRtl&&(this.initScrollValue=this.parent.getMainContent().scrollLeft)}setScrollEvent(e={set:!0}){e.set?zI.add(this.parent.getMainContent(),"scroll",this.onScroll,this):zI.remove(this.parent.getMainContent(),"scroll",this.onScroll)}initProps(){this.topIndex=0,this.leftIndex=0,this.prevScroll={scrollLeft:0,scrollTop:0},this.offset={left:{idx:0,size:0},top:{idx:0,size:0}}}getThreshold(){return"mozilla"===jI.info.name?.5:1}setPadding(){if(!this.parent.allowScrolling)return;let e=this.parent.getColumnHeaderContent(),t=this.parent.getRowHeaderContent(),n=function(){if(null!==FH)return FH;let e=document.createElement("div"),t=0;return e.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(e),t=e.offsetWidth-e.clientWidth|0,document.body.removeChild(e),FH=t}()-this.getThreshold(),i=this.parent.enableRtl?{padding:"paddingLeft",border:"borderLeftWidth"}:{padding:"paddingRight",border:"borderRightWidth"};n>0&&(e.parentElement.style[i.padding]=n+"px",e.style[i.border]="1px",t.style.marginBottom=n+"px")}addEventListener(){this.parent.on("contentLoaded",this.contentLoaded,this),this.parent.on("onContentScroll",this.onContentScroll,this),this.parent.on("deInitProperties",this.initProps,this),this.parent.on("spreadsheetDestroyed",this.destroy,this),this.parent.on("setScrollEvent",this.setScrollEvent,this)}destroy(){zI.remove(this.parent.getMainContent(),"scroll",this.onScroll),this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.off("contentLoaded",this.contentLoaded),this.parent.off("onContentScroll",this.onContentScroll),this.parent.off("deInitProperties",this.initProps),this.parent.off("spreadsheetDestroyed",this.destroy),this.parent.off("setScrollEvent",this.setScrollEvent)}}class gB{constructor(e){this.scroll=[],this.parent=e,this.addEventListener()}createVirtualElement(e){let t=this.parent.getActiveSheet(),n=this.parent.getMainContent();this.content=this.parent.createElement("div",{className:"e-virtualable"}),this.content.appendChild(n.querySelector(".e-table")),n.appendChild(this.content);let i,s,l,r,a=n.appendChild(this.parent.createElement("div",{className:"e-virtualtrack"}));this.parent.sheets.length>this.scroll.length&&this.initScroll();let o,h=this.parent.viewport.rowCount+1+2*this.parent.getThreshold("row");t.rowCount>h||t.usedRange.rowIndex>h-1?(!this.parent.scrollSettings.isFinite&&t.rowCount<=t.usedRange.rowIndex&&(t.rowCount=t.usedRange.rowIndex+1),this.setScrollCount(t.rowCount,"row"),l=aH(t,0,this.scroll[this.parent.activeSheetIndex].rowCount-1)):(this.parent.scrollSettings.isFinite||(t.rowCount=h),this.scroll[this.parent.activeSheetIndex].rowCount=t.rowCount,l=1),h=this.parent.viewport.colCount+1+2*this.parent.getThreshold("col"),t.colCount>h||t.usedRange.colIndex>h-1?(!this.parent.scrollSettings.isFinite&&t.colCount<=t.usedRange.colIndex&&(t.colCount=t.usedRange.colIndex+1),o=TH(t,0,h-1),this.setScrollCount(t.colCount,"col"),r=o+TH(t,h,this.scroll[this.parent.activeSheetIndex].colCount-1)):(this.parent.scrollSettings.isFinite||(t.colCount=h),o=TH(t,0,t.colCount-1),this.scroll[this.parent.activeSheetIndex].colCount=t.colCount,r=o),e.startColIdx&&(o=TH(t,e.startColIdx,e.startColIdx+h-1)),UO(this.parent.viewport.leftIndex)&&(this.parent.viewport.leftIndex=0),UO(this.parent.viewport.topIndex)&&(this.parent.viewport.topIndex=0),UO(this.translateX)&&(this.translateX=0),UO(this.translateY)&&(this.translateY=0),t.showHeaders&&(n=this.parent.getRowHeaderContent(),this.rowHeader=this.content.cloneNode(),this.rowHeader.appendChild(n.querySelector(".e-table")),n.appendChild(this.rowHeader),s=n.appendChild(a.cloneNode()),this.rowHeader.style.transform=`translate(0px, ${this.translateY}px)`,n=this.parent.getColumnHeaderContent(),this.colHeader=this.content.cloneNode(),this.colHeader.appendChild(n.querySelector(".e-table")),n.appendChild(this.colHeader),i=n.appendChild(a.cloneNode()),this.colHeader.style.width=`${o}px`,s.style.height=`${l}px`,i.style.width=`${r}px`,this.colHeader.style.transform=`translate(${this.translateX}px, 0px)`),this.content.style.transform=`translate(${this.translateX}px, ${this.translateY}px)`,this.content.style.width=`${o}px`,a.style.height=`${l}px`,a.style.width=`${r}px`}initScroll(){let e=0;for(;e<this.parent.sheets.length;)this.scroll[e]||this.scroll.push({rowCount:0,colCount:0}),e++}setScrollCount(e,t){let n=this.parent.activeSheetIndex;this.scroll[n][t+"Count"]||(this.scroll[n][t+"Count"]=e)}getRowAddress(e){return YR([e[0],this.parent.viewport.leftIndex,e[1],this.parent.viewport.rightIndex])}getColAddress(e){return YR([this.parent.viewport.topIndex,e[0],this.parent.viewport.bottomIndex,e[1]])}updateScrollCount(e,t,n=e){let i=this.parent.getActiveSheet(),s=e+this.parent.viewport[t+"Count"]+1+n,l=this.scroll[this.parent.activeSheetIndex][t+"Count"];if(s<l){if(i[t+"Count"]===l)return;s=l}this.parent.scrollSettings.isFinite||(i[t+"Count"]=s)}onVerticalScroll(e){let t=e.cur.idx,n=e.cur.size,i=e.prev.idx,s=Math.abs(t-i),l=this.parent.getThreshold("row");if(s>Math.round(l/2)){let r,a,o;if(t<=l&&!e.increase){if(this.translateY&&i>l&&(this.translateY=0,this.parent.viewport.topIndex=i-l,!e.preventScroll)){if(s<this.parent.viewport.rowCount+l){a=this.parent.viewport.topIndex-1,r=this.parent.skipHidden(0,a)[0],this.parent.viewport.topIndex=r;let t=this.hiddenCount(r,a),n=this.skipHiddenIdx(this.parent.viewport.bottomIndex-(a-r+1-t),e.increase);this.parent.viewport.bottomIndex-=a-r+1-t+this.hiddenCount(n,this.parent.viewport.bottomIndex),this.parent.renderModule.refreshUI({colIndex:this.parent.viewport.leftIndex,rowIndex:r,direction:"last",refresh:"RowPart",skipUpdateOnFirst:!0},this.getRowAddress([0,this.skipHiddenIdx(a,!1)]))}else this.parent.renderModule.refreshUI({rowIndex:0,colIndex:this.parent.viewport.leftIndex,refresh:"Row",skipUpdateOnFirst:!0});this.parent.element.focus()}this.updateScrollCount(l,"row")}if(i<l&&(s=Math.abs(t-l)),t>l){if(o=this.parent.viewport.topIndex,this.parent.viewport.topIndex=t-l,e.increase&&o>this.parent.viewport.topIndex)return void(this.parent.viewport.topIndex=o);if(this.translateY=n-this.getThresholdHeight(this.parent.viewport.topIndex,l),!e.preventScroll){if(s<this.parent.viewport.rowCount+l)if(e.increase){if(r=this.parent.viewport.bottomIndex+1,a=this.parent.viewport.bottomIndex+(this.parent.viewport.topIndex-o),a-=this.hiddenCount(o,this.parent.viewport.topIndex-1),this.parent.viewport.topIndex=this.skipHiddenIdx(this.parent.viewport.topIndex,e.increase),a<=this.parent.viewport.bottomIndex)return;let t=this.parent.skipHidden(r,a);r=t[0],a=this.checkLastIdx(t[1],"row"),this.parent.viewport.bottomIndex=a,this.parent.renderModule.refreshUI({colIndex:this.parent.viewport.leftIndex,rowIndex:r,direction:"first",refresh:"RowPart"},this.getRowAddress([r,a]))}else{r=this.parent.viewport.topIndex,a=r+s-1;let t=this.hiddenCount(r,a),n=this.skipHiddenIdx(this.parent.viewport.bottomIndex-(a-r-t),e.increase);this.parent.viewport.bottomIndex-=s-t+this.hiddenCount(n,this.parent.viewport.bottomIndex),r=this.parent.skipHidden(r,a)[0],this.parent.viewport.topIndex=r,this.parent.renderModule.refreshUI({colIndex:this.parent.viewport.leftIndex,rowIndex:r,direction:"last",refresh:"RowPart"},this.getRowAddress([r,a]))}else this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Row"});this.updateScrollCount(t,"row",l),this.parent.element.focus()}}e.prev.idx=t}}skipHiddenIdx(e,t,n="rows",i=this.parent.getActiveSheet()){return i[n][e]&&i[n][e].hidden&&(t?e++:e--,e=this.skipHiddenIdx(e,t,n,i)),e}hiddenCount(e,t,n="rows"){let i=0,s=this.parent.getActiveSheet();for(let l=e;l<=t;l++)s[n][l]&&s[n][l].hidden&&i++;return i}checkLastIdx(e,t){if(this.parent.scrollSettings.isFinite){let n=this.parent.getActiveSheet()[t+"Count"]-1;e>n&&(e=n)}return e}onHorizontalScroll(e){let t=e.cur.idx,n=e.cur.size,i=e.prev.idx,s=Math.abs(t-i),l=this.parent.getThreshold("col");if(s>Math.round(l/2)){let r,a,o;if(t<=l&&!e.increase){if(this.translateX&&i>l&&(this.translateX=0,this.parent.viewport.leftIndex=i-l,!e.preventScroll)){if(s<this.parent.viewport.colCount+l){a=this.parent.viewport.leftIndex-1,r=this.parent.skipHidden(0,a,"columns")[0],this.parent.viewport.leftIndex=r;let t=this.hiddenCount(r,a,"columns"),n=this.skipHiddenIdx(this.parent.viewport.rightIndex-(a-r+1-t),e.increase,"columns");this.parent.viewport.rightIndex-=a-r+1-t+this.hiddenCount(n,this.parent.viewport.rightIndex,"columns"),this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:r,direction:"last",refresh:"ColumnPart",skipUpdateOnFirst:!0},this.getColAddress([0,this.skipHiddenIdx(a,!1,"columns")]))}else this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:0,refresh:"Column",skipUpdateOnFirst:!0});this.parent.element.focus()}this.updateScrollCount(l,"col")}if(i<l&&(s=Math.abs(t-l)),t>l){if(o=this.parent.viewport.leftIndex,this.parent.viewport.leftIndex=t-l,e.increase&&o>this.parent.viewport.leftIndex)return void(this.parent.viewport.leftIndex=o);if(this.translateX=n-this.getThresholdWidth(this.parent.viewport.leftIndex,l),!e.preventScroll){if(s<this.parent.viewport.colCount+l)if(e.increase){if(r=this.parent.viewport.rightIndex+1,a=this.parent.viewport.rightIndex+(this.parent.viewport.leftIndex-o),a-=this.hiddenCount(o,this.parent.viewport.leftIndex-1,"columns"),this.parent.viewport.leftIndex=this.skipHiddenIdx(this.parent.viewport.leftIndex,e.increase,"columns"),a<=this.parent.viewport.rightIndex)return;let t=this.parent.skipHidden(r,a,"columns");r=t[0],a=this.checkLastIdx(t[1],"col"),this.parent.viewport.rightIndex=a,this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:r,direction:"first",refresh:"ColumnPart"},this.getColAddress([r,a]))}else{r=this.parent.viewport.leftIndex,a=r+s-1;let t=this.hiddenCount(r,a,"columns"),n=this.skipHiddenIdx(this.parent.viewport.rightIndex-(a-r-t),e.increase,"columns");this.parent.viewport.rightIndex-=s-t+this.hiddenCount(n,this.parent.viewport.rightIndex,"columns"),r=this.parent.skipHidden(r,a,"columns")[0],this.parent.viewport.leftIndex=r,this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:r,direction:"last",refresh:"ColumnPart"},this.getColAddress([r,a]))}else this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"});this.updateScrollCount(t,"col",l),this.parent.element.focus()}}e.prev.idx=t}}getThresholdHeight(e,t){let n=0,i=this.parent.getActiveSheet();for(let s=e;s<e+t;s++)n+=lH(i,s);return n}getThresholdWidth(e,t){let n=0,i=this.parent.getActiveSheet();for(let s=e;s<e+t;s++)n+=MH(i,s);return n}translate(e){let t=this.parent.getActiveSheet();if("Row"!==e.refresh&&"RowPart"!==e.refresh||(this.content.style.transform=`translate(${this.translateX}px, ${this.translateY}px)`,t.showHeaders&&(this.rowHeader.style.transform=`translate(0px, ${this.translateY}px)`)),"Column"===e.refresh||"ColumnPart"===e.refresh){let e=this.parent.enableRtl?-this.translateX:this.translateX;this.content.style.transform=`translate(${e}px, ${this.translateY}px)`,t.showHeaders&&(this.colHeader.style.transform=`translate(${e}px, 0px)`)}}updateColumnWidth(e){if("Column"===e.refresh){this.content.style.width="";let e=this.content.querySelector("tr").getBoundingClientRect().width;this.parent.getActiveSheet().showHeaders&&(this.colHeader.style.width=e+"px"),this.content.style.width=e+"px"}}updateUsedRange(e){if(!this.scroll.length)return;let t=this.parent.getActiveSheet();if("row"===e.update){if(e.index!==this.scroll[this.parent.activeSheetIndex].rowCount-1){let n=this.getVTrackHeight("height");e.index>=this.scroll[this.parent.activeSheetIndex].rowCount?n+=aH(t,this.scroll[this.parent.activeSheetIndex].rowCount,e.index):n-=aH(t,e.index+1,this.scroll[this.parent.activeSheetIndex].rowCount-1),this.scroll[this.parent.activeSheetIndex].rowCount=e.index+1,this.updateVTrack(this.rowHeader,n,"height"),this.scroll[this.parent.activeSheetIndex].rowCount>t.rowCount&&(t.rowCount=this.scroll[this.parent.activeSheetIndex].rowCount)}}else if(e.index>this.scroll[this.parent.activeSheetIndex].colCount){let n=this.getVTrackHeight("width");n+=TH(t,this.scroll[this.parent.activeSheetIndex].colCount,e.index),this.scroll[this.parent.activeSheetIndex].colCount=e.index+1,this.updateVTrack(this.colHeader,n,"width"),this.scroll[this.parent.activeSheetIndex].colCount>t.colCount&&(t.colCount=this.scroll[this.parent.activeSheetIndex].colCount)}}createHeaderElement(e){this.rowHeader=this.content.cloneNode(),this.colHeader=this.rowHeader.cloneNode(),this.rowHeader.style.width="",this.rowHeader.style.transform=`translate(0px, ${this.translateY}px)`,this.colHeader.style.transform=`translate(${this.parent.enableRtl?-this.translateX:this.translateX}px, 0px)`,this.rowHeader.appendChild(e.element.querySelector("table")),e.element.appendChild(this.rowHeader);let t=this.parent.getColumnHeaderContent();this.colHeader.appendChild(t.querySelector("table")),t.appendChild(this.colHeader);let n=this.content.nextElementSibling.cloneNode(),i=n.cloneNode();n.style.width="",i.style.height="",e.element.appendChild(n),t.appendChild(i)}getVTrackHeight(e){let t=this.content.nextElementSibling.style[e];if(t.includes("e+")){t=t.split("px")[0];let e=t.split("e+");return Number(e[0])*Math.pow(10,Number(e[1]))}return parseInt(t,10)}updateVTrackHeight(e){let t=this.parent.viewport.rowCount+1+2*this.parent.getThreshold("row");e.rowIdx>=t&&e.rowIdx<this.scroll[this.parent.activeSheetIndex].rowCount&&this.updateVTrack(this.rowHeader,this.getVTrackHeight("height")+e.threshold,"height")}updateVTrackWidth(e){if(e.colIdx>=this.parent.viewport.leftIndex&&e.colIdx<=this.parent.viewport.rightIndex){if(this.parent.getActiveSheet().showHeaders){let t=this.parent.getColumnHeaderContent().getElementsByClassName("e-virtualtrack")[0];t.style.width=parseInt(t.style.width,10)+e.threshold+"px"}let t=this.parent.getMainContent().getElementsByClassName("e-virtualtrack")[0];if(t.style.width=parseInt(t.style.width,10)+e.threshold+"px",this.parent.getActiveSheet().showHeaders){let t=this.parent.getColumnHeaderContent().getElementsByClassName("e-virtualable")[0];t.style.width=parseInt(t.style.width,10)+e.threshold+"px"}let n=this.parent.getMainContent().getElementsByClassName("e-virtualable")[0];n.style.width=parseInt(n.style.width,10)+e.threshold+"px"}}updateVTrack(e,t,n){this.parent.getActiveSheet().showHeaders&&(e.nextElementSibling.style[n]=`${t}px`),this.content.nextElementSibling.style[n]=`${t}px`}deInitProps(){this.parent.viewport.leftIndex=null,this.parent.viewport.topIndex=null,this.parent.viewport.bottomIndex=null,this.translateX=null,this.translateY=null}updateScrollProps(e={sheetIndex:0,sheets:this.parent.sheets}){0===this.scroll.length?this.initScroll():e.sheets.forEach(()=>{this.scroll.splice(e.sheetIndex,0,{rowCount:0,colCount:0})})}sliceScrollProps(e){UO(e.sheetIndex)?this.scroll.length=0:this.scroll.splice(e.sheetIndex,1)}addEventListener(){this.parent.on("beforeContentLoaded",this.createVirtualElement,this),this.parent.on("beforeVirtualContentLoaded",this.translate,this),this.parent.on("virtualContentLoaded",this.updateColumnWidth,this),this.parent.on("verticalScroll",this.onVerticalScroll,this),this.parent.on("horizontalScroll",this.onHorizontalScroll,this),this.parent.on("updateUsedRange",this.updateUsedRange,this),this.parent.on("rowHeightChanged",this.updateVTrackHeight,this),this.parent.on("colWidthChanged",this.updateVTrackWidth,this),this.parent.on("beforeHeaderLoaded",this.createHeaderElement,this),this.parent.on("deInitProperties",this.deInitProps,this),this.parent.on("sheetsDestroyed",this.sliceScrollProps,this),this.parent.on("sheetCreated",this.updateScrollProps,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}destroy(){this.removeEventListener(),this.rowHeader=null,this.colHeader=null,this.content=null,this.parent=null,this.scroll.length=0,this.translateX=null,this.translateY=null}removeEventListener(){this.parent.off("beforeContentLoaded",this.createVirtualElement),this.parent.off("beforeVirtualContentLoaded",this.translate),this.parent.off("virtualContentLoaded",this.updateColumnWidth),this.parent.off("verticalScroll",this.onVerticalScroll),this.parent.off("horizontalScroll",this.onHorizontalScroll),this.parent.off("updateUsedRange",this.updateUsedRange),this.parent.off("rowHeightChanged",this.updateVTrackHeight),this.parent.off("colWidthChanged",this.updateVTrackWidth),this.parent.off("beforeHeaderLoaded",this.createHeaderElement),this.parent.off("sheetsDestroyed",this.sliceScrollProps),this.parent.off("sheetCreated",this.updateScrollProps),this.parent.off("spreadsheetDestroyed",this.destroy)}}class bB{constructor(e){this.parent=e,this.addEventListener()}addEventListener(){this.parent.on(pF,this.keyDownHandler,this)}removeEventListener(){this.parent.isDestroyed||this.parent.off(pF,this.keyDownHandler)}keyDownHandler(e){if(!this.parent.isEdit&&(document.activeElement.classList.contains("e-spreadsheet")||GD(document.activeElement,".e-sheet"))){let t,n,i=this.parent.enableRtl,s=this.parent.getActiveSheet(),l={e,isFilterCell:!1},r=qR(this.parent.getActiveSheet().activeCell);if([9,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault(),e.shiftKey||!e.altKey||38!==e.keyCode&&40!==e.keyCode||this.parent.notify("filterCellKeyDown",l),!e.shiftKey&&(!i&&37===e.keyCode||i&&39===e.keyCode)||e.shiftKey&&9===e.keyCode)if(r[1]>0)r[1]-=1,t=!0;else{let e=this.parent.getMainContent();0===r[1]&&e.scrollLeft&&!i&&(e.scrollLeft=0)}else if(!l.isFilterCell&&!e.shiftKey&&38===e.keyCode||e.shiftKey&&13===e.keyCode)if(r[0]>0)r[0]-=1,t=!0;else{let e=this.parent.getMainContent();0===r[0]&&e.scrollTop&&(e.scrollTop=0)}else if(!e.shiftKey&&(!i&&39===e.keyCode||i&&37===e.keyCode)||9===e.keyCode){let e=oH(r[0],r[1],s);e&&e.colSpan>1&&(r[1]+=e.colSpan-1),r[1]<s.colCount-1&&(r[1]+=1,t=!0)}else if(!l.isFilterCell&&!e.shiftKey&&40===e.keyCode||13===e.keyCode){let e=oH(r[0],r[1],s);e&&e.rowSpan>1&&(r[0]+=e.rowSpan-1),r[0]<s.rowCount-1&&(r[0]+=1,t=!0)}t&&(this.scrollNavigation(n||r,!!n),s.activeCell=YR(r),this.parent.notify("cellNavigate",{range:r}))}e.target.classList.contains("e-sheet-rename")&&(32===e.keyCode?e.stopPropagation():13!==e.keyCode&&27!==e.keyCode||this.parent.notify("renameSheet",e))}scrollNavigation(e,t){let n=this.parent.enableRtl?-1:1,i=this.parent.getMainContent(),s=this.parent.getActiveSheet(),l=(qR(s.activeCell),qR(s.topLeftCell));this.getBottomIdx(l)<=e[0]||t?i.scrollTop+=lH(s,e[0]):l[0]>e[0]&&(i.scrollTop-=lH(s,e[0])),this.getRightIdx(l)<=e[1]||t?i.scrollLeft+=MH(s,e[1])*n:l[1]>e[1]&&(i.scrollLeft-=MH(s,e[1])*n)}getBottomIdx(e){let t=0,n=this.parent.getActiveSheet();for(let i=e[0];;i++)if(t+=lH(n,i),t>=this.parent.viewport.height-17)return i}getRightIdx(e){let t=0,n=this.parent.getActiveSheet(),i=this.parent.getMainContent().offsetWidth;for(let s=e[1];;s++)if(t+=MH(n,s),t>=i-17)return s}getModuleName(){return"keyboardNavigation"}destroy(){this.removeEventListener(),this.parent=null}}class vB{constructor(e){this.parent=e,this.addEventListener()}addEventListener(){this.parent.on(pF,this.keyDownHandler,this)}removeEventListener(){this.parent.isDestroyed||this.parent.off(pF,this.keyDownHandler)}keyDownHandler(e){if(e.ctrlKey){if(GD(e.target,".e-find-dlg")||[79,83,65].indexOf(e.keyCode)>-1&&e.preventDefault(),79===e.keyCode)this.parent.element.querySelector("#"+this.parent.element.id+"_fileUpload").click();else if(83===e.keyCode)this.parent.saveUrl&&this.parent.allowSave&&this.parent.save();else if(67===e.keyCode)this.parent.notify("copy",{promise:Promise});else if(75===e.keyCode){let t,n=qR(this.parent.getActiveSheet().activeCell),i=this.parent.sheets[this.parent.getActiveSheet().id-1].rows[n[0]];e.preventDefault(),UO(i)||(t=i.cells[n[1]]),UO(t)&&hH(n[0],n[1],this.parent.getActiveSheet(),t,!1),this.parent.notify(t&&t.hyperlink?"editHyperlink":"initiateHyperlink",null)}else 90===e.keyCode?this.parent.isEdit||(e.preventDefault(),this.parent.notify("performUndoRedo",{isUndo:!0})):89===e.keyCode&&(this.parent.isEdit||(e.preventDefault(),this.parent.notify("performUndoRedo",{isUndo:!1})));if(!this.parent.getActiveSheet().isProtected){if(70===e.keyCode){e.preventDefault();let t=document.querySelector(".e-spreadsheet-find-ddb");UO(t)||t.click()}else if(71===e.keyCode)e.preventDefault(),this.parent.notify(vF,null);else if(72===e.keyCode)e.preventDefault(),this.parent.notify(yF,null);else if(88===e.keyCode)this.parent.notify("cut",{promise:Promise});else if(86===e.keyCode)this.parent.notify("paste",{isAction:!0});else if(66===e.keyCode){e.preventDefault();let t=this.parent.getCellStyleValue(["fontWeight"],qR(this.parent.getActiveSheet().activeCell)).fontWeight;t="bold"===t?"normal":"bold",this.parent.notify(iF,{style:{fontWeight:t},onActionUpdate:!0,refreshRibbon:!0})}else if(73===e.keyCode){e.preventDefault();let t=this.parent.getCellStyleValue(["fontStyle"],qR(this.parent.getActiveSheet().activeCell)).fontStyle;t="italic"===t?"normal":"italic",this.parent.notify(iF,{style:{fontStyle:t},onActionUpdate:!0,refreshRibbon:!0})}else 85===e.keyCode?(e.preventDefault(),this.parent.notify("textDecorationUpdate",{style:{textDecoration:"underline"},refreshRibbon:!0})):53===e.keyCode&&(e.preventDefault(),this.parent.notify("textDecorationUpdate",{style:{textDecoration:"line-through"},refreshRibbon:!0}));e.shiftKey&&76===e.keyCode&&(this.parent.isEdit||(e.preventDefault(),this.parent.applyFilter()))}}27===e.keyCode&&this.parent.notify("clearCopy",null)}getModuleName(){return"keyboardShortcut"}destroy(){this.removeEventListener(),this.parent=null}}class yB{constructor(e){this.checkHeight=!1,this.parent=e,this.row=e.createElement("tr",{className:"e-row"}),this.parent.on("initialLoad",this.addEventListener,this)}applyCellFormat(e){let t=Object.keys(e.style),n=this.parent.getActiveSheet();if(e.lastCell&&cB(n,e.rowIdx)<=20&&!t.length)return;let i=e.cell||this.parent.getCell(e.rowIdx,e.colIdx);if(i){if(void 0!==e.style.border||void 0!==e.style.borderTop||void 0!==e.style.borderLeft){let t={};Object.keys(e.style).forEach(n=>{t[n]=e.style[n]}),void 0!==t.border&&(Object.assign(i.style,{borderRight:e.style.border,borderBottom:e.style.border}),this.setLeftBorder(e.style.border,i,e.rowIdx,e.colIdx,e.row,e.onActionUpdate,e.first),this.setTopBorder(e.style.border,i,e.rowIdx,e.colIdx,e.pRow,e.pHRow,e.onActionUpdate,e.first,e.lastCell,e.manualUpdate),delete t.border),void 0!==t.borderTop&&(this.setTopBorder(e.style.borderTop,i,e.rowIdx,e.colIdx,e.pRow,e.pHRow,e.onActionUpdate,e.first,e.lastCell,e.manualUpdate),delete t.borderTop),void 0!==t.borderLeft&&(this.setLeftBorder(e.style.borderLeft,i,e.rowIdx,e.colIdx,e.row,e.onActionUpdate,e.first),delete t.borderLeft),Object.keys(t).length&&(void 0!==t.borderBottom&&this.setThickBorderHeight(t.borderBottom,e.rowIdx,e.colIdx,i,e.row,e.hRow,e.onActionUpdate,e.lastCell,e.manualUpdate),Object.assign(i.style,t))}else void 0!==e.style.borderBottom&&this.setThickBorderHeight(e.style.borderBottom,e.rowIdx,e.colIdx,i,e.row,e.hRow,e.onActionUpdate,e.lastCell,e.manualUpdate),Object.assign(i.style,e.style);if(e.isHeightCheckNeeded&&(!n.rows[e.rowIdx]||!n.rows[e.rowIdx].customHeight))if(e.manualUpdate)this.checkHeight||(this.checkHeight=this.isHeightCheckNeeded(e.style,e.onActionUpdate)),this.updateRowHeight(e.rowIdx,e.colIdx,e.lastCell,e.onActionUpdate);else{let t=oH(e.rowIdx,e.colIdx,n);if(t&&t.wrap||!this.isHeightCheckNeeded(e.style)||hB(n,e.rowIdx,e.colIdx,rB(this.parent,e.style)),e.lastCell){let t=cB(n,e.rowIdx);t>20&&t>lH(n,e.rowIdx)&&lB(this.parent,n,t,e.rowIdx,e.row,e.hRow,!1)}}}else this.updateRowHeight(e.rowIdx,e.colIdx,!0,e.onActionUpdate)}updateRowHeight(e,t,n,i,s=0){if(this.checkHeight){this.checkHeight=!1;let l,r=0,a=this.parent.getActiveSheet(),o=oH(e,t,a);if(r=rB(this.parent,o&&o.style||this.parent.cellStyle,o&&o.wrap?oB(this.parent.getDisplayText(o),MH(a,t),o.style,this.parent.cellStyle):1),hB(a,e,t,r+s),n){let t=this.parent.getRow(e);if(!t)return;let n=lH(a,e);l=cB(a,e),(i?l!==n:l>n)&&lB(this.parent,a,l,e,t)}}}isHeightCheckNeeded(e,t){let n=Object.keys(e);return(t?n.indexOf("fontSize")>-1:n.indexOf("fontSize")>-1&&Number(e.fontSize.split("pt")[0])>12)||n.indexOf("fontFamily")>-1}setLeftBorder(e,t,n,i,s,l,r){if(r.includes("Column"))return;let a=this.parent.getCell(n,i-1,s);a?(l&&""!==e&&i===this.parent.viewport.leftIndex&&(this.parent.getMainContent().scrollLeft-=this.getBorderSize(e)),a.style.borderRight=e):t.style.borderLeft=e}setTopBorder(e,t,n,i,s,l,r,a,o,h){if(a.includes("Row"))return;let c=this.parent.getCell(n-1,i,s);if(c){if(sH(this.parent.getActiveSheet(),n-1)){let e=[Number(c.parentElement.getAttribute("aria-rowindex"))-1,i];if(this.parent.getCellStyleValue(["bottomPriority"],e).bottomPriority)return}r&&""!==e&&this.parent.getActiveSheet().topLeftCell.includes(`${n+1}`)&&(this.parent.getMainContent().scrollTop-=this.getBorderSize(e)),this.setThickBorderHeight(e,n-1,i,c,s,l,r,o,h),c.style.borderBottom=e}else t.style.borderTop=e}setThickBorderHeight(e,t,n,i,s,l,r,a,o){let h=e?this.getBorderSize(e):1,c=this.parent.getActiveSheet();if(h>2&&(!c.rows[t]||!c.rows[t].customHeight))if(o)this.checkHeight||(this.checkHeight=!0),this.updateRowHeight(t,n,a,r,h);else{let e=lH(c,t),i=Math.ceil(this.parent.calculateHeight(this.parent.getCellStyleValue(["fontFamily","fontSize"],[t,n]),1,3));i>e&&(lB(this.parent,c,i,t,s,l,!1),this.parent.notify("rowHeightChanged",{rowIdx:t,threshold:i-20}))}!r||!a&&this.checkHeight||!(h<3)||c.rows[t]&&c.rows[t].customHeight||(this.checkHeight||(this.checkHeight=!0),this.updateRowHeight(t,n,a,r,h))}getBorderSize(e){let t=e.split(" ")[0];return"thin"===t?1:"medium"===t?2:"thick"===t?3:parseInt(t,10)?parseInt(t,10):1}addEventListener(){this.parent.on("applyCellFormat",this.applyCellFormat,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("initialLoad",this.addEventListener),this.parent.off("applyCellFormat",this.applyCellFormat))}destroy(){this.removeEventListener(),this.parent=null,this.row=null,this.checkHeight=null}getModuleName(){return"cellformat"}}class wB{constructor(e){this.parent=e,this.addEventListener()}addEventListener(){this.parent.on("contentLoaded",this.wireEvents,this),this.parent.on("beforeHeaderLoaded",this.wireEvents,this),this.parent.on(fF,this.autoFit,this),this.parent.on("setAutoFit",this.setAutoFitHandler,this)}autoFit(e){let t=e.isRow?this.parent.getRowHeaderTable():this.parent.getColHeaderTable().rows[0];for(let n=e.startIndex;n<=e.endIndex;n++)this.trgtEle=e.isRow?this.parent.getRow(n,t):this.parent.getCell(null,n,t),this.setAutofit(n,!e.isRow)}wireEvents(e){if(this.parent.getActiveSheet().showHeaders){let t=e?e.element:this.parent.getRowHeaderContent(),n=this.parent.getColumnHeaderContent();zI.add(n,"dblclick",this.dblClickHandler,this),zI.add(t,"dblclick",this.dblClickHandler,this),zI.add(n,"mousedown",this.mouseDownHandler,this),zI.add(t,"mousedown",this.mouseDownHandler,this),this.wireResizeCursorEvent(t,n)}}wireResizeCursorEvent(e,t){zI.add(e,"mousemove",this.setTarget,this),zI.add(t,"mousemove",this.setTarget,this)}unWireResizeCursorEvent(){zI.remove(this.parent.getRowHeaderContent(),"mousemove",this.setTarget),zI.remove(this.parent.getColumnHeaderContent(),"mousemove",this.setTarget)}unwireEvents(){this.parent.getActiveSheet().showHeaders&&(zI.remove(this.parent.getColumnHeaderContent(),"dblclick",this.dblClickHandler),zI.remove(this.parent.getRowHeaderContent(),"dblclick",this.dblClickHandler),zI.remove(this.parent.getColumnHeaderContent(),"mousedown",this.mouseDownHandler),zI.remove(this.parent.getRowHeaderContent(),"mousedown",this.mouseDownHandler),this.unWireResizeCursorEvent())}removeEventListener(){this.parent.isDestroyed||(this.parent.off("contentLoaded",this.wireEvents),this.parent.off("beforeHeaderLoaded",this.wireEvents),this.parent.off(fF,this.autoFit),this.parent.off("setAutoFit",this.setAutoFitHandler))}mouseMoveHandler(e){let t=this.parent.element.getElementsByClassName("e-sheet-panel")[0],n=this.parent.element.getElementsByClassName("e-colresize-handler")[0],i=this.parent.element.getElementsByClassName("e-rowresize-handler")[0];(n||i)&&(this.isMouseMoved=!0,n?e.x>this.trgtEle.parentElement.firstChild.getBoundingClientRect().left&&(n.style.left=e.clientX-this.parent.element.getBoundingClientRect().left+"px"):i&&e.y>=this.trgtEle.parentElement.parentElement.firstChild.getBoundingClientRect().top&&(i.style.top=e.clientY-t.getBoundingClientRect().top+"px"))}mouseDownHandler(e){if(this.event=e,this.trgtEle=e.target,this.trgtEle.parentElement.classList.contains("e-hide-end")||this.trgtEle.classList.contains("e-hide-end")){let t=this.trgtEle.offsetHeight,n=e.offsetY;(t>=10&&n<5||t-2<8&&n<Math.ceil((n-2)/2))&&this.trgtEle.classList.add("e-skip-resize")}this.updateTarget(e,this.trgtEle);let t=this.trgtEle,n=t.classList.contains("e-colresize")?"e-colresize-handler":t.classList.contains("e-rowresize")?"e-rowresize-handler":"";this.createResizeHandler(t,n),this.unWireResizeCursorEvent(),zI.add(this.parent.element,"mousemove",this.mouseMoveHandler,this),zI.add(document,"mouseup",this.mouseUpHandler,this)}mouseUpHandler(e){let t=this.parent.element.getElementsByClassName("e-colresize-handler")[0],n=this.parent.element.getElementsByClassName("e-rowresize-handler")[0];this.resizeOn(e),this.isMouseMoved=null;let i=t||n;i&&(this.parent.element.getElementsByClassName("e-sheet-panel")[0].removeChild(i),this.updateCursor(e)),zI.remove(document,"mouseup",this.mouseUpHandler),zI.remove(this.parent.element,"mousemove",this.mouseMoveHandler),this.wireResizeCursorEvent(this.parent.getRowHeaderContent(),this.parent.getColumnHeaderContent())}dblClickHandler(e){if(this.trgtEle=e.target,this.updateTarget(e,this.trgtEle),this.trgtEle.classList.contains("e-colresize")){let e=parseInt(this.trgtEle.getAttribute("aria-colindex"),10)-1,t=`${MH(this.parent.getActiveSheet(),e)}px`;this.trgtEle.classList.contains("e-unhide-column")?this.showHiddenColumns(e-1):this.setAutofit(e,!0,t)}else if(this.trgtEle.classList.contains("e-rowresize")){let e=parseInt(this.trgtEle.parentElement.getAttribute("aria-rowindex"),10)-1,t=`${lH(this.parent.getActiveSheet(),e)}px`;this.setAutofit(e,!1,t)}}setTarget(e){let t,n,i,s,l=e.target,r=this.parent.getActiveSheet();if(r.isProtected&&(!r.protectSettings.formatColumns||!r.protectSettings.formatRows)){if(!r.protectSettings.formatRows&&!r.protectSettings.formatColumns)return;if(r.protectSettings.formatRows&&GD(l,".e-colhdr-table"))return;if(r.protectSettings.formatColumns&&GD(l,".e-rowhdr-table"))return}if(GD(l,".e-header-row")?(i=e.offsetX,n=l.offsetWidth,s="e-colresize",l.previousElementSibling?t=l.previousElementSibling:Number(l.getAttribute("aria-colindex"))>1&&(t=l)):GD(l,".e-row")&&(i=e.offsetY,n=l.offsetHeight,s="e-rowresize",l.parentElement.previousElementSibling?t=l.parentElement.previousElementSibling.firstElementChild:Number(l.parentElement.getAttribute("aria-rowindex"))>1&&(t=l)),n-2<8&&i!==Math.ceil((n-2)/2))i<Math.ceil((n-2)/2)?(l.classList.add(s),t.classList.add(s)):i>Math.ceil((n-2)/2)&&l.classList.add(s);else if(n-5<i&&i<=n&&n>=10)l.classList.add(s);else if(i<5&&t&&n>=10)l.classList.add(s),t.classList.add(s);else{let e="e-colresize"===s?l.parentElement.getElementsByClassName(s):this.parent.getRowHeaderTable().getElementsByClassName(s);for(let t=0;t<e.length;t++)e[t].classList.remove(s)}}updateTarget(e,t){if(GD(t,".e-header-row")){if(t.offsetWidth<10&&e.offsetX<Math.ceil((t.offsetWidth-2)/2)||e.offsetX<5&&t.offsetWidth>=10&&t.classList.contains("e-colresize")){let e=this.parent.getActiveSheet(),n=Number(this.trgtEle.getAttribute("aria-colindex"))-2;t.previousElementSibling&&!PH(e,n)?this.trgtEle=t.previousElementSibling:n>-1&&this.trgtEle.classList.add("e-unhide-column")}}else if(t.offsetHeight<10&&e.offsetY<Math.ceil((t.offsetHeight-2)/2)||e.offsetY<5&&t.offsetHeight>=10&&t.classList.contains("e-rowresize")){let n=this.parent.getActiveSheet(),i=Number(t.parentElement.getAttribute("aria-rowindex"))-2;if(t.parentElement.previousElementSibling||sH(n,i))if("dblclick"===e.type&&sH(n,i)){let e,t=KR(zR(this.parent.getActiveSheet().selectedRange));e=i<=t[2]&&i>t[0]?{startIndex:t[0],endIndex:t[2],hide:!1,autoFit:!0}:{startIndex:i,endIndex:i,hide:!1,autoFit:!0},this.parent.notify("hideShow",e)}else sH(n,i)||(this.trgtEle=t.parentElement.previousElementSibling.getElementsByClassName("e-header-cell")[0])}}setAutoFitHandler(e){this.setAutofit(e.idx,e.isCol)}setAutofit(e,t,n){let i=0,s=this.parent.getActiveSheet(),l=this.parent.getMainContent(),r=t?`${MH(this.parent.getActiveSheet(),e)}px`:`${lH(this.parent.getActiveSheet(),e)}px`,a=[],o=l.getElementsByClassName("e-content-table")[0];if(this.parent.getActiveSheet().showHeaders&&(t?this.parent.getColHeaderTable():this.parent.getRowHeaderTable()).getElementsByTagName("tr"),t){let t=s.rows.length;for(let n=0;n<t;n++)if(s.rows[n]&&s.rows[n].cells&&s.rows[n].cells[e]){let t=this.parent.createElement("td",{className:"e-cell",innerHTML:this.parent.getDisplayText(s.rows[n].cells[e])});if(s.rows[n].cells[e].style){let i=s.rows[n].cells[e].style;i.fontFamily&&(t.style.fontFamily=i.fontFamily),i.fontSize&&(t.style.fontSize=i.fontSize)}a[i]=t,i++}}else{let t=s.rows[e]&&s.rows[e].cells?s.rows[e].cells.length:0;for(let n=0;n<t;n++)if(s.rows[e]&&s.rows[e].cells[n]){let t=this.parent.createElement("td",{innerHTML:this.parent.getDisplayText(s.rows[e].cells[n])});if(s.rows[e].cells[n].style){let i=s.rows[e].cells[n].style;i.fontFamily&&(t.style.fontFamily=i.fontFamily),i.fontSize&&(t.style.fontSize=i.fontSize)}a[i]=t,i++}}let h=nB(o,a,t,this.parent);t&&(h=this.getFloatingElementWidth(h,e));let c=0===h?parseInt(r,10):h,d=parseInt(r,10)>c?-(parseInt(r,10)-c):c-parseInt(r,10);if(t)if(e>=this.parent.viewport.leftIndex&&e<=this.parent.viewport.rightIndex)DH(s,e).width=c>0?c:0,this.parent.notify("colWidthChanged",{threshold:d,colIdx:e}),this.resizeStart(e,this.parent.getViewportIndex(e,!0),c+"px",t,!0,n);else{let t,n=MH(s,e);t=c>0?-(n-c):-n,this.parent.notify("colWidthChanged",{threshold:t,colIdx:e}),DH(s,e).width=c>0?c:0}else if(!t)if(e>=this.parent.viewport.topIndex&&e<=this.parent.viewport.bottomIndex)c=c>20?c:20,rH(s,e,c>0?c:0),this.parent.notify("rowHeightChanged",{threshold:d,rowIdx:e}),this.resizeStart(e,this.parent.getViewportIndex(e),c+"px",t,!0,n);else{let t,n=lH(s,e);t=c>0?-(n-c):-n,this.parent.notify("rowHeightChanged",{threshold:t,rowIdx:e}),rH(s,e,c>0?c:0)}}createResizeHandler(e,t){let n=this.parent.createElement("div",{className:t});e.classList.contains("e-colresize")?(n.style.height=this.parent.getMainContent().clientHeight+e.offsetHeight+"px",n.style.left=this.event.clientX-this.parent.element.getBoundingClientRect().left+"px",n.style.top="0px"):e.classList.contains("e-rowresize")&&(n.style.width=this.parent.getMainContent().clientWidth+e.offsetWidth+"px",n.style.left="0px",n.style.top=this.event.clientY-this.parent.element.getElementsByClassName("e-sheet-panel")[0].getBoundingClientRect().top+"px"),this.parent.element.getElementsByClassName("e-sheet-panel")[0].appendChild(n),this.updateCursor(this.event)}setColWidth(e,t,n,i){let s=this.parent.getActiveSheet(),l=n-i;if(l<0&&i<-l&&(l=-i),n>0){if(this.isMouseMoved&&this.trgtEle.classList.contains("e-unhide-column"))return this.showHiddenColumns(e,n),void this.parent.notify(gF,{eventArgs:{index:e,width:"0px",isCol:!0,sheetIdx:this.parent.activeSheetIndex,oldWidth:`${i}px`,hide:!1},action:"resize"});this.parent.notify("colWidthChanged",{threshold:l,colIdx:e}),this.resizeStart(e,t,`${n}px`,!0,!1,`${i}px`),AH(s,e,{width:n,customWidth:!0})}else this.isMouseMoved&&(this.parent.hideColumn(e),this.parent.notify(gF,{eventArgs:{index:e,width:"0px",isCol:!0,sheetIdx:this.parent.activeSheetIndex,oldWidth:`${i}px`,hide:!0},action:"resize"}))}showHiddenColumns(e,t){let n,i,s,l=this.parent.getActiveSheet(),r=zR(l.selectedRange);if(e>=r[1]&&e<=r[3]&&r[2]===l.rowCount-1&&qR(l.activeCell)[0]===qR(l.topLeftCell)[0]?(n=r[1],i=r[3],s=this.parent.getMainContent().querySelector("colgroup")):n=i=e,void 0!==t)for(let a=n;a<=i;a++)AH(l,a,{width:t,customWidth:!0}),a>=this.parent.viewport.leftIndex&&a<=this.parent.viewport.rightIndex&&!PH(l,a)&&(s.children[this.parent.getViewportIndex(a,!0)].style.width=`${t}px`);this.trgtEle.classList.remove("e-unhide-column"),this.parent.hideColumn(n,i,!1),void 0===t&&this.autoFit({isRow:!1,startIndex:n,endIndex:i})}setRowHeight(e,t,n,i){let s=this.parent.getActiveSheet(),l=parseInt(this.parent.getMainContent().getElementsByTagName("tr")[t].style.height,10),r=n,a=parseInt(r,10)-l;a<0&&l<-a&&(a=-l),this.parent.notify("rowHeightChanged",{threshold:a,rowIdx:e,isCustomHgt:!0}),this.resizeStart(e,t,r,!1,!1,i),iH(s,e,{height:parseInt(r,10)>0?parseInt(r,10):0,customHeight:!0})}resizeOn(e){let t,n;if(this.trgtEle.classList.contains("e-rowresize")){let i=this.parent.getActiveSheet(),s=Number(this.trgtEle.parentElement.getAttribute("aria-rowindex"))-2;if(this.isMouseMoved&&sH(i,s)&&this.trgtEle.classList.contains("e-skip-resize")&&e.clientY>this.trgtEle.getBoundingClientRect().top){this.trgtEle.classList.remove("e-skip-resize");let e={startIndex:s,endIndex:s,hide:!1,skipAppend:!0};this.parent.notify("hideShow",e);let t=this.parent.getRowHeaderTable().tBodies[0],n=this.parent.getContentTable().tBodies[0];e.hdrRow.style.display="none",e.row.style.display="none",t.insertBefore(e.hdrRow,t.children[e.insertIdx]),n.insertBefore(e.row,n.children[e.insertIdx]),this.trgtEle=e.hdrRow.firstElementChild,e.hdrRow.nextElementSibling.classList.remove("e-hide-end"),e.mergeCollection.forEach(e=>{this.parent.notify(rF,e)})}else if(this.trgtEle.classList.contains("e-skip-resize")){if(this.trgtEle.classList.remove("e-skip-resize"),!this.isMouseMoved&&sH(i,s)||!this.trgtEle.parentElement.previousElementSibling)return;this.trgtEle=this.trgtEle.parentElement.previousElementSibling.getElementsByClassName("e-header-cell")[0]}n=t=parseInt(this.trgtEle.parentElement.getAttribute("aria-rowindex"),10)-1,t=this.parent.getViewportIndex(n);let l=this.parent.getMainContent().getElementsByClassName("e-row")[t].style.height,r=e.clientY-this.event.clientY+parseInt(l,10);if(r<=0)return this.parent.hideRow(n),iH(i,n,{height:0,customHeight:!0}),void this.parent.notify(gF,{eventArgs:{index:n,height:"0px",isCol:!1,sheetIdx:this.parent.activeSheetIndex,oldHeight:l},action:"resize"});if(this.setRowHeight(n,t,`${r}px`,l),"none"===this.trgtEle.parentElement.style.display){let e=this.parent.getActiveSheet(),i=KR(zR(e.selectedRange));if(n<=i[2]&&n>i[0]){let s;r=e.rows[n].height;for(let t=i[0];t<=i[2];t++)t!==n&&(l=`${lH(e,t)}px`,iH(e,t,{customHeight:!0,height:r}),sH(e,t)?s||(s=t):(this.parent.getRow(t).style.height=`${r}px`,e.showHeaders&&(this.parent.getRow(t,this.parent.getRowHeaderTable()).style.height=`${r}px`)),this.parent.notify(gF,{eventArgs:{index:t,height:`${r}px`,isCol:!1,sheetIdx:this.parent.activeSheetIndex,oldHeight:l},action:"resize"}));this.parent.hideRow(i[0],n-1,!1),t+=Math.abs(n-s)}else 0===t||sH(e,n-1)?0!==t&&this.trgtEle.parentElement.classList.add("e-hide-end"):this.trgtEle.parentElement.previousElementSibling.classList.remove("e-hide-start"),this.parent.selectRange(e.selectedRange);this.trgtEle.parentElement.style.display="",this.parent.getContentTable().rows[t].style.display=""}}else if(this.trgtEle.classList.contains("e-colresize")){let n;this.isMouseMoved&&this.trgtEle.classList.contains("e-unhide-column")&&e.clientX<this.trgtEle.getBoundingClientRect().left&&(this.trgtEle.classList.remove("e-unhide-column"),this.trgtEle.previousElementSibling&&(this.trgtEle=this.trgtEle.previousElementSibling)),t=parseInt(this.trgtEle.getAttribute("aria-colindex"),10)-1,this.trgtEle.classList.contains("e-unhide-column")?(t-=1,n=0):n=MH(this.parent.getActiveSheet(),t),this.setColWidth(t,this.parent.getViewportIndex(t,!0),e.clientX-this.event.clientX+n,n)}}setWidthAndHeight(e,t,n){n?e.style.width=parseInt(e.style.width,10)+t+"px":e.style.height=parseInt(e.style.height,10)+t+"px"}resizeStart(e,t,n,i,s,l){let r,a;this.parent.getActiveSheet().showHeaders?eB(t,n,i,this.parent):i?this.parent.element.getElementsByClassName("e-sheet-content")[0].getElementsByTagName("col")[t].style.width=n:this.parent.element.getElementsByClassName("e-sheet-content")[0].getElementsByTagName("tr")[t].style.height=n,i?(r={index:e,width:n,isCol:i,sheetIdx:this.parent.activeSheetIndex,oldWidth:l},a=l!==n):(r={index:e,height:n,isCol:i,sheetIdx:this.parent.activeSheetIndex,oldHeight:l},a=l!==n),a&&this.parent.notify(gF,{eventArgs:r,action:s?"resizeToFit":"resize"})}updateCursor(e){this.parent.element.getElementsByClassName("e-colresize-handler")[0]?this.parent.element.classList.add("e-col-resizing"):this.parent.element.classList.contains("e-col-resizing")&&this.parent.element.classList.remove("e-col-resizing"),this.parent.element.getElementsByClassName("e-rowresize-handler")[0]?this.parent.element.classList.add("e-row-resizing"):this.parent.element.classList.contains("e-row-resizing")&&this.parent.element.classList.remove("e-row-resizing")}getFloatingElementWidth(e,t){let n=e,i={filterRange:[],hasFilter:!1};return this.parent.notify("getFilterRange",i),i.hasFilter&&i.filterRange&&i.filterRange[1]<=t&&i.filterRange[3]>=t&&(n=e+22),n}destroy(){this.unwireEvents(),this.removeEventListener(),this.parent=null}getModuleName(){return"resize"}}class CB{constructor(e){this.parent=e,this.addEventListener()}refreshClients(e){iB(e,this.parent)}addEventListener(){this.parent.on("collaborativeUpdate",this.refreshClients,this)}removeEventListener(){this.parent.isDestroyed||this.parent.off("collaborativeUpdate",this.refreshClients)}destroy(){this.removeEventListener(),this.parent=null}getModuleName(){return"collaborativeEditing"}}class xB{constructor(e){this.parent=e,this.addEventListener()}hideShow(e){if(e.startIndex>e.endIndex){let t=e.startIndex;e.startIndex=e.endIndex,e.endIndex=t}e.actionUpdate&&this.parent.notify(bF,{eventArgs:e,action:"hideShow"}),e.isCol?this.hideCol(e):this.hideRow(e),e.actionUpdate&&this.parent.notify(gF,{eventArgs:e,action:"hideShow"})}hideRow(e){let t,n,i,s,l=this.parent.getActiveSheet(),r=0;if(e.hide){let a,o,h;for(let c=e.startIndex;c<=e.endIndex;c++)if(!sH(l,c))if(void 0===n&&(l.showHeaders&&(o=this.parent.getRowHeaderTable()),a=this.parent.getContentTable(),n=this.parent.getViewportIndex(c),r=0),iH(l,c,{hidden:!0}),h=a.rows[n],h){if(!s)for(let n=0;n<=l.usedRange.colIndex;n++)if(t=oH(c,n,l)||{},(t.colSpan||t.rowSpan)&&(e.startIndex>=this.parent.viewport.topIndex||this.parent.scrollSettings.enableVirtualization)){s=!0;break}if(s)continue;if(l.showHeaders&&qD(o.rows[n]),qD(h),r++,h=a.rows[n],h&&c===e.endIndex){let t;i=dB(l,c+1,!0);let n=i!==dB(l,0,!0)&&i===(this.parent.viewport.topIndex>=e.startIndex?e.endIndex+1:this.parent.viewport.topIndex)?"Row":"";for(let e=this.parent.viewport.leftIndex;e<=this.parent.viewport.rightIndex;e++){let s=this.parent.getCellStyleValue(["borderTop"],[i,e]).borderTop;""!==s&&(t=h.cells[e],this.parent.notify("applyCellFormat",{onActionUpdate:!1,rowIdx:i,colIdx:e,style:{borderTop:s},row:h,pRow:h.previousElementSibling,first:n,cell:t}))}}}else c<=this.parent.viewport.bottomIndex?r++:r--;if(s&&(e.startIndex>=this.parent.viewport.topIndex||!this.parent.scrollSettings.enableVirtualization))return this.parent.selectRange(l.selectedRange),void this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Row"});if(!r)return;if(this.parent.selectRange(l.selectedRange),this.parent.scrollSettings.enableVirtualization){this.parent.viewport.topIndex>=e.startIndex&&(this.parent.viewport.topIndex=e.endIndex+1),e.startIndex=this.parent.viewport.bottomIndex+1,e.endIndex=e.startIndex+r-1;let t=this.parent.skipHidden(e.startIndex,e.endIndex);e.startIndex=t[0],e.endIndex=t[1],this.parent.viewport.bottomIndex=e.endIndex,this.parent.renderModule.refreshUI({colIndex:this.parent.viewport.leftIndex,direction:"",refresh:"RowPart"},`${WR(e.startIndex,this.parent.viewport.leftIndex)}:${WR(e.endIndex,this.parent.viewport.leftIndex+this.parent.viewport.colCount+2*this.parent.getThreshold("col"))}`)}l.showHeaders&&(0===n?o.rows[0]&&o.rows[0].classList.add("e-hide-end"):(o.rows[n-1]&&o.rows[n-1].classList.add("e-hide-start"),o.rows[n]&&o.rows[n].classList.add("e-hide-end")))}else{let s,a,o,h,c,d,u,p,m,f=e.startIndex-1,g=[];for(let i=e.startIndex,r=e.endIndex;i<=r;i++)if(sH(l,i))if(void 0===m)if(i>this.parent.viewport.bottomIndex){if(iH(l,i,{hidden:!1}),void 0===p)return}else{void 0===p&&(p=i),iH(l,i,{hidden:!1}),void 0===n&&(s=document.createDocumentFragment(),a=document.createDocumentFragment(),c=this.parent.serviceLocator.getService("row"),l.showHeaders&&(d=this.parent.getRowHeaderTable().tBodies[0]),u=this.parent.getContentTable().tBodies[0],i<this.parent.viewport.topIndex&&(this.parent.viewport.topIndex=i),n=0===i?0:this.parent.getViewportIndex(i)),f++,l.showHeaders&&(o=c.refresh(i,null,null,!0),s.appendChild(o),qD(d.lastElementChild)),h=a.appendChild(c.refresh(i,h,o)),qD(u.lastElementChild);for(let e=this.parent.viewport.leftIndex;e<=this.parent.viewport.rightIndex;e++)if(t=oH(i,e,l)||{},void 0!==t.rowSpan){let t={range:[i,e,i,e],isAction:!1,merge:!0,type:"All",skipChecking:!0};this.parent.notify("activeCellMergedRange",t),g.length&&t.range[1]===g[g.length-1].range[1]||g.push(t)}}else r=i;else{if(e.startIndex===e.endIndex)return;void 0===n?f++:m=i}if(this.parent.viewport.bottomIndex=this.parent.viewport.topIndex+this.parent.viewport.rowCount+2*this.parent.getThreshold("row"),r=this.parent.hiddenCount(this.parent.viewport.topIndex,e.startIndex)+this.parent.hiddenCount(e.endIndex+1,this.parent.viewport.bottomIndex),this.parent.viewport.bottomIndex+=r,e.insertIdx=n,e.row=a.querySelector(".e-row"),e.mergeCollection=g,l.showHeaders&&(e.hdrRow=s.querySelector(".e-row"),0!==n&&!sH(l,f-1)&&d.children[n-1]&&d.children[n-1].classList.remove("e-hide-start"),0!==e.startIndex&&sH(l,e.startIndex-1)&&e.hdrRow.classList.add("e-hide-end"),sH(l,f+1)?s.lastElementChild.classList.add("e-hide-start"):d.children[n]&&d.children[n].classList.remove("e-hide-end")),h&&u.children[n]){i=dB(l,f+1,!0);for(let e=this.parent.viewport.leftIndex;e<=this.parent.viewport.rightIndex;e++){let t=this.parent.getCellStyleValue(["borderTop"],[i,e]).borderTop;if(""!==t){this.parent.notify("applyCellFormat",{onActionUpdate:!1,rowIdx:i,colIdx:e,style:{borderTop:t},pRow:h,cell:u.children[n].children[e],first:""});let s=dB(l,p-1,!1);s>-1?!u.children[n-1]||this.parent.getCellStyleValue(["borderBottom"],[s,e]).borderBottom||this.parent.getCellStyleValue(["borderTop"],[p,e]).borderTop||(u.children[n-1].children[e].style.borderBottom=""):u.children[n].children[e].style.borderTop=""}}}if(e.skipAppend)return;l.showHeaders&&d.insertBefore(s,d.children[n]),u.insertBefore(a,u.children[n]),this.parent.selectRange(l.selectedRange),e.autoFit&&l.showHeaders&&this.parent.notify(fF,{startIndex:e.startIndex,endIndex:e.endIndex,isRow:!0}),g.forEach(e=>{this.parent.notify(rF,e)}),void 0!==m&&m!==e.endIndex&&(e.startIndex=m,this.hideRow(e))}}hideCol(e){let t,n=this.parent.getActiveSheet(),i=[],s=[],l=qR(n.topLeftCell);for(let r=e.startIndex;r<=e.endIndex;r++)(e.hide?!PH(n,r):PH(n,r))&&(AH(n,r,{hidden:e.hide}),this.parent.scrollSettings.enableVirtualization&&(r<this.parent.viewport.leftIndex||r>this.parent.viewport.rightIndex)?r<this.parent.viewport.leftIndex&&s.push(r):(i.push(r),e.hide&&l[1]===r&&(t=!0)));if(s.length||i.length)if(e.hide){if(!i.length)return;if((i.length<=this.parent.getThreshold("col")||!this.parent.scrollSettings.enableVirtualization)&&this.removeCell(n,i),this.parent.scrollSettings.enableVirtualization){if(i[0]===this.parent.viewport.leftIndex&&(this.parent.viewport.leftIndex=dB(n,i[i.length-1]+1,!0,"columns")),t){let e=0;if(i.slice(0,i.indexOf(l[1])).forEach(t=>{e+=MH(n,t,!0)}),e){this.parent.notify("setScrollEvent",{set:!1});let t=this.parent.getMainContent();t.scrollLeft-=e,this.parent.notify("onContentScroll",{scrollLeft:t.scrollLeft,preventScroll:!0,skipHidden:!0}),LH(()=>this.parent.notify("setScrollEvent",{set:!0}))}}if(this.parent.scrollSettings.isFinite){let e=dB(n,n.colCount-1,!1,"columns"),t=this.parent.viewport.leftIndex,s=this.parent.viewport.rightIndex;if(s+i.length>=e){let l=dB(n,t-(s+i.length-e),!1,"columns");return l>-1&&(this.parent.viewport.leftIndex=l,this.parent.viewport.leftIndex-=this.parent.hiddenCount(s,e)),this.parent.viewport.rightIndex=e,t===this.parent.viewport.leftIndex&&s===this.parent.viewport.rightIndex||this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===dB(n,0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"}),void this.parent.selectRange(n.selectedRange)}}if(i.length<=this.parent.getThreshold("col")){let e=this.parent.skipHidden(this.parent.viewport.rightIndex+1,this.parent.viewport.rightIndex+i.length,"columns");this.parent.viewport.rightIndex=e[1],this.parent.renderModule.refreshUI({rowIndex:this.parent.viewport.topIndex,colIndex:e[0],direction:"",refresh:"ColumnPart"},`${YR([this.parent.viewport.topIndex,e[0],this.parent.viewport.bottomIndex,e[1]])}`)}else this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===dB(n,0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"})}this.parent.selectRange(n.selectedRange)}else{if(s.length){if(s.sort((e,t)=>e-t),this.parent.scrollSettings.enableVirtualization&&s[0]<this.parent.getThreshold("col")){let e=qR(n.topLeftCell)[0]+1;n.topLeftCell=`A${e}`,this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,rowIndex:this.parent.viewport.topIndex,colIndex:0,refresh:"Column"}),this.parent.selectRange(n.selectedRange)}else this.parent.goTo(WR(this.parent.viewport.topIndex,s[0]));return}i.length<=this.parent.getThreshold("col")||!this.parent.scrollSettings.enableVirtualization?(this.appendCell(n,i),this.parent.scrollSettings.enableVirtualization&&this.parent.notify("virtualContentLoaded",{refresh:"Column"})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===dB(n,0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"}),this.parent.selectRange(n.selectedRange)}}removeCell(e,t){let n,i,s,l,r,a,o,h=0,c=this.parent.getViewportIndex(t[0],!0)+1;this.parent.scrollSettings.enableVirtualization?(n=this.parent.viewport.topIndex,i=this.parent.viewport.bottomIndex):(n=0,i=e.rowCount-1);let d,u=this.parent.getContentTable();if(a=u.getElementsByTagName("colgroup")[0],e.showHeaders){let e=this.parent.getColHeaderTable();r=e.getElementsByTagName("colgroup")[0],s=e.rows[0]}let p=t.length-1;for(;n<=i;)sH(e,n)?n++:(l=u.rows[h],t.forEach((i,u)=>{if(qD(l.cells[c]),0===h&&(e.showHeaders&&(qD(s.cells[c]),qD(r.children[c])),qD(a.children[c])),0===u&&(o=oH(n,i,e)||{},void 0!==o.colSpan&&(void 0===o.rowSpan||o.colSpan>1)&&this.parent.notify("hiddenMerge",{rowIdx:n,colIdx:i,model:"col",start:t[0],end:t[p]})),u===p){d=dB(e,i+1,!0,"columns");let s=this.parent.getCellStyleValue(["borderLeft"],[h,d]).borderLeft;""!==s&&this.parent.notify("applyCellFormat",{onActionUpdate:!1,rowIdx:h,colIdx:d,style:{borderLeft:s},row:l,first:""}),o=oH(n,i,e)||{},void 0!==o.colSpan&&(void 0===o.rowSpan||o.colSpan>1)&&this.parent.notify("hiddenMerge",{rowIdx:n,colIdx:i,model:"col",start:t[0],end:t[p],isEnd:!0})}}),n++,h++);c-1>-1&&e.showHeaders&&s.cells[c-1]&&s.cells[c-1].classList.add("e-hide-start"),s.cells[c]&&s.cells[c].classList.add("e-hide-end")}appendCell(e,t){let n,i,s,l,r,a,o,h=0;document.createDocumentFragment(),document.createDocumentFragment(),document.createDocumentFragment(),this.parent.scrollSettings.enableVirtualization?(n=this.parent.viewport.topIndex,i=this.parent.viewport.bottomIndex):(n=0,i=e.rowCount-1);let c=this.parent.getContentTable(),d=this.parent.getColHeaderTable();a=c.getElementsByTagName("colgroup")[0],e.showHeaders&&(r=d.getElementsByTagName("colgroup")[0],s=d.rows[0]);let u,p=this.parent.serviceLocator.getService("cell");t.sort((e,t)=>e-t);let m,f,g=[],b=[],v=t.length-1;for(;n<=i;)sH(e,n)?n++:(l=c.rows[h],t.forEach((i,c)=>{if(0===h&&(b[c]=this.parent.getViewportIndex(i,!0),a.children[b[c]]?(a.insertBefore(this.parent.sheetModule.updateCol(e,i),a.children[b[c]]),e.showHeaders&&(f=s.cells[b[c]],0===c&&t[c]&&!PH(e,t[c]-1)&&f.previousElementSibling.classList.remove("e-hide-start"),s.insertBefore(p.renderColHeader(i),f),c!==v||PH(e,t[c]+1)||f.classList.remove("e-hide-end"))):(a.appendChild(this.parent.sheetModule.updateCol(e,i)),e.showHeaders&&s.appendChild(p.renderColHeader(i))),qD(a.lastChild),e.showHeaders&&(qD(s.lastChild),c===v&&(qD(r),d.insertBefore(a.cloneNode(!0),d.tHead[0])))),qD(l.lastChild),f=l.cells[b[c]],m=p.render({rowIdx:n,colIdx:i,cell:oH(n,i,e),address:WR(n,i),lastCell:i===v,isHeightCheckNeeded:!0,first:i!==dB(e,0,!0,"columns")&&i===this.parent.viewport.leftIndex?"Column":"",checkNextBorder:c===v?"Column":""}),f?l.insertBefore(m,f):l.appendChild(m),0===c&&m.previousSibling&&""!==this.parent.getCellStyleValue(["borderLeft"],[h,dB(e,t[t.length-1]+1,!0,"columns")]).borderLeft&&(o=dB(e,t[0]-1,!1,"columns"),o>-1&&!this.parent.getCellStyleValue(["borderRight"],[h,o]).borderRight&&!this.parent.getCellStyleValue(["borderLeft"],[h,t[0]]).borderLeft&&(m.previousSibling.style.borderRight="")),u=oH(h,i,e)||{},void 0!==u.colSpan&&(void 0===u.rowSpan||u.colSpan>1)){let e={range:[h,i,h,i],isAction:!1,merge:!0,type:"All",skipChecking:!0};this.parent.notify("activeCellMergedRange",e),g.length&&e.range[1]===g[g.length-1].range[1]||g.push(e)}}),n++,h++);g.forEach(e=>{this.parent.notify(rF,e)}),this.parent.viewport.rightIndex=dB(e,this.parent.viewport.rightIndex-t.length,!1,"columns")}addEventListener(){this.parent.on("hideShow",this.hideShow,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}destroy(){this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.off("hideShow",this.hideShow),this.parent.off("spreadsheetDestroyed",this.destroy)}}class _B{constructor(e){this.parent=e,this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("initiateHyperlink",this.initiateHyperlinkHandler,this),this.parent.on("editHyperlink",this.editHyperlinkHandler,this),this.parent.on("removeHyperlink",this.removeHyperlinkHandler,this),this.parent.on("openHyperlink",this.openHyperlinkHandler,this),this.parent.on("click",this.hyperlinkClickHandler,this),this.parent.on("createHyperlinkElement",this.createHyperlinkElementHandler,this),this.parent.on(uF,this.keyUpHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("initiateHyperlink",this.initiateHyperlinkHandler),this.parent.off("editHyperlink",this.editHyperlinkHandler),this.parent.off("removeHyperlink",this.removeHyperlinkHandler),this.parent.off("openHyperlink",this.openHyperlinkHandler),this.parent.off("click",this.hyperlinkClickHandler),this.parent.off("createHyperlinkElement",this.createHyperlinkElementHandler),this.parent.off(uF,this.keyUpHandler))}getModuleName(){return"spreadsheetHyperlink"}keyUpHandler(e){let t=e.target;if(t.classList.contains("e-text")&&GD(t,".e-cont")&&GD(t,".e-webpage")&&GD(t,".e-webpage").getElementsByClassName("e-cont")[1]===t.parentElement){let e=(GD(t,".e-hyperlink-dlg")||GD(t,".e-edithyperlink-dlg")).getElementsByClassName("e-footer-content")[0].firstChild;""!==t.value?e.removeAttribute("disabled"):GD(t,".e-link-dialog").querySelector(".e-webpage").querySelectorAll(".e-cont")[1].querySelector(".e-text").value||e.setAttribute("disabled","true")}}initiateHyperlinkHandler(){let e=this.parent.serviceLocator.getService(QB),t=this.parent.getActiveSheet();if(!t.isProtected||t.protectSettings.insertLink){if(!this.parent.element.querySelector(".e-dlg-container")){let t=this.parent.serviceLocator.getService(eV);t.show({width:323,isModal:!0,showCloseIcon:!0,cssClass:"e-hyperlink-dlg",header:e.getConstant("InsertLink"),beforeOpen:()=>{t.dialogInstance.content=this.hyperlinkContent(),t.dialogInstance.dataBind(),this.parent.element.focus()},buttons:[{buttonModel:{content:e.getConstant("Insert"),isPrimary:!0,disabled:!0},click:()=>{this.dlgClickHandler(t),t.hide()}}]})}}else this.parent.notify("editAlert",null)}dlgClickHandler(e){let t,n,i=this.parent,s=this.parent.element.querySelector(".e-link-dialog").getElementsByClassName("e-content")[0].querySelector(".e-item.e-active");if(s)if(s.querySelector(".e-webpage"))t=s.getElementsByClassName("e-cont")[0].querySelector(".e-text").value,n=s.getElementsByClassName("e-cont")[1].querySelector(".e-text").value,this.parent.insertHyperlink({address:n},this.parent.getActiveSheet().activeCell,t,!1);else{t=s.getElementsByClassName("e-cont")[0].querySelector(".e-text").value,n=s.getElementsByClassName("e-cont")[1].querySelector(".e-text").value;let e=s.getElementsByClassName("e-cont")[2];if(e.getElementsByClassName("e-list-item")[0].querySelector(".e-active")){let e=s.getElementsByClassName("e-cont")[2].querySelector(".e-active").textContent,l=i.sheets;for(let t=0;t<l.length;t++);n=e+"!"+n.toUpperCase(),this.parent.insertHyperlink({address:n},this.parent.getActiveSheet().activeCell,t,!1)}else if(e.querySelector(".e-active")){let e=s.getElementsByClassName("e-cont")[2].querySelector(".e-active").textContent;for(let n=0;n<this.parent.definedNames.length;n++)this.parent.definedNames[n].name===e&&this.parent.insertHyperlink({address:this.parent.definedNames[n].name},this.parent.getActiveSheet().activeCell,t,!1)}}}editHyperlinkHandler(){let e=this.parent.serviceLocator.getService(QB),t=this.parent.serviceLocator.getService(eV);t.show({width:323,isModal:!0,showCloseIcon:!0,cssClass:"e-edithyperlink-dlg",header:e.getConstant("EditLink"),beforeOpen:()=>{t.dialogInstance.content=this.hyperEditContent(),t.dialogInstance.dataBind(),this.parent.element.focus()},buttons:[{buttonModel:{content:e.getConstant("Update"),isPrimary:!0},click:()=>{this.dlgClickHandler(t),t.hide()}}]})}openHyperlinkHandler(){let e=qR(this.parent.getActiveSheet().activeCell),t=this.parent.getCell(e[0],e[1]);t.getElementsByClassName("e-hyperlink")[0]&&(t=t.querySelector(".e-hyperlink")),this.hlOpenHandler(t)}removeHyperlinkHandler(e){this.parent.removeHyperlink(e)}hlOpenHandler(e){if(e.classList.contains("e-hyperlink")){let t,n,i=["",""],s=!0;e.style.color="#551A8B";let l,r,a,o=this.parent.getActiveSheet(),h=parseInt(e.parentElement.getAttribute("aria-colindex"),10)-1,c=parseInt(e.parentElement.parentElement.getAttribute("aria-rowindex"),10)-1,d=o.rows[c].cells[h].hyperlink;if(r={hyperlink:d,cell:this.parent.getActiveSheet().activeCell,target:"_blank",cancel:!1},this.parent.trigger("beforeHyperlinkClick",r),r.cancel)return;if(d=r.hyperlink,a={hyperlink:d,cell:this.parent.getActiveSheet().activeCell},"string"==typeof d&&(l=d),"object"==typeof d&&(l=d.address),-1===l.indexOf("http://")&&-1===l.indexOf("https://")&&-1===l.indexOf("ftp://")){if(!UO(l)){if(this.parent.definedNames)for(let t=0;t<this.parent.definedNames.length;t++)if(this.parent.definedNames[t].name===l){l=this.parent.definedNames[t].refersTo,l=l.slice(1);break}let e;-1!==l.indexOf("!")?(i=l.split("!"),-1!==i[0].indexOf(" ")&&(i[0]=i[0].slice(1,i[0].length-1))):(i[0]=this.parent.getActiveSheet().name,i[1]=l),t=i[1];for(let t=0;t<this.parent.sheets.length;t++)this.parent.sheets[t].name===i[0]&&(e=t);if(o=this.parent.sheets[e],-1!==i[1].indexOf(":")){let e=i[1].indexOf(":"),l=i[1].substr(0,e),r=i[1].substr(e+1,i[1].length);l=l.replace("$",""),r=r.replace("$",""),r.match(/\D/g)&&!r.match(/[0-9]/g)&&l.match(/\D/g)&&!l.match(/[0-9]/g)?(t=l+"1:"+r+o.rowCount,l+="1",r+=o.rowCount,i[1]=l+":"+r):!r.match(/\D/g)&&r.match(/[0-9]/g)&&!l.match(/\D/g)&&l.match(/[0-9]/g)&&(t=WR(parseInt(l,10)-1,0)+":"+WR(parseInt(r,10)-1,o.colCount-1),n=[parseInt(l,10)-1,0,parseInt(r,10)-1,o.colCount-1],s=!1)}if(n=s?zR(i[1]):n,this.parent.scrollSettings.enableVirtualization&&(n[0]=n[0]>=this.parent.viewport.topIndex?n[0]-this.parent.viewport.topIndex:n[0],n[1]=n[1]>=this.parent.viewport.leftIndex?n[1]-this.parent.viewport.leftIndex:n[1]),!UO(o)){let t=YR(n);if(o===this.parent.getActiveSheet())LH(()=>{this.parent.goTo(t)});else{if(t.indexOf(":")>=0){let e=t.split(":");t=e[0]===e[1]?e[0]:t}LH(()=>{this.parent.goTo(this.parent.sheets[e].name+"!"+t)})}}}}else e.setAttribute("target",r.target);this.parent.trigger("afterHyperlinkClick",a)}}hyperlinkClickHandler(e){let t=e.target;if(GD(t,".e-link-dialog")&&GD(t,".e-toolbar-item")){let e=GD(t,".e-hyperlink-dlg")||GD(t,".e-edithyperlink-dlg"),n=e.getElementsByClassName("e-footer-content")[0].firstChild,i=e.querySelector(".e-document"),s=e.querySelector(".e-webpage"),l=s?s.querySelectorAll(".e-cont")[0].querySelector(".e-text").value:i.querySelectorAll(".e-cont")[0].querySelector(".e-text").value,r=i?i.querySelectorAll(".e-cont")[0].querySelector(".e-text").value:l;if(GD(t,".e-toolbar-items").getElementsByClassName("e-toolbar-item")[1].classList.contains("e-active")){let e=i.querySelectorAll(".e-cont")[2].querySelector(".e-active");i.querySelectorAll(".e-cont")[0].querySelector(".e-text").value=l,GD(e,".e-list-item").classList.contains("e-level-2")&&n.hasAttribute("disabled")?n.removeAttribute("disabled"):GD(e,".e-list-item").classList.contains("e-level-1")&&!n.hasAttribute("disabled")&&n.setAttribute("disabled","true")}else{let e=!s.querySelectorAll(".e-cont")[1].querySelector(".e-text").value;s.querySelectorAll(".e-cont")[0].querySelector(".e-text").value=r,e&&!n.hasAttribute("disabled")?n.setAttribute("disabled","true"):!e&&n.hasAttribute("disabled")&&n.removeAttribute("disabled")}}if(GD(t,".e-list-item")&&t.classList.contains("e-fullrow")){let e=this.parent.element.getElementsByClassName("e-link-dialog")[0].getElementsByClassName("e-content")[0].getElementsByClassName("e-active")[0].getElementsByClassName("e-cont")[1].getElementsByClassName("e-text")[0],n=(GD(t,".e-hyperlink-dlg")||GD(t,".e-edithyperlink-dlg")).getElementsByClassName("e-footer-content")[0].firstChild;GD(t,".e-list-item").classList.contains("e-level-2")?("defName"===GD(t,".e-list-item").getAttribute("data-uid")?e.classList.contains("e-disabled")||e.hasAttribute("readonly")||(e.setAttribute("readonly","true"),e.classList.add("e-disabled"),e.setAttribute("disabled","true")):"sheet"===GD(t,".e-list-item").getAttribute("data-uid")&&e.classList.contains("e-disabled")&&e.hasAttribute("readonly")&&(e.removeAttribute("readonly"),e.classList.remove("e-disabled"),e.removeAttribute("disabled")),n.hasAttribute("disabled")&&n.removeAttribute("disabled")):GD(t,".e-list-item").classList.contains("e-level-1")&&n.setAttribute("disabled","true")}else this.hlOpenHandler(t)}createHyperlinkElementHandler(e){let t=e.cell,n=e.td,i=this.parent.createElement("a",{className:"e-hyperlink"});if(UO(t.hyperlink)||n.querySelector("a"))n.querySelector("a")&&t.hyperlink&&"string"==typeof t.hyperlink&&n.querySelector("a").setAttribute("href",t.hyperlink);else{let e=t.hyperlink;"string"==typeof e?(-1===e.indexOf("http://")&&-1===e.indexOf("https://")&&-1===e.indexOf("ftp://")&&-1!==e.indexOf("www.")&&(e="http://"+e),0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("ftp://")?(i.setAttribute("href",e),i.setAttribute("target","_blank")):(e.includes("=")||e.includes("!"))&&i.setAttribute("ref",e),i.innerText=""!==n.innerText?n.innerText:e,n.textContent="",n.innerText="",n.appendChild(i)):"object"==typeof e&&(0===e.address.indexOf("http://")||0===e.address.indexOf("https://")||0===e.address.indexOf("ftp://")?(i.setAttribute("href",e.address),i.setAttribute("target","_blank")):(e.address.includes("=")||e.address.includes("!"))&&i.setAttribute("ref",e.address),"Accounting"===hF(t.format)?i.innerHTML=n.innerHTML:i.innerText=""!==n.innerText?n.innerText:e.address,n.textContent="",n.innerText="",n.appendChild(i))}}hyperEditContent(){let e=!0,t=this.hyperlinkContent(),n=zR(this.parent.getActiveSheet().activeCell),i=this.parent.sheets[this.parent.getActiveSheet().id-1].rows[n[0]].cells[n[1]];this.parent.scrollSettings.enableVirtualization&&(n[0]=n[0]-this.parent.viewport.topIndex,n[1]=n[1]-this.parent.viewport.leftIndex);let s,l=this.parent.getDisplayText(i),r=i.hyperlink;"string"==typeof r?(s=r,l=l||s,-1===s.indexOf("http://")&&-1===s.indexOf("https://")&&-1===s.indexOf("ftp://")&&(e=!1)):"object"==typeof r&&(s=r.address,l=l||s,-1===s.indexOf("http://")&&-1===s.indexOf("https://")&&-1===s.indexOf("ftp://")&&(e=!1));let a=t.querySelector(".e-content");if(e){let e=a.querySelector(".e-webpage");if(e.getElementsByClassName("e-cont")[0].getElementsByClassName("e-text")[0].setAttribute("value",l),"string"==typeof r)e.getElementsByClassName("e-cont")[1].querySelector(".e-text").setAttribute("value",r);else{let t;t=e.getElementsByClassName("e-cont")[1].querySelector(".e-text"),t.setAttribute("value",r.address)}}else{let e,t,n=a.querySelector(".e-document");n.getElementsByClassName("e-cont")[0].getElementsByClassName("e-text")[0].setAttribute("value",l);let i,r=this.parent.getActiveSheet();if(this.parent.definedNames)for(let l=0;l<this.parent.definedNames.length;l++)if(this.parent.definedNames[l].name===s){e=!0;break}if(e){let e;e=n.getElementsByClassName("e-cont")[1].getElementsByClassName("e-text")[0],e.setAttribute("readonly","true"),e.classList.add("e-disabled"),e.setAttribute("disabled","true");let t=n.getElementsByClassName("e-cont")[2].querySelectorAll(".e-list-item.e-level-1")[1];for(let n=0;n<t.getElementsByTagName("li").length;n++)t.getElementsByTagName("li")[n].innerText===s&&t.getElementsByTagName("li")[n].classList.add("e-active")}else{s&&-1!==s.indexOf("!")&&(t=s.split("!"),i=parseInt(t[0].replace(/\D/g,""),10)-1,r=this.parent.sheets[i]);let e=t[0];n.getElementsByClassName("e-cont")[1].querySelector(".e-text").setAttribute("value",t[1]);let l=n.getElementsByClassName("e-cont")[2].querySelectorAll(".e-list-item.e-level-1")[0];for(let t=0;t<l.getElementsByTagName("li").length;t++)if(l.getElementsByTagName("li")[t].innerText===e){if(l.getElementsByTagName("li")[t].classList.contains("e-active"))break;l.getElementsByTagName("li")[t].classList.add("e-active")}else l.getElementsByTagName("li")[t].classList.contains("e-active")&&l.getElementsByTagName("li")[t].classList.remove("e-active")}}return t}hyperlinkContent(){this.parent.serviceLocator.getService(QB);let e,t,n=0,i=0,s=!0,l=!0,r=zR(this.parent.getActiveSheet().activeCell),a=this.parent.getActiveSheet(),o=oH(r[0],r[1],a),h=!0;if(o){h=!!(o.value&&"string"==typeof o.value&&null!==o.value.match("[A-Za-z]+")||""===o.value||UO(o.value));let n=o.hyperlink;if("string"==typeof n){let e=n;-1===e.indexOf("http://")&&-1===e.indexOf("https://")&&-1===e.indexOf("ftp://")&&(t=n,s=!1)}else if("object"==typeof n){let e=n.address;-1===e.indexOf("http://")&&-1===e.indexOf("https://")&&-1===e.indexOf("ftp://")&&(t=n.address,s=!1)}if(i=s?0:1,this.parent.definedNames)for(let i=0;i<this.parent.definedNames.length;i++)if(this.parent.definedNames[i].name===t){e=!0,l=!1;break}}let c=this.parent.createElement("div",{className:"e-link-dialog"}),d=this.parent.createElement("div",{className:"e-webpage"}),u=this.parent.createElement("div",{className:"e-document"});new mN({selectedItem:i,items:[{header:{text:"WEB PAGE"},content:d},{header:{text:"THIS DOCUMENT"},content:u}]}).appendTo(c),s?c.querySelector(".e-toolbar-items").querySelector(".e-indicator").setAttribute("style","left: 0; right: 136px"):c.querySelector(".e-toolbar-items").querySelector(".e-indicator").setAttribute("style","left: 136px; right: 0");let p=this.parent.createElement("div",{className:"e-cont"}),m=this.parent.createElement("div",{className:"e-cont"}),f=this.parent.createElement("div",{className:"e-header",innerHTML:"Display Text"}),g=this.parent.createElement("div",{className:"e-header",innerHTML:"URL"}),b=this.parent.createElement("input",{className:"e-input e-text",attrs:{type:"Text"}});h||(b.classList.add("e-disabled"),b.setAttribute("readonly","true"),b.setAttribute("disabled","true")),o&&UO(o.hyperlink)&&b.setAttribute("value",this.parent.getDisplayText(o));let v=this.parent.createElement("input",{className:"e-input e-text",attrs:{type:"Text"}});b.setAttribute("placeholder","Enter the text to display"),v.setAttribute("placeholder","Enter the URL"),p.appendChild(b),p.insertBefore(f,b),m.appendChild(v),m.insertBefore(g,v),d.appendChild(m),d.insertBefore(p,m);let y=[],w=[],C=this.parent.sheets;for(;n<this.parent.sheets.length;n++){let e=this.parent.sheets[n].name;C[n]===this.parent.getActiveSheet()?y.push({nodeId:"sheet",nodeText:-1!==e.indexOf(" ")?"'"+e+"'":e,selected:!0}):y.push({nodeId:"sheet",nodeText:-1!==e.indexOf(" ")?"'"+e+"'":e})}for(n=0;n<this.parent.definedNames.length;n++)w.push({nodeId:"defName",nodeText:this.parent.definedNames[n].name});let x=new LN({fields:{dataSource:[{nodeId:"01",nodeText:"Cell Reference",expanded:l,nodeChild:y},{nodeId:"02",nodeText:"Defined Names",expanded:e,nodeChild:w}],id:"nodeId",text:"nodeText",child:"nodeChild"}}),_=this.parent.createElement("div",{className:"e-cont"}),S=this.parent.createElement("div",{className:"e-header",innerHTML:"Cell Reference"}),k=this.parent.createElement("input",{className:"e-input e-text",attrs:{type:"Text"}});k.setAttribute("value","A1"),_.appendChild(k),_.insertBefore(S,k);let E=this.parent.createElement("div",{className:"e-cont"}),O=this.parent.createElement("div",{className:"e-header",innerHTML:"Display Text"}),I=this.parent.createElement("input",{className:"e-input e-text",attrs:{type:"Text"}});h||(I.classList.add("e-disabled"),I.setAttribute("readonly","true"),I.setAttribute("disabled","true")),o&&UO(o.hyperlink)&&I.setAttribute("value",this.parent.getDisplayText(o)),I.setAttribute("placeholder","Enter the text to display"),E.appendChild(I),E.insertBefore(O,I);let D=this.parent.createElement("div",{className:"e-cont"}),A=this.parent.createElement("div",{className:"e-header",innerHTML:"Sheet"}),M=this.parent.createElement("div",{className:"e-refcont"});return D.appendChild(M),D.insertBefore(A,M),u.appendChild(_),u.insertBefore(E,_),x.appendTo(M),u.appendChild(D),c}}class SB{constructor(e){this.undoCollection=[],this.redoCollection=[],this.isUndo=!1,this.undoRedoStep=100,this.parent=e,this.addEventListener()}setActionData(e){let t,n=this.parent.getActiveSheet(),i=[],s=[],l=e.args,r=l.eventArgs;switch(l.action){case"format":t=zR(l.eventArgs.range);break;case"clipboard":let e=r.copiedInfo;t=zR(XR(r.pastedRange)),e&&e.isCut&&(s=this.getCellDetails(e.range,wH(this.parent,gH(this.parent,e.sId))));break;case"beforeSort":t=zR(l.eventArgs.range),t[0]===t[2]&&t[2]-t[0]==0&&(t[0]=0,t[1]=0,t[2]=n.usedRange.rowIndex,t[3]=n.usedRange.colIndex);break;case"beforeCellSave":t=zR(r.address);break;case"beforeWrap":case"beforeReplace":t=this.parent.getAddressInfo(r.address).indices}i=this.getCellDetails(t,n),this.beforeActionData={cellDetails:i,cutCellDetails:s}}getBeforeActionData(e){e.beforeDetails=this.beforeActionData}performUndoRedo(e){let t=e.isUndo?this.undoCollection.pop():this.redoCollection.pop();if(this.isUndo=e.isUndo,t){switch(t.action){case"cellSave":case"format":case"sorting":case"wrap":t=this.performOperation(t);break;case"clipboard":t=this.undoForClipboard(t);break;case"resize":t=this.undoForResize(t);break;case"hideShow":t.eventArgs.hide=!t.eventArgs.hide,iB(t,this.parent);break;case"replace":t=this.performOperation(t);break;case"insert":case"delete":case"validation":iB(t,this.parent,!e.isUndo);break;case"merge":t.eventArgs.merge=!t.eventArgs.merge,iB(t,this.parent)}e.isUndo?this.redoCollection.push(t):this.undoCollection.push(t),this.undoCollection.length>this.undoRedoStep&&this.undoCollection.splice(0,1),this.redoCollection.length>this.undoRedoStep&&this.redoCollection.splice(0,1),this.updateUndoRedoIcons();let n=Object.assign({},t.eventArgs);n.requestType=e.isUndo?"undo":"redo",delete n.beforeActionData,e.isPublic||this.parent.notify(gF,{eventArgs:n,action:"undoRedo"})}}updateUndoRedoCollection(e){let t=["clipboard","format","sorting","cellSave","resize","resizeToFit","wrap","hideShow","replace","validation","merge"];"insert"!==e.args.action&&"delete"!==e.args.action||"Sheet"===e.args.eventArgs.modelType||t.push(e.args.action);let n=e.args.action;if(-1===t.indexOf(n)&&!e.isPublic)return;let i=e.args.eventArgs;if("clipboard"===n||"sorting"===n||"format"===n||"cellSave"===n||"wrap"===n||"replace"===n||"validation"===n){let e={beforeDetails:{cellDetails:[]}};this.parent.notify("getBeforeActionData",e),i.beforeActionData=e.beforeDetails}this.undoCollection.push(e.args),this.redoCollection=[],this.undoCollection.length>this.undoRedoStep&&this.undoCollection.splice(0,1),this.updateUndoRedoIcons()}clearUndoRedoCollection(){this.undoCollection=[],this.redoCollection=[],this.updateUndoRedoIcons()}updateUndoRedoIcons(){this.parent.notify("enableToolbarItems",[{items:[this.parent.element.id+"_undo"],enable:this.undoCollection.length>0}]),this.parent.notify("enableToolbarItems",[{items:[this.parent.element.id+"_redo"],enable:this.redoCollection.length>0}])}undoForClipboard(e){let t=e.eventArgs,n=t.pastedRange.split("!"),i=zR(n[1]),s=fH(this.parent,n[0]),l=wH(this.parent,s),r=t.copiedInfo,a=t.beforeActionData,o=this.checkRefreshNeeded(s);return this.isUndo?(r.isCut&&this.updateCellDetails(a.cutCellDetails,wH(this.parent,gH(this.parent,r.sId)),r.range,o),this.updateCellDetails(a.cellDetails,l,i,o),t.mergeCollection.forEach(e=>{e.merge=!e.merge,this.parent.notify(rF,e),e.merge=!e.merge})):iB(e,this.parent,r.isCut),o&&this.parent.notify("selectRange",{indexes:i}),e}undoForResize(e){let t=e.eventArgs;if(void 0===t.hide)if(t.isCol){let e=t.oldWidth;t.oldWidth=t.width,t.width=e}else{let e=t.oldHeight;t.oldHeight=t.height,t.height=e}else t.hide=!t.hide;return iB(e,this.parent),e}performOperation(e){let t=e.eventArgs,n="cellSave"===e.action||"wrap"===e.action||"replace"===e.action?t.address.split("!"):t.range.split("!"),i=zR(n[1]),s=fH(this.parent,n[0]),l=wH(this.parent,s),r=t.beforeActionData,a=this.checkRefreshNeeded(s);return this.isUndo?this.updateCellDetails(r.cellDetails,l,i,a,e):iB(e,this.parent),a&&this.parent.notify("selectRange",{indexes:i}),e}getCellDetails(e,t){let n,i=[];for(let s=e[0];s<=e[2];s++)for(let l=e[1];l<=e[3];l++)n=oH(s,l,t),i.push({rowIndex:s,colIndex:l,format:n?n.format:null,style:n?n.style:null,value:n?n.value:"",formula:n?n.formula:"",wrap:n&&n.wrap});return i}updateCellDetails(e,t,n,i,s){let l=e.length;for(let r=0;r<l;r++)hH(e[r].rowIndex,e[r].colIndex,t,{value:e[r].value,format:e[r].format,style:e[r].style,formula:e[r].formula,wrap:e[r].wrap}),e[r].formula&&this.parent.notify("workbookEditOperation",{action:"updateCellValue",address:[e[r].rowIndex,e[r].colIndex,e[r].rowIndex,e[r].colIndex],value:e[r].formula}),s&&"wrap"===s.action&&s.eventArgs.wrap&&this.parent.notify("wrapText",{range:[e[r].rowIndex,e[r].colIndex,e[r].rowIndex,e[r].colIndex],wrap:!1,sheet:t});i&&this.parent.serviceLocator.getService("cell").refreshRange(n)}checkRefreshNeeded(e){let t=!0;return e!==this.parent.activeSheetIndex&&(this.parent.activeSheetIndex=e,this.parent.dataBind(),t=!1),t}addEventListener(){this.parent.on("performUndoRedo",this.performUndoRedo,this),this.parent.on("updateUndoRedoCollection",this.updateUndoRedoCollection,this),this.parent.on("setActionData",this.setActionData,this),this.parent.on("getBeforeActionData",this.getBeforeActionData,this),this.parent.on("clearUndoRedoCollection",this.clearUndoRedoCollection,this),this.parent.on("setUndoRedo",this.updateUndoRedoIcons,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("performUndoRedo",this.performUndoRedo),this.parent.off("updateUndoRedoCollection",this.updateUndoRedoCollection),this.parent.off("setActionData",this.setActionData),this.parent.off("getBeforeActionData",this.getBeforeActionData),this.parent.off("clearUndoRedoCollection",this.clearUndoRedoCollection),this.parent.off("setUndoRedo",this.updateUndoRedoIcons))}destroy(){this.removeEventListener(),this.parent=null}getModuleName(){return"undoredo"}}class kB{constructor(e){this.parent=e,this.addEventListener()}addEventListener(){this.parent.on("ribboClick",this.ribbonClickHandler,this),this.parent.on("wrapText",this.wrapTextHandler,this),this.parent.on("rowHeightChanged",this.rowHeightChangedHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("ribboClick",this.ribbonClickHandler),this.parent.off("wrapText",this.wrapTextHandler),this.parent.off("rowHeightChanged",this.rowHeightChangedHandler))}wrapTextHandler(e){if(jH(this.parent,e.range,!0)){let t,n,i,s,l,r;for(let a=e.range[0];a<=e.range[2];a++){l=0,s=nH(e.sheet,a).customHeight;for(let o=e.range[1];o<=e.range[3];o++)if(t=e.initial?e.td:this.parent.getCell(a,o),t&&(e.wrap?t.classList.add(JB):t.classList.remove(JB),s&&(t.innerHTML=this.parent.createElement("span",{className:"e-wrap-content",innerHTML:t.innerHTML}).outerHTML)),!s){i=MH(e.sheet,o),n=oH(a,o,e.sheet);let t=this.parent.getDisplayText(n);if(t)if(e.wrap){let s=oB(t,i,n.style,this.parent.cellStyle);r=rB(this.parent,n.style||this.parent.cellStyle,s)+1,l=Math.max(l,r),hB(e.sheet,a,o,r)}else r=rB(this.parent,n.style||this.parent.cellStyle,1),hB(e.sheet,a,o,r),l=Math.max(cB(e.sheet,a),20);else e.wrap||(hB(e.sheet,a,o,20),l=20);o===e.range[3]&&(e.wrap&&l>20&&cB(e.sheet,a)<=l||!e.wrap&&cB(e.sheet,a)<lH(e.sheet,a)&&lH(e.sheet,a)>20)&&lB(this.parent,e.sheet,l,a,e.row,e.hRow)}}}}ribbonClickHandler(e){let t=GD(e.originalEvent.target,".e-btn");if(t&&t.id===this.parent.element.id+"_wrap"){let e=t.classList.contains("e-active"),i=(n=this.parent.getActiveSheet()).name+"!"+n.selectedRange,s={address:i,wrap:e,cancel:!1};this.parent.notify(bF,{action:"beforeWrap",eventArgs:s}),s.cancel||(dH(this.parent.getActiveSheet().selectedRange,e,this.parent),this.parent.notify(gF,{action:"wrap",eventArgs:{address:i,wrap:e}}))}var n}getTextWidth(e,t=this.parent.cellStyle){let n=this.parent.cellStyle,i=document.createElement("canvas").getContext("2d");return i.font=(t.fontStyle||n.fontStyle)+" "+(t.fontWeight||n.fontWeight)+" "+(t.fontSize||n.fontSize)+" "+(t.fontFamily||n.fontFamily),i.measureText(e).width}rowHeightChangedHandler(e){if(e.isCustomHgt){let t=this.parent.getActiveSheet(),n=this.parent.viewport.leftIndex,i=n+this.parent.viewport.colCount+2*this.parent.getThreshold("col");for(let s=n;s<i;s++){let n=oH(e.rowIdx,s,t);if(n&&n.wrap){let t=this.parent.getCell(e.rowIdx,s);t.innerHTML=this.parent.createElement("span",{className:"e-wrap-content",innerHTML:t.innerHTML}).outerHTML}}}}getModuleName(){return"wrapText"}destroy(){this.removeEventListener(),this.parent=null}}class EB{constructor(e){this.parent=e,this.addEventListener()}insert(e){let t;switch(e.isAction&&(t=!0,delete e.isAction),t&&this.parent.notify(bF,{eventArgs:e,action:"insert"}),e.modelType){case"Sheet":this.parent.notify("insertSheetTab",{startIdx:e.index,endIdx:e.index+(e.model.length-1),isAction:t}),this.parent.renderModule.refreshSheet(),this.parent.element.focus();break;case"Row":(!this.parent.scrollSettings.enableVirtualization||e.index<=this.parent.viewport.bottomIndex)&&(this.parent.scrollSettings.enableVirtualization?(e.index<this.parent.viewport.topIndex&&(this.parent.viewport.topIndex+=e.model.length),this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.topIndex===dB(this.parent.getActiveSheet(),0,!0),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Row"})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,rowIndex:e.index,colIndex:0,refresh:"Row"}),this.parent.selectRange(this.parent.getActiveSheet().selectedRange));break;case"Column":(!this.parent.scrollSettings.enableVirtualization||e.index<=this.parent.viewport.rightIndex)&&(this.parent.scrollSettings.enableVirtualization?(e.index<this.parent.viewport.leftIndex&&(this.parent.viewport.leftIndex+=e.model.length),this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===dB(this.parent.getActiveSheet(),0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,colIndex:this.parent.viewport.leftIndex,refresh:"Column"})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,rowIndex:0,colIndex:e.index,refresh:"Column"}),this.parent.selectRange(this.parent.getActiveSheet().selectedRange))}t&&this.parent.notify(gF,{eventArgs:e,action:"insert"})}addEventListener(){this.parent.on("insert",this.insert,this)}destroy(){this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.isDestroyed||this.parent.off("insert",this.insert)}getModuleName(){return"insert"}}class OB{constructor(e){this.parent=e,this.addEventListener()}delete(e){let t;e.isAction&&(t=!0,delete e.isAction),t&&this.parent.notify(bF,{eventArgs:e,action:"delete"}),"Sheet"===e.modelType||("Row"===e.modelType?((!this.parent.scrollSettings.enableVirtualization||e.startIndex<=this.parent.viewport.bottomIndex)&&(this.parent.scrollSettings.enableVirtualization?(e.startIndex<this.parent.viewport.topIndex&&(this.parent.viewport.topIndex-=e.model.length),this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.topIndex===dB(this.parent.getActiveSheet(),0,!0),rowIndex:this.parent.viewport.topIndex,refresh:"Row",colIndex:this.parent.viewport.leftIndex})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,refresh:"Row",rowIndex:e.startIndex,colIndex:0})),this.parent.selectRange(this.parent.getActiveSheet().selectedRange)):((!this.parent.scrollSettings.enableVirtualization||e.startIndex<=this.parent.viewport.rightIndex)&&(this.parent.scrollSettings.enableVirtualization?(e.startIndex<this.parent.viewport.leftIndex&&(this.parent.viewport.leftIndex-=e.model.length),this.parent.renderModule.refreshUI({skipUpdateOnFirst:this.parent.viewport.leftIndex===dB(this.parent.getActiveSheet(),0,!0,"columns"),rowIndex:this.parent.viewport.topIndex,refresh:"Column",colIndex:this.parent.viewport.leftIndex})):this.parent.renderModule.refreshUI({skipUpdateOnFirst:!0,refresh:"Column",rowIndex:0,colIndex:e.startIndex})),this.parent.selectRange(this.parent.getActiveSheet().selectedRange))),t&&this.parent.notify(gF,{eventArgs:e,action:"delete"})}addEventListener(){this.parent.on("delete",this.delete,this)}destroy(){this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.isDestroyed||this.parent.off("delete",this.delete)}getModuleName(){return"delete"}}class IB{constructor(e){this.data=[],this.parent=e,this.addEventListener()}destroy(){this.removeEventListener();let e=document.querySelector("#"+this.parent.element.id+"_datavalidation-popup");e&&e.remove(),this.parent=null}addEventListener(){zI.add(this.parent.element,"dblclick",this.listOpen,this),zI.add(document,"mousedown",this.mouseDownHandler,this),this.parent.on("initiatedatavalidation",this.initiateDataValidationHandler,this),this.parent.on("invalidData",this.invalidDataHandler,this),this.parent.on("isValidation",this.checkDataValidation,this),this.parent.on("activeCellChanged",this.listHandler,this),this.parent.on(uF,this.keyUpHandler,this),this.parent.on("removeDataValidation",this.removeValidationHandler,this)}removeEventListener(){zI.remove(this.parent.element,"dblclick",this.listOpen),zI.remove(document,"mousedown",this.mouseDownHandler),this.parent.isDestroyed||(this.parent.off("initiatedatavalidation",this.initiateDataValidationHandler),this.parent.off("invalidData",this.invalidDataHandler),this.parent.off("isValidation",this.checkDataValidation),this.parent.off("activeCellChanged",this.listHandler),this.parent.off(uF,this.keyUpHandler),this.parent.off("removeDataValidation",this.removeValidationHandler))}removeValidationHandler(e){this.parent.removeDataValidation(this.parent.getActiveSheet().selectedRange)}mouseDownHandler(e){let t=e.target,n=GD(t,".e-ddl");n&&"listValid_popup"===n.getAttribute("id")&&this.parent.notify("formulaBarOperation",{action:"refreshFormulabar",value:t.innerText})}keyUpHandler(e){let t=e.target,n=this.parent.element.querySelector(".e-datavalidation-dlg");if(GD(t,".e-values")&&n&&13!==e.keyCode){let e=n.querySelector(".e-values"),t=e.querySelector(".e-dlg-error"),i=n.querySelector(".e-footer-content").querySelector(".e-primary");i.hasAttribute("disabled")&&i.removeAttribute("disabled"),t&&e.removeChild(t)}}listOpen(e){let t=e.target;this.listObj&&t.classList.contains("e-cell")&&t.querySelector(".e-validation-list")&&this.listObj.showPopup()}invalidDataHandler(e){e.isRemoveHighlight?this.parent.removeInvalidHighlight():this.parent.addInvalidHighlight()}listHandler(){if(this.parent.allowDataValidation){let e=this.parent.getActiveSheet(),t=this.parent.getMainContent(),n=qR(e.activeCell),i=n[1],s=n[0];this.parent.scrollSettings.enableVirtualization&&(s=s>=this.parent.viewport.topIndex?s-this.parent.viewport.topIndex:s,i=i>=this.parent.viewport.leftIndex?i-this.parent.viewport.leftIndex:i);let l,r=oH(n[0],n[1],e),a=t.getElementsByTagName("tr")[s];if(a&&(l=a.getElementsByClassName("e-cell")[i]),!l)return;if(document.getElementsByClassName("e-validation-list")[0]&&(UD(document.getElementsByClassName("e-validation-list")[0]),this.data=[]),r&&r.validation&&"List"===r.validation.type&&(r.validation.ignoreBlank=!!UO(r.validation.ignoreBlank)||r.validation.ignoreBlank,r.validation.inCellDropDown=!!UO(r.validation.inCellDropDown)||r.validation.inCellDropDown,r.validation.inCellDropDown)){let e=this.parent.createElement("div",{className:"e-validation-list"}),t=this.parent.createElement("input",{id:"listValid"});e.appendChild(t),r.validation.inCellDropDown||(e.style.display="none"),l.insertBefore(e,l.firstChild),this.listObj=new GN({index:0,dataSource:this.data,fields:{text:"text",value:"id"},width:"0px",popupWidth:"200px",popupHeight:"200px",beforeOpen:()=>{this.listObj.popupWidth=l.offsetWidth-1,this.data=[],this.updateDataSource(this.listObj,r)},change:()=>{this.listValueChange(this.listObj.text)},open:e=>{e.popup.offsetX=4-(l.offsetWidth-20),e.popup.offsetY=-13}}),this.listObj.appendTo("#listValid")}}}updateDataSource(e,t){let n=0,i=this.parent.getActiveSheet(),s=t.validation.value1.toUpperCase();if(-1!==s.indexOf("=")){let e=zR(s);for(let s=e[0];s<=e[2];s++){i.rows[s]||iH(i,s,{});for(let l=e[1];l<=e[3];l++){i.rows[s].cells||hH(s,l,i,{}),n+=1;let e=this.parent.getDisplayText(t=i.rows[s].cells[l])?this.parent.getDisplayText(t):"";this.data.push({text:e,id:"list-"+n})}}}else{let e=t.validation.value1.split(",");for(let t=0;t<e.length;t++)n+=1,this.data.push({text:e[t],id:"list-"+n})}e.dataSource=this.data}listValueChange(e){let t=GR(this.parent.getActiveSheet().activeCell);this.parent.notify("workbookEditOperation",{action:"updateCellValue",address:this.parent.getActiveSheet().activeCell,value:e}),this.parent.serviceLocator.getService("cell").refreshRange(t)}initiateDataValidationHandler(){let e,t,n,i,s,l=this.parent.serviceLocator.getService(QB),r=!0,a=!0,o=!0,h=this.parent.getActiveSheet(),c=zR(h.selectedRange);for(let d=c[0];d<=c[2];d++)if(h.rows[d])for(let l=c[1];l<=c[3];l++)h.rows[d].cells&&h.rows[d].cells[l]&&(s=h.rows[d].cells[l],s.validation&&(o=!1,e=s.validation.type,t=s.validation.operator,n=s.validation.value1,i=s.validation.value2,r=s.validation.ignoreBlank,a=s.validation.inCellDropDown));if(!this.parent.element.querySelector(".e-datavalidation-dlg")){let s=this.parent.serviceLocator.getService(eV);s.show({width:375,showCloseIcon:!0,isModal:!0,cssClass:"e-datavalidation-dlg",header:l.getConstant("DataValidation"),target:document.querySelector(".e-control.e-spreadsheet"),beforeOpen:()=>{s.dialogInstance.content=this.dataValidationContent(o,e,t,n,i,r,a),s.dialogInstance.dataBind(),this.parent.element.focus()},buttons:[{buttonModel:{content:l.getConstant("CLEARALL"),cssClass:"e-btn e-clearall-btn e-flat"},click:()=>{s.dialogInstance.content=this.dataValidationContent(!0,e,t,n,i,r,a),s.dialogInstance.dataBind(),this.parent.element.focus()}},{buttonModel:{content:l.getConstant("APPLY"),isPrimary:!0},click:()=>{this.dlgClickHandler(s)}}]}),s.dialogInstance.refresh()}}dataValidationContent(e,t,n,i,s,l,r){let a=this.parent.serviceLocator.getService(QB),o=e?"0":i,h=e?"0":s,c=this.parent.createElement("div",{className:"e-validation-dlg"}),d=this.parent.createElement("div",{className:"e-cellrange"}),u=this.parent.createElement("div",{className:"e-allowdata"}),p=this.parent.createElement("div",{className:"e-values"}),m=this.parent.createElement("div",{className:"e-ignoreblank"});c.appendChild(d),c.appendChild(u),c.appendChild(p),c.appendChild(m);let f=this.parent.createElement("span",{className:"e-header",innerHTML:a.getConstant("CellRange")}),g=this.parent.createElement("input",{className:"e-input",attrs:{value:this.parent.getActiveSheet().selectedRange}});d.appendChild(f),d.appendChild(g);let b=this.parent.createElement("div",{className:"e-allow"}),v=this.parent.createElement("div",{className:"e-data"});u.appendChild(b),u.appendChild(v);let y=this.parent.createElement("span",{className:"e-header",innerHTML:a.getConstant("Allow")});this.typeData=[{text:a.getConstant("WholeNumber"),id:"type-1"},{text:a.getConstant("Decimal"),id:"type-2"},{text:a.getConstant("Date"),id:"type-3"},{text:a.getConstant("Time"),id:"type-4"},{text:a.getConstant("TextLength"),id:"type-5"},{text:a.getConstant("List"),id:"type-6"}],this.operatorData=[{text:a.getConstant("Between"),id:"operator-1"},{text:a.getConstant("NotBetween"),id:"operator-2"},{text:a.getConstant("EqualTo"),id:"operator-3"},{text:a.getConstant("NotEqualTo"),id:"operator-4"},{text:a.getConstant("Greaterthan"),id:"operator-5"},{text:a.getConstant("Lessthan"),id:"operator-6"},{text:a.getConstant("GreaterThanOrEqualTo"),id:"operator-7"},{text:a.getConstant("LessThanOrEqualTo"),id:"operator-8"}];let w=this.parent.createElement("input",{className:"e-select"}),C=0;if(!e)for(let k=0;k<this.typeData.length;k++)if(t===this.typeData[k].text.replace(" ","")){C=k;break}if(e||"List"!==t){let t=0,i=this.parent.createElement("span",{className:"e-header",innerHTML:a.getConstant("Data")}),s=this.parent.createElement("input",{className:"e-select"});if(!e)for(let e=0;e<this.operatorData.length;e++)if(n===this.FormattedValue(this.operatorData[e].text)){t=e;break}v.appendChild(i),v.appendChild(s),this.dataList=new GN({dataSource:this.operatorData,index:t,popupHeight:"200px",change:()=>{this.userInput(x,this.dataList)}}),this.dataList.appendTo(s)}else{let e=this.parent.createElement("input",{className:"e-checkbox"});v.appendChild(e),new MM({label:a.getConstant("InCellDropDown"),checked:r}).appendTo(e)}b.appendChild(y),b.appendChild(w);let x=new GN({dataSource:this.typeData,index:C,popupHeight:"200px",change:()=>{this.userInput(x,this.dataList)}});if(x.appendTo(w),e||"List"!==x.value&&("Between"===this.dataList.value||"Not between"===this.dataList.value)){let e=this.parent.createElement("div",{className:"e-minimum"}),t=this.parent.createElement("div",{className:"e-maximum"});p.appendChild(e),p.appendChild(t);let n=this.parent.createElement("span",{className:"e-header",innerHTML:"Minimum"}),i=this.parent.createElement("span",{className:"e-header",innerHTML:"Maximum"}),s=this.parent.createElement("input",{id:"minvalue",className:"e-input",attrs:{value:o}}),l=this.parent.createElement("input",{id:"maxvalue",className:"e-input",attrs:{value:h}});e.appendChild(n),e.appendChild(s),t.appendChild(i),t.appendChild(l),new nL({value:0}).appendTo("#minvalue"),new nL({value:0}).appendTo("#maxvalue")}else if(e&&" List"!==t){let e=this.parent.createElement("span",{className:"e-header",innerHTML:a.getConstant("Value")}),t=this.parent.createElement("input",{className:"e-input",attrs:{value:o}});p.appendChild(e),p.appendChild(t)}else{let e=this.parent.createElement("span",{className:"e-header",innerHTML:a.getConstant("Sources")}),t=this.parent.createElement("input",{className:"e-input",attrs:{value:o}});p.appendChild(e),p.appendChild(t)}let _=l,S=this.parent.createElement("input",{className:"e-checkbox"});return m.appendChild(S),new MM({label:a.getConstant("IgnoreBlank"),checked:_}).appendTo(S),c}userInput(e,t){let n=this.parent.element.querySelector(".e-datavalidation-dlg").querySelector(".e-validation-dlg"),i=n.querySelector(".e-allowdata"),s=n.querySelector(".e-values"),l=this.parent.serviceLocator.getService(QB),r=i.querySelector(".e-data");for(r.querySelector(".e-valid-input");s.lastChild;)s.removeChild(s.lastChild);if("List"===e.value){for(;r.lastChild;)r.removeChild(r.lastChild);let e=this.parent.createElement("input",{className:"e-checkbox"});r.appendChild(e),new MM({label:l.getConstant("InCellDropDown"),checked:!0}).appendTo(e)}else if(r.getElementsByClassName("e-checkbox-wrapper")[0]){for(;r.lastChild;)r.removeChild(r.lastChild);let e=this.parent.createElement("span",{className:"e-header",innerHTML:"Data"}),n=this.parent.createElement("input",{className:"e-select"});r.appendChild(e),r.appendChild(n),t.appendTo(n)}if("List"===e.value||"Between"!==t.value&&"Not between"!==t.value){let t=l.getConstant("List"===e.value?"Sources":"Value"),n=this.parent.createElement("span",{className:"e-header",innerHTML:t}),i=this.parent.createElement("input","List"===e.value?{className:"e-input",attrs:{placeholder:"Enter value"}}:{className:"e-input",attrs:{value:"0"}});s.appendChild(n),s.appendChild(i)}else{let e=this.parent.createElement("div",{className:"e-minimum"}),t=this.parent.createElement("div",{className:"e-maximum"});s.appendChild(e),s.appendChild(t);let n=this.parent.createElement("span",{className:"e-header",innerHTML:"Minimum"}),i=this.parent.createElement("span",{className:"e-header",innerHTML:"Maximum"}),l=this.parent.createElement("input",{id:"min",className:"e-input",attrs:{value:"0"}}),r=this.parent.createElement("input",{id:"max",className:"e-input",attrs:{value:"0"}});new nL({value:0}).appendTo("min"),new nL({value:0}).appendTo("max"),e.appendChild(n),e.appendChild(l),t.appendChild(i),t.appendChild(r)}}dlgClickHandler(e){let t,n,i=this.parent.serviceLocator.getService(QB),s=!0,l=this.parent.element.querySelector(".e-datavalidation-dlg"),r=l.querySelector(".e-footer-content"),a=l.getElementsByClassName("e-dlg-content")[0].getElementsByClassName("e-validation-dlg")[0],o=a.getElementsByClassName("e-allowdata")[0],h=o.getElementsByClassName("e-allow")[0].getElementsByTagName("input")[0],c=o.getElementsByClassName("e-data")[0].getElementsByTagName("input")[0],d=a.getElementsByClassName("e-values")[0],u=d.getElementsByTagName("input")[0].value,p=d.getElementsByTagName("input")[1]?d.getElementsByTagName("input")[1].value:"",m="true"===a.querySelector(".e-ignoreblank").querySelector(".e-checkbox-wrapper").getAttribute("aria-checked"),f=o.querySelector(".e-data").querySelector(".e-checkbox-wrapper")?!!o.querySelector(".e-data").querySelector(".e-checkbox-wrapper").querySelector(".e-check"):null,g=a.querySelector(".e-cellrange").getElementsByTagName("input")[0].value,b=h.value;c&&(n=c.value,n=this.FormattedValue(n)),b&&(b=b.replace(" ",""));let v=[],y=[];if(""!==u&&y.push(u),""!==p&&y.push(p),"List"===b)if(-1!==u.indexOf("=")){if(-1!==u.indexOf(":")){v=u.split(":");let e=v,n=v,l=e[0].replace(/[0-9]/g,"").replace("=","")===e[1].replace(/[0-9]/g,""),r=n[0].replace(/\D/g,"").replace("=","")===n[1].replace(/\D/g,"");s=!!l||!!r,s||(t=i.getConstant("DialogError"))}}else u.length>256&&(s=!1,t=i.getConstant("ListLengthError"));if("List"!==b||s){let i=this.parent.getActiveSheet(),l=this.isDialogValidator(y,b,n);if(t=l.errorMsg,s=l.isValidate,s){let t=qR(this.parent.getActiveSheet().activeCell);if(i&&i.rows[t[0]]&&i.rows[t[0]].cells[t[1]]&&i.rows[t[0]].cells[t[1]].validation&&"List"===i.rows[t[0]].cells[t[1]].validation.type){let e=this.parent.getMainContent().getElementsByTagName("tr")[t[0]].getElementsByClassName("e-cell")[t[1]];e&&e.getElementsByClassName("e-validation-list")[0]&&(e.removeChild(e.getElementsByClassName("e-validation-list")[0]),this.listObj.destroy())}this.parent.addDataValidation({type:b,operator:n,value1:u,value2:p,ignoreBlank:m,inCellDropDown:f},g),"List"===b&&s&&this.listHandler(),document.getElementsByClassName("e-validationerror-dlg")[0]||(e.dialogInstance?e.dialogInstance.hide():e.hide())}}if(!s){let e=this.parent.createElement("div",{className:"e-dlg-error",id:"e-invalid",innerHTML:t});d.appendChild(e),r.querySelector(".e-primary").setAttribute("disabled","true")}}FormattedValue(e){switch(e){case"Between":e="Between";break;case"Not between":e="NotBetween";break;case"Equal to":e="EqualTo";break;case"Not equal to":e="NotEqualTo";break;case"Greater than":e="GreaterThan";break;case"Less than":e="LessThan";break;case"Greater than or equal to":e="GreaterThanOrEqualTo";break;case"Less than or equal to":e="LessThanOrEqualTo";break;default:e="Between"}return e}isDialogValidator(e,t,n){let i,s=this.parent.serviceLocator.getService(QB),l=0,r=!1;if(r="List"===t?!(e.length>0):"Between"===n||"NotBetween"===n?2!==e.length:!(e.length>0),r)i={isValidate:!1,errorMsg:s.getConstant("EmptyError")};else{for(let n=0;n<e.length&&(i=this.formatValidation(e[n],t),i.isValidate);n++)l+=1;i.isValidate=l===e.length}return{isValidate:i.isValidate,errorMsg:i.errorMsg}}isValidationHandler(e){let t,n,i=this.parent.serviceLocator.getService(QB);e.value=e.value?e.value:"";let s=e.value,l=oH(e.range[0],e.range[1],this.parent.sheets[e.sheetIdx]),r=e.value,a=l.validation.value1,o=l.validation.value2,h=l.validation.operator,c=l.validation.type,d=l.validation.ignoreBlank,u=this.formatValidation(e.value,c);if(t=u.isValidate,n=u.errorMsg,t){if(t=!1,"Date"===c||"Time"===c)for(let t=0;t<=3;t++){e.value=0===t?e.value:1===t?l.validation.value1:l.validation.value2;let n={value:e.value,rowIndex:e.range[0],colIndex:e.range[1],sheetIndex:e.sheetIdx,updatedVal:""};""!==e.value&&this.parent.notify("checkDateFormat",n);let i=n.updatedVal;0===t?r="Date"===c?i:i.slice(i.indexOf(".")+1,i.length):1===t?a="Date"===c?i:i.slice(i.indexOf(".")+1,i.length):o="Date"===c?i:i.slice(i.indexOf(".")+1,i.length)}else"TextLength"===l.validation.type&&(r=e.value.toString().length.toString());if("List"===c)if(-1!==a.indexOf("="))for(let n=0;n<this.data.length;n++)e.value===this.data[n].text&&(t=!0);else{let n=a.split(",");for(let i=0;i<n.length;i++)e.value===n[i]&&(t=!0)}else switch("Decimal"===c?(r=parseFloat(r.toString()),a=parseFloat(a.toString()),o=o?parseFloat(o.toString()):null):(r=parseInt(r.toString(),10),a=parseInt(a.toString(),10),o=o?parseInt(o.toString(),10):null),h){case"EqualTo":t=r===a||!(!d||""!==s);break;case"NotEqualTo":t=r!==a||!(!d||""!==s);break;case"Between":t=r>=a&&r<=o||!(!d||""!==s);break;case"NotBetween":t=!(r>=a&&r<=o);break;case"GreaterThan":t=r>a||!(!d||""!==s);break;case"LessThan":t=r<a||!(!d||""!==s);break;case"GreaterThanOrEqualTo":t=r>=a||!(!d||""!==s);break;case"LessThanOrEqualTo":t=r<=a||!(!d||""!==s)}}if(n=i.getConstant("ValidationError"),t){l&&l.validation&&l.validation.isHighlighted&&(l.validation.isHighlighted=!1);let t=this.parent.getCellStyleValue(["backgroundColor","color"],[e.range[0],e.range[1]]);this.parent.notify("applyCellFormat",{style:t,rowIdx:e.range[0],colIdx:e.range[1],isHeightCheckNeeded:!0,manualUpdate:!0,onActionUpdate:!0})}return{isValidate:t,errorMsg:n}}checkDataValidation(e){let t=this.isValidationHandler({value:e.value,range:e.range,sheetIdx:e.sheetIdx});!t.isValidate&&e.isCell&&this.validationErrorHandler(t.errorMsg),this.parent.allowDataValidation=t.isValidate}formatValidation(e,t){let n,i,s,l=this.parent.element.getElementsByClassName("e-sheet-panel")[0],r=this.parent.createElement("form",{id:"formId",className:"form-horizontal"}),a=this.parent.createElement("input",{id:"e-validation",innerHTML:e});switch(a.setAttribute("name","validation"),a.setAttribute("type","text"),a.setAttribute("value",e),r.appendChild(a),l.appendChild(r),t){case"Date":s={rules:{validation:{date:!0}},customPlacement:(e,t)=>{i=t.innerText}};break;case"Decimal":s={rules:{validation:{number:!0}},customPlacement:(e,t)=>{i=t.innerText}};break;case"WholeNumber":s={rules:{validation:{regex:/^\d*\.?[0]*$/}},customPlacement:(e,t)=>{i=t.innerText}}}return n=new pL("#formId",s).validate(),l.removeChild(l.getElementsByClassName("form-horizontal")[0]),{isValidate:n,errorMsg:i}}validationErrorHandler(e){let t=document.getElementsByClassName("e-spreadsheet-edit")[0],n=this.parent.serviceLocator.getService(QB);if(!this.parent.element.querySelector(".e-validationerror-dlg")){let i=this.parent.serviceLocator.getService(eV),s=!1,l={width:400,height:200,isModal:!0,showCloseIcon:!0,cssClass:"e-validationerror-dlg",target:document.querySelector(".e-control.e-spreadsheet"),beforeOpen:()=>{t.focus(),i.dialogInstance.content=e,i.dialogInstance.dataBind()},buttons:[{buttonModel:{content:n.getConstant("Retry"),isPrimary:!0},click:()=>{this.errorDlgHandler(i,"Retry")}},{buttonModel:{content:n.getConstant("Cancel")},click:()=>{this.errorDlgHandler(i,"Cancel")}}]};i.show(l,s)}}errorDlgHandler(e,t){if("Retry"===t){let t=document.getElementsByClassName("e-spreadsheet-edit")[0];if(this.parent.getMainContent(),e.hide(),t.innerText){let e=document.createRange();e.setStart(t.childNodes[0],0),e.setEnd(t.childNodes[0],t.innerText.length);let n=window.getSelection();n.removeAllRanges(),n.addRange(e),this.listObj&&this.listObj.showPopup()}}else{let t=qR(this.parent.getActiveSheet().activeCell),n=this.parent.getDisplayText(this.parent.getActiveSheet().rows[t[0]].cells[t[1]]);this.parent.notify(dF,{action:"cancelEdit",value:n,refreshFormulaBar:!0,refreshEditorElem:!0,isAppend:!1,trigEvent:!0}),e.hide()}}getModuleName(){return"dataValidation"}}class DB{constructor(e){this.parent=e,this.init()}init(){this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("applyProtect",this.protect,this),this.parent.on("protectSheet",this.protectSheetHandler,this),this.parent.on("editAlert",this.editProtectedAlert,this),this.parent.on("applyLockCells",this.lockCellsHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("applyProtect",this.protect),this.parent.off("protectSheet",this.protectSheetHandler),this.parent.off("editAlert",this.editProtectedAlert),this.parent.off("applyLockCells",this.lockCellsHandler))}protect(e){this.parent.notify("clearCopy",null),e.isActive?(this.parent.getActiveSheet().isProtected=!1,this.parent.notify("updateToggleItem",{props:"Protect"}),this.parent.notify("protectSheet",{isActive:e.isActive}),this.parent.notify("protectSelection",null)):this.createDialogue()}createDialogue(){let e=this.parent.serviceLocator.getService(QB),t=[{text:e.getConstant("SelectCells"),id:"1"},{text:e.getConstant("FormatCells"),id:"2"},{text:e.getConstant("FormatRows"),id:"3"},{text:e.getConstant("FormatColumns"),id:"4"},{text:e.getConstant("InsertLinks"),id:"5"}];this.optionList=new XM({width:"250px",dataSource:t,showCheckBox:!0,select:this.dialogOpen.bind(this)});let n=this.parent.createElement("div",{className:"e-protect-content",innerHTML:e.getConstant("ProtectAllowUser")});this.parent.getActiveSheet().isProtected=!1;let i=new MM({checked:!0,label:e.getConstant("ProtectContent"),cssClass:"e-protect-checkbox"}),s=this.parent.createElement("div",{className:"e-protect-option-list",id:this.parent.element.id+"_option_list"}),l=this.parent.createElement("div",{className:"e-header-content",innerHTML:e.getConstant("ProtectSheet")}),r=this.parent.createElement("input",{id:this.parent.element.id+"_protect_check",attrs:{type:"checkbox"}});this.dialog=this.parent.serviceLocator.getService("dialog"),this.dialog.show({header:l.outerHTML,content:r.outerHTML+n.outerHTML+s.outerHTML,showCloseIcon:!0,isModal:!0,cssClass:"e-protect-dlg",beforeOpen:()=>this.parent.element.focus(),open:()=>{this.okBtnFocus()},beforeClose:()=>{let e=document.getElementById(this.parent.element.id+"_protect_check");zI.remove(e,"focus",this.okBtnFocus),zI.remove(i.element,"click",this.checkBoxClickHandler),this.parent.element.focus()},buttons:[{click:this.selectOption.bind(this,this.dialog,this),buttonModel:{content:e.getConstant("Ok"),isPrimary:!0}}]}),i.appendTo("#"+this.parent.element.id+"_protect_check"),this.optionList.appendTo("#"+this.parent.element.id+"_option_list"),this.optionList.selectMultipleItems([{id:"1"}]),zI.add(i.element,"click",this.checkBoxClickHandler,this)}okBtnFocus(){document.getElementById(this.parent.element.id+"_protect_check").addEventListener("focus",()=>{this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").focus()})}checkBoxClickHandler(){!1===document.getElementById(this.parent.element.id+"_protect_check").checked?this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").disabled=!0:(this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").disabled=!1,this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").focus())}dialogOpen(){this.dialog.dialogInstance.element.getElementsByClassName("e-footer-content")[0].querySelector("button").focus()}selectOption(){let e=this.parent.serviceLocator.getService(QB),t=this.optionList.getSelectedItems();this.parent.getActiveSheet().isProtected=!0;let n={selectCells:t.text.indexOf(e.getConstant("SelectCells"))>-1,formatCells:t.text.indexOf(e.getConstant("FormatCells"))>-1,formatRows:t.text.indexOf(e.getConstant("FormatRows"))>-1,formatColumns:t.text.indexOf(e.getConstant("FormatColumns"))>-1,insertLink:t.text.indexOf(e.getConstant("InsertLinks"))>-1};this.parent.protectSheet(null,n),this.parent.notify("protectSelection",null),this.parent.notify("clearUndoRedoCollection",null),this.dialog.hide()}protectSheetHandler(e){let t=this.parent.getActiveSheet(),n=this.parent.element.id,i=[n+"_undo",n+"_redo",n+"_cut",n+"_copy",n+"_paste",n+"_number_format",n+"_font_name",n+"_font_size",n+"_bold",n+"_italic",n+"_line-through",n+"_underline",n+"_font_color_picker",n+"_fill_color_picker",n+"_borders",n+"_merge_cells",n+"_text_align",n+"_vertical_align",n+"_wrap",n+"_sorting"],s=[n+"_cut",n+"_copy",n+"_number_format",n+"_font_name",n+"_font_size",n+"_bold",n+"_italic",n+"_line-through",n+"_underline",n+"_font_color_picker",n+"_fill_color_picker",n+"_borders",n+"_text_align",n+"_vertical_align",n+"_wrap",n+"_sorting"],l=[n+"_insert_function"],r=[n+"_hyperlink"],a=[n+"_find"],o=[n+"_datavalidation"],h=document.getElementById(this.parent.element.id+"_sheet_panel");h&&(t.isProtected&&t.protectSettings.selectCells?h.classList.remove("e-protected"):h.classList.add("e-protected"),t.isProtected||h.classList.remove("e-protected")),this.parent.dataBind(),this.parent.notify("protectCellFormat",{disableHomeBtnId:i,enableHomeBtnId:s,enableFrmlaBtnId:l,enableInsertBtnId:r,findBtnId:a,dataValidationBtnId:o}),this.parent.notify("enableFormulaInput",null),this.parent.notify("updateToggleItem",{props:"Protect"})}editProtectedAlert(){let e=this.parent.serviceLocator.getService(QB);this.dialog=this.parent.serviceLocator.getService("dialog"),this.dialog.dialogInstance||this.dialog.show({content:e.getConstant("EditAlert"),isModal:!0,closeOnEscape:!0,showCloseIcon:!0,width:"400px",beforeOpen:()=>this.parent.element.focus(),close:()=>this.parent.element.focus()})}lockCellsHandler(e){let t=this.parent.getActiveSheet();hH(e.rowIdx,e.colIdx,t,{isLocked:!!e.isLocked&&e.isLocked},!0)}getModuleName(){return"protectSheet"}}class AB{constructor(e){this.shortValue="",this.parent=e,this.addEventListener()}addEventListener(){this.parent.on(yF,this.renderFindDlg,this),this.parent.on(vF,this.renderGotoDlg,this),this.parent.on("gotoHandler",this.gotoHandler,this),this.parent.on("findHandler",this.findHandler,this),this.parent.on("replaceHandler",this.replaceHandler,this),this.parent.on(lF,this.showDialog,this),this.parent.on("replaceAllDialog",this.replaceAllDialog,this),this.parent.on("findUndoRedo",this.findUndoRedo,this),this.parent.on("findKeyUp",this.findKeyUp,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off(yF,this.renderFindDlg),this.parent.off(vF,this.renderGotoDlg),this.parent.off("gotoHandler",this.gotoHandler),this.parent.off("findHandler",this.findHandler),this.parent.off("replaceHandler",this.replaceHandler),this.parent.off(lF,this.showDialog),this.parent.off("replaceAllDialog",this.replaceAllDialog),this.parent.off("findUndoRedo",this.findUndoRedo),this.parent.off("findKeyUp",this.findKeyUp))}findUndoRedo(e){let t={address:e.address,compareVal:e.compareVal,cancel:!1};"before"===e.undoRedoOpt?this.parent.notify(bF,{action:"beforeReplace",eventArgs:t}):"after"===e.undoRedoOpt?t.cancel||this.parent.notify(gF,{action:"replace",eventArgs:{address:e.address,compareVal:e.compareVal}}):"beforeReplaceAll"===e.undoRedoOpt?t.cancel||this.parent.notify(bF,{action:"beforeReplaceAll",eventArgs:{replaceValue:e.replaceValue,addressCollection:e.Collection}}):"afterReplaceAll"!==e.undoRedoOpt||t.cancel||this.parent.notify(gF,{action:"replaceAll",eventArgs:{replaceValue:e.replaceValue,addressCollection:e.Collection}})}renderFindDlg(){let e=this.parent.serviceLocator.getService(QB),t=this.parent.serviceLocator.getService(eV);if(UO(this.parent.element.querySelector(".e-find-dlg"))){let n={isModal:!1,showCloseIcon:!0,cssClass:"e-find-dlg",allowDragging:!0,header:e.getConstant("FindAndReplace"),closeOnEscape:!1,beforeOpen:()=>{t.dialogInstance.content=this.findandreplaceContent(),t.dialogInstance.dataBind(),this.parent.element.focus()},buttons:[{buttonModel:{content:e.getConstant("FindPreviousBtn"),isPrimary:!0,cssClass:"e-btn-findPrevious",disabled:!0},click:()=>{this.dialogMessage(),this.findDlgClick("prev")}},{buttonModel:{content:e.getConstant("FindNextBtn"),isPrimary:!0,cssClass:"e-btn-findNext",disabled:!0},click:()=>{this.dialogMessage(),this.findDlgClick("next")}},{buttonModel:{content:e.getConstant("ReplaceBtn"),isPrimary:!0,cssClass:"e-btn-replace",disabled:!0},click:()=>{this.dialogMessage(),this.findDlgClick("replace")}},{buttonModel:{content:e.getConstant("ReplaceAllBtn"),isPrimary:!0,cssClass:"e-btn-replaceAll",disabled:!0},click:()=>{this.dialogMessage(),this.findDlgClick("replaceAll")}}],open:()=>{this.parent.element.querySelector(".e-text-findNext").value&&(eA(this.parent.element.querySelector(".e-btn-findPrevious"),"btn").disabled=!1,eA(this.parent.element.querySelector(".e-btn-findNext"),"btn").disabled=!1)},close:()=>{t.hide()}};t.show(n,!1)}else t.hide()}dialogMessage(){this.parent.element.querySelector(".e-replace-alert-span")?this.parent.element.querySelector(".e-replace-alert-span").remove():this.parent.element.querySelector(".e-find-alert-span")&&this.parent.element.querySelector(".e-find-alert-span").remove()}renderGotoDlg(){let e=this.parent.serviceLocator.getService(QB),t=this.parent.serviceLocator.getService(eV);if(UO(this.parent.element.querySelector(".e-find-dlg"))){let n={width:300,isModal:!1,showCloseIcon:!0,cssClass:"e-goto-dlg",allowDragging:!0,header:e.getConstant("GotoHeader"),beforeOpen:()=>{t.dialogInstance.content=this.GotoContent(),t.dialogInstance.dataBind(),this.parent.element.focus()},buttons:[{buttonModel:{content:e.getConstant("Ok"),isPrimary:!0,cssClass:"e-btn-goto-ok"},click:()=>{this.gotoHandler()}}],close:()=>{t.hide()},open:()=>{this.textFocus()}};t.show(n,!1)}else t.hide()}textFocus(){this.parent.element.querySelector(".e-text-goto").addEventListener("focus",()=>{this.parent.element.querySelector(".e-goto-alert-span")&&this.parent.element.querySelector(".e-goto-alert-span").remove()})}findDlgClick(e){"prev"===e?this.findHandler({findOption:e}):"next"===e?this.findHandler({findOption:e}):this.replaceHandler({findDlgArgs:e})}findHandler(e){let t=this.parent.element.querySelector(".e-text-findNext");t||(t=this.parent.element.querySelector(".e-text-findNext-short"),t||this.gotoAlert());let n=t.value;if(""!==t.value){let t,i=this.parent.activeSheetIndex,s=this.parent.element.querySelector(".e-findnreplace-checkcase");t=!!s&&eA(s,"checkbox").checked;let l,r=this.parent.element.querySelector(".e-findnreplace-checkmatch");l=!!r&&eA(r,"checkbox").checked;let a,o=this.parent.element.querySelector(".e-findnreplace-searchby");a=o?eA(o,"dropdownlist").value.toString():"By Row";let h,c=this.parent.element.querySelector(".e-findnreplace-searchwithin");h=c?eA(c,"dropdownlist").value.toString():"Sheet";let d={value:n,sheetIndex:i,findOpt:e.findOption,mode:h,isCSen:t,isEMatch:l,searchBy:a};"next"===e.findOption||"prev"===e.findOption?this.parent.find(d):"count"===e.countArgs.countOpt&&(this.parent.notify("count",d),e.countArgs.findCount=d.findCount)}}replaceHandler(e){let t=this.parent.activeSheetIndex,n=this.parent.element.querySelector(".e-text-findNext"),i=this.parent.element.querySelector(".e-text-replaceInp"),s=eA(this.parent.element.querySelector(".e-findnreplace-checkcase"),"checkbox"),l=eA(this.parent.element.querySelector(".e-findnreplace-checkmatch"),"checkbox"),r=eA(this.parent.element.querySelector(".e-findnreplace-searchby"),"dropdownlist"),a=eA(this.parent.element.querySelector(".e-findnreplace-searchwithin"),"dropdownlist"),o={value:n.value,mode:a.value.toString(),isCSen:s.checked,isEMatch:l.checked,searchBy:r.value.toString(),findOpt:"next",replaceValue:i.value,replaceBy:e.findDlgArgs?e.findDlgArgs:e.replaceMode,sheetIndex:t};this.parent.replace(o)}gotoHandler(e){if(e)this.parent.goTo(e.address);else{let e=this.parent.element.querySelector(".e-text-goto").value,t=e.split("");if(""===e||isNaN(parseInt(t[1],10)))return void this.gotoAlert();{let t=e.toString().toUpperCase();this.parent.goTo(t)}}}gotoAlert(){let e=this.parent.serviceLocator.getService(QB),t=this.parent.createElement("span",{className:"e-goto-alert-span",innerHTML:e.getConstant("InsertingEmptyValue")});this.parent.element.querySelector(".e-goto-dlg").querySelector(".e-dlg-content").appendChild(t)}showDialog(){this.parent.element.querySelector(".e-replace-alert-span")&&this.parent.element.querySelector(".e-replace-alert-span").remove();let e=this.parent.serviceLocator.getService(QB),t=this.parent.createElement("span",{className:"e-find-alert-span",innerHTML:e.getConstant("NoElements")});this.parent.element.querySelector(".e-find-dlg").querySelector(".e-dlg-content").appendChild(t)}replaceAllDialog(e){this.parent.element.querySelector(".e-find-alert-span")&&this.parent.element.querySelector(".e-find-alert-span").remove();let t=this.parent.serviceLocator.getService(QB),n=this.parent.createElement("span",{className:"e-replace-alert-span",innerHTML:e.count+t.getConstant("ReplaceAllEnd")+e.replaceValue});this.parent.element.querySelector(".e-find-dlg").querySelector(".e-dlg-content").appendChild(n)}findKeyUp(e){{let e=this.parent.element.querySelector(".e-text-findNext").value;UO(e)||""===e?(eA(this.parent.element.querySelector(".e-btn-findPrevious"),"btn").disabled=!0,eA(this.parent.element.querySelector(".e-btn-findNext"),"btn").disabled=!0,this.dialogMessage()):(eA(this.parent.element.querySelector(".e-btn-findPrevious"),"btn").disabled=!1,eA(this.parent.element.querySelector(".e-btn-findNext"),"btn").disabled=!1)}let t=this.parent.element.querySelector(".e-text-findNext").value,n=this.parent.element.querySelector(".e-text-replaceInp").value;UO(t)||UO(n)||""===t||""===n?(eA(this.parent.element.querySelector(".e-btn-replace"),"btn").disabled=!0,eA(this.parent.element.querySelector(".e-btn-replaceAll"),"btn").disabled=!0,this.dialogMessage()):!1===this.parent.getActiveSheet().isProtected&&(eA(this.parent.element.querySelector(".e-btn-replace"),"btn").disabled=!1,eA(this.parent.element.querySelector(".e-btn-replaceAll"),"btn").disabled=!1)}findandreplaceContent(){this.parent.element.querySelector(".e-text-findNext-short")&&(this.shortValue=this.parent.element.querySelector(".e-text-findNext-short").value);let e=this.parent.createElement("div",{className:"e-link-dialog"}),t=this.parent.createElement("div",{className:"e-find"}),n=this.parent.createElement("div",{className:"e-findCheck"}),i=this.parent.serviceLocator.getService(QB);e.appendChild(t);let s=this.parent.createElement("div",{className:"e-cont"}),l=this.parent.createElement("p",{className:"e-header",innerHTML:i.getConstant("FindWhat")}),r=this.parent.createElement("input",{className:"e-input e-text-findNext",attrs:{type:"Text",placeholder:i.getConstant("FindValue"),value:this.shortValue}});s.appendChild(r),s.insertBefore(l,r),t.appendChild(s);let a=new TL({width:"70%"});a.createElement=this.parent.createElement,a.appendTo(r);let o=this.parent.createElement("div",{className:"e-cont"}),h=this.parent.createElement("p",{className:"e-header",innerHTML:i.getConstant("ReplaceWith")}),c=this.parent.createElement("input",{className:"e-input e-text-replaceInp",attrs:{type:"Text",placeholder:i.getConstant("ReplaceValue")}});o.appendChild(c),o.insertBefore(h,c),t.appendChild(o);let d=new TL({width:"70%"});d.createElement=this.parent.createElement,d.appendTo(c);let u=[{Id:"Sheet",Within:i.getConstant("Sheet")},{Id:"Workbook",Within:i.getConstant("Workbook")}],p=new GN({dataSource:u,cssClass:"e-searchby",fields:{value:"Id",text:"Within"},width:"50%",index:0}),m=this.parent.createElement("input",{className:"e-findnreplace-searchwithin",attrs:{type:"select",label:i.getConstant("SearchBy")}}),f=this.parent.createElement("p",{className:"e-header",innerHTML:i.getConstant("SearchWithin")});t.appendChild(f),t.appendChild(m),p.createElement=this.parent.createElement,p.appendTo(m);let g=[{Id:"By Row",Search:i.getConstant("ByRow")},{Id:"By Column",Search:i.getConstant("ByColumn")}],b=new GN({dataSource:g,cssClass:"e-searchby",fields:{value:"Id",text:"Search"},width:"50%",index:0}),v=this.parent.createElement("input",{className:"e-findnreplace-searchby",attrs:{type:"select",label:i.getConstant("SearchBy")}}),y=this.parent.createElement("p",{className:"e-header",innerHTML:i.getConstant("SearchBy")});t.appendChild(y),t.appendChild(v),b.createElement=this.parent.createElement,b.appendTo(v);let w=new MM({label:i.getConstant("MatchCase"),checked:!1,cssClass:"e-findnreplace-casecheckbox"}),C=this.parent.createElement("input",{className:"e-findnreplace-checkcase",attrs:{type:"checkbox"}});n.appendChild(C),w.createElement=this.parent.createElement,w.appendTo(C);let x=new MM({label:i.getConstant("MatchExactCellElements"),checked:!1,cssClass:"e-findnreplace-exactmatchcheckbox"}),_=this.parent.createElement("input",{className:"e-findnreplace-checkmatch",attrs:{type:"checkbox"}});return n.appendChild(_),x.createElement=this.parent.createElement,x.appendTo(_),t.appendChild(n),e}GotoContent(){let e=this.parent.serviceLocator.getService(QB),t=this.parent.createElement("div",{className:"e-link-dialog"}),n=this.parent.createElement("div",{className:"e-goto"});t.appendChild(n);let i=this.parent.createElement("div",{className:"e-cont"}),s=this.parent.createElement("p",{className:"e-header",innerHTML:e.getConstant("Reference")}),l=new TL({placeholder:e.getConstant("EntercellAddress")}),r=this.parent.createElement("input",{className:"e-text-goto",attrs:{type:"Text"}});return i.appendChild(r),i.insertBefore(s,r),n.appendChild(i),l.createElement=this.parent.createElement,l.appendTo(r),t}destroy(){this.removeEventListener(),this.parent=null}getModuleName(){return"findAndReplace"}}class MB{constructor(e){this.parent=e,this.addEventListener()}merge(e){e.showDialog?this.parent.serviceLocator.getService(eV).show({target:this.parent.element,height:180,width:400,isModal:!0,showCloseIcon:!0,content:this.parent.serviceLocator.getService(QB).getConstant("PasteMergeAlert"),beforeOpen:()=>this.parent.element.focus()}):this.parent.serviceLocator.getService("cell").refresh(e.rowIdx,e.colIdx,e.lastCell,e.element)}hideHandler(e){let t,n=this.parent.getActiveSheet(),i={range:[e.rowIdx,e.colIdx,e.rowIdx,e.colIdx]};this.parent.notify("activeCellMergedRange",i),i.range=i.range;let s=oH(i.range[0],i.range[1],n)||{},l="row"===e.model?i.range[0]:i.range[1];if(t=l+((s[`${e.model}Span`]||1)-1),!(!e.isEnd&&(e.start===l||PH(n,l))||e.isEnd&&e.start>l&&!PH(n,l))&&s[`${e.model}Span`]>1&&t>=e.start)if("row"===e.model?sH(n,l):PH(n,l)){if(e.end<t&&(t-e.end>1||s.rowSpan>1)){let n=this.parent.getCell(e.rowIdx,e.end+1);if(n&&(t-e.end>1&&(n.colSpan=t-e.end),n.style.display=""),s.rowSpan>1){let t=s.rowSpan-this.parent.hiddenCount(e.rowIdx,e.rowIdx+(s.rowSpan-1));t>1&&(n.rowSpan=t)}}}else this.merge({rowIdx:i.range[0],colIdx:i.range[1]})}checkPrevMerge(e){let t,n,i,s=this.parent.getActiveSheet();e.isRow?e.rowIdx-1>-1&&sH(s,e.rowIdx-1)&&(t=oH(e.rowIdx-1,e.colIdx,s)||{},void 0===t.rowSpan&&void 0===t.colSpan||!(void 0===t.colSpan||t.colSpan>1||e.colIdx-1>-1&&PH(s,e.colIdx-1))||(n={range:[e.rowIdx-1,e.colIdx,e.rowIdx-1,e.colIdx]},this.parent.notify("activeCellMergedRange",n),n.range=n.range,sH(s,n.range[0])&&n.range[2]>=e.rowIdx&&(t=oH(n.range[0],n.range[1],s)||{},t.rowSpan>1&&(i=n.range[2]-e.rowIdx+1-this.parent.hiddenCount(e.rowIdx,e.rowIdx+(n.range[2]-e.rowIdx)),i>1&&(e.td.rowSpan=i,e.td.style.display=""),t.colSpan>1&&!(e.colIdx-1>-1&&PH(s,e.colIdx-1))&&(i=t.colSpan-this.parent.hiddenCount(e.colIdx,e.colIdx+(t.colSpan-1),"columns"),i>1&&(e.td.colSpan=i,e.td.style.display="")))))):e.colIdx-1>-1&&PH(s,e.colIdx-1)&&(t=oH(e.rowIdx,e.colIdx-1,s)||{},void 0===t.colSpan&&void 0===t.rowSpan||!(void 0===t.rowSpan||t.rowSpan>1||e.rowIdx-1>-1&&sH(s,e.rowIdx-1))||(n={range:[e.rowIdx,e.colIdx-1,e.rowIdx,e.colIdx-1]},this.parent.notify("activeCellMergedRange",n),n.range=n.range,PH(s,n.range[1])&&n.range[3]>=e.colIdx&&(t=oH(n.range[0],n.range[1],s)||{},t.colSpan>1&&(i=n.range[3]-e.colIdx+1-this.parent.hiddenCount(e.colIdx,e.colIdx+(t.colSpan-1),"columns"),i>1&&(e.td.colSpan=i,e.td.style.display=""),t.rowSpan>1&&!(e.rowIdx-1>-1&&sH(s,e.rowIdx-1))&&(i=t.rowSpan-this.parent.hiddenCount(e.rowIdx,e.rowIdx+(t.rowSpan-1)),i>1&&(e.td.rowSpan=i,e.td.style.display=""))))))}checkMerge(e){let t=this.parent.getActiveSheet(),n=oH(e.rowIdx,e.colIdx,t)||{};if(e.isRow){if(void 0===n.colSpan||PH(t,e.colIdx-1)){let i={range:[e.rowIdx,e.colIdx,e.rowIdx,e.colIdx]};if(i.range=i.range,this.parent.notify("activeCellMergedRange",i),PH(t,e.colIdx-1)&&!PH(t,i.range[1]))return;n=oH(i.range[0],i.range[1],t);let s=i.range[2]-e.rowIdx+1-this.parent.hiddenCount(e.rowIdx,i.range[2]);s>1&&(this.merge({rowIdx:i.range[0],colIdx:i.range[1],element:e.td}),e.td.rowSpan=s)}}else if(void 0===n.rowSpan||sH(t,e.rowIdx-1)){let i={range:[e.rowIdx,e.colIdx,e.rowIdx,e.colIdx]};if(i.range=i.range,this.parent.notify("activeCellMergedRange",i),sH(t,e.rowIdx-1)&&!sH(t,i.range[0]))return;n=oH(i.range[0],i.range[1],t);let s=i.range[3]-e.colIdx+1-this.parent.hiddenCount(e.colIdx,i.range[3],"columns");s>1&&(this.merge({rowIdx:i.range[0],colIdx:i.range[1],element:e.td}),e.td.colSpan=s)}}addEventListener(){this.parent.on("applyMerge",this.merge,this),this.parent.on("hiddenMerge",this.hideHandler,this),this.parent.on("checkPrevMerge",this.checkPrevMerge,this),this.parent.on("checkMerge",this.checkMerge,this)}destroy(){this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.isDestroyed||(this.parent.off("applyMerge",this.merge),this.parent.off("hiddenMerge",this.hideHandler),this.parent.off("checkPrevMerge",this.checkPrevMerge),this.parent.off("checkMerge",this.checkMerge))}getModuleName(){return"merge"}}var TB=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let PB=(()=>{class e extends OA{}return TB([dA("")],e.prototype,"text",void 0),TB([dA("")],e.prototype,"iconCss",void 0),TB([dA("left")],e.prototype,"iconPosition",void 0),e})(),LB=(()=>{class e extends OA{}return TB([uA({},PB)],e.prototype,"header",void 0),TB([pA([],QL)],e.prototype,"content",void 0),TB([dA("")],e.prototype,"cssClass",void 0),TB([dA(!1)],e.prototype,"disabled",void 0),e})(),NB=(()=>{let e=class extends TA{constructor(e,t){super(e)}preRender(){}render(){this.element.id||(this.element.id=YO("ribbon")),this.renderRibbon()}destroy(){let e=this.tabObj.element.querySelector(".e-drop-icon");if(e&&e.removeEventListener("click",this.ribbonExpandCollapse.bind(this)),this.menuItems.length){let e=document.getElementById(`${this.element.id}_menu`);e&&eA(e,"menu").destroy()}this.toolbarObj.destroy(),this.tabObj.destroy(),this.element.innerHTML="",this.toolbarObj=null,this.tabObj=null,super.destroy()}getTabItems(){let e=[];return this.menuItems.length&&e.push({header:{text:this.initMenu(this.menuItems)},content:this.toolbarObj.element,cssClass:"e-menu-tab"}),this.items.forEach(t=>{e.push({header:t.header,content:this.toolbarObj.element})}),e}initMenu(e){let t=this.createElement("ul",{id:`${this.element.id}_menu`});this.element.appendChild(t);let n=new lN({cssClass:"e-file-menu",items:e,showItemOnClick:!0,beforeOpen:t=>{t.parentItem.text===e[0].text&&(n.showItemOnClick=!1),this.trigger("beforeOpen",t)},select:e=>{this.trigger("fileMenuItemSelect",e)},beforeClose:t=>{"mouseover"!==t.event.type||GD(t.event.target,".e-menu-popup")?(this.trigger("beforeClose",t),t.parentItem&&t.parentItem.text!==e[0].text||requestAnimationFrame(()=>n.setProperties({showItemOnClick:!0},!0))):t.cancel=!0},beforeItemRender:e=>{this.trigger("beforeFileMenuItemRender",e)}});return n.createElement=this.createElement,n.appendTo(t),t.parentElement}renderRibbon(){let e=this.createElement("div"),t=this.createElement("div");this.toolbarObj=new eN({items:this.items[this.selectedTab].content,clicked:e=>this.trigger("clicked",e)}),this.toolbarObj.createElement=this.createElement,this.toolbarObj.appendTo(t),this.tabObj=new mN({selectedItem:this.getIndex(this.selectedTab),animation:{next:{duration:0},previous:{duration:0}},items:this.getTabItems(),selecting:e=>{if(this.menuItems.length&&0===e.selectingIndex)e.cancel=!0;else{if(e.selectingIndex===this.getIndex(this.selectedTab))return;let t;this.updateToolbar(this.getIndex(e.selectingIndex,!0)),this.toolbarObj.dataBind(),this.element.classList.contains("e-collapsed")&&zI.remove(e.selectedItem,"click",this.ribbonExpandCollapse),this.menuItems.length?(t=Object.assign({},e),t.selectingIndex-=1,t.selectedIndex-=1):t=e,this.trigger("selecting",t)}},selected:e=>{e.selectedIndex!==this.getIndex(this.selectedTab)&&(this.setProperties({selectedTab:this.getIndex(e.selectedIndex,!0)},!0),this.element.classList.contains("e-collapsed")&&(this.element.classList.remove("e-collapsed"),this.trigger("expandCollapse",{element:this.toolbarObj.element,expanded:!0})))},created:()=>{let e=this.createElement("span",{className:"e-drop-icon e-icons"});e.addEventListener("click",this.ribbonExpandCollapse.bind(this));let t=this.tabObj.element.querySelector(".e-tab-header");t.insertBefore(e,t.getElementsByClassName("e-toolbar-items")[0]),this.toolbarObj.refreshOverflow()}}),this.element.appendChild(e),this.tabObj.createElement=this.createElement,this.tabObj.appendTo(e)}ribbonExpandCollapse(e){let t,n={element:this.toolbarObj.element,expanded:!0};this.element.classList.contains("e-collapsed")?(t=this.tabObj.element.querySelector(".e-tab-header").getElementsByClassName("e-toolbar-item")[this.tabObj.selectedItem],this.element.classList.remove("e-collapsed"),t.classList.add("e-active"),zI.remove(t,"click",this.ribbonExpandCollapse),this.trigger("expandCollapse",n)):(t=this.tabObj.element.querySelector(".e-tab-header .e-toolbar-item.e-active"),this.element.classList.add("e-collapsed"),n.expanded=!1,t.classList.remove("e-active"),zI.add(t,"click",this.ribbonExpandCollapse,this),this.trigger("expandCollapse",n))}getIndex(e,t){return this.menuItems.length?t?e-1:e+1:e}updateToolbar(e){this.toolbarObj.items=this.items[e].content,this.toolbarObj.dataBind()}enableMenuItems(e,t=!0,n){this.menuItems.length&&eA(document.getElementById(`${this.element.id}_menu`),"menu").enableItems(e,t,n)}hideMenuItems(e,t=!0,n){if(!this.menuItems.length)return;let i=eA(document.getElementById(`${this.element.id}_menu`),"menu");t?i.hideItems(e,n):i.showItems(e,n)}addMenuItems(e,t,n=!0,i){if(!this.menuItems.length)return;let s=eA(document.getElementById(`${this.element.id}_menu`),"menu");n?s.insertAfter(e.reverse(),t,i):s.insertBefore(e,t,i)}hideTabs(e,t=!0){let n,i,s,l;if(t||(l=this.isAllHidden()),e.forEach(e=>{n=this.getTabIndex(e,-1),n>-1&&(t?this.items[n].cssClass.includes(" e-hide")||(this.items[n].cssClass=`${this.items[n].cssClass} e-hide`,this.tabObj.items[this.getIndex(n)].cssClass=this.items[n].cssClass,void 0===i&&n===this.selectedTab&&(i=!0),s=!0):this.items[n].cssClass.includes(" e-hide")&&(this.items[n].cssClass=this.items[n].cssClass.replace(" e-hide",""),this.tabObj.items[this.getIndex(n)].cssClass=this.items[n].cssClass,void 0===i&&n===this.selectedTab&&(i=!0),s=!0))}),this.setProperties({items:this.items},!0),this.tabObj.items=this.tabObj.items,this.tabObj.dataBind(),t&&(l=this.isAllHidden(),l&&(i=!1)),!t&&l&&(i=!i),s&&l&&(this.element.classList.contains("e-collapsed")?(this.element.classList.remove("e-collapsed"),this.element.querySelector(".e-drop-icon").classList.remove("e-hide")):(this.element.classList.add("e-collapsed"),this.element.querySelector(".e-drop-icon").classList.add("e-hide"))),i)for(let r=0;r<this.items.length;r++)if(!this.items[r].cssClass.includes(" e-hide")){this.tabObj.selectedItem=this.getIndex(r),this.tabObj.dataBind();break}}isAllHidden(){let e=!0;for(let t=0;t<this.items.length;t++)if(!this.items[t].cssClass.includes(" e-hide")){e=!1;break}return e}enableTabs(e,t=!0){e.forEach(e=>{let n=this.getTabIndex(e,-1);n>-1&&(this.items[n].disabled=!t,n=this.getIndex(n),this.tabObj.enableTab(n,t))}),this.setProperties({items:this.items},!0)}addTabs(e,t){let n=this.getTabIndex(t);e.forEach(e=>{e=new LB(this.items[0],"items",e,!0),this.items.splice(n,0,e),this.tabObj.addTab([{header:e.header,content:this.toolbarObj.element}],this.getIndex(n)),n++}),this.setProperties({items:this.items},!0),this.setProperties({selectedTab:this.getIndex(this.tabObj.selectedItem,!0)},!0)}getTabIndex(e,t=this.items.length){if(e)for(let n=0;n<this.items.length;n++)if(this.items[n].header.text===e){t=n;break}return t}addToolbarItems(e,t,n){let i=this.getTabIndex(e);UO(n)&&(n=this.items[i].content.length),t.forEach(e=>{e=new QL(this.items[i].content[0],"content",e,!0),this.items[i].content.splice(n,0,e),n++}),this.setProperties({items:this.items},!0),i===this.selectedTab&&t.length&&this.updateToolbar(i)}enableItems(e,t,n){if(void 0===n&&(n=!0),t){let i=this.getTabIndex(e,-1);if(i<0)return;for(let e=0;e<t.length;e++){if("string"==typeof t[e])for(let n=0;n<this.items[i].content.length;n++)if(this.items[i].content[n].id===t[e]){t[e]=n;break}if("string"==typeof t[e])return;this.items[i].content[t[e]].disabled=!n}i===this.selectedTab&&this.updateToolbar(i)}else this.toolbarObj.disable(!n)}hideToolbarItems(e,t,n=!0){let i;for(let s=0;s<this.items.length;s++)if(this.items[s].header.text===e){i=s,t.forEach(e=>{this.items[i].content[e]&&(n?this.items[i].content[e].cssClass.includes(" e-hide")||(this.items[i].content[e].cssClass=this.items[i].content[e].cssClass+" e-hide"):this.items[i].content[e].cssClass.includes(" e-hide")&&(this.items[i].content[e].cssClass=this.items[i].content[e].cssClass.replace(" e-hide","")))});break}this.setProperties({items:this.items},!0),void 0!==i&&i===this.selectedTab&&this.updateToolbar(i)}getModuleName(){return"ribbon"}getPersistData(){return this.addOnPersist([])}onPropertyChanged(e,t){for(let n of Object.keys(e))switch(n){case"selectedTab":this.tabObj.selectedItem=this.getIndex(e.selectedTab),this.tabObj.dataBind()}}};return TB([dA("")],e.prototype,"cssClass",void 0),TB([dA(!0)],e.prototype,"menuType",void 0),TB([pA([],WL)],e.prototype,"menuItems",void 0),TB([dA(0)],e.prototype,"selectedTab",void 0),TB([pA([],LB)],e.prototype,"items",void 0),TB([mA()],e.prototype,"selecting",void 0),TB([mA()],e.prototype,"fileMenuItemSelect",void 0),TB([mA()],e.prototype,"beforeFileMenuItemRender",void 0),TB([mA()],e.prototype,"beforeOpen",void 0),TB([mA()],e.prototype,"beforeClose",void 0),TB([mA()],e.prototype,"selectFormat",void 0),TB([mA()],e.prototype,"clicked",void 0),TB([mA()],e.prototype,"created",void 0),TB([mA()],e.prototype,"expandCollapse",void 0),e=TB([fA],e),e})();class RB{constructor(e){this.parent=e,this.addEventListener()}render(){let e=this.parent.element.id,t=this.parent.createElement("input",{attrs:{type:"color"}});this.fontColorPicker=new DL({value:"#000000ff",mode:"Palette",showButtons:!1,presetColors:tV,enableOpacity:!1,beforeClose:e=>this.beforeCloseHandler(this.fontColorPicker),open:this.openHandler.bind(this),beforeModeSwitch:e=>this.beforeModeSwitch(this.fontColorPicker,e),change:e=>{let t={style:{color:this.fontColorPicker.getValue(e.currentValue.rgba)},onActionUpdate:!0};this.parent.notify(iF,t),t.cancel?this.fontColorPicker.setProperties({value:this.fontColorPicker.getValue(e.previousValue.rgba,"HEXA")},!0):this.updateSelectedColor(t.style.color,this.fontColorPicker.element),this.parent.element.focus()},created:()=>this.wireFocusEvent(this.fontColorPicker.element,"#000000")}),this.fontColorPicker.createElement=this.parent.createElement,this.parent.element.appendChild(t),this.fontColorPicker.appendTo(t),t.parentElement.id=`${e}_font_color_picker`,RD([t.nextElementSibling.getElementsByClassName("e-selected-color")[0]],["e-icons","e-font-color"]),t=this.parent.createElement("input",{attrs:{type:"color"}}),this.filColorPicker=new DL({value:"#ffff00ff",mode:"Palette",presetColors:nV,showButtons:!1,enableOpacity:!1,open:this.openHandler.bind(this),beforeClose:e=>this.beforeCloseHandler(this.filColorPicker),beforeModeSwitch:e=>this.beforeModeSwitch(this.filColorPicker,e),change:e=>{let t={style:{backgroundColor:this.filColorPicker.getValue(e.currentValue.rgba)},onActionUpdate:!0};this.parent.notify(iF,t),t.cancel?this.filColorPicker.setProperties({value:this.filColorPicker.getValue(e.previousValue.rgba,"HEXA")},!0):this.updateSelectedColor(t.style.backgroundColor,this.filColorPicker.element),this.parent.element.focus()},created:()=>this.wireFocusEvent(this.filColorPicker.element,"#ffff00")}),this.filColorPicker.createElement=this.parent.createElement,this.parent.element.appendChild(t),this.filColorPicker.appendTo(t),t.parentElement.id=`${e}_fill_color_picker`,RD([t.nextElementSibling.getElementsByClassName("e-selected-color")[0]],["e-icons","e-fill-color"])}updateSelectedColor(e,t){t.nextElementSibling.querySelector(".e-selected-color").style.borderBottomColor=e}wireFocusEvent(e,t){this.updateSelectedColor(t,e),(e=e.parentElement.querySelector(".e-split-colorpicker")).addEventListener("focus",()=>{this.parent.element.focus()})}openHandler(e){e.element.querySelector(".e-mode-switch-btn").title=this.parent.serviceLocator.getService(QB).getConstant("MoreColors")}beforeCloseHandler(e){e.modeSwitcher||e.setProperties({modeSwitcher:!0},!0),e.showButtons&&e.setProperties({showButtons:!1},!0)}beforeModeSwitch(e,t){let n=this.parent.serviceLocator.getService(QB);"Picker"===t.mode?(e.showButtons=!0,e.dataBind(),t.element.querySelector(".e-apply").title=n.getConstant("Apply"),t.element.querySelector(".e-cancel").title=n.getConstant("Cancel"),t.element.querySelector(".e-mode-switch-btn").title=n.getConstant("StandardColors")):(e.showButtons=!1,e.dataBind(),t.element.querySelector(".e-mode-switch-btn").title=n.getConstant("MoreColors"))}destroy(){this.parent&&(this.removeEventListener(),this.fontColorPicker.destroy(),this.fontColorPicker=null,this.filColorPicker.destroy(),this.filColorPicker=null,this.parent=null)}addEventListener(){this.parent.on("beforeRibbonCreate",this.render,this),this.parent.on("destroyRibbonComponents",this.destroy,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}removeEventListener(){this.parent.off("beforeRibbonCreate",this.render),this.parent.off("destroyRibbonComponents",this.destroy),this.parent.on("spreadsheetDestroyed",this.destroy,this)}}class FB{constructor(e){this.border="1px solid #000000",this.fontNameIndex=5,this.numPopupWidth=0,this.findValue="",this.parent=e,this.addEventListener(),new RB(e)}getModuleName(){return"ribbon"}initRibbon(e){this.parent.showRibbon||!this.ribbon?(this.parent.notify("beforeRibbonCreate",{}),this.parent.isMobileView()?this.createMobileView():this.createRibbon(e)):this.destroy()}getRibbonMenuItems(){let e=this.parent.serviceLocator.getService(QB),t=this.parent.element.id;return[{text:this.parent.isMobileView()?"":e.getConstant("File"),iconCss:this.parent.isMobileView()?"e-icons e-file-menu-icon":null,id:`${t}_File`,items:[{text:e.getConstant("New"),id:`${t}_New`,iconCss:"e-new e-icons"},{text:e.getConstant("Open"),id:`${t}_Open`,iconCss:"e-open e-icons"},{text:e.getConstant("SaveAs"),iconCss:"e-save e-icons",id:`${t}_Save_As`,items:[{text:e.getConstant("ExcelXlsx"),id:`${t}_Xlsx`,iconCss:"e-xlsx e-icons"},{text:e.getConstant("ExcelXls"),id:`${t}_Xls`,iconCss:"e-xls e-icons"},{text:e.getConstant("CSV"),id:`${t}_Csv`,iconCss:"e-csv e-icons"}]}]}]}getRibbonItems(){let e=this.parent.element.id,t=this.parent.serviceLocator.getService(QB),n=[{header:{text:t.getConstant("Home")},content:[{prefixIcon:"e-undo-icon",tooltipText:`${t.getConstant("Undo")} (Ctrl+Z)`,id:e+"_undo",disabled:!0},{prefixIcon:"e-redo-icon",tooltipText:`${t.getConstant("Redo")} (Ctrl+Y)`,id:e+"_redo",disabled:!0},{type:"Separator",id:e+"_separator_1"},{prefixIcon:"e-cut-icon",tooltipText:`${t.getConstant("Cut")} (Ctrl+X)`,id:e+"_cut"},{prefixIcon:"e-copy-icon",tooltipText:`${t.getConstant("Copy")} (Ctrl+C)`,id:e+"_copy"},{tooltipText:`${t.getConstant("Paste")} (Ctrl+V)`,template:this.getPasteBtn(e),id:e+"_paste",disabled:!0},{type:"Separator",id:e+"_separator_2"},{template:this.getNumFormatDDB(e),tooltipText:t.getConstant("NumberFormat"),id:e+"_number_format"},{type:"Separator",id:e+"_separator_3"},{template:this.getFontNameDDB(e),tooltipText:t.getConstant("Font"),id:e+"_font_name"},{type:"Separator",id:e+"_separator_4"},{template:this.getFontSizeDDB(e),tooltipText:t.getConstant("FontSize"),id:e+"_font_size"},{type:"Separator",id:e+"_separator_5"},{template:this.getBtn(e,"bold"),tooltipText:`${t.getConstant("Bold")} (Ctrl+B)`,id:e+"_bold"},{template:this.getBtn(e,"italic"),tooltipText:`${t.getConstant("Italic")} (Ctrl+I)`,id:e+"_italic"},{template:this.getBtn(e,"line-through"),tooltipText:`${t.getConstant("Strikethrough")} (Ctrl+5)`,id:e+"_line-through"},{template:this.getBtn(e,"underline"),tooltipText:`${t.getConstant("Underline")} (Ctrl+U)`,id:e+"_underline"},{template:document.getElementById(`${e}_font_color_picker`),tooltipText:t.getConstant("TextColor"),id:e+"_font_color_picker"},{type:"Separator",id:e+"_separator_6"},{template:document.getElementById(`${e}_fill_color_picker`),tooltipText:t.getConstant("FillColor"),id:e+"_fill_color_picker"},{template:this.getBordersDBB(e),id:e+"_borders"},{template:this.getMergeSplitBtn(e),tooltipText:t.getConstant("MergeCells"),id:e+"_merge_cells",disabled:!0},{type:"Separator",id:e+"_separator_7"},{template:this.getTextAlignDDB(e),tooltipText:t.getConstant("HorizontalAlignment"),id:e+"_text_align"},{template:this.getVerticalAlignDDB(e),tooltipText:t.getConstant("VerticalAlignment"),id:e+"_vertical_align"},{template:this.getBtn(e,"wrap",!1),tooltipText:`${t.getConstant("WrapText")}`,id:e+"_wrap"}]},{header:{text:t.getConstant("Insert")},content:[{prefixIcon:"e-hyperlink-icon",text:t.getConstant("Link"),id:e+"_hyperlink",tooltipText:t.getConstant("Link"),click:()=>{this.getHyperlinkDlg()}}]},{header:{text:t.getConstant("Formulas")},content:[{prefixIcon:"e-insert-function",tooltipText:t.getConstant("InsertFunction"),text:t.getConstant("InsertFunction"),id:e+"_insert_function"}]},{header:{text:t.getConstant("Data")},content:[{prefixIcon:"e-protect-icon",text:t.getConstant("ProtectSheet"),id:e+"_protect",tooltipText:t.getConstant("ProtectSheet")},{type:"Separator",id:e+"_separator_8"},{template:this.datavalidationDDB(e),tooltipText:t.getConstant("DataValidation"),id:e+"_datavalidation"}]},{header:{text:t.getConstant("View")},content:[{prefixIcon:"e-hide-headers",text:this.getLocaleText("Headers"),id:e+"_headers",tooltipText:this.getLocaleText("Headers")},{type:"Separator",id:e+"_separator_9"},{prefixIcon:"e-hide-gridlines",text:this.getLocaleText("GridLines"),id:e+"_gridlines",tooltipText:this.getLocaleText("GridLines")}]}];return(this.parent.allowSorting||this.parent.allowFiltering)&&n.find(e=>e.header&&e.header.text===t.getConstant("Home")).content.push({type:"Separator",id:e+"_separator_10"},{template:this.getSortFilterDDB(e),tooltipText:t.getConstant("SortAndFilter"),id:e+"_sorting"}),this.parent.allowFindAndReplace&&n.find(e=>e.header&&e.header.text===t.getConstant("Home")).content.push({template:this.getFindDDb(e),prefixIcon:"e-tbar-search-icon tb-icons",tooltipText:t.getConstant("FindReplaceTooltip"),id:e+"_find"}),n}getPasteBtn(e){let t=this.parent.element.appendChild(this.parent.createElement("button",{id:e+"_paste"})),n=this.parent.serviceLocator.getService(QB);return this.pasteSplitBtn=new XP({iconCss:"e-icons e-paste-icon",items:[{text:n.getConstant("All"),id:"All"},{text:n.getConstant("Values"),id:"Values"},{text:n.getConstant("Formats"),id:"Formats"}],select:e=>{this.parent.notify("paste",{type:e.item.id,isAction:!0})},click:()=>{this.parent.notify("paste",{isAction:!0})},close:()=>{this.parent.element.focus()}}),this.pasteSplitBtn.createElement=this.parent.createElement,this.pasteSplitBtn.appendTo(t),t.parentElement}getHyperlinkDlg(){let e,t=zR(this.parent.getActiveSheet().activeCell),n=this.parent.sheets[this.parent.getActiveSheet().id-1].rows[t[0]];UO(n)||(e=n.cells[t[1]]),UO(e)&&hH(t[0],t[1],this.parent.getActiveSheet(),e,!1),this.parent.notify(e&&e.hyperlink?"editHyperlink":"initiateHyperlink",null)}getLocaleText(e,t){let n,i=this.parent.serviceLocator.getService(QB);return this.parent.getActiveSheet()["show"+e]?(t&&this.parent.getMainContent().classList.remove("e-hide-"+e.toLowerCase()),n=i.getConstant("Hide"+e)):(t&&this.parent.getMainContent().classList.add("e-hide-"+e.toLowerCase()),n=i.getConstant("Show"+e)),n}getLocaleProtectText(e,t){let n,i=this.parent.serviceLocator.getService(QB);return this.parent.getActiveSheet().isProtected?(t&&this.parent.getMainContent().classList.remove("e-hide-"+e.toLowerCase()),n=i.getConstant("Unprotect"+e)):(t&&this.parent.getMainContent().classList.add("e-hide-"+e.toLowerCase()),n=i.getConstant("Protect"+e)),n}createRibbon(e){let t=this.parent.createElement("div",{id:`${this.parent.element.id}_ribbon`});if(this.ribbon=new NB({selectedTab:0,menuItems:this.getRibbonMenuItems(),items:this.getRibbonItems(),fileMenuItemSelect:this.fileMenuItemSelect.bind(this),beforeOpen:this.fileMenuBeforeOpen.bind(this),beforeClose:this.fileMenuBeforeClose.bind(this),clicked:this.toolbarClicked.bind(this),created:this.ribbonCreated.bind(this),selecting:this.tabSelecting.bind(this),expandCollapse:this.expandCollapseHandler.bind(this),beforeFileMenuItemRender:this.beforeRenderHandler.bind(this)}),this.ribbon.createElement=this.parent.createElement,e&&e.uiUpdate){let e=this.parent.element.querySelector(".e-formula-bar-panel")||document.getElementById(this.parent.element.id+"_sheet_panel");this.parent.element.insertBefore(t,e)}else this.parent.element.appendChild(t);this.ribbon.appendTo(t)}tabSelecting(e){e.selectingIndex!==this.ribbon.selectedTab&&(this.refreshRibbonContent(e.selectingIndex),this.parent.notify("tabSwitch",{activeTab:e.selectingIndex}))}beforeRenderHandler(e){let t=this.parent.serviceLocator.getService(QB);e.item.text!==t.getConstant("Open")||this.parent.openUrl&&this.parent.allowOpen||e.element.classList.add("e-disabled"),e.item.text!==t.getConstant("SaveAs")||this.parent.saveUrl&&this.parent.allowSave||e.element.classList.add("e-disabled")}getNumFormatDDB(e){let t=this.parent.createElement("button",{id:e+"_number_format"});return t.appendChild(this.parent.createElement("span",{className:"e-tbar-btn-text",innerHTML:"General"})),this.numFormatDDB=new YP({items:this.getNumFormatDdbItems(e),content:"",select:e=>this.numDDBSelect(e),open:e=>this.numDDBOpen(e),beforeItemRender:e=>this.previewNumFormat(e),close:()=>this.parent.element.focus(),cssClass:"e-flat e-numformat-ddb",beforeOpen:e=>this.tBarDdbBeforeOpen(e.element,e.items)}),this.numFormatDDB.createElement=this.parent.createElement,this.numFormatDDB.appendTo(t),t}getFontSizeDDB(e){return this.fontSizeDdb=new YP({cssClass:"e-font-size-ddb",content:"11",items:[{text:"8"},{text:"9"},{text:"10"},{text:"11"},{text:"12"},{text:"14"},{text:"16"},{text:"18"},{text:"20"},{text:"22"},{text:"24"},{text:"26"},{text:"28"},{text:"36"},{text:"48"},{text:"72"}],beforeOpen:e=>{this.tBarDdbBeforeOpen(e.element,e.items),this.refreshSelected(this.fontSizeDdb,e.element,"content","text")},select:e=>{let t={style:{fontSize:`${e.item.text}pt`},onActionUpdate:!0};this.parent.notify(iF,t),t.cancel||(this.fontSizeDdb.content=t.style.fontSize.split("pt")[0],this.fontSizeDdb.dataBind())},close:()=>this.parent.element.focus()}),this.fontSizeDdb.createElement=this.parent.createElement,this.fontSizeDdb.appendTo(this.parent.createElement("button",{id:e+"_font_size"})),this.fontSizeDdb.element}getBordersDBB(e){let t,n=this.parent.serviceLocator.getService(QB);this.bordersMenu=new lN({cssClass:"e-borders-menu",items:[{iconCss:"e-icons e-top-borders",text:n.getConstant("TopBorders"),id:`${e}-top-border`},{iconCss:"e-icons e-left-borders",text:n.getConstant("LeftBorders"),id:`${e}-left-border`},{iconCss:"e-icons e-right-borders",text:n.getConstant("RightBorders"),id:`${e}-right-border`},{iconCss:"e-icons e-bottom-borders",text:n.getConstant("BottomBorders"),id:`${e}-bottom-border`},{iconCss:"e-icons e-all-borders",text:n.getConstant("AllBorders"),id:`${e}-all-border`},{iconCss:"e-icons e-horizontal-borders",text:n.getConstant("HorizontalBorders"),id:`${e}-horizontal-border`},{iconCss:"e-icons e-vertical-borders",text:n.getConstant("VerticalBorders"),id:`${e}-vertical-border`},{iconCss:"e-icons e-outside-borders",text:n.getConstant("OutsideBorders"),id:`${e}-outside-border`},{iconCss:"e-icons e-inside-borders",text:n.getConstant("InsideBorders"),id:`${e}-inside-border`},{iconCss:"e-icons e-no-borders",text:n.getConstant("NoBorders"),id:`${e}-no-border`},{separator:!0,id:"border_separator"},{text:n.getConstant("BorderColor"),id:`${e}_border_color`,items:[{id:`${e}_border_colors`}]},{text:n.getConstant("BorderStyle"),id:`${e}-border-style`,items:[{iconCss:"e-icons e-selected-icon",id:`${e}_style_1px`},{id:`${e}_style_2px`},{id:`${e}_style_3px`},{id:`${e}_style_dashed`},{id:`${e}_style_dotted`},{id:`${e}_style_double`}]}],orientation:"Vertical",beforeOpen:e=>{"Border Color"===e.parentItem.text?(t=this.colorPicker.element.parentElement,e.element.firstElementChild.appendChild(t),t.style.display="inline-block",e.element.parentElement.classList.add("e-border-color")):e.element.classList.add("e-border-style")},beforeClose:n=>{if("Border Color"===n.parentItem.text){let i=n.event.target;if(GD(i,`#${e}_borders_menu`)||GD(i,".e-palette")||GD(i,".e-apply")||GD(i,".e-cancel")||n.event&&"mouseover"!==n.event.type&&!GD(i,".e-borders-menu"))return this.colorPicker.showButtons&&(this.colorPicker.showButtons=!1,this.colorPicker.refresh()),t.style.display="",void this.parent.element.appendChild(t);n.cancel=!0}},onOpen:e=>{"Border Color"===e.parentItem.text&&(e.element.parentElement.style.overflow="visible")},select:this.borderSelected.bind(this)}),this.bordersMenu.createElement=this.parent.createElement;let i=this.parent.element.appendChild(this.parent.createElement("ul",{id:e+"_borders_menu",styles:"display: none;"}));this.bordersMenu.appendTo(i),i.classList.add("e-ul");let s=this.parent.createElement("input",{id:`${e}_cell_border_color`,attrs:{type:"color"}});this.parent.element.appendChild(s),this.colorPicker=new DL({cssClass:"e-border-colorpicker",mode:"Palette",showButtons:!1,inline:!0,enableOpacity:!1,change:e=>{let t=this.border.split(" ");t[2]=e.currentValue.hex,this.border=t.join(" ")},beforeModeSwitch:e=>{LH(()=>{this.colorPicker.showButtons="Picker"===e.mode,this.colorPicker.dataBind()})},created:()=>{t=this.colorPicker.element.parentElement}}),this.colorPicker.createElement=this.parent.createElement,this.colorPicker.appendTo(s);let l=this.parent.element.appendChild(this.parent.createElement("button",{id:e+"_border_options",attrs:{title:n.getConstant("Borders")}}));return this.borderSplitBtn=new XP({iconCss:"e-icons e-all-borders",cssClass:"e-borders-ddb",target:this.bordersMenu.element.parentElement,created:()=>{this.bordersMenu.element.style.display="",YD(".e-dropdown-btn",l.parentElement).title=n.getConstant("SelectBorderOption")},click:()=>this.setBorder(this.borderSplitBtn.iconCss),beforeOpen:e=>this.tBarDdbBeforeOpen(e.element.firstElementChild,this.bordersMenu.items,1),beforeClose:e=>{e.event&&GD(e.event.target,".e-borders-menu")&&(e.cancel=!0)},close:()=>this.parent.element.focus()}),this.borderSplitBtn.createElement=this.parent.createElement,this.borderSplitBtn.appendTo(l),this.borderSplitBtn.element.parentElement}borderSelected(e){if(!e.item.items.length&&e.item.id!==`${this.parent.element.id}_border_colors`){if(e.item.id.includes("_style")){let t=this.parent.element.id,n=this.border.split(" "),i="solid"===n[1]?`${t}_style_${n[0]}`:`${t}_style_${n[1]}`;if(i===e.item.id)return;return e.item.id===`${t}_style_1px`||e.item.id===`${t}_style_2px`||e.item.id===`${t}_style_3px`?(n[0]=e.item.id.split(`${t}_style_`)[1],n[1]="solid"):(n[1]=e.item.id.split(`${t}_style_`)[1],n[0]="double"===n[1]?"3px":"1px"),this.border=n.join(" "),this.bordersMenu.items[12].items.forEach(t=>{t.id===i&&(t.iconCss=null),t.id===e.item.id&&(t.iconCss="e-icons e-selected-icon")}),void this.bordersMenu.setProperties({items:this.bordersMenu.items},!0)}this.borderSplitBtn.toggle(),this.setBorder(e.item.iconCss)}}setBorder(e){switch(this.parent.showSpinner(),this.borderSplitBtn.iconCss=e,this.borderSplitBtn.dataBind(),e){case"e-icons e-top-borders":this.parent.notify(iF,{style:{borderTop:this.border},onActionUpdate:!0});break;case"e-icons e-left-borders":this.parent.notify(iF,{style:{borderLeft:this.border},onActionUpdate:!0});break;case"e-icons e-right-borders":this.parent.notify(iF,{style:{borderRight:this.border},onActionUpdate:!0});break;case"e-icons e-bottom-borders":this.parent.notify(iF,{style:{borderBottom:this.border},onActionUpdate:!0});break;case"e-icons e-all-borders":this.parent.notify(iF,{style:{border:this.border},onActionUpdate:!0});break;case"e-icons e-horizontal-borders":this.parent.notify(iF,{style:{border:this.border},onActionUpdate:!0,borderType:"Horizontal"});break;case"e-icons e-vertical-borders":this.parent.notify(iF,{style:{border:this.border},onActionUpdate:!0,borderType:"Vertical"});break;case"e-icons e-outside-borders":this.parent.notify(iF,{style:{border:this.border},onActionUpdate:!0,borderType:"Outer"});break;case"e-icons e-inside-borders":this.parent.notify(iF,{style:{border:this.border},onActionUpdate:!0,borderType:"Inner"});break;case"e-icons e-no-borders":this.parent.notify(iF,{style:{border:""},onActionUpdate:!0})}this.parent.hideSpinner()}getFontNameDDB(e){let t=this.parent.createElement("button",{id:e+"_font_name"});return t.appendChild(this.parent.createElement("span",{className:"e-tbar-btn-text",innerHTML:"Calibri"})),this.fontNameDdb=new YP({cssClass:"e-font-family",items:this.getFontFamilyItems(),select:e=>{let t={style:{fontFamily:e.item.text},onActionUpdate:!0};this.parent.notify(iF,t),t.cancel||this.refreshFontNameSelection(t.style.fontFamily)},close:()=>this.parent.element.focus(),beforeOpen:e=>this.tBarDdbBeforeOpen(e.element,e.items)}),this.fontNameDdb.createElement=this.parent.createElement,this.fontNameDdb.appendTo(t),t}getBtn(e,t,n=!0){let i=new EM({iconCss:`e-icons e-${t}-icon`,isToggle:!0});return i.createElement=this.parent.createElement,i.appendTo(this.parent.createElement("button",{id:`${e}_${t}`})),n&&i.element.addEventListener("click",this.toggleBtnClicked.bind(this)),i.element}datavalidationDDB(e){let t=this.parent.serviceLocator.getService(QB);return this.datavalidationDdb=new YP({cssClass:"e-datavalidation-ddb",iconCss:"e-datavalidation-icon e-icons",items:[{text:t.getConstant("DataValidation")},{text:t.getConstant("HighlightInvalidData")},{text:t.getConstant("ClearHighlight")},{text:t.getConstant("ClearValidation")}],beforeOpen:e=>{this.refreshSelected(this.datavalidationDdb,e.element,"iconCss")},select:e=>{switch(e.item.text){case t.getConstant("DataValidation"):this.parent.notify("initiatedatavalidation",null);break;case t.getConstant("HighlightInvalidData"):this.parent.notify("invalidData",{isRemoveHighlight:!1});break;case t.getConstant("ClearHighlight"):this.parent.notify("invalidData",{isRemoveHighlight:!0});break;case t.getConstant("ClearValidation"):this.parent.notify("removeDataValidation",null);break;default:let n=e.item.text===t.getConstant("SortAscending")?"Ascending":"Descending";this.parent.notify("applySort",{sortOptions:{sortDescriptors:{order:n}}})}},close:()=>this.parent.element.focus()}),this.datavalidationDdb.createElement=this.parent.createElement,this.datavalidationDdb.appendTo(this.parent.createElement("button",{id:e+"_datavalidation"})),this.datavalidationDdb.element}getTextAlignDDB(e){return this.textAlignDdb=new YP({cssClass:"e-align-ddb",iconCss:"e-icons e-left-icon",items:[{iconCss:"e-icons e-left-icon"},{iconCss:"e-icons e-center-icon"},{iconCss:"e-icons e-right-icon"}],beforeItemRender:this.alignItemRender.bind(this),beforeOpen:e=>{this.refreshSelected(this.textAlignDdb,e.element,"iconCss")},select:e=>{let t={style:{textAlign:e.item.iconCss.split(" e-")[1].split("-icon")[0]},onActionUpdate:!0};this.parent.notify(iF,t),t.cancel||(this.textAlignDdb.iconCss=`e-icons e-${t.style.textAlign}-icon`,this.textAlignDdb.dataBind())},close:()=>this.parent.element.focus()}),this.textAlignDdb.createElement=this.parent.createElement,this.textAlignDdb.appendTo(this.parent.createElement("button",{id:e+"_text_align"})),this.textAlignDdb.element}getVerticalAlignDDB(e){return this.verticalAlignDdb=new YP({cssClass:"e-align-ddb",iconCss:"e-icons e-bottom-icon",items:[{iconCss:"e-icons e-top-icon"},{iconCss:"e-icons e-middle-icon"},{iconCss:"e-icons e-bottom-icon"}],beforeItemRender:this.alignItemRender.bind(this),beforeOpen:e=>{this.refreshSelected(this.verticalAlignDdb,e.element,"iconCss")},select:e=>{let t={style:{verticalAlign:e.item.iconCss.split(" e-")[1].split("-icon")[0]},onActionUpdate:!0};this.parent.notify(iF,t),t.cancel||(this.verticalAlignDdb.iconCss=`e-icons e-${t.style.verticalAlign}-icon`,this.verticalAlignDdb.dataBind())},close:()=>this.parent.element.focus()}),this.verticalAlignDdb.createElement=this.parent.createElement,this.verticalAlignDdb.appendTo(this.parent.createElement("button",{id:e+"_vertical_align"})),this.verticalAlignDdb.element}getMergeSplitBtn(e){this.parent.element.appendChild(this.parent.createElement("button",{id:e+"_merge"}));let t,n,i=this.parent.serviceLocator.getService(QB);return this.mergeSplitBtn=new XP({cssClass:"e-merge-ddb",iconCss:"e-icons e-merge-icon",items:[{text:i.getConstant("MergeAll"),id:`${e}_merge_all`},{text:i.getConstant("MergeHorizontally"),id:`${e}_merge_horizontally`},{text:i.getConstant("MergeVertically"),id:`${e}_merge_vertically`},{separator:!0,id:`${e}_merge_separator`},{text:i.getConstant("Unmerge"),id:`${e}_unmerge`}],select:e=>{t=!1,e.item.id===`${this.parent.element.id}_unmerge`?this.unMerge():this.merge(e.item.id)},beforeOpen:()=>{t=this.mergeSplitBtn.element.classList.contains("e-active"),n=this.parent.getActiveSheet().activeCell},close:()=>{t&&n===this.parent.getActiveSheet().activeCell&&this.mergeSplitBtn.element.classList.add("e-active"),n=null,this.parent.element.focus()},click:e=>{t=!1,e.element.classList.contains("e-active")?(this.toggleActiveState(!1),this.unMerge()):(this.toggleActiveState(!0),this.merge(`${this.parent.element.id}_merge_all`))},created:()=>{this.mergeSplitBtn.element.title=i.getConstant("MergeCells"),this.mergeSplitBtn.element.nextElementSibling.title=i.getConstant("SelectMergeType")}}),this.mergeSplitBtn.createElement=this.parent.createElement,this.mergeSplitBtn.appendTo("#"+e+"_merge"),this.mergeSplitBtn.element.parentElement}unMerge(){this.parent.showSpinner(),this.parent.notify(rF,{merge:!1,range:this.parent.getActiveSheet().selectedRange,isAction:!0,refreshRibbon:!0,type:"All"}),this.parent.hideSpinner()}merge(e){let t,n,i=this.parent.getActiveSheet(),s=zR(i.selectedRange);for(let r=s[0];r<=s[2];r++)for(let l=s[1];l<=s[3];l++)r===s[0]&&l===s[1]&&e.includes("merge_all")||r===s[0]&&e.includes("merge_vertically")||l===s[1]&&e.includes("_merge_horizontally")||(t=oH(r,l,i)||{},(t.value||t.formula)&&(n=!0));if(!n)return void this.performMerge(e);let l=this.parent.serviceLocator.getService(eV);l.show({target:this.parent.element,height:200,width:400,isModal:!0,showCloseIcon:!0,content:this.parent.serviceLocator.getService(QB).getConstant("MergeCellsAlert"),beforeOpen:()=>this.parent.element.focus(),buttons:[{buttonModel:{content:this.parent.serviceLocator.getService(QB).getConstant("Ok"),isPrimary:!0},click:()=>{l.hide(),this.performMerge(e)}}]})}performMerge(e){let t=this.parent.element.id;switch(this.parent.showSpinner(),e){case`${t}_merge_all`:this.parent.notify(rF,{merge:!0,range:this.parent.getActiveSheet().selectedRange,type:"All",isAction:!0,refreshRibbon:!0});break;case`${t}_merge_horizontally`:this.parent.notify(rF,{merge:!0,range:this.parent.getActiveSheet().selectedRange,type:"Horizontally",isAction:!0});break;case`${t}_merge_vertically`:this.parent.notify(rF,{merge:!0,range:this.parent.getActiveSheet().selectedRange,type:"Vertically",isAction:!0})}this.parent.hideSpinner()}getSortFilterDDB(e){let t=this.parent.serviceLocator.getService(QB);return this.sortingDdb=new YP({cssClass:"e-sort-filter-ddb",iconCss:"e-icons e-sort-filter-icon",items:[{text:t.getConstant("SortAscending"),iconCss:"e-icons e-sort-asc"},{text:t.getConstant("SortDescending"),iconCss:"e-icons e-sort-desc"},{text:t.getConstant("CustomSort")+"...",iconCss:"e-icons e-sort-custom"},{separator:!0},{text:t.getConstant("Filter"),iconCss:"e-icons e-filter-apply",id:e+"_applyfilter"},{text:t.getConstant("ClearAllFilter"),iconCss:"e-icons e-filter-clear",id:e+"_clearfilter"},{text:t.getConstant("ReapplyFilter"),iconCss:"e-icons e-filter-reapply",id:e+"_reapplyfilter"}],beforeItemRender:t=>{let n={isFiltered:!1,isClearAll:!0};this.parent.notify("getFilteredColumn",n),t.item.id!==e+"_clearfilter"&&t.item.id!==e+"_reapplyfilter"||(n.isFiltered?t.element.classList.remove("e-disabled"):t.element.classList.add("e-disabled"))},beforeOpen:e=>{this.refreshSelected(this.sortingDdb,e.element,"iconCss")},select:e=>{switch(e.item.text){case t.getConstant("Filter"):this.parent.applyFilter();break;case t.getConstant("ClearAllFilter"):this.parent.clearFilter();break;case t.getConstant("ReapplyFilter"):this.parent.notify("reapplyFilter",null);break;case t.getConstant("CustomSort")+"...":this.parent.notify("initiateCustomSort",null);break;default:let n=e.item.text===t.getConstant("SortAscending")?"Ascending":"Descending";this.parent.notify("applySort",{sortOptions:{sortDescriptors:{order:n}}})}},close:()=>this.parent.element.focus()}),this.sortingDdb.createElement=this.parent.createElement,this.sortingDdb.appendTo(this.parent.createElement("button",{id:e+"_sorting"})),this.sortingDdb.element}getFindDDb(e){let t=this.parent.createElement("button",{id:e+"_findbtn"});return this.findDdb=new EM({cssClass:"e-spreadsheet-find-ddb e-caret-hide",iconCss:"e-icons e-search-icon"}),this.findDdb.createElement=this.parent.createElement,this.findDdb.appendTo(t),t.onclick=()=>{this.findToolDlg()},this.findDdb.element}findToolDlg(){let e;if(UO(this.parent.element.querySelector(".e-findtool-dlg"))){let t,n=this.parent.createElement("div",{className:"e-input-group"}),i=this.parent.createElement("input",{className:"e-input e-text-findNext-short",attrs:{type:"Text",value:this.findValue}});i.setAttribute("placeholder","FindValue");let s=this.parent.createElement("span",{className:"e-input-group-icon"});i.onkeyup=()=>{e={countOpt:"count",findCount:""},this.parent.notify("findHandler",{countArgs:e}),s.textContent=e.findCount;let n=e.findCount.split("of"),i=document.querySelector(".e-text-findNext-short").value,l=document.querySelector(".e-findRib-next"),r=document.querySelector(".e-findRib-prev");UO(i)||""===i||"0"===n[1]?(t.enableItems(l,!1),t.enableItems(r,!1)):UO(i)&&"0"===n[1]||(t.enableItems(l,!0),t.enableItems(r,!0))},i.onkeydown=t=>{e={countOpt:"count",findCount:""},this.parent.notify("findHandler",{countArgs:e}),this.findOnKeyDown(t,e.findCount)},n.appendChild(i),n.appendChild(s),t=new eN({clicked:e=>{"e-findRib-next"===e.item.cssClass?this.parent.notify("findHandler",{findOption:"next"}):"e-findRib-prev"===e.item.cssClass?this.parent.notify("findHandler",{findOption:"prev"}):"e-findRib-more"===e.item.cssClass&&(this.parent.notify(yF,null),this.findDialog.hide())},width:"auto",height:"auto",items:[{type:"Input",template:n},{prefixIcon:"e-icons e-prev-icon",tooltipText:"Find Previous",type:"Button",cssClass:"e-findRib-prev",disabled:!0},{prefixIcon:"e-icons e-next-icon",tooltipText:"Find Next",type:"Button",cssClass:"e-findRib-next",disabled:!0},{type:"Separator"},{prefixIcon:"e-icons e-option-icon",tooltipText:"More Options",type:"Button",cssClass:"e-findRib-more"},{prefixIcon:"e-icons e-close",tooltipText:"Close",type:"Button",cssClass:"e-findRib-close"}],cssClass:"e-find-toolObj"});let l=this.parent.createElement("div",{className:"e-find-toolbar"}),r=this.parent.createElement("div",{className:"e-dlg-div"});this.findDialog=new CP({isModal:!1,showCloseIcon:!1,cssClass:"e-findtool-dlg",content:l,visible:!1,allowDragging:!0,target:this.parent.element.querySelector(".e-main-panel"),beforeOpen:()=>{zI.add(document,"click",this.closeDialog,this)},open:()=>{this.textFocus(t.element)},beforeClose:()=>{this.findValue=this.parent.element.querySelector(".e-text-findNext-short").value,t.destroy();let e=document.querySelector(".e-find-toolbar");zI.remove(e,"focus",this.textFocus),zI.remove(document,"click",this.closeDialog),this.parent.element.focus()},created:()=>{t.createElement=this.parent.createElement,t.appendTo(l),this.findDialog.width=getComputedStyle(document.querySelector(".e-findtool-dlg")).width;let e=this.parent.element.querySelector(".e-main-panel").getBoundingClientRect().width-parseInt(this.findDialog.width.toString(),10)-14;this.findDialog.position={X:e,Y:this.parent.sheets[this.parent.activeSheetIndex].showHeaders?31:0},this.findDialog.dataBind(),this.findDialog.show()}}),this.findDialog.createElement=this.parent.createElement,this.findDialog.appendTo(r)}else UO(this.parent.element.querySelector(".e-findtool-dlg"))||(this.findDialog.hide(),qD(this.parent.element.querySelector(".e-findtool-dlg")),this.findDialog=null,this.parent.element.focus())}findOnKeyDown(e,t){document.querySelector(".e-text-findNext-short").value&&"0"!==t.split("of")[1]&&(e.shiftKey?13===e.keyCode&&this.parent.notify("findHandler",{findOption:"prev"}):13===e.keyCode&&this.parent.notify("findHandler",{findOption:"next"}))}closeDialog(e){!GD(e.target,".e-findRib-close")&&GD(e.target,".e-spreadsheet")||UO(this.findDialog)||(this.findDialog.hide(),qD(this.parent.element.querySelector(".e-findtool-dlg")),this.findDialog=null)}textFocus(e){document.querySelector(".e-find-toolbar").addEventListener("focus",()=>{let e=document.querySelector(".e-text-findNext-short");e.focus(),e.classList.add("e-input-focus"),e.setSelectionRange(0,e.value.length)})}ribbonCreated(){this.ribbon.element.querySelector(".e-drop-icon").title=this.parent.serviceLocator.getService(QB).getConstant("CollapseToolbar")}alignItemRender(e){let t=e.item.iconCss.split(" e-")[1].split("-icon")[0];t=t[0].toUpperCase()+t.slice(1,t.length),e.element.title=this.parent.serviceLocator.getService(QB).getConstant("Align"+t)}toggleBtnClicked(e){let t,n,i,s,l,r=GD(e.target,".e-btn"),a=this.parent.element.id,o=iF;switch(r.id){case`${a}_bold`:n={fontWeight:"normal"},i={fontWeight:"bold"},l="fontWeight";break;case`${a}_italic`:n={fontStyle:"normal"},i={fontStyle:"italic"},l="fontStyle";break;case`${a}_line-through`:o="textDecorationUpdate",n={textDecoration:"line-through"},i=n,l="textDecoration";break;case`${a}_underline`:o="textDecorationUpdate",n={textDecoration:"underline"},i=n,l="textDecoration"}r.classList.contains("e-active")?(t=i[l],s={style:i,onActionUpdate:!0},this.parent.notify(o,s),s.cancel&&r.classList.remove("e-active")):(t=n[l],s={style:n,onActionUpdate:!0},this.parent.notify(o,s),s.cancel&&r.classList.add("e-active")),s.cancel||t===s.style[l]||this.refreshToggleBtn(qR(this.parent.getActiveSheet().activeCell)),this.parent.element.focus()}getCellStyleValue(e,t){let n=oH(t[0],t[1],this.parent.getActiveSheet()),i=this.parent.cellStyle[e];return n&&n.style&&n.style[e]&&(i=n.style[e]),i}refreshSelected(e,t,n,i=n){for(let s=0;s<e.items.length;s++)if(e.items[s][i]===e[n]){t.children[s].classList.add("e-selected");break}}expandCollapseHandler(e){let t=this.ribbon.element.querySelector(".e-drop-icon"),n=this.parent.serviceLocator.getService(QB);t.title=n.getConstant(e.expanded?"CollapseToolbar":"ExpandToolbar"),this.parent.setPanelSize()}getNumFormatDdbItems(e){let t=this.parent.serviceLocator.getService(QB);return[{id:e+"item1",text:t.getConstant("General")},{id:e+"item2",text:t.getConstant("Number")},{id:e+"item3",text:t.getConstant("Currency")},{id:e+"item4",text:t.getConstant("Accounting")},{id:e+"item5",text:t.getConstant("ShortDate")},{id:e+"item6",text:t.getConstant("LongDate")},{id:e+"item7",text:t.getConstant("Time")},{id:e+"item8",text:t.getConstant("Percentage")},{id:e+"item9",text:t.getConstant("Fraction")},{id:e+"item10",text:t.getConstant("Scientific")},{id:e+"item11",text:t.getConstant("Text")}]}getFontFamilyItems(){return[{text:"Arial"},{text:"Arial Black"},{text:"Axettac Demo"},{text:"Batang"},{text:"Book Antiqua"},{text:"Calibri",iconCss:"e-icons e-selected-icon"},{text:"Courier"},{text:"Courier New"},{text:"Din Condensed"},{text:"Georgia"},{text:"Helvetica"},{text:"Helvetica New"},{text:"Roboto"},{text:"Tahoma"},{text:"Times New Roman"},{text:"Verdana"}]}numDDBSelect(e){let t={format:oF(e.item.text),range:this.parent.getActiveSheet().selectedRange,cancel:!1,requestType:"NumberFormat"},n={range:this.parent.getActiveSheet().name+"!"+t.range,format:t.format,requestType:"NumberFormat"};this.parent.trigger("beforeCellFormat",t),this.parent.notify(bF,{eventArgs:t,action:"format"}),t.cancel||(this.parent.notify("applyNumber",t),this.parent.notify("selectionComplete",{type:"mousedown"}),this.refreshNumFormatSelection(e.item.text),this.parent.notify(gF,{eventArgs:n,action:"format"}))}tBarDdbBeforeOpen(e,t,n=0){let i=this.parent.viewport.height,s=parseInt(getComputedStyle(e.firstElementChild).height,10)*(t.length-n)+2*parseInt(getComputedStyle(e).paddingTop,10);if(n){let t=getComputedStyle(e.querySelector(".e-separator"));s+=n*(parseInt(t.borderBottomWidth,10)+2*parseInt(t.marginTop,10))}s>i?(e.style.height=`${i}px`,e.style.overflowY="auto"):e.style.height&&(e.style.height="",e.style.overflowY="")}numDDBOpen(e){this.numPopupWidth=0;let t=e.element.querySelectorAll("span.e-numformat-preview-text");for(let i=0,s=t.length;i<s;i++)this.numPopupWidth<t[i].offsetWidth&&(this.numPopupWidth=t[i].offsetWidth);let n=this.numPopupWidth+160;document.querySelector(".e-numformat-ddb.e-dropdown-popup").style.width=`${n}px`}previewNumFormat(e){let t=qR(this.parent.getActiveSheet().activeCell),n=oH(t[0],t[1],this.parent.getActiveSheet()),i={type:e.item.text,formattedText:"",value:n&&n.value?n.value:"",format:oF(e.item.text),sheetIndex:this.parent.activeSheetIndex,onLoad:!0},s=this.parent.createElement("div",{className:"e-numformat-text",styles:"width:100%",innerHTML:e.element.innerHTML});e.element.innerHTML="",this.parent.notify("getFormattedCell",i);let l=this.parent.createElement("span",{className:"e-numformat-preview-text",styles:"float:right;",innerHTML:i.formattedText.toString()});s.appendChild(l),e.element.appendChild(s)}refreshRibbonContent(e){if(!this.ribbon)return;UO(e)&&(e=this.ribbon.selectedTab);let t=this.parent.serviceLocator.getService(QB),n=this.parent.getActiveSheet();switch(this.ribbon.items[e].header.text){case t.getConstant("Home"):this.refreshHomeTabContent(qR(n.activeCell));break;case t.getConstant("Insert"):case t.getConstant("Formulas"):break;case t.getConstant("Data"):this.refreshDataTabContent(e);break;case t.getConstant("View"):this.refreshViewTabContent(e)}}refreshHomeTabContent(e){UO(document.getElementById(this.parent.element.id+"_number_format"))||(this.numFormatDDB=eA(document.getElementById(this.parent.element.id+"_number_format"),YP));let t=this.parent.getActiveSheet(),n=qR(this.parent.getActiveSheet().activeCell),i=this.parent.serviceLocator.getService(QB),s=oH(n[0],n[1],this.parent.getActiveSheet())||{},l=hF(s.format?s.format:"General");if(this.numFormatDDB&&(t.isProtected&&!t.protectSettings.formatCells?(l="General",this.refreshNumFormatSelection(l)):this.refreshNumFormatSelection(i.getConstant(l))),this.fontNameDdb&&this.refreshFontNameSelection(t.isProtected&&!t.protectSettings.formatCells?"Calibri":this.getCellStyleValue("fontFamily",e)),this.fontSizeDdb){let n=this.getCellStyleValue("fontSize",e);t.isProtected&&!t.protectSettings.formatCells?this.fontSizeDdb.content="11":(n=n.includes("pt")?n.split("pt")[0]:"11",n!==this.fontSizeDdb.content&&(this.fontSizeDdb.content=n,this.fontSizeDdb.dataBind()))}if(this.textAlignDdb){let n=this.getCellStyleValue("textAlign",e);if(t.isProtected&&!t.protectSettings.formatCells)this.textAlignDdb.iconCss="e-icons e-left-icon";else{void 0===s.value||"left"!==n||"Accounting"!==l&&!nF(s.value)||(n="right");let e=`e-icons e-${n.toLowerCase()}-icon`;e!==this.textAlignDdb.iconCss&&(this.textAlignDdb.iconCss=e,this.textAlignDdb.dataBind())}}if(this.verticalAlignDdb){let n=`e-icons e-${this.getCellStyleValue("verticalAlign",e).toLowerCase()}-icon`;t.isProtected&&!t.protectSettings.formatCells?this.verticalAlignDdb.iconCss="e-icons e-bottom-icon":n!==this.verticalAlignDdb.iconCss&&(this.verticalAlignDdb.iconCss=n,this.verticalAlignDdb.dataBind())}if(this.refreshToggleBtn(e),!t.isProtected&&(s.rowSpan>1||s.colSpan>1))this.enableToolbarItems([{tab:i.getConstant("Home"),items:[`${this.parent.element.id}_merge_cells`],enable:!0}]),this.toggleActiveState(!0);else{let e=zR(t.selectedRange);this.enableToolbarItems([{tab:i.getConstant("Home"),items:[`${this.parent.element.id}_merge_cells`],enable:e[0]!==e[2]||e[1]!==e[3]}]),this.toggleActiveState(!1)}}toggleActiveState(e){let t=this.parent.serviceLocator.getService(QB);this.parent.getActiveSheet().isProtected||(e?(this.mergeSplitBtn.element.classList.add("e-active"),this.mergeSplitBtn.element.title=t.getConstant("UnmergeCells")):(this.mergeSplitBtn.element.classList.contains("e-active")&&this.mergeSplitBtn.element.classList.remove("e-active"),this.mergeSplitBtn.element.title=t.getConstant("MergeCells")))}refreshToggleBtn(e){let t,n,i,s=this.parent.getActiveSheet(),l=this.parent.element.id,r=oH(e[0],e[1],s),a=["fontWeight","fontStyle","textDecoration","textDecoration"];["bold","italic","line-through","underline","wrap"].forEach((o,h)=>{t=document.getElementById(`${l}_${o}`),t&&(s.isProtected&&!s.protectSettings.formatCells?t.classList.remove("e-active"):"wrap"===o?i=r&&r.wrap:(n=this.getCellStyleValue(a[h],e).toLowerCase(),i=n.indexOf(o)>-1),i?t.classList.add("e-active"):t.classList.contains("e-active")&&t.classList.remove("e-active"))})}refreshFontNameSelection(e){if(e!==this.fontNameDdb.items[this.fontNameIndex].text){this.fontNameDdb.element.firstElementChild.textContent=e;for(let t=0;t<this.fontNameDdb.items.length;t++)if(this.fontNameDdb.items[t].text===e){this.fontNameDdb.items[t].iconCss="e-icons e-selected-icon",this.fontNameDdb.items[this.fontNameIndex].iconCss="",this.fontNameDdb.setProperties({items:this.fontNameDdb.items},!0),this.fontNameIndex=t;break}}}refreshNumFormatSelection(e){this.parent.serviceLocator.getService(QB);for(let t=0;t<this.numFormatDDB.items.length;t++)""!==this.numFormatDDB.items[t].iconCss&&(this.numFormatDDB.items[t].iconCss=""),this.numFormatDDB.items[t].text===e&&(this.numFormatDDB.items[t].iconCss="e-icons e-selected-icon");this.numFormatDDB.element.firstElementChild.textContent=e,this.numFormatDDB.setProperties({items:this.numFormatDDB.items},!0)}fileMenuItemSelect(e){let t=qO({cancel:!1},e);this.parent.trigger("fileMenuItemSelect",t);let n=this.parent.element.id;if(!t.cancel)switch(e.item.id){case`${n}_Open`:this.parent.element.querySelector("#"+n+"_fileUpload").click();break;case`${n}_Xlsx`:case`${n}_Xls`:case`${n}_Csv`:this.parent.save({saveType:e.item.id.split(`${n}_`)[1]});break;case`${n}_New`:let t=this.parent.serviceLocator.getService(eV);t.show({height:200,width:400,isModal:!0,showCloseIcon:!0,content:this.parent.serviceLocator.getService(QB).getConstant("DestroyAlert"),beforeOpen:()=>this.parent.element.focus(),buttons:[{buttonModel:{content:this.parent.serviceLocator.getService(QB).getConstant("Ok"),isPrimary:!0},click:()=>{t.hide(),this.blankWorkbook()}}]})}}toolbarClicked(e){if("spreadsheet_find"!==e.item.id){let t=this.parent.element.id,n=this.parent.getActiveSheet();switch(e.item.id){case t+"_headers":let e={isShow:!n.showHeaders,sheetIdx:this.parent.activeSheetIndex,cancel:!1};if(this.parent.notify(gF,{eventArgs:e,action:"headers"}),e.cancel)return;n.showHeaders=!n.showHeaders,this.parent.serviceLocator.getService("sheet").showHideHeaders(),this.toggleRibbonItems({props:"Headers",activeTab:this.ribbon.selectedTab}),this.parent.element.focus();break;case t+"_gridlines":let i={isShow:!n.showGridLines,sheetIdx:this.parent.activeSheetIndex,cancel:!1};if(this.parent.notify(gF,{eventArgs:i,action:"gridLines"}),i.cancel)return;n.showGridLines=!n.showGridLines,this.toggleRibbonItems({props:"GridLines",activeTab:this.ribbon.selectedTab}),this.parent.element.focus();break;case t+"_protect":n.isProtected=!n.isProtected,this.parent.setProperties({sheets:this.parent.sheets},!0);let s=!1;s=!n.isProtected,this.parent.notify("applyProtect",{isActive:s,id:t+"_protect"});break;case t+"_undo":this.parent.notify("performUndoRedo",{isUndo:!0});break;case t+"_redo":this.parent.notify("performUndoRedo",{isUndo:!1})}this.parent.notify("ribboClick",e)}}toggleRibbonItems(e){let t=this.parent.serviceLocator.getService(QB).getConstant("View"),n=this.parent.serviceLocator.getService(QB).getConstant("Data");if(this.ribbon.items[this.ribbon.selectedTab].header.text===t){if(UO(e.activeTab))for(let r=0,a=this.ribbon.items.length;r<a;r++)if(this.ribbon.items[r].header.text===t){e.activeTab=r;break}let n,i=this.getLocaleText(e.props,!0),s=`${this.parent.element.id}_${e.props.toLowerCase()}`,l=this.ribbon.items[e.activeTab].content.length;for(;n<l;n++)"Separator"!==this.ribbon.items[e.activeTab].content[n].type&&this.ribbon.items[e.activeTab].content[n].id===s&&(this.ribbon.items[e.activeTab].content[n].text=i,this.ribbon.setProperties({items:this.ribbon.items},!0));this.ribbon.items[this.ribbon.selectedTab].header.text===t&&this.updateToggleText(e.props.toLowerCase(),i)}if(this.ribbon.items[this.ribbon.selectedTab].header.text===n){if(UO(e.activeTab))for(let r=0,a=this.ribbon.items.length;r<a;r++)if(this.ribbon.items[r].header.text===n){e.activeTab=r;break}let t,i=this.getLocaleProtectText("Sheet",!0),s=`${this.parent.element.id}_${e.props.toLowerCase()}`,l=this.ribbon.items[e.activeTab].content.length;for(;t<l;t++)"Separator"!==this.ribbon.items[e.activeTab].content[t].type&&this.ribbon.items[e.activeTab].content[t].id===s&&(this.ribbon.items[e.activeTab].content[t].text=i,this.ribbon.setProperties({items:this.ribbon.items},!0));this.ribbon.items[this.ribbon.selectedTab].header.text===n&&this.updateToggleText(e.props.toLowerCase(),i)}}enableFileMenuItems(e){this.ribbon.enableMenuItems(e.items,e.enable,e.isUniqueId)}hideRibbonTabs(e){this.ribbon.hideTabs(e.tabs,e.hide)}addRibbonTabs(e){this.ribbon.addTabs(e.items,e.insertBefore),YD(".e-ribbon .e-tab-header .e-toolbar-item:not(.e-menu-tab).e-hide",this.parent.element)&&this.parent.updateActiveBorder($D(".e-ribbon .e-tab-header .e-toolbar-item:not(.e-menu-tab)",this.parent.element)[this.ribbon.selectedTab])}updateToggleText(e,t){LH(()=>{this.ribbon.element.querySelector(`#${this.parent.element.id}_${e} .e-tbar-btn-text`).textContent=t})}refreshViewTabContent(e){let t,n=this.parent.element.id;for(let i=0;i<this.ribbon.items[e].content.length;i++)if("Separator"!==this.ribbon.items[e].content[i].type){if(this.ribbon.items[e].content[i].id===`${n}_headers`){if(this.updateViewTabContent(e,"Headers",i),t)break;t=!0}if(this.ribbon.items[e].content[i].id===`${n}_gridlines`){if(this.updateViewTabContent(e,"GridLines",i),t)break;t=!0}}}updateViewTabContent(e,t,n){let i=this.parent.getActiveSheet(),s=this.parent.serviceLocator.getService(QB);i["show"+t]?this.ribbon.items[e].content[n].text===s.getConstant("Show"+t)&&this.updateShowHideBtn("Hide",t,n,e):this.ribbon.items[e].content[n].text===s.getConstant("Hide"+t)&&this.updateShowHideBtn("Show",t,n,e)}updateShowHideBtn(e,t,n,i){let s=this.parent.serviceLocator.getService(QB).getConstant(e+t);this.ribbon.items[i].content[n].text=s,this.ribbon.setProperties({items:this.ribbon.items},!0),this.updateToggleText(t.toLowerCase(),s)}refreshDataTabContent(e){let t,n=this.parent.element.id;for(let i=0;i<this.ribbon.items[e].content.length;i++)if("Separator"!==this.ribbon.items[e].content[i].type&&this.ribbon.items[e].content[i].id===`${n}_protect`){if(this.updateDataTabContent(e,"Sheet",i),t)break;t=!0}}updateDataTabContent(e,t,n){let i=this.parent.getActiveSheet(),s=this.parent.serviceLocator.getService(QB);i.isProtected?this.ribbon.items[e].content[n].text===s.getConstant("Protect"+t)&&(this.ribbon.items[e].content[n].cssClass="e-active",this.updateProtectBtn("Unprotect",t,n,e)):this.updateProtectBtn("Protect",t,n,e)}updateProtectBtn(e,t,n,i){let s=this.parent.serviceLocator.getService(QB).getConstant(e+t);this.ribbon.items[i].content[n].text=s,this.ribbon.setProperties({items:this.ribbon.items},!0),this.updateToggleText("protect",s)}addToolbarItems(e){this.ribbon.addToolbarItems(e.tab,e.items,e.index)}enableToolbarItems(e){e.forEach(e=>{this.ribbon.enableItems(e.tab||this.ribbon.items[this.ribbon.selectedTab].header.text,e.items,e.enable)})}createMobileView(){let e=this.parent.element.id,t=this.parent.createElement("div",{className:"e-header-toolbar"}),n=this.parent.createElement("ul");t.appendChild(n);let i=new eN({items:[{prefixIcon:"e-tick-icon",align:"Left",id:e+"focused_tick",cssClass:"e-focused-tick"},{template:n,align:"Right",id:e+"file_menu"}],clicked:t=>{switch(t.item.id){case e+"focused_tick":this.parent.element.classList.remove("e-mobile-focused"),this.parent.renderModule.setSheetPanelSize()}},created:()=>{let e=new lN({cssClass:"e-mobile e-file-menu",enableRtl:!0,showItemOnClick:!0,items:this.getRibbonMenuItems(),select:this.fileMenuItemSelect.bind(this),beforeOpen:e=>{e.element.parentElement.classList.remove("e-rtl"),this.fileMenuBeforeOpen(e)},beforeClose:this.fileMenuBeforeClose.bind(this)});e.createElement=this.parent.createElement,e.appendTo(n)}});i.createElement=this.parent.createElement,i.appendTo(t),this.parent.element.insertBefore(t,this.parent.element.firstElementChild),this.renderMobileToolbar()}renderMobileToolbar(){let e=this.parent.createElement("div",{className:"e-toolbar-panel e-ribbon"}),t=this.parent.createElement("div"),n=this.parent.createElement("button");e.appendChild(t),e.appendChild(n),e.style.display="block",this.parent.element.appendChild(e);let i=new YP({cssClass:"e-caret-hide",content:this.ribbon.items[0].header.text,items:[{text:this.ribbon.items[0].header.text},{text:this.ribbon.items[1].header.text},{text:this.ribbon.items[2].header.text},{text:this.ribbon.items[3].header.text}],select:e=>{e.item.text!==i.content&&(s.element.style.display="none",i.content=e.item.text,i.dataBind(),s.items=this.ribbon.items[i.items.indexOf(e.item)+1].content,s.width=`calc(100% - ${n.getBoundingClientRect().width}px)`,s.element.style.display="",s.dataBind(),s.items[0].text=e.item.text,s.dataBind())},open:e=>{let t=e.element.parentElement,n=t.getBoundingClientRect(),s=JM(i.element,"right","bottom");t.style.left=`${s.left-n.width}px`,t.style.top=`${s.top-n.height}px`;for(let l=0;l<i.items.length;l++)if(i.content===i.items[l].text){e.element.children[l].classList.add("e-selected");break}},close:()=>this.parent.element.focus()});i.createElement=this.parent.createElement,i.appendTo(n);let s=new eN({width:`calc(100% - ${n.getBoundingClientRect().width}px)`,items:this.ribbon.items[0].content,clicked:this.toolbarClicked.bind(this)});s.createElement=this.parent.createElement,s.appendTo(t),e.style.display=""}fileMenuBeforeOpen(e){let t,n=this.parent.serviceLocator.getService(QB),i=[".xlsx",".xls",".csv"];e.parentItem.text===n.getConstant("SaveAs")&&[].slice.call(e.element.children).forEach((e,n)=>{t=this.parent.createElement("div",{innerHTML:e.innerHTML}),e.innerHTML="",t.appendChild(this.parent.createElement("span",{className:"e-extension",innerHTML:i[n]})),e.appendChild(t)}),this.parent.trigger("fileMenuBeforeOpen",e)}enableRibbonTabs(e){this.ribbon.enableTabs(e.tabs,e.enable)}fileMenuBeforeClose(e){this.parent.trigger("fileMenuBeforeClose",e)}hideFileMenuItems(e){this.ribbon.hideMenuItems(e.items,e.hide,e.isUniqueId)}addFileMenuItems(e){this.ribbon.addMenuItems(e.items,e.text,e.insertAfter,e.isUniqueId)}hideToolbarItems(e){this.ribbon.hideToolbarItems(e.tab,e.indexes,e.hide)}protectSheetHandler(e){let t=this.parent.getActiveSheet(),n=this.parent.serviceLocator.getService(QB);t.isProtected&&t.protectSettings.formatCells||!t.isProtected?(this.enableToolbarItems([{tab:n.getConstant("Home"),items:e.enableHomeBtnId,enable:!0}]),this.parent.notify("setUndoRedo",null)):this.enableToolbarItems([{tab:n.getConstant("Home"),items:e.disableHomeBtnId,enable:!1}]),this.enableToolbarItems(t.isProtected&&t.protectSettings.insertLink||!t.isProtected?[{tab:n.getConstant("Insert"),items:e.enableInsertBtnId,enable:!0}]:[{tab:n.getConstant("Insert"),items:e.enableInsertBtnId,enable:!1}]),this.enableToolbarItems(t.isProtected&&t.protectSettings.selectCells||!t.isProtected?[{tab:n.getConstant("Home"),items:e.findBtnId,enable:!0}]:[{tab:n.getConstant("Home"),items:e.findBtnId,enable:!1}]),t.isProtected?(this.enableToolbarItems([{tab:n.getConstant("Data"),items:e.dataValidationBtnId,enable:!1}]),this.enableToolbarItems([{tab:n.getConstant("Formulas"),items:e.enableFrmlaBtnId,enable:!1}])):(this.enableToolbarItems([{tab:n.getConstant("Data"),items:e.dataValidationBtnId,enable:!0}]),this.enableToolbarItems([{tab:n.getConstant("Formulas"),items:e.enableFrmlaBtnId,enable:!0}]))}updateMergeItem(e){if("mousemove"===e.type||"pointermove"===e.type||e.shiftKey&&"mousedown"===e.type||e.target&&GD(e.target,".e-header-cell")){let e=zR(this.parent.getActiveSheet().selectedRange);e[1]===e[3]&&e[0]===e[2]||this.parent.getActiveSheet().isProtected||(this.enableToolbarItems([{tab:this.parent.serviceLocator.getService(QB).getConstant("Home"),items:[`${this.parent.element.id}_merge_cells`],enable:!0}]),this.toggleActiveState(!1))}}blankWorkbook(){this.parent.sheets.length=0,this.parent.sheetNameCount=1,this.parent.notify("sheetsDestroyed",{}),this.parent.createSheet(),this.parent.activeSheetIndex=this.parent.sheets.length-1,this.parent.notify("refreshSheetTabs",{}),this.parent.renderModule.refreshSheet()}addEventListener(){this.parent.on("ribbon",this.initRibbon,this),this.parent.on("enableToolbarItems",this.enableToolbarItems,this),this.parent.on("activeCellChanged",this.refreshRibbonContent,this),this.parent.on("updateToggleItem",this.toggleRibbonItems,this),this.parent.on("enableFileMenuItems",this.enableFileMenuItems,this),this.parent.on("hideRibbonTabs",this.hideRibbonTabs,this),this.parent.on("addRibbonTabs",this.addRibbonTabs,this),this.parent.on("addToolbarItems",this.addToolbarItems,this),this.parent.on("hideFileMenuItems",this.hideFileMenuItems,this),this.parent.on("addFileMenuItems",this.addFileMenuItems,this),this.parent.on("hideToolbarItems",this.hideToolbarItems,this),this.parent.on("enableRibbonTabs",this.enableRibbonTabs,this),this.parent.on("protectCellFormat",this.protectSheetHandler,this),this.parent.on("selectionComplete",this.updateMergeItem,this),this.parent.on("blankWorkbook",this.blankWorkbook,this)}destroy(){let e=this.parent.element,t=this.ribbon.element,n=e.id;["bold","italic","line-through","underline"].forEach(t=>{!function(e,t){if(e){let n=eA(e,t);n&&n.destroy()}}(e.querySelector("#"+`${n}_${t}`),EM)}),this.pasteSplitBtn.destroy(),this.pasteSplitBtn=null,this.mergeSplitBtn.destroy(),this.mergeSplitBtn=null,this.numFormatDDB.destroy(),this.numFormatDDB=null,this.fontSizeDdb.destroy(),this.fontSizeDdb=null,this.fontNameDdb.destroy(),this.fontNameDdb=null,this.textAlignDdb.destroy(),this.textAlignDdb=null,this.verticalAlignDdb.destroy(),this.verticalAlignDdb=null,this.sortingDdb.destroy(),this.sortingDdb=null,this.colorPicker.destroy(),this.colorPicker=null,this.bordersMenu.destroy(),this.bordersMenu=null,this.borderSplitBtn.destroy(),this.borderSplitBtn=null,this.findDdb.destroy(),this.findDdb=null,this.parent.notify("destroyRibbonComponents",null),this.ribbon.destroy(),t&&qD(t),this.ribbon=null,this.removeEventListener()}removeEventListener(){this.parent.isDestroyed||(this.parent.off("ribbon",this.initRibbon),this.parent.off("enableToolbarItems",this.enableToolbarItems),this.parent.off("activeCellChanged",this.refreshRibbonContent),this.parent.off("updateToggleItem",this.toggleRibbonItems),this.parent.off("enableFileMenuItems",this.enableFileMenuItems),this.parent.off("hideRibbonTabs",this.hideRibbonTabs),this.parent.off("addRibbonTabs",this.addRibbonTabs),this.parent.off("addToolbarItems",this.addToolbarItems),this.parent.off("hideFileMenuItems",this.hideFileMenuItems),this.parent.off("addFileMenuItems",this.addFileMenuItems),this.parent.off("hideToolbarItems",this.hideToolbarItems),this.parent.off("enableRibbonTabs",this.enableRibbonTabs),this.parent.off("protectCellFormat",this.protectSheetHandler),this.parent.off("selectionComplete",this.updateMergeItem),this.parent.off("blankWorkbook",this.blankWorkbook))}}class HB{constructor(e){this.categoryCollection=[],this.formulaCollection=[],this.parent=e,this.addEventListener()}getModuleName(){return"formulaBar"}createFormulaBar(e){if(!this.parent.showFormulaBar&&this.insertFnRipple)return void this.destroy();let t=this.parent.serviceLocator.getService(QB),n=this.parent.element.id,i=this.parent.createElement("div",{className:"e-formula-bar-panel"});if(!this.parent.isMobileView()){let e=this.parent.createElement("input",{id:n+"_name_box",attrs:{type:"text"}});i.appendChild(e),this.comboBoxInstance=new ZN({value:"A1",cssClass:"e-name-box",width:"",noRecordsTemplate:"",fields:{text:"name",value:"refersTo"},beforeOpen:this.nameBoxBeforeOpen.bind(this),blur:this.nameBoxBlur.bind(this),select:this.nameBoxSelect.bind(this),change:e=>{}}),this.comboBoxInstance.createElement=this.parent.createElement,this.comboBoxInstance.appendTo(e),this.comboBoxInstance.element.parentElement.title=t.getConstant("NameBox")}i.appendChild(this.parent.createElement("button",{className:"e-btn e-css e-flat e-icon-btn e-insert-function",attrs:{title:t.getConstant("InsertFunction")}})).appendChild(this.parent.createElement("span",{className:"e-btn-icon e-icons"})),this.insertFnRipple=wA(i,{selector:".e-insert-function"}),i.appendChild(this.parent.createElement("div",{className:"e-separator"}));let s=i.appendChild(this.parent.createElement("textarea",{className:"e-formula-bar e-css",id:n+"_formula_input",attrs:{title:t.getConstant("FormulaBar"),spellcheck:"false"}}));s.rows=1,this.parent.isMobileView()?(s.placeholder=t.getConstant("MobileFormulaBarPlaceHolder"),zI.add(s,"focus",this.textAreaFocusIn,this),zI.add(s,"blur",this.textAreaFocusOut,this)):i.appendChild(this.parent.createElement("span",{className:"e-drop-icon e-icons",attrs:{title:t.getConstant("ExpandFormulaBar")}})),e&&e.uiUpdate?this.parent.element.insertBefore(i,document.getElementById(n+"_sheet_panel")):this.parent.element.appendChild(i)}textAreaFocusIn(e){let t=this.parent.element.querySelector(".e-formula-bar-panel"),n=this.parent.createElement("button",{className:"e-btn e-css e-flat e-icon-btn e-formula-submit"});n.appendChild(this.parent.createElement("span",{className:"e-btn-icon e-icons e-tick-icon"})),t.classList.add("e-focused"),t.appendChild(n)}textAreaFocusOut(e){let t=this.parent.element.querySelector(".e-formula-bar-panel");t.classList.remove("e-focused"),qD(t.querySelector(".e-formula-submit"))}keyDownHandler(e){let t=e.target;this.parent.isEdit&&!this.parent.getActiveSheet().isProtected&&t.classList.contains("e-formula-bar")&&this.parent.notify(dF,{action:"refreshEditor",value:t.value,refreshEditorElem:!0})}keyUpHandler(e){if(this.parent.isEdit){let t=e.target;if(t.classList.contains("e-formula-bar")){let e={action:"getCurrentEditValue",editedValue:""};this.parent.notify(dF,e),e.editedValue!==t.value&&this.parent.notify(dF,{action:"refreshEditor",value:t.value,refreshEditorElem:!0})}}}nameBoxBeforeOpen(e){this.comboBoxInstance.element.classList.contains("e-name-editing")?e.cancel=!0:this.comboBoxInstance.element.select()}nameBoxBlur(e){this.comboBoxInstance.element.classList.contains("e-name-editing")&&(this.comboBoxInstance.element.classList.remove("e-name-editing"),this.UpdateValueAfterMouseUp())}nameBoxSelect(e){if(e.isInteracted){let t=e.itemData.refersTo.substr(1),n=fH(this.parent,bH(t)),i=XR(t),s=wH(this.parent,n);if(-1!==i.indexOf(":")){let e=i.indexOf(":"),t=i.substr(0,e),n=i.substr(e+1,i.length);t=t.replace("$",""),n=n.replace("$",""),n.match(/\D/g)&&!n.match(/[0-9]/g)&&t.match(/\D/g)&&!t.match(/[0-9]/g)?(t+="1",n+=s.rowCount,i=t+":"+n):!n.match(/\D/g)&&n.match(/[0-9]/g)&&!t.match(/\D/g)&&t.match(/[0-9]/g)&&(t=WR(parseInt(t,10)-1,0),n=WR(parseInt(n,10)-1,s.colCount-1),i=t+":"+n)}n===this.parent.activeSheetIndex?(this.parent.selectRange(i),this.parent.element.focus()):(yH(0,i,s),this.parent.activeSheetIndex=n)}}formulaBarUpdateHandler(e){let t,n=this.parent.getActiveSheet().selectedRange.split(":"),i=new SI;if("mousemove"===e.type||"pointermove"===e.type){let e=zR(n[0]),i=zR(n[1]);t=`${Math.abs(e[0]-i[0])+1}R x ${Math.abs(e[1]-i[1])+1}C`}else t=n[0],this.parent.getData(`${SH(this.parent)}!${t}`).then(e=>{let t,n="";e.forEach((e,s)=>{let l=e&&e.format?hF(e.format):"General";e&&(UO(e.value)||(t=tF(Number(e.value)),n="Invalid Date"===t.toString()||"ShortDate"!==l&&"LongDate"!==l?"Invalid Date"!==t.toString()&&"Time"===l?i.formatDate(t,{type:"dateTime",skeleton:"yMd"})+" "+i.formatDate(t,{type:"dateTime",skeleton:"hms"}):e.value:i.formatDate(t,{type:"date",skeleton:"yMd"})),e.formula&&(n=e.formula)),document.getElementById(this.parent.element.id+"_formula_input").value=n})});this.updateComboBoxValue(t)}UpdateValueAfterMouseUp(){this.updateComboBoxValue(this.parent.getActiveSheet().selectedRange.split(":")[0])}updateComboBoxValue(e){let t=this.parent.getActiveSheet(),n={action:"getNameFromRange",range:SH(this.parent)+"!"+t.selectedRange,definedName:null};if(this.parent.notify("formulaOperation",n),n.definedName&&(e=n.definedName.name),!this.parent.isMobileView()){if(this.comboBoxInstance.text===e)return;this.comboBoxInstance.text=e,this.comboBoxInstance.dataBind()}}disabletextarea(){this.getFormulaBar().disabled=!!this.parent.getActiveSheet().isProtected}formulaBarClickHandler(e){let t=e.target;if(t.classList.contains("e-drop-icon")&&GD(t,".e-formula-bar-panel"))this.toggleFormulaBar(t);else if(t.classList.contains("e-formula-bar"))this.parent.isEdit||this.parent.getActiveSheet().isProtected?this.parent.getActiveSheet().isProtected&&this.parent.notify("editAlert",null):this.parent.notify(dF,{action:"startEdit",refreshCurPos:!1});else if(t.parentElement&&t.parentElement.classList.contains("e-name-box"))if(t.classList.contains("e-ddl-icon")){let e={action:"getNames",names:[]};this.parent.notify("formulaOperation",e),this.comboBoxInstance.dataSource=e.names}else this.comboBoxInstance.element.classList.add("e-name-editing"),this.comboBoxInstance.element.select();if(!UO(t.offsetParent)&&(t.offsetParent.classList.contains("e-insert-function")||t.classList.contains("e-insert-function")||this.parent.element.id+"_insert_function"===t.offsetParent.id||this.parent.element.id+"_insert_function"===t.id||t.parentElement.classList.contains("e-insert-function")||this.parent.element.id+"_insert_function"===t.parentElement.id)){if(this.parent.getActiveSheet().isProtected)return void this.parent.notify("editAlert",null);let e=!this.parent.isEdit,t={action:"getCurrentEditValue",editedValue:""};if(!e){let n={action:"isFormulaEditing",isFormulaEdit:!1};this.parent.notify("formulaOperation",n),e=n.isFormulaEdit,this.parent.notify(dF,t)}if(e||""===t.editedValue){""===t.editedValue&&this.parent.notify(dF,{action:"refreshEditor",value:"="});let e=this.parent.serviceLocator.getService(QB),n=this.parent.createElement("div",{className:"e-formula-description",id:this.parent.element.id+"_description_content"}),i=this.parent.createElement("div",{className:"e-category-content",id:this.parent.element.id+"_category_content",innerHTML:e.getConstant("PickACategory")}),s=this.parent.createElement("input",{className:"e-formula-category",id:this.parent.element.id+"_formula_category"}),l=this.parent.createElement("div",{className:"e-formula-list",id:this.parent.element.id+"_formula_list"}),r=this.parent.createElement("div",{className:"e-description-content",innerHTML:e.getConstant("Description")}),a=this.parent.createElement("div",{className:"e-header-content",innerHTML:e.getConstant("InsertFunction")}),o={action:"getFormulaCategory",categoryCollection:[]};this.parent.notify(sF,o),this.categoryCollection=o.categoryCollection,this.categoryList=new GN({dataSource:this.categoryCollection,index:0,width:"285px",popupHeight:"210px",select:this.dropDownSelect.bind(this)});let h={action:"getLibraryFormulas",formulaCollection:[]};this.parent.notify(sF,h),this.formulaCollection=h.formulaCollection,this.formulaList=new XM({dataSource:this.formulaCollection.sort(),actionComplete:this.updateFormulaList.bind(this),select:this.listSelected.bind(this),width:"285px",height:"200px"}),this.dialog=this.parent.serviceLocator.getService("dialog"),this.dialog.show({header:a.outerHTML,content:i.outerHTML+s.outerHTML+l.outerHTML+r.outerHTML+n.outerHTML,width:"320px",height:"485px",cssClass:"e-spreadsheet-function-dlg",showCloseIcon:!0,isModal:!0,beforeOpen:()=>this.parent.element.focus(),open:this.dialogOpen.bind(this),beforeClose:this.dialogBeforeClose.bind(this),close:this.dialogClose.bind(this),buttons:[{click:this.selectFormula.bind(this,this.dialog,this),buttonModel:{content:e.getConstant("Ok"),isPrimary:!0}}]}),this.categoryList.appendTo("#"+this.parent.element.id+"_formula_category"),this.formulaList.appendTo("#"+this.parent.element.id+"_formula_list"),zI.add(this.formulaList.element,"dblclick",this.formulaClickHandler,this)}}}toggleFormulaBar(e){let t=e.parentElement,n=this.parent.serviceLocator.getService(QB);t.classList.contains("e-expanded")?(t.classList.remove("e-expanded"),document.getElementById(this.parent.element.id+"_formula_input").rows=1,e.title=n.getConstant("ExpandFormulaBar")):(t.classList.add("e-expanded"),document.getElementById(this.parent.element.id+"_formula_input").rows=3,e.title=n.getConstant("CollapseFormulaBar")),this.parent.setPanelSize()}dialogOpen(){this.focusOkButton()}dialogClose(){let e={action:"getCurrentEditValue",editedValue:""};this.parent.notify(dF,e),"="===e.editedValue.toString().trim()&&this.parent.notify(dF,{action:"refreshEditor",value:""})}dialogBeforeClose(){zI.remove(this.formulaList.element,"dblclick",this.formulaClickHandler);let e=document.getElementById("_dialog-content");e.parentNode.removeChild(e),this.dialog.dialogInstance.storeActiveElement=document.getElementById(this.parent.element.id+"_edit")}selectFormula(e,t){let n=t.formulaList.getSelectedItems().text,i=wH(this.parent,this.parent.activeSheetIndex);this.parent.isEdit?this.parent.notify(dF,{action:"refreshEditor",value:n+"(",refreshFormulaBar:!0,refreshEditorElem:!0,isAppend:!0}):(this.parent.notify(dF,{action:"startEdit",value:"="+n+"(",address:i.activeCell}),this.parent.notify("formulaBarOperation",{action:"refreshFormulabar",value:"="+n+"("})),e.hide()}listSelected(){this.updateFormulaDescription()}updateFormulaList(){this.activeListFormula(),this.updateFormulaDescription()}dropDownSelect(e){this.formulaCollection=[];let t={action:"getLibraryFormulas",formulaCollection:[]};if("All"===e.item.textContent)this.parent.notify(sF,t),this.formulaCollection=t.formulaCollection;else{let t={action:"dropDownSelectFormulas",formulaCollection:[],selectCategory:e.item.textContent};this.parent.notify(sF,t),this.formulaCollection=t.formulaCollection}this.formulaList.dataSource=this.formulaCollection.sort()}focusOkButton(){document.getElementById("_dialog-content").nextElementSibling.firstElementChild.focus()}activeListFormula(){let e=document.getElementById(this.parent.element.id+"_formula_list");this.formulaList.selectItem(e.children[0].children[0].firstElementChild)}updateFormulaDescription(){let e,t=this.formulaList.getSelectedItems().text;this.parent.notify(sF,{action:"getFormulaDescription",description:"",selectedList:t}),this.focusOkButton(),e=document.getElementById(this.parent.element.id+"_description_content"),t="AND"===t?"CalculateAND":"OR"===t?"CalculateOR":t,e.innerHTML=this.parent.serviceLocator.getService(QB).getConstant(t)}formulaClickHandler(e){let t=e.target,n=wH(this.parent,this.parent.activeSheetIndex);(t.offsetParent.classList.contains("e-text-content")||t.classList.contains("e-list-item"))&&(this.parent.isEdit?this.parent.notify(dF,{action:"refreshEditor",value:t.innerText+"(",refreshFormulaBar:!0,refreshEditorElem:!0,isAppend:!0}):(this.parent.notify(dF,{action:"startEdit",value:"="+t.innerText+"(",address:n.activeCell}),this.parent.notify("formulaBarOperation",{action:"refreshFormulabar",value:"="+t.innerText+"("})),this.dialog.hide())}addEventListener(){this.parent.on("formulaBar",this.createFormulaBar,this),this.parent.on("click",this.formulaBarClickHandler,this),this.parent.on(pF,this.keyDownHandler,this),this.parent.on(uF,this.keyUpHandler,this),this.parent.on("selectionComplete",this.formulaBarUpdateHandler,this),this.parent.on("mouseUpAfterSelection",this.UpdateValueAfterMouseUp,this),this.parent.on("formulaBarOperation",this.editOperationHandler,this),this.parent.on("enableFormulaInput",this.disabletextarea,this)}destroy(){this.removeEventListener(),this.comboBoxInstance.destroy(),this.comboBoxInstance=null,this.insertFnRipple(),this.insertFnRipple=null;let e=this.parent.element.querySelector(".e-formula-bar-panel");e&&qD(e)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("formulaBar",this.createFormulaBar),this.parent.off("click",this.formulaBarClickHandler),this.parent.off(pF,this.keyDownHandler),this.parent.off(uF,this.keyUpHandler),this.parent.off("selectionComplete",this.formulaBarUpdateHandler),this.parent.off("mouseUpAfterSelection",this.UpdateValueAfterMouseUp),this.parent.off("formulaBarOperation",this.editOperationHandler),this.parent.off("enableFormulaInput",this.disabletextarea))}editOperationHandler(e){switch(e.action){case"refreshFormulabar":this.getFormulaBar().value=WO(e.value)?"":e.value;break;case"getPosition":e.position=this.getFormulaBar().getBoundingClientRect()}}getFormulaBar(){return this.parent.element.querySelector("#"+this.parent.element.id+"_formula_input")}}class BB{constructor(e){this.isFormulaBar=!1,this.isFormula=!1,this.isPopupOpened=!1,this.isPreventClose=!1,this.isSubFormula=!1,this.keyCodes={UP:38,DOWN:40,LEFT:37,RIGHT:39,FIRSTALPHABET:65,LASTALPHABET:90,SPACE:32,BACKSPACE:8,TAB:9,DELETE:46,ENTER:13,ESC:27},this.parent=e,this.addEventListener()}getModuleName(){return"formula"}destroy(){this.removeEventListener(),this.autocompleteInstance&&this.autocompleteInstance.destroy(),this.autocompleteInstance=null,this.parent=null}addEventListener(){this.parent.on("formulaOperation",this.performFormulaOperation,this),this.parent.on(uF,this.keyUpHandler,this),this.parent.on(pF,this.keyDownHandler,this),this.parent.on("click",this.formulaClick,this),this.parent.on("refreshFormulaDatasource",this.refreshFormulaDatasource,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("formulaOperation",this.performFormulaOperation),this.parent.off(uF,this.keyUpHandler),this.parent.off(pF,this.keyDownHandler),this.parent.off("click",this.formulaClick),this.parent.off("refreshFormulaDatasource",this.refreshFormulaDatasource))}performFormulaOperation(e){switch(e.action){case"renderAutoComplete":this.renderAutoComplete();break;case"endEdit":this.endEdit();break;case"addDefinedName":e.isAdded=this.addDefinedName(e.definedName);break;case"getNames":e.sheetName||(e.sheetName=SH(this.parent)),e.names=this.getNames(e.sheetName);break;case"getNameFromRange":e.definedName=this.getNameFromRange(e.range);break;case"isFormulaEditing":e.isFormulaEdit=this.isFormula;break;case"isCircularReference":let t=this.parent.serviceLocator.getService(QB);this.parent.serviceLocator.getService(eV).show({height:180,width:400,isModal:!0,showCloseIcon:!0,content:t.getConstant("CircularReference")}),e.argValue="0"}}renderAutoComplete(){if(!this.parent.element.querySelector("#"+this.parent.element.id+"_ac")){let e=this.parent.createElement("input",{id:this.parent.element.id+"_ac",className:"e-ss-ac"});this.parent.element.appendChild(e);let t={action:"getLibraryFormulas",formulaCollection:[]};this.parent.notify(sF,t);let n={dataSource:t.formulaCollection,cssClass:"e-ss-atc",popupWidth:"130px",allowFiltering:!0,filterType:"StartsWith",sortOrder:"Ascending",open:this.onSuggestionOpen.bind(this),close:this.onSuggestionClose.bind(this),select:this.onSelect.bind(this),actionComplete:this.onSuggestionComplete.bind(this)};this.autocompleteInstance=new QN(n,e),this.autocompleteInstance.createElement=this.parent.createElement}}onSuggestionOpen(e){this.isPopupOpened=!0;let t=this.getPopupPosition();e.popup.offsetX=t.left,e.popup.offsetY=t.top+t.height,e.popup.refreshPosition(),e.popup.element.firstChild.style.maxHeight="180px",new Promise((e,t)=>{setTimeout(()=>{e()},100)}).then(()=>{this.triggerKeyDownEvent(this.keyCodes.DOWN)})}onSuggestionClose(e){this.isPreventClose?e.cancel=!0:this.isPopupOpened=!1}onSelect(e){let t="="+e.itemData.value+"(";if(this.isSubFormula){let n=this.getEditingValue(),i=n.lastIndexOf(this.getArgumentSeparator());i>-1?t=n.slice(0,i+1):(i=n.lastIndexOf("("),i>-1&&(t=n.slice(0,i+1))),t+=e.itemData.value+"("}this.parent.notify(dF,{action:"refreshEditor",value:t,refreshFormulaBar:!0,refreshEditorElem:!0,refreshCurPos:!this.isFormulaBar})}onSuggestionComplete(e){this.isPreventClose=e.result.length>0,this.isPreventClose||(e.cancel=!0,this.hidePopUp())}refreshFormulaDatasource(){let e={action:"getLibraryFormulas",formulaCollection:[]};this.parent.notify(sF,e),this.autocompleteInstance.dataSource=e.formulaCollection}keyUpHandler(e){if(this.parent.isEdit){let t=this.getEditingValue();this.isFormula=QF(t),(this.isFormula||this.isPopupOpened)&&(e.keyCode!==this.keyCodes.TAB&&this.isFormula&&(t=this.getSuggestionKeyFromFormula(t)),this.refreshFormulaSuggestion(e,t))}else this.isPopupOpened&&this.hidePopUp()}keyDownHandler(e){let t=e.keyCode;if(this.isFormula){if(this.isPopupOpened)switch(t){case this.keyCodes.UP:case this.keyCodes.DOWN:e.preventDefault(),this.triggerKeyDownEvent(t);break;case this.keyCodes.TAB:e.preventDefault(),this.triggerKeyDownEvent(this.keyCodes.ENTER)}}else{let n=e.target;if(n.id===this.parent.element.id+"_name_box")switch(t){case this.keyCodes.ENTER:this.addDefinedName({name:n.value}),this.parent.element.focus();break;case this.keyCodes.ESC:this.parent.element.focus()}}}formulaClick(e){this.parent.isEdit&&(this.isFormulaBar=e.target.classList.contains("e-formula-bar"))}refreshFormulaSuggestion(e,t){if(t.length>0){let n=this.autocompleteInstance.element,i=this.isPopupOpened;this.isNavigationKey(e.keyCode)||(n.value=t,n.dispatchEvent(new Event("input")),n.dispatchEvent(new Event("keyup")),i&&this.triggerKeyDownEvent(this.keyCodes.DOWN))}else this.isPopupOpened&&(this.isPreventClose=!1,this.hidePopUp())}endEdit(){if(this.isSubFormula=!1,this.isPreventClose=!1,this.isFormula=!1,this.isFormulaBar=!1,this.isPopupOpened){this.hidePopUp();let e=document.querySelector("#"+this.parent.element.id+"_ac_popup");e&&qD(e),this.isPopupOpened=!1}}hidePopUp(){this.autocompleteInstance.hidePopup()}getSuggestionKeyFromFormula(e){let t="";if(e=e.substr(1)){let n=e.lastIndexOf("("),i=(e=e.substr(n+1)).split(this.getArgumentSeparator());1===i.length?(t=i[0],this.isSubFormula=n>-1):(t=i[i.length-1],this.isSubFormula=!0);let s=t.match(/\w/);(!s||s&&0!==s.index)&&(t="")}return t}getPopupPosition(){let e={position:null};return this.isFormulaBar?(e.action="getPosition",this.parent.notify("formulaBarOperation",e)):(e.action="getPosition",this.parent.notify(dF,e)),e.position}getEditingValue(){let e={action:"getCurrentEditValue",editedValue:""};return this.parent.notify(dF,e),e.editedValue}isNavigationKey(e){return e===this.keyCodes.UP||e===this.keyCodes.DOWN||e===this.keyCodes.LEFT||e===this.keyCodes.RIGHT}triggerKeyDownEvent(e){let t=this.autocompleteInstance.element;t.dispatchEvent(new Event("input"));let n=new Event("keydown");n.keyCode=e,n.which=e,n.altKey=!1,n.shiftKey=!1,n.ctrlKey=!1,t.dispatchEvent(n)}getArgumentSeparator(){if(this.argumentSeparator)return this.argumentSeparator;{let e={action:"getArgumentSeparator",argumentSeparator:""};return this.parent.notify(sF,e),this.argumentSeparator=e.argumentSeparator,e.argumentSeparator}}getNames(e){return this.parent.definedNames.filter(t=>"Workbook"===t.scope||""===t.scope||t.scope===e)}getNameFromRange(e){let t=e.slice(0,e.indexOf(":")),n=e.slice(e.indexOf("!")+1).split(":"),i=n.length>1&&n[0]===n[1],s=this.parent.definedNames.filter((n,s)=>!(!i||n.refersTo!=="="+t)||n.refersTo==="="+e);return s&&s[0]}addDefinedName(e){let t=e.name,n=!1;if(!e.refersTo){let t=wH(this.parent,this.parent.activeSheetIndex),n=SH(this.parent);n=-1!==n.indexOf(" ")?"'"+n+"'":n;let i=t.selectedRange;if(!UO(i)){let e=i.indexOf(":"),n=i.substr(0,e),s=i.substr(e+1,i.length);parseInt(s.replace(/\D/g,""),10)===t.rowCount&&1===parseInt(n.replace(/\D/g,""),10)?(s=s.replace(/[0-9]/g,""),n=n.replace(/[0-9]/g,""),i="$"+n+":$"+s):qR(s)[1]===t.colCount-1&&0===qR(n)[1]?(s=s.replace(/\D/g,""),n=n.replace(/\D/g,""),i="$"+n+":$"+s):i=n===s?n:i}e.refersTo=n+"!"+i,e.scope="Workbook"}if(t.length>0&&/^([a-zA-Z_0-9.]){0,255}$/.test(t)){let t={action:"addDefinedName",definedName:e,isAdded:!1};this.parent.notify(sF,t),n=t.isAdded,t.isAdded||this.parent.serviceLocator.getService(eV).show({content:this.parent.serviceLocator.getService(QB).getConstant("DefineNameExists"),width:"300"})}else this.parent.serviceLocator.getService(eV).show({content:this.parent.serviceLocator.getService(QB).getConstant("DefineNameInValid"),width:"300"});return n}}class VB{constructor(e){this.aggregateContent="",this.isSelectCancel=!1,this.parent=e,this.addEventListener()}getModuleName(){return"sheetTabs"}createSheetTabs(){if(!this.parent.showSheetTabs&&this.tabInstance)return void this.destroy();let e=this.parent.serviceLocator.getService(QB),t=this.parent.createElement("div",{className:"e-sheet-tab-panel",id:this.parent.element.id+"_sheet_tab_panel"}),n=this.parent.createElement("button",{className:"e-add-sheet-tab e-btn e-css e-flat e-icon-btn"+(this.parent.allowInsert?"":" e-disabled"),attrs:{title:e.getConstant("AddSheet")}});n.appendChild(this.parent.createElement("span",{className:"e-btn-icon e-icons e-add-icon"})),n.addEventListener("click",this.addSheetTab.bind(this)),n.disabled=!this.parent.allowInsert,t.appendChild(n),this.parent.allowInsert&&(this.addBtnRipple=wA(t,{selector:".e-add-sheet-tab"}));let i=this.parent.createElement("button",{attrs:{title:e.getConstant("ListAllSheets")}});t.appendChild(i),this.parent.element.appendChild(t);let s=this.getSheetTabItems();this.dropDownInstance=new YP({iconCss:"e-icons",items:s.ddbItems,beforeItemRender:e=>{let t=this.parent.sheets[this.dropDownInstance.items.indexOf(e.item)];"Hidden"===t.state?e.element.classList.add("e-hide"):"VeryHidden"===t.state&&(e.element.style.display="none")},select:e=>this.updateSheetTab({idx:this.dropDownInstance.items.indexOf(e.item)}),beforeOpen:e=>this.beforeOpenHandler(this.dropDownInstance,e.element),open:e=>this.openHandler(this.dropDownInstance,e.element,"left"),cssClass:"e-sheets-list e-flat e-caret-hide",close:()=>this.parent.element.focus()}),this.dropDownInstance.createElement=this.parent.createElement,this.dropDownInstance.appendTo(i);let l=this.parent.createElement("div",{className:"e-sheet-tab"});this.tabInstance=new mN({selectedItem:this.parent.activeSheetIndex,overflowMode:"Scrollable",items:s.tabItems,scrollStep:250,selecting:e=>{let t={currentSheetIndex:e.selectingIndex,previousSheetIndex:e.selectedIndex,cancel:!1};this.isSelectCancel||this.parent.notify(bF,{eventArgs:t,action:"gotoSheet"}),this.isSelectCancel=t.cancel},selected:e=>{e.selectedIndex!==e.previousIndex&&(this.isSelectCancel?(this.tabInstance.selectedItem=e.previousIndex,this.tabInstance.dataBind(),this.parent.element.focus()):(this.parent.activeSheetIndex=e.selectedIndex,this.parent.dataBind(),this.updateDropDownItems(e.selectedIndex,e.previousIndex),this.parent.element.focus(),this.parent.notify(gF,{eventArgs:{previousSheetIndex:e.previousIndex,currentSheetIndex:e.selectedIndex},action:"gotoSheet"})))},created:()=>{let e=this.tabInstance.element.querySelector(".e-toolbar-items");e.classList.add("e-sheet-tabs-items"),zI.add(e,"dblclick",this.renameSheetTab,this)}}),t.appendChild(l),this.tabInstance.createElement=this.parent.createElement,this.tabInstance.appendTo(l),zI.remove(this.tabInstance.element,"keydown",this.tabInstance.spaceKeyDown);let r=s.tabItems.length;for(let a=0;a<r;a++){let e=SH(this.parent,a);this.parent.notify(sF,{action:"addSheet",sheetName:"Sheet"+(a+1),index:a+1,visibleName:e})}this.parent.notify(sF,{action:"initiateDefinedNames"}),this.parent.notify("protectSheet",null)}updateDropDownItems(e,t){t>-1&&(this.dropDownInstance.items[t].iconCss=""),this.dropDownInstance.items[e].iconCss="e-selected-icon e-icons",this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0)}beforeOpenHandler(e,t){let n=this.parent.viewport.height;parseInt(getComputedStyle(t.firstElementChild).height,10)*e.items.length+2*parseInt(getComputedStyle(t).paddingTop,10)>n&&(t.style.height=`${n}px`,t.style.overflowY="auto"),t.parentElement.style.visibility="hidden"}openHandler(e,t,n){let i,s=t.parentElement;if(-1===cT(s).indexOf("bottom")){i="auto"===t.style.overflowY?this.parent.viewport.height:s.getBoundingClientRect().height;let l=JM(e.element,n,"top");"right"===n&&(l.left-=s.getBoundingClientRect().width),s.style.left=`${l.left}px`,s.style.top=`${l.top-i}px`}s.style.visibility=""}getSheetTabItems(){let e,t=[],n=[];return this.parent.sheets.forEach((i,s)=>{e=SH(this.parent,s),t.push({header:{text:e},cssClass:"Visible"===i.state?"":"e-hide"}),n.push({text:e,iconCss:s===this.parent.activeSheetIndex?"e-selected-icon e-icons":""})}),{tabItems:t,ddbItems:n}}refreshSheetTab(){let e=this.getSheetTabItems();this.dropDownInstance.items=e.ddbItems,this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0),this.tabInstance.items=e.tabItems,this.tabInstance.selectedItem=this.parent.activeSheetIndex,this.tabInstance.dataBind()}addSheetTab(){this.parent.notify("insertModel",{model:this.parent,start:this.parent.activeSheetIndex+1,end:this.parent.activeSheetIndex+1,modelType:"Sheet",isAction:!0,activeSheetIndex:this.parent.activeSheetIndex+1}),this.parent.element.focus()}insertSheetTab(e){this.dropDownInstance.items[this.tabInstance.selectedItem].iconCss="";for(let t=e.startIdx;t<=e.endIdx;t++){let e=this.parent.sheets[t].name;this.dropDownInstance.items.splice(t,0,{text:e}),this.tabInstance.addTab([{header:{text:e},content:""}],t)}this.dropDownInstance.items[e.startIdx].iconCss="e-selected-icon e-icons",this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0),e.isAction&&this.updateSheetTab({idx:e.startIdx})}updateSheetTab(e){"activeSheetChanged"===e.name?e.idx=this.parent.skipHiddenSheets(e.idx):"Hidden"===this.parent.sheets[e.idx].state&&(this.parent.sheets[e.idx].state="Visible",this.tabInstance.items[e.idx].cssClass="",this.tabInstance.items=this.tabInstance.items,this.tabInstance.dataBind()),this.tabInstance.selectedItem=e.idx,this.tabInstance.dataBind(),this.parent.notify("protectSheet",null)}switchSheetTab(e){let t=GD(e.event.target,".e-toolbar-item");if(!t)return;let n=t.querySelector(".e-tab-text").textContent;for(let i=0,s=this.tabInstance.items.length;i<s;i++)if(this.tabInstance.items[i].header.text===n){this.parent.activeSheetIndex!==i&&this.updateSheetTab({idx:i});break}e.element.classList.contains("e-contextmenu")&&e.items[0]&&e.items[0].id===`${this.parent.element.id}_cmenu_insert_sheet`&&(1===this.skipHiddenSheets()&&(e.element.children[1].classList.add("e-disabled"),e.element.children[3].classList.add("e-disabled")),this.parent.allowInsert||e.element.children[0].classList.add("e-disabled"))}skipHiddenSheets(){let e=this.parent.sheets.length;return this.parent.sheets.forEach(t=>{"Visible"!==t.state&&--e}),e}renameSheetTab(){let e=this.tabInstance.element.querySelector(".e-toolbar-item.e-active");if(e){e=e.querySelector(".e-text-wrap");let t=e.querySelector(".e-tab-text").textContent,n=this.parent.createElement("input",{id:this.parent.element.id+"_rename_input",className:"e-input e-sheet-rename",styles:`width: ${e.getBoundingClientRect().width}px`,attrs:{type:"text",name:"Rename",required:"",value:t,spellcheck:"false",maxlength:"31"}});e.firstElementChild.style.display="none",e.appendChild(n),zI.add(document,"mousedown touchstart",this.renameInputFocusOut,this),zI.add(n,"input",this.updateWidth,this),n.focus(),n.setSelectionRange(0,t.length),zI.remove(GD(e,".e-toolbar-items"),"dblclick",this.renameSheetTab)}}updateWidth(e){let t=e.target,n=t.value.length,i=t.value.split(" ");if(i.length){let e=i.length-1;n-=e,n+=.5*e}t.style.width=`${n}ch`}renameInputFocusOut(e){let t=e.target;if(("mousedown"===e.type||"touchstart"===e.type)&&(t.classList.contains("e-sheet-rename")||GD(t,".e-dlg-container")))return;if(t=document.getElementById(this.parent.element.id+"_rename_input"),"keydown"===e.type&&27===e.keyCode)return this.removeRenameInput(t),void this.parent.element.focus();let n=t.value,i=this.parent.serviceLocator.getService(QB);if(n){let s=this.tabInstance.selectedItem;if(n.match(new RegExp(".*[\\[\\]\\*\\\\/\\?].*")))this.showRenameDialog(t,i.getConstant("SheetRenameInvalidAlert"));else{if(this.tabInstance.items[s].header.text!==n)for(let e=0,s=this.parent.sheets.length;e<s;e++)if(e!==this.parent.activeSheetIndex&&this.parent.sheets[e].name.toLowerCase()===n.toLowerCase())return void this.showRenameDialog(t,i.getConstant("SheetRenameAlreadyExistsAlert"));let l=this.removeRenameInput(t);this.tabInstance.items[s].header.text!==n&&(this.parent.sheets[s].name=n,this.updateSheetName({value:n,idx:s,items:l})),("keydown"===e.type||GD(e.target,".e-spreadsheet"))&&this.parent.element.focus()}}else this.showRenameDialog(t,i.getConstant("SheetRenameEmptyAlert"));let s=this.parent.getActiveSheet().id;this.parent.notify(sF,{action:"renameUpdation",value:n,sheetId:s}),this.parent.notify(gF,{eventArgs:{index:s,value:n},action:"renameSheet"})}updateSheetName(e){this.tabInstance.items[e.idx].header.text=e.value,this.dropDownInstance.items[e.idx].text=e.value,this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0),e.value.indexOf("  ")>-1?(this.tabInstance.setProperties({items:this.tabInstance.items},!0),e.items.querySelector(".e-toolbar-item.e-active .e-tab-text").textContent=e.value):(this.tabInstance.items=this.tabInstance.items,this.tabInstance.dataBind())}hideSheet(){this.parent.getActiveSheet().state="Hidden",this.tabInstance.items[this.parent.activeSheetIndex].cssClass="e-hide",this.tabInstance.items=this.tabInstance.items,this.tabInstance.dataBind(),this.tabInstance.selectedItem=this.parent.skipHiddenSheets(this.parent.activeSheetIndex===this.parent.sheets.length-1?this.parent.activeSheetIndex-1:this.parent.activeSheetIndex+1),this.tabInstance.dataBind()}removeRenameInput(e){let t=e.parentElement.querySelector(".e-tab-text"),n=GD(e,".e-toolbar-items");return zI.add(n,"dblclick",this.renameSheetTab,this),zI.remove(document,"mousedown touchstart",this.renameInputFocusOut),zI.remove(e,"input",this.updateWidth),UD(e),t.style.display="",n}showRenameDialog(e,t){let n=this.parent.serviceLocator.getService(eV);n.dialogInstance||n.show({target:document.getElementById(this.parent.element.id+"_sheet_panel"),height:180,width:400,isModal:!0,showCloseIcon:!0,content:t,beforeOpen:()=>e.focus(),close:()=>e.setSelectionRange(0,e.value.length)})}focusRenameInput(){let e=document.getElementById(this.parent.element.id+"_rename_input");e&&e.focus()}removeSheetTab(e){if(e.count&&e.count===this.parent.sheets.length)return;let t=this.parent.serviceLocator.getService(QB);if(this.skipHiddenSheets()>1){let n=e.sheetName?wH(this.parent,fH(this.parent,e.sheetName)):this.parent.getActiveSheet(),i=e.index||fH(this.parent,n.name),s={index:i,sheetCount:this.parent.sheets.length,sheetName:n.name};if(n.rows&&n.rows.length&&(1!==n.rows.length||n.rows[0].cells&&n.rows[0].cells.length)){let n=this.parent.serviceLocator.getService(eV);e.clicked?this.forceDelete(i):n.show({height:200,width:400,isModal:!0,showCloseIcon:!0,content:t.getConstant("DeleteSheetAlert"),beforeOpen:()=>this.parent.element.focus(),buttons:[{buttonModel:{content:t.getConstant("Ok"),isPrimary:!0},click:()=>{n.hide(),this.forceDelete(i),this.parent.notify("clearUndoRedoCollection",null),e&&!e.isAction&&(s.sheetCount=this.parent.sheets.length,this.parent.notify(gF,{eventArgs:s,action:"removeSheet"}))}}]})}else this.destroySheet(i),this.parent.notify(sF,{action:"deleteSheetTab",sheetName:"",index:i}),this.parent.notify("clearUndoRedoCollection",null),e&&!e.isAction&&(s.sheetCount=this.parent.sheets.length,this.parent.notify(gF,{eventArgs:s,action:"removeSheet"}))}else this.parent.serviceLocator.getService(eV).show({target:document.getElementById(this.parent.element.id+"_sheet_panel"),height:180,width:400,isModal:!0,showCloseIcon:!0,content:t.getConstant("DeleteSingleLastSheetAlert"),beforeOpen:()=>this.parent.element.focus()})}forceDelete(e){this.destroySheet(e),this.parent.notify(sF,{action:"deleteSheetTab",sheetName:"",index:e})}destroySheet(e){let t=e||this.parent.activeSheetIndex;this.parent.removeSheet(t),this.parent.notify("sheetsDestroyed",{sheetIndex:t}),this.dropDownInstance.items.splice(t,1),this.dropDownInstance.setProperties({items:this.dropDownInstance.items},!0),this.tabInstance.removeTab(t);let n=this.parent.skipHiddenSheets(this.tabInstance.selectedItem);this.parent.setProperties({activeSheetIndex:n},!0),this.parent.renderModule.refreshSheet(),this.tabInstance.selectedItem=n,this.tabInstance.dataBind(),this.updateDropDownItems(n),this.parent.notify("protectSheet",null),this.parent.element.focus()}showAggregate(){JR(zR(this.parent.getActiveSheet().selectedRange))||LH(()=>{let e={Count:0,Sum:"0",Avg:"0",Min:"0",Max:"0"};if(this.parent.notify("aggregateComputation",e),e.Count){this.aggregateContent||(this.aggregateContent=e.Sum?"Sum":"Count");let t=this.aggregateContent,n=`${t}: ${e[t]}`;if(this.aggregateDropDown)this.updateAggregateContent(n,e);else{let t=this.parent.createElement("button");document.getElementById(`${this.parent.element.id}_sheet_tab_panel`).appendChild(t),this.aggregateDropDown=new YP({content:n,items:this.getAggregateItems(e),select:t=>this.updateAggregateContent(t.item.text,e),beforeOpen:e=>this.beforeOpenHandler(this.aggregateDropDown,e.element),open:e=>this.openHandler(this.aggregateDropDown,e.element,"right"),close:()=>this.parent.element.focus(),cssClass:"e-aggregate-list e-flat"}),this.aggregateDropDown.createElement=this.parent.createElement,this.aggregateDropDown.appendTo(t)}}})}getAggregateItems(e){let t,n,i=[];return Object.keys(e).forEach(s=>{"aggregateComputation"!==e[s]&&(t=`${s}: ${e[s]}`,n=s===this.aggregateContent?"e-selected-icon e-icons":"",i.push({text:t,iconCss:n}))}),i}updateAggregateContent(e,t){this.aggregateContent=e.split(": ")[0],this.aggregateDropDown.content=e,this.aggregateDropDown.dataBind(),this.aggregateDropDown.setProperties({items:this.getAggregateItems(t)},!0)}removeAggregate(){this.aggregateDropDown&&JR(zR(this.parent.getActiveSheet().selectedRange))&&(this.aggregateDropDown.destroy(),UD(this.aggregateDropDown.element),this.aggregateDropDown=null)}addEventListener(){this.parent.on("sheetTabs",this.createSheetTabs,this),this.parent.on("refreshSheetTabs",this.refreshSheetTab,this),this.parent.on("insertSheetTab",this.insertSheetTab,this),this.parent.on("removeSheetTab",this.removeSheetTab,this),this.parent.on("renameSheetTab",this.renameSheetTab,this),this.parent.on(mF,this.switchSheetTab,this),this.parent.on("activeSheetChanged",this.updateSheetTab,this),this.parent.on("renameSheet",this.renameInputFocusOut,this),this.parent.on("activeCellChanged",this.removeAggregate,this),this.parent.on("verticalScroll",this.focusRenameInput,this),this.parent.on("horizontalScroll",this.focusRenameInput,this),this.parent.on("sheetNameUpdate",this.updateSheetName,this),this.parent.on("hideSheet",this.hideSheet,this)}destroy(){this.removeEventListener(),this.dropDownInstance.destroy(),this.dropDownInstance=null,this.tabInstance.destroy(),this.tabInstance=null,this.aggregateDropDown=null,this.aggregateContent=null,this.addBtnRipple(),this.addBtnRipple=null,zI.remove(document,"mousedown touchstart",this.renameInputFocusOut);let e=document.getElementById(this.parent.element.id+"_sheet_tab_panel");e&&UD(e),this.parent=null}removeEventListener(){this.parent.isDestroyed||(this.parent.off("sheetTabs",this.createSheetTabs),this.parent.off("refreshSheetTabs",this.refreshSheetTab),this.parent.off("insertSheetTab",this.insertSheetTab),this.parent.off("removeSheetTab",this.removeSheetTab),this.parent.off("renameSheetTab",this.renameSheetTab),this.parent.off(mF,this.switchSheetTab),this.parent.off("activeSheetChanged",this.updateSheetTab),this.parent.off("renameSheet",this.renameInputFocusOut),this.parent.off("activeCellChanged",this.removeAggregate),this.parent.off("verticalScroll",this.focusRenameInput),this.parent.off("horizontalScroll",this.focusRenameInput),this.parent.off("sheetNameUpdate",this.updateSheetName),this.parent.off("hideSheet",this.hideSheet))}}class jB{constructor(e){this.parent=e,this.addEventListener(),this.renderFileUpload()}addEventListener(){this.parent.on("openSuccess",this.openSuccess,this),this.parent.on("openFailure",this.openFailed,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("openSuccess",this.openSuccess),this.parent.off("openFailure",this.openFailed))}renderFileUpload(){let e=this.parent.element.id+"_fileUpload";this.parent.element.appendChild(this.parent.createElement("input",{id:e,attrs:{type:"file",accept:".xls, .xlsx, .csv",name:"fileUpload"}}));let t=document.getElementById(e);t.onchange=this.fileSelect.bind(this),t.onerror=this.openFailed.bind(this),t.style.display="none"}fileSelect(e){let t=e.target.files[0];t&&t.length<1||(this.parent.open({file:t}),document.getElementById(this.parent.element.id+"_fileUpload").value="")}openSuccess(e){if(["UnsupportedFile","InvalidUrl"].indexOf(e.data)>-1)return this.parent.serviceLocator.getService(eV).show({content:this.parent.serviceLocator.getService("spreadsheetLocale").getConstant(e.data),width:"300"}),void this.parent.hideSpinner();this.parent.element&&(this.parent.trigger("openComplete",{response:e}),this.parent.notify(gF,{response:e,action:"import"}),this.parent.renderModule.refreshSheet(),this.parent.notify("refreshSheetTabs",this),this.parent.hideSpinner())}openFailed(e){this.parent.trigger("openFailure",e),this.parent.hideSpinner()}destroy(){this.removeEventListener(),this.parent=null}getModuleName(){return"open"}}class zB{constructor(e){this.parent=e,this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("beginSave",this.initiateSave,this),this.parent.on("saveCompleted",this.saveCompleted,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("beginSave",this.initiateSave),this.parent.off("saveCompleted",this.saveCompleted))}getModuleName(){return"save"}initiateSave(e){this.parent.showSpinner()}saveCompleted(e){this.parent.hideSpinner()}}class qB{constructor(e){this.parent=e,this.init()}init(){this.initContextMenu(),this.addEventListener()}initContextMenu(){let e=document.createElement("ul");e.id=this.parent.element.id+"_contextmenu",this.parent.element.appendChild(e),this.contextMenuInstance=new nN({cssClass:"e-spreadsheet-contextmenu",target:"#"+this.parent.element.id,filter:"e-numericcontainer e-active-cell e-selection e-row e-header-row e-select-all-cell e-sheet-tabs-items",select:this.selectHandler.bind(this),beforeOpen:this.beforeOpenHandler.bind(this),beforeClose:this.beforeCloseHandler.bind(this)},e)}beforeCloseHandler(e){this.parent.trigger("contextMenuBeforeClose",e)}selectHandler(e){let t=qO({cancel:!1},e);this.parent.trigger("contextMenuItemSelect",t);let n=this.parent.element.id+"_cmenu";if(!t.cancel){let t;switch(this.parent.serviceLocator.getService(QB),e.item.id){case n+"_cut":this.parent.notify("cut",{isAction:!0,promise:Promise});break;case n+"_copy":this.parent.notify("copy",{isAction:!0,promise:Promise});break;case n+"_paste":this.parent.notify("paste",{isAction:!0});break;case n+"_pastevalues":this.parent.notify("paste",{type:"Values",isAction:!0});break;case n+"_pasteformats":this.parent.notify("paste",{type:"Formats",isAction:!0});break;case n+"_rename":this.parent.notify("renameSheetTab",{});break;case n+"_delete_sheet":this.parent.notify("removeSheetTab",{});break;case n+"_insert_sheet":this.parent.notify("insertModel",{model:this.parent,start:this.parent.activeSheetIndex,end:this.parent.activeSheetIndex,modelType:"Sheet",isAction:!0});break;case n+"_hide_sheet":this.parent.notify("hideSheet",null);break;case n+"_ascending":this.parent.notify("applySort",null);break;case n+"_descending":this.parent.notify("applySort",{sortOptions:{sortDescriptors:{order:"Descending"}}});break;case n+"_customsort":this.parent.notify("initiateCustomSort",null);break;case n+"_filtercellvalue":this.parent.notify("filterByCellValue",null);break;case n+"_clearfilter":let i=$R(qR(this.parent.getActiveSheet().activeCell)[1]+1);this.parent.notify("clearFilter",{field:i});break;case n+"_reapplyfilter":this.parent.notify("reapplyFilter",null);break;case n+"_hide_row":t=zR(this.parent.getActiveSheet().selectedRange),this.parent.notify("hideShow",{startIndex:t[0],endIndex:t[2],hide:!0,isCol:!1,actionUpdate:!0}),this.parent.element.focus();break;case n+"_unhide_row":t=zR(this.parent.getActiveSheet().selectedRange),this.parent.notify("hideShow",{startIndex:t[0],endIndex:t[2],hide:!1,isCol:!1,actionUpdate:!0}),this.parent.element.focus();break;case n+"_hide_column":t=zR(this.parent.getActiveSheet().selectedRange),this.parent.notify("hideShow",{startIndex:t[1],endIndex:t[3],hide:!0,isCol:!0,actionUpdate:!0}),this.parent.element.focus();break;case n+"_unhide_column":t=zR(this.parent.getActiveSheet().selectedRange),this.parent.notify("hideShow",{startIndex:t[1],endIndex:t[3],hide:!1,isCol:!0,actionUpdate:!0}),this.parent.element.focus();break;case n+"_insert_row_above":case n+"_delete_row":t=zR(this.parent.getActiveSheet().selectedRange),this.parent.notify(`${e.item.id.substr(n.length+1,6)}Model`,{model:this.parent.getActiveSheet(),start:t[0],end:t[2],modelType:"Row",isAction:!0}),this.parent.element.focus();break;case n+"_insert_row_below":t=KR(zR(this.parent.getActiveSheet().selectedRange)),this.parent.notify("insertModel",{model:this.parent.getActiveSheet(),start:t[2]+1,end:t[2]+1+(t[2]-t[0]),modelType:"Row",isAction:!0}),this.parent.element.focus();break;case n+"_insert_column_before":case n+"_delete_column":t=zR(this.parent.getActiveSheet().selectedRange),this.parent.notify(`${e.item.id.substr(n.length+1,6)}Model`,{model:this.parent.getActiveSheet(),start:t[1],end:t[3],modelType:"Column",isAction:!0}),this.parent.element.focus();break;case n+"_insert_column_after":t=KR(zR(this.parent.getActiveSheet().selectedRange)),this.parent.notify("insertModel",{model:this.parent.getActiveSheet(),start:t[3]+1,end:t[3]+1+(t[3]-t[1]),modelType:"Column",isAction:!0}),this.parent.element.focus();break;case n+"_hyperlink":this.parent.notify("initiateHyperlink",null);break;case n+"_editHyperlink":this.parent.notify("editHyperlink",null);break;case n+"_openHyperlink":this.parent.notify("openHyperlink",null);break;case n+"_removeHyperlink":this.parent.removeHyperlink(this.parent.getActiveSheet().selectedRange);break;case n+"_protect":let s,l=this.parent.getActiveSheet();l.isProtected=!l.isProtected,s=!l.isProtected,this.parent.notify("applyProtect",{isActive:s})}}}getInsertModel(e,t){let n=[];for(let i=e;i<=t;i++)n.push(i===e?{index:i}:{});return n}beforeOpenHandler(e){let t,n=this.getTarget(e.event.target);e.element.classList.contains("e-contextmenu")?(t=this.getDataSource(n),this.contextMenuInstance.items=t,this.contextMenuInstance.dataBind()):t=e.items,this.parent.trigger("contextMenuBeforeOpen",e),this.parent.notify(mF,qO(e,{target:n,items:t}))}getTarget(e){return GD(e,".e-sheet-content")?"Content":GD(e,".e-column-header")?"ColumnHeader":GD(e,".e-row-header")?"RowHeader":GD(e,".e-sheet-tabs-items")?"Footer":GD(e,".e-selectall-container")?"SelectAll":""}getDataSource(e){let t=this.parent.serviceLocator.getService(QB),n=[],i=this.parent.element.id+"_cmenu";if("Content"===e)this.setClipboardData(n,t,i),n.push({separator:!0}),this.setFilterItems(n,i),this.setSortItems(n,i),n.push({separator:!0}),this.setHyperLink(n,i);else if("RowHeader"===e){this.setClipboardData(n,t,i);let e=zR(this.parent.getActiveSheet().selectedRange);this.setInsertDeleteItems(n,t,"Row",i,[e[0],e[2]],["Above","Below"]),this.setHideShowItems(n,t,"Row",i,[e[0],e[2]])}else if("ColumnHeader"===e){this.setClipboardData(n,t,i);let e=zR(this.parent.getActiveSheet().selectedRange);this.setInsertDeleteItems(n,t,"Column",i,[e[1],e[3]],["Before","After"]),this.setHideShowItems(n,t,"Column",i,[e[1],e[3]])}else"SelectAll"===e?(this.setClipboardData(n,t,i),this.setFilterItems(n,i),this.setSortItems(n,i)):"Footer"===e&&(n.push({text:t.getConstant("Insert"),id:i+"_insert_sheet"}),n.push({text:t.getConstant("Delete"),iconCss:"e-icons e-delete",id:i+"_delete_sheet"}),n.push({text:t.getConstant("Rename"),id:i+"_rename"}),n.push({text:t.getConstant("Hide"),id:i+"_hide_sheet"}),this.setProtectSheetItems(n,i));return n}setProtectSheetItems(e,t){let n=this.parent.serviceLocator.getService(QB);this.parent.getActiveSheet().isProtected?e.push({text:n.getConstant("UnprotectSheet"),id:t+"_protect",iconCss:"e-icons e-protect-icon"}):e.push({text:n.getConstant("ProtectSheet"),id:t+"_protect",iconCss:"e-icons e-protect-icon"})}setFilterItems(e,t){if(this.parent.allowFiltering){let n=this.parent.serviceLocator.getService(QB),i={clearFilterText:null,isFiltered:!1};this.parent.notify("getFilteredColumn",i),e.push({text:n.getConstant("Filter"),id:t+"_filter",iconCss:"",items:[{text:i.clearFilterText,iconCss:"e-icons e-filter-clear",id:t+"_clearfilter"},{text:n.getConstant("ReapplyFilter"),iconCss:"e-icons e-filter-reapply",id:t+"_reapplyfilter"},{separator:!0},{text:n.getConstant("FilterCellValue"),iconCss:"",id:t+"_filtercellvalue"}]})}}setSortItems(e,t){let n=this.parent.serviceLocator.getService(QB);this.parent.allowSorting&&e.push({text:n.getConstant("Sort"),id:t+"_sort",iconCss:"e-icons e-sort-icon",items:[{text:n.getConstant("SortAscending"),iconCss:"e-icons e-sort-asc",id:t+"_ascending"},{text:n.getConstant("SortDescending"),iconCss:"e-icons e-sort-desc",id:t+"_descending"},{text:n.getConstant("CustomSort")+"...",iconCss:"e-icons e-sort-custom",id:t+"_customsort"}]})}setHyperLink(e,t){let n=this.parent.getActiveSheet();if(this.parent.allowHyperlink){let i=this.parent.serviceLocator.getService(QB);!document.activeElement.getElementsByClassName("e-hyperlink")[0]&&!document.activeElement.classList.contains("e-hyperlink")||n.isProtected&&!n.protectSettings.insertLink?e.push({text:i.getConstant("Hyperlink"),iconCss:"e-icons e-hyperlink-icon",id:t+"_hyperlink"}):e.push({text:i.getConstant("EditHyperlink"),iconCss:"e-icons e-edithyperlink-icon",id:t+"_editHyperlink"},{text:i.getConstant("OpenHyperlink"),iconCss:"e-icons e-openhyperlink-icon",id:t+"_openHyperlink"},{text:i.getConstant("RemoveHyperlink"),iconCss:"e-icons e-removehyperlink-icon",id:t+"_removeHyperlink"})}}setClipboardData(e,t,n){this.parent.enableClipboard&&(e.push({text:t.getConstant("Cut"),iconCss:"e-icons e-cut-icon",id:n+"_cut"}),e.push({text:t.getConstant("Copy"),iconCss:"e-icons e-copy-icon",id:n+"_copy"}),e.push({text:t.getConstant("Paste"),iconCss:"e-icons e-paste-icon",id:n+"_paste"}),e.push({text:t.getConstant("PasteSpecial"),id:n+"_pastespecial",items:[{text:t.getConstant("Values"),id:n+"_pastevalues"},{text:t.getConstant("Formats"),id:n+"_pasteformats"}]}))}setInsertDeleteItems(e,t,n,i,s,l){e.push({separator:!0}),["Insert","Delete"].forEach(r=>{e.push(s[0]===s[1]?{text:t.getConstant(`${r}${n}`),id:i+`_${r.toLowerCase()}_${n.toLowerCase()}`}:{text:t.getConstant(`${r}${n}s`),id:i+`_${r.toLowerCase()}_${n.toLowerCase()}`}),"Insert"===r&&(e[e.length-1].items=[],l.forEach(n=>{e[e.length-1].items.push({text:t.getConstant(n),id:`${e[e.length-1].id}_${n.toLowerCase()}`})}))})}setHideShowItems(e,t,n,i,s){e.push(s[0]===s[1]?{text:t.getConstant(`Hide${n}`),id:i+`_hide_${n.toLowerCase()}`}:{text:t.getConstant(`Hide${n}s`),id:i+`_hide_${n.toLowerCase()}`}),this.parent.hiddenCount(s[0],s[1],`${n.toLowerCase()}s`)&&e.push({text:t.getConstant(`UnHide${n}s`),id:i+`_unhide_${n.toLowerCase()}`})}addEventListener(){this.parent.on("addContextMenuItems",this.addItemsHandler,this),this.parent.on("removeContextMenuItems",this.removeItemsHandler,this),this.parent.on("enableContextMenuItems",this.enableItemsHandler,this)}addItemsHandler(e){e.insertAfter?this.contextMenuInstance.insertAfter(e.items,e.text,e.isUniqueId):this.contextMenuInstance.insertBefore(e.items,e.text,e.isUniqueId)}removeItemsHandler(e){this.contextMenuInstance.removeItems(e.items,e.isUniqueId)}enableItemsHandler(e){this.contextMenuInstance.enableItems(e.items,e.enable,e.isUniqueId)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("addContextMenuItems",this.addItemsHandler),this.parent.off("removeContextMenuItems",this.removeItemsHandler),this.parent.off("enableContextMenuItems",this.enableItemsHandler))}getModuleName(){return"contextMenu"}destroy(){this.removeEventListener(),this.contextMenuInstance.destroy();let e=document.getElementById(this.parent.element.id+"_contextmenu");e&&qD(e),this.parent=null}}class UB{constructor(e){this.parent=e,this.addEventListener()}refreshCellElement(e){let t=this.parent.getCell(e.rowIndex,e.colIndex);UO(t)||this.parent.refreshNode(t,e)}addEventListener(){this.parent.on("refreshCellElem",this.refreshCellElement,this)}removeEventListener(){this.parent.isDestroyed||this.parent.off("refreshCellElem",this.refreshCellElement)}destroy(){this.removeEventListener(),this.parent=null}getModuleName(){return"numberFormat"}}class WB{constructor(e){this.parent=e,this.addEventListener()}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("applySort",this.applySortHandler,this),this.parent.on("sortComplete",this.sortCompleteHandler,this),this.parent.on("initiateCustomSort",this.initiateCustomSortHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("applySort",this.applySortHandler),this.parent.off("sortComplete",this.sortCompleteHandler),this.parent.off("initiateCustomSort",this.initiateCustomSortHandler))}getModuleName(){return"sort"}isValidSortRange(){let e=this.parent.getActiveSheet(),t=KR(GR(e.selectedRange));return!(t[0]>e.usedRange.rowIndex||t[1]>e.usedRange.colIndex)}sortRangeAlertHandler(e){this.parent.serviceLocator.getService(eV).show({height:180,width:400,isModal:!0,showCloseIcon:!0,content:e.error}),this.parent.hideSpinner()}initiateCustomSortHandler(){let e=this.parent.serviceLocator.getService(QB);if(!this.isValidSortRange())return void this.sortRangeAlertHandler({error:e.getConstant("SortOutOfRangeError")});let t=this.parent.serviceLocator.getService(eV);t.show({height:400,width:560,isModal:!0,showCloseIcon:!0,cssClass:"e-customsort-dlg",header:e.getConstant("CustomSort"),beforeOpen:()=>{t.dialogInstance.content=this.customSortContent(),t.dialogInstance.dataBind(),this.parent.element.focus()},buttons:[{buttonModel:{content:e.getConstant("Ok"),isPrimary:!0},click:()=>{let e=t.dialogInstance.content,n=eA(e.getElementsByClassName("e-list-sort e-listview e-lib")[0],"listview").dataSource;this.clearError();let i=e.getElementsByClassName("e-sort-error")[0];if(i.style.display="block",!this.validateError(n,e,i)){t.hide();let i=eA(e.getElementsByClassName("e-sort-checkheader")[0],"checkbox"),s=eA(e.getElementsByClassName("e-sort-checkcase")[0],"checkbox");this.applySortHandler({sortOptions:{sortDescriptors:n,containsHeader:i.checked,caseSensitive:s.checked}})}}}]})}validateError(e,t,n){let i=this.parent.serviceLocator.getService(QB);if(e.some(e=>""===e.field.toString()))return Array.prototype.some.call(t.getElementsByClassName("e-sort-field"),e=>{let t=!eA(e,"dropdownlist").value;return t&&e.parentElement.classList.add("e-error"),t}),n.innerText=i.getConstant("SortEmptyFieldError"),!0;let s=new Set,l="",r=e.some(e=>(l=e.field.toString(),s.size===s.add(e.field).size)),a="";if(r){let e=0;return Array.prototype.some.call(t.getElementsByClassName("e-sort-field"),t=>{let n=eA(t,"dropdownlist");return n.value===l&&(t.parentElement.classList.add("e-error"),a=n.text,e++),2===e}),n.innerHTML="<strong>"+a+"</strong>"+i.getConstant("SortDuplicateFieldError"),!0}return!1}customSortContent(){let e=this.parent.createElement("div",{className:"e-sort-dialog"}),t=this.getFields(),n=YO("customSort"),i=this.getCustomListview(n);this.setHeaderTab(e,i,t);let s=this.parent.createElement("div",{className:"e-sort-listsection",styles:""});e.appendChild(s);let l=this.parent.createElement("div",{className:"e-list-sort",styles:""});s.appendChild(l),i.createElement=this.parent.createElement,i.appendTo(l),this.renderListItem(n,i,!0,t);let r=this.parent.createElement("div",{className:"e-sort-error"});return e.appendChild(r),e}getFields(){let e=this.parent.getActiveSheet(),t=KR(GR(e.selectedRange));if(t[0]===t[2]&&t[2]-t[0]==0){t[0]=0,t[1]=0,t[3]=e.usedRange.colIndex;let n={filterRange:[],hasFilter:!1};this.parent.notify("getFilterRange",n),n.hasFilter&&n.filterRange&&(t[0]=n.filterRange[0])}let n,i=[];for(;t[1]<=t[3];t[1]++){let s=oH(t[0],t[1],e);if(s&&s.value){let e={formattedText:s.value,value:s.value,format:s.format,onLoad:!0};s.format&&this.parent.notify("getFormattedCell",e),n=e.formattedText}else n="Column "+$R(t[1]+1);i.push({text:n,value:"Column "+$R(t[1]+1)})}return i}setHeaderTab(e,t,n){let i=this.parent.serviceLocator.getService(QB),s=this.parent.createElement("div",{className:"e-sort-header",styles:"",innerHTML:""});e.appendChild(s);let l=this.parent.createElement("button",{className:"e-btn e-sort-addbtn e-flat",innerHTML:i.getConstant("AddColumn")}),r=this.parent.element.querySelector(".e-customsort-dlg .e-footer-content");r.insertBefore(l,r.firstElementChild),l.addEventListener("click",()=>{if(t){let e=YO("customSort");t.addItem([{id:e,text:i.getConstant("ThenBy"),field:"",order:"ascending"}]),this.renderListItem(e,t,a.checked,n,!0)}});let a=new MM({label:i.getConstant("ContainsHeader"),checked:!0,change:t=>{let i=t.checked?{text:"text",value:"value"}:{text:"value"};Array.prototype.forEach.call(e.getElementsByClassName("e-sort-field e-dropdownlist e-lib"),e=>{let t=eA(e,"dropdownlist");t.dataSource=null,t.dataSource=n,t.fields=i,t.dataBind()})},cssClass:"e-sort-headercheckbox"}),o=this.parent.createElement("input",{className:"e-sort-checkheader",attrs:{type:"checkbox"}});s.appendChild(o),a.createElement=this.parent.createElement,a.appendTo(o);let h=new MM({label:i.getConstant("CaseSensitive"),checked:!1,cssClass:"e-sort-casecheckbox"}),c=this.parent.createElement("input",{className:"e-sort-checkcase",attrs:{type:"checkbox"}});s.appendChild(c),h.createElement=this.parent.createElement,h.appendTo(c)}getCustomListview(e){let t=[{id:e,text:this.parent.serviceLocator.getService(QB).getConstant("SortBy"),field:"",order:"ascending"}];return kA=!1,new XM({dataSource:t,fields:{id:"id"},height:"100%",template:'<div class="e-sort-listwrapper"><span class="text">${text}</span><div class="e-sort-row"><div class="e-sort-field"></div><div class="e-sort-order"><span class="e-sort-ordertxt" style="display:none;">${order}</span></div><span class="e-icons e-sort-delete"></span></div>',cssClass:"e-sort-template"})}deleteHandler(e,t){e.getElementsByClassName("e-sort-delete")[0].addEventListener("click",()=>{e&&t.removeItem(e)})}renderListItem(e,t,n,i,s){let l=this.parent.serviceLocator.getService(QB),r=t.element.querySelector("li[data-uid="+e+"]"),a=n?{text:"text",value:"value"}:{text:"value"},o=r.getElementsByClassName("e-sort-field")[0],h=new GN({dataSource:i,width:"auto",cssClass:"e-sort-field-ddl",fields:a,placeholder:l.getConstant("SelectAColumn"),change:n=>{n.value&&(Array.prototype.some.call(t.dataSource,t=>(t.id===e&&(t.field=n.value.toString().replace("Column ","")),t.id===e)),this.clearError())}});h.createElement=this.parent.createElement,h.appendTo(o),s||(h.index=0);let c=r.getElementsByClassName("e-sort-order")[0],d="ascending"===c.getElementsByClassName("e-sort-ordertxt")[0].innerText.toLocaleLowerCase(),u=new LM({label:l.getConstant("SortAscending"),name:"sortAZ_"+e,value:"ascending",checked:d,cssClass:"e-sort-radiobutton",change:n=>{this.setRadioBtnValue(t,e,n.value)}}),p=this.parent.createElement("input",{id:"orderAsc_"+e,className:"e-sort-radioasc",styles:"",attrs:{type:"radio"}});c.appendChild(p),u.createElement=this.parent.createElement,u.appendTo(p);let m=new LM({label:l.getConstant("SortDescending"),name:"sortAZ_"+e,value:"descending",checked:!d,cssClass:"e-sort-radiobutton",change:n=>{this.setRadioBtnValue(t,e,n.value)}}),f=this.parent.createElement("input",{id:"orderDesc_"+e,className:"e-sort-radiodesc",styles:"",attrs:{type:"radio"}});c.appendChild(f),m.createElement=this.parent.createElement,m.appendTo(f),this.deleteHandler(r,t)}setRadioBtnValue(e,t,n){n&&Array.prototype.some.call(e.dataSource,e=>(e.id===t&&(e.order=n),e.id===t))}clearError(){let e=document.getElementsByClassName("e-sort-dialog")[0],t=e.getElementsByClassName("e-sort-error")[0];"none"!==t.style.display&&""!==t.innerHTML&&(t.style.display="none",Array.prototype.forEach.call(e.getElementsByClassName("e-error"),e=>{e.classList.remove("e-error")}))}applySortHandler(e){let t=this.parent.getActiveSheet(),n={range:e&&e.range||t.selectedRange,sortOptions:e&&e.sortOptions||{sortDescriptors:{}},cancel:!1};if(this.parent.trigger("beforeSort",n),n.cancel)return;this.parent.notify(bF,{eventArgs:n,action:"beforeSort"}),this.parent.showSpinner();let i=KR(GR(n.range)),s={filterRange:[],hasFilter:!1};i[0]===i[2]&&i[2]-i[0]==0&&(this.parent.notify("getFilterRange",s),s.hasFilter&&s.filterRange&&(i[0]=s.filterRange[0],i[1]=0,i[2]=t.usedRange.rowIndex,i[3]=t.usedRange.colIndex,n.sortOptions.containsHeader=!0)),this.parent.sort(n.sortOptions,YR(i)).then(e=>(this.parent.trigger("sortComplete",e),this.parent.notify(gF,{eventArgs:e,action:"sorting"}),Promise.resolve(e))).catch(e=>(this.sortRangeAlertHandler({error:e}),Promise.reject(e)))}sortCompleteHandler(e){let t=GR(e.range);e.sortOptions.containsHeader&&(t[0]+=1),this.parent.serviceLocator.getService("cell").refreshRange(t),this.parent.hideSpinner()}}class YB{constructor(e){this.parent=e,this.filterCollection=new Map,this.filterClassList=new Map,this.filterRange=new Map,this.addEventListener()}destroy(){this.removeEventListener(),this.filterRange=null,this.filterCollection=null,this.filterClassList=null,this.parent=null}addEventListener(){this.parent.on("filterRangeAlert",this.filterRangeAlertHandler,this),this.parent.on("initiateFilterUI",this.initiateFilterUIHandler,this),this.parent.on("mouseDown",this.filterMouseDownHandler,this),this.parent.on("renderFilterCell",this.renderFilterCellHandler,this),this.parent.on("clearAllFilter",this.clearAllFilterHandler,this),this.parent.on("before-filter-cmenu-open",this.beforeFilterMenuOpenHandler,this),this.parent.on("beforeCustomFilterOpen",this.beforeCustomFilterOpenHandler,this),this.parent.on("reapplyFilter",this.reapplyFilterHandler,this),this.parent.on("filterByCellValue",this.filterByCellValueHandler,this),this.parent.on("clearFilter",this.clearFilterHandler,this),this.parent.on("getFilteredColumn",this.getFilteredColumnHandler,this),this.parent.on(mF,this.cMenuBeforeOpenHandler,this),this.parent.on("filter-cbox-value",this.filterCboxValueHandler,this),this.parent.on("getFilterRange",this.getFilterRangeHandler,this),this.parent.on("filterCellKeyDown",this.filterCellKeyDownHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("filterRangeAlert",this.filterRangeAlertHandler),this.parent.off("initiateFilterUI",this.initiateFilterUIHandler),this.parent.off("mouseDown",this.filterMouseDownHandler),this.parent.off("renderFilterCell",this.renderFilterCellHandler),this.parent.off("clearAllFilter",this.clearAllFilterHandler),this.parent.off("before-filter-cmenu-open",this.beforeFilterMenuOpenHandler),this.parent.off("beforeCustomFilterOpen",this.beforeCustomFilterOpenHandler),this.parent.off("reapplyFilter",this.reapplyFilterHandler),this.parent.off("filterByCellValue",this.filterByCellValueHandler),this.parent.off("clearFilter",this.clearFilterHandler),this.parent.off("getFilteredColumn",this.getFilteredColumnHandler),this.parent.off(mF,this.cMenuBeforeOpenHandler),this.parent.on("filter-cbox-value",this.filterCboxValueHandler),this.parent.off("getFilterRange",this.getFilterRangeHandler),this.parent.off("filterCellKeyDown",this.filterCellKeyDownHandler))}getModuleName(){return"filter"}isInValidFilterRange(e){let t=KR(GR(e.selectedRange));return t[0]>e.usedRange.rowIndex||t[1]>e.usedRange.colIndex}filterRangeAlertHandler(e){this.parent.serviceLocator.getService(eV).show({content:e.error,isModal:!0,height:180,width:400,showCloseIcon:!0}),this.parent.hideSpinner()}beforeFilterMenuOpenHandler(e){let t=this.parent.serviceLocator.getService(QB);e.element.classList.add("e-spreadsheet-contextmenu");let n=e.element.querySelector("ul");this.addMenuItem(n,t.getConstant("SortDescending"),"e-filter-sortdesc","e-sort-desc"),this.addMenuItem(n,t.getConstant("SortAscending"),"e-filter-sortasc","e-sort-asc"),e.element.appendChild(n)}addMenuItem(e,t,n,i){let s=this.parent.createElement("li",{className:n+" e-menu-item"});s.innerHTML=t,s.insertBefore(this.parent.createElement("span",{className:"e-menu-icon e-icons "+i}),s.firstChild),e.insertBefore(s,e.firstChild)}initiateFilterUIHandler(e){let t=e?e.predicates:null,n=this.parent.activeSheetIndex;if(this.filterRange.size>0&&this.filterRange.has(n)&&(this.removeFilter(n),!t))return;let i=wH(this.parent,n);if(this.isInValidFilterRange(i)){let e=this.parent.serviceLocator.getService(QB);this.filterRangeAlertHandler({error:e.getConstant("FilterOutOfRangeError")})}else if(this.processRange(i,n,e?e.range:null),t){let e=this.filterRange.get(n).slice();e[0]=e[0]+1,e[2]=i.usedRange.rowIndex,uH(this.parent,`${i.name}!${YR(e)}`,!0,!0).then(e=>{this.filterSuccessHandler(new vM(e),{action:"filtering",filterCollection:t,field:t[0].field}),t.forEach(e=>{this.filterClassList.get(n)[e.field].indexOf(" e-filtered")<0&&(this.filterClassList.get(n)[e.field]+=" e-filtered")}),this.refreshFilterRange()})}}processRange(e,t,n){let i=KR(GR(n||e.selectedRange));i[0]===i[2]&&i[2]-i[0]==0&&(i[0]=0,i[1]=0,i[2]=e.usedRange.rowIndex,i[3]=e.usedRange.colIndex),this.filterRange.set(t,i),this.filterCollection.set(t,[]),this.filterClassList.set(t,{}),this.refreshFilterRange(i)}removeFilter(e){this.filterCollection.get(e).length&&this.parent.clearFilter();let t=this.filterRange.get(e).slice();this.filterRange.delete(e),this.filterCollection.delete(e),this.filterClassList.delete(e),this.refreshFilterRange(t,!0)}filterByCellValueHandler(){let e=this.parent.activeSheetIndex,t=this.parent.getActiveSheet();if(this.isInValidFilterRange(t)){let e=this.parent.serviceLocator.getService(QB);return void this.filterRangeAlertHandler({error:e.getConstant("FilterOutOfRangeError")})}let n=qR(t.activeCell);this.isFilterRange(e,n[0],n[1])||this.processRange(t,e);let i=this.filterRange.get(e).slice();i[0]=i[0]+1,i[2]=t.usedRange.rowIndex;let s=$R(n[1]+1),l=this.getColumnType(t,n[1]+1,i),r=[{field:s,operator:"date"===l||"datetime"===l||"boolean"===l?"equal":"contains",value:oH(n[0],n[1],t).value,matchCase:!1,type:l}];uH(this.parent,`${t.name}!${YR(i)}`,!0,!0).then(e=>{this.filterSuccessHandler(new vM(e),{action:"filtering",filterCollection:r,field:s})})}renderFilterCellHandler(e){let t=this.parent.activeSheetIndex;if(this.filterRange.has(t)&&this.isFilterCell(t,e.rowIndex,e.colIndex)){if(!e.td)return;let n=$R(e.colIndex+1);if(this.filterClassList.has(t)&&!this.filterClassList.get(t)[n]&&(this.filterClassList.get(t)[n]=""),e.td.querySelector(".e-filter-btn"))eA(e.td.querySelector(".e-filter-iconbtn"),"btn").iconCss="e-icons e-filter-icon"+this.filterClassList.get(t)[n];else{let i=this.parent.createElement("div",{className:"e-filter-btn"}),s=new EM({iconCss:"e-icons e-filter-icon"+this.filterClassList.get(t)[n],cssClass:"e-filter-iconbtn"});e.td.insertBefore(i,e.td.firstChild),s.createElement=this.parent.createElement,s.appendTo(i)}}}refreshFilterRange(e,t){let n=e||this.filterRange.get(this.parent.activeSheetIndex).slice();for(let i=n[1];i<=n[3];i++){let e=this.parent.getCell(n[0],i);if(t){if(e.hasChildNodes()){let t=e.querySelector(".e-filter-btn");e.removeChild(t)}}else this.renderFilterCellHandler({td:e,rowIndex:n[0],colIndex:i})}}isFilterCell(e,t,n){let i=this.filterRange.get(e);return i&&i[0]===t&&i[1]<=n&&i[3]>=n}isFilterRange(e,t,n){let i=this.filterRange.get(e);return i&&i[0]<=t&&i[2]>=t&&i[1]<=n&&i[3]>=n}getFilteredColumnHandler(e){let t=this.parent.activeSheetIndex,n=this.parent.serviceLocator.getService(QB);if(e.clearFilterText=n.getConstant("ClearFilter"),this.filterRange.has(t)){let i=this.filterCollection.get(t);if(e.isClearAll)return void(e.isFiltered=i&&i.length>0);let s=this.filterRange.get(t).slice(),l=this.parent.getActiveSheet(),r=qR(l.activeCell);if(this.isFilterRange(t,r[0],r[1])){e.field=$R(r[1]+1);let t=oH(s[0],r[1],l),a=this.parent.getDisplayText(t);e.clearFilterText=n.getConstant("ClearFilterFrom")+'"'+(a?a.toString():"Column "+e.field)+'"',i.some(t=>(e.isFiltered=t.field===e.field,e.isFiltered))}}}cMenuBeforeOpenHandler(e){let t=this.parent.element.id+"_cmenu";if(e.parentItem&&e.parentItem.id===t+"_filter"&&""===e.target){let e={isFiltered:!1};this.getFilteredColumnHandler(e),this.parent.enableContextMenuItems([t+"_clearfilter",t+"_reapplyfilter"],!!e.isFiltered,!0)}}closeDialog(){let e=eA(this.parent.element.querySelector(".e-filter-popup"),"dialog");e&&e.hide()}isPopupOpened(){let e=this.parent.element.querySelector(".e-filter-popup");return e&&"none"!==e.style.display}filterCellKeyDownHandler(e){let t=this.parent.activeSheetIndex,n=this.parent.getActiveSheet(),i=qR(n.activeCell);if(this.isFilterCell(t,i[0],i[1])){e.isFilterCell=!0;let t=zH(n,i),s=this.parent.getCell(i[0],i[1]);this.isPopupOpened()&&this.closeDialog(),this.openDialog(s,t.left,t.top)}else e.isFilterCell=!1}filterMouseDownHandler(e){let t=e.target;if(t.classList.contains("e-filter-icon")){if(this.isPopupOpened())return void this.closeDialog();this.openDialog(t,e.x,e.y)}else this.isPopupOpened()&&(t.classList.contains("e-searchinput")||t.classList.contains("e-searchclear")||!t.offsetParent||t.offsetParent.classList.contains("e-filter-popup")?this.selectSortItemHandler(t):this.closeDialog())}openDialog(e,t,n){let i=SR(e,"e-cell"),s=parseInt(i.getAttribute("aria-colindex"),10),l=$R(s);this.parent.showSpinner();let r=this.parent.activeSheetIndex,a=this.filterRange.get(r).slice(),o=this.parent.getActiveSheet(),h=oH(a[0],s-1,o),c=this.parent.getDisplayText(h);a[0]=a[0]+1,a[2]=o.usedRange.rowIndex,uH(this.parent,`${o.name}!${YR(a)}`,!0,!0).then(i=>{let h;i.some((e,t)=>(e&&(h=new vM(i.slice(t))),!!e));let d={type:this.getColumnType(o,s,a),field:l,displayName:c||"Column "+l,dataSource:h,height:this.parent.element.classList.contains("e-bigger")?800:500,columns:[],hideSearchbox:!1,filteredColumns:this.filterCollection.get(r),column:{field:l,filter:{}},handler:this.filterSuccessHandler.bind(this,new vM(i)),target:e,position:{X:t,Y:n},localeObj:this.parent.serviceLocator.getService(QB)};new jR(this.parent,this.getLocalizedCustomOperators()).openDialog(d),this.parent.hideSpinner()})}filterCboxValueHandler(e){if(e.column&&e.data){let t=qR(e.column.field+e.data.dataObj.__rowIndex),n=oH(t[0],t[1],this.parent.getActiveSheet());n&&n.format&&(e.value=this.parent.getDisplayText(n))}}selectSortItemHandler(e){let t=e.classList.contains("e-filter-sortasc")?"Ascending":e.classList.contains("e-filter-sortdesc")?"Descending":null;if(!t)return;let n=this.parent.getActiveSheet(),i=this.parent.activeSheetIndex,s=this.filterRange.get(i).slice();s[0]=s[0]+1,s[2]=n.usedRange.rowIndex,this.parent.notify("applySort",{sortOptions:{sortDescriptors:{order:t}},range:YR(s)});let l=$R(GR(n.activeCell)[1]+1);for(let r of Object.keys(this.filterClassList.get(i))){let e=this.filterClassList.get(i)[r].replace(/\se-sortasc-filter|\se-sortdesc-filter/gi,"");r===l&&(e+="Ascending"===t?" e-sortasc-filter":" e-sortdesc-filter"),this.filterClassList.get(i)[r]=e}this.refreshFilterRange(),this.closeDialog()}filterSuccessHandler(e,t){let n=this.parent.activeSheetIndex,i=this.filterCollection.get(n),s=new vM(i),l=new hM,r=s.executeLocal(l.where("field","equal",t.field));for(let o=0;o<r.length;o++){let e=-1;for(let t=0;t<i.length;t++)if(i[t].field===r[o].field){e=t;break}-1!==e&&i.splice(e,1)}"filtering"===t.action?(i=i.concat(t.filterCollection),i.length&&this.filterClassList.get(n)[t.field].indexOf(" e-filtered")<0&&(this.filterClassList.get(n)[t.field]+=" e-filtered")):this.filterClassList.get(n)[t.field]=this.filterClassList.get(n)[t.field].replace(" e-filtered",""),this.filterCollection.set(n,i);let a={datasource:e,predicates:this.getPredicates(n)};this.filterRange.get(n)[2]=wH(this.parent,n).usedRange.rowIndex,this.applyFilter(a,YR(this.filterRange.get(n)))}applyFilter(e,t){let n={range:t,filterOptions:e,cancel:!1};this.parent.trigger("beforeFilter",n),n.cancel||(this.parent.showSpinner(),this.parent.filter(e,t).then(e=>(this.refreshFilterRange(),this.parent.hideSpinner(),this.parent.trigger("filterComplete",e),Promise.resolve(e))).catch(e=>(this.filterRangeAlertHandler({error:e}),Promise.reject(e))))}getPredicates(e){let t=[],n=VR.getPredicate(this.filterCollection.get(e));for(let i of Object.keys(n))t.push(n[i]);return t}getColumnType(e,t,n){let i=0,s=0,l=0;for(let r=n[0];r<=e.usedRange.rowIndex;r++){let n=oH(r,t-1,e);if(n)if(n.format)switch(hF(n.format).toLowerCase()){case"number":case"currency":case"accounting":case"percentage":i++;break;case"shortdate":case"longdate":l++;break;case"time":i++;break;default:s++}else"string"==typeof n.value?s++:i++;else s++}return i>s&&i>l&&i>0?"number":s>i&&s>l&&s>0?"string":l>i&&l>s&&l>0?"date":"datetime"}beforeCustomFilterOpenHandler(){this.closeDialog()}clearAllFilterHandler(){if(this.filterRange.has(this.parent.activeSheetIndex)){this.filterCollection.set(this.parent.activeSheetIndex,[]);for(let e of Object.keys(this.filterClassList.get(this.parent.activeSheetIndex)))this.filterClassList.get(this.parent.activeSheetIndex)[e]="";this.refreshFilterRange()}}clearFilterHandler(e){this.filterSuccessHandler(null,{action:"clear-filter",filterCollection:[],field:e.field})}reapplyFilterHandler(){let e=this.parent.activeSheetIndex;this.filterRange.has(e)&&this.applyFilter({predicates:this.getPredicates(e)},YR(this.filterRange.get(e)))}getFilterRangeHandler(e){let t=e.sheetIdx||this.parent.activeSheetIndex;this.filterRange&&this.filterRange.has(t)?(e.hasFilter=!0,e.filterRange=this.filterRange.get(t)):(e.hasFilter=!1,e.filterRange=null)}getLocalizedCustomOperators(){let e=this.parent.serviceLocator.getService(QB),t=[{value:"equal",text:e.getConstant("Equal")},{value:"greaterthan",text:e.getConstant("GreaterThan")},{value:"greaterthanorequal",text:e.getConstant("GreaterThanOrEqual")},{value:"lessthan",text:e.getConstant("LessThan")},{value:"lessthanorequal",text:e.getConstant("LessThanOrEqual")},{value:"notequal",text:e.getConstant("NotEqual")}];return{stringOperator:[{value:"startswith",text:e.getConstant("StartsWith")},{value:"endswith",text:e.getConstant("EndsWith")},{value:"contains",text:e.getConstant("Contains")},{value:"equal",text:e.getConstant("Equal")},{value:"notequal",text:e.getConstant("NotEqual")}],numberOperator:t,dateOperator:t,datetimeOperator:t,booleanOperator:[{value:"equal",text:e.getConstant("Equal")},{value:"notequal",text:e.getConstant("NotEqual")}]}}}class $B{constructor(){uV.Inject(FB,HB,VB,mB,pB,bB,vB,uB,cF,jB,qB,zB,UB,yB,BB,WB,CB,SB,wB,YB,_B,kB,EB,OB,DB,IB,AB,MB)}getModuleName(){return"basic"}destroy(){}}class GB{constructor(){uV.Inject(FB,HB,VB,mB,pB,bB,vB,uB,cF,jB,zB,UB,yB,BB,WB,wB,CB,SB,YB,_B,kB,EB,OB,IB,DB,AB,MB)}getModuleName(){return"all"}destroy(){}}var XB=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let KB=(()=>{class e extends OA{}return XB([dA(!1)],e.prototype,"isFinite",void 0),XB([dA(!0)],e.prototype,"enableVirtualization",void 0),e})(),ZB=(()=>{class e extends OA{}return XB([dA("Multiple")],e.prototype,"mode",void 0),e})();const JB="e-wraptext",QB="spreadsheetLocale",eV="dialog",tV={Custom:["#ffffff","#000000","#e7e6e6","#44546a","#4472c4","#ed7d31","#a5a5a5","#ffc000","#70ad47","#ff0000","#f2f2f2","#808080","#cfcdcd","#d5dce4","#d9e2f3","#fbe4d5","#ededed","#fff2cc","#e2efd9","#ffcccc","#d9d9d9","#595959","#aeaaaa","#acb9ca","#b4c6e7","#f7caac","#dbdbdb","#ffe599","#c5e0b3","#ff8080","#bfbfbf","#404040","#747070","#8496b0","#8eaadb","#f4b083","#c9c9c9","#ffd966","#a8d08d","#ff3333","#a6a6a6","#262626","#3b3838","#323e4f","#2f5496","#c45911","#7b7b7b","#bf8f00","#538135","#b30000","#7f7f7f","#0d0d0d","#161616","#212934","#1f3763","#823b0b","#525252","#7f5f00","#375623","#660000"]},nV={Custom:["#ffffff","#000000","#ffff00","#00ff00","#00ffff","#0000ff","#ff0000","#000080","#800080","#996633","#f2f2f2","#808080","#ffffcc","#b3ffb3","#ccffff","#ccccff","#ffcccc","#ccccff","#ff80ff","#f2e6d9","#d9d9d9","#595959","#ffff80","#80ff80","#b3ffff","#8080ff","#ff8080","#8080ff","#ff00ff","#dfbf9f","#bfbfbf","#404040","#ffff33","#33ff33","#33ffff","#3333ff","#ff3333","#0000b3","#b300b3","#c68c53","#a6a6a6","#262626","#e6e600","#00b300","#009999","#000099","#b30000","#000066","#660066","#86592d","#7f7f7f","#0d0d0d","#999900","#006600","#006666","#000066","#660000","#00004d","#4d004d","#734d26"]};let iV={FindValue:"Find value",ReplaceValue:"Replace value",FindReplaceTooltip:"Find & Replace",InsertingEmptyValue:"Reference value is not valid.",ReplaceAllEnd:" matches replaced with ",ByRow:"By Rows",ByColumn:"By Columns",MatchCase:"Match case   ",MatchExactCellElements:"Match exact cell contents",Replace:"Replace...",Find:"Find and Replace...",Goto:"Goto...",EntercellAddress:"Enter cell address",GotoSpecial:"GotoSpecial...",FindAndReplace:"Find and Replace",FindNextBtn:"Find Next",FindPreviousBtn:"Find Previous",ReplaceBtn:"Replace",ReplaceAllBtn:"Replace All",GotoHeader:"Go To",GotoSpecialHeader:"Go To Special",Sheet:"Sheet",Workbook:"Workbook",NoElements:"We couldn't find what you were looking for.",FindWhat:"Find what",ReplaceWith:"Replace with",Cut:"Cut",Copy:"Copy",Paste:"Paste",PasteSpecial:"Paste Special",Link:"Link",SpreadsheetHyperlink:"SpreadsheetHyperlink",Hyperlink:"Hyperlink",EditHyperlink:"Edit Hyperlink",OpenHyperlink:"Open Hyperlink",RemoveHyperlink:"Remove Hyperlink",InsertLink:"Insert Link",EditLink:"Edit Link",All:"All",Values:"Values",Formats:"Formats",Bold:"Bold",Font:"Font",FontSize:"Font Size",Italic:"Italic",Underline:"Underline",Strikethrough:"Strikethrough",TextColor:"Text Color",FillColor:"Fill Color",HorizontalAlignment:"Horizontal Alignment",AlignLeft:"Align Left",AlignCenter:"Center",AlignRight:"Align Right",VerticalAlignment:"Vertical Alignment",AlignTop:"Align Top",AlignMiddle:"Align Middle",AlignBottom:"Align Bottom",WrapText:"Wrap Text",MergeCells:"Merge Cells",MergeAll:"Merge All",MergeHorizontally:"Merge Horizontally",MergeVertically:"Merge Vertically",Unmerge:"Unmerge",UnmergeCells:"Unmerge Cells",SelectMergeType:"Select Merge Type",MergeCellsAlert:"Merging cells will only preserve the top-leftmost(Uppermost) value. Merge anyway?",PasteMergeAlert:'We can"t do that to a merge cell.',Borders:"Borders",SelectBorderOption:"Select Border Option",TopBorders:"Top Borders",LeftBorders:"Left Borders",RightBorders:"Right Borders",BottomBorders:"Bottom Borders",AllBorders:"All Borders",HorizontalBorders:"Horizontal Borders",VerticalBorders:"Vertical Borders",OutsideBorders:"Outside Borders",InsideBorders:"Inside Borders",NoBorders:"No Borders",BorderColor:"Border Color",BorderStyle:"Border Style",InsertFunction:"Insert Function",Insert:"Insert",Delete:"Delete",Rename:"Rename",Hide:"Hide",Unhide:"Unhide",NameBox:"Name Box",ShowHeaders:"Show Headers",HideHeaders:"Hide Headers",ShowGridLines:"Show Gridlines",HideGridLines:"Hide Gridlines",AddSheet:"Add Sheet",ListAllSheets:"List All Sheets",FullScreen:"Full Screen",CollapseToolbar:"Collapse Toolbar",ExpandToolbar:"Expand Toolbar",CollapseFormulaBar:"Collapse Formula Bar",ExpandFormulaBar:"Expand Formula Bar",File:"File",Home:"Home",Formulas:"Formulas",View:"View",New:"New",Open:"Open",SaveAs:"Save As",Update:"Update",ExcelXlsx:"Microsoft Excel",ExcelXls:"Microsoft Excel 97-2003",CSV:"Comma-separated values",FormulaBar:"Formula Bar",Sort:"Sort",SortAscending:"Ascending",SortDescending:"Descending",CustomSort:"Custom Sort",AddColumn:"Add Column",ContainsHeader:"Data contains header",CaseSensitive:"Case sensitive",SortBy:"Sort by",ThenBy:"Then by",SelectAColumn:"Select a column",SortEmptyFieldError:"Sort criteria column should not be empty.",SortDuplicateFieldError:" is mentioned more than once. Duplicate columns must be removed.",SortOutOfRangeError:"Select a cell or range inside the used range and try again.",SortAndFilter:"Sort & Filter",Filter:"Filter",ClearAllFilter:"Clear",ClearFilterFrom:"Clear Filter From ",ReapplyFilter:"Reapply",FilterCellValue:"Filter by Value of Selected Cell",FilterOutOfRangeError:"Select a cell or range inside the used range and try again.",HideRow:"Hide Row",HideRows:"Hide Rows",UnHideRows:"UnHide Rows",HideColumn:"Hide Column",HideColumns:"Hide Columns",UnHideColumns:"UnHide Columns",InsertRow:"Insert Row",InsertRows:"Insert Rows",Above:"Above",Below:"Below",InsertColumn:"Insert Column",InsertColumns:"Insert Columns",Before:"Before",After:"After",DeleteRow:"Delete Row",DeleteRows:"Delete Rows",DeleteColumn:"Delete Column",DeleteColumns:"Delete Columns",Ok:"Ok",Close:"Close",Cancel:"Cancel",Apply:"Apply",MoreColors:"More Colors",StandardColors:"Standard Colors",General:"General",Number:"Number",Currency:"Currency",Accounting:"Accounting",ShortDate:"Short Date",LongDate:"Long Date",Time:"Time",Percentage:"Percentage",Fraction:"Fraction",Scientific:"Scientific",Text:"Text",MobileFormulaBarPlaceHolder:"Enter value or Formula",NumberFormat:"Number Format",PasteAlert:"You can't paste this here, because the copy area and paste area aren't in the same size. Please try pasting in a different range.",DestroyAlert:"Are you sure you want to destroy the current workbook without saving and create a new workbook?",SheetRenameInvalidAlert:"Sheet name contains invalid character.",SheetRenameEmptyAlert:"Sheet name cannot be empty.",SheetRenameAlreadyExistsAlert:"Sheet name already exists. Please enter another name.",DeleteSheetAlert:"You can't undo deleting sheets, and you might be removing some data. If you don't need it, click OK to delete.",DeleteSingleLastSheetAlert:"A Workbook must contain at least one visible worksheet.",PickACategory:"Pick a category",Description:"Description",UnsupportedFile:"Unsupported File",InvalidUrl:"Invalid URL",SUM:"Adds a series of numbers and/or cells.",SUMIF:"Adds the cells based on specified condition.",SUMIFS:"Adds the cells based on specified conditions.",ABS:"Returns the value of a number without its sign.",RAND:"Returns a random number between 0 and 1.",RANDBETWEEN:"Returns a random integer based on specified values.",FLOOR:"Rounds a number down to the nearest multiple of a given factor.",CEILING:"Rounds a number up to the nearest multiple of a given factor.",PRODUCT:"Multiplies a series of numbers and/or cells.",AVERAGE:"Calculates average for the series of numbers and/or cells excluding text.",AVERAGEIF:"Calculates average for the cells based on specified criterion.",AVERAGEIFS:"Calculates average for the cells based on specified conditions.",AVERAGEA:"Calculates the average for the cells evaluating TRUE as 1, text and FALSE as 0.",COUNT:"Counts the cells that contain numeric values in a range.",COUNTIF:"Counts the cells based on specified condition.",COUNTIFS:"Counts the cells based on specified conditions.",COUNTA:"Counts the cells that contains values in a range.",MIN:"Returns the smallest number of the given arguments.",MAX:"Returns the largest number of the given arguments.",DATE:"Returns the date based on given year, month, and day.",DAY:"Returns the day from the given date.",DAYS:"Returns the number of days between two dates.",IF:"Returns value based on the given expression.",IFS:"Returns value based on the given multiple expressions.",CalculateAND:"Returns TRUE if all the arguments are TRUE, otherwise returns FALSE.",CalculateOR:"Returns TRUE if any of the arguments are TRUE, otherwise returns FALSE.",IFERROR:"Returns value if no error found else it will return specified value.",CHOOSE:"Returns a value from list of values, based on index number.",INDEX:"Returns a value of the cell in a given range based on row and column number.",FIND:"Returns the position of a string within another string, which is case sensitive",CONCATENATE:"Combines two or more strings together.",CONCAT:"Concatenates a list or a range of text strings.",SUBTOTAL:"Returns subtotal for a range using the given function number.",RADIANS:"Converts degrees into radians.",MATCH:"Returns the relative position of a specified value in given range.",LN:"Returns the natural logarithm of a number.",INTERCEPT:"Calculates the point of the Y-intercept line via linear regression.",SLOPE:"Returns the slope of the line from linear regression of the data points.",DefineNameExists:"This name already exists, try different name.",DefineNameInValid:"The name that you entered is not valid.",CircularReference:"When a formula refers to one or more circular references, this may result in an incorrect calculation.",ShowRowsWhere:"Show rows where:",OR:"OR",AND:"AND",CustomFilterDatePlaceHolder:"Choose a date",CustomFilterPlaceHolder:"Enter the value",CustomFilter:"Custom Filter",Between:"Between",DateTimeFilter:"DateTime Filters",Undo:"Undo",Redo:"Redo",DateFilter:"Date Filters",TextFilter:"Text Filters",NumberFilter:"Number Filters",ClearFilter:"Clear Filter",NoResult:"No Matches Found",FilterFalse:"False",FilterTrue:"True",Blanks:"Blanks",SelectAll:"Select All",GreaterThanOrEqual:"Greater Than Or Equal",GreaterThan:"Greater Than",LessThanOrEqual:"Less Than Or Equal",LessThan:"Less Than",NotEqual:"Not Equal",Equal:"Equal",Contains:"Contains",EndsWith:"Ends With",StartsWith:"Starts With",ClearButton:"Clear",FilterButton:"Filter",CancelButton:"Cancel",OKButton:"OK",Search:"Search",ProtectSheet:"Protect Sheet",UnprotectSheet:"Unprotect Sheet",LockCells:"Lock Cells",SelectCells:"Select cells",FormatCells:"Format cells",FormatRows:"Format rows",FormatColumns:"Format columns",InsertLinks:"Insert links",ProtectContent:"Protect the contents of locked cells",ProtectAllowUser:" Allow all users of this worksheet to:",EditAlert:"The cell you're trying to change is protected. To make change, unprotect the sheet.",SearchWithin:"Search within",SearchBy:"Search by",Reference:"Reference",DataValidation:"Data Validation",CLEARALL:"CLEAR ALL",APPLY:"APPLY",CellRange:"Cell Range",Allow:"Allow",Data:"Data",Minimum:"Minimum",Maximum:"Maximum",IgnoreBlank:"Ignore blank",WholeNumber:"Whole Number",Decimal:"Decimal",Date:"Date",TextLength:"Text Length",List:"List",NotBetween:"Not between",EqualTo:"Equal to",NotEqualTo:"Not equal to",Greaterthan:"Greater than",Lessthan:"Less than",GreaterThanOrEqualTo:"Greater than or equal to",LessThanOrEqualTo:"Less than or equal to",InCellDropDown:"In-cell-dropdown",Sources:"Sources",Value:"Value",Retry:"Retry",EnterValue:"Enter value",DialogError:"The list source must be a reference to single row or column.",ListLengthError:"The list values allows only upto 256 charcters",ValidationError:"This value doesn't match the data validation restrictions defined for the cell.",EmptyError:"You must enter a value",ClearHighlight:"Clear Highlight",HighlightInvalidData:"Highlight Invalid Data",ClearValidation:"Clear Validation",ISNUMBER:"Returns true when the value parses as a numeric value.",ROUND:"Rounds a number to a specified number of digits.",GEOMEAN:"Returns the geometric mean of an array or range of positive data.",POWER:"Returns the result of a number raised to power",LOG:"Returns the logarithm of a number to the base that you specify.",TRUNC:"Returns the truncated value of a number to a specified number of decimal places.",EXP:"Returns e raised to the power of the given number."};class sV{constructor(e){this.freezePane=!1,this.colGroupWidth=30,this.parent=e,this.col=e.createElement("col"),this.rowRenderer=e.serviceLocator.getService("row"),this.cellRenderer=e.serviceLocator.getService("cell"),this.addEventListener()}refreshSelectALLContent(){let e;if(this.freezePane){let t=this.getSelectAllTable().querySelector("thead"),n=this.rowRenderer.render();t.appendChild(n),e=this.parent.createElement("th",{className:"e-select-all-cell"}),n.appendChild(e)}else e=this.headerPanel.firstElementChild,e.classList.add("e-select-all-cell");e.appendChild(this.parent.createElement("button",{className:"e-selectall e-icons",id:`${this.parent.element.id}_select_all`}))}updateLeftColGroup(e,t){e&&(this.colGroupWidth=e),t||(t=this.getRowHeaderPanel());let n=t.querySelector("table");this.detachColGroup(n);let i=this.parent.createElement("colgroup"),s=`${this.colGroupWidth}px`,l=this.col.cloneNode();l.style.width=s,i.appendChild(l),n.insertBefore(i,n.querySelector("tbody")),t.style.width=s,this.freezePane?(n=this.getSelectAllTable(),this.detachColGroup(n),n.insertBefore(i.cloneNode(!0),n.querySelector("thead"))):this.getSelectAllContent().style.width=s,this.parent.getActiveSheet().showHeaders&&(this.getColHeaderPanel().style.width=`calc(100% - ${s})`,this.getContentPanel().style.width=`calc(100% - ${s})`)}detachColGroup(e){let t=e.querySelector("colgroup");t&&qD(t)}renderPanel(){this.contentPanel=this.parent.createElement("div",{className:"e-main-panel"});let e=this.parent.getActiveSheet(),t=this.parent.element.id;e.showHeaders?(this.contentPanel.appendChild(this.parent.createElement("div",{className:"e-row-header",id:`${t}_row_header`})),this.initHeaderPanel(),this.parent.allowScrolling&&this.parent.scrollModule.setPadding()):this.updateHideHeaders();let n=this.contentPanel.appendChild(this.parent.createElement("div",{className:"e-sheet-content",id:`${t}_main_content`}));e.showGridLines||n.classList.add("e-hide-gridlines"),this.parent.allowScrolling||(n.style.overflow="hidden")}initHeaderPanel(){let e=this.parent.element.id;this.headerPanel=this.parent.createElement("div",{className:"e-header-panel"}),this.headerPanel.appendChild(this.parent.createElement("div",{className:"e-selectall-container",id:`${e}_selectall`})),this.headerPanel.appendChild(this.parent.createElement("div",{className:"e-column-header",id:`${e}_col_header`}))}createTable(){this.parent.getActiveSheet().showHeaders&&this.createHeaderTable(),this.updateTable("tbody","content",this.contentPanel.lastElementChild)}createHeaderTable(e=this.contentPanel.querySelector(".e-row-header")){this.freezePane&&this.updateTable("thead","selectall",this.headerPanel.querySelector(".e-selectall-container")),this.updateTable("thead","colhdr",this.headerPanel.querySelector(".e-column-header")),this.updateTable("tbody","rowhdr",e),this.updateLeftColGroup(null,e)}updateTable(e,t,n){let i=this.parent.createElement("table",{className:"e-table",attrs:{role:"grid"}});i.classList.add(`e-${t}-table`),n.appendChild(i),i.appendChild(this.parent.createElement(e))}renderTable(e){let t,n,i,s=this.parent.getActiveSheet(),l=document.createDocumentFragment();this.createTable();let r,a,o,h=this.parent.createElement("colgroup"),c=this.contentPanel.querySelector(".e-sheet-content tbody");s.showHeaders&&(l.appendChild(this.headerPanel),this.refreshSelectALLContent(),r=this.contentPanel.querySelector(".e-row-header tbody"),a=this.headerPanel.querySelector(".e-column-header thead"),this.getColHeaderTable().insertBefore(h,a),o=this.rowRenderer.render(),a.appendChild(o)),l.appendChild(this.contentPanel),this.parent.notify("beforeContentLoaded",{startColIdx:e.indexes[1]});let d=s.colCount.toString(),u=s.colCount.toString(),p=e.top&&e.left?"RowColumn":e.top?"Row":e.left?"Column":"";s.showHeaders&&(this.parent.getColHeaderTable().setAttribute("aria-colcount",d),this.parent.getRowHeaderTable().setAttribute("aria-rowcount",u)),WD(this.parent.getContentTable(),{"aria-rowcount":u,"aria-colcount":d}),e.cells.forEach((l,a)=>{t=zR(a),t[1]===e.indexes[1]&&(s.showHeaders&&(i=this.rowRenderer.render(t[0],!0),r.appendChild(i),i.appendChild(this.cellRenderer.renderRowHeader(t[0]))),n=this.rowRenderer.render(t[0]),c.appendChild(n)),n.appendChild(this.cellRenderer.render({colIdx:t[1],rowIdx:t[0],cell:l,address:a,lastCell:t[1]===e.indexes[3],isHeightCheckNeeded:!0,row:n,hRow:i,pRow:n.previousSibling,pHRow:s.showHeaders?i.previousSibling:null,first:p?p.includes("Row")?t[0]===e.indexes[0]?"Row":p.includes("Column")&&t[1]===e.indexes[1]?"Column":"":t[1]===e.indexes[1]?"Column":"":""})),t[0]===e.indexes[0]&&(this.updateCol(s,t[1],h),s.showHeaders&&o.appendChild(this.cellRenderer.renderColHeader(t[1])))}),this.getContentTable().insertBefore(h.cloneNode(!0),c),LH(()=>{let t=this.parent.getMainContent();if(document.getElementById(this.parent.element.id+"_sheet").appendChild(l),e.top&&(t.scrollTop=e.top,s.showHeaders&&(this.parent.getRowHeaderContent().scrollTop=e.top)),e.left&&(t.scrollLeft=e.left,s.showHeaders&&(this.parent.getColumnHeaderContent().scrollLeft=e.left)),this.parent.notify("contentLoaded",null),this.parent.notify(dF,{action:"renderEditor"}),this.parent.isOpen||this.parent.hideSpinner(),QH(this.parent.getMainContent(),{busy:!1}),this.parent.trigger("dataBound",{}),e.initLoad){let e=!0;if(this.parent.scrollSettings.enableVirtualization)for(let t=0;t<s.ranges.length;t++)if(s.ranges[t].info.count-1>this.parent.viewport.bottomIndex){e=!1;break}e&&this.triggerCreatedEvent()}})}triggerCreatedEvent(){this.parent.createdHandler&&(this.parent.createdHandler.observers?this.parent.created.observers=this.parent.createdHandler.observers:this.parent.setProperties({created:this.parent.createdHandler},!0),this.parent.createdHandler=void 0,this.parent.trigger("created",null))}refreshColumnContent(e){let t,n,i,s,l=0,r=this.parent.getActiveSheet(),a=document.createDocumentFragment(),o=document.createDocumentFragment(),h=this.parent.element.querySelector(".e-sheet-content tbody");h=a.appendChild(h.cloneNode(!0));let c,d,u=this.parent.element.querySelector(".e-sheet-content colgroup");u=u.cloneNode(),r.showHeaders&&(o.appendChild(u),d=this.parent.element.querySelector(".e-column-header thead"),d=o.appendChild(d.cloneNode(!0)),c=d.querySelector("tr"),c.innerHTML=""),e.cells.forEach((i,a)=>{if(t=zR(a),t[0]===e.indexes[0]&&(this.updateCol(r,t[1],u),r.showHeaders&&c.appendChild(this.cellRenderer.renderColHeader(t[1]))),t[1]===e.indexes[1]){if(n=h.children[l],!n)return;n.innerHTML="",l++}s=n.appendChild(this.cellRenderer.render({colIdx:t[1],rowIdx:t[0],cell:i,address:a,row:n,pRow:n.previousSibling,first:e.skipUpdateOnFirst||t[1]!==e.indexes[1]?this.parent.scrollSettings.enableVirtualization&&t[0]===e.indexes[0]&&this.parent.viewport.topIndex!==dB(r,0,!0)?"Row":"":"Column"})),this.checkColMerge(t,e.indexes,s,i)}),a.insertBefore(u.cloneNode(!0),h),LH(()=>{r.showHeaders&&(i=this.getColHeaderTable(),NH(i),i.appendChild(o)),i=this.getContentTable(),NH(i),i.appendChild(a),this.parent.notify("virtualContentLoaded",{refresh:"Column"}),this.parent.isOpen||this.parent.hideSpinner(),QH(this.parent.getMainContent(),{busy:!1})})}refreshRowContent(e){let t,n,i,s,l,r,a=this.colGroupWidth,o=this.parent.getActiveSheet(),h=document.createDocumentFragment(),c=this.parent.createElement("tbody");o.showHeaders&&(s=document.createDocumentFragment(),l=c.cloneNode(),s.appendChild(l)),h.appendChild(c),e.cells.forEach((s,h)=>{t=zR(h),t[1]===e.indexes[1]&&(o.showHeaders&&(i=this.rowRenderer.render(t[0],!0),l.appendChild(i),i.appendChild(this.cellRenderer.renderRowHeader(t[0])),a=RH(t[0]+1)),n=this.rowRenderer.render(t[0]),c.appendChild(n)),r=n.appendChild(this.cellRenderer.render({rowIdx:t[0],colIdx:t[1],cell:s,address:h,lastCell:t[1]===e.indexes[3],row:n,hRow:i,pRow:n.previousSibling,pHRow:o.showHeaders?i.previousSibling:null,isHeightCheckNeeded:!0,first:e.skipUpdateOnFirst||t[0]!==e.indexes[0]?this.parent.scrollSettings.enableVirtualization&&t[1]===e.indexes[1]&&this.parent.viewport.leftIndex!==dB(o,0,!0,"columns")?"Column":"":"Row"})),this.checkRowMerge(t,e.indexes,r,s)}),this.colGroupWidth!==a&&this.updateLeftColGroup(a),o.showHeaders&&(qD(this.contentPanel.querySelector(".e-row-header tbody")),this.getRowHeaderTable().appendChild(s)),qD(this.contentPanel.querySelector(".e-sheet-content tbody")),this.getContentTable().appendChild(h),this.parent.notify("virtualContentLoaded",{refresh:"Row"}),this.parent.isOpen||this.parent.hideSpinner(),QH(this.parent.getMainContent(),{busy:!1})}updateCol(e,t,n){let i=this.col.cloneNode();return i.style.width=KO(MH(e,t)),n?n.appendChild(i):i}updateColContent(e){LH(()=>{let t,n,i,s,l,r,a,o,h=0,c=this.parent.getActiveSheet();c.showHeaders&&(r=this.parent.element.querySelector(".e-column-header .e-header-row"),o=r.firstElementChild);let d,u=this.parent.element.querySelector(".e-sheet-content colgroup"),p=u.firstElementChild,m=this.parent.element.querySelector(".e-sheet-content tbody");e.cells.forEach((i,f)=>{if(!d){if(t=zR(f),"first"===e.direction&&t[1]===e.indexes[1]&&this.checkColMerge([t[0],this.parent.viewport.leftIndex],e.indexes,(m.rows[h]||{cells:[]}).cells[e.indexes[3]-e.indexes[1]+1],oH(t[0],this.parent.viewport.leftIndex,c)||{}),t[0]===e.indexes[0]&&("last"===e.direction?(a=this.col.cloneNode(),a.style.width=KO(MH(c,t[1])),u.insertBefore(a,p),c.showHeaders&&r.insertBefore(this.cellRenderer.renderColHeader(t[1]),o)):(this.updateCol(c,t[1],u),c.showHeaders&&r.appendChild(this.cellRenderer.renderColHeader(t[1]))),this.parent.scrollSettings.enableVirtualization&&e.direction&&(qD(u[e.direction+"ElementChild"]),c.showHeaders&&qD(r[e.direction+"ElementChild"]))),t[1]===e.indexes[1]){if(n=m.children[h],h++,!n)return void(d=!0);s=n.firstElementChild}l=this.cellRenderer.render({colIdx:t[1],rowIdx:t[0],cell:i,address:f,lastCell:t[1]===e.indexes[3],isHeightCheckNeeded:"first"===e.direction,first:"last"!==e.direction||e.skipUpdateOnFirst||t[1]!==e.indexes[1]?"":"Column",checkNextBorder:"last"===e.direction&&t[3]===e.indexes[3]?"Column":""}),"last"===e.direction?(this.checkColMerge(t,e.indexes,l,i,(m.rows[h-1]||{cells:[]}).cells[0]),n.insertBefore(l,s)):n.appendChild(l),this.parent.scrollSettings.enableVirtualization&&e.direction&&qD(n[e.direction+"ElementChild"])}}),c.showHeaders&&(i=this.getColHeaderTable(),qD(i.querySelector("colgroup")),i.insertBefore(u.cloneNode(!0),i.querySelector("thead"))),this.parent.scrollSettings.enableVirtualization&&this.parent.notify("virtualContentLoaded",{refresh:"Column"}),this.parent.isOpen||this.parent.hideSpinner(),QH(this.parent.getMainContent(),{busy:!1})})}updateRowContent(e){let t,n,i,s,l,r,a=this.colGroupWidth,o=this.parent.getActiveSheet(),h=0,c=this.parent.getMainContent().querySelector("tbody");o.showHeaders&&(l=document.createDocumentFragment(),s=this.parent.getRowHeaderContent().querySelector("tbody"));let d=document.createDocumentFragment();this.parent.showSpinner(),e.cells.forEach((u,p)=>{r=zR(p),"first"===e.direction&&r[0]===e.indexes[0]&&this.checkRowMerge([this.parent.viewport.topIndex,r[1]],e.indexes,(c.rows[e.indexes[2]-e.indexes[0]+1]||{cells:[]}).cells[h],oH(this.parent.viewport.topIndex,r[1],o)||{}),r[1]===e.indexes[1]&&(o.showHeaders&&(n=this.rowRenderer.render(r[0],!0),l.appendChild(n),n.appendChild(this.cellRenderer.renderRowHeader(r[0])),a=RH(r[0]+1),this.parent.scrollSettings.enableVirtualization&&e.direction&&qD(s[e.direction+"ElementChild"])),t=this.rowRenderer.render(r[0]),d.appendChild(t),this.parent.scrollSettings.enableVirtualization&&e.direction&&qD(c[e.direction+"ElementChild"])),i=t.appendChild(this.cellRenderer.render({colIdx:r[1],rowIdx:r[2],cell:u,address:p,lastCell:r[1]===e.indexes[3],row:t,pHRow:o.showHeaders?n.previousSibling:null,checkNextBorder:"last"===e.direction&&r[2]===e.indexes[2]?"Row":"",pRow:t.previousSibling,isHeightCheckNeeded:"first"===e.direction||""===e.direction,hRow:n,first:"last"!==e.direction||e.skipUpdateOnFirst||r[0]!==e.indexes[0]?"":"Row"})),"last"===e.direction&&this.checkRowMerge(r,e.indexes,i,u,c.rows[0].cells[h]),h++}),this.colGroupWidth!==a&&this.updateLeftColGroup(a),"last"===e.direction?(o.showHeaders&&s.insertBefore(l,s.firstElementChild),c.insertBefore(d,c.firstElementChild)):(o.showHeaders&&s.appendChild(l),c.appendChild(d)),this.parent.scrollSettings.enableVirtualization&&this.parent.notify("virtualContentLoaded",{refresh:"Row"}),this.parent.isOpen||this.parent.hideSpinner(),QH(this.parent.getMainContent(),{busy:!1})}checkRowMerge(e,t,n,i,s){!this.parent.scrollSettings.enableVirtualization||!n||e[0]!==this.parent.viewport.topIndex||UO(i.rowSpan)&&UO(i.colSpan)||(i.rowSpan<0&&this.parent.notify("checkMerge",{td:n,rowIdx:e[0],colIdx:e[1],isRow:!0}),s&&(s.colSpan||s.rowSpan)&&this.cellRenderer.refresh(e[0]+(t[2]-t[0])+1,e[1],null,s))}checkColMerge(e,t,n,i,s){!this.parent.scrollSettings.enableVirtualization||!n||e[1]!==this.parent.viewport.leftIndex||UO(i.rowSpan)&&UO(i.colSpan)||(i.colSpan<0&&this.parent.notify("checkMerge",{td:n,colIdx:e[1],rowIdx:e[0]}),s&&(s.colSpan||s.rowSpan)&&this.cellRenderer.refresh(e[0],e[1]+(t[3]-t[1])+1,null,s))}showHideHeaders(){let e=this.parent.getActiveSheet();if(e.showHeaders)if(this.parent.scrollSettings.enableVirtualization){let e=[this.parent.viewport.topIndex,this.parent.viewport.leftIndex,this.parent.viewport.bottomIndex,this.parent.viewport.rightIndex];this.renderHeaders([e[0],e[2]],[e[1],e[3]])}else this.renderHeaders([0,e.rowCount-1],[0,e.colCount-1]),"A1"!==e.topLeftCell&&this.parent.goTo(e.topLeftCell);else LH(()=>{qD(this.headerPanel),qD(this.getRowHeaderPanel()),this.getContentPanel().style.width="",this.updateHideHeaders()})}renderHeaders(e,t){let n=this.parent.getActiveSheet();this.initHeaderPanel();let i=document.createDocumentFragment(),s=document.createDocumentFragment();i.appendChild(this.headerPanel);let l=s.appendChild(this.parent.createElement("div",{className:"e-row-header",id:`${this.parent.element.id}_row_header`}));this.createHeaderTable(l),this.parent.notify("beforeHeaderLoaded",{element:l}),this.refreshSelectALLContent();let r,a=l.querySelector("tbody"),o=this.headerPanel.querySelector(".e-column-header thead"),h=this.rowRenderer.render();o.appendChild(h);for(let d=t[0];d<=t[1];d++)PH(n,d)||h.appendChild(this.cellRenderer.renderColHeader(d));let c=RH(e[1]);this.colGroupWidth!==c&&this.updateLeftColGroup(c,l);for(let d=e[0];d<=e[1];d++)sH(n,d)||(r=this.rowRenderer.render(d,!0),r.appendChild(this.cellRenderer.renderRowHeader(d)),a.appendChild(r));LH(()=>{this.getColHeaderTable().insertBefore(this.getContentTable().querySelector("colgroup").cloneNode(!0),o);let e=document.getElementById(this.parent.element.id+"_sheet");e.classList.remove("e-hide-headers"),e.insertBefore(i,this.contentPanel);let t=this.getContentPanel();this.contentPanel.insertBefore(s,t),this.parent.scrollModule.setPadding(),l.scrollTop=t.scrollTop,this.getColHeaderPanel().scrollLeft=t.scrollLeft})}updateHideHeaders(){document.getElementById(this.parent.element.id+"_sheet").classList.add("e-hide-headers"),this.headerPanel=null}getSelectAllContent(){return this.headerPanel.getElementsByClassName("e-selectall-container")[0]}getSelectAllTable(){return this.headerPanel.getElementsByClassName("e-selectall-table")[0]}getColHeaderTable(){return this.headerPanel.getElementsByClassName("e-colhdr-table")[0]}getRowHeaderTable(){return this.contentPanel.getElementsByClassName("e-rowhdr-table")[0]}getContentTable(){return this.contentPanel.getElementsByClassName("e-content-table")[0]}getRowHeaderPanel(){return this.contentPanel.getElementsByClassName("e-row-header")[0]}getColHeaderPanel(){return this.headerPanel.getElementsByClassName("e-column-header")[0]}getContentPanel(){return this.contentPanel.getElementsByClassName("e-sheet-content")[0]}addEventListener(){this.parent.on("created",this.triggerCreatedEvent,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}destroy(){this.removeEventListener(),this.parent=null}removeEventListener(){this.parent.off("created",this.triggerCreatedEvent),this.parent.off("spreadsheetDestroyed",this.destroy)}}class lV{constructor(e){this.parent=e,this.element=this.parent.createElement("tr",{attrs:{role:"row"}}),this.cellRenderer=e.serviceLocator.getService("cell")}render(e,t,n){let i=this.element.cloneNode();if(void 0===e)return i.classList.add("e-header-row"),i;i.classList.add("e-row");let s=this.parent.getActiveSheet();return WD(i,{"aria-rowindex":(e+1).toString()}),i.style.height=`${lH(s,e)}px`,t&&!n&&(sH(s,e+1)&&!sH(s,e-1)&&i.classList.add("e-hide-start"),0!==e&&sH(s,e-1)&&!sH(s,e+1)&&i.classList.add("e-hide-end")),i}refresh(e,t,n,i){let s,l=this.parent.getActiveSheet();if(i)s=this.render(e,!0,!0),s.appendChild(this.cellRenderer.renderRowHeader(e));else{s=this.render(e);for(let i=this.parent.viewport.leftIndex;i<=this.parent.viewport.rightIndex;i++)PH(l,i)||s.appendChild(this.cellRenderer.render({colIdx:i,rowIdx:e,cell:oH(e,i,l),address:WR(e,i),lastCell:i===this.parent.viewport.rightIndex,row:s,hRow:n,isHeightCheckNeeded:!0,pRow:t,first:e===this.parent.viewport.topIndex&&dB(l,e,!0)!==dB(l,0,!0)?"Row":""}))}return s}}class rV{constructor(e){this.parent=e,this.element=this.parent.createElement("td"),this.th=this.parent.createElement("th",{className:"e-header-cell"}),this.tableRow=e.createElement("tr",{className:"e-row"})}renderColHeader(e){let t=this.th.cloneNode();WD(t,{role:"columnheader","aria-colindex":(e+1).toString(),tabindex:"-1"}),t.innerHTML=$R(e+1);let n=this.parent.getActiveSheet();return PH(n,e+1)&&t.classList.add("e-hide-start"),0!==e&&PH(n,e-1)&&t.classList.add("e-hide-end"),t}renderRowHeader(e){let t=this.element.cloneNode();return RD([t],"e-header-cell"),WD(t,{role:"rowheader",tabindex:"-1"}),t.innerHTML=(e+1).toString(),t}render(e){if(e.td=this.element.cloneNode(),e.td.className="e-cell",WD(e.td,{role:"gridcell","aria-colindex":(e.colIdx+1).toString(),tabindex:"-1"}),this.checkMerged(e))return e.td;e.td.innerHTML=this.processTemplates(e.cell,e.rowIdx,e.colIdx),e.isRefresh=!1,this.update(e),sB(this.parent,e.rowIdx,e.colIdx,this.parent.activeSheetIndex)||this.parent.notify("renderFilterCell",{td:e.td,rowIndex:e.rowIdx,colIndex:e.colIdx});let t={cell:e.cell,element:e.td,address:e.address};return this.parent.trigger("beforeCellRender",t),this.updateRowHeight({rowIdx:e.rowIdx,cell:t.element,lastCell:e.lastCell,rowHgt:20,row:e.row,hRow:e.hRow}),t.element}update(e){if(e.isRefresh&&(e.td.rowSpan&&e.td.removeAttribute("rowSpan"),e.td.colSpan&&e.td.removeAttribute("colSpan"),this.checkMerged(e)))return;if(e.cell&&e.cell.formula&&!e.cell.value){let t=QF(e.cell.formula);this.parent.notify(sF,{action:"refreshCalculate",value:e.cell.formula,rowIndex:e.rowIdx,colIndex:e.colIdx,isFormula:t}),e.cell.value=oH(e.rowIdx,e.colIdx,this.parent.getActiveSheet()).value}let t={type:e.cell&&hF(e.cell.format),value:e.cell&&e.cell.value,format:e.cell&&e.cell.format?e.cell.format:"General",formattedText:e.cell&&e.cell.value,onLoad:!0,isRightAlign:!1,cell:e.cell,rowIdx:e.rowIdx.toString(),colIdx:e.colIdx.toString()};e.cell&&this.parent.notify("getFormattedCell",t),UO(e.td)||this.parent.refreshNode(e.td,{type:t.type,result:t.formattedText,curSymbol:EI(this.parent.locale,"USD"),isRightAlign:t.isRightAlign,value:t.value||""});let n={};if(e.cell){if(e.cell.style&&(n=e.cell.style.properties?cH(e.cell.style,!0):e.cell.style),e.cell.hyperlink&&this.parent.notify("createHyperlinkElement",{cell:e.cell,td:e.td,rowIdx:e.rowIdx,colIdx:e.colIdx}),e.cell.wrap&&this.parent.notify("wrapText",{range:[e.rowIdx,e.colIdx,e.rowIdx,e.colIdx],wrap:!0,sheet:this.parent.getActiveSheet(),initial:!0,td:e.td,row:e.row,hRow:e.hRow}),e.cell.rowSpan>1){let t=e.cell.rowSpan-this.parent.hiddenCount(e.rowIdx,e.rowIdx+(e.cell.rowSpan-1));t>1&&(e.td.rowSpan=t)}if(e.cell.colSpan>1){let t=e.cell.colSpan-this.parent.hiddenCount(e.colIdx,e.colIdx+(e.cell.colSpan-1),"columns");t>1&&(e.td.colSpan=t)}}if(e.isRefresh&&this.removeStyle(e.td,e.rowIdx,e.colIdx),(Object.keys(n).length||Object.keys(this.parent.commonCellStyle).length||e.lastCell)&&this.parent.notify("applyCellFormat",{style:qO({},this.parent.commonCellStyle,n),rowIdx:e.rowIdx,colIdx:e.colIdx,cell:e.td,first:e.first,row:e.row,lastCell:e.lastCell,hRow:e.hRow,pRow:e.pRow,isHeightCheckNeeded:e.isHeightCheckNeeded,manualUpdate:e.manualUpdate}),"Row"===e.checkNextBorder){let t=this.parent.getCellStyleValue(["borderTop"],[Number(this.parent.getContentTable().rows[0].getAttribute("aria-rowindex"))-1,e.colIdx]).borderTop;""===t||e.cell&&e.cell.style&&e.cell.style.bottomPriority||this.parent.notify("applyCellFormat",{style:{borderBottom:t},rowIdx:e.rowIdx,colIdx:e.colIdx,cell:e.td})}if("Column"===e.checkNextBorder){let t=this.parent.getCellStyleValue(["borderLeft"],[e.rowIdx,e.colIdx+1]).borderLeft;""===t||e.cell&&e.cell.style&&(e.cell.style.borderRight||e.cell.style.border)||this.parent.notify("applyCellFormat",{style:{borderRight:t},rowIdx:e.rowIdx,colIdx:e.colIdx,cell:e.td})}if(e.cell&&e.cell.hyperlink&&!sB(this.parent,e.rowIdx,e.colIdx,this.parent.activeSheetIndex)){let t;"string"==typeof e.cell.hyperlink?(t=e.cell.hyperlink,0!==t.indexOf("http://")&&0!==t.indexOf("https://")&&0!==t.indexOf("ftp://")&&(e.cell.hyperlink=0===t.indexOf("www.")?"http://"+t:t)):(t=e.cell.hyperlink.address,0!==t.indexOf("http://")&&0!==t.indexOf("https://")&&0!==t.indexOf("ftp://")&&(e.cell.hyperlink.address=0===t.indexOf("www.")?"http://"+t:t)),this.parent.notify("createHyperlinkElement",{cell:e.cell,td:e.td,rowIdx:e.rowIdx,colIdx:e.colIdx})}e.cell&&e.cell.validation&&e.cell.validation.isHighlighted&&(e.td.style.backgroundColor="#ffff00",e.td.style.color="#ff0000")}checkMerged(e){return!(!e.cell||!(e.cell.colSpan<0||e.cell.rowSpan<0)||(e.td.style.display="none",e.cell.colSpan<0&&this.parent.notify("checkPrevMerge",e),e.cell.rowSpan<0&&(e.isRow=!0,this.parent.notify("checkPrevMerge",e)),0))}processTemplates(e,t,n){let i,s=this.parent.getActiveSheet(),l=s.ranges;for(let r=0,a=l.length;r<a;r++)if(l[r].template&&(i=zR(l[r].address.length?l[r].address:l[r].startCell),i[0]<=t&&i[1]<=n&&i[2]>=t&&i[3]>=n)){if(e)return this.compileCellTemplate(l[r].template);if(!oH(t,n,s,!0))return this.compileCellTemplate(l[r].template)}return""}compileCellTemplate(e){let t;return t=0===e.trim().indexOf("#")?document.querySelector(e).innerHTML.trim():e,fD(t)({},null,null,"",!0)[0].outerHTML}updateRowHeight(e){if(e.cell&&e.cell.children.length){let t=e.cell.cloneNode(!0);this.tableRow.appendChild(t)}if(e.lastCell&&this.tableRow.childElementCount){let t=this.parent.getActiveSheet(),n=e.row||this.parent.getRow(e.rowIdx),i=lH(t,e.rowIdx),s=this.getRowHeightOnInit();s>i&&(n.style.height=`${s}px`,t.showHeaders&&((e.hRow||this.parent.getRow(e.rowIdx,this.parent.getRowHeaderTable())).style.height=`${s}px`),rH(t,e.rowIdx,s)),this.tableRow.innerHTML=""}}getRowHeightOnInit(){let e=this.parent.createElement("table",{className:"e-table e-test-table"});e.appendChild(this.parent.createElement("tbody")).appendChild(this.tableRow),this.parent.element.appendChild(e);let t=Math.round(this.tableRow.getBoundingClientRect().height);return this.parent.element.removeChild(e),t<20?20:t}removeStyle(e,t,n){e.style.length&&e.removeAttribute("style");let i=this.parent.getCell(t-1,n);i&&i.style.borderBottom&&(t=Number(i.parentElement.getAttribute("aria-rowindex"))-1,this.parent.getCellStyleValue(["borderBottom"],[t,n]).borderBottom||(i.style.borderBottom=""));let s=e.previousElementSibling;s&&s.style.borderRight&&(n=Number(s.getAttribute("aria-colindex"))-1,this.parent.getCellStyleValue(["borderRight"],[t,n]).borderRight||(s.style.borderRight=""))}refreshRange(e){let t=this.parent.getActiveSheet(),n=e.slice();if(jH(this.parent,n,!0))for(let i=n[0];i<=n[2];i++)if(!sH(t,i))for(let e=n[1];e<=n[3];e++){let s=this.parent.getCell(i,e);s&&(this.update({rowIdx:i,colIdx:e,td:s,cell:oH(i,e,t),lastCell:e===n[3],isRefresh:!0,isHeightCheckNeeded:!0,manualUpdate:!0,first:""}),this.parent.notify("renderFilterCell",{td:s,rowIndex:i,colIndex:e}))}}refresh(e,t,n,i){let s=this.parent.getActiveSheet();if((i||!sH(s,e)&&!PH(s,t))&&(i||!this.parent.scrollSettings.enableVirtualization||e>=this.parent.viewport.topIndex&&e<=this.parent.viewport.bottomIndex&&t>=this.parent.viewport.leftIndex&&t<=this.parent.viewport.rightIndex)){let l=i||this.parent.getCell(e,t);this.update({rowIdx:e,colIdx:t,td:l,cell:oH(e,t,s),lastCell:n,isRefresh:!0,isHeightCheckNeeded:!0,manualUpdate:!0,first:""}),this.parent.notify("renderFilterCell",{td:l,rowIndex:e,colIndex:t})}}}class aV{constructor(e){this.parent=e,this.addEventListener()}render(){this.parent.activeSheetIndex=this.parent.skipHiddenSheets(this.parent.activeSheetIndex),this.parent.isMobileView()||(this.parent.notify("ribbon",null),this.parent.notify("formulaBar",null));let e=this.parent.createElement("div",{id:this.parent.element.id+"_sheet_panel",className:"e-sheet-panel"});if(this.parent.enableRtl&&e.classList.add("e-rtl"),this.parent.element.appendChild(e),this.parent.showSheetTabs)this.parent.notify("sheetTabs",null);else{let e=SH(this.parent,0);this.parent.notify(sF,{action:"addSheet",sheetName:"Sheet1",index:1,visibleName:e}),this.parent.notify(sF,{action:"initiateDefinedNames"})}this.parent.isMobileView()&&(this.parent.notify("formulaBar",null),this.parent.notify("ribbon",null)),this.setSheetPanelSize(),this.renderSheet(e),this.checkTopLeftCell(!0)}checkTopLeftCell(e){let t=this.parent.getActiveSheet();if(this.parent.scrollSettings.enableVirtualization&&"A1"!==t.topLeftCell){let e=qR(t.topLeftCell),n=e[0]?aH(t,0,e[0]-1):0,i=e[1]?TH(t,0,e[1]-1):0;this.parent.notify("onContentScroll",{scrollLeft:i,scrollTop:n,preventScroll:!0});let s=this.parent.getThreshold("row"),l=e[0]>s?e[0]-s:0;s=this.parent.getThreshold("col"),this.refreshUI({rowIndex:l,colIndex:e[1]>s?e[1]-s:0,refresh:"All",top:n,left:i})}else this.refreshUI({rowIndex:0,colIndex:0,refresh:"All"},null,e)}renderSheet(e=document.getElementById(this.parent.element.id+"_sheet_panel")){e.appendChild(this.parent.createElement("div",{className:"e-sheet",id:this.parent.element.id+"_sheet"})),this.parent.serviceLocator.getService("sheet").renderPanel()}refreshUI(e,t,n){let i=this.parent.serviceLocator.getService("sheet"),s=this.parent.getActiveSheet(),l=SH(this.parent);if(this.parent.showSpinner(),!t)if(this.parent.scrollSettings.enableVirtualization){let n=e.rowIndex+this.parent.viewport.rowCount+2*this.parent.getThreshold("row"),i=s.rowCount-1;this.parent.scrollSettings.isFinite&&n>i&&(n=i);let l=e.colIndex+this.parent.viewport.colCount+2*this.parent.getThreshold("col");i=s.colCount-1,this.parent.scrollSettings.isFinite&&l>i&&(l=i);let r=this.parent.skipHidden(e.rowIndex,n),a=e.rowIndex;if(e.rowIndex!==r[0]){let t=qR(s.topLeftCell);t[0]===e.rowIndex&&(s.topLeftCell=WR(r[0],t[1])),e.rowIndex=r[0]}n=r[1],r=this.parent.skipHidden(e.colIndex,l,"columns");let o=e.colIndex;if(e.colIndex!==r[0]){let t=qR(s.topLeftCell);t[1]===e.colIndex&&(s.topLeftCell=WR(t[0],r[0])),e.colIndex=r[0]}l=r[1],this.parent.viewport.topIndex=e.rowIndex,this.parent.viewport.bottomIndex=n,this.parent.viewport.leftIndex=e.colIndex,this.parent.viewport.rightIndex=l,t=`${WR(a,o)}:${WR(n,l)}`}else t=`A1:${WR(s.rowCount-1,s.colCount-1)}`;"All"===e.refresh&&this.parent.trigger("beforeDataBound",{}),QH(this.parent.getMainContent(),{busy:!0}),this.parent.getData(`${l}!${t}`).then(s=>{let l=[e.rowIndex,e.colIndex,...qR(t.split(":")[1])];switch(e.refresh){case"All":i.renderTable({cells:s,indexes:l,top:e.top,left:e.left,initLoad:n});break;case"Row":i.refreshRowContent({cells:s,indexes:l,skipUpdateOnFirst:e.skipUpdateOnFirst});break;case"Column":i.refreshColumnContent({cells:s,indexes:l,skipUpdateOnFirst:e.skipUpdateOnFirst});break;case"RowPart":i.updateRowContent({cells:s,indexes:l,direction:e.direction,skipUpdateOnFirst:e.skipUpdateOnFirst});break;case"ColumnPart":i.updateColContent({cells:s,indexes:l,direction:e.direction,skipUpdateOnFirst:e.skipUpdateOnFirst})}}),this.parent.notify("beforeVirtualContentLoaded",{refresh:e.refresh})}removeSheet(){UD(document.getElementById(this.parent.element.id+"_sheet"))}refreshSheet(){this.removeSheet(),this.renderSheet(),this.parent.notify("deInitProperties",{}),this.checkTopLeftCell()}setSheetPanelSize(){let e,t=document.getElementById(this.parent.element.id+"_sheet_panel"),n=this.parent.element.getBoundingClientRect();"auto"===this.parent.height?(t.style.height="260px",e=230):(e=n.height-BH(t),t.style.height=`${e}px`,e-=32),this.parent.viewport.height=e,this.parent.viewport.width=n.width-32,this.parent.viewport.rowCount=this.roundValue(e,20),this.parent.viewport.colCount=this.roundValue(n.width,64)}roundValue(e,t){let n=e/t,i=Math.round(n);return Math.abs(n-i)<.5?i:i-1}instantiateRenderer(){this.parent.serviceLocator.register("cell",new rV(this.parent)),this.parent.serviceLocator.register("row",new lV(this.parent)),this.parent.serviceLocator.register("sheet",new sV(this.parent))}destroy(){this.removeEventListener(),this.parent=null}addEventListener(){this.parent.on("initialLoad",this.instantiateRenderer,this),this.parent.on("dataRefresh",this.refreshSheet,this),this.parent.on("spreadsheetDestroyed",this.destroy,this)}removeEventListener(){this.parent.off("initialLoad",this.instantiateRenderer),this.parent.off("dataRefresh",this.refreshSheet),this.parent.off("spreadsheetDestroyed",this.destroy)}}class oV{constructor(e){this.parent=e}show(e,t){let n;t=!!UO(t);let i=e.close||null,s={header:"Spreadsheet",cssClass:this.parent.cssClass,target:this.parent.element,buttons:[]};e.close=()=>{this.dialogInstance.destroy(),UD(this.dialogInstance.element),this.dialogInstance=null,i&&i()},qO(s,e),t&&(n=this.parent.serviceLocator.getService(QB).getConstant(s.buttons.length?"Cancel":"Ok"),s.buttons.push({buttonModel:{content:n,isPrimary:0===s.buttons.length},click:this.hide.bind(this)}));let l=this.parent.createElement("div");document.body.appendChild(l),this.dialogInstance=new CP(s),this.dialogInstance.createElement=this.parent.createElement,this.dialogInstance.appendTo(l),this.dialogInstance.refreshPosition()}hide(){this.dialogInstance&&this.dialogInstance.hide()}destroy(){this.parent=null}}class hV{constructor(e){this.parent=e,this.addEventListener()}initializeActionBegin(){let e=this.parent.beforeCellFormat;this.parent.beforeCellFormat=t=>{this.actionEventHandler({evtArgs:t,evtFunc:e,actionType:"begin",eventType:"format"})};let t=this.parent.beforeOpen;this.parent.beforeOpen=e=>{this.actionEventHandler({evtArgs:e,evtFunc:t,actionType:"begin",eventType:"beforeOpen"})};let n=this.parent.beforeSave;this.parent.beforeSave=e=>{this.actionEventHandler({evtArgs:e,evtFunc:n,actionType:"begin",eventType:"beforeSave"})};let i=this.parent.beforeSort;this.parent.beforeSort=e=>{this.actionEventHandler({evtArgs:e,evtFunc:i,actionType:"begin",eventType:"beforeSort"})}}initializeActionComplete(){let e=this.parent.sortComplete;this.parent.sortComplete=t=>{this.actionEventHandler({evtArgs:t,evtFunc:e,actionType:"complete",eventType:"sorting"})};let t=this.parent.cellSave;this.parent.cellSave=e=>{this.actionEventHandler({evtArgs:e,evtFunc:t,actionType:"complete",eventType:"cellSave"})}}actionEventHandler(e){e.evtFunc&&e.evtFunc.apply(this,[e]),"begin"===e.actionType?this.actionBeginHandler({eventArgs:e.evtArgs,action:e.eventType}):this.actionCompleteHandler({eventArgs:e.evtArgs,action:e.eventType})}actionBeginHandler(e){this.parent.trigger("actionBegin",{action:e.action,args:e}),"clipboard"!==e.action&&"beforeSort"!==e.action&&"format"!==e.action&&"cellSave"!==e.action&&"beforeWrap"!==e.action&&"beforeReplace"!==e.action||this.parent.notify("setActionData",{args:e})}actionCompleteHandler(e){this.parent.trigger("actionComplete",e),"undoRedo"!==e.action&&"gotoSheet"!==e.action&&this.parent.notify("updateUndoRedoCollection",{args:e})}addEventListener(){this.parent.on(gF,this.actionCompleteHandler,this),this.parent.on(bF,this.actionBeginHandler,this)}removeEventListener(){this.parent.off(gF,this.actionCompleteHandler),this.parent.off(bF,this.actionBeginHandler)}}var cV,dV=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r};let uV=(()=>{let e=cV=class extends IH{constructor(e,t){super(e),this.isEdit=!1,this.viewport={rowCount:0,colCount:0,height:0,topIndex:0,leftIndex:0,width:0,bottomIndex:0,rightIndex:0},this.needsID=!0,cV.Inject(FB,HB,VB,mB,pB,bB,vB,uB,cF,jB,qB,zB,UB,yB,BB,kB,jF,wF,CF,VF,aF,FF,WB,HF,wB,SB,BF,YB,_B,zF,EB,OB,qF,UF,IB,WF,DB,AB,MB,GF,YF),t&&this.appendTo(t)}getCell(e,t,n){return t=this.getViewportIndex(t,!0),n||(n=this.getRow(e)),n?n.cells[t]:n}getRow(e,t){return e=this.getViewportIndex(e),(t=t||this.getContentTable())?t.rows[e]:null}hiddenCount(e,t,n="rows"){let i=this.getActiveSheet(),s=0;for(let l=e;l<=t;l++)i[n][l]&&i[n][l].hidden&&s++;return s}getViewportIndex(e,t){return this.scrollSettings.enableVirtualization&&(t?(e-=this.hiddenCount(this.viewport.leftIndex,e,"columns"),e-=this.viewport.leftIndex):(e-=this.hiddenCount(this.viewport.topIndex,e),e-=this.viewport.topIndex)),e}preRender(){super.preRender(),this.serviceLocator=new kH,this.initServices()}initServices(){this.serviceLocator.register(QB,new WA(this.getModuleName(),iV,this.locale)),this.serviceLocator.register(eV,new oV(this)),this.serviceLocator.register("actionEvents",new hV(this))}render(){super.render(),this.element.setAttribute("tabindex","0"),QH(this.element,{role:"grid"}),this.renderModule=new aV(this),this.notify("initialLoad",null),this.renderSpreadsheet(),this.wireEvents(),this.created&&(this.created.observers?this.created.observers.length>0&&(this.createdHandler={observers:this.created.observers},this.created.observers=[]):(this.createdHandler=this.created,this.setProperties({created:void 0},!0)))}renderSpreadsheet(){this.cssClass&&RD([this.element],this.cssClass.split(" ")),this.setHeight(),this.setWidth(),OP({target:this.element},this.createElement),this.isMobileView()&&-1===this.cssClass.indexOf("e-mobile-view")&&this.element.classList.add("e-mobile-view"),this.sheetModule=this.serviceLocator.getService("sheet"),this.allowScrolling&&(this.scrollModule=new fB(this)),this.scrollSettings.enableVirtualization&&new gB(this),this.renderModule.render(),new xB(this)}showSpinner(){HP(this.element)}hideSpinner(){VP(this.element)}protectSheet(e,t){"string"==typeof e&&(e=fH(this,e)),e&&(this.sheets[e].isProtected=!0,this.sheets[e].protectSettings=t),e=this.getActiveSheet().index,this.getActiveSheet().isProtected=!0,super.protectSheet(e,t)}unprotectSheet(e){"string"==typeof e&&(e=fH(this,e)),e?this.sheets[e].isProtected=!1:this.getActiveSheet().isProtected=!1,super.unprotectSheet(e)}find(e){super.findHandler(e)}replace(e){super.replaceHandler(e)}findAll(e,t,n,i,s){let l=[];return this.notify("findAllValues",{value:e,mode:t=t||"Sheet",sheetIndex:s=s||this.activeSheetIndex,isCSen:n=n||!1,isEMatch:i=i||!1,findCollection:l}),l}goTo(e){if(e.includes("!")){let t=e.split("!"),n=fH(this,t[0]);if(void 0===n)return;if(n!==this.activeSheetIndex){let e=t[1].split(":")[0];this.sheets[n].activeCell=e,this.sheets[n].selectedRange=t[1];let i=qR(e);return i[0]<this.viewport.rowCount&&(i[0]=0),i[1]<this.viewport.colCount&&(i[1]=0),this.sheets[n].topLeftCell=WR(i[0],i[1]),this.activeSheetIndex=n,void this.dataBind()}}let t=zR(e),n=this.getActiveSheet(),i=t[0]>=this.viewport.topIndex&&t[0]<this.viewport.bottomIndex&&t[1]>=this.viewport.leftIndex&&t[1]<this.viewport.rightIndex;if(i){this.selectRange(e);let i=qR(n.topLeftCell);if(i[2]=i[0]+this.viewport.rowCount,i[3]=i[1]+this.viewport.colCount,t[0]>=i[0]&&t[0]<i[2]&&t[1]>=i[1]&&t[1]<i[3])return}let s,l,r,a,o,h,c,d=this.getMainContent();0===t[0]?a=aH(n,0):(a=aH(n,0,t[0]-1),this.scrollSettings.enableVirtualization&&(c=a+this.getContentTable().getBoundingClientRect().height,h=parseInt(d.querySelector(".e-virtualtrack").style.height,10),c>h&&(c+=10,s=d.querySelector(".e-virtualtrack"),s.style.height=`${c}px`,n.showHeaders&&(r=this.getRowHeaderContent().querySelector(".e-virtualtrack"),r.style.height=`${c}px`),LH(()=>{s.style.height=`${h}px`,n.showHeaders&&(r.style.height=`${h}px`)})))),d.scrollTop=a,0===t[1]?a=TH(n,0):(a=TH(n,0,t[1]-1),this.scrollSettings.enableVirtualization&&(c=a+this.getContentTable().getBoundingClientRect().width,o=parseInt(d.querySelector(".e-virtualtrack").style.width,10),c>o&&(c+=10,s=d.querySelector(".e-virtualtrack"),s.style.width=`${c}px`,n.showHeaders&&(l=this.getColumnHeaderContent().querySelector(".e-virtualtrack"),l.style.width=`${c}px`),LH(()=>{s.style.width=`${o}px`,n.showHeaders&&(l.style.width=`${o}px`)})))),d.scrollLeft=a,i||this.selectRange(e)}resize(){this.renderModule.setSheetPanelSize(),this.scrollSettings.enableVirtualization&&this.renderModule.refreshSheet()}cut(e){let t=new Promise((e,t)=>{e(void 0)});return this.notify("cut",e?{range:GR(e),sId:this.sheets[fH(this,bH(e))].id,promise:t}:{promise:t}),t}copy(e){let t=new Promise((e,t)=>{e(void 0)});return this.notify("copy",e?{range:GR(e),sId:this.sheets[fH(this,bH(e))].id,promise:t}:{promise:t}),t}paste(e,t){this.notify("paste",{range:GR(e),sIdx:fH(this,bH(e)),type:t,isAction:!1})}updateAction(e){let t=JSON.parse(e);this.notify("collaborativeUpdate",{action:t.action,eventArgs:t.eventArgs})}setHeight(){this.height.toString().indexOf("%")>-1&&(this.element.style.minHeight="400px"),this.element.style.height=KO(this.height)}setWidth(){(this.width.toString().indexOf("%")>-1||"auto"===this.width)&&(this.element.style.minWidth="300px"),this.element.style.width=KO(this.width)}setColWidth(e=64,t=0,n){let i=this.getThreshold("col"),s=this.viewport.leftIndex+this.viewport.colCount+2*i,l=UO(n)?this.getActiveSheet():this.sheets[n];if(l){let n=t,i="number"==typeof e?e+"px":e;if(t=UO(t)?qR(l.activeCell)[1]:t,l===this.getActiveSheet())if(t>=this.viewport.leftIndex&&t<=s){this.scrollSettings.enableVirtualization&&(t-=this.viewport.leftIndex);let e=this.getColumnHeaderContent().getElementsByClassName("e-header-cell")[t],n=parseInt(this.getMainContent().getElementsByTagName("col")[t].style.width,10),s=parseInt(i,10)-n;s<0&&n<-s&&(qR(l.activeCell),s=-n);let r=parseInt(e.getAttribute("aria-colindex"),10)-1;this.getActiveSheet()===l&&(this.notify("colWidthChanged",{threshold:s,colIdx:r}),eB(t,i,!0,this))}else{let e,n=MH(l,t);e=parseInt(i,10)>0?-(n-parseInt(i,10)):-n,this.notify("colWidthChanged",{threshold:e,colIdx:t})}DH(l,n).width=parseInt(i,10)>0?parseInt(i,10):0,l.columns[n].customWidth=!0}}setRowHeight(e=20,t=0,n){let i=UO(n)?this.getActiveSheet():this.sheets[n];if(i){let n=t,s="number"==typeof e?e+"px":e;if(t=UO(t)?qR(i.activeCell)[0]:t,i===this.getActiveSheet())if(t<=this.viewport.bottomIndex&&t>=this.viewport.topIndex){this.scrollSettings.enableVirtualization&&(t-=this.viewport.topIndex);let e=this.getRowHeaderContent().getElementsByClassName("e-header-cell")[t],n=parseInt(this.getMainContent().getElementsByTagName("tr")[t].style.height,10),l=parseInt(s,10)-n;l<0&&n<-l&&(l=-n);let r=parseInt(e.parentElement.getAttribute("aria-rowindex"),10)-1;this.getActiveSheet()===i&&(this.notify("rowHeightChanged",{threshold:l,rowIdx:r}),eB(t,s,!1,this))}else{let e,n=lH(i,t);e=parseInt(s,10)>0?-(n-parseInt(s,10)):-n,this.notify("rowHeightChanged",{threshold:e,rowIdx:t})}rH(i,n,parseInt(s,10)>0?parseInt(s,10):0),i.rows[n].customHeight=!0}}autoFit(e){let t=this.getIndexes(e),n=t.startIdx,i=t.endIdx,s=t.isCol,l=s?UR("XFD"):1048576;if(n<=l)for(i>l&&(i=l);n<=i;n++)this.notify("setAutoFit",{idx:n,isCol:s})}getIndexes(e){let t,n,i,s,l;if(-1!==e.indexOf(":")){let t=e.split(":");i=t[0],s=t[1]}else i=e,s=e;if(!UO(i)){let e=this.getAddress(i);i=e.address,t=e.isCol}if(!UO(s)){let e=this.getAddress(s);s=e.address,n=e.isCol}return l=!0===t&&!0===n,{startIdx:l?UR(i.toUpperCase()):parseInt(i,10),endIdx:l?UR(s.toUpperCase()):parseInt(s,10),isCol:l}}getAddress(e){let t;return e.substring(0,1).match(/\D/g)?(t=!0,{address:e=e.replace(/[0-9]/g,""),isCol:t}):e.substring(0,1).match(/[0-9]/g)&&e.match(/\D/g)?{address:"",isCol:!1}:{address:e=(parseInt(e,10)-1).toString(),isCol:t}}addHyperlink(e,t){this.insertHyperlink(e,t,"",!0)}removeHyperlink(e){let t,n,i=this.getActiveSheet();if(e&&-1!==e.indexOf("!")){t=e.split("!");let s=this.sheets;for(let e=0;e<s.length;e++)s[e].name===t[0]&&(n=e);i=this.sheets[n],e=t[1]}let s,l=zR(e||this.getActiveSheet().activeCell);for(let r=l[0];r<=l[2];r++)for(let e=l[1];e<=l[3];e++)if(i&&i.rows[r]&&i.rows[r].cells[e]&&(s=i.rows[r].cells[e],s.value="string"==typeof s.hyperlink?s.value?s.value:s.hyperlink:s.value?s.value:s.hyperlink.address,delete s.hyperlink,i===this.getActiveSheet())){let t,n;this.scrollSettings.enableVirtualization&&(t=r-this.viewport.topIndex,n=e-this.viewport.leftIndex);let i=this.element.getElementsByClassName("e-sheet-content")[0].getElementsByClassName("e-row")[t].getElementsByClassName("e-cell")[n];i.getElementsByClassName("e-hyperlink")[0]&&(i.innerText=i.getElementsByClassName("e-hyperlink")[0].innerHTML)}}insertHyperlink(e,t,n,i){if(this.allowHyperlink){let n,s,l,r,a=this.getActiveSheet(),o={hyperlink:e,cell:t=t||this.getActiveSheet().activeCell,cancel:!1},h={hyperlink:e,cell:t};if(i||this.trigger("beforeHyperlinkCreate",o),!o.cancel){if(super.addHyperlink(e=o.hyperlink,t=o.cell),t&&-1!==t.indexOf("!")){s=t.split("!");let e=this.sheets;for(let t=0;t<e.length;t++)e[t].name===s[0]&&(l=t);a=this.sheets[l],t=s[1]}if(!a)return;r=zR(t=t||this.getActiveSheet().activeCell),n="string"==typeof e?e:e.address,UO(a.rows[r[0]].cells[r[1]].value),i||this.trigger("afterHyperlinkCreate",h),a===this.getActiveSheet()&&this.serviceLocator.getService("cell").refreshRange(r)}}}addDataValidation(e,t){super.addDataValidation(e,t)}removeDataValidation(e){super.removeDataValidation(e)}addInvalidHighlight(e){super.addInvalidHighlight(e)}removeInvalidHighlight(e){super.removeInvalidHighlight(e)}setPanelSize(){if("auto"!==this.height){let e=document.getElementById(this.element.id+"_sheet_panel");e.style.height=`${this.element.getBoundingClientRect().height-BH(e)}px`}}open(e){this.isOpen=!0,super.open(e),this.isOpen&&this.showSpinner()}hideRow(e,t,n,i){UO(t)&&(t=e),UO(n)&&(n=!0),i=fH(this,i)||0,this.renderModule&&i===this.activeSheetIndex?this.notify("hideShow",{startIndex:e,endIndex:t,hide:n}):super.hideRow(e,t,n,i)}hideColumn(e,t,n,i){UO(t)&&(t=e),UO(n)&&(n=!0),i=fH(this,i)||0,this.renderModule&&i===this.activeSheetIndex?this.notify("hideShow",{startIndex:e,endIndex:t,hide:n,isCol:!0}):super.hideColumn(e,t,n,i)}refresh(e){e?this.notify("blankWorkbook",{}):super.refresh()}getRowHeaderContent(){return this.sheetModule.getRowHeaderPanel()}getColumnHeaderContent(){return this.sheetModule.getColHeaderPanel()}getMainContent(){return this.sheetModule.getContentPanel()}getContentTable(){return this.sheetModule.getContentTable()}getRowHeaderTable(){return this.sheetModule.getRowHeaderTable()}getColHeaderTable(){return this.sheetModule.getColHeaderTable()}getThreshold(e){let t=Math.round((this.viewport[e+"Count"]+1)/2);return t<15?15:t}isMobileView(){return(this.cssClass.indexOf("e-mobile-view")>-1||jI.isDevice)&&-1===this.cssClass.indexOf("e-desktop-view")&&!1}getValueRowCol(e,t,n){return super.getValueRowCol(e,t,n)}updateCell(e,t){t=t||this.getActiveSheet().activeCell,super.updateCell(e,t),this.serviceLocator.getService("cell").refreshRange(GR(t)),this.notify("activeCellChanged",null)}sort(e,t){return this.allowSorting?super.sort(e,t).then(e=>(this.notify("sortComplete",e),Promise.resolve(e))):Promise.reject()}setValueRowCol(e,t,n,i){if("circular reference: "===t){let e={action:"isCircularReference",argValue:t};this.notify("formulaOperation",e),t=e.argValue}super.setValueRowCol(e,t,n,i),e=gH(this,e),this.notify(dF,{action:"refreshDependentCellValue",rowIdx:n,colIdx:i,sheetIdx:e})}getModuleName(){return"spreadsheet"}refreshNode(e,t){let n,i=e.querySelector("#"+this.element.id+"_currency"),s="e-right-align";if(t){if(t.result=UO(t.result)?"":t.result.toString(),i&&qD(i),"Accounting"===t.type&&nF(t.value))return e.querySelector("a")?e.querySelector("a").textContent=t.result.split(t.curSymbol).join(""):e.innerHTML="",e.appendChild(this.createElement("span",{id:this.element.id+"_currency",innerHTML:`${t.curSymbol}`,styles:"float: left"})),e.querySelector("a")||(e.innerHTML+=t.result.split(t.curSymbol).join("")),void e.classList.add(s);!t.result||"true"!==t.result.toLowerCase()&&"false"!==t.result.toLowerCase()||(t.result=t.result.toUpperCase(),s="e-center-align",t.isRightAlign=!0),n=t.result,t.isRightAlign?e.classList.add(s):e.classList.remove(s)}if(n=UO(n)?"":n,!UO(e)){let t=e.lastChild;e.querySelector(".e-hyperlink")&&(t=e.querySelector(".e-hyperlink").lastChild),!t||3!==t.nodeType&&1!==t.nodeType?e.appendChild(document.createTextNode(n)):t.nodeValue=n}}calculateHeight(e,t=1,n=1){let i=e&&e.fontSize||this.cellStyle.fontSize,s="Arial Black"===e.fontFamily?1.44:1.24;return(i.indexOf("pt")>-1?1.33*parseInt(i,10):parseInt(i,10))*s*t+n*s}skipHidden(e,t,n="rows"){let i,s=this.getActiveSheet();this.scrollSettings.isFinite&&(i=("rows"===n?s.rowCount:s.colCount)-1);for(let l=e;l<=t;l++)if(s[n][l]&&s[n][l].hidden&&(e===l&&e++,t++,i&&t>i)){t=i;break}return[e,t]}updateActiveBorder(e,t=".e-ribbon"){let n=YD(`${t} .e-tab-header .e-indicator`,this.element);n.style.display="none",XD(n,{left:"",right:""}),XD(n,{left:e.offsetLeft+"px",right:e.parentElement.offsetWidth-(e.offsetLeft+e.offsetWidth)+"px"}),n.style.display=""}skipHiddenSheets(e,t,n=0){return this.sheets[e]&&"Visible"!==this.sheets[e].state&&(void 0===t&&(t=e),e&&e+1===this.sheets.length?e=t-1:e<t?e--:e++,e=this.skipHiddenSheets(e,t,++n)),n===this.sheets.length?(this.sheets[0].state="Visible",0):e}undo(){this.notify("performUndoRedo",{isUndo:!0,isPublic:!0})}redo(){this.notify("performUndoRedo",{isUndo:!1,isPublic:!0})}updateUndoRedoCollection(e){this.notify("updateUndoRedoCollection",{args:e,isPublic:!0})}addDefinedName(e){let t={action:"addDefinedName",isAdded:!1,definedName:e};return this.notify("formulaOperation",t),t.isAdded}removeDefinedName(e,t){return super.removeDefinedName(e,t)}mouseClickHandler(e){this.notify("click",e)}mouseDownHandler(e){this.notify("mouseDown",e)}keyUpHandler(e){GD(e.target,".e-find-dlg")?this.notify("findKeyUp",e):this.notify(uF,e)}keyDownHandler(e){GD(e.target,".e-findtool-dlg")||this.notify(pF,e)}wireEvents(){zI.add(this.element,"click",this.mouseClickHandler,this),zI.add(this.element,UH(),this.mouseDownHandler,this),zI.add(this.element,"keyup",this.keyUpHandler,this),zI.add(this.element,"keydown",this.keyDownHandler,this),zI.add(this.element,"noderefresh",this.refreshNode,this)}destroy(){this.unwireEvents(),this.notify("spreadsheetDestroyed",null),super.destroy(),this.element.innerHTML="",this.element.removeAttribute("tabindex"),this.element.removeAttribute("role"),this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("min-height"),this.element.style.removeProperty("min-width")}unwireEvents(){zI.remove(this.element,"click",this.mouseClickHandler),zI.remove(this.element,UH(),this.mouseDownHandler),zI.remove(this.element,"keyup",this.keyUpHandler),zI.remove(this.element,"keydown",this.keyDownHandler),zI.remove(this.element,"noderefresh",this.refreshNode)}addContextMenuItems(e,t,n=!0,i){this.notify("addContextMenuItems",{items:e,text:t,insertAfter:n,isUniqueId:i})}removeContextMenuItems(e,t){this.notify("removeContextMenuItems",{items:e,isUniqueId:t})}enableContextMenuItems(e,t=!0,n){this.notify("enableContextMenuItems",{items:e,enable:t,isUniqueId:n})}enableFileMenuItems(e,t=!0,n){this.notify("enableFileMenuItems",{items:e,enable:t,isUniqueId:n})}hideFileMenuItems(e,t=!0,n){this.notify("hideFileMenuItems",{items:e,hide:t,isUniqueId:n})}addFileMenuItems(e,t,n=!0,i){this.notify("addFileMenuItems",{items:e,text:t,insertAfter:n,isUniqueId:i})}hideRibbonTabs(e,t=!0){this.notify("hideRibbonTabs",{tabs:e,hide:t})}enableRibbonTabs(e,t=!0){this.notify("enableRibbonTabs",{tabs:e,enable:t})}addRibbonTabs(e,t){this.notify("addRibbonTabs",{items:e,insertBefore:t})}enableToolbarItems(e,t,n){this.notify("enableToolbarItems",[{tab:e,items:t,enable:void 0===n||n}])}hideToolbarItems(e,t,n=!0){this.notify("hideToolbarItems",{tab:e,indexes:t,hide:n})}addToolbarItems(e,t,n){this.notify("addToolbarItems",{tab:e,items:t,index:n})}selectRange(e){this.notify("selectRange",{indexes:zR(e)})}startEdit(){this.notify(dF,{action:"startEdit",isNewValueEdit:!1})}closeEdit(){this.notify(dF,{action:"cancelEdit"})}endEdit(){this.notify(dF,{action:"endEdit"})}onPropertyChanged(e,t){super.onPropertyChanged(e,t);for(let n of Object.keys(e))switch(n){case"enableRtl":e.enableRtl?document.getElementById(this.element.id+"_sheet_panel").classList.add("e-rtl"):document.getElementById(this.element.id+"_sheet_panel").classList.remove("e-rtl");break;case"cssClass":t.cssClass&&FD([this.element],t.cssClass.split(" ")),e.cssClass&&RD([this.element],e.cssClass.split(" "));break;case"activeSheetIndex":this.renderModule.refreshSheet(),this.notify("activeSheetChanged",{idx:e.activeSheetIndex});break;case"width":this.setWidth(),this.resize();break;case"height":this.setHeight(),this.resize();break;case"showRibbon":this.notify("ribbon",{uiUpdate:!0});break;case"showFormulaBar":this.notify("formulaBar",{uiUpdate:!0});break;case"showSheetTabs":this.notify("sheetTabs",null);break;case"cellStyle":this.renderModule.refreshSheet();break;case"sheets":this.renderModule.refreshSheet(),this.showSheetTabs&&Object.keys(e.sheets).forEach(t=>{this.notify("sheetNameUpdate",{items:this.element.querySelector(".e-sheet-tabs-items").children[t],value:e.sheets[t].name,idx:t})});break;case"locale":this.refresh()}}requiredModules(){return function(e){let t=[];return function(e,t){t.push({member:"basic",args:[]}),t.push({member:"all",args:[]}),e.showRibbon&&t.push({member:"ribbon",args:[e]}),e.showFormulaBar&&t.push({member:"formulaBar",args:[e]}),e.showSheetTabs&&t.push({member:"sheetTabs",args:[e]}),e.allowEditing&&(t.push({member:"edit",args:[e]}),t.push({member:"formula",args:[e]}),t.push({member:"workbookFormula",args:[e]}),t.push({member:"workbookEdit",args:[e]})),e.allowOpen&&t.push({member:"open",args:[e]}),e.allowSave&&t.push({member:"save",args:[e]}),e.enableContextMenu&&t.push({member:"contextMenu",args:[e]}),"None"!==e.selectionSettings.mode&&t.push({member:"selection",args:[e]}),e.enableKeyboardNavigation&&t.push({member:"keyboardNavigation",args:[e]}),e.allowNumberFormatting&&t.push({member:"numberFormat",args:[e]}),e.enableKeyboardShortcut&&t.push({member:"keyboardShortcut",args:[e]}),e.enableClipboard&&t.push({member:"clipboard",args:[e]}),e.allowCellFormatting&&t.push({member:"cellformat",args:[e]}),e.allowSorting&&t.push({member:"sort",args:[e]}),e.allowResizing&&t.push({member:"resize",args:[e]}),t.push({member:"collaborativeEditing",args:[e]}),t.push({member:"protectSheet",args:[e]}),e.allowHyperlink&&t.push({member:"spreadsheetHyperlink",args:[e]}),e.allowUndoRedo&&t.push({member:"undoredo",args:[e]}),e.allowFiltering&&t.push({member:"filter",args:[e]}),e.allowWrap&&t.push({member:"wrapText",args:[e]}),e.allowInsert&&t.push({member:"insert",args:[e]}),e.allowDelete&&t.push({member:"delete",args:[e]}),e.allowDataValidation&&t.push({member:"dataValidation",args:[e]}),e.allowFindAndReplace&&t.push({member:"findAndReplace",args:[e]}),e.allowMerge&&t.push({member:"merge",args:[e]})}(e,t),XF(e,t),t}(this)}appendTo(e){super.appendTo(e)}filter(e,t){return this.allowFiltering?(t=t||this.getActiveSheet().selectedRange,super.filter(e,t)):Promise.reject()}clearFilter(e){e?this.notify("clearFilter",{field:e}):super.clearFilter()}applyFilter(e,t){this.notify("initiateFilterUI",{predicates:e,range:t})}addCustomFunction(e,t){super.addCustomFunction(e,t),this.notify("refreshFormulaDatasource",null)}};return dV([dA("")],e.prototype,"cssClass",void 0),dV([dA(!0)],e.prototype,"allowScrolling",void 0),dV([dA(!0)],e.prototype,"allowResizing",void 0),dV([dA(!0)],e.prototype,"enableClipboard",void 0),dV([dA(!0)],e.prototype,"enableContextMenu",void 0),dV([dA(!0)],e.prototype,"enableKeyboardNavigation",void 0),dV([dA(!0)],e.prototype,"enableKeyboardShortcut",void 0),dV([dA(!0)],e.prototype,"allowUndoRedo",void 0),dV([dA(!0)],e.prototype,"allowWrap",void 0),dV([uA({},ZB)],e.prototype,"selectionSettings",void 0),dV([uA({},KB)],e.prototype,"scrollSettings",void 0),dV([mA()],e.prototype,"beforeCellRender",void 0),dV([mA()],e.prototype,"beforeSelect",void 0),dV([mA()],e.prototype,"select",void 0),dV([mA()],e.prototype,"contextMenuBeforeOpen",void 0),dV([mA()],e.prototype,"fileMenuBeforeOpen",void 0),dV([mA()],e.prototype,"contextMenuBeforeClose",void 0),dV([mA()],e.prototype,"fileMenuBeforeClose",void 0),dV([mA()],e.prototype,"contextMenuItemSelect",void 0),dV([mA()],e.prototype,"fileMenuItemSelect",void 0),dV([mA()],e.prototype,"beforeDataBound",void 0),dV([mA()],e.prototype,"dataBound",void 0),dV([mA()],e.prototype,"cellEdit",void 0),dV([mA()],e.prototype,"cellEditing",void 0),dV([mA()],e.prototype,"cellSave",void 0),dV([mA()],e.prototype,"beforeCellSave",void 0),dV([mA()],e.prototype,"created",void 0),dV([mA()],e.prototype,"beforeSort",void 0),dV([mA()],e.prototype,"beforeHyperlinkCreate",void 0),dV([mA()],e.prototype,"afterHyperlinkCreate",void 0),dV([mA()],e.prototype,"beforeHyperlinkClick",void 0),dV([mA()],e.prototype,"afterHyperlinkClick",void 0),dV([mA()],e.prototype,"actionBegin",void 0),dV([mA()],e.prototype,"actionComplete",void 0),dV([mA()],e.prototype,"openComplete",void 0),dV([mA()],e.prototype,"sortComplete",void 0),e=cV=dV([fA],e),e})(),pV=["customWidth","hidden","index","width"],mV=[];class fV extends iM{constructor(e){super(),this.viewContainerRef=e,nM("currentInstance",this,this.viewContainerRef),this.registerEvents(mV),this.directivePropList=pV}}class gV extends sM{constructor(){super("columns")}}let bV=["activeCell","colCount","columns","index","isProtected","name","protectSettings","ranges","rowCount","rows","selectedRange","showGridLines","showHeaders","state","topLeftCell","usedRange"],vV=[];class yV extends iM{constructor(e){super(),this.viewContainerRef=e,this.tags=["rows","columns","ranges"],nM("currentInstance",this,this.viewContainerRef),this.registerEvents(vV),this.directivePropList=bV}}class wV extends sM{constructor(){super("sheets")}}var CV=function(e,t,n,i){var s,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(l<3?s(r):l>3?s(t,n,r):s(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r},xV=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const _V=["actionBegin","actionComplete","afterHyperlinkClick","afterHyperlinkCreate","beforeCellFormat","beforeCellRender","beforeCellSave","beforeDataBound","beforeHyperlinkClick","beforeHyperlinkCreate","beforeOpen","beforeSave","beforeSelect","beforeSort","cellEdit","cellEditing","cellSave","contextMenuBeforeClose","contextMenuBeforeOpen","contextMenuItemSelect","created","dataBound","fileMenuBeforeClose","fileMenuBeforeOpen","fileMenuItemSelect","openComplete","openFailure","queryCellInfo","saveComplete","select","sortComplete"],SV=[""];let kV=(()=>{let e=class extends uV{constructor(e,t,n,i){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=n,this.injector=i,this.tags=["sheets","definedNames"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let e=this.injector.get("SpreadsheetClipboard");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(UG){}try{let e=this.injector.get("SpreadsheetEdit");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(s){}try{let e=this.injector.get("SpreadsheetKeyboardNavigation");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(l){}try{let e=this.injector.get("SpreadsheetKeyboardShortcut");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(r){}try{let e=this.injector.get("SpreadsheetCollaborativeEditing");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(a){}try{let e=this.injector.get("SpreadsheetSelection");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(o){}try{let e=this.injector.get("SpreadsheetContextMenu");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(h){}try{let e=this.injector.get("SpreadsheetFormulaBar");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(c){}try{let e=this.injector.get("SpreadsheetRibbon");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(d){}try{let e=this.injector.get("SpreadsheetSave");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(u){}try{let e=this.injector.get("SpreadsheetOpen");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(p){}try{let e=this.injector.get("SpreadsheetSheetTabs");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(m){}try{let e=this.injector.get("SpreadsheetDataBind");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(f){}try{let e=this.injector.get("SpreadsheetAllModule");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(g){}try{let e=this.injector.get("SpreadsheetBasicModule");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(b){}try{let e=this.injector.get("SpreadsheetCellFormat");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(v){}try{let e=this.injector.get("SpreadsheetNumberFormat");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(y){}try{let e=this.injector.get("SpreadsheetFormula");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(w){}this.registerEvents(_V),this.addTwoWay.call(this,SV),nM("currentInstance",this,this.viewContainerRef),this.context=new lM}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSheets,this.childDefinedNames&&(this.tagObjects[1].instance=this.childDefinedNames),this.context.ngAfterContentChecked(this)}};var t;return CV([function(e,t){var n={set:aM(t),get:oM(t,void 0),enumerable:!0,configurable:!0};Object.defineProperty(e,t,n)},xV("design:type",Object)],e.prototype,"template",void 0),e=CV([(t=[lM],function(e){!function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){e.prototype.hasOwnProperty(n)&&!t.isFormBase||(e.prototype[n]=t.prototype[n])}))}))}(e,t)})],e),e})();class EV{}class OV{}var IV=Jn({encapsulation:2,styles:[],data:{}});function DV(e){return nr(2,[],null,null)}class AV{ngOnInit(){}onOpenComplete(){const e=this.spreadsheetObj.getActiveSheet().rows,t=this.spreadsheetObj.getActiveSheet().columns;this.rowsLength=e.length,this.colsLength=t.length,this.spreadsheetObj.cellFormat({fontWeight:"bold",fontSize:"12pt",backgroundColor:"#279377",textAlign:"center",color:"#ffffff",borderBottom:"1px solid #e0e0e0"},"A1:"+this.columnToLetter(this.colsLength)+"1"),this.spreadsheetObj.cellFormat({backgroundColor:"#e2e2e2 ",fontWeight:"bold",fontSize:"12pt",color:"#000000",borderBottom:"1px solid #e0e0e0"},"C"+(this.rowsLength+2)+":"+this.columnToLetter(this.colsLength-1)+(this.rowsLength+6)),this.spreadsheetObj.updateCell({value:"Max Possible"},"C"+(this.rowsLength+2)),this.spreadsheetObj.updateCell({value:"50% of Max"},"C"+(this.rowsLength+3)),this.spreadsheetObj.updateCell({value:"Average"},"C"+(this.rowsLength+4)),this.spreadsheetObj.updateCell({value:"Average out of 4"},"C"+(this.rowsLength+5)),this.spreadsheetObj.updateCell({value:"Successful Students"},"C"+(this.rowsLength+6)),this.spreadsheetObj.numberFormat("0.00","C"+(this.rowsLength+2)+":"+this.columnToLetter(this.colsLength-1)+(this.rowsLength+6));for(let n=0;n<this.colsLength-4;n++)this.spreadsheetObj.updateCell({value:"10"},""+this.columnToLetter(n+4)+(this.rowsLength+2));for(let n=0;n<this.colsLength-4;n++)this.spreadsheetObj.updateCell({formula:"="+this.columnToLetter(n+4)+(this.rowsLength+2)+"/2"},""+this.columnToLetter(n+4)+(this.rowsLength+3));for(let n=0;n<this.colsLength-2;n++)this.spreadsheetObj.updateCell({formula:"=AVERAGE("+this.columnToLetter(n+3)+"2:"+this.columnToLetter(n+3)+(this.rowsLength-1)+")"},""+this.columnToLetter(n+3)+(this.rowsLength+4));for(let n=0;n<this.colsLength-4;n++)this.spreadsheetObj.updateCell({formula:"="+this.columnToLetter(n+4)+(this.rowsLength+4)+"*4/"+this.columnToLetter(n+4)+(this.rowsLength+2)},""+this.columnToLetter(n+4)+(this.rowsLength+5));for(let n=0;n<this.colsLength-4;n++)this.spreadsheetObj.updateCell({formula:"=COUNTIF("+this.columnToLetter(n+4)+"2:"+this.columnToLetter(n+4)+(this.rowsLength-1)+',">=&'+this.columnToLetter(n+4)+(this.rowsLength+4)+'")'},""+this.columnToLetter(n+4)+(this.rowsLength+6))}onCellClick(e){console.log("clicked");for(let t=0;t<this.colsLength-4;t++)this.spreadsheetObj.updateCell({formula:"="+this.columnToLetter(t+4)+(this.rowsLength+2)+"/2"},""+this.columnToLetter(t+4)+(this.rowsLength+3));for(let t=0;t<this.colsLength-2;t++)this.spreadsheetObj.updateCell({formula:"=AVERAGE("+this.columnToLetter(t+3)+"2:"+this.columnToLetter(t+3)+(this.rowsLength-1)+")"},""+this.columnToLetter(t+3)+(this.rowsLength+4));for(let t=0;t<this.colsLength-4;t++)this.spreadsheetObj.updateCell({formula:"="+this.columnToLetter(t+4)+(this.rowsLength+4)+"*4/"+this.columnToLetter(t+4)+(this.rowsLength+2)},""+this.columnToLetter(t+4)+(this.rowsLength+5))}calculateCountIf(e,t){return Number(e)/Number(t)}columnToLetter(e){let t,n="";for(;e>0;)t=(e-1)%26,n=String.fromCharCode(t+65)+n,e=(e-t-1)/26;return n}}var MV=Jn({encapsulation:0,styles:[["li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}#spreadsheet_360697829_0_sheet_panel[_ngcontent-%COMP%]{height:510px!important}"]],data:{}});function TV(e){return nr(0,[Ul(671088640,1,{spreadsheetObj:0}),(e()(),Bl(1,16777216,null,null,21,"ejs-spreadsheet",[["allowOpen","true"],["allowSave","true"],["openUrl","https://ej2services.syncfusion.com/production/web-services/api/spreadsheet/open"],["saveUrl","https://ej2services.syncfusion.com/production/web-services/api/spreadsheet/save"]],null,[[null,"openComplete"],[null,"select"]],(function(e,t,n){var i=!0,s=e.component;return"openComplete"===t&&(i=!1!==s.onOpenComplete()&&i),"select"===t&&(i=!1!==s.onCellClick(n)&&i),i}),DV,IV)),rs(2,6537216,[[1,4],["spreadsheet",4]],3,kV,[hn,pn,Nn,Lt],{allowOpen:[0,"allowOpen"],allowSave:[1,"allowSave"],openUrl:[2,"openUrl"],saveUrl:[3,"saveUrl"],showFormulaBar:[4,"showFormulaBar"],showSheetTabs:[5,"showSheetTabs"]},{openComplete:"openComplete",select:"select"}),Ul(603979776,2,{childSheets:0}),Ul(603979776,3,{childDefinedNames:0}),Ul(603979776,4,{template:0}),(e()(),Bl(6,0,null,null,16,"e-sheets",[],null,null,null,null,null)),rs(7,7421952,[[2,4]],1,wV,[],null,null),Ul(603979776,5,{children:1}),(e()(),Bl(9,16777216,null,null,13,"e-sheet",[],null,null,null,null,null)),rs(10,11091968,[[5,4]],3,yV,[Nn],null,null),Ul(603979776,6,{childRows:0}),Ul(603979776,7,{childColumns:0}),Ul(603979776,8,{childRanges:0}),(e()(),Bl(14,0,null,null,8,"e-columns",[],null,null,null,null,null)),rs(15,7421952,[[7,4]],1,gV,[],null,null),Ul(603979776,9,{children:1}),(e()(),Bl(17,16777216,null,null,1,"e-column",[],null,null,null,null,null)),rs(18,11091968,[[9,4]],0,fV,[Nn],{customWidth:[0,"customWidth"]},null),(e()(),Bl(19,16777216,null,null,1,"e-column",[],null,null,null,null,null)),rs(20,11091968,[[9,4]],0,fV,[Nn],{customWidth:[0,"customWidth"]},null),(e()(),Bl(21,16777216,null,null,1,"e-column",[],null,null,null,null,null)),rs(22,11091968,[[9,4]],0,fV,[Nn],{customWidth:[0,"customWidth"]},null)],(function(e,t){e(t,2,0,"true","true","https://ej2services.syncfusion.com/production/web-services/api/spreadsheet/open","https://ej2services.syncfusion.com/production/web-services/api/spreadsheet/save",!1,!1),e(t,7,0),e(t,10,0),e(t,15,0),e(t,18,0,100),e(t,20,0,140),e(t,22,0,140)}),null)}function PV(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"app-scoreSheet",[],null,null,null,TV,MV)),rs(1,114688,null,0,AV,[],null,null)],(function(e,t){e(t,1,0)}),null)}var LV=Bi("app-scoreSheet",AV,PV,{},{},[]);class NV{constructor(e){this.viewRef=e}set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}}class RV{constructor(){this.type="tabs"}}class FV{constructor(e,t,n){this.renderer=t,this.elementRef=n,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,e)}get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=1===this.tabs.length&&void 0===e.active}removeTab(e,t={reselect:!0,emit:!0}){const n=this.tabs.indexOf(e);if(-1!==n&&!this.isDestroyed){if(t.reselect&&e.active&&this.hasAvailableTabs(n)){const e=this.getClosestTabIndex(n);this.tabs[e].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(n,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,t){const n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void n[t%n.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),n[t+1])return void n[(t+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{let i;e.preventDefault();let s=1,l=t;do{l-s<0?(l=n.length-1,i=n[l],s=0):i=n[l-s],s++}while(i.classList.contains("disabled"));i.focus()}else{let t;e.preventDefault();let i=0;do{t=n[i%n.length],i++}while(t.classList.contains("disabled"));t.focus()}else{let e,i=1,s=t;do{s-i<0?(s=n.length-1,e=n[s],i=0):e=n[s-i],i++}while(e.classList.contains("disabled"));e.focus()}else{let e,i=1;do{e=n[(t+i)%n.length],i++}while(e.classList.contains("disabled"));e.focus()}}getClosestTabIndex(e){const t=this.tabs.length;if(!t)return-1;for(let n=1;n<=t;n+=1){const t=e-n,i=e+n;if(this.tabs[t]&&!this.tabs[t].disabled)return t;if(this.tabs[i]&&!this.tabs[i].disabled)return i}return-1}hasAvailableTabs(e){const t=this.tabs.length;if(!t)return!1;for(let n=0;n<t;n+=1)if(!this.tabs[n].disabled&&n!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}class HV{constructor(e,t,n){this.elementRef=t,this.renderer=n,this.selectTab=new As,this.deselect=new As,this.removed=new As,this.addClass=!0,this.tabset=e,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(e=>{this.renderer.removeClass(this.elementRef.nativeElement,e)}),this._customClass=e?e.trim():null,this.customClass&&this.customClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}get active(){return this._active}set active(e){this._active!==e&&(this.disabled&&e||!e?this._active&&!e&&(this.deselect.emit(this),this._active=e):(this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(e=>{e!==this&&(e.active=!1)})))}ngOnInit(){this.removable=this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}class BV{static forRoot(){return{ngModule:BV,providers:[RV]}}}var VV=Jn({encapsulation:0,styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"],data:{}});function jV(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"span",[["class","bs-remove-tab"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(n.preventDefault(),i=!1!==s.removeTab(e.parent.context.$implicit)&&i),i}),null,null)),(e()(),Ql(-1,null,[" \u274c"]))],null,null)}function zV(e){return nr(0,[(e()(),Bl(0,0,null,null,8,"li",[],[[2,"active",null],[2,"disabled",null]],[[null,"keydown"]],(function(e,t,n){var i=!0;return"keydown"===t&&(i=!1!==e.component.keyNavActions(n,e.context.index)&&i),i}),null,null)),rs(1,278528,null,0,vo,[In,Dn,hn,pn],{ngClass:[0,"ngClass"]},null),Jl(32,2,Fe(2)),(e()(),Bl(3,0,null,null,5,"a",[["class","nav-link"],["href","javascript:void(0);"]],[[1,"id",0],[2,"active",null],[2,"disabled",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=0!=(e.context.$implicit.active=!0)&&i),i}),null,null)),(e()(),Bl(4,16777216,null,null,2,"span",[],null,null,null,null,null)),rs(5,16384,null,0,NV,[Nn],{ngTransclude:[0,"ngTransclude"]},null),(e()(),Ql(6,null,["",""])),(e()(),Hl(16777216,null,null,1,null,jV)),rs(8,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,2,0,"nav-item",t.context.$implicit.customClass||"");e(t,1,0,n),e(t,5,0,t.context.$implicit.headingRef),e(t,8,0,t.context.$implicit.removable)}),(function(e,t){e(t,0,0,t.context.$implicit.active,t.context.$implicit.disabled),e(t,3,0,t.context.$implicit.id?t.context.$implicit.id+"-link":"",t.context.$implicit.active,t.context.$implicit.disabled),e(t,6,0,t.context.$implicit.heading)}))}function qV(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"ul",[["class","nav"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==n.preventDefault()&&i),i}),null,null)),rs(1,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Hl(16777216,null,null,1,null,zV)),rs(3,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(4,0,null,null,1,"div",[["class","tab-content"]],null,null,null,null,null)),Xl(null,0)],(function(e,t){var n=t.component;e(t,1,0,"nav",n.classMap),e(t,3,0,n.tabs)}),null)}class UV{constructor(e,t){this.outlineService=e,this.authService=t}ngOnInit(){this.outlineService.getCourses(this.authService.decodedToken.nameid).subscribe(e=>{this.courses=e}),this.outlineService.getUser(this.authService.decodedToken.nameid).subscribe(e=>{this.instructor=e}),this.dateGroup=new yc({date:new vc(new Date)}),this.outlineService.getStudentLO().subscribe(e=>{this.studentLOs=e})}selectCourse(e){this.selectedCourse=this.courses[e]}}var WV=Jn({encapsulation:0,styles:[[".center[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid grey;border-collapse:collapse}"]],data:{}});function YV(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],{value:[0,"value"]},null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],{value:[0,"value"]},null),(e()(),Ql(3,null,[""," "]))],(function(e,t){e(t,1,0,t.context.index),e(t,2,0,t.context.index)}),(function(e,t){e(t,3,0,t.context.$implicit.courseCode)}))}function $V(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),Bl(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(3,null,["",": ",""])),(e()(),Bl(4,0,null,null,0,"input",[["type","text"]],null,null,null,null,null))],null,(function(e,t){e(t,3,0,null==t.context.$implicit?null:t.context.$implicit.sloCode,null==t.context.$implicit?null:t.context.$implicit.studentLearningOutcome)}))}function GV(e){return nr(0,[(e()(),Bl(0,0,null,null,88,"tabset",[["class","ml-3"]],[[2,"tab-container",null]],null,null,qV,VV)),rs(1,180224,null,0,FV,[RV,pn,hn],null,null),(e()(),Bl(2,0,null,0,72,"tab",[["class","mt-2"],["heading","Cover >"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),rs(3,212992,null,0,HV,[FV,hn,pn],{heading:[0,"heading"]},null),(e()(),Bl(4,0,null,null,70,"table",[["class","center"]],null,null,null,null,null)),(e()(),Bl(5,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),Bl(6,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["COURSE CODE:"])),(e()(),Bl(8,0,null,null,8,"td",[],null,null,null,null,null)),(e()(),Bl(9,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["name","courses"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,s=e.component;return"change"===t&&(i=!1!==Ki(e,10).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,10).onTouched()&&i),"ngModel"===t&&(i=!1!==s.courses&&i),"change"===t&&(i=!1!==s.selectCourse(n.target.value)&&i),i}),null,null)),rs(10,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(12,671744,null,0,Oc,[[8,null],[8,null],[8,null],[6,kh]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Oc]),rs(14,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,YV)),rs(16,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(17,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(18,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["COURSE NAME:"])),(e()(),Bl(20,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(21,null,[" ",""])),(e()(),Bl(22,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(23,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["SEMESTER:"])),(e()(),Bl(25,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(26,null,["",""])),(e()(),Bl(27,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(28,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["INSTRUCTOR:"])),(e()(),Bl(30,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(31,null,["",". "," ",""])),(e()(),Bl(32,0,null,null,42,"tr",[],null,null,null,null,null)),(e()(),Bl(33,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["DATE:"])),(e()(),Bl(35,0,null,null,39,"td",[],null,null,null,null,null)),(e()(),Bl(36,0,null,null,38,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,38).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,38).onReset()&&i),i}),null,null)),rs(37,16384,null,0,Ic,[],null,null),rs(38,4210688,null,0,xc,[[8,null],[8,null]],null,null),os(2048,null,Dh,null,[xc]),rs(40,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(41,0,null,null,33,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Bl(42,0,null,null,32,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,43).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,43).onReset()&&i),i}),null,null)),rs(43,540672,null,0,Ac,[[8,null],[8,null]],{form:[0,"form"]},null),os(2048,null,Dh,null,[Ac]),rs(45,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(46,0,null,null,28,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,zk,Ak)),rs(47,7520256,null,9,Sk,[hn,At,[2,iy],[2,Ab],[2,xk],Pg,Qs,[2,uk]],null,null),Ul(603979776,1,{_controlNonStatic:0}),Ul(335544320,2,{_controlStatic:0}),Ul(603979776,3,{_labelChildNonStatic:0}),Ul(335544320,4,{_labelChildStatic:0}),Ul(603979776,5,{_placeholderChild:0}),Ul(603979776,6,{_errorChildren:1}),Ul(603979776,7,{_hintChildren:1}),Ul(603979776,8,{_prefixChildren:1}),Ul(603979776,9,{_suffixChildren:1}),os(2048,null,_k,null,[Sk]),(e()(),Bl(58,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","date"],["matInput",""],["readonly",""]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"change"],[null,"blur"],[null,"keydown"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ki(e,59)._onInput(n.target.value)&&i),"change"===t&&(i=!1!==Ki(e,59)._onChange()&&i),"blur"===t&&(i=!1!==Ki(e,59)._onBlur()&&i),"keydown"===t&&(i=!1!==Ki(e,59)._onKeydown(n)&&i),"input"===t&&(i=!1!==Ki(e,61)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,61).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ki(e,61)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ki(e,61)._compositionEnd(n.target.value)&&i),"focus"===t&&(i=!1!==Ki(e,66)._focusChanged(!0)&&i),"blur"===t&&(i=!1!==Ki(e,66)._focusChanged(!1)&&i),"input"===t&&(i=!1!==Ki(e,66)._onInput()&&i),i}),null,null)),rs(59,4341760,null,0,hE,[hn,[2,Pv],[2,Lv],[2,_k]],{matDatepicker:[0,"matDatepicker"]},null),os(1024,null,Rh,(function(e){return[e]}),[hE]),rs(61,16384,null,0,Oh,[pn,hn,[2,Eh]],null,null),os(1024,null,kh,(function(e,t){return[e,t]}),[Oh,hE]),rs(63,671744,null,0,Lc,[[3,Dh],[6,Rh],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),os(2048,null,fE,null,[hE]),rs(66,999424,null,0,wE,[hn,Pg,[6,Mh],[2,xc],[2,Ac],Wv,[6,fE],pE,Qs],{readonly:[0,"readonly"]},null),rs(67,16384,null,0,Ph,[[4,Mh]],null,null),os(2048,[[1,4],[2,4]],gk,null,[wE]),(e()(),Bl(69,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[1,"tabindex",0],[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==Ki(e,71)._button.focus()&&i),i}),nO,eO)),rs(70,16384,[[9,4]],0,vk,[],null,null),rs(71,1753088,null,1,cE,[Uk,At,[8,null]],{datepicker:[0,"datepicker"]},null),Ul(603979776,10,{_customIcon:0}),(e()(),Bl(73,16777216,null,1,1,"mat-datepicker",[],null,null,null,QE,JE)),rs(74,180224,[["picker",4]],0,aE,[Gb,kb,Qs,Nn,nE,[2,Pv],[2,Ab],[2,wa]],null,null),(e()(),Bl(75,0,null,0,5,"tab",[["class","mt-2"],["heading","Explanations >"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),rs(76,212992,null,0,HV,[FV,hn,pn],{heading:[0,"heading"]},null),(e()(),Bl(77,0,null,null,2,"table",[["class","center"],["style","width: 80%;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,$V)),rs(79,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(80,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),Bl(81,0,null,0,3,"tab",[["class","mt-2"],["heading","Evaluation >"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),rs(82,212992,null,0,HV,[FV,hn,pn],{heading:[0,"heading"]},null),(e()(),Bl(83,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Evaluation"])),(e()(),Bl(85,0,null,0,3,"tab",[["class","mt-2"],["heading","Summary"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),rs(86,212992,null,0,HV,[FV,hn,pn],{heading:[0,"heading"]},null),(e()(),Bl(87,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Summary"]))],(function(e,t){var n=t.component;e(t,3,0,"Cover >"),e(t,12,0,"courses"),e(t,16,0,n.courses),e(t,43,0,n.dateGroup),e(t,59,0,Ki(t,74)),e(t,63,0,"date"),e(t,66,0,""),e(t,71,0,Ki(t,74)),e(t,76,0,"Explanations >"),e(t,79,0,n.studentLOs),e(t,82,0,"Evaluation >"),e(t,86,0,"Summary")}),(function(e,t){var n=t.component;e(t,0,0,Ki(t,1).clazz),e(t,2,0,Ki(t,3).id,Ki(t,3).active,Ki(t,3).addClass),e(t,9,0,Ki(t,14).ngClassUntouched,Ki(t,14).ngClassTouched,Ki(t,14).ngClassPristine,Ki(t,14).ngClassDirty,Ki(t,14).ngClassValid,Ki(t,14).ngClassInvalid,Ki(t,14).ngClassPending),e(t,21,0,null==n.selectedCourse?null:n.selectedCourse.name),e(t,26,0,null==n.selectedCourse?null:n.selectedCourse.semester),e(t,31,0,null==n.instructor?null:n.instructor.title,null==n.instructor?null:n.instructor.name,null==n.instructor?null:n.instructor.surName),e(t,36,0,Ki(t,40).ngClassUntouched,Ki(t,40).ngClassTouched,Ki(t,40).ngClassPristine,Ki(t,40).ngClassDirty,Ki(t,40).ngClassValid,Ki(t,40).ngClassInvalid,Ki(t,40).ngClassPending),e(t,42,0,Ki(t,45).ngClassUntouched,Ki(t,45).ngClassTouched,Ki(t,45).ngClassPristine,Ki(t,45).ngClassDirty,Ki(t,45).ngClassValid,Ki(t,45).ngClassInvalid,Ki(t,45).ngClassPending),e(t,46,1,["standard"==Ki(t,47).appearance,"fill"==Ki(t,47).appearance,"outline"==Ki(t,47).appearance,"legacy"==Ki(t,47).appearance,Ki(t,47)._control.errorState,Ki(t,47)._canLabelFloat,Ki(t,47)._shouldLabelFloat(),Ki(t,47)._hasFloatingLabel(),Ki(t,47)._hideControlPlaceholder(),Ki(t,47)._control.disabled,Ki(t,47)._control.autofilled,Ki(t,47)._control.focused,"accent"==Ki(t,47).color,"warn"==Ki(t,47).color,Ki(t,47)._shouldForward("untouched"),Ki(t,47)._shouldForward("touched"),Ki(t,47)._shouldForward("pristine"),Ki(t,47)._shouldForward("dirty"),Ki(t,47)._shouldForward("valid"),Ki(t,47)._shouldForward("invalid"),Ki(t,47)._shouldForward("pending"),!Ki(t,47)._animationsEnabled]),e(t,58,1,[Ki(t,59)._datepicker?"dialog":null,(null==Ki(t,59)._datepicker?null:Ki(t,59)._datepicker.opened)&&Ki(t,59)._datepicker.id||null,Ki(t,59).min?Ki(t,59)._dateAdapter.toIso8601(Ki(t,59).min):null,Ki(t,59).max?Ki(t,59)._dateAdapter.toIso8601(Ki(t,59).max):null,Ki(t,59).disabled,Ki(t,66)._isServer,Ki(t,66).id,Ki(t,66).placeholder,Ki(t,66).disabled,Ki(t,66).required,Ki(t,66).readonly&&!Ki(t,66)._isNativeSelect||null,Ki(t,66)._ariaDescribedby||null,Ki(t,66).errorState,Ki(t,66).required.toString(),Ki(t,67).ngClassUntouched,Ki(t,67).ngClassTouched,Ki(t,67).ngClassPristine,Ki(t,67).ngClassDirty,Ki(t,67).ngClassValid,Ki(t,67).ngClassInvalid,Ki(t,67).ngClassPending]),e(t,69,0,Ki(t,71).disabled?null:-1,Ki(t,71).datepicker&&Ki(t,71).datepicker.opened,Ki(t,71).datepicker&&"accent"===Ki(t,71).datepicker.color,Ki(t,71).datepicker&&"warn"===Ki(t,71).datepicker.color),e(t,75,0,Ki(t,76).id,Ki(t,76).active,Ki(t,76).addClass),e(t,81,0,Ki(t,82).id,Ki(t,82).active,Ki(t,82).addClass),e(t,85,0,Ki(t,86).id,Ki(t,86).active,Ki(t,86).addClass)}))}function XV(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"app-evaluation",[],null,null,null,GV,WV)),rs(1,114688,null,0,UV,[pO,Hx],null,null)],(function(e,t){e(t,1,0)}),null)}var KV=Bi("app-evaluation",UV,XV,{},{},[]);class ZV{constructor(e,t,n,i){this.outlineService=e,this.alertify=t,this.authService=n,this.fileService=i,this.yearSemesters=["Fall/2020","Spring/2020","Fall/2021","Spring/2021","Fall/2022","Spring/2022","Fall/2023","Spring/2023"],this.isInstructor=!1,this.courses=[],this.sortedFiles=new Array,this.filesToSave=new Array}ngOnInit(){this.outlineService.getStudyPrograms().subscribe(e=>{e.forEach(e=>{e.courses.forEach(e=>{1===e.instructorID&&this.courses.push(e)})})}),"instructor"===JSON.parse(localStorage.getItem("user")).typeOfUser&&(this.isInstructor=!0),this.yearSemesterForm=new yc({yearSemester:new vc}),this.coursesForm=new yc({course:new vc})}onCourseSelected(e){this.filesFromApi=null,this.sortedFiles=new Array,this.fileService.getCourseFiles(this.authService.decodedToken.nameid,this.coursesForm.get("course").value).subscribe(e=>{e.forEach(e=>{this.sortedFiles[e.desId-1]=e}),console.log(this.sortedFiles)}),this.courseSelected=!0}deleteFile(e){window.confirm("are your sure")&&this.fileService.deleteFile(this.authService.decodedToken.nameid,e).subscribe(t=>{this.alertify.success("File Deleted"),this.sortedFiles[e]=null},e=>{this.alertify.error(e)})}SaveFiles(){for(let e=0;e<13;e++)null!=this.filesToSave[e]&&(console.log(this.filesToSave[e]),this.fileService.fileUpload(this.authService.decodedToken.nameid,this.filesToSave[e]).subscribe(e=>{this.alertify.success("File Saved")},e=>{this.alertify.error("File Not Saved")},()=>{window.location.reload()}))}handle1Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","1"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[0]=n}handle2Input(e){console.log(e[0]);const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","2"),n.append("Description",e[0].name),n.append("CourseCode",t),this.filesToSave[1]=n}handle3Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","3"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[2]=n}handle4Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","4"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[3]=n}handle5Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","5"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[4]=n}handle6Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","6"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[5]=n}handle7Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","7"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[6]=n}handle8Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","8"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[7]=n}handle9Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","9"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[8]=n}handle10Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","10"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[9]=n}handle11Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","11"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[10]=n}handle12Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","12"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[11]=n}handle13Input(e){const t=this.coursesForm.get("course").value,n=new FormData;n.append("File",e[0],"fileToCreate"),n.append("DesId","13"),n.append("Description",e[0].name),n.append("CourseCode",t),console.log(n),this.filesToSave[12]=n}}let JV=(()=>{class e{constructor(e,t){this.http=e,this.baseUrl=t}getCourseFiles(e,t){return this.http.get(this.baseUrl+"Files/"+e+"/"+t)}deleteFile(e,t){return this.http.delete(this.baseUrl+"Files/"+e+"/"+t)}fileUpload(e,t){return this.http.post(this.baseUrl+"Files/"+e,t)}}return e.\u0275prov=oe({factory:function(){return new e(De(nh),De("BASE_URL"))},token:e,providedIn:"root"}),e})();var QV=Jn({encapsulation:0,styles:[["table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid grey;border-collapse:collapse}.center[_ngcontent-%COMP%]{margin:auto;width:93%}.fa[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function ej(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],{value:[0,"value"]},null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],{value:[0,"value"]},null),(e()(),Ql(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function tj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),rs(1,147456,null,0,Jh,[hn,pn,[2,Zh]],{value:[0,"value"]},null),rs(2,147456,null,0,ec,[hn,pn,[8,null]],{value:[0,"value"]},null),(e()(),Ql(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.courseCode),e(t,2,0,t.context.$implicit.courseCode)}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function nj(e){return nr(0,[(e()(),Bl(0,0,null,null,6,"div",[["class","center"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"button",[["class","btn btn-success mr-2"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.SaveFiles(),i=0!=(Ki(e,3).disabled=!1)&&i),i}),null,null)),(e()(),Ql(-1,null,["Save Files"])),(e()(),Bl(3,0,[["add",1]],null,1,"button",[["class","btn btn-dark mr-2"],["id","#addFilesBtn"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.addFiles=!0,i=0!=(Ki(e,3).disabled=!0)&&i),i}),null,null)),(e()(),Ql(-1,null,["Add Files"])),(e()(),Bl(5,0,[["del",1]],null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.deleteFiles=!0,i=0!=(Ki(e,5).disabled=!0)&&i),i}),null,null)),(e()(),Ql(-1,null,["Delete Files"]))],null,null)}function ij(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle1Input(n.target.files)&&i),i}),null,null))],null,null)}function sj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[0].id)&&i),i}),null,null))],null,null)}function lj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function rj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle2Input(n.target.files)&&i),i}),null,null))],null,null)}function aj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[1].id)&&i),i}),null,null))],null,null)}function oj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban w3-tiny"],["style","color: red;"]],null,null,null,null,null))],null,null)}function hj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle3Input(n.target.files)&&i),i}),null,null))],null,null)}function cj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[2].id)&&i),i}),null,null))],null,null)}function dj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function uj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle4Input(n.target.files)&&i),i}),null,null))],null,null)}function pj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[3].id)&&i),i}),null,null))],null,null)}function mj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function fj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle5Input(n.target.files)&&i),i}),null,null))],null,null)}function gj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[4].id)&&i),i}),null,null))],null,null)}function bj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function vj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle6Input(n.target.files)&&i),i}),null,null))],null,null)}function yj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[5].id)&&i),i}),null,null))],null,null)}function wj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Cj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle7Input(n.target.files)&&i),i}),null,null))],null,null)}function xj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[6].id)&&i),i}),null,null))],null,null)}function _j(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Sj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle8Input(n.target.files)&&i),i}),null,null))],null,null)}function kj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[7].id)&&i),i}),null,null))],null,null)}function Ej(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Oj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle8Input(n.target.files)&&i),i}),null,null))],null,null)}function Ij(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[8].id)&&i),i}),null,null))],null,null)}function Dj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Aj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle9Input(n.target.files)&&i),i}),null,null))],null,null)}function Mj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[9].id)&&i),i}),null,null))],null,null)}function Tj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Pj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle10Input(n.target.files)&&i),i}),null,null))],null,null)}function Lj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[10].id)&&i),i}),null,null))],null,null)}function Nj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Rj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle11Input(n.target.files)&&i),i}),null,null))],null,null)}function Fj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[11].id)&&i),i}),null,null))],null,null)}function Hj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function Bj(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","_6gd _m _6a _4q60 _3rzn"],["role","button"],["tabindex","0"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["class","_4q61 _6gb _6wm4 _6gg _6jto"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,0,"i",[["alt","Camera"],["class","hidden_elem"]],null,null,null,null,null)),(e()(),Bl(3,0,null,null,0,"input",[["accept","*"],["class","_n _2__f _4e5e"],["name","attachment"],["single",""],["title","Add files"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handle12Input(n.target.files)&&i),i}),null,null))],null,null)}function Vj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["class","fa fa-trash-o fa-lg mr-1 mt-1"],["style","color-adjust: red;width: 15px;height: 17px;float:right;"]],null,[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.deleteFile(s.sortedFiles[12].id)&&i),i}),null,null))],null,null)}function jj(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ban"],["style","color: red;"]],null,null,null,null,null))],null,null)}function zj(e){return nr(0,[(e()(),Bl(0,0,null,null,35,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,2).onReset()&&i),i}),null,null)),rs(1,16384,null,0,Ic,[],null,null),rs(2,4210688,null,0,xc,[[8,null],[8,null]],null,null),os(2048,null,Dh,null,[xc]),rs(4,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(5,0,null,null,30,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),Bl(6,0,null,null,14,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(7,0,null,null,13,"div",[["class","form-group ml-5 mt-5"],["style","width: 200px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,8).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,8).onReset()&&i),i}),null,null)),rs(8,540672,null,0,Ac,[[8,null],[8,null]],{form:[0,"form"]},null),os(2048,null,Dh,null,[Ac]),rs(10,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(11,0,null,null,1,"label",[["class","my-1 mr-2"],["for","inlineFormCustomSelectPref"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Semester"])),(e()(),Bl(13,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","yearSemester"],["id","inlineFormCustomSelectPref"],["name","yearSemesters"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,s=e.component;return"change"===t&&(i=!1!==Ki(e,14).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,14).onTouched()&&i),"ngModel"===t&&(i=!1!==s.yearSemesters&&i),i}),null,null)),rs(14,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(16,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(18,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,ej)),rs(20,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(21,0,null,null,14,"div",[["class","col-auto"]],null,null,null,null,null)),(e()(),Bl(22,0,null,null,13,"div",[["class","form-group ml-5 mt-5"],["style","width: 200px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ki(e,23).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ki(e,23).onReset()&&i),i}),null,null)),rs(23,540672,null,0,Ac,[[8,null],[8,null]],{form:[0,"form"]},null),os(2048,null,Dh,null,[Ac]),rs(25,16384,null,0,Lh,[[4,Dh]],null,null),(e()(),Bl(26,0,null,null,1,"label",[["class","my-1 mr-2"],["for","courseForm"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Course"])),(e()(),Bl(28,0,null,null,7,"select",[["class","custom-select my-1 mr-sm-2"],["formControlName","course"],["id","courseForm"],["name","courses"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,s=e.component;return"change"===t&&(i=!1!==Ki(e,29).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==Ki(e,29).onTouched()&&i),"ngModel"===t&&(i=!1!==s.courses&&i),"change"===t&&(i=!1!==s.onCourseSelected(n)&&i),i}),null,null)),rs(29,16384,null,0,Zh,[pn,hn],null,null),os(1024,null,kh,(function(e){return[e]}),[Zh]),rs(31,671744,null,0,Lc,[[3,Dh],[8,null],[8,null],[6,kh],[2,Dc]],{name:[0,"name"]},null),os(2048,null,Mh,null,[Lc]),rs(33,16384,null,0,Ph,[[4,Mh]],null,null),(e()(),Hl(16777216,null,null,1,null,tj)),rs(35,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Hl(16777216,null,null,1,null,nj)),rs(37,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(38,0,null,null,206,"table",[["class"," ml-5 mt-1"],["style","width: 90%;"]],null,null,null,null,null)),(e()(),Bl(39,0,null,null,9,"thead",[],null,null,null,null,null)),(e()(),Bl(40,0,null,null,8,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Bl(41,0,null,null,1,"td",[["style","width: 5%;font-weight: bold;"]],null,null,null,null,null)),(e()(),Ql(-1,null,["No"])),(e()(),Bl(43,0,null,null,1,"td",[["style","width: 40%;font-weight: bold;"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Item"])),(e()(),Bl(45,0,null,null,1,"td",[["style","width: 10%; text-align: center;font-weight: bold;"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Available"])),(e()(),Bl(47,0,null,null,1,"td",[["style","width: 10%;text-align: center;font-weight: bold;"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Not Available"])),(e()(),Bl(49,0,null,null,195,"tbody",[],null,null,null,null,null)),(e()(),Bl(50,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Bl(51,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["1"])),(e()(),Bl(53,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Course Syllabus in ABET format"])),(e()(),Bl(55,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,ij)),rs(57,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(58,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(59,null,["",""])),(e()(),Hl(16777216,null,null,1,null,sj)),rs(61,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(62,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,lj)),rs(64,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(65,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Bl(66,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["2"])),(e()(),Bl(68,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Homeworks"])),(e()(),Bl(70,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,rj)),rs(72,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(73,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(74,null,["",""])),(e()(),Hl(16777216,null,null,1,null,aj)),rs(76,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(77,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,oj)),rs(79,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(80,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Bl(81,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["3"])),(e()(),Bl(83,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Quiz with solutions "])),(e()(),Bl(85,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,hj)),rs(87,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(88,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(89,null,["",""])),(e()(),Hl(16777216,null,null,1,null,cj)),rs(91,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(92,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,dj)),rs(94,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(95,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Bl(96,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["4"])),(e()(),Bl(98,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Midterm 1 with solutions "])),(e()(),Bl(100,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,uj)),rs(102,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(103,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(104,null,["",""])),(e()(),Hl(16777216,null,null,1,null,pj)),rs(106,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(107,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,mj)),rs(109,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(110,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Bl(111,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["5"])),(e()(),Bl(113,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Midterm 2 with solutions"])),(e()(),Bl(115,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,fj)),rs(117,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(118,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(119,null,["",""])),(e()(),Hl(16777216,null,null,1,null,gj)),rs(121,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(122,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,bj)),rs(124,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(125,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Bl(126,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["6"])),(e()(),Bl(128,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Final Exam with solutions"])),(e()(),Bl(130,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,vj)),rs(132,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(133,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(134,null,["",""])),(e()(),Hl(16777216,null,null,1,null,yj)),rs(136,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(137,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,wj)),rs(139,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(140,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Bl(141,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["7"])),(e()(),Bl(143,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Projects (definition + one or two samples)"])),(e()(),Bl(145,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Cj)),rs(147,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(148,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(149,null,["",""])),(e()(),Hl(16777216,null,null,1,null,xj)),rs(151,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(152,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,_j)),rs(154,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(155,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Bl(156,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["8"])),(e()(),Bl(158,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Assignments"])),(e()(),Bl(160,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Sj)),rs(162,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(163,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(164,null,["",""])),(e()(),Hl(16777216,null,null,1,null,kj)),rs(166,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(167,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Ej)),rs(169,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(170,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Bl(171,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["9"])),(e()(),Bl(173,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Lab sheets"])),(e()(),Bl(175,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Oj)),rs(177,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(178,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(179,null,["",""])),(e()(),Hl(16777216,null,null,1,null,Ij)),rs(181,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(182,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Dj)),rs(184,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(185,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Bl(186,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["10"])),(e()(),Bl(188,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Best-Worst-Median Midterm 1 papers"])),(e()(),Bl(190,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Aj)),rs(192,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(193,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(194,null,["",""])),(e()(),Hl(16777216,null,null,1,null,Mj)),rs(196,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(197,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Tj)),rs(199,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(200,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Bl(201,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["11"])),(e()(),Bl(203,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Best-Worst-Median Midterm 2 papers "])),(e()(),Bl(205,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Pj)),rs(207,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(208,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(209,null,["",""])),(e()(),Hl(16777216,null,null,1,null,Lj)),rs(211,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(212,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Nj)),rs(214,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(215,0,null,null,14,"tr",[["style","background-color: lightgray;"]],null,null,null,null,null)),(e()(),Bl(216,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["12"])),(e()(),Bl(218,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Best-Worst-Median Final Exam papers"])),(e()(),Bl(220,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Rj)),rs(222,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(223,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(224,null,["",""])),(e()(),Hl(16777216,null,null,1,null,Fj)),rs(226,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(227,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Hj)),rs(229,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(230,0,null,null,14,"tr",[["style","background-color: lightsteelblue;"]],null,null,null,null,null)),(e()(),Bl(231,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["13"])),(e()(),Bl(233,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Course evolution document (Excel file)"])),(e()(),Bl(235,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Bj)),rs(237,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(238,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Ql(239,null,["",""])),(e()(),Hl(16777216,null,null,1,null,Vj)),rs(241,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(242,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,jj)),rs(244,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,8,0,n.yearSemesterForm),e(t,16,0,"yearSemester"),e(t,20,0,n.yearSemesters),e(t,23,0,n.coursesForm),e(t,31,0,"course"),e(t,35,0,n.courses),e(t,37,0,n.isInstructor&&n.courseSelected),e(t,57,0,n.addFiles&&null==n.sortedFiles[0]),e(t,61,0,null!=n.sortedFiles[0]&&n.deleteFiles),e(t,64,0,null==n.sortedFiles[0]),e(t,72,0,n.addFiles&&null==n.sortedFiles[1]),e(t,76,0,null!=n.sortedFiles[1]&&n.deleteFiles),e(t,79,0,null==n.sortedFiles[1]),e(t,87,0,n.addFiles&&null==n.sortedFiles[2]),e(t,91,0,null!=n.sortedFiles[2]&&n.deleteFiles),e(t,94,0,null==n.sortedFiles[2]),e(t,102,0,n.addFiles&&null==n.sortedFiles[3]),e(t,106,0,null!=n.sortedFiles[3]&&n.deleteFiles),e(t,109,0,null==n.sortedFiles[3]),e(t,117,0,n.addFiles&&null==n.sortedFiles[4]),e(t,121,0,null!=n.sortedFiles[4]&&n.deleteFiles),e(t,124,0,null==n.sortedFiles[4]),e(t,132,0,n.addFiles&&null==n.sortedFiles[5]),e(t,136,0,null!=n.sortedFiles[5]&&n.deleteFiles),e(t,139,0,null==n.sortedFiles[5]),e(t,147,0,n.addFiles&&null==n.sortedFiles[6]),e(t,151,0,null!=n.sortedFiles[6]&&n.deleteFiles),e(t,154,0,null==n.sortedFiles[6]),e(t,162,0,n.addFiles&&null==n.sortedFiles[7]),e(t,166,0,null!=n.sortedFiles[7]&&n.deleteFiles),e(t,169,0,null==n.sortedFiles[7]),e(t,177,0,n.addFiles&&null==n.sortedFiles[8]),e(t,181,0,null!=n.sortedFiles[8]&&n.deleteFiles),e(t,184,0,null==n.sortedFiles[8]),e(t,192,0,n.addFiles&&null==n.sortedFiles[9]),e(t,196,0,null!=n.sortedFiles[9]&&n.deleteFiles),e(t,199,0,null==n.sortedFiles[9]),e(t,207,0,n.addFiles&&null==n.sortedFiles[10]),e(t,211,0,null!=n.sortedFiles[10]&&n.deleteFiles),e(t,214,0,null==n.sortedFiles[10]),e(t,222,0,n.addFiles&&null==n.sortedFiles[11]),e(t,226,0,null!=n.sortedFiles[11]&&n.deleteFiles),e(t,229,0,null==n.sortedFiles[11]),e(t,237,0,n.addFiles&&null==n.sortedFiles[12]),e(t,241,0,null!=n.sortedFiles[12]&&n.deleteFiles),e(t,244,0,null==n.sortedFiles[12])}),(function(e,t){var n=t.component;e(t,0,0,Ki(t,4).ngClassUntouched,Ki(t,4).ngClassTouched,Ki(t,4).ngClassPristine,Ki(t,4).ngClassDirty,Ki(t,4).ngClassValid,Ki(t,4).ngClassInvalid,Ki(t,4).ngClassPending),e(t,7,0,Ki(t,10).ngClassUntouched,Ki(t,10).ngClassTouched,Ki(t,10).ngClassPristine,Ki(t,10).ngClassDirty,Ki(t,10).ngClassValid,Ki(t,10).ngClassInvalid,Ki(t,10).ngClassPending),e(t,13,0,Ki(t,18).ngClassUntouched,Ki(t,18).ngClassTouched,Ki(t,18).ngClassPristine,Ki(t,18).ngClassDirty,Ki(t,18).ngClassValid,Ki(t,18).ngClassInvalid,Ki(t,18).ngClassPending),e(t,22,0,Ki(t,25).ngClassUntouched,Ki(t,25).ngClassTouched,Ki(t,25).ngClassPristine,Ki(t,25).ngClassDirty,Ki(t,25).ngClassValid,Ki(t,25).ngClassInvalid,Ki(t,25).ngClassPending),e(t,28,0,Ki(t,33).ngClassUntouched,Ki(t,33).ngClassTouched,Ki(t,33).ngClassPristine,Ki(t,33).ngClassDirty,Ki(t,33).ngClassValid,Ki(t,33).ngClassInvalid,Ki(t,33).ngClassPending),e(t,58,0,Ei(1,"",null==n.sortedFiles[0]?null:n.sortedFiles[0].url,"")),e(t,59,0,null==n.sortedFiles[0]?null:n.sortedFiles[0].description),e(t,73,0,Ei(1,"",null==n.sortedFiles[1]?null:n.sortedFiles[1].url,"")),e(t,74,0,null==n.sortedFiles[1]?null:n.sortedFiles[1].description),e(t,88,0,Ei(1,"",null==n.sortedFiles[2]?null:n.sortedFiles[2].url,"")),e(t,89,0,null==n.sortedFiles[2]?null:n.sortedFiles[2].description),e(t,103,0,Ei(1,"",null==n.sortedFiles[3]?null:n.sortedFiles[3].url,"")),e(t,104,0,null==n.sortedFiles[3]?null:n.sortedFiles[3].description),e(t,118,0,Ei(1,"",null==n.sortedFiles[4]?null:n.sortedFiles[4].url,"")),e(t,119,0,null==n.sortedFiles[4]?null:n.sortedFiles[4].description),e(t,133,0,Ei(1,"",null==n.sortedFiles[5]?null:n.sortedFiles[5].url,"")),e(t,134,0,null==n.sortedFiles[5]?null:n.sortedFiles[5].description),e(t,148,0,Ei(1,"",null==n.sortedFiles[6]?null:n.sortedFiles[6].url,"")),e(t,149,0,null==n.sortedFiles[6]?null:n.sortedFiles[6].description),e(t,163,0,Ei(1,"",null==n.sortedFiles[7]?null:n.sortedFiles[7].url,"")),e(t,164,0,null==n.sortedFiles[7]?null:n.sortedFiles[7].description),e(t,178,0,Ei(1,"",null==n.sortedFiles[8]?null:n.sortedFiles[8].url,"")),e(t,179,0,null==n.sortedFiles[8]?null:n.sortedFiles[8].description),e(t,193,0,Ei(1,"",null==n.sortedFiles[9]?null:n.sortedFiles[9].url,"")),e(t,194,0,null==n.sortedFiles[9]?null:n.sortedFiles[9].description),e(t,208,0,Ei(1,"",null==n.sortedFiles[10]?null:n.sortedFiles[10].url,"")),e(t,209,0,null==n.sortedFiles[10]?null:n.sortedFiles[10].description),e(t,223,0,Ei(1,"",null==n.sortedFiles[11]?null:n.sortedFiles[11].url,"")),e(t,224,0,null==n.sortedFiles[11]?null:n.sortedFiles[11].description),e(t,238,0,Ei(1,"",null==n.sortedFiles[12]?null:n.sortedFiles[12].url,"")),e(t,239,0,null==n.sortedFiles[12]?null:n.sortedFiles[12].description)}))}function qj(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"app-checkList",[],null,null,null,zj,QV)),rs(1,114688,null,0,ZV,[pO,Vx,Hx,JV],null,null)],(function(e,t){e(t,1,0)}),null)}var Uj=Bi("app-checkList",ZV,qj,{},{},[]);function Wj(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Yj(e){return"string"==typeof e}function $j(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Gj(e){return e&&e.getTime&&!isNaN(e.getTime())}function Xj(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Kj(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Zj(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function Jj(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qj(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function ez(e){return void 0===e}function tz(e){const t=+e;let n=0;return 0!==t&&isFinite(t)&&(n=Wj(t)),n}const nz={},iz={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function sz(e,t){const n=e.toLowerCase();let i=e;n in iz&&(i=iz[n]),nz[n]=nz[`${n}s`]=nz[t]=i}function lz(e){return Yj(e)?nz[e]||nz[e.toLowerCase()]:void 0}function rz(e,t,n){const i=`${Math.abs(e)}`;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}let az={},oz={};const hz=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function cz(e,t,n,i){e&&(oz[e]=i),t&&(oz[t[0]]=function(){return rz(i.apply(null,arguments),t[1],t[2])}),n&&(oz[n]=function(t,n){return n.locale.ordinal(i.apply(null,arguments),e)})}function dz(e,t,n){const i=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e),i}function uz(e,t=0,n=1,i=0,s=0,l=0,r=0){const a=new Date(e,t,n,i,s,l,r);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function pz(e,t=!1){return t?e.getUTCHours():e.getHours()}function mz(e,t=!1){return t?e.getUTCMinutes():e.getMinutes()}function fz(e,t=!1){return t?e.getUTCSeconds():e.getSeconds()}function gz(e,t=!1){return t?e.getUTCMilliseconds():e.getMilliseconds()}function bz(e,t=!1){return t?e.getUTCDay():e.getDay()}function vz(e,t=!1){return t?e.getUTCDate():e.getDate()}function yz(e,t=!1){return t?e.getUTCMonth():e.getMonth()}function wz(e,t=!1){return t?e.getUTCFullYear():e.getFullYear()}function Cz(e,t){return!(!e||!t)&&xz(e,t)&&yz(e)===yz(t)}function xz(e,t){return!(!e||!t)&&wz(e)===wz(t)}function _z(e,t){return!(!e||!t)&&xz(e,t)&&Cz(e,t)&&vz(e)===vz(t)}const Sz=/\d/,kz=/\d\d/,Ez=/\d{3}/,Oz=/\d{4}/,Iz=/[+-]?\d{6}/,Dz=/\d\d?/,Az=/\d\d\d\d?/,Mz=/\d\d\d\d\d\d?/,Tz=/\d{1,3}/,Pz=/\d{1,4}/,Lz=/[+-]?\d{1,6}/,Nz=/\d+/,Rz=/[+-]?\d+/,Fz=/Z|[+-]\d\d(?::?\d\d)?/gi,Hz=/[+-]?\d+(\.\d{1,3})?/,Bz=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Vz={};function jz(e,t,n){Vz[e]=Xj(t)?t:function(e,i){return e&&n?n:t}}function zz(e,t){return Jj(Vz,e)?Vz[e](!1,t):new RegExp(qz(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(e,t,n,i,s)=>t||n||i||s)))}function qz(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Uz={};function Wz(e,t){const n=Yj(e)?[e]:e;let i=t;if(Kj(t)&&(i=function(e,n,i){return n[t]=tz(e),i}),Zj(n)&&Xj(i)){let e;for(e=0;e<n.length;e++)Uz[n[e]]=i}}function Yz(e,t){Wz(e,(function(e,n,i,s){return i._w=i._w||{},t(e,i._w,i,s)}))}function $z(e,t,n){return null!=t&&Jj(Uz,e)&&Uz[e](t,n._a,n,e),n}function Gz(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function Xz(e,t){return wz(e,t.isUTC).toString()}function Kz(e){return tz(e)+(tz(e)>68?1900:2e3)}function Zz(e){return Jz(e)?366:365}function Jz(e){return e%4==0&&e%100!=0||e%400==0}function Qz(e,t){if(isNaN(e)||isNaN(t))return NaN;const n=(t%12+12)%12;return 1===n?Jz(e+(t-n)/12)?29:28:31-n%7%2}const eq={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function tq(e,t){const n=Object.assign({},eq,t),i=e.getFullYear()+(n.year||0),s=e.getMonth()+(n.month||0);let l=e.getDate()+(n.day||0);return n.month&&!n.day&&(l=Math.min(l,Qz(i,s))),uz(i,s,l,e.getHours()+(n.hour||0),e.getMinutes()+(n.minute||0),e.getSeconds()+(n.seconds||0))}function nq(e,t){return Kj(t)?t:e}function iq(e,t,n){const i=Math.min(vz(e),Qz(wz(e),t));return n?e.setUTCMonth(t,i):e.setMonth(t,i),e}function sq(e,t,n){return n?e.setUTCDate(t):e.setDate(t),e}function lq(e){return new Date(e.getTime())}function rq(e,t,n){const i=lq(e);switch(t){case"year":iq(i,0,n);case"quarter":case"month":sq(i,1,n);case"week":case"isoWeek":case"day":case"date":!function(e,t,n){n?e.setUTCHours(0):e.setHours(0)}(i,0,n);case"hours":!function(e,t,n){n?e.setUTCMinutes(0):e.setMinutes(0)}(i,0,n);case"minutes":!function(e,t,n){n?e.setUTCSeconds(0):e.setSeconds(0)}(i,0,n);case"seconds":!function(e,t,n){n?e.setUTCMilliseconds(0):e.setMilliseconds(0)}(i,0,n)}return"week"===t&&function(e,t,n={}){yU(e,0-xU(e,n.locale,n.isUTC),"day")}(i,0,{isUTC:n}),"isoWeek"===t&&function(e,t,n={}){const i=function(e,t=Rq()){return Yj(e)?t.weekdaysParse(e)%7||7:Kj(e)&&isNaN(e)?null:e}(1,n.locale);CU(e,function(e,t){return bz(e,void 0)}(e)%7?i:i-7)}(i),"quarter"===t&&iq(i,3*Math.floor(yz(i,n)/3),n),i}function aq(e,t,n){let i=t;return"date"===i&&(i="day"),function(e,t,n,i){return wU(e,gU(1,"milliseconds"),-1,i)}(yU(rq(e,i,n),1,"isoWeek"===i?"week":i,n),0,0,n)}function oq(e,t){const n=+rq(e,"day",t),i=+rq(e,"year",t);return Math.round((n-i)/864e5)+1}function hq(e,t,n){const i=t-n+7;return-(dz(e,0,i).getUTCDay()-t+7)%7+i-1}function cq(e,t,n,i){const s=hq(wz(e,i),t,n),l=Math.floor((oq(e,i)-s-1)/7)+1;let r,a;return l<1?(a=wz(e,i)-1,r=l+dq(a,t,n)):l>dq(wz(e,i),t,n)?(r=l-dq(wz(e,i),t,n),a=wz(e,i)+1):(a=wz(e,i),r=l),{week:r,year:a}}function dq(e,t,n){const i=hq(e,t,n),s=hq(e+1,t,n);return(Zz(e)-i+s)/7}const uq=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mq="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fq="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gq="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bq={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},vq=Bz,yq=Bz;class wq{constructor(e){e&&this.set(e)}set(e){let t;for(t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];this[Xj(n)?t:`_${t}`]=n}this._config=e}calendar(e,t,n){const i=this._calendar[e]||this._calendar.sameElse;return Xj(i)?i.call(null,t,n):i}longDateFormat(e){const t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}get invalidDate(){return this._invalidDate}set invalidDate(e){this._invalidDate=e}ordinal(e,t){return this._ordinal.replace("%d",e.toString(10))}preparse(e){return e}postformat(e){return e}relativeTime(e,t,n,i){const s=this._relativeTime[n];return Xj(s)?s(e,t,n,i):s.replace(/%d/i,e.toString(10))}pastFuture(e,t){const n=this._relativeTime[e>0?"future":"past"];return Xj(n)?n(t):n.replace(/%s/i,t)}months(e,t,n=!1){if(!e)return Zj(this._months)?this._months:this._months.standalone;if(Zj(this._months))return this._months[yz(e,n)];const i=(this._months.isFormat||uq).test(t)?"format":"standalone";return this._months[i][yz(e,n)]}monthsShort(e,t,n=!1){if(!e)return Zj(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(Zj(this._monthsShort))return this._monthsShort[yz(e,n)];const i=uq.test(t)?"format":"standalone";return this._monthsShort[i][yz(e,n)]}monthsParse(e,t,n){let i,s,l;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(i=new Date(Date.UTC(2e3,l)),n&&!this._longMonthsParse[l]){const e=this.months(i,"",!0).replace(".",""),t=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[l]=new RegExp(`^${e}$`,"i"),this._shortMonthsParse[l]=new RegExp(`^${t}$`,"i")}if(n||this._monthsParse[l]||(s=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[l]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[l].test(e))return l;if(n&&"MMM"===t&&this._shortMonthsParse[l].test(e))return l;if(!n&&this._monthsParse[l].test(e))return l}}monthsRegex(e){return this._monthsParseExact?(Jj(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(Jj(this,"_monthsRegex")||(this._monthsRegex=yq),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(e){return this._monthsParseExact?(Jj(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Jj(this,"_monthsShortRegex")||(this._monthsShortRegex=vq),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}week(e,t){return cq(e,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(e,t,n){if(!e)return Zj(this._weekdays)?this._weekdays:this._weekdays.standalone;if(Zj(this._weekdays))return this._weekdays[bz(e,n)];const i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][bz(e,n)]}weekdaysMin(e,t,n){return e?this._weekdaysMin[bz(e,n)]:this._weekdaysMin}weekdaysShort(e,t,n){return e?this._weekdaysShort[bz(e,n)]:this._weekdaysShort}weekdaysParse(e,t,n){let i,s;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const l=CU(new Date(Date.UTC(2e3,1)),i,null,!0);if(n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(l,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(l,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(l,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(s=`^${this.weekdays(l,"",!0)}|^${this.weekdaysShort(l,"",!0)}|^${this.weekdaysMin(l,"",!0)}`,this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),!(Zj(this._fullWeekdaysParse)&&Zj(this._shortWeekdaysParse)&&Zj(this._minWeekdaysParse)&&Zj(this._weekdaysParse)))return;if(n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}weekdaysRegex(e){return this._weekdaysParseExact?(Jj(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Jj(this,"_weekdaysRegex")||(this._weekdaysRegex=Bz),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(e){return this._weekdaysParseExact?(Jj(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Jj(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bz),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(e){return this._weekdaysParseExact?(Jj(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Jj(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bz),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(e){return"p"===e.toLowerCase().charAt(0)}meridiem(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}formatLongDate(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:bq;const t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,e=>e.slice(1)),this._longDateFormat[e])}handleMonthStrictParse(e,t,n){const i=e.toLocaleLowerCase();let s,l,r;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=new Date(2e3,s),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(l=this._shortMonthsParse.indexOf(i),-1!==l?l:null):(l=this._longMonthsParse.indexOf(i),-1!==l?l:null):"MMM"===t?(l=this._shortMonthsParse.indexOf(i),-1!==l?l:(l=this._longMonthsParse.indexOf(i),-1!==l?l:null)):(l=this._longMonthsParse.indexOf(i),-1!==l?l:(l=this._shortMonthsParse.indexOf(i),-1!==l?l:null))}handleWeekStrictParse(e,t,n){let i;const s=e.toLocaleLowerCase();if(!this._weekdaysParse){let e;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],e=0;e<7;++e){const t=CU(new Date(Date.UTC(2e3,1)),e,null,!0);this._minWeekdaysParse[e]=this.weekdaysMin(t).toLocaleLowerCase(),this._shortWeekdaysParse[e]=this.weekdaysShort(t).toLocaleLowerCase(),this._weekdaysParse[e]=this.weekdays(t,"").toLocaleLowerCase()}}if(Zj(this._weekdaysParse)&&Zj(this._shortWeekdaysParse)&&Zj(this._minWeekdaysParse))return n?"dddd"===t?(i=this._weekdaysParse.indexOf(s),-1!==i?i:null):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(s),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(s),-1!==i?i:null):"dddd"===t?(i=this._weekdaysParse.indexOf(s),-1!==i?i:(i=this._shortWeekdaysParse.indexOf(s),-1!==i?i:(i=this._minWeekdaysParse.indexOf(s),-1!==i?i:null))):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(s),-1!==i?i:(i=this._weekdaysParse.indexOf(s),-1!==i?i:(i=this._minWeekdaysParse.indexOf(s),-1!==i?i:null))):(i=this._minWeekdaysParse.indexOf(s),-1!==i?i:(i=this._weekdaysParse.indexOf(s),-1!==i?i:(i=this._shortWeekdaysParse.indexOf(s),-1!==i?i:null)))}computeMonthsParse(){const e=[],t=[],n=[];let i,s;for(s=0;s<12;s++)i=new Date(2e3,s),e.push(this.monthsShort(i,"")),t.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(e.sort(Cq),t.sort(Cq),n.sort(Cq),s=0;s<12;s++)e[s]=qz(e[s]),t[s]=qz(t[s]);for(s=0;s<24;s++)n[s]=qz(n[s]);this._monthsRegex=new RegExp(`^(${n.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}computeWeekdaysParse(){const e=[],t=[],n=[],i=[];let s;for(s=0;s<7;s++){const l=CU(new Date(Date.UTC(2e3,1)),s,null,!0),r=this.weekdaysMin(l),a=this.weekdaysShort(l),o=this.weekdays(l);e.push(r),t.push(a),n.push(o),i.push(r),i.push(a),i.push(o)}for(e.sort(Cq),t.sort(Cq),n.sort(Cq),i.sort(Cq),s=0;s<7;s++)t[s]=qz(t[s]),n[s]=qz(n[s]),i[s]=qz(i[s]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${n.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}}function Cq(e,t){return t.length-e.length}const xq={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:bq,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:pq,monthsShort:mq,week:{dow:0,doy:6},weekdays:fq,weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysShort:gq,meridiemParse:/[ap]\.?m?\.?/i};function _q(e,t,n){const i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length);let l,r=0;for(l=0;l<i;l++)(n&&e[l]!==t[l]||!n&&tz(e[l])!==tz(t[l]))&&r++;return r+s}function Sq(e,t){cz(null,[e,e.length,!1],null,t)}function kq(e,t){return Oq(e,t.locale).toString()}function Eq(e){return Iq(e).toString()}function Oq(e,t=Rq(),n){return cq(e,t.firstDayOfWeek(),t.firstDayOfYear(),n).year}function Iq(e,t){return cq(e,1,4,t).year}function Dq(e,t){cz(e,null,null,(function(e,n){let i=function(e,t={}){return t._isUTC?t._offset||0:function(e){return 15*-Math.round(e.getTimezoneOffset()/15)}(e)}(e,{_isUTC:n.isUTC,_offset:n.offset}),s="+";return i<0&&(i=-i,s="-"),s+rz(~~(i/60),2)+t+rz(~~i%60,2)}))}const Aq=/([\+\-]|\d\d)/gi,Mq={},Tq={};let Pq;function Lq(e){return e?e.toLowerCase().replace("_","-"):e}function Nq(e){return Mq[e]||console.error(`Khronos locale error: please load locale "${e}" before using it`),Mq[e]}function Rq(e){return Mq.en||(function e(t,n){let i;return t&&(ez(n)?i=Rq(t):Yj(t)&&(i=function t(n,i){if(null===i)return delete Mq[n],Pq=Rq("en"),null;if(!i)return;let s=xq;if(i.abbr=n,null!=i.parentLocale){if(null==Mq[i.parentLocale])return Tq[i.parentLocale]||(Tq[i.parentLocale]=[]),Tq[i.parentLocale].push({name:n,config:i}),null;s=Mq[i.parentLocale]._config}return Mq[n]=new wq(function(e,t){const n=Object.assign({},e);for(const s in t)Jj(t,s)&&(Qj(e[s])&&Qj(t[s])?(n[s]={},Object.assign(n[s],e[s]),Object.assign(n[s],t[s])):null!=t[s]?n[s]=t[s]:delete n[s]);let i;for(i in e)Jj(e,i)&&!Jj(t,i)&&Qj(e[i])&&(n[i]=Object.assign({},n[i]));return n}(s,i)),Tq[n]&&Tq[n].forEach((function(e){t(e.name,e.config)})),e(n),Mq[n]}(t,n)),i&&(Pq=i)),Pq&&Pq._abbr}("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(e){const t=e%10;return e+(1===tz(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),cz("w",["ww",2,!1],"wo",(function(e,t){return function(e,t=Rq(),n){return t.week(e,void 0)}(e,t.locale).toString(10)})),cz("W",["WW",2,!1],"Wo",(function(e){return function(e,t){return cq(e,1,4,void 0).week}(e).toString(10)})),sz("week","w"),sz("isoWeek","W"),jz("w",Dz),jz("ww",Dz,kz),jz("W",Dz),jz("WW",Dz,kz),Yz(["w","ww","W","WW"],(function(e,t,n,i){return t[i.substr(0,1)]=tz(e),n})),cz(null,["gg",2,!1],null,(function(e,t){return(Oq(e,t.locale)%100).toString()})),cz(null,["GG",2,!1],null,(function(e){return(Iq(e)%100).toString()})),Sq("gggg",kq),Sq("ggggg",kq),Sq("GGGG",Eq),Sq("GGGGG",Eq),sz("weekYear","gg"),sz("isoWeekYear","GG"),jz("G",Rz),jz("g",Rz),jz("GG",Dz,kz),jz("gg",Dz,kz),jz("GGGG",Pz,Oz),jz("gggg",Pz,Oz),jz("GGGGG",Lz,Iz),jz("ggggg",Lz,Iz),Yz(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){return t[i.substr(0,2)]=tz(e),n})),Yz(["gg","GG"],(function(e,t,n,i){return t[i]=Kz(e),n})),cz("Y",null,null,(function(e,t){const n=wz(e,t.isUTC);return n<=9999?n.toString(10):`+${n}`})),cz(null,["YY",2,!1],null,(function(e,t){return(wz(e,t.isUTC)%100).toString(10)})),cz(null,["YYYY",4,!1],null,Xz),cz(null,["YYYYY",5,!1],null,Xz),cz(null,["YYYYYY",6,!0],null,Xz),sz("year","y"),jz("Y",Rz),jz("YY",Dz,kz),jz("YYYY",Pz,Oz),jz("YYYYY",Lz,Iz),jz("YYYYYY",Lz,Iz),Wz(["YYYYY","YYYYYY"],0),Wz("YYYY",(function(e,t,n){return t[0]=2===e.length?Kz(e):tz(e),n})),Wz("YY",(function(e,t,n){return t[0]=Kz(e),n})),Wz("Y",(function(e,t,n){return t[0]=parseInt(e,10),n})),cz("z",null,null,(function(e,t){return t.isUTC?"UTC":""})),cz("zz",null,null,(function(e,t){return t.isUTC?"Coordinated Universal Time":""})),cz("X",null,null,(function(e){return function(e){return Math.floor(e.valueOf()/1e3)}(e).toString(10)})),cz("x",null,null,(function(e){return e.valueOf().toString(10)})),jz("x",Rz),jz("X",Hz),Wz("X",(function(e,t,n){return n._d=new Date(1e3*parseFloat(e)),n})),Wz("x",(function(e,t,n){return n._d=new Date(tz(e)),n})),cz("s",["ss",2,!1],null,(function(e,t){return fz(e,t.isUTC).toString(10)})),sz("second","s"),jz("s",Dz),jz("ss",Dz,kz),Wz(["s","ss"],5),cz("Q",null,"Qo",(function(e,t){return function(e,t=!1){return Math.ceil((yz(e,t)+1)/3)}(e,t.isUTC).toString(10)})),sz("quarter","Q"),jz("Q",Sz),Wz("Q",(function(e,t,n){return t[1]=3*(tz(e)-1),n})),Dq("Z",":"),Dq("ZZ",""),jz("Z",Fz),jz("ZZ",Fz),Wz(["Z","ZZ"],(function(e,t,n){return n._useUTC=!0,n._tzm=function(e,t){const n=(t||"").match(e);if(null===n)return null;const i=n[n.length-1].match(Aq)||["-","0","0"],s=60*parseInt(i[1],10)+tz(i[2]);return 0===s?0:"+"===i[0]?s:-s}(Fz,e),n})),cz("M",["MM",2,!1],"Mo",(function(e,t){return(yz(e,t.isUTC)+1).toString(10)})),cz("MMM",null,null,(function(e,t){return t.locale.monthsShort(e,t.format,t.isUTC)})),cz("MMMM",null,null,(function(e,t){return t.locale.months(e,t.format,t.isUTC)})),sz("month","M"),jz("M",Dz),jz("MM",Dz,kz),jz("MMM",(function(e,t){return t.monthsShortRegex(e)})),jz("MMMM",(function(e,t){return t.monthsRegex(e)})),Wz(["M","MM"],(function(e,t,n){return t[1]=tz(e)-1,n})),Wz(["MMM","MMMM"],(function(e,t,n,i){const s=n._locale.monthsParse(e,i,n._strict);return null!=s?t[1]=s:Gz(n).invalidMonth=!!e,n})),cz("m",["mm",2,!1],null,(function(e,t){return mz(e,t.isUTC).toString(10)})),sz("minute","m"),jz("m",Dz),jz("mm",Dz,kz),Wz(["m","mm"],4),function(){let e;for(cz("S",null,null,(function(e,t){return(~~(gz(e,t.isUTC)/100)).toString(10)})),cz(null,["SS",2,!1],null,(function(e,t){return(~~(gz(e,t.isUTC)/10)).toString(10)})),cz(null,["SSS",3,!1],null,(function(e,t){return gz(e,t.isUTC).toString(10)})),cz(null,["SSSS",4,!1],null,(function(e,t){return(10*gz(e,t.isUTC)).toString(10)})),cz(null,["SSSSS",5,!1],null,(function(e,t){return(100*gz(e,t.isUTC)).toString(10)})),cz(null,["SSSSSS",6,!1],null,(function(e,t){return(1e3*gz(e,t.isUTC)).toString(10)})),cz(null,["SSSSSSS",7,!1],null,(function(e,t){return(1e4*gz(e,t.isUTC)).toString(10)})),cz(null,["SSSSSSSS",8,!1],null,(function(e,t){return(1e5*gz(e,t.isUTC)).toString(10)})),cz(null,["SSSSSSSSS",9,!1],null,(function(e,t){return(1e6*gz(e,t.isUTC)).toString(10)})),sz("millisecond","ms"),jz("S",Tz,Sz),jz("SS",Tz,kz),jz("SSS",Tz,Ez),e="SSSS";e.length<=9;e+="S")jz(e,Nz);function t(e,t,n){return t[6]=tz(1e3*parseFloat(`0.${e}`)),n}for(e="S";e.length<=9;e+="S")Wz(e,t)}(),function(){function e(e,t){return pz(e,t)%12||12}function t(e,t){cz(e,null,null,(function(e,n){return n.locale.meridiem(pz(e,n.isUTC),mz(e,n.isUTC),t)}))}function n(e,t){return t._meridiemParse}cz("H",["HH",2,!1],null,(function(e,t){return pz(e,t.isUTC).toString(10)})),cz("h",["hh",2,!1],null,(function(t,n){return e(t,n.isUTC).toString(10)})),cz("k",["kk",2,!1],null,(function(e,t){return function(e,t){return pz(e,t)||24}(e,t.isUTC).toString(10)})),cz("hmm",null,null,(function(t,n){return`${e(t,n.isUTC)}${rz(mz(t,n.isUTC),2)}`})),cz("hmmss",null,null,(function(t,n){return`${e(t,n.isUTC)}${rz(mz(t,n.isUTC),2)}${rz(fz(t,n.isUTC),2)}`})),cz("Hmm",null,null,(function(e,t){return`${pz(e,t.isUTC)}${rz(mz(e,t.isUTC),2)}`})),cz("Hmmss",null,null,(function(e,t){return`${pz(e,t.isUTC)}${rz(mz(e,t.isUTC),2)}${rz(fz(e,t.isUTC),2)}`})),t("a",!0),t("A",!1),sz("hour","h"),jz("a",n),jz("A",n),jz("H",Dz),jz("h",Dz),jz("k",Dz),jz("HH",Dz,kz),jz("hh",Dz,kz),jz("kk",Dz,kz),jz("hmm",Az),jz("hmmss",Mz),jz("Hmm",Az),jz("Hmmss",Mz),Wz(["H","HH"],3),Wz(["k","kk"],(function(e,t,n){const i=tz(e);return t[3]=24===i?0:i,n})),Wz(["a","A"],(function(e,t,n){return n._isPm=n._locale.isPM(e),n._meridiem=e,n})),Wz(["h","hh"],(function(e,t,n){return t[3]=tz(e),Gz(n).bigHour=!0,n})),Wz("hmm",(function(e,t,n){const i=e.length-2;return t[3]=tz(e.substr(0,i)),t[4]=tz(e.substr(i)),Gz(n).bigHour=!0,n})),Wz("hmmss",(function(e,t,n){const i=e.length-4,s=e.length-2;return t[3]=tz(e.substr(0,i)),t[4]=tz(e.substr(i,2)),t[5]=tz(e.substr(s)),Gz(n).bigHour=!0,n})),Wz("Hmm",(function(e,t,n){const i=e.length-2;return t[3]=tz(e.substr(0,i)),t[4]=tz(e.substr(i)),n})),Wz("Hmmss",(function(e,t,n){const i=e.length-4,s=e.length-2;return t[3]=tz(e.substr(0,i)),t[4]=tz(e.substr(i,2)),t[5]=tz(e.substr(s)),n}))}(),cz("DDD",["DDDD",3,!1],"DDDo",(function(e){return oq(e).toString(10)})),sz("dayOfYear","DDD"),jz("DDD",Tz),jz("DDDD",Ez),Wz(["DDD","DDDD"],(function(e,t,n){return n._dayOfYear=tz(e),n})),cz("d",null,"do",(function(e,t){return bz(e,t.isUTC).toString(10)})),cz("dd",null,null,(function(e,t){return t.locale.weekdaysMin(e,t.format,t.isUTC)})),cz("ddd",null,null,(function(e,t){return t.locale.weekdaysShort(e,t.format,t.isUTC)})),cz("dddd",null,null,(function(e,t){return t.locale.weekdays(e,t.format,t.isUTC)})),cz("e",null,null,(function(e,t){return xU(e,t.locale,t.isUTC).toString(10)})),cz("E",null,null,(function(e,t){return function(e,t){return bz(e,t)||7}(e,t.isUTC).toString(10)})),sz("day","d"),sz("weekday","e"),sz("isoWeekday","E"),jz("d",Dz),jz("e",Dz),jz("E",Dz),jz("dd",(function(e,t){return t.weekdaysMinRegex(e)})),jz("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),jz("dddd",(function(e,t){return t.weekdaysRegex(e)})),Yz(["dd","ddd","dddd"],(function(e,t,n,i){const s=n._locale.weekdaysParse(e,i,n._strict);return null!=s?t.d=s:Gz(n).invalidWeekday=!!e,n})),Yz(["d","e","E"],(function(e,t,n,i){return t[i]=tz(e),n})),cz("D",["DD",2,!1],"Do",(function(e,t){return vz(e,t.isUTC).toString(10)})),sz("date","D"),jz("D",Dz),jz("DD",Dz,kz),jz("Do",(function(e,t){return t._dayOfMonthOrdinalParse||t._ordinalParse})),Wz(["D","DD"],2),Wz("Do",(function(e,t,n){return t[2]=tz(e.match(Dz)[0]),n}))),e?function(e){let t,n,i=0;for(;i<e.length;){const s=Lq(e[i]).split("-");let l=s.length;for(t=Lq(e[i+1]),t=t?t.split("-"):null;l>0;){if(n=Nq(s.slice(0,l).join("-")),n)return n;if(t&&t.length>=l&&_q(s,t,!0)>=l-1)break;l--}i++}return null}(Zj(e)?e:[e]):Pq}const Fq=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],Hq=Fq.reduce((e,t)=>(e[t]=!0,e),{});function Bq(e){return e<0?Math.floor(e):Math.ceil(e)}function Vq(e){return 4800*e/146097}function jq(e){return 146097*e/4800}let zq=Math.round;function qq(e,t,n,i,s){return s.relativeTime(t||1,!!n,e,i)}class Uq{constructor(e,t={}){this._data={},this._locale=Rq(),this._locale=t&&t._locale||Rq();const n=e.year||0,i=e.quarter||0,s=e.month||0,l=e.week||0,r=e.day||0,a=e.hours||0,o=e.minutes||0,h=e.seconds||0,c=e.milliseconds||0;return this._isValid=function(e){if(Object.keys(e).some(t=>t in Hq&&null===e[t]||isNaN(e[t])))return!1;let t=!1;for(let n=0;n<Fq.length;++n)if(e[Fq[n]]){if(t)return!1;e[Fq[n]]!==tz(e[Fq[n]])&&(t=!0)}return!0}(e),this._milliseconds=+c+1e3*h+60*o*1e3+1e3*a*60*60,this._days=+r+7*l,this._months=+s+3*i+12*n,function(e){let t=e._milliseconds,n=e._days,i=e._months;const s=e._data;t>=0&&n>=0&&i>=0||t<=0&&n<=0&&i<=0||(t+=864e5*Bq(jq(i)+n),n=0,i=0),s.milliseconds=t%1e3;const l=Wj(t/1e3);s.seconds=l%60;const r=Wj(l/60);s.minutes=r%60;const a=Wj(r/60);s.hours=a%24,n+=Wj(a/24);const o=Wj(Vq(n));i+=o,n-=Bq(jq(o));const h=Wj(i/12);return i%=12,s.day=n,s.month=i,s.year=h,e}(this)}isValid(){return this._isValid}humanize(e){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let n=function(e,t,n){const i=gU(e).abs(),s=zq(i.as("s")),l=zq(i.as("m")),r=zq(i.as("h")),a=zq(i.as("d")),o=zq(i.as("M")),h=zq(i.as("y")),c=s<=44&&["s",s]||s<45&&["ss",s]||l<=1&&["m"]||l<45&&["mm",l]||r<=1&&["h"]||r<22&&["hh",r]||a<=1&&["d"]||a<26&&["dd",a]||o<=1&&["M"]||o<11&&["MM",o]||h<=1&&["y"]||["yy",h];return qq.apply(null,[c[0],c[1],t,+e>0,n])}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}localeData(){return this._locale}locale(e){return e?(this._locale=Rq(e)||this._locale,this):this._locale._abbr}abs(){const e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}as(e){if(!this.isValid())return NaN;let t,n;const i=this._milliseconds,s=lz(e);if("month"===s||"year"===s)return t=this._days+i/864e5,n=this._months+Vq(t),"month"===s?n:n/12;switch(t=this._days+Math.round(jq(this._months)),s){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error(`Unknown unit ${s}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*tz(this._months/12):NaN}}function Wq(e){if(null==e._isValid){const t=Gz(e),n=Array.prototype.some.call(t.parsedDateParts,(function(e){return null!=e}));let i=!isNaN(e._d&&e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function Yq(e,t){return e._d=new Date(NaN),Object.assign(Gz(e),t||{userInvalidated:!0}),e}const $q=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gq=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xq=/Z|[+-]\d\d(?::?\d\d)?/,Kq=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],Zq=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Jq=/^\/?Date\((\-?\d+)/i,Qq={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},eU=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function tU(e){if(!Yj(e._i))return e;const t=e._i,n=$q.exec(t)||Gq.exec(t);let i,s,l,r,a,o;if(!n)return e._isValid=!1,e;for(a=0,o=Kq.length;a<o;a++)if(Kq[a][1].exec(n[1])){s=Kq[a][0],i=!1!==Kq[a][2];break}if(null==s)return e._isValid=!1,e;if(n[3]){for(a=0,o=Zq.length;a<o;a++)if(Zq[a][1].exec(n[3])){l=(n[2]||" ")+Zq[a][0];break}if(null==l)return e._isValid=!1,e}if(!i&&null!=l)return e._isValid=!1,e;if(n[4]){if(!Xq.exec(n[4]))return e._isValid=!1,e;r="Z"}return e._f=s+(l||"")+(r||""),hU(e)}function nU(e){const t=parseInt(e,10);return t<=49?t+2e3:t}function iU(e){if(!Yj(e._i))return e;const t=eU.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(!t)return function(e){return e._isValid=!1,e}(e);const n=function(e,t,n,i,s,l){const r=[nU(e),mq.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(s,10)];return l&&r.push(parseInt(l,10)),r}(t[4],t[3],t[2],t[5],t[6],t[7]);return function(e,t,n){return!e||gq.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(Gz(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e)?(e._a=n,e._tzm=function(e,t,n){if(e)return Qq[e];if(t)return 0;{const e=parseInt(n,10),t=e%100;return(e-t)/100*60+t}}(t[8],t[9],t[10]),e._d=dz.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Gz(e).rfc2822=!0,e):e}function sU(e,t,n,i,s=0){const l=Rq(n||"en");if(!l)throw new Error(`Locale "${n}" is not defined, please add it with "defineLocale(...)"`);const r=function(e,t,n,i,s=0){if(!Gj(e))return n.invalidDate;const l=lU(t,n);return az[l]=az[l]||function(e){const t=e.match(hz),n=t.length,i=new Array(n);for(let l=0;l<n;l++)i[l]=oz[t[l]]?oz[t[l]]:(s=t[l]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");var s;return function(t,s,l,r=0){let a="";for(let o=0;o<n;o++)a+=Xj(i[o])?i[o].call(null,t,{format:e,locale:s,isUTC:l,offset:r}):i[o];return a}}(l),az[l](e,n,i,s)}(e,t||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),l,i,s);return r?l.postformat(r):r}function lU(e,t){let n=e,i=5;const s=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,l=e=>t.formatLongDate(e)||e;for(s.lastIndex=0;i>=0&&s.test(n);)n=n.replace(s,l),s.lastIndex=0,i-=1;return n}function rU(e,t,n){return null!=e?e:null!=t?t:n}function aU(e){const t=[];let n,i,s,l,r;if(e._d)return e;for(s=function(e){const t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){let t,n,i,s,l,r,a,o;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)l=1,r=4,n=rU(t.GG,e._a[0],cq(new Date,1,4).year),i=rU(t.W,1),s=rU(t.E,1),(s<1||s>7)&&(o=!0);else{l=e._locale._week.dow,r=e._locale._week.doy;const a=cq(new Date,l,r);n=rU(t.gg,e._a[0],a.year),i=rU(t.w,a.week),null!=t.d?(s=t.d,(s<0||s>6)&&(o=!0)):null!=t.e?(s=t.e+l,(t.e<0||t.e>6)&&(o=!0)):s=l}i<1||i>dq(n,l,r)?Gz(e)._overflowWeeks=!0:null!=o?Gz(e)._overflowWeekday=!0:(a=function(e,t,n,i,s){const l=1+7*(t-1)+(7+n-i)%7+hq(e,i,s);let r,a;return l<=0?(r=e-1,a=Zz(r)+l):l>Zz(e)?(r=e+1,a=l-Zz(e)):(r=e,a=l),{year:r,dayOfYear:a}}(n,i,s,l,r),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(r=rU(e._a[0],s[0]),(e._dayOfYear>Zz(r)||0===e._dayOfYear)&&(Gz(e)._overflowDayOfYear=!0),i=new Date(Date.UTC(r,0,e._dayOfYear)),e._a[1]=i.getUTCMonth(),e._a[2]=i.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=t[n]=s[n];for(;n<7;n++)e._a[n]=t[n]=null==e._a[n]?2===n?1:0:e._a[n];return 24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?dz:uz).apply(null,t),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==l&&(Gz(e).weekdayMismatch=!0),e}function oU(e){let t;const n=e._a;return n&&-2===Gz(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Qz(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,Gz(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),Gz(e)._overflowWeeks&&-1===t&&(t=7),Gz(e)._overflowWeekday&&-1===t&&(t=8),Gz(e).overflow=t),e}function hU(e){if("ISO_8601"===e._f)return tU(e);if("RFC_2822"===e._f)return iU(e);if(e._a=[],Gz(e).empty=!0,Zj(e._f)||!e._i&&0!==e._i)return e;let t=e._i.toString(),n=0;const i=t.length,s=lU(e._f,e._locale).match(hz)||[];let l,r,a,o;for(l=0;l<s.length;l++)r=s[l],a=(t.match(zz(r,e._locale))||[])[0],a&&(o=t.substr(0,t.indexOf(a)),o.length>0&&Gz(e).unusedInput.push(o),t=t.slice(t.indexOf(a)+a.length),n+=a.length),oz[r]?(a?Gz(e).empty=!1:Gz(e).unusedTokens.push(r),$z(r,a,e)):e._strict&&!a&&Gz(e).unusedTokens.push(r);return Gz(e).charsLeftOver=i-n,t.length>0&&Gz(e).unusedInput.push(t),e._a[3]<=12&&!0===Gz(e).bigHour&&e._a[3]>0&&(Gz(e).bigHour=void 0),Gz(e).parsedDateParts=e._a.slice(0),Gz(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){let i=t;if(null==n)return i;if(null!=e.meridiemHour)return e.meridiemHour(i,n);if(null==e.isPM)return i;const s=e.isPM(n);return s&&i<12&&(i+=12),s||12!==i||(i=0),i}(e._locale,e._a[3],e._meridiem),aU(e),oU(e)}function cU(e,t,n,i,s){return $j(e)?e:function(e,t,n,i,s){const l={};let r=e;return(Qj(r)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;let t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(r)||Zj(r)&&0===r.length)&&(r=void 0),l._useUTC=l._isUTC=s,l._l=n,l._i=r,l._f=t,l._strict=i,function(e){const t=oU(function(e){let t=e._i;const n=e._f;return e._locale=e._locale||Rq(e._l),null===t||void 0===n&&""===t?Yq(e,{nullInput:!0}):(Yj(t)&&(e._i=t=e._locale.preparse(t)),$j(t)?(e._d=lq(t),e):(Zj(n)?function(e){let t,n,i,s,l;if(!e._f||0===e._f.length)return Gz(e).invalidFormat=!0,Yq(e);for(l=0;l<e._f.length;l++)s=0,t=Object.assign({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[l],hU(t),Wq(t)&&(s+=Gz(t).charsLeftOver,s+=10*Gz(t).unusedTokens.length,Gz(t).score=s,(null==i||s<i)&&(i=s,n=t));Object.assign(e,n||t)}(e):n?hU(e):function(e){const t=e._i;if(ez(t))e._d=new Date;else if($j(t))e._d=lq(t);else if(Yj(t))!function(e){if(!Yj(e._i))return e;const t=Jq.exec(e._i);null!==t?e._d=new Date(+t[1]):(tU(e),!1!==e._isValid||(delete e._isValid,iU(e),!1!==e._isValid||(delete e._isValid,Yq(e))))}(e);else if(Zj(t)&&t.length){const n=t.slice(0);e._a=n.map(e=>Yj(e)?parseInt(e,10):e),aU(e)}else if(Qj(t))!function(e){if(e._d)return e;const t=e._i;if(Qj(t)){const n=function(e){const t={};let n,i;for(i in e)Jj(e,i)&&(n=lz(i),n&&(t[n]=e[i]));return t}(t);e._a=[n.year,n.month,n.day,n.hours,n.minutes,n.seconds,n.milliseconds].map(e=>Yj(e)?parseInt(e,10):e)}aU(e)}(e);else{if(!Kj(t))return Yq(e);e._d=new Date(t)}}(e),Wq(e)||(e._d=null),e))}(e));return t._d=new Date(null!=t._d?t._d.getTime():NaN),Wq(Object.assign({},t,{_isValid:null}))||(t._d=new Date(NaN)),t}(l)}(e,t,n,i,s)._d}function dU(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function uU(e,t,n="milliseconds"){return!(!e||!t)&&("milliseconds"===n?e.valueOf()>t.valueOf():t.valueOf()<rq(e,n).valueOf())}function pU(e,t,n="milliseconds"){return!(!e||!t)&&("milliseconds"===n?e.valueOf()<t.valueOf():aq(e,n).valueOf()<t.valueOf())}const mU=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,fU=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function gU(e,t,n={}){const i=function(e,t){if(null==e)return{};if(e instanceof Uq)return{milliseconds:e._milliseconds,day:e._days,month:e._months};if(Kj(e))return t?{[t]:e}:{milliseconds:e};if(Yj(e)){let t=mU.exec(e);if(t){const e="-"===t[1]?-1:1;return{year:0,day:tz(t[2])*e,hours:tz(t[3])*e,minutes:tz(t[4])*e,seconds:tz(t[5])*e,milliseconds:tz(dU(1e3*tz(t[6])))*e}}if(t=fU.exec(e),t){const e="-"===t[1]?-1:1;return{year:bU(t[2],e),month:bU(t[3],e),week:bU(t[4],e),day:bU(t[5],e),hours:bU(t[6],e),minutes:bU(t[7],e),seconds:bU(t[8],e)}}}if(Qj(e)&&("from"in e||"to"in e)){const t=function(e,t){if(!Gj(e)||!Gj(t))return{milliseconds:0,months:0};let n;const i=function(e,t,n={}){if(!n._isUTC)return e;const i=lq(t),s=6e4*(n._offset||0),l=e.valueOf()-i.valueOf()+s;return i.setTime(i.valueOf()+l),i}(t,e,{_offset:e.getTimezoneOffset()});return pU(e,i)?n=vU(e,i):(n=vU(i,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}(cU(e.from),cU(e.to));return{milliseconds:t.milliseconds,month:t.months}}return e}(e,t);return new Uq(i,n)}function bU(e,t){const n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function vU(e,t){const n={milliseconds:0,months:0};return n.months=yz(t)-yz(e)+12*(wz(t)-wz(e)),uU(yU(lq(e),n.months,"month"),t)&&--n.months,n.milliseconds=+t-+yU(lq(e),n.months,"month"),n}function yU(e,t,n,i){return wU(e,gU(t,n),1,i)}function wU(e,t,n,i){const s=t._milliseconds,l=dU(t._days),r=dU(t._months);return r&&iq(e,yz(e,i)+r*n,i),l&&sq(e,vz(e,i)+l*n,i),s&&function(e,t){e.setTime(t)}(e,function(e){return e.getTime()}(e)+s*n),lq(e)}function CU(e,t,n=Rq(),i){const s=bz(e,i);return yU(e,function(e,t){if(!Yj(e))return e;const n=parseInt(e,10);if(!isNaN(n))return n;const i=t.weekdaysParse(e);return Kj(i)?i:null}(t,n)-s,"day")}function xU(e,t=Rq(),n){return(bz(e,n)+7-t.firstDayOfWeek())%7}class _U extends Vc{constructor(e,t,n){super(e),t.pipe(function(e,t=0){return function(n){return n.lift(new Eg(e,t))}}(kg)).pipe(Oy((e,t)=>t?n(e,t):e,e)).subscribe(e=>this.next(e))}}class SU extends w{constructor(e,t,n){super(),this._dispatcher=e,this._reducer=t,this.source=n}select(e){return this.source.pipe(F(e)).pipe(e=>e.lift(new nd(void 0,void 0)))}lift(e){const t=new SU(this._dispatcher,this._reducer,this);return t.operator=e,t}dispatch(e){this._dispatcher.next(e)}next(e){this._dispatcher.next(e)}error(e){this._dispatcher.error(e)}complete(){}}function kU(e,t){if(1!==e.nodeType)return[];const n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function EU(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function OU(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:t,overflowX:n,overflowY:i}=kU(e);return/(auto|scroll|overlay)/.test(String(t)+String(i)+String(n))?e:OU(EU(e))}const IU="undefined"!=typeof window&&"undefined"!=typeof document,DU=IU&&!(!window.MSInputMethodContext||!document.documentMode),AU=IU&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function MU(e){return 11===e?DU:10===e?AU:DU||AU}function TU(e){if(!e)return document.documentElement;const t=MU(10)?document.body:null;let n,i=e.offsetParent||null;for(;i===t&&e.nextElementSibling&&n!==e.nextElementSibling;)n=e.nextElementSibling,i=n.offsetParent;const s=i&&i.nodeName;return s&&"BODY"!==s&&"HTML"!==s?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===kU(i,"position")?TU(i):i:n?n.ownerDocument.documentElement:document.documentElement}function PU(e){return null!==e.parentNode?PU(e.parentNode):e}function LU(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;const n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,s=n?t:e,l=document.createRange();l.setStart(i,0),l.setEnd(s,0);const{commonAncestorContainer:r}=l;if(e!==r&&t!==r||i.contains(s))return function(e){const{nodeName:t}=e;return"BODY"!==t&&("HTML"===t||TU(e.firstElementChild)===e)}(r)?r:TU(r);const a=PU(e);return a.host?LU(a.host,t):LU(e,PU(t).host)}function NU(e,t){const n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e[`border${n}Width`])+parseFloat(e[`border${i}Width`])}function RU(e,t,n,i){return Math.max(t[`offset${e}`],t[`scroll${e}`],n[`client${e}`],n[`offset${e}`],n[`scroll${e}`],MU(10)?parseInt(n[`offset${e}`],10)+parseInt(i[`margin${"Height"===e?"Top":"Left"}`],10)+parseInt(i[`margin${"Height"===e?"Bottom":"Right"}`],10):0)}function FU(e){const t=e.body,n=e.documentElement,i=MU(10)&&getComputedStyle(n);return{height:RU("Height",t,n,i),width:RU("Width",t,n,i)}}function HU(e,t="top"){const n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){const t=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||t)[n]}return e[n]}function BU(e){return Object.assign({},e,{right:e.left+e.width,bottom:e.top+e.height})}function VU(e){let t={};try{if(MU(10)){t=e.getBoundingClientRect();const n=HU(e,"top"),i=HU(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(qG){return}const n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?FU(e.ownerDocument):{};let s=e.offsetWidth-(i.width||e.clientWidth||n.right-n.left),l=e.offsetHeight-(i.height||e.clientHeight||n.bottom-n.top);if(s||l){const t=kU(e);s-=NU(t,"x"),l-=NU(t,"y"),n.width-=s,n.height-=l}return BU(n)}function jU(e,t,n=!1){const i=MU(10),s="HTML"===t.nodeName,l=VU(e),r=VU(t),a=OU(e),o=kU(t),h=parseFloat(o.borderTopWidth),c=parseFloat(o.borderLeftWidth);n&&s&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));let d=BU({top:l.top-r.top-h,left:l.left-r.left-c,width:l.width,height:l.height});if(d.marginTop=0,d.marginLeft=0,!i&&s){const e=parseFloat(o.marginTop),t=parseFloat(o.marginLeft);d.top-=h-e,d.bottom-=h-e,d.left-=c-t,d.right-=c-t,d.marginTop=e,d.marginLeft=t}return(i&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(d=function(e,t,n=!1){const i=HU(t,"top"),s=HU(t,"left"),l=n?-1:1;return e.top+=i*l,e.bottom+=i*l,e.left+=s*l,e.right+=s*l,e}(d,t)),d}function zU(e){if(!e||!e.parentElement||MU())return document.documentElement;let t=e.parentElement;for(;t&&"none"===kU(t,"transform");)t=t.parentElement;return t||document.documentElement}function qU(e,t,n=0,i,s=!1){let l={top:0,left:0};const r=s?zU(e):LU(e,t);if("viewport"===i)l=function(e,t=!1){const n=e.ownerDocument.documentElement,i=jU(e,n),s=Math.max(n.clientWidth,window.innerWidth||0),l=Math.max(n.clientHeight,window.innerHeight||0),r=t?0:HU(n),a=t?0:HU(n,"left");return BU({top:r-Number(i.top)+Number(i.marginTop),left:a-Number(i.left)+Number(i.marginLeft),width:s,height:l})}(r,s);else{let n;"scrollParent"===i?(n=OU(EU(t)),"BODY"===n.nodeName&&(n=e.ownerDocument.documentElement)):n="window"===i?e.ownerDocument.documentElement:i;const a=jU(n,r,s);if("HTML"!==n.nodeName||function e(t){const n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===kU(t,"position")||e(EU(t)))}(r))l=a;else{const{height:t,width:n}=FU(e.ownerDocument);l.top+=a.top-a.marginTop,l.bottom=Number(t)+Number(a.top),l.left+=a.left-a.marginLeft,l.right=Number(n)+Number(a.left)}}return l.left+=n,l.top+=n,l.right-=n,l.bottom-=n,l}function UU({width:e,height:t}){return e*t}function WU(e,t,n,i,s=["top","bottom","right","left"],l="viewport",r=0){if(-1===e.indexOf("auto"))return e;const a=qU(n,i,r,l),o={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},h=Object.keys(o).map(e=>Object.assign({key:e},o[e],{area:UU(o[e])})).sort((e,t)=>t.area-e.area);let c=h.filter(({width:e,height:t})=>e>=n.clientWidth&&t>=n.clientHeight);c=c.filter(e=>s.some(t=>t===e.key));const d=c.length>0?c[0].key:h[0].key,u=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${d}`),d+(u?`-${u}`:"")}function YU(e){const t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:Number(e.offsetWidth)+i,height:Number(e.offsetHeight)+n}}function $U(e,t,n=null){return jU(t,n?zU(e):LU(e,t),n)}function GU(e,t,n){const i=n.split(" ")[0],s=YU(e),l={width:s.width,height:s.height},r=-1!==["right","left"].indexOf(i),a=r?"top":"left",o=r?"left":"top",h=r?"height":"width",c=r?"width":"height";return l[a]=t[a]+t[h]/2-s[h]/2,l[o]=i===o?t[o]-s[c]:t[function(e){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,e=>t[e])}(o)],l}function XU(e,t){return e&&e.modifiers&&e.modifiers[t]&&e.modifiers[t].enabled}function KU(e,t,n){Object.keys(t).forEach(i=>{let s="";var l;-1!==["width","height","top","right","bottom","left"].indexOf(i)&&""!==(l=t[i])&&!isNaN(parseFloat(l))&&isFinite(l)&&(s="px"),n?n.setStyle(e,i,`${String(t[i])}${s}`):e.style[i]=String(t[i])+s})}function ZU(e){let t=e.offsets.target;const n=e.instance.target.querySelector(".arrow");if(!n)return e;const i=-1!==["left","right"].indexOf(e.placement),s=i?"height":"width",l=i?"Top":"Left",r=l.toLowerCase(),a=i?"left":"top",o=i?"bottom":"right",h=YU(n)[s];e.offsets.host[o]-h<t[r]&&(t[r]-=t[r]-(e.offsets.host[o]-h)),Number(e.offsets.host[r])+Number(h)>t[o]&&(t[r]+=Number(e.offsets.host[r])+Number(h)-Number(t[o])),t=BU(t);const c=Number(e.offsets.host[r])+Number(e.offsets.host[s]/2-h/2),d=kU(e.instance.target),u=parseFloat(d[`margin${l}`]),p=parseFloat(d[`border${l}Width`]);let m=c-t[r]-u-p;return m=Math.max(Math.min(t[s]-h,m),0),e.offsets.arrow={[r]:Math.round(m),[a]:""},e.instance.arrow=n,e}function JU(e){if(e.offsets.target=BU(e.offsets.target),!XU(e.options,"flip"))return e.offsets.target=Object.assign({},e.offsets.target,GU(e.instance.target,e.offsets.host,e.placement)),e;const t=qU(e.instance.target,e.instance.host,0,"viewport",!1);let n=e.placement.split(" ")[0],i=e.placement.split(" ")[1]||"";const s=WU("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),l=[n,s];return l.forEach((s,r)=>{if(n!==s||l.length===r+1)return e;n=e.placement.split(" ")[0];const a="left"===n&&Math.floor(e.offsets.target.right)>Math.floor(e.offsets.host.left)||"right"===n&&Math.floor(e.offsets.target.left)<Math.floor(e.offsets.host.right)||"top"===n&&Math.floor(e.offsets.target.bottom)>Math.floor(e.offsets.host.top)||"bottom"===n&&Math.floor(e.offsets.target.top)<Math.floor(e.offsets.host.bottom),o=Math.floor(e.offsets.target.left)<Math.floor(t.left),h=Math.floor(e.offsets.target.right)>Math.floor(t.right),c=Math.floor(e.offsets.target.top)<Math.floor(t.top),d=Math.floor(e.offsets.target.bottom)>Math.floor(t.bottom),u="left"===n&&o||"right"===n&&h||"top"===n&&c||"bottom"===n&&d,p=-1!==["top","bottom"].indexOf(n),m=p&&"left"===i&&o||p&&"right"===i&&h||!p&&"left"===i&&c||!p&&"right"===i&&d;(a||u||m)&&((a||u)&&(n=l[r+1]),m&&(i=function(e){return"right"===e?"left":"left"===e?"right":e}(i)),e.placement=n+(i?` ${i}`:""),e.offsets.target=Object.assign({},e.offsets.target,GU(e.instance.target,e.offsets.host,e.placement)))}),e}function QU(e){if(!XU(e.options,"preventOverflow"))return e;const t="transform",n=e.instance.target.style,{top:i,left:s,[t]:l}=n;n.top="",n.left="",n[t]="";const r=qU(e.instance.target,e.instance.host,0,"scrollParent",!1);n.top=i,n.left=s,n[t]=l;const a={primary(t){let n=e.offsets.target[t];return e.offsets.target[t]<r[t]&&(n=Math.max(e.offsets.target[t],r[t])),{[t]:n}},secondary(t){const n="right"===t?"left":"top";let i=e.offsets.target[n];return e.offsets.target[t]>r[t]&&(i=Math.min(e.offsets.target[n],r[t]-("right"===t?e.offsets.target.width:e.offsets.target.height))),{[n]:i}}};let o;return["left","right","top","bottom"].forEach(t=>{o=-1!==["left","top"].indexOf(t)?"primary":"secondary",e.offsets.target=Object.assign({},e.offsets.target,a[o](t))}),e}function eW(e){const t=e.placement,n=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:t,target:s}=e.offsets,l=-1!==["bottom","top"].indexOf(n),r=l?"left":"top",a=l?"width":"height";e.offsets.target=Object.assign({},s,{start:{[r]:t[r]},end:{[r]:t[r]+t[a]-s[a]}}[i])}return e}class tW{position(e,t,n=!0){return this.offset(e,t,!1)}offset(e,t,n=!0){return $U(t,e)}positionElements(e,t,n,i,s){return[JU,eW,QU,ZU].reduce((e,t)=>t(e),function(e,t,n,i){const s=$U(e,t);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*\s*(start|end)*$/)||(n="auto");const l=!!n.match(/auto/g);let r=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;const a=GU(e,s,r);return r=WU(r,s,e,t,i?i.allowedPositions:void 0),{options:i,instance:{target:e,host:t,arrow:null},offsets:{target:a,host:s,arrow:null},positionFixed:!1,placement:r,placementAuto:l}}(t,e,n,s))}}const nW=new tW;class iW{constructor(e,t){this.update$$=new k,this.positionElements=new Map,this.isDisabled=!1,Fo(t)&&(this.triggerEvent$=$(Jc(window,"scroll"),Jc(window,"resize"),pa(0,yg),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(e,t,n,i,s,l){const r=nW.positionElements(e,t,n,i,s),a=function(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left),top:Math.round(e.offsets.target.top),bottom:Math.round(e.offsets.target.bottom),right:Math.floor(e.offsets.target.right)}}(r);KU(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},l),r.instance.arrow&&KU(r.instance.arrow,r.offsets.arrow,l),function(e,t){const n=e.instance.target;let i=n.className;e.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${e.placement}`),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${e.placement}`),i=i.replace(/\sauto/g,` ${e.placement}`),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom/g,`${e.placement.split(" ")[0]}`),t?t.setAttribute(n,"class",i):n.className=i}(r,l)}(sW(t.target),sW(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})}))}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(sW(e.element),e)}calcPosition(){this.update$$.next()}deletePositionElement(e){this.positionElements.delete(sW(e))}setOptions(e){this.options=e}}function sW(e){return"string"==typeof e?document.querySelector(e):e instanceof hn?e.nativeElement:e}class lW{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const rW={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},aW="undefined"!=typeof window&&window||{};let oW;function hW(){return void 0===aW||(void 0===aW.__theme?oW?"bs3"===oW:(oW=function(){if("undefined"==typeof document)return null;const e=document.createElement("span");e.innerText="test bs version",document.body.appendChild(e),e.classList.add("d-none");const t=e.getBoundingClientRect();return document.body.removeChild(e),t&&0===t.top?"bs4":"bs3"}(),"bs3"===oW):"bs4"!==aW.__theme)}"undefined"==typeof console||console;class cW{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}class dW{constructor(e,t,n,i,s,l,r,a){this._viewContainerRef=e,this._renderer=t,this._elementRef=n,this._injector=i,this._componentFactoryResolver=s,this._ngZone=l,this._applicationRef=r,this._posService=a,this.onBeforeShow=new As,this.onShown=new As,this.onBeforeHide=new As,this.onHidden=new As,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=Lt.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof hn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef.nativeElement;const t=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),n=this._listenOpts.show=t=>{e.show?e.show(t):this.show(t),t()};return this._unregisterListenersFn=function(e,t){const n=function(e,t=rW){const n=(e||"").trim();if(0===n.length)return[];const i=n.split(/\s+/).map(e=>e.split(":")).map(e=>{const n=t[e[0]]||e;return new lW(n[0],n[1])}),s=i.filter(e=>e.isManual());if(s.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===s.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(t.triggers),i=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;const s=[],l=[],r=()=>{l.forEach(e=>s.push(e())),l.length=0};return n.forEach(n=>{const a=n.open===n.close,o=a?t.toggle:t.show;a||l.push(()=>e.listen(i,n.close,t.hide)),s.push(e.listen(i,n.open,()=>o(r)))}),()=>{s.forEach(e=>e())}}(this._renderer,{target:e.target,triggers:e.triggers,show:n,hide:t,toggle:e=>{this.isShown?t():n(e)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{var t;this._globalListener=(t={targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()}).outsideClick?this._renderer.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype})}var e;this._listenOpts.outsideEsc&&(this._globalListener=(e={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(e,t,n){if(!e)return new cW([]);if(e instanceof Pn){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(e,t);return n.markForCheck(),new cW([n.rootNodes],n)}const n=e.createEmbeddedView({});return this._applicationRef.attachView(n),new cW([n.rootNodes],n)}if("function"==typeof e){const t=this._componentFactoryResolver.resolveComponentFactory(e),i=Lt.create({providers:this._providers,parent:this._injector}),s=t.create(i);return Object.assign(s.instance,n),this._applicationRef.attachView(s.hostView),new cW([[s.location.nativeElement]],s.hostView,s)}return new cW([[this._renderer.createText(`${e}`)]])}}class uW{constructor(e,t,n,i,s){this._componentFactoryResolver=e,this._ngZone=t,this._injector=n,this._posService=i,this._applicationRef=s}createLoader(e,t,n){return new dW(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}class pW{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w"}}class mW{constructor(){this._customRangesFish=[]}set minDate(e){this._effects.setMinDate(e)}set maxDate(e){this._effects.setMaxDate(e)}set daysDisabled(e){this._effects.setDaysDisabled(e)}set datesDisabled(e){this._effects.setDatesDisabled(e)}set isDisabled(e){this._effects.setDisabled(e)}set dateCustomClasses(e){this._effects.setDateCustomClasses(e)}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}_stopPropagation(e){e.stopPropagation()}}let fW=(()=>{class e{calculate(){return{type:e.CALCULATE}}format(){return{type:e.FORMAT}}flag(){return{type:e.FLAG}}select(t){return{type:e.SELECT,payload:t}}changeViewMode(t){return{type:e.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:e.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:e.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:e.SET_OPTIONS,payload:t}}selectRange(t){return{type:e.SELECT_RANGE,payload:t}}hoverDay(t){return{type:e.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:e.SET_MIN_DATE,payload:t}}maxDate(t){return{type:e.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:e.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:e.SET_DATESDISABLED,payload:t}}isDisabled(t){return{type:e.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:e.SET_DATE_CUSTOM_CLASSES,payload:t}}setLocale(t){return{type:e.SET_LOCALE,payload:t}}}return e.CALCULATE="[datepicker] calculate dates matrix",e.FORMAT="[datepicker] format datepicker values",e.FLAG="[datepicker] set flags",e.SELECT="[datepicker] select date",e.NAVIGATE_OFFSET="[datepicker] shift view date",e.NAVIGATE_TO="[datepicker] change view date",e.SET_OPTIONS="[datepicker] update render options",e.HOVER="[datepicker] hover date",e.CHANGE_VIEWMODE="[datepicker] switch view mode",e.SET_MIN_DATE="[datepicker] set min date",e.SET_MAX_DATE="[datepicker] set max date",e.SET_DAYSDISABLED="[datepicker] set days disabled",e.SET_DATESDISABLED="[datepicker] set dates disabled",e.SET_IS_DISABLED="[datepicker] set is disabled",e.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",e.SET_LOCALE="[datepicker] set datepicker locale",e.SELECT_RANGE="[daterangepicker] select dates range",e})();class gW{constructor(){this._defaultLocale="en",this._locale=new Vc(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(e){e!==this.currentLocale&&this._locale.next(e)}}class bW{constructor(e,t){this._actions=e,this._localeService=t,this._subs=[]}init(e){return this._store=e,this}setValue(e){this._store.dispatch(this._actions.select(e))}setRangeValue(e){this._store.dispatch(this._actions.selectRange(e))}setMinDate(e){return this._store.dispatch(this._actions.minDate(e)),this}setMaxDate(e){return this._store.dispatch(this._actions.maxDate(e)),this}setDaysDisabled(e){return this._store.dispatch(this._actions.daysDisabled(e)),this}setDatesDisabled(e){return this._store.dispatch(this._actions.datesDisabled(e)),this}setDisabled(e){return this._store.dispatch(this._actions.isDisabled(e)),this}setDateCustomClasses(e){return this._store.dispatch(this._actions.setDateCustomClasses(e)),this}setOptions(e){const t=Object.assign({locale:this._localeService.currentLocale},e);return this._store.dispatch(this._actions.setOptions(t)),this}setBindings(e){return e.daysCalendar=this._store.select(e=>e.flaggedMonths).pipe(fa(e=>!!e)),e.monthsCalendar=this._store.select(e=>e.flaggedMonthsCalendar).pipe(fa(e=>!!e)),e.yearsCalendar=this._store.select(e=>e.yearsCalendarFlagged).pipe(fa(e=>!!e)),e.viewMode=this._store.select(e=>e.view.mode),e.options=this._store.select(e=>e.showWeekNumbers).pipe(F(e=>({showWeekNumbers:e}))),this}setEventHandlers(e){return e.setViewMode=e=>{this._store.dispatch(this._actions.changeViewMode(e))},e.navigateTo=e=>{this._store.dispatch(this._actions.navigateStep(e.step))},e.dayHoverHandler=e=>{const t=e.cell;t.isOtherMonth||t.isDisabled||(this._store.dispatch(this._actions.hoverDay(e)),t.isHovered=e.isHovered)},e.monthHoverHandler=e=>{e.cell.isHovered=e.isHovered},e.yearHoverHandler=e=>{e.cell.isHovered=e.isHovered},e.monthSelectHandler=e=>{e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:yz(e.date),year:wz(e.date)},viewMode:"day"}))},e.yearSelectHandler=e=>{e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:wz(e.date)},viewMode:"month"}))},this}registerDatepickerSideEffects(){return this._subs.push(this._store.select(e=>e.view).subscribe(e=>{this._store.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(e=>e.monthsModel).pipe(fa(e=>!!e)).subscribe(e=>this._store.dispatch(this._actions.format()))),this._subs.push(this._store.select(e=>e.formattedMonths).pipe(fa(e=>!!e)).subscribe(e=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedDate).pipe(fa(e=>!!e)).subscribe(e=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedRange).pipe(fa(e=>!!e)).subscribe(e=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.monthsCalendar).subscribe(()=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.yearsCalendarModel).pipe(fa(e=>!!e)).subscribe(()=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.hoveredDate).pipe(fa(e=>!!e)).subscribe(e=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateCustomClasses).pipe(fa(e=>!!e)).subscribe(e=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(e=>this._store.dispatch(this._actions.setLocale(e)))),this}destroy(){for(const e of this._subs)e.unsubscribe()}}const vW={date:new Date,mode:"day"},yW=Object.assign(new pW,{locale:"en",view:vW,selectedRange:[],monthViewOptions:{width:7,height:6}});function wW(e,t,n){const i=t&&pU(aq(e,"month"),t,"day"),s=n&&uU(rq(e,"month"),n,"day");return i||s}function CW(e,t,n){const i=t&&pU(aq(e,"year"),t,"day"),s=n&&uU(rq(e,"year"),n,"day");return i||s}function xW(e,t){let n=e.initialDate;const i=new Array(e.height);for(let s=0;s<e.height;s++){i[s]=new Array(e.width);for(let l=0;l<e.width;l++)i[s][l]=t(n),n=tq(n,e.shift)}return i}function _W(e,t){const n=uz((i=e).getFullYear(),i.getMonth(),1,i.getHours(),i.getMinutes(),i.getSeconds());var i;const s=function(e,t){return function(e,t){return e.getDay()===t}(e,t.firstDayOfWeek)?e:tq(e,{day:-function(e,t){if(0===t)return e;const n=e-t%7;return n<0?n+7:n}(bz(e),t.firstDayOfWeek)})}(n,t);return{daysMatrix:xW({width:t.width,height:t.height,initialDate:s,shift:{day:1}},e=>e),month:n}}function SW(e){const t=Rq(e),n=t.weekdaysShort(),i=t.firstDayOfWeek();return[...n.slice(i),...n.slice(0,i)]}function kW(e,t){return!t||e>=t}const EW={month:1};function OW(e,t){return{months:xW({width:3,height:4,initialDate:rq(e,"year"),shift:EW},e=>({date:e,label:sU(e,t.monthLabel,t.locale)})),monthTitle:"",yearTitle:sU(e,t.yearTitle,t.locale)}}const IW=-1*(Math.floor(8)-1),DW={year:1};function AW(e,t){const n=xW({width:4,height:4,initialDate:tq(e,{year:IW}),shift:DW},e=>({date:e,label:sU(e,t.yearLabel,t.locale)}));return{years:n,monthTitle:"",yearTitle:function(e,t){return`${sU(e[0][0].date,t.yearTitle,t.locale)} - ${sU(e[3][3].date,t.yearTitle,t.locale)}`}(n,t)}}function MW(e=yW,t){switch(t.type){case fW.CALCULATE:return function(e){const t=e.displayMonths;let n=e.view.date;if("day"===e.view.mode){e.monthViewOptions.firstDayOfWeek=Rq(e.locale).firstDayOfWeek();const i=new Array(t);for(let s=0;s<t;s++)i[s]=_W(n,e.monthViewOptions),n=tq(n,{month:1});return Object.assign({},e,{monthsModel:i})}if("month"===e.view.mode){const i=new Array(t);for(let s=0;s<t;s++)i[s]=OW(n,TW(e)),n=tq(n,{year:1});return Object.assign({},e,{monthsCalendar:i})}if("year"===e.view.mode){const i=new Array(t);for(let s=0;s<t;s++)i[s]=AW(n,TW(e)),n=tq(n,{year:16});return Object.assign({},e,{yearsCalendarModel:i})}return e}(e);case fW.FORMAT:return function(e,t){if("day"===e.view.mode){const t=e.monthsModel.map((t,n)=>function(e,t,n){return{month:e.month,monthTitle:sU(e.month,t.monthTitle,t.locale),yearTitle:sU(e.month,t.yearTitle,t.locale),weekNumbers:(i=e.daysMatrix,s=t.weekNumbers,l=t.locale,i.map(e=>e[0]?sU(e[0],s,l):"")),weekdays:SW(t.locale),weeks:e.daysMatrix.map((e,i)=>({days:e.map((e,s)=>({date:e,label:sU(e,t.dayLabel,t.locale),monthIndex:n,weekIndex:i,dayIndex:s}))}))};var i,s,l}(t,TW(e),n));return Object.assign({},e,{formattedMonths:t})}const n=e.displayMonths;let i=e.view.date;if("month"===e.view.mode){const t=new Array(n);for(let s=0;s<n;s++)t[s]=OW(i,TW(e)),i=tq(i,{year:1});return Object.assign({},e,{monthsCalendar:t})}if("year"===e.view.mode){const t=new Array(n);for(let s=0;s<n;s++)t[s]=AW(i,TW(e)),i=tq(i,{year:16});return Object.assign({},e,{yearsCalendarModel:t})}return e}(e);case fW.FLAG:return function(e,t){if("day"===e.view.mode){const t=e.formattedMonths.map((t,n)=>function(e,t){return e.weeks.forEach(n=>{n.days.forEach((i,s)=>{const l=!Cz(i.date,e.month),r=!l&&_z(i.date,t.hoveredDate),a=!l&&t.selectedRange&&_z(i.date,t.selectedRange[0]),o=!l&&t.selectedRange&&_z(i.date,t.selectedRange[1]),h=!l&&_z(i.date,t.selectedDate)||a||o,c=!l&&t.selectedRange&&function(e,t,n){return!(!e||!t[0])&&(t[1]?e>t[0]&&e<=t[1]:!!n&&e>t[0]&&e<=n)}(i.date,t.selectedRange,t.hoveredDate),d=t.isDisabled||pU(i.date,t.minDate,"day")||uU(i.date,t.maxDate,"day")||(u=i.date,!(void 0===(p=t.daysDisabled)||!p||!p.length)&&p.some(e=>e===u.getDay()))||function(e,t){return!(void 0===t||!t||!t.length)&&t.some(t=>function(e,t,n="milliseconds"){if(!e||!t)return!1;if("milliseconds"===n)return e.valueOf()===t.valueOf();const i=t.valueOf();return rq(e,n).valueOf()<=i&&i<=aq(e,n).valueOf()}(e,t,"date"))}(i.date,t.datesDisabled);var u,p;const m=new Date,f=!l&&_z(i.date,m),g=t.dateCustomClasses&&t.dateCustomClasses.map(e=>_z(i.date,e.date)?e.classes:[]).reduce((e,t)=>e.concat(t),[]).join(" ")||"",b=Object.assign({},i,{isOtherMonth:l,isHovered:r,isSelected:h,isSelectionStart:a,isSelectionEnd:o,isInRange:c,isDisabled:d,isToday:f,customClasses:g});i.isOtherMonth===b.isOtherMonth&&i.isHovered===b.isHovered&&i.isSelected===b.isSelected&&i.isSelectionStart===b.isSelectionStart&&i.isSelectionEnd===b.isSelectionEnd&&i.isDisabled===b.isDisabled&&i.isInRange===b.isInRange&&i.customClasses===b.customClasses||(n.days[s]=b)})}),e.hideLeftArrow=t.isDisabled||t.monthIndex>0&&t.monthIndex!==t.displayMonths,e.hideRightArrow=t.isDisabled||t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,e.disableLeftArrow=wW(tq(e.month,{month:-1}),t.minDate,t.maxDate),e.disableRightArrow=wW(tq(e.month,{month:1}),t.minDate,t.maxDate),e}(t,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,daysDisabled:e.daysDisabled,datesDisabled:e.datesDisabled,hoveredDate:e.hoveredDate,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:e.displayMonths,dateCustomClasses:e.dateCustomClasses,monthIndex:n}));return Object.assign({},e,{flaggedMonths:t})}if("month"===e.view.mode){const t=e.monthsCalendar.map((t,n)=>{return s={isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredMonth:e.hoveredMonth,displayMonths:e.displayMonths,monthIndex:n},(i=t).months.forEach((e,t)=>{e.forEach((e,n)=>{const l=Cz(e.date,s.hoveredMonth),r=s.isDisabled||wW(e.date,s.minDate,s.maxDate),a=Object.assign(e,{isHovered:l,isDisabled:r});e.isHovered===a.isHovered&&e.isDisabled===a.isDisabled||(i.months[t][n]=a)})}),i.hideLeftArrow=s.monthIndex>0&&s.monthIndex!==s.displayMonths,i.hideRightArrow=s.monthIndex<s.displayMonths&&s.monthIndex+1!==s.displayMonths,i.disableLeftArrow=CW(tq(i.months[0][0].date,{year:-1}),s.minDate,s.maxDate),i.disableRightArrow=CW(tq(i.months[0][0].date,{year:1}),s.minDate,s.maxDate),i;var i,s});return Object.assign({},e,{flaggedMonthsCalendar:t})}if("year"===e.view.mode){const t=e.yearsCalendarModel.map((t,n)=>function(e,t){e.years.forEach((n,i)=>{n.forEach((n,s)=>{const l=xz(n.date,t.hoveredYear),r=t.isDisabled||CW(n.date,t.minDate,t.maxDate),a=Object.assign(n,{isHovered:l,isDisabled:r});n.isHovered===a.isHovered&&n.isDisabled===a.isDisabled||(e.years[i][s]=a)})}),e.hideLeftArrow=t.yearIndex>0&&t.yearIndex!==t.displayMonths,e.hideRightArrow=t.yearIndex<t.displayMonths&&t.yearIndex+1!==t.displayMonths,e.disableLeftArrow=CW(tq(e.years[0][0].date,{year:-1}),t.minDate,t.maxDate);const n=e.years.length-1;return e.disableRightArrow=CW(tq(e.years[n][e.years[n].length-1].date,{year:1}),t.minDate,t.maxDate),e}(t,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredYear:e.hoveredYear,displayMonths:e.displayMonths,yearIndex:n}));return Object.assign({},e,{yearsCalendarFlagged:t})}return e}(e);case fW.NAVIGATE_OFFSET:{const n=tq(rq(e.view.date,"month"),t.payload);return Object.assign({},e,{view:{mode:e.view.mode,date:n}})}case fW.NAVIGATE_TO:{const n=t.payload,i=function(e,t){return uz(nq(e.getFullYear(),t.year),nq(e.getMonth(),t.month),nq(e.getDate(),t.day),nq(e.getHours(),t.hour),nq(e.getMinutes(),t.minute),nq(e.getSeconds(),t.seconds),nq(e.getMilliseconds(),t.milliseconds))}(e.view.date,n.unit);let s,l;return kW(n.viewMode,e.minMode)?(l=n.viewMode,s={view:{date:i,mode:l}}):(l=e.view.mode,s={selectedDate:i,view:{date:i,mode:l}}),Object.assign({},e,s)}case fW.CHANGE_VIEWMODE:return kW(t.payload,e.minMode)?Object.assign({},e,{view:{date:e.view.date,mode:t.payload}}):e;case fW.HOVER:return Object.assign({},e,{hoveredDate:t.payload});case fW.SELECT:{const n={selectedDate:t.payload,view:e.view},i=e.view.mode,s=PW(t.payload||e.view.date,e.minDate,e.maxDate);return n.view={mode:i,date:s},Object.assign({},e,n)}case fW.SET_OPTIONS:{const n=t.payload,i=n.minMode?n.minMode:e.view.mode,s=PW(Gj(n.value)&&n.value||Zj(n.value)&&Gj(n.value[0])&&n.value[0]||e.view.date,n.minDate,n.maxDate);return n.view={mode:i,date:s},n.value&&(Zj(n.value)&&(n.selectedRange=n.value),n.value instanceof Date&&(n.selectedDate=n.value)),Object.assign({},e,n)}case fW.SELECT_RANGE:{const n={selectedRange:t.payload,view:e.view},i=e.view.mode,s=PW(t.payload&&t.payload[0]||e.view.date,e.minDate,e.maxDate);return n.view={mode:i,date:s},Object.assign({},e,n)}case fW.SET_MIN_DATE:return Object.assign({},e,{minDate:t.payload});case fW.SET_MAX_DATE:return Object.assign({},e,{maxDate:t.payload});case fW.SET_IS_DISABLED:return Object.assign({},e,{isDisabled:t.payload});case fW.SET_DATE_CUSTOM_CLASSES:return Object.assign({},e,{dateCustomClasses:t.payload});default:return e}}function TW(e){return{locale:e.locale,monthTitle:e.monthTitle,yearTitle:e.yearTitle,dayLabel:e.dayLabel,monthLabel:e.monthLabel,yearLabel:e.yearLabel,weekNumbers:e.weekNumbers}}function PW(e,t,n){const i=Array.isArray(e)?e[0]:e;return t&&uU(t,i,"day")?t:n&&pU(n,i,"day")?n:i}class LW extends SU{constructor(){const e=new Vc({type:"[datepicker] dispatcher init"});super(e,MW,new _U(yW,e,MW))}}class NW extends mW{constructor(e,t,n,i,s,l){super(),this._config=e,this._store=t,this._element=n,this._actions=i,this._positionService=l,this.valueChange=new As,this.animationState="void",this._subs=[],this._effects=s}set value(e){this._effects.setValue(e)}ngOnInit(){this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition}},allowedPositions:["top","bottom"]}),this._positionService.event$.pipe(pd(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this._effects.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(e=>e.selectedDate).subscribe(e=>this.valueChange.emit(e)))}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}daySelectHandler(e){(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this._store.dispatch(this._actions.select(e.date))}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this._effects.destroy()}}class RW extends pW{}class FW extends NW{constructor(e,t,n,i,s,l){super(e,t,n,i,s,l)}}class HW extends pW{constructor(){super(...arguments),this.displayMonths=2,this.isAnimated=!1}}class BW extends mW{constructor(e,t,n,i,s,l){super(),this._actions=t,this._config=n,this._store=i,this._element=s,this._positionService=l,this.valueChange=new As,this.animationState="void",this._rangeStack=[],this._subs=[],this._effects=e}set value(e){this._effects.setRangeValue(e)}ngOnInit(){this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition}},allowedPositions:["top","bottom"]}),this._positionService.event$.pipe(pd(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this._effects.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(e=>e.selectedRange).subscribe(e=>this.valueChange.emit(e)))}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}daySelectHandler(e){(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||(1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),0===this._rangeStack.length&&(this._rangeStack=[e.date]),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[]))}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this._effects.destroy()}}class VW{}class jW{}class zW{}class qW{constructor(e,t,n){this._config=e,this._elRef=t,this._renderer=n}ngOnInit(){this.day.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day.customClasses&&this.day.customClasses.split(" ").filter(e=>e).forEach(e=>{this._renderer.addClass(this._elRef.nativeElement,e)})}}const UW=function(){var e={UP:0,DOWN:1};return e[e.UP]="UP",e[e.DOWN]="DOWN",e}();class WW{constructor(){this.onNavigate=new As,this.onViewMode=new As}navTo(e){this.onNavigate.emit(e?UW.DOWN:UW.UP)}view(e){this.onViewMode.emit(e)}}class YW{constructor(e){this._config=e,this.onNavigate=new As,this.onViewMode=new As,this.onSelect=new As,this.onHover=new As,this.onHoverWeek=new As}navigateTo(e){this.onNavigate.emit({step:{month:UW.DOWN===e?-1:1}})}changeViewMode(e){this.onViewMode.emit(e)}selectDay(e){this.onSelect.emit(e)}selectWeek(e){if(!this._config.selectWeek)return;if(e.days&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(e.days[0]);if(0===e.days.length)return;const t=e.days.find(e=>this._config.selectFromOtherMonth?!e.isDisabled:!e.isOtherMonth&&!e.isDisabled);this.onSelect.emit(t)}weekHoverHandler(e,t){this._config.selectWeek&&e.days.find(e=>this._config.selectFromOtherMonth?!e.isDisabled:!e.isOtherMonth&&!e.isDisabled)&&(e.isHovered=t,this.isWeekHovered=t,this.onHoverWeek.emit(e))}hoverDay(e,t){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=t),this.onHover.emit({cell:e,isHovered:t})}}class $W{constructor(){this.onNavigate=new As,this.onViewMode=new As,this.onSelect=new As,this.onHover=new As}navigateTo(e){this.onNavigate.emit({step:{year:UW.DOWN===e?-1:1}})}viewMonth(e){this.onSelect.emit(e)}hoverMonth(e,t){this.onHover.emit({cell:e,isHovered:t})}changeViewMode(e){this.onViewMode.emit(e)}}class GW{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}class XW{constructor(){this.onNavigate=new As,this.onViewMode=new As,this.onSelect=new As,this.onHover=new As}navigateTo(e){this.onNavigate.emit({step:{year:16*(UW.DOWN===e?-1:1)}})}viewYear(e){this.onSelect.emit(e)}hoverYear(e,t){this.onHover.emit({cell:e,isHovered:t})}changeViewMode(e){this.onViewMode.emit(e)}}class KW{static forRoot(){return{ngModule:KW,providers:[uW,iW,LW,fW,pW,HW,RW,bW,gW]}}}class ZW{format(e,t,n){return sU(e,t,n)}}class JW{constructor(){this.selectionDone=new As(void 0),this.update=new As(!1),this.activeDateChange=new As(void 0),this.stepDay={},this.stepMonth={},this.stepYear={},this.modes=["day","month","year"],this.dateFormatter=new ZW}get activeDate(){return this._activeDate}set activeDate(e){this._activeDate=e}ngOnInit(){this.uniqueId=`datepicker--${Math.floor(1e4*Math.random())}`,this.initDate?(this.activeDate=this.initDate,this.selectedDate=new Date(this.activeDate.valueOf()),this.update.emit(this.activeDate)):void 0===this.activeDate&&(this.activeDate=new Date)}ngOnChanges(e){this.refreshView(),this.checkIfActiveDateGotUpdated(e.activeDate)}checkIfActiveDateGotUpdated(e){if(e&&!e.firstChange){const t=e.previousValue;t&&t instanceof Date&&t.getTime()!==e.currentValue.getTime()&&this.activeDateChange.emit(this.activeDate)}}setCompareHandler(e,t){"day"===t&&(this.compareHandlerDay=e),"month"===t&&(this.compareHandlerMonth=e),"year"===t&&(this.compareHandlerYear=e)}compare(e,t){if(void 0!==e&&void 0!==t)return"day"===this.datepickerMode&&this.compareHandlerDay?this.compareHandlerDay(e,t):"month"===this.datepickerMode&&this.compareHandlerMonth?this.compareHandlerMonth(e,t):"year"===this.datepickerMode&&this.compareHandlerYear?this.compareHandlerYear(e,t):void 0}setRefreshViewHandler(e,t){"day"===t&&(this.refreshViewHandlerDay=e),"month"===t&&(this.refreshViewHandlerMonth=e),"year"===t&&(this.refreshViewHandlerYear=e)}refreshView(){"day"===this.datepickerMode&&this.refreshViewHandlerDay&&this.refreshViewHandlerDay(),"month"===this.datepickerMode&&this.refreshViewHandlerMonth&&this.refreshViewHandlerMonth(),"year"===this.datepickerMode&&this.refreshViewHandlerYear&&this.refreshViewHandlerYear()}dateFilter(e,t){return this.dateFormatter.format(e,t,this.locale)}isActive(e){return 0===this.compare(e.date,this.activeDate)&&(this.activeDateId=e.uid,!0)}createDateObject(e,t){const n={};return n.date=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.date=this.fixTimeZone(n.date),n.label=this.dateFilter(e,t),n.selected=0===this.compare(e,this.selectedDate),n.disabled=this.isDisabled(e),n.current=0===this.compare(e,new Date),n.customClass=this.getCustomClassForDate(n.date),n}split(e,t){const n=[];for(;e.length>0;)n.push(e.splice(0,t));return n}fixTimeZone(e){const t=e.getHours();return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23===t?t+2:0)}select(e,t=!0){this.datepickerMode===this.minMode?(this.activeDate||(this.activeDate=new Date(0,0,0,0,0,0,0)),this.activeDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.activeDate=this.fixTimeZone(this.activeDate),t&&this.selectionDone.emit(this.activeDate)):(this.activeDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.activeDate=this.fixTimeZone(this.activeDate),t&&(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)-1])),this.selectedDate=new Date(this.activeDate.valueOf()),this.update.emit(this.activeDate),this.refreshView()}move(e){let t;if("day"===this.datepickerMode&&(t=this.stepDay),"month"===this.datepickerMode&&(t=this.stepMonth),"year"===this.datepickerMode&&(t=this.stepYear),t){const n=this.activeDate.getFullYear()+e*(t.years||0),i=this.activeDate.getMonth()+e*(t.months||0);this.activeDate=new Date(n,i,1),this.refreshView(),this.activeDateChange.emit(this.activeDate)}}toggleMode(e){const t=e||1;this.datepickerMode===this.maxMode&&1===t||this.datepickerMode===this.minMode&&-1===t||(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)+t],this.refreshView())}getCustomClassForDate(e){if(!this.customClass)return"";const t=this.customClass.find(t=>t.date.valueOf()===e.valueOf()&&t.mode===this.datepickerMode,this);return void 0===t?"":t.clazz}compareDateDisabled(e,t){if(void 0!==e&&void 0!==t)return"day"===e.mode&&this.compareHandlerDay?this.compareHandlerDay(e.date,t):"month"===e.mode&&this.compareHandlerMonth?this.compareHandlerMonth(e.date,t):"year"===e.mode&&this.compareHandlerYear?this.compareHandlerYear(e.date,t):void 0}isDisabled(e){let t=!1;return this.dateDisabled&&this.dateDisabled.forEach(n=>{0===this.compareDateDisabled(n,e)&&(t=!0)}),this.dayDisabled&&(t=t||this.dayDisabled.indexOf(e.getDay())>-1),t||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0}}class QW{constructor(){this.locale="en",this.datepickerMode="day",this.startingDay=0,this.yearRange=20,this.minMode="day",this.maxMode="year",this.showWeeks=!0,this.formatDay="DD",this.formatMonth="MMMM",this.formatYear="YYYY",this.formatDayHeader="dd",this.formatDayTitle="MMMM YYYY",this.formatMonthTitle="YYYY",this.onlyCurrentMonth=!1,this.monthColLimit=3,this.yearColLimit=5,this.shortcutPropagation=!1}}class eY{constructor(e){this.datepickerMode="day",this.showWeeks=!0,this.selectionDone=new As(void 0),this.activeDateChange=new As(void 0),this.onChange=Function.prototype,this.onTouched=Function.prototype,this._now=new Date,this.config=e,this.configureOptions()}get activeDate(){return this._activeDate||this._now}set activeDate(e){this._activeDate=e}configureOptions(){Object.assign(this,this.config)}onUpdate(e){this.activeDate=e,this.onChange(e)}onSelectionDone(e){this.selectionDone.emit(e)}onActiveDateChange(e){this.activeDateChange.emit(e)}writeValue(e){if(0!==this._datePicker.compare(e,this._activeDate))return e&&e instanceof Date?(this.activeDate=e,void this._datePicker.select(e,!1)):void(this.activeDate=e?new Date(e):void 0)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}}class tY{constructor(e){this.labels=[],this.rows=[],this.weekNumbers=[],this.datePicker=e}get isBs4(){return!hW()}ngOnInit(){const e=this;this.datePicker.stepDay={months:1},this.datePicker.setRefreshViewHandler((function(){const t=this.activeDate.getFullYear(),n=this.activeDate.getMonth(),i=new Date(t,n,1),s=this.startingDay-i.getDay(),l=s>0?7-s:-s,r=new Date(i.getTime());l>0&&r.setDate(1-l);const a=e.getDates(r,42),o=[];for(let e=0;e<42;e++){const t=this.createDateObject(a[e],this.formatDay);t.secondary=a[e].getMonth()!==n,t.uid=this.uniqueId+"-"+e,o[e]=t}e.labels=[];for(let h=0;h<7;h++)e.labels[h]={},e.labels[h].abbr=this.dateFilter(o[h].date,this.formatDayHeader),e.labels[h].full=this.dateFilter(o[h].date,"EEEE");if(e.title=this.dateFilter(this.activeDate,this.formatDayTitle),e.rows=this.split(o,7),this.showWeeks){e.weekNumbers=[];const t=(11-this.startingDay)%7,n=e.rows.length;for(let i=0;i<n;i++)e.weekNumbers.push(e.getISO8601WeekNumber(e.rows[i][t].date))}}),"day"),this.datePicker.setCompareHandler((function(e,t){const n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.getTime()-i.getTime()}),"day"),this.datePicker.refreshView()}getDates(e,t){const n=new Array(t);let i,s=new Date(e.getTime()),l=0;for(;l<t;)i=new Date(s.getTime()),i=this.datePicker.fixTimeZone(i),n[l++]=i,s=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1);return n}getISO8601WeekNumber(e){const t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));const n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t.getTime())/864e5)/7)+1}}class nY{constructor(e){this.rows=[],this.datePicker=e}get isBs4(){return!hW()}ngOnInit(){const e=this;this.datePicker.stepMonth={years:1},this.datePicker.setRefreshViewHandler((function(){const t=new Array(12),n=this.activeDate.getFullYear();let i;for(let e=0;e<12;e++)i=new Date(n,e,1),i=this.fixTimeZone(i),t[e]=this.createDateObject(i,this.formatMonth),t[e].uid=this.uniqueId+"-"+e;e.title=this.dateFilter(this.activeDate,this.formatMonthTitle),e.rows=this.split(t,e.datePicker.monthColLimit)}),"month"),this.datePicker.setCompareHandler((function(e,t){const n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.getTime()-i.getTime()}),"month"),this.datePicker.refreshView()}}class iY{constructor(e){this.rows=[],this.datePicker=e}get isBs4(){return!hW()}ngOnInit(){const e=this;this.datePicker.stepYear={years:this.datePicker.yearRange},this.datePicker.setRefreshViewHandler((function(){const t=new Array(this.yearRange);let n;const i=e.getStartingYear(this.activeDate.getFullYear());for(let e=0;e<this.yearRange;e++)n=new Date(i+e,0,1),n=this.fixTimeZone(n),t[e]=this.createDateObject(n,this.formatYear),t[e].uid=this.uniqueId+"-"+e;e.title=[t[0].label,t[this.yearRange-1].label].join(" - "),e.rows=this.split(t,e.datePicker.yearColLimit)}),"year"),this.datePicker.setCompareHandler((function(e,t){return e.getFullYear()-t.getFullYear()}),"year"),this.datePicker.refreshView()}getStartingYear(e){return(e-1)/this.datePicker.yearRange*this.datePicker.yearRange+1}}class sY{static forRoot(){return{ngModule:sY,providers:[QW]}}}var lY=Jn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"datepickerAnimation",definitions:[{type:0,name:"animated-down",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-down",animation:[{type:6,styles:{height:0,overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:0,name:"animated-up",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-up",animation:[{type:6,styles:{height:"*",overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:1,expr:"* => unanimated",animation:{type:4,styles:null,timings:"0s"},options:null}],options:{}}]}});function rY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"bs-days-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onHoverWeek"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.dayHoverHandler(n)&&i),"onHoverWeek"===t&&(i=!1!==s.weekHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.daySelectHandler(n)&&i),i}),V$,L$)),rs(1,49152,null,0,YW,[pW],{calendar:[0,"calendar"],options:[1,"options"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"}),as(131072,Lo,[At]),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,Zn(t,1,1,Ki(t,2).transform(n.options)))}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,3).transform(i.daysCalendar)))?null:n.length)>1)}))}function aY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,rY)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.daysCalendar)))}),null)}function oY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"bs-month-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.monthHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.monthSelectHandler(n)&&i),i}),U$,j$)),rs(1,49152,null,0,$W,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),as(131072,Lo,[At])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function hY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,oY)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.monthsCalendar)))}),null)}function cY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"bs-years-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.yearHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.yearSelectHandler(n)&&i),i}),G$,W$)),rs(1,49152,null,0,XW,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),as(131072,Lo,[At])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function dY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,cY)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.yearsCalendar)))}),null)}function uY(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"div",[["class","bs-datepicker-buttons"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"button",[["class","btn btn-success"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Apply"])),(e()(),Bl(3,0,null,null,1,"button",[["class","btn btn-default"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Cancel"]))],null,null)}function pY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"div",[["class","bs-datepicker-custom-range"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"bs-custom-date-view",[],null,null,null,J$,X$)),rs(2,49152,null,0,zW,[],{ranges:[0,"ranges"]},null)],(function(e,t){e(t,2,0,t.component._customRangesFish)}),null)}function mY(e){return nr(0,[(e()(),Bl(0,0,null,null,15,"div",[["class","bs-datepicker"]],null,null,null,null,null)),rs(1,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Bl(2,0,null,null,11,"div",[["class","bs-datepicker-container"]],[[24,"@datepickerAnimation",0]],[[null,"@datepickerAnimation.done"]],(function(e,t,n){var i=!0;return"@datepickerAnimation.done"===t&&(i=!1!==e.component.positionServiceEnable()&&i),i}),null,null)),(e()(),Bl(3,0,null,null,8,"div",[["class","bs-calendar-container"],["role","application"]],null,null,null,null,null)),rs(4,16384,null,0,Eo,[],{ngSwitch:[0,"ngSwitch"]},null),as(131072,Lo,[At]),(e()(),Hl(16777216,null,null,1,null,aY)),rs(7,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,hY)),rs(9,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,dY)),rs(11,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,uY)),rs(13,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,pY)),rs(15,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"bs-datepicker",n.containerClass),e(t,4,0,Zn(t,4,0,Ki(t,5).transform(n.viewMode))),e(t,7,0,"day"),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,!1),e(t,15,0,!1)}),(function(e,t){e(t,2,0,t.component.animationState)}))}function fY(e){return nr(0,[(e()(),Hl(16777216,null,null,2,null,mY)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,1,0,Zn(t,1,0,Ki(t,2).transform(n.viewMode)))}),null)}function gY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"bs-datepicker-container",[["aria-label","calendar"],["class","bottom"],["role","dialog"],["style","position: absolute; display: block;"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ki(e,3)._stopPropagation(n)&&i),i}),fY,lY)),os(512,null,LW,LW,[]),os(512,null,bW,bW,[fW,gW]),rs(3,245760,null,0,NW,[pW,LW,hn,fW,bW,iW],null,null)],(function(e,t){e(t,3,0)}),null)}var bY=Bi("bs-datepicker-container",NW,gY,{},{},[]),vY=Jn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"datepickerAnimation",definitions:[{type:0,name:"animated-down",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-down",animation:[{type:6,styles:{height:0,overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:0,name:"animated-up",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-up",animation:[{type:6,styles:{height:"*",overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:1,expr:"* => unanimated",animation:{type:4,styles:null,timings:"0s"},options:null}],options:{}}]}});function yY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"bs-days-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onHoverWeek"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.dayHoverHandler(n)&&i),"onHoverWeek"===t&&(i=!1!==s.weekHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.daySelectHandler(n)&&i),i}),V$,L$)),rs(1,49152,null,0,YW,[pW],{calendar:[0,"calendar"],options:[1,"options"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"}),as(131072,Lo,[At]),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,Zn(t,1,1,Ki(t,2).transform(n.options)))}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,3).transform(i.daysCalendar)))?null:n.length)>1)}))}function wY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,yY)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.daysCalendar)))}),null)}function CY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"bs-month-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.monthHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.monthSelectHandler(n)&&i),i}),U$,j$)),rs(1,49152,null,0,$W,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),as(131072,Lo,[At])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function xY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,CY)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.monthsCalendar)))}),null)}function _Y(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"bs-years-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.yearHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.yearSelectHandler(n)&&i),i}),G$,W$)),rs(1,49152,null,0,XW,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),as(131072,Lo,[At])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function SY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,_Y)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.yearsCalendar)))}),null)}function kY(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"div",[["class","bs-datepicker-buttons"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"button",[["class","btn btn-success"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Apply"])),(e()(),Bl(3,0,null,null,1,"button",[["class","btn btn-default"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Cancel"]))],null,null)}function EY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"div",[["class","bs-datepicker-custom-range"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"bs-custom-date-view",[],null,null,null,J$,X$)),rs(2,49152,null,0,zW,[],{ranges:[0,"ranges"]},null)],(function(e,t){e(t,2,0,t.component._customRangesFish)}),null)}function OY(e){return nr(0,[(e()(),Bl(0,0,null,null,15,"div",[["class","bs-datepicker"]],null,null,null,null,null)),rs(1,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Bl(2,0,null,null,11,"div",[["class","bs-datepicker-container"]],[[24,"@datepickerAnimation",0]],[[null,"@datepickerAnimation.done"]],(function(e,t,n){var i=!0;return"@datepickerAnimation.done"===t&&(i=!1!==e.component.positionServiceEnable()&&i),i}),null,null)),(e()(),Bl(3,0,null,null,8,"div",[["class","bs-calendar-container"],["role","application"]],null,null,null,null,null)),rs(4,16384,null,0,Eo,[],{ngSwitch:[0,"ngSwitch"]},null),as(131072,Lo,[At]),(e()(),Hl(16777216,null,null,1,null,wY)),rs(7,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,xY)),rs(9,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,SY)),rs(11,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,kY)),rs(13,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,EY)),rs(15,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"bs-datepicker",n.containerClass),e(t,4,0,Zn(t,4,0,Ki(t,5).transform(n.viewMode))),e(t,7,0,"day"),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,!1),e(t,15,0,!1)}),(function(e,t){e(t,2,0,t.component.animationState)}))}function IY(e){return nr(0,[(e()(),Hl(16777216,null,null,2,null,OY)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,1,0,Zn(t,1,0,Ki(t,2).transform(n.viewMode)))}),null)}function DY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"bs-datepicker-inline-container",[["style","display: inline-block;"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ki(e,3)._stopPropagation(n)&&i),i}),IY,vY)),os(512,null,LW,LW,[]),os(512,null,bW,bW,[fW,gW]),rs(3,245760,null,0,FW,[pW,LW,hn,fW,bW,iW],null,null)],(function(e,t){e(t,3,0)}),null)}var AY=Bi("bs-datepicker-inline-container",FW,DY,{},{},[]),MY=Jn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"datepickerAnimation",definitions:[{type:0,name:"animated-down",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-down",animation:[{type:6,styles:{height:0,overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:0,name:"animated-up",styles:{type:6,styles:{height:"*",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"* => animated-up",animation:[{type:6,styles:{height:"*",overflow:"hidden"},offset:null},{type:4,styles:null,timings:"220ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},{type:1,expr:"* => unanimated",animation:{type:4,styles:null,timings:"0s"},options:null}],options:{}}]}});function TY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"bs-days-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onHoverWeek"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.dayHoverHandler(n)&&i),"onHoverWeek"===t&&(i=!1!==s.weekHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.daySelectHandler(n)&&i),i}),V$,L$)),rs(1,49152,null,0,YW,[pW],{calendar:[0,"calendar"],options:[1,"options"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"}),as(131072,Lo,[At]),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,Zn(t,1,1,Ki(t,2).transform(n.options)))}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,3).transform(i.daysCalendar)))?null:n.length)>1)}))}function PY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,TY)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.daysCalendar)))}),null)}function LY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"bs-month-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.monthHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.monthSelectHandler(n)&&i),i}),U$,j$)),rs(1,49152,null,0,$W,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),as(131072,Lo,[At])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function NY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,LY)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.monthsCalendar)))}),null)}function RY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"bs-years-calendar-view",[],[[2,"bs-datepicker-multiple",null]],[[null,"onNavigate"],[null,"onViewMode"],[null,"onHover"],[null,"onSelect"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.setViewMode(n)&&i),"onHover"===t&&(i=!1!==s.yearHoverHandler(n)&&i),"onSelect"===t&&(i=!1!==s.yearSelectHandler(n)&&i),i}),G$,W$)),rs(1,49152,null,0,XW,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"}),as(131072,Lo,[At])],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){var n,i=t.component;e(t,0,0,(null==(n=Zn(t,0,0,Ki(t,2).transform(i.daysCalendar)))?null:n.length)>1)}))}function FY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"div",[["class","bs-media-container"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,2,null,RY)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,2,0,Zn(t,2,0,Ki(t,3).transform(n.yearsCalendar)))}),null)}function HY(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"div",[["class","bs-datepicker-buttons"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"button",[["class","btn btn-success"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Apply"])),(e()(),Bl(3,0,null,null,1,"button",[["class","btn btn-default"]],null,null,null,null,null)),(e()(),Ql(-1,null,["Cancel"]))],null,null)}function BY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"div",[["class","bs-datepicker-custom-range"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"bs-custom-date-view",[],null,null,null,J$,X$)),rs(2,49152,null,0,zW,[],{ranges:[0,"ranges"]},null)],(function(e,t){e(t,2,0,t.component._customRangesFish)}),null)}function VY(e){return nr(0,[(e()(),Bl(0,0,null,null,15,"div",[["class","bs-datepicker"]],null,null,null,null,null)),rs(1,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Bl(2,0,null,null,11,"div",[["class","bs-datepicker-container"]],[[24,"@datepickerAnimation",0]],[[null,"@datepickerAnimation.done"]],(function(e,t,n){var i=!0;return"@datepickerAnimation.done"===t&&(i=!1!==e.component.positionServiceEnable()&&i),i}),null,null)),(e()(),Bl(3,0,null,null,8,"div",[["class","bs-calendar-container"],["role","application"]],null,null,null,null,null)),rs(4,16384,null,0,Eo,[],{ngSwitch:[0,"ngSwitch"]},null),as(131072,Lo,[At]),(e()(),Hl(16777216,null,null,1,null,PY)),rs(7,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,NY)),rs(9,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,FY)),rs(11,278528,null,0,Oo,[Nn,Pn,Eo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Hl(16777216,null,null,1,null,HY)),rs(13,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,BY)),rs(15,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"bs-datepicker",n.containerClass),e(t,4,0,Zn(t,4,0,Ki(t,5).transform(n.viewMode))),e(t,7,0,"day"),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,!1),e(t,15,0,!1)}),(function(e,t){e(t,2,0,t.component.animationState)}))}function jY(e){return nr(0,[(e()(),Hl(16777216,null,null,2,null,VY)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),as(131072,Lo,[At])],(function(e,t){var n=t.component;e(t,1,0,Zn(t,1,0,Ki(t,2).transform(n.viewMode)))}),null)}function zY(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"bs-daterangepicker-container",[["aria-label","calendar"],["class","bottom"],["role","dialog"],["style","position: absolute; display: block;"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ki(e,3)._stopPropagation(n)&&i),i}),jY,MY)),os(512,null,bW,bW,[fW,gW]),os(512,null,LW,LW,[]),rs(3,245760,null,0,BW,[bW,fW,pW,LW,hn,iW],null,null)],(function(e,t){e(t,3,0)}),null)}var qY=Bi("bs-daterangepicker-container",BW,zY,{},{},[]),UY=Jn({encapsulation:2,styles:[],data:{}});function WY(e){return nr(0,[Ul(671088640,1,{_datePicker:0}),(e()(),Bl(1,0,null,null,7,"datepicker-inner",[],null,[[null,"update"],[null,"selectionDone"],[null,"activeDateChange"]],(function(e,t,n){var i=!0,s=e.component;return"update"===t&&(i=!1!==s.onUpdate(n)&&i),"selectionDone"===t&&(i=!1!==s.onSelectionDone(n)&&i),"activeDateChange"===t&&(i=!1!==s.onActiveDateChange(n)&&i),i}),KY,GY)),rs(2,638976,[[1,4]],0,JW,[],{locale:[0,"locale"],datepickerMode:[1,"datepickerMode"],startingDay:[2,"startingDay"],yearRange:[3,"yearRange"],minDate:[4,"minDate"],maxDate:[5,"maxDate"],minMode:[6,"minMode"],maxMode:[7,"maxMode"],showWeeks:[8,"showWeeks"],formatDay:[9,"formatDay"],formatMonth:[10,"formatMonth"],formatYear:[11,"formatYear"],formatDayHeader:[12,"formatDayHeader"],formatDayTitle:[13,"formatDayTitle"],formatMonthTitle:[14,"formatMonthTitle"],onlyCurrentMonth:[15,"onlyCurrentMonth"],shortcutPropagation:[16,"shortcutPropagation"],customClass:[17,"customClass"],monthColLimit:[18,"monthColLimit"],yearColLimit:[19,"yearColLimit"],dateDisabled:[20,"dateDisabled"],dayDisabled:[21,"dayDisabled"],initDate:[22,"initDate"],activeDate:[23,"activeDate"]},{selectionDone:"selectionDone",update:"update",activeDateChange:"activeDateChange"}),(e()(),Bl(3,0,null,0,1,"daypicker",[["tabindex","0"]],null,null,null,c$,ZY)),rs(4,114688,null,0,tY,[JW],null,null),(e()(),Bl(5,0,null,0,1,"monthpicker",[["tabindex","0"]],null,null,null,f$,d$)),rs(6,114688,null,0,nY,[JW],null,null),(e()(),Bl(7,0,null,0,1,"yearpicker",[["tabindex","0"]],null,null,null,w$,g$)),rs(8,114688,null,0,iY,[JW],null,null)],(function(e,t){var n=t.component;e(t,2,1,[n.config.locale,n.datepickerMode,n.startingDay,n.yearRange,n.minDate,n.maxDate,n.minMode,n.maxMode,n.showWeeks,n.formatDay,n.formatMonth,n.formatYear,n.formatDayHeader,n.formatDayTitle,n.formatMonthTitle,n.onlyCurrentMonth,n.shortcutPropagation,n.customClass,n.monthColLimit,n.yearColLimit,n.dateDisabled,n.dayDisabled,n.initDate,n.activeDate]),e(t,4,0),e(t,6,0),e(t,8,0)}),null)}function YY(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"datepicker",[],null,null,null,WY,UY)),os(5120,null,kh,(function(e){return[e]}),[eY]),rs(2,49152,null,0,eY,[QW],null,null)],null,null)}var $Y=Bi("datepicker",eY,YY,{datepickerMode:"datepickerMode",initDate:"initDate",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",maxMode:"maxMode",showWeeks:"showWeeks",formatDay:"formatDay",formatMonth:"formatMonth",formatYear:"formatYear",formatDayHeader:"formatDayHeader",formatDayTitle:"formatDayTitle",formatMonthTitle:"formatMonthTitle",startingDay:"startingDay",yearRange:"yearRange",onlyCurrentMonth:"onlyCurrentMonth",shortcutPropagation:"shortcutPropagation",monthColLimit:"monthColLimit",yearColLimit:"yearColLimit",customClass:"customClass",dateDisabled:"dateDisabled",dayDisabled:"dayDisabled",activeDate:"activeDate"},{selectionDone:"selectionDone",activeDateChange:"activeDateChange"},[]),GY=Jn({encapsulation:2,styles:[],data:{}});function XY(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"div",[["class","well well-sm bg-faded p-a card"],["role","application"]],null,null,null,null,null)),Xl(null,0)],null,null)}function KY(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,XY)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.datepickerMode)}),null)}var ZY=Jn({encapsulation:0,styles:["[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%] {\n      color: #292b2c;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    [_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%] {\n      color: #292b2c !important;\n    }"],data:{}});function JY(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"button",[["class","btn btn-default btn-secondary btn-sm pull-left float-left"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(-1)&&i),i}),null,null)),(e()(),Ql(-1,null,["\u2039"]))],null,null)}function QY(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"button",[["class","btn btn-default btn-secondary btn-sm pull-left float-left"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(-1)&&i),i}),null,null)),(e()(),Ql(-1,null,["<"]))],null,null)}function e$(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"button",[["class","btn btn-default btn-secondary btn-sm pull-right float-right"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(1)&&i),i}),null,null)),(e()(),Ql(-1,null,["\u203a"]))],null,null)}function t$(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"button",[["class","btn btn-default btn-secondary btn-sm pull-right float-right"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(1)&&i),i}),null,null)),(e()(),Ql(-1,null,["> "]))],null,null)}function n$(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"th",[],null,null,null,null,null))],null,null)}function i$(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"small",[["aria-label","labelz.full"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),Ql(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit.abbr)}))}function s$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"em",[],null,null,null,null,null)),(e()(),Ql(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.weekNumbers[t.parent.parent.context.index])}))}function l$(e){return nr(0,[(e()(),Bl(0,0,null,null,6,"button",[["style","min-width:100%;"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.select(e.parent.context.$implicit.date)&&i),i}),null,null)),rs(1,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zl(2,{"btn-secondary":0,"btn-info":1,disabled:2,active:3,"btn-default":4}),(e()(),Bl(3,0,null,null,3,"span",[],null,null,null,null,null)),rs(4,278528,null,0,vo,[In,Dn,hn,pn],{ngClass:[0,"ngClass"]},null),Zl(5,{"text-muted":0,"text-info":1}),(e()(),Ql(6,null,["",""]))],(function(e,t){var n=t.component,i=Ei(1,"btn btn-sm ",t.parent.context.$implicit.customClass,""),s=e(t,2,0,n.isBs4&&!t.parent.context.$implicit.selected&&!n.datePicker.isActive(t.parent.context.$implicit),t.parent.context.$implicit.selected,t.parent.context.$implicit.disabled,!n.isBs4&&n.datePicker.isActive(t.parent.context.$implicit),!n.isBs4);e(t,1,0,i,s);var l=e(t,5,0,t.parent.context.$implicit.secondary||t.parent.context.$implicit.current,!n.isBs4&&t.parent.context.$implicit.current);e(t,4,0,l)}),(function(e,t){e(t,0,0,t.parent.context.$implicit.disabled),e(t,6,0,t.parent.context.$implicit.label)}))}function r$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"td",[["class","text-center"],["role","gridcell"]],[[8,"id",0]],null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,l$)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!(t.component.datePicker.onlyCurrentMonth&&t.context.$implicit.secondary))}),(function(e,t){e(t,0,0,t.context.$implicit.uid)}))}function a$(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,s$)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,r$)),rs(4,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.datePicker.showWeeks),e(t,4,0,t.parent.context.$implicit)}),null)}function o$(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,a$)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(0,null,null,0))],(function(e,t){e(t,1,0,!(t.component.datePicker.onlyCurrentMonth&&t.context.$implicit[0].secondary&&t.context.$implicit[6].secondary))}),null)}function h$(e){return nr(0,[(e()(),Bl(0,0,null,null,26,"table",[["aria-activedescendant","activeDateId"],["role","grid"]],[[1,"aria-labelledby",0]],null,null,null,null)),(e()(),Bl(1,0,null,null,22,"thead",[],null,null,null,null,null)),(e()(),Bl(2,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),Bl(3,0,null,null,4,"th",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,JY)),rs(5,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,QY)),rs(7,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(8,0,null,null,5,"th",[],[[1,"colspan",0]],null,null,null,null)),(e()(),Bl(9,0,null,null,4,"button",[["class","btn btn-default btn-secondary btn-sm"],["style","width:100%;"],["tabindex","-1"],["type","button"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.toggleMode(0)&&i),i}),null,null)),rs(10,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zl(11,{disabled:0}),(e()(),Bl(12,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Ql(13,null,["",""])),(e()(),Bl(14,0,null,null,4,"th",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,e$)),rs(16,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,t$)),rs(18,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(19,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,n$)),rs(21,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,i$)),rs(23,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(24,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,o$)),rs(26,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,5,0,!n.isBs4),e(t,7,0,n.isBs4);var i=e(t,11,0,n.datePicker.datepickerMode===n.datePicker.maxMode);e(t,10,0,"btn btn-default btn-secondary btn-sm",i),e(t,16,0,!n.isBs4),e(t,18,0,n.isBs4),e(t,21,0,n.datePicker.showWeeks),e(t,23,0,n.labels),e(t,26,0,n.rows)}),(function(e,t){var n=t.component;e(t,0,0,n.datePicker.uniqueId+"-title"),e(t,8,0,5+(n.datePicker.showWeeks?1:0)),e(t,9,0,n.datePicker.uniqueId+"-title",n.datePicker.datepickerMode===n.datePicker.maxMode),e(t,13,0,n.title)}))}function c$(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,h$)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,"day"===t.component.datePicker.datepickerMode)}),null)}var d$=Jn({encapsulation:0,styles:["[_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%] {\n      color: #fff !important;\n    }"],data:{}});function u$(e){return nr(0,[(e()(),Bl(0,0,null,null,8,"td",[["class","text-center"],["role","gridcell"]],[[1,"id",0]],null,null,null,null)),rs(1,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Bl(2,0,null,null,6,"button",[["class","btn btn-default"],["style","min-width:100%;"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.select(e.context.$implicit.date)&&i),i}),null,null)),rs(3,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zl(4,{"btn-link":0,"btn-info":1,disabled:2,active:3}),(e()(),Bl(5,0,null,null,3,"span",[],null,null,null,null,null)),rs(6,278528,null,0,vo,[In,Dn,hn,pn],{ngClass:[0,"ngClass"]},null),Zl(7,{"text-success":0,"text-info":1}),(e()(),Ql(8,null,["",""]))],(function(e,t){var n=t.component;e(t,1,0,"text-center",t.context.$implicit.customClass);var i=e(t,4,0,n.isBs4&&!t.context.$implicit.selected&&!n.datePicker.isActive(t.context.$implicit),t.context.$implicit.selected||n.isBs4&&!t.context.$implicit.selected&&n.datePicker.isActive(t.context.$implicit),t.context.$implicit.disabled,!n.isBs4&&n.datePicker.isActive(t.context.$implicit));e(t,3,0,"btn btn-default",i);var s=e(t,7,0,n.isBs4&&t.context.$implicit.current,!n.isBs4&&t.context.$implicit.current);e(t,6,0,s)}),(function(e,t){e(t,0,0,t.context.$implicit.uid),e(t,2,0,t.context.$implicit.disabled),e(t,8,0,t.context.$implicit.label)}))}function p$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,u$)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function m$(e){return nr(0,[(e()(),Bl(0,0,null,null,17,"table",[["role","grid"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),Bl(2,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),Bl(3,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Bl(4,0,null,null,1,"button",[["class","btn btn-default btn-sm pull-left float-left"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(-1)&&i),i}),null,null)),(e()(),Ql(-1,null,["\u2039"])),(e()(),Bl(6,0,null,null,5,"th",[],[[1,"colspan",0]],null,null,null,null)),(e()(),Bl(7,0,null,null,4,"button",[["class","btn btn-default btn-sm"],["style","width:100%;"],["tabindex","-1"],["type","button"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.toggleMode(0)&&i),i}),null,null)),rs(8,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zl(9,{disabled:0}),(e()(),Bl(10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Ql(11,null,["",""])),(e()(),Bl(12,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Bl(13,0,null,null,1,"button",[["class","btn btn-default btn-sm pull-right float-right"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(1)&&i),i}),null,null)),(e()(),Ql(-1,null,["\u203a"])),(e()(),Bl(15,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,p$)),rs(17,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,i=e(t,9,0,n.datePicker.datepickerMode===n.maxMode);e(t,8,0,"btn btn-default btn-sm",i),e(t,17,0,n.rows)}),(function(e,t){var n=t.component;e(t,6,0,n.datePicker.monthColLimit-2<=0?1:n.datePicker.monthColLimit-2),e(t,7,0,n.datePicker.uniqueId+"-title",n.datePicker.datepickerMode===n.maxMode),e(t,11,0,n.title)}))}function f$(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,m$)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,"month"===t.component.datePicker.datepickerMode)}),null)}var g$=Jn({encapsulation:0,styles:["[_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%] {\n      color: #fff !important;\n    }"],data:{}});function b$(e){return nr(0,[(e()(),Bl(0,0,null,null,7,"td",[["class","text-center"],["role","gridcell"]],[[1,"id",0]],null,null,null,null)),(e()(),Bl(1,0,null,null,6,"button",[["class","btn btn-default"],["style","min-width:100%;"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.select(e.context.$implicit.date)&&i),i}),null,null)),rs(2,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zl(3,{"btn-link":0,"btn-info":1,disabled:2,active:3}),(e()(),Bl(4,0,null,null,3,"span",[],null,null,null,null,null)),rs(5,278528,null,0,vo,[In,Dn,hn,pn],{ngClass:[0,"ngClass"]},null),Zl(6,{"text-success":0,"text-info":1}),(e()(),Ql(7,null,["",""]))],(function(e,t){var n=t.component,i=e(t,3,0,n.isBs4&&!t.context.$implicit.selected&&!n.datePicker.isActive(t.context.$implicit),t.context.$implicit.selected||n.isBs4&&!t.context.$implicit.selected&&n.datePicker.isActive(t.context.$implicit),t.context.$implicit.disabled,!n.isBs4&&n.datePicker.isActive(t.context.$implicit));e(t,2,0,"btn btn-default",i);var s=e(t,6,0,n.isBs4&&t.context.$implicit.current,!n.isBs4&&t.context.$implicit.current);e(t,5,0,s)}),(function(e,t){e(t,0,0,t.context.$implicit.uid),e(t,1,0,t.context.$implicit.disabled),e(t,7,0,t.context.$implicit.label)}))}function v$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,b$)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function y$(e){return nr(0,[(e()(),Bl(0,0,null,null,17,"table",[["role","grid"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),Bl(2,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),Bl(3,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Bl(4,0,null,null,1,"button",[["class","btn btn-default btn-sm pull-left float-left"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(-1)&&i),i}),null,null)),(e()(),Ql(-1,null,["\u2039"])),(e()(),Bl(6,0,null,null,5,"th",[],[[1,"colspan",0]],null,null,null,null)),(e()(),Bl(7,0,null,null,4,"button",[["class","btn btn-default btn-sm"],["role","heading"],["style","width:100%;"],["tabindex","-1"],["type","button"]],[[8,"id",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.toggleMode(0)&&i),i}),null,null)),rs(8,278528,null,0,vo,[In,Dn,hn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zl(9,{disabled:0}),(e()(),Bl(10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Ql(11,null,["",""])),(e()(),Bl(12,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Bl(13,0,null,null,1,"button",[["class","btn btn-default btn-sm pull-right float-right"],["tabindex","-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.datePicker.move(1)&&i),i}),null,null)),(e()(),Ql(-1,null,["\u203a"])),(e()(),Bl(15,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,v$)),rs(17,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,i=e(t,9,0,n.datePicker.datepickerMode===n.datePicker.maxMode);e(t,8,0,"btn btn-default btn-sm",i),e(t,17,0,n.rows)}),(function(e,t){var n=t.component;e(t,6,0,n.datePicker.yearColLimit-2<=0?1:n.datePicker.yearColLimit-2),e(t,7,0,n.datePicker.uniqueId+"-title",n.datePicker.datepickerMode===n.datePicker.maxMode),e(t,11,0,n.title)}))}function w$(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,y$)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,"year"===t.component.datePicker.datepickerMode)}),null)}var C$=Jn({encapsulation:2,styles:[],data:{}});function x$(e){return nr(2,[(e()(),Ql(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.day.label)}))}var _$=Jn({encapsulation:2,styles:[],data:{}});function S$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"div",[["class","current-timedate"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ql(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.title)}))}var k$=Jn({encapsulation:2,styles:[],data:{}});function E$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"button",[["class","current"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.view("month")&&i),i}),null,null)),(e()(),Bl(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ql(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.calendar.monthTitle)}))}function O$(e){return nr(2,[(e()(),Bl(0,0,null,null,2,"button",[["class","previous"]],[[8,"disabled",0],[4,"visibility",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.navTo(!0)&&i),i}),null,null)),(e()(),Bl(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ql(-1,null,["\u2039"])),(e()(),Ql(-1,null,[" \u200b "])),(e()(),Hl(16777216,null,null,1,null,E$)),rs(5,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Ql(-1,null,[" \u200b "])),(e()(),Bl(7,0,null,null,2,"button",[["class","current"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.view("year")&&i),i}),null,null)),(e()(),Bl(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ql(9,null,["",""])),(e()(),Ql(-1,null,[" \u200b "])),(e()(),Bl(11,0,null,null,2,"button",[["class","next"]],[[8,"disabled",0],[4,"visibility",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.navTo(!1)&&i),i}),null,null)),(e()(),Bl(12,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ql(-1,null,["\u203a"]))],(function(e,t){e(t,5,0,t.component.calendar.monthTitle)}),(function(e,t){var n=t.component;e(t,0,0,n.calendar.disableLeftArrow,n.calendar.hideLeftArrow?"hidden":"visible"),e(t,9,0,n.calendar.yearTitle),e(t,11,0,n.calendar.disableRightArrow,n.calendar.hideRightArrow?"hidden":"visible")}))}var I$=Jn({encapsulation:2,styles:[],data:{}});function D$(e){return nr(0,[(e()(),Bl(0,0,null,null,15,"div",[["class","bs-timepicker-container"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,5,"div",[["class","bs-timepicker-controls"]],null,null,null,null,null)),(e()(),Bl(2,0,null,null,1,"button",[["class","bs-decrease"]],null,null,null,null,null)),(e()(),Ql(-1,null,["-"])),(e()(),Bl(4,0,null,null,0,"input",[["placeholder","00"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),Bl(5,0,null,null,1,"button",[["class","bs-increase"]],null,null,null,null,null)),(e()(),Ql(-1,null,["+"])),(e()(),Bl(7,0,null,null,5,"div",[["class","bs-timepicker-controls"]],null,null,null,null,null)),(e()(),Bl(8,0,null,null,1,"button",[["class","bs-decrease"]],null,null,null,null,null)),(e()(),Ql(-1,null,["-"])),(e()(),Bl(10,0,null,null,0,"input",[["placeholder","00"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),Bl(11,0,null,null,1,"button",[["class","bs-increase"]],null,null,null,null,null)),(e()(),Ql(-1,null,["+"])),(e()(),Bl(13,0,null,null,2,"button",[["class","switch-time-format"]],null,null,null,null,null)),(e()(),Ql(14,null,[""," "])),(e()(),Bl(15,0,null,null,0,"img",[["alt",""],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg=="]],null,null,null,null,null))],null,(function(e,t){var n=t.component;e(t,4,0,n.hours),e(t,10,0,n.minutes),e(t,14,0,n.ampm)}))}var A$=Jn({encapsulation:2,styles:[],data:{}});function M$(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"bs-current-date",[["title","hey there"]],null,null,null,S$,_$)),rs(1,49152,null,0,jW,[],{title:[0,"title"]},null)],(function(e,t){e(t,1,0,"hey there")}),null)}function T$(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"bs-timepicker",[],null,null,null,D$,I$)),rs(1,49152,null,0,GW,[],null,null)],null,null)}function P$(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,M$)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(2,0,null,null,1,"div",[["class","bs-datepicker-head"]],null,null,null,null,null)),Xl(null,0),(e()(),Bl(4,0,null,null,1,"div",[["class","bs-datepicker-body"]],null,null,null,null,null)),Xl(null,1),(e()(),Hl(16777216,null,null,1,null,T$)),rs(7,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,!1),e(t,7,0,!1)}),null)}var L$=Jn({encapsulation:2,styles:[],data:{}});function N$(e){return nr(0,[(e()(),Bl(0,0,null,null,0,"th",[],null,null,null,null,null))],null,null)}function R$(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"th",[["aria-label","weekday"]],null,null,null,null,null)),(e()(),Ql(1,null,[""," "]))],null,(function(e,t){e(t,1,0,t.component.calendar.weekdays[t.context.index])}))}function F$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"td",[["class","week"]],[[2,"active-week",null]],null,null,null,null)),(e()(),Bl(1,0,null,null,1,"span",[],null,[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.selectWeek(e.parent.context.$implicit)&&i),"mouseenter"===t&&(i=!1!==s.weekHoverHandler(e.parent.context.$implicit,!0)&&i),"mouseleave"===t&&(i=!1!==s.weekHoverHandler(e.parent.context.$implicit,!1)&&i),i}),null,null)),(e()(),Ql(2,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.isWeekHovered),e(t,2,0,n.calendar.weekNumbers[t.parent.context.index])}))}function H$(e){return nr(0,[(e()(),Bl(0,0,null,null,3,"td",[["role","gridcell"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,2,"span",[["bsDatepickerDayDecorator",""]],[[2,"disabled",null],[2,"is-highlighted",null],[2,"is-other-month",null],[2,"is-active-other-month",null],[2,"in-range",null],[2,"select-start",null],[2,"select-end",null],[2,"selected",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.selectDay(e.context.$implicit)&&i),"mouseenter"===t&&(i=!1!==s.hoverDay(e.context.$implicit,!0)&&i),"mouseleave"===t&&(i=!1!==s.hoverDay(e.context.$implicit,!1)&&i),i}),x$,C$)),rs(2,114688,null,0,qW,[pW,hn,pn],{day:[0,"day"]},null),(e()(),Ql(3,null,["",""]))],(function(e,t){e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,1,0,Ki(t,2).day.isDisabled,Ki(t,2).day.isHovered,Ki(t,2).day.isOtherMonth,Ki(t,2).day.isOtherMonthHovered,Ki(t,2).day.isInRange,Ki(t,2).day.isSelectionStart,Ki(t,2).day.isSelectionEnd,Ki(t,2).day.isSelected),e(t,3,0,t.context.$implicit.label)}))}function B$(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,F$)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,H$)),rs(4,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.options.showWeekNumbers),e(t,4,0,t.context.$implicit.days)}),null)}function V$(e){return nr(0,[(e()(),Bl(0,0,null,null,13,"bs-calendar-layout",[],null,null,null,P$,A$)),rs(1,49152,null,0,VW,[],null,null),(e()(),Bl(2,0,null,0,1,"bs-datepicker-navigation-view",[],null,[[null,"onNavigate"],[null,"onViewMode"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.changeViewMode(n)&&i),i}),O$,k$)),rs(3,49152,null,0,WW,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode"}),(e()(),Bl(4,0,null,1,9,"table",[["class","days weeks"],["role","grid"]],null,null,null,null,null)),(e()(),Bl(5,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Bl(6,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,N$)),rs(8,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,R$)),rs(10,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(11,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,B$)),rs(13,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.calendar),e(t,8,0,n.options.showWeekNumbers),e(t,10,0,n.calendar.weekdays),e(t,13,0,n.calendar.weeks)}),null)}var j$=Jn({encapsulation:2,styles:[],data:{}});function z$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"td",[["role","gridcell"]],[[2,"disabled",null],[2,"is-highlighted",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.viewMonth(e.context.$implicit)&&i),"mouseenter"===t&&(i=!1!==s.hoverMonth(e.context.$implicit,!0)&&i),"mouseleave"===t&&(i=!1!==s.hoverMonth(e.context.$implicit,!1)&&i),i}),null,null)),(e()(),Bl(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ql(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.isDisabled,t.context.$implicit.isHovered),e(t,2,0,t.context.$implicit.label)}))}function q$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,z$)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function U$(e){return nr(0,[(e()(),Bl(0,0,null,null,7,"bs-calendar-layout",[],null,null,null,P$,A$)),rs(1,49152,null,0,VW,[],null,null),(e()(),Bl(2,0,null,0,1,"bs-datepicker-navigation-view",[],null,[[null,"onNavigate"],[null,"onViewMode"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.changeViewMode(n)&&i),i}),O$,k$)),rs(3,49152,null,0,WW,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode"}),(e()(),Bl(4,0,null,1,3,"table",[["class","months"],["role","grid"]],null,null,null,null,null)),(e()(),Bl(5,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,q$)),rs(7,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.calendar),e(t,7,0,n.calendar.months)}),null)}var W$=Jn({encapsulation:2,styles:[],data:{}});function Y$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"td",[["role","gridcell"]],[[2,"disabled",null],[2,"is-highlighted",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==s.viewYear(e.context.$implicit)&&i),"mouseenter"===t&&(i=!1!==s.hoverYear(e.context.$implicit,!0)&&i),"mouseleave"===t&&(i=!1!==s.hoverYear(e.context.$implicit,!1)&&i),i}),null,null)),(e()(),Bl(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ql(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.isDisabled,t.context.$implicit.isHovered),e(t,2,0,t.context.$implicit.label)}))}function $$(e){return nr(0,[(e()(),Bl(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,Y$)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function G$(e){return nr(0,[(e()(),Bl(0,0,null,null,7,"bs-calendar-layout",[],null,null,null,P$,A$)),rs(1,49152,null,0,VW,[],null,null),(e()(),Bl(2,0,null,0,1,"bs-datepicker-navigation-view",[],null,[[null,"onNavigate"],[null,"onViewMode"]],(function(e,t,n){var i=!0,s=e.component;return"onNavigate"===t&&(i=!1!==s.navigateTo(n)&&i),"onViewMode"===t&&(i=!1!==s.changeViewMode(n)&&i),i}),O$,k$)),rs(3,49152,null,0,WW,[],{calendar:[0,"calendar"]},{onNavigate:"onNavigate",onViewMode:"onViewMode"}),(e()(),Bl(4,0,null,1,3,"table",[["class","years"],["role","grid"]],null,null,null,null,null)),(e()(),Bl(5,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,$$)),rs(7,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.calendar),e(t,7,0,n.calendar.years)}),null)}var X$=Jn({encapsulation:2,styles:[],data:{}});function K$(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"button",[],null,null,null,null,null)),(e()(),Ql(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.label)}))}function Z$(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"button",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Custom Range"]))],null,null)}function J$(e){return nr(2,[(e()(),Bl(0,0,null,null,4,"div",[["class","bs-datepicker-predefined-btns"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,K$)),rs(2,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Hl(16777216,null,null,1,null,Z$)),rs(4,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.ranges),e(t,4,0,n.isCustomRangeShown)}),null)}var Q$=Jn({encapsulation:2,styles:[["table,td,th{border:1px solid #000;border-collapse:collapse}"]],data:{}});function eG(e){return nr(0,[(e()(),Bl(0,0,null,null,10,"div",[["style","margin-right: 10px;"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Instructor Information"])),(e()(),Bl(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(4,null,["",": "," ",""])),(e()(),Bl(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(6,null,["Email: ",""])),(e()(),Bl(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(8,null,["Office: "," "])),(e()(),Bl(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(10,null,["Office Tel: ",""]))],null,(function(e,t){var n=t.component;e(t,4,0,null==n.data.instructor?null:n.data.instructor.title,null==n.data.instructor?null:n.data.instructor.name,null==n.data.instructor?null:n.data.instructor.surName),e(t,6,0,null==n.data.instructor?null:n.data.instructor.email),e(t,8,0,null==n.data.instructor?null:n.data.instructor.office),e(t,10,0,null==n.data.instructor?null:n.data.instructor.officeTel)}))}function tG(e){return nr(0,[(e()(),Bl(0,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Assistant Information"])),(e()(),Bl(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(4,null,["",": "," "," "])),(e()(),Bl(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(6,null,["Email: ",""])),(e()(),Bl(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(8,null,["Office: ",""])),(e()(),Bl(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(10,null,["Office Tel: ",""]))],null,(function(e,t){var n=t.component;e(t,4,0,null==n.data.selectedAssistant?null:n.data.selectedAssistant.title,null==n.data.selectedAssistant?null:n.data.selectedAssistant.name,null==n.data.selectedAssistant?null:n.data.selectedAssistant.surName),e(t,6,0,null==n.data.selectedAssistant?null:n.data.selectedAssistant.email),e(t,8,0,null==n.data.selectedAssistant?null:n.data.selectedAssistant.office),e(t,10,0,null==n.data.selectedAssistant?null:n.data.selectedAssistant.officeTel)}))}function nG(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Prerequisite(s)"]))],null,null)}function iG(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(1,null,[""," ",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.preCourseCode,t.context.$implicit.preCourseName)}))}function sG(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,nG)),rs(2,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Hl(16777216,null,null,1,null,iG)),rs(4,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,null==!(null!=n.data.selectedCourse&&n.data.selectedCourse.prerequisites)),e(t,4,0,null==n.data.selectedCourse?null:n.data.selectedCourse.prerequisites)}),null)}function lG(e){return nr(0,[(e()(),Bl(0,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"td",[["style","width: 10%;"]],null,null,null,null,null)),(e()(),Ql(2,null,["",""])),(e()(),Bl(3,0,null,null,1,"td",[["style","width: 20%;"]],null,null,null,null,null)),(e()(),Ql(4,null,["",""])),(e()(),Bl(5,0,null,null,1,"td",[["style","width: 70%;"]],null,null,null,null,null)),(e()(),Ql(6,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.$implicit.week),e(t,4,0,t.context.$implicit.date),e(t,6,0,t.context.$implicit.topic)}))}function rG(e){return nr(0,[(e()(),Bl(0,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"td",[["style","width: 10%;"]],null,null,null,null,null)),(e()(),Ql(2,null,["",""])),(e()(),Bl(3,0,null,null,1,"td",[["style","width: 20%;"]],null,null,null,null,null)),(e()(),Ql(4,null,["",""])),(e()(),Bl(5,0,null,null,1,"td",[["style","width: 70%;"]],null,null,null,null,null)),(e()(),Ql(6,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.$implicit.lab),e(t,4,0,t.context.$implicit.week),e(t,6,0,t.context.$implicit.desc)}))}function aG(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"td",[["style","width: 10%;"]],null,null,null,null,null)),(e()(),Ql(2,null,["",""])),(e()(),Bl(3,0,null,null,1,"td",[["style","width: 90%;"]],null,null,null,null,null)),(e()(),Ql(4,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.$implicit.number),e(t,4,0,t.context.$implicit.outcome)}))}function oG(e){return nr(0,[(e()(),Bl(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(2,null,[""," "])),(e()(),Bl(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(4,null,[""," "]))],null,(function(e,t){e(t,2,0,t.context.$implicit.type),e(t,4,0,t.context.$implicit.percentage)}))}function hG(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(1,null,["",":",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.id,t.context.$implicit.outcome)}))}function cG(e){return nr(0,[as(0,No,[zs]),(e()(),Bl(1,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),rs(2,81920,null,0,Zb,[[2,qb],hn,Gb],null,null),(e()(),Ql(-1,null,["Preview Outline"])),(e()(),Bl(4,0,null,null,111,"mat-dialog-content",[["class","mat-typography mat-dialog-content"]],null,null,null,null,null)),rs(5,16384,null,0,Jb,[],null,null),(e()(),Bl(6,0,null,null,109,"div",[["id","contentToConvert"]],null,null,null,null,null)),(e()(),Bl(7,0,null,null,108,"table",[["style","width: 100%;"]],null,null,null,null,null)),(e()(),Bl(8,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Bl(9,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Bl(10,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ql(11,null,[""," ",""])),(e()(),Bl(12,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Bl(13,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,eG)),rs(15,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(16,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Bl(17,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,tG)),rs(19,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(20,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Bl(21,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,sG)),rs(23,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(24,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),Bl(25,0,null,null,9,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),Bl(26,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Bl(27,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Time Table(s)"])),(e()(),Bl(29,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(30,null,[" "," ",", ",""])),(e()(),Bl(31,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(32,null,[" "," ",", ",""])),(e()(),Bl(33,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(34,null,[" (Lab) "," ",", ",""])),(e()(),Bl(35,0,null,null,4,"tr",[["style","width: 100%;"]],null,null,null,null,null)),(e()(),Bl(36,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(37,null,["Program Name: ",""])),(e()(),Bl(38,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(39,null,["Program Code: ",""])),(e()(),Bl(40,0,null,null,9,"tr",[],null,null,null,null,null)),(e()(),Bl(41,0,null,null,8,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Bl(42,0,null,null,7,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Bl(43,0,null,null,6,"tr",[["style","width: 100%;"]],null,null,null,null,null)),(e()(),Bl(44,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(45,null,["Course Code: ",""])),(e()(),Bl(46,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(47,null,["Credits: ",""])),(e()(),Bl(48,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ql(49,null,["Year/Semester: ",""])),(e()(),Bl(50,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Bl(51,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Ql(52,null,[" Course Type: "," "])),(e()(),Bl(53,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Bl(54,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Ql(55,null,[" Course Description: "," "])),(e()(),Bl(56,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Bl(57,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Ql(58,null,[" Textbooks: "," "])),(e()(),Bl(59,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Bl(60,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Ql(61,null,[" Reading List: "," "])),(e()(),Bl(62,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(63,0,null,null,3,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Bl(64,0,null,null,2,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,lG)),rs(66,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(67,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(68,0,null,null,3,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Bl(69,0,null,null,2,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,rG)),rs(71,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(72,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(73,0,null,null,3,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Bl(74,0,null,null,2,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,aG)),rs(76,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(77,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),Bl(78,0,null,null,10,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Bl(79,0,null,null,9,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Bl(80,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Bl(81,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Bl(82,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Assessments"])),(e()(),Bl(84,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ql(-1,null,["Percentage(%)"])),(e()(),Bl(86,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,oG)),rs(88,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(89,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Bl(90,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Ql(91,null,[" Attendance grade: "," "])),(e()(),Bl(92,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Bl(93,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Ql(94,null,[" Policy on makeups: "," "])),(e()(),Bl(95,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Bl(96,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Ql(97,null,[" Policy on the NG grade: "," "])),(e()(),Bl(98,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Bl(99,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Ql(100,null,[" Policy on missed labs: "," "])),(e()(),Bl(101,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Bl(102,0,null,null,2,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Hl(16777216,null,null,1,null,hG)),rs(104,278528,null,0,wo,[Nn,Pn,In],{ngForOf:[0,"ngForOf"]},null),(e()(),Bl(105,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),Bl(106,0,null,null,9,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),Bl(107,0,null,null,8,"table",[["class","nested"],["override",""],["style","width: 100%;border: none;"]],null,null,null,null,null)),(e()(),Bl(108,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Bl(109,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Bl(110,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ql(111,null,["Prepared by: ",": "," ",""])),(e()(),Bl(112,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),Bl(113,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Ql(114,null,["Date Prepared: ",""])),Jl(128,115,Fe(2)),(e()(),Bl(116,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),rs(117,16384,null,0,Qb,[],null,null),(e()(),Bl(118,0,null,null,3,"button",[["class","mat-focus-indicator"],["mat-button",""],["mat-dialog-close",""]],[[1,"aria-label",0],[1,"type",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ki(e,119).dialogRef.close(Ki(e,119).dialogResult)&&i),i}),DE,IE)),rs(119,606208,null,0,Kb,[[2,qb],hn,Gb],{dialogResult:[0,"dialogResult"]},null),rs(120,180224,null,0,kE,[hn,vv,[2,uk]],null,null),(e()(),Ql(-1,0,["Cancel"])),(e()(),Bl(122,0,null,null,3,"button",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"aria-label",0],[1,"type",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==Ki(e,123).dialogRef.close(Ki(e,123).dialogResult)&&i),"click"===t&&(i=!1!==s.print()&&i),i}),DE,IE)),rs(123,606208,null,0,Kb,[[2,qb],hn,Gb],{dialogResult:[0,"dialogResult"]},null),rs(124,180224,null,0,kE,[hn,vv,[2,uk]],null,null),(e()(),Ql(-1,0,["Save"]))],(function(e,t){var n=t.component;e(t,2,0),e(t,15,0,n.data.instructor),e(t,19,0,n.data.selectedAssistant),e(t,23,0,n.data.selectedAssistant),e(t,66,0,n.data.fieldArray),e(t,71,0,n.data.labArray),e(t,76,0,n.data.learningOutcomeArray),e(t,88,0,n.data.assessmentArray),e(t,104,0,n.data.selectedStudentOutcomes),e(t,119,0,""),e(t,123,0,!0)}),(function(e,t){var n=t.component;e(t,1,0,Ki(t,2).id),e(t,11,0,null==n.data.selectedCourse?null:n.data.selectedCourse.courseCode,null==n.data.selectedCourse?null:n.data.selectedCourse.name),e(t,30,0,n.data.lectureFormGroup.get("day1").value,n.data.lectureFormGroup.get("time1").value,n.data.lectureFormGroup.get("room1").value),e(t,32,0,n.data.lectureFormGroup.get("day2").value,n.data.lectureFormGroup.get("time2").value,n.data.lectureFormGroup.get("room2").value),e(t,34,0,n.data.labFormGroup.get("day").value,n.data.labFormGroup.get("time").value,n.data.labFormGroup.get("labRoom").value),e(t,37,0,null==n.data.selectedProg?null:n.data.selectedProg.programName),e(t,39,0,null==n.data.selectedProg?null:n.data.selectedProg.programCode),e(t,45,0,null==n.data.selectedCourse?null:n.data.selectedCourse.courseCode),e(t,47,0,null==n.data.selectedCourse?null:n.data.selectedCourse.credits),e(t,49,0,n.data.yearSemesterForm.get("yearSemester").value),e(t,52,0,n.data.reqOrElec),e(t,55,0,n.data.courseDesc),e(t,58,0,n.data.textBooks),e(t,61,0,n.data.readingList),e(t,91,0,n.data.attendanceGrade),e(t,94,0,n.data.makeupPolicy),e(t,97,0,n.data.NGPolicy),e(t,100,0,n.data.missedLabs),e(t,111,0,null==n.data.instructor?null:n.data.instructor.title,null==n.data.instructor?null:n.data.instructor.name,null==n.data.instructor?null:n.data.instructor.surName);var i=Zn(t,114,0,e(t,115,0,Ki(t,0),n.data.dateGroup.get("date").value));e(t,114,0,i),e(t,118,0,Ki(t,119).ariaLabel||null,Ki(t,119).type,Ki(t,120).disabled||null,"NoopAnimations"===Ki(t,120)._animationMode),e(t,122,0,Ki(t,123).ariaLabel||null,Ki(t,123).type,Ki(t,124).disabled||null,"NoopAnimations"===Ki(t,124)._animationMode)}))}function dG(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"app-outlinePreview",[],null,null,null,cG,Q$)),rs(1,114688,null,0,dO,[qb,Ub,eg],null,null)],(function(e,t){e(t,1,0)}),null)}var uG=Bi("app-outlinePreview",dO,dG,{},{},[]);class pG{constructor(e){this._elementRef=e}}const mG=Iv(pG);class fG{}class gG extends mG{constructor(e,t,n){super(e),this._platform=t,this._document=n}ngAfterViewInit(){nt()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(e=>!(e.classList&&e.classList.contains("mat-toolbar-row"))).filter(e=>e.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(e=>!(!e.textContent||!e.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}class bG{}var vG=Jn({encapsulation:2,styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],data:{}});function yG(e){return nr(2,[Xl(null,0),Xl(null,1)],null,null)}class wG{constructor(e,t,n){this.authService=e,this.alertify=t,this.router=n}ngOnInit(){}loggedIn(){return this.authService.isLoggedIn()}logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.authService.decodedToken=null,this.authService.currentUser=null,this.alertify.message("logged out"),this.router.navigate(["login"])}}var CG=Jn({encapsulation:0,styles:[[".mat-toolbar[_ngcontent-%COMP%]{background-color:#2b7ae0}"]],data:{}});function xG(e){return nr(0,[(e()(),Bl(0,0,null,null,6,"div",[["class","mat-toolbar-row"],["style","display: flex; justify-content: flex-end; margin-right: 20px;"]],null,null,null,null,null)),(e()(),Bl(1,0,null,null,1,"a",[["style","margin-right: 10px; text-align: justify;"]],null,null,null,null,null)),(e()(),Ql(2,null,[" Welcome "," "])),(e()(),Bl(3,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Bl(4,0,null,null,2,"a",[["class","mat-icon"],["routerLink","/login"],["style","font-size:38px; cursor: pointer; color: #E2E4E6;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,s=e.component;return"click"===t&&(i=!1!==Ki(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==s.logout()&&i),i}),null,null)),rs(5,671744,null,0,KC,[XC,Bw,Aa],{routerLink:[0,"routerLink"]},null),(e()(),Bl(6,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null))],(function(e,t){e(t,5,0,"/login")}),(function(e,t){var n=t.component;e(t,2,0,null==n.authService.decodedToken?null:n.authService.decodedToken.unique_name),e(t,4,0,Ki(t,5).target,Ki(t,5).href)}))}function _G(e){return nr(0,[(e()(),Bl(0,0,null,null,25,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,yG,vG)),rs(1,4243456,null,1,gG,[hn,Pg,wa],{color:[0,"color"]},null),Ul(603979776,1,{_toolbarRows:1}),(e()(),Bl(3,0,null,1,22,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),rs(4,16384,[[1,4]],0,fG,[],null,null),(e()(),Bl(5,0,null,null,18,"div",[["class","col"]],null,null,null,null,null)),(e()(),Bl(6,0,null,null,17,"div",[["class","mat-toolbar-row"]],null,null,null,null,null)),(e()(),Bl(7,0,null,null,16,"div",[],null,null,null,null,null)),(e()(),Bl(8,0,null,null,3,"a",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ki(e,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==Ki(e,10)._haltDisabledEvents(n)&&i),i}),ME,AE)),rs(9,671744,null,0,KC,[XC,Bw,Aa],{routerLink:[0,"routerLink"]},null),rs(10,180224,null,0,EE,[vv,hn,[2,uk]],null,null),(e()(),Ql(-1,0,[" Create Outline "])),(e()(),Bl(12,0,null,null,3,"a",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ki(e,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==Ki(e,14)._haltDisabledEvents(n)&&i),i}),ME,AE)),rs(13,671744,null,0,KC,[XC,Bw,Aa],{routerLink:[0,"routerLink"]},null),rs(14,180224,null,0,EE,[vv,hn,[2,uk]],null,null),(e()(),Ql(-1,0,[" Score Sheet "])),(e()(),Bl(16,0,null,null,3,"a",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ki(e,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==Ki(e,18)._haltDisabledEvents(n)&&i),i}),ME,AE)),rs(17,671744,null,0,KC,[XC,Bw,Aa],{routerLink:[0,"routerLink"]},null),rs(18,180224,null,0,EE,[vv,hn,[2,uk]],null,null),(e()(),Ql(-1,0,[" Check List "])),(e()(),Bl(20,0,null,null,3,"a",[["class","mat-focus-indicator"],["mat-button",""]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ki(e,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==Ki(e,22)._haltDisabledEvents(n)&&i),i}),ME,AE)),rs(21,671744,null,0,KC,[XC,Bw,Aa],{routerLink:[0,"routerLink"]},null),rs(22,180224,null,0,EE,[vv,hn,[2,uk]],null,null),(e()(),Ql(-1,0,[" Evaluation "])),(e()(),Hl(16777216,null,null,1,null,xG)),rs(25,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"primary"),e(t,9,0,"/outline"),e(t,13,0,"/scoreSheet"),e(t,17,0,"/checkList"),e(t,21,0,"/evaluation"),e(t,25,0,n.loggedIn())}),(function(e,t){e(t,0,0,Ki(t,1)._toolbarRows.length>0,0===Ki(t,1)._toolbarRows.length),e(t,8,0,Ki(t,9).target,Ki(t,9).href,Ki(t,10).disabled?-1:Ki(t,10).tabIndex||0,Ki(t,10).disabled||null,Ki(t,10).disabled.toString(),"NoopAnimations"===Ki(t,10)._animationMode),e(t,12,0,Ki(t,13).target,Ki(t,13).href,Ki(t,14).disabled?-1:Ki(t,14).tabIndex||0,Ki(t,14).disabled||null,Ki(t,14).disabled.toString(),"NoopAnimations"===Ki(t,14)._animationMode),e(t,16,0,Ki(t,17).target,Ki(t,17).href,Ki(t,18).disabled?-1:Ki(t,18).tabIndex||0,Ki(t,18).disabled||null,Ki(t,18).disabled.toString(),"NoopAnimations"===Ki(t,18)._animationMode),e(t,20,0,Ki(t,21).target,Ki(t,21).href,Ki(t,22).disabled?-1:Ki(t,22).tabIndex||0,Ki(t,22).disabled||null,Ki(t,22).disabled.toString(),"NoopAnimations"===Ki(t,22)._animationMode)}))}var SG=Jn({encapsulation:0,styles:[[""]],data:{}});function kG(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"app-navbar",[],null,null,null,_G,CG)),rs(1,114688,null,0,wG,[Hx,Vx,XC],null,null)],(function(e,t){e(t,1,0)}),null)}function EG(e){return nr(0,[(e()(),Hl(16777216,null,null,1,null,kG)),rs(1,16384,null,0,xo,[Nn,Pn],{ngIf:[0,"ngIf"]},null),(e()(),Bl(2,0,null,null,0,"div",[["class","loading"]],null,null,null,null,null)),(e()(),Bl(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),rs(4,212992,null,0,ex,[QC,Nn,ln,[8,null],At],null,null)],(function(e,t){e(t,1,0,t.component.isLogged()),e(t,4,0)}),null)}function OG(e){return nr(0,[(e()(),Bl(0,0,null,null,1,"app-root",[],null,null,null,EG,SG)),rs(1,114688,null,0,_h,[Hx],null,null)],(function(e,t){e(t,1,0)}),null)}var IG=Bi("app-root",_h,OG,{},{},[]);class DG{intercept(e,t){return t.handle(e).pipe(Cy(e=>{if(e instanceof eh){if(401===e.status)return xd(e.statusText);const t=e.headers.get("Aplication-Error");if(t)return xd(t);const n=e.error;let i="";if(n.errors&&"object"==typeof n.errors)for(const e in n.errors)n.errors[e]&&(i+=n.errors[e]+"\n");else if(n&&"object"==typeof n)for(const e in n)n[e]&&(i+=n[e]+"\n");return xd(i||n||"Server Error")}}))}}n("zwY0");class AG{constructor(){this.altFormat="F j, Y",this.altInput=!1,this.altInputClass="",this.allowInput=!1,this.appendTo=void 0,this.ariaDateFormat="F j, Y",this.clickOpens=!0,this.dateFormat="Y-m-d",this.defaultHour=12,this.defaultMinute=0,this.defaultSeconds=0,this.disable=[],this.disableMobile=!1,this.enable=[],this.enableTime=!1,this.enableSeconds=!1,this.formatDate=void 0,this.hourIncrement=1,this.inline=!1,this.maxDate=void 0,this.minDate=void 0,this.minuteIncrement=5,this.mode="single",this.nextArrow=">",this.noCalendar=!1,this.now=new Date,this.prevArrow="<",this.shorthandCurrentMonth=!1,this.static=!1,this.time24hr=!1,this.utc=!1,this.weekNumbers=!1,this.wrap=!1,this.plugins=[],this.locale="default",this.convertModelValue=!1,this.showMonths=1}}const MG=new xe("flatpickr defaults");function TG(e){const t=new AG;return Object.assign(t,e),t}class PG{static forRoot(e={}){return{ngModule:PG,providers:[{provide:MG,useValue:e},{provide:AG,useFactory:TG,deps:[MG]}]}}}let LG=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.alertify=n}canActivate(){return!!this.authService.isLoggedIn()||(this.alertify.error("You shall not pass !!"),this.router.navigate(["/login"]),!1)}}return e.\u0275prov=oe({factory:function(){return new e(De(Hx),De(XC),De(Vx))},token:e,providedIn:"root"}),e})();class NG{}class RG{}class FG{}class HG{}class BG{}class VG{}class jG{}var zG=aa(da,[_h],(function(e){return function(e){const t={},n=[];let i=null;for(let s=0;s<e.length;s++){const l=e[s];l.token===Tt&&(i=l.value),1073741824&l.flags&&n.push(l.token),l.index=s,t[Kn(l.token)]=l}return{factory:null,providersByKey:t,providers:e,modules:n,scope:i}}([Ti(512,ln,rn,[[8,[qu,pp,Zp,tm,Mp,Np,zp,og,ug,oy,kx,Wx,NO,LV,KV,Uj,ZE,NE,bY,qY,AY,$Y,uG,IG]],[3,ln],Pe]),Ti(5120,zs,Nl,[[3,zs]]),Ti(4608,fo,go,[zs]),Ti(4608,Ek,Ek,[]),Ti(4608,Wv,Wv,[]),Ti(4608,Wh,Wh,[]),Ti(4608,xu,xu,[ln,Lt,Cu,uu]),Ti(4608,Fc,Fc,[]),Ti(5120,_s,Rl,[Qs]),Ti(5120,Ns,Rs,[]),Ti(5120,In,Pl,[]),Ti(5120,Dn,Ll,[]),Ti(4608,eg,tg,[wa]),Ti(6144,fn,null,[eg]),Ti(4608,Wf,$f,[]),Ti(5120,Af,(function(e,t,n,i,s,l,r,a){return[new qf(e,t,n),new Qf(i),new Gf(s,l,r,a)]}),[wa,Qs,Bs,wa,wa,Wf,js,[2,Yf]]),Ti(4608,Mf,Mf,[Af,Qs]),Ti(135680,Lf,Lf,[wa]),Ti(4608,Bf,Bf,[Mf,Lf,Ns]),Ti(5120,C_,hk,[]),Ti(5120,cS,ck,[]),Ti(4608,FS,ok,[wa,C_,cS]),Ti(5120,dn,dk,[Bf,FS,Qs]),Ti(6144,Pf,null,[Lf]),Ti(4608,al,al,[Qs]),Ti(4608,kb,kb,[ab,fb,ln,_b,pb,Lt,Qs,wa,Ab,[2,Na]]),Ti(5120,Eb,Ob,[kb]),Ti(5120,Yb,$b,[kb]),Ti(135680,Gb,Gb,[kb,Lt,[2,Na],[2,Wb],Yb,[3,Gb],fb]),Ti(5120,Bw,bx,[XC]),Ti(4608,sx,sx,[]),Ti(6144,nx,null,[sx]),Ti(135680,lx,lx,[XC,wl,Xs,Lt,nx]),Ti(4608,ix,ix,[]),Ti(5120,rx,ux,[XC,Ho,ax]),Ti(5120,Cx,wx,[vx]),Ti(5120,Vs,(function(e){return[e]}),[Cx]),Ti(4608,Pb,tk,[dn,wa]),Ti(4608,uh,ph,[wa,Bs,ch]),Ti(4608,mh,mh,[uh,dh]),Ti(4608,yh,yh,[vh]),Ti(5120,sh,(function(e,t,n){return[e,new wh(t,n),new DG]}),[mh,vh,yh]),Ti(4608,oh,oh,[]),Ti(6144,ah,null,[oh]),Ti(4608,hh,hh,[ah]),Ti(6144,jo,null,[hh]),Ti(4608,Vo,fh,[jo,Lt]),Ti(4608,nh,nh,[Vo]),Ti(4608,Uk,Uk,[]),Ti(5120,nE,iE,[kb]),Ti(4608,Pv,jv,[[2,Tv],Pg]),Ti(4608,RV,RV,[]),Ti(5120,AG,TG,[MG]),Ti(4608,iW,iW,[dn,Bs]),Ti(4608,uW,uW,[ln,Qs,Lt,iW,vl]),Ti(4608,LW,LW,[]),Ti(4608,fW,fW,[]),Ti(4608,pW,pW,[]),Ti(4608,HW,HW,[]),Ti(4608,RW,RW,[]),Ti(4608,gW,gW,[]),Ti(4608,bW,bW,[fW,gW]),Ti(4608,QW,QW,[]),Ti(4608,No,No,[zs]),Ti(5120,"BASE_URL",ca,[]),Ti(4608,Hx,Hx,[nh,"BASE_URL"]),Ti(4608,Vx,Vx,[]),Ti(4608,LG,LG,[Hx,XC,Vx]),Ti(4608,pO,pO,[nh,"BASE_URL"]),Ti(1073742336,Ro,Ro,[]),Ti(1073742336,EV,EV,[]),Ti(1073742336,OV,OV,[]),Ti(1073742336,Lg,Lg,[]),Ti(1073742336,mE,mE,[]),Ti(1073742336,Mb,Mb,[]),Ti(1073742336,Ev,Ev,[Cv,[2,kv],[2,wa]]),Ti(1073742336,Dk,Dk,[]),Ti(1073742336,kk,kk,[]),Ti(1073742336,CE,CE,[]),Ti(1073742336,Ad,Ad,[]),Ti(1073742336,Pd,Pd,[]),Ti(1073742336,Ld,Ld,[]),Ti(1073742336,Nd,Nd,[]),Ti(1073742336,Rd,Rd,[]),Ti(1073742336,Rc,Rc,[]),Ti(1073742336,Hc,Hc,[]),Ti(1073742336,cu,cu,[]),Ti(1073742336,du,du,[]),Ti(1073742336,_u,_u,[]),Ti(1073742336,Su,Su,[]),Ti(1073742336,ku,ku,[]),Ti(1073742336,Ou,Ou,[]),Ti(1073742336,Iu,Iu,[]),Ti(1073742336,Du,Du,[]),Ti(1073742336,Mu,Mu,[]),Ti(1073742336,Tu,Tu,[]),Ti(1073742336,Lu,Lu,[]),Ti(1073742336,Fu,Fu,[]),Ti(1073742336,Au,Au,[]),Ti(1073742336,Hu,Hu,[]),Ti(1073742336,wf,wf,[]),Ti(1073742336,Bc,Bc,[]),Ti(1073742336,ty,ty,[]),Ti(1073742336,e_,e_,[]),Ti(1024,Ue,ng,[]),Ti(1024,pl,(function(){return[cx()]}),[]),Ti(512,vx,vx,[Lt]),Ti(1024,Ps,(function(e,t){return[(n=e,Of("probe",Df),Of("coreTokens",Object.assign(Object.assign({},If),function(e){return e.reduce((e,t)=>(e[t.name]=t.token,e),{})}(n||[]))),()=>Df),yx(t)];var n}),[[2,pl],vx]),Ti(512,Ls,Ls,[[2,Ps]]),Ti(131584,vl,vl,[Qs,js,Lt,Ue,ln,Ls]),Ti(1073742336,Fl,Fl,[vl]),Ti(1073742336,sg,sg,[[3,sg]]),Ti(1073742336,BV,BV,[]),Ti(1073742336,NG,NG,[]),Ti(1073742336,Qg,Qg,[]),Ti(1073742336,qg,qg,[]),Ti(1073742336,Ug,Ug,[]),Ti(1073742336,Ib,Ib,[]),Ti(1073742336,tv,tv,[]),Ti(1024,ox,mx,[[3,XC]]),Ti(512,bw,vw,[]),Ti(512,QC,QC,[]),Ti(256,ax,{},[]),Ti(1024,Aa,px,[Ca,[2,Ta],ax]),Ti(512,Na,Na,[Aa,Ca]),Ti(512,Xs,Xs,[]),Ti(512,wl,_l,[Xs,[2,Cl]]),Ti(1024,zC,(function(){return[[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Fx},{path:"outline",component:uO,canActivate:[LG]},{path:"scoreSheet",component:AV,canActivate:[LG]},{path:"evaluation",component:UV,canActivate:[LG]},{path:"checkList",component:ZV,canActivate:[LG]}]]}),[]),Ti(1024,XC,gx,[bw,QC,Na,Lt,wl,Xs,zC,ax,[2,UC],[2,VC]]),Ti(1073742336,dx,dx,[[2,ox],[2,XC]]),Ti(1073742336,RG,RG,[]),Ti(1073742336,PG,PG,[]),Ti(1073742336,pk,pk,[]),Ti(1073742336,gh,gh,[]),Ti(1073742336,bh,bh,[]),Ti(1073742336,bG,bG,[]),Ti(1073742336,FG,FG,[]),Ti(1073742336,Yv,Yv,[]),Ti(1073742336,ny,ny,[]),Ti(1073742336,HG,HG,[]),Ti(1073742336,BG,BG,[]),Ti(1073742336,Ax,Ax,[]),Ti(1073742336,VG,VG,[]),Ti(1073742336,jG,jG,[]),Ti(1073742336,OE,OE,[]),Ti(1073742336,xv,xv,[Cv]),Ti(1073742336,dE,dE,[]),Ti(1073742336,qv,qv,[]),Ti(1073742336,Uv,Uv,[]),Ti(1073742336,KW,KW,[]),Ti(1073742336,sY,sY,[]),Ti(1073742336,xh,xh,[[3,xh]]),Ti(1073742336,da,da,[]),Ti(256,"SpreadsheetClipboard",uB,[]),Ti(256,"SpreadsheetEdit",pB,[]),Ti(256,"SpreadsheetKeyboardNavigation",bB,[]),Ti(256,"SpreadsheetKeyboardShortcut",vB,[]),Ti(256,"SpreadsheetCollaborativeEditing",CB,[]),Ti(256,"SpreadsheetSelection",mB,[]),Ti(256,"SpreadsheetContextMenu",qB,[]),Ti(256,"SpreadsheetFormulaBar",HB,[]),Ti(256,"SpreadsheetRibbon",FB,[]),Ti(256,"SpreadsheetSave",zB,[]),Ti(256,"SpreadsheetOpen",jB,[]),Ti(256,"SpreadsheetSheetTabs",VB,[]),Ti(256,"SpreadsheetDataBind",cF,[]),Ti(256,"SpreadsheetAllModule",GB,[]),Ti(256,"SpreadsheetBasicModule",$B,[]),Ti(256,"SpreadsheetCellFormat",yB,[]),Ti(256,"SpreadsheetNumberFormat",UB,[]),Ti(256,"SpreadsheetFormula",BB,[]),Ti(256,qs,"USD",[]),Ti(256,Tt,"root",[]),Ti(256,uk,"BrowserAnimations",[]),Ti(256,ch,"XSRF-TOKEN",[]),Ti(256,dh,"X-XSRF-TOKEN",[]),Ti(256,vh,{tokenGetter:ha,whitelistedDomains:["localhost:5000"],blacklistedRoutes:["localhost:5000/auth"]},[]),Ti(256,Lv,zv,[]),Ti(256,MG,{},[])])}));(function(){if(tt)throw new Error("Cannot enable prod mode after platform setup.");et=!1})(),ig().bootstrapModuleFactory(zG).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zwY0:function(e,t,n){e.exports=function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},i={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},s=function(e){return("0"+e).slice(-2)},l=function(e){return!0===e?1:0};function r(e,t,n){var i;return void 0===n&&(n=!1),function(){var s=this,l=arguments;null!==i&&clearTimeout(i),i=window.setTimeout((function(){i=null,n||e.apply(s,l)}),t),n&&!i&&e.apply(s,l)}}var a=function(e){return e instanceof Array?e:[e]};function o(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function h(e,t,n){var i=window.document.createElement(e);return n=n||"",i.className=t=t||"",void 0!==n&&(i.textContent=n),i}function c(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(e,t){var n=h("div","numInputWrapper"),i=h("input","numInput "+e),s=h("span","arrowUp"),l=h("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var r in t)i.setAttribute(r,t[r]);return n.appendChild(i),n.appendChild(s),n.appendChild(l),n}var u=function(){},p=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},m={D:u,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*l(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),s=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return s.setDate(s.getDate()-s.getDay()+n.firstDayOfWeek),s},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:u,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:u,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},f={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},g={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[g.w(e,t,n)]},F:function(e,t,n){return p(g.n(e,t,n)-1,!1,t)},G:function(e,t,n){return s(g.h(e,t,n))},H:function(e){return s(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[l(e.getHours()>11)]},M:function(e,t){return p(e.getMonth(),!0,t)},S:function(e){return s(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return s(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return s(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return s(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},b=function(e){var t=e.config,s=void 0===t?n:t,l=e.l10n,r=void 0===l?i:l;return function(e,t,n){var i=n||r;return void 0!==s.formatDate?s.formatDate(e,t,i):t.split("").map((function(t,n,l){return g[t]&&"\\"!==l[n-1]?g[t](e,i,s):"\\"!==t?t:""})).join("")}},v=function(e){var t=e.config,s=void 0===t?n:t,l=e.l10n,r=void 0===l?i:l;return function(e,t,i,l){if(0===e||e){var a,o=l||r,h=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else if("string"==typeof e){var c=t||(s||n).dateFormat,d=String(e).trim();if("today"===d)a=new Date,i=!0;else if(/Z$/.test(d)||/GMT$/.test(d))a=new Date(e);else if(s&&s.parseDate)a=s.parseDate(e,c);else{a=s&&s.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var u=void 0,p=[],g=0,b=0,v="";g<c.length;g++){var y=c[g],w="\\"===y;if(f[y]&&"\\"!==c[g-1]&&!w){v+=f[y];var C=new RegExp(v).exec(e);C&&(u=!0)&&p["Y"!==y?"push":"unshift"]({fn:m[y],val:C[++b]})}else w||(v+=".");p.forEach((function(e){return a=(0,e.fn)(a,e.val,o)||a}))}a=u?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===i&&a.setHours(0,0,0,0),a;s.errorHandler(new Error("Invalid date provided: "+h))}}};function y(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function w(u,m){var g={config:e({},n,x.defaultConfig),l10n:i};function w(e){return e.bind(g)}function C(){var e=g.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer){var t=(g.days.offsetWidth+1)*e.showMonths;g.daysContainer.style.width=t+"px",g.calendarContainer.style.width=t+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display")}}))}function _(e){0===g.selectedDates.length&&te(),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==g.amPM&&e.target===g.amPM&&(g.amPM.textContent=g.l10n.amPM[l(g.amPM.textContent===g.l10n.amPM[0])]);var i=parseFloat(n.getAttribute("min")),r=parseFloat(n.getAttribute("max")),a=parseFloat(n.getAttribute("step")),o=parseInt(n.value,10),h=o+a*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==n.value&&2===n.value.length){var c=n===g.hourElement,d=n===g.minuteElement;h<i?(h=r+h+l(!c)+(l(c)&&l(!g.amPM)),d&&L(void 0,-1,g.hourElement)):h>r&&(h=n===g.hourElement?h-r-l(!g.amPM):i,d&&L(void 0,1,g.hourElement)),g.amPM&&c&&(1===a?h+o===23:Math.abs(h-o)>a)&&(g.amPM.textContent=g.l10n.amPM[l(g.amPM.textContent===g.l10n.amPM[0])]),n.value=s(h)}}(e);var t=g._input.value;S(),ge(),g._input.value!==t&&g._debouncedChange()}function S(){if(void 0!==g.hourElement&&void 0!==g.minuteElement){var e=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(g.minuteElement.value,10)||0)%60,n=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0;void 0!==g.amPM&&(e=e%12+12*l(g.amPM.textContent===g.l10n.amPM[1]));var i=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===y(g.latestSelectedDateObj,g.config.minDate,!0);if(void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===y(g.latestSelectedDateObj,g.config.maxDate,!0)){var s=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate;(e=Math.min(e,s.getHours()))===s.getHours()&&(t=Math.min(t,s.getMinutes())),t===s.getMinutes()&&(n=Math.min(n,s.getSeconds()))}if(i){var r=void 0!==g.config.minTime?g.config.minTime:g.config.minDate;(e=Math.max(e,r.getHours()))===r.getHours()&&(t=Math.max(t,r.getMinutes())),t===r.getMinutes()&&(n=Math.max(n,r.getSeconds()))}O(e,t,n)}}function k(e){var t=e||g.latestSelectedDateObj;t&&O(t.getHours(),t.getMinutes(),t.getSeconds())}function E(){var e=g.config.defaultHour,t=g.config.defaultMinute,n=g.config.defaultSeconds;if(void 0!==g.config.minDate){var i=g.config.minDate.getHours(),s=g.config.minDate.getMinutes();(e=Math.max(e,i))===i&&(t=Math.max(s,t)),e===i&&t===s&&(n=g.config.minDate.getSeconds())}if(void 0!==g.config.maxDate){var l=g.config.maxDate.getHours(),r=g.config.maxDate.getMinutes();(e=Math.min(e,l))===l&&(t=Math.min(r,t)),e===l&&t===r&&(n=g.config.maxDate.getSeconds())}O(e,t,n)}function O(e,t,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(e%24,t,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=s(g.config.time_24hr?e:(12+e)%12+12*l(e%12==0)),g.minuteElement.value=s(t),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[l(e>=12)]),void 0!==g.secondElement&&(g.secondElement.value=s(n)))}function I(e){var t=parseInt(e.target.value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&X(t)}function D(e,t,n,i){return t instanceof Array?t.forEach((function(t){return D(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return D(e,t,n,i)})):(e.addEventListener(t,n,i),void g._handlers.push({element:e,event:t,handler:n,options:i}))}function A(e){return function(t){1===t.which&&e(t)}}function M(){de("onChange")}function T(e,t){var n=void 0!==e?g.parseDate(e):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now),i=g.currentYear,s=g.currentMonth;try{void 0!==n&&(g.currentYear=n.getFullYear(),g.currentMonth=n.getMonth())}catch(l){l.message="Invalid date supplied: "+n,g.config.errorHandler(l)}t&&g.currentYear!==i&&(de("onYearChange"),j()),!t||g.currentYear===i&&g.currentMonth===s||de("onMonthChange"),g.redraw()}function P(e){~e.target.className.indexOf("arrow")&&L(e,e.target.classList.contains("arrowUp")?1:-1)}function L(e,t,n){var i=e&&e.target,s=n||i&&i.parentNode&&i.parentNode.firstChild,l=ue("increment");l.delta=t,s&&s.dispatchEvent(l)}function N(e,t,n,i){var s=K(t,!0),l=h("span","flatpickr-day "+e,t.getDate().toString());return l.dateObj=t,l.$i=i,l.setAttribute("aria-label",g.formatDate(t,g.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===y(t,g.now)&&(g.todayDateElem=l,l.classList.add("today"),l.setAttribute("aria-current","date")),s?(l.tabIndex=-1,pe(t)&&(l.classList.add("selected"),g.selectedDateElem=l,"range"===g.config.mode&&(o(l,"startRange",g.selectedDates[0]&&0===y(t,g.selectedDates[0],!0)),o(l,"endRange",g.selectedDates[1]&&0===y(t,g.selectedDates[1],!0)),"nextMonthDay"===e&&l.classList.add("inRange")))):l.classList.add("flatpickr-disabled"),"range"===g.config.mode&&function(e){return!("range"!==g.config.mode||g.selectedDates.length<2)&&y(e,g.selectedDates[0])>=0&&y(e,g.selectedDates[1])<=0}(t)&&!pe(t)&&l.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(t)+"</span>"),de("onDayCreate",l),l}function R(e){e.focus(),"range"===g.config.mode&&Q(e)}function F(e){for(var t=e>0?g.config.showMonths:-1,n=e>0?0:g.config.showMonths-1;n!=t;n+=e)for(var i=g.daysContainer.children[n],s=e>0?i.children.length:-1,l=e>0?0:i.children.length-1;l!=s;l+=e){var r=i.children[l];if(-1===r.className.indexOf("hidden")&&K(r.dateObj))return r}}function H(e,t){var n=Z(document.activeElement||document.body),i=void 0!==e?e:n?document.activeElement:void 0!==g.selectedDateElem&&Z(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&Z(g.todayDateElem)?g.todayDateElem:F(t>0?1:-1);return void 0===i?g._input.focus():n?void function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():g.currentMonth,i=t>0?g.config.showMonths:-1,s=t>0?1:-1,l=n-g.currentMonth;l!=i;l+=s)for(var r=g.daysContainer.children[l],a=r.children.length,o=n-g.currentMonth===l?e.$i+t:t<0?r.children.length-1:0;o>=0&&o<a&&o!=(t>0?a:-1);o+=s){var h=r.children[o];if(-1===h.className.indexOf("hidden")&&K(h.dateObj)&&Math.abs(e.$i-o)>=Math.abs(t))return R(h)}g.changeMonth(s),H(F(s),0)}(i,t):R(i)}function B(e,t){for(var n=(new Date(e,t,1).getDay()-g.l10n.firstDayOfWeek+7)%7,i=g.utils.getDaysInMonth((t-1+12)%12),s=g.utils.getDaysInMonth(t),l=window.document.createDocumentFragment(),r=g.config.showMonths>1,a=r?"prevMonthDay hidden":"prevMonthDay",o=r?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,d=0;c<=i;c++,d++)l.appendChild(N(a,new Date(e,t-1,c),c,d));for(c=1;c<=s;c++,d++)l.appendChild(N("",new Date(e,t,c),c,d));for(var u=s+1;u<=42-n&&(1===g.config.showMonths||d%7!=0);u++,d++)l.appendChild(N(o,new Date(e,t+1,u%s),u,d));var p=h("div","dayContainer");return p.appendChild(l),p}function V(){if(void 0!==g.daysContainer){c(g.daysContainer),g.weekNumbers&&c(g.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<g.config.showMonths;t++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),e.appendChild(B(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(e),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&Q()}}function j(){if(!(g.config.showMonths>1||"dropdown"!==g.config.monthSelectorType)){var e=function(e){return!(void 0!==g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&e<g.config.minDate.getMonth()||void 0!==g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()&&e>g.config.maxDate.getMonth())};g.monthsDropdownContainer.tabIndex=-1,g.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=h("option","flatpickr-monthDropdown-month");n.value=new Date(g.currentYear,t).getMonth().toString(),n.textContent=p(t,g.config.shorthandCurrentMonth,g.l10n),n.tabIndex=-1,g.currentMonth===t&&(n.selected=!0),g.monthsDropdownContainer.appendChild(n)}}}function z(){var e,t=h("div","flatpickr-month"),n=window.document.createDocumentFragment();g.config.showMonths>1||"static"===g.config.monthSelectorType?e=h("span","cur-month"):(g.monthsDropdownContainer=h("select","flatpickr-monthDropdown-months"),D(g.monthsDropdownContainer,"change",(function(e){var t=parseInt(e.target.value,10);g.changeMonth(t-g.currentMonth),de("onMonthChange")})),j(),e=g.monthsDropdownContainer);var i=d("cur-year",{tabindex:"-1"}),s=i.getElementsByTagName("input")[0];s.setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&s.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(s.setAttribute("max",g.config.maxDate.getFullYear().toString()),s.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear());var l=h("div","flatpickr-current-month");return l.appendChild(e),l.appendChild(i),n.appendChild(l),t.appendChild(n),{container:t,yearElement:s,monthElement:e}}function q(){c(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var e=g.config.showMonths;e--;){var t=z();g.yearElements.push(t.yearElement),g.monthElements.push(t.monthElement),g.monthNav.appendChild(t.container)}g.monthNav.appendChild(g.nextMonthNav)}function U(){g.weekdayContainer?c(g.weekdayContainer):g.weekdayContainer=h("div","flatpickr-weekdays");for(var e=g.config.showMonths;e--;){var t=h("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(t)}return W(),g.weekdayContainer}function W(){if(g.weekdayContainer){var e=g.l10n.firstDayOfWeek,t=g.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Y(e,t){void 0===t&&(t=!0);var n=t?e:e-g.currentMonth;n<0&&!0===g._hidePrevMonthArrow||n>0&&!0===g._hideNextMonthArrow||(g.currentMonth+=n,(g.currentMonth<0||g.currentMonth>11)&&(g.currentYear+=g.currentMonth>11?1:-1,g.currentMonth=(g.currentMonth+12)%12,de("onYearChange"),j()),V(),de("onMonthChange"),me())}function $(e){return!(!g.config.appendTo||!g.config.appendTo.contains(e))||g.calendarContainer.contains(e)}function G(e){if(g.isOpen&&!g.config.inline){var t="function"==typeof(r=e).composedPath?r.composedPath()[0]:r.target,n=$(t),i=t===g.input||t===g.altInput||g.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(g.input)||~e.path.indexOf(g.altInput)),s="blur"===e.type?i&&e.relatedTarget&&!$(e.relatedTarget):!i&&!n&&!$(e.relatedTarget),l=!g.config.ignoredFocusElements.some((function(e){return e.contains(t)}));s&&l&&(void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&_(),g.close(),"range"===g.config.mode&&1===g.selectedDates.length&&(g.clear(!1),g.redraw()))}var r}function X(e){if(!(!e||g.config.minDate&&e<g.config.minDate.getFullYear()||g.config.maxDate&&e>g.config.maxDate.getFullYear())){var t=g.currentYear!==e;g.currentYear=e||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),t&&(g.redraw(),de("onYearChange"),j())}}function K(e,t){void 0===t&&(t=!0);var n=g.parseDate(e,void 0,t);if(g.config.minDate&&n&&y(n,g.config.minDate,void 0!==t?t:!g.minDateHasTime)<0||g.config.maxDate&&n&&y(n,g.config.maxDate,void 0!==t?t:!g.maxDateHasTime)>0)return!1;if(0===g.config.enable.length&&0===g.config.disable.length)return!0;if(void 0===n)return!1;for(var i=g.config.enable.length>0,s=i?g.config.enable:g.config.disable,l=0,r=void 0;l<s.length;l++){if("function"==typeof(r=s[l])&&r(n))return i;if(r instanceof Date&&void 0!==n&&r.getTime()===n.getTime())return i;if("string"==typeof r&&void 0!==n){var a=g.parseDate(r,void 0,!0);return a&&a.getTime()===n.getTime()?i:!i}if("object"==typeof r&&void 0!==n&&r.from&&r.to&&n.getTime()>=r.from.getTime()&&n.getTime()<=r.to.getTime())return i}return!i}function Z(e){return void 0!==g.daysContainer&&-1===e.className.indexOf("hidden")&&g.daysContainer.contains(e)}function J(e){var t=e.target===g._input,n=g.config.allowInput,i=g.isOpen&&(!n||!t),s=g.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return g.setDate(g._input.value,!0,e.target===g.altInput?g.config.altFormat:g.config.dateFormat),e.target.blur();g.open()}else if($(e.target)||i||s){var l=!!g.timeContainer&&g.timeContainer.contains(e.target);switch(e.keyCode){case 13:l?(e.preventDefault(),_(),re()):ae(e);break;case 27:e.preventDefault(),re();break;case 8:case 46:t&&!g.config.allowInput&&(e.preventDefault(),g.clear());break;case 37:case 39:if(l||t)g.hourElement&&g.hourElement.focus();else if(e.preventDefault(),void 0!==g.daysContainer&&(!1===n||document.activeElement&&Z(document.activeElement))){var r=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Y(r),H(F(1),0)):H(void 0,r)}break;case 38:case 40:e.preventDefault();var a=40===e.keyCode?1:-1;g.daysContainer&&void 0!==e.target.$i||e.target===g.input||e.target===g.altInput?e.ctrlKey?(e.stopPropagation(),X(g.currentYear-a),H(F(1),0)):l||H(void 0,7*a):e.target===g.currentYearElement?X(g.currentYear-a):g.config.enableTime&&(!l&&g.hourElement&&g.hourElement.focus(),_(e),g._debouncedChange());break;case 9:if(l){var o=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].concat(g.pluginElements).filter((function(e){return e})),h=o.indexOf(e.target);if(-1!==h){var c=o[h+(e.shiftKey?-1:1)];e.preventDefault(),(c||g._input).focus()}}else!g.config.noCalendar&&g.daysContainer&&g.daysContainer.contains(e.target)&&e.shiftKey&&(e.preventDefault(),g._input.focus())}}if(void 0!==g.amPM&&e.target===g.amPM)switch(e.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],S(),ge();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],S(),ge()}(t||$(e.target))&&de("onKeyDown",e)}function Q(e){if(1===g.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():g.days.firstElementChild.dateObj.getTime(),n=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),i=Math.min(t,g.selectedDates[0].getTime()),s=Math.max(t,g.selectedDates[0].getTime()),l=!1,r=0,a=0,o=i;o<s;o+=864e5)K(new Date(o),!0)||(l=l||o>i&&o<s,o<n&&(!r||o>r)?r=o:o>n&&(!a||o<a)&&(a=o));for(var h=0;h<g.config.showMonths;h++)for(var c=g.daysContainer.children[h],d=function(i,s){var o,h,d,u=c.children[i],p=u.dateObj.getTime(),m=r>0&&p<r||a>0&&p>a;return m?(u.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){u.classList.remove(e)})),"continue"):l&&!m?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){u.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=g.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&p===n?u.classList.add("startRange"):n>t&&p===n&&u.classList.add("endRange"),p>=r&&(0===a||p<=a)&&(h=n,d=t,(o=p)>Math.min(h,d)&&o<Math.max(h,d))&&u.classList.add("inRange"))))},u=0,p=c.children.length;u<p;u++)d(u)}}function ee(){!g.isOpen||g.config.static||g.config.inline||se()}function te(){g.setDate(void 0!==g.config.minDate?new Date(g.config.minDate.getTime()):new Date,!0),E(),ge()}function ne(e){return function(t){var n=g.config["_"+e+"Date"]=g.parseDate(t,g.config.dateFormat),i=g.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(g["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),g.selectedDates&&(g.selectedDates=g.selectedDates.filter((function(e){return K(e)})),g.selectedDates.length||"min"!==e||k(n),ge()),g.daysContainer&&(le(),void 0!==n?g.currentYearElement[e]=n.getFullYear().toString():g.currentYearElement.removeAttribute(e),g.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function ie(){"object"!=typeof g.config.locale&&void 0===x.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=e({},x.l10ns.default,"object"==typeof g.config.locale?g.config.locale:"default"!==g.config.locale?x.l10ns[g.config.locale]:void 0),f.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")",void 0===e({},m,JSON.parse(JSON.stringify(u.dataset||{}))).time_24hr&&void 0===x.defaultConfig.time_24hr&&(g.config.time_24hr=g.l10n.time_24hr),g.formatDate=b(g),g.parseDate=v({config:g.config,l10n:g.l10n})}function se(e){if(void 0!==g.calendarContainer){de("onPreCalendarPosition");var t=e||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=g.calendarContainer.offsetWidth,s=g.config.position.split(" "),l=s[0],r=s.length>1?s[1]:null,a=t.getBoundingClientRect(),h=window.innerHeight-a.bottom,c="above"===l||"below"!==l&&h<n&&a.top>n,d=window.pageYOffset+a.top+(c?-n-2:t.offsetHeight+2);if(o(g.calendarContainer,"arrowTop",!c),o(g.calendarContainer,"arrowBottom",c),!g.config.inline){var u=window.pageXOffset+a.left-(null!=r&&"center"===r?(i-a.width)/2:0),p=window.document.body.offsetWidth-(window.pageXOffset+a.right),m=u+i>window.document.body.offsetWidth,f=p+i>window.document.body.offsetWidth;if(o(g.calendarContainer,"rightMost",m),!g.config.static)if(g.calendarContainer.style.top=d+"px",m)if(f){var b=document.styleSheets[0];if(void 0===b)return;var v=window.document.body.offsetWidth,y=Math.max(0,v/2-i/2),w=b.cssRules.length,C="{left:"+a.left+"px;right:auto;}";o(g.calendarContainer,"rightMost",!1),o(g.calendarContainer,"centerMost",!0),b.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+C,w),g.calendarContainer.style.left=y+"px",g.calendarContainer.style.right="auto"}else g.calendarContainer.style.left="auto",g.calendarContainer.style.right=p+"px";else g.calendarContainer.style.left=u+"px",g.calendarContainer.style.right="auto"}}}function le(){g.config.noCalendar||g.isMobile||(me(),V())}function re(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function ae(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,i=g.latestSelectedDateObj=new Date(n.dateObj.getTime()),s=(i.getMonth()<g.currentMonth||i.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode;if(g.selectedDateElem=n,"single"===g.config.mode)g.selectedDates=[i];else if("multiple"===g.config.mode){var l=pe(i);l?g.selectedDates.splice(parseInt(l),1):g.selectedDates.push(i)}else"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=i,g.selectedDates.push(i),0!==y(i,g.selectedDates[0],!0)&&g.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(S(),s){var r=g.currentYear!==i.getFullYear();g.currentYear=i.getFullYear(),g.currentMonth=i.getMonth(),r&&(de("onYearChange"),j()),de("onMonthChange")}me(),V(),ge(),g.config.enableTime&&setTimeout((function(){return g.showTimeInput=!0}),50),s||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():R(n),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect&&("single"===g.config.mode&&!g.config.enableTime||"range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime)&&re(),M()}}g.parseDate=v({config:g.config,l10n:g.l10n}),g._handlers=[],g.pluginElements=[],g.loadedPlugins=[],g._bind=D,g._setHoursFromDate=k,g._positionCalendar=se,g.changeMonth=Y,g.changeYear=X,g.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],g.latestSelectedDateObj=void 0,!0===t&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),g.showTimeInput=!1,!0===g.config.enableTime&&E(),g.redraw(),e&&de("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),de("onClose")},g._createElement=h,g.destroy=function(){void 0!==g.config&&de("onDestroy");for(var e=g._handlers.length;e--;){var t=g._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var n=g.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly"),g.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete g[e]}catch(t){}}))},g.isEnabled=K,g.jumpToDate=T,g.open=function(e,t){if(void 0===t&&(t=g._positionElement),!0===g.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void de("onOpen");if(!g._input.disabled&&!g.config.inline){var n=g.isOpen;g.isOpen=!0,n||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),de("onOpen"),se(t)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(0===g.selectedDates.length&&te(),!1!==g.config.allowInput||void 0!==e&&g.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return g.hourElement.select()}),50))}},g.redraw=le,g.set=function(e,n){if(null!==e&&"object"==typeof e)for(var i in Object.assign(g.config,e),e)void 0!==oe[i]&&oe[i].forEach((function(e){return e()}));else g.config[e]=n,void 0!==oe[e]?oe[e].forEach((function(e){return e()})):t.indexOf(e)>-1&&(g.config[e]=a(n));g.redraw(),ge(!1)},g.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=g.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return g.clear(t);he(e,n),g.showTimeInput=g.selectedDates.length>0,g.latestSelectedDateObj=g.selectedDates[g.selectedDates.length-1],g.redraw(),T(),k(),0===g.selectedDates.length&&g.clear(!1),ge(t),t&&de("onChange")},g.toggle=function(e){if(!0===g.isOpen)return g.close();g.open(e)};var oe={locale:[ie,W],showMonths:[q,C,U],minDate:[T],maxDate:[T]};function he(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return g.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[g.parseDate(e,t)];else if("string"==typeof e)switch(g.config.mode){case"single":case"time":n=[g.parseDate(e,t)];break;case"multiple":n=e.split(g.config.conjunction).map((function(e){return g.parseDate(e,t)}));break;case"range":n=e.split(g.l10n.rangeSeparator).map((function(e){return g.parseDate(e,t)}))}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));g.selectedDates=n.filter((function(e){return e instanceof Date&&K(e,!1)})),"range"===g.config.mode&&g.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function ce(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?g.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:g.parseDate(e.from,void 0),to:g.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function de(e,t){if(void 0!==g.config){var n=g.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](g.selectedDates,g.input.value,g,t);"onChange"===e&&(g.input.dispatchEvent(ue("change")),g.input.dispatchEvent(ue("input")))}}function ue(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function pe(e){for(var t=0;t<g.selectedDates.length;t++)if(0===y(g.selectedDates[t],e))return""+t;return!1}function me(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach((function(e,t){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),g.config.showMonths>1||"static"===g.config.monthSelectorType?g.monthElements[t].textContent=p(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ":g.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function fe(e){return g.selectedDates.map((function(t){return g.formatDate(t,e)})).filter((function(e,t,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(e)===t})).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function ge(e){void 0===e&&(e=!0),void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=fe(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=fe(g.config.altFormat)),!1!==e&&de("onValueUpdate")}function be(e){var t=g.prevMonthNav.contains(e.target),n=g.nextMonthNav.contains(e.target);t||n?Y(t?-1:1):g.yearElements.indexOf(e.target)>=0?e.target.select():e.target.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):e.target.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}return function(){g.element=g.input=u,g.isOpen=!1,function(){var i=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],s=e({},m,JSON.parse(JSON.stringify(u.dataset||{}))),l={};g.config.parseDate=s.parseDate,g.config.formatDate=s.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(e){g.config._enable=ce(e)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(e){g.config._disable=ce(e)}});var r="time"===s.mode;s.dateFormat||!s.enableTime&&!r||(l.dateFormat=s.noCalendar||r?"H:i"+(s.enableSeconds?":S":""):(x.defaultConfig.dateFormat||n.dateFormat)+" H:i"+(s.enableSeconds?":S":"")),s.altInput&&(s.enableTime||r)&&!s.altFormat&&(l.altFormat=s.noCalendar||r?"h:i"+(s.enableSeconds?":S K":" K"):(x.defaultConfig.altFormat||n.altFormat)+" h:i"+(s.enableSeconds?":S":"")+" K"),s.altInputClass||(g.config.altInputClass=g.input.className+" "+g.config.altInputClass),Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:ne("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:ne("max")});var o=function(e){return function(t){g.config["min"===e?"_minTime":"_maxTime"]=g.parseDate(t,"H:i:S")}};Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:o("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:o("max")}),"time"===s.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,l,s);for(var h=0;h<i.length;h++)g.config[i[h]]=!0===g.config[i[h]]||"true"===g.config[i[h]];for(t.filter((function(e){return void 0!==g.config[e]})).forEach((function(e){g.config[e]=a(g.config[e]||[]).map(w)})),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable.length&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),h=0;h<g.config.plugins.length;h++){var c=g.config.plugins[h](g)||{};for(var d in c)t.indexOf(d)>-1?g.config[d]=a(c[d]).map(w).concat(g.config[d]):void 0===s[d]&&(g.config[d]=c[d])}de("onParseConfig")}(),ie(),g.input=g.config.wrap?u.querySelector("[data-input]"):u,g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=h(g.input.nodeName,g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),g._positionElement=g.config.positionElement||g._input):g.config.errorHandler(new Error("Invalid input element specified")),function(){g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date;var e=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null);e&&he(e,g.config.dateFormat),g._initialDate=g.selectedDates.length>0?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),g.selectedDates.length>0&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(g.config.minDate.getHours()>0||g.config.minDate.getMinutes()>0||g.config.minDate.getSeconds()>0),g.maxDateHasTime=!!g.config.maxDate&&(g.config.maxDate.getHours()>0||g.config.maxDate.getMinutes()>0||g.config.maxDate.getSeconds()>0),Object.defineProperty(g,"showTimeInput",{get:function(){return g._showTimeInput},set:function(e){g._showTimeInput=e,g.calendarContainer&&o(g.calendarContainer,"showTimeInput",e),g.isOpen&&se()}})}(),g.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=g.currentMonth),void 0===t&&(t=g.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:g.l10n.daysInMonth[e]}},g.isMobile||function(){var e=window.document.createDocumentFragment();if(g.calendarContainer=h("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,!g.config.noCalendar){if(e.appendChild((g.monthNav=h("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=h("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=h("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,q(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(e){g.__hidePrevMonthArrow!==e&&(o(g.prevMonthNav,"flatpickr-disabled",e),g.__hidePrevMonthArrow=e)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(e){g.__hideNextMonthArrow!==e&&(o(g.nextMonthNav,"flatpickr-disabled",e),g.__hideNextMonthArrow=e)}}),g.currentYearElement=g.yearElements[0],me(),g.monthNav)),g.innerContainer=h("div","flatpickr-innerContainer"),g.config.weekNumbers){var t=function(){g.calendarContainer.classList.add("hasWeeks");var e=h("div","flatpickr-weekwrapper");e.appendChild(h("span","flatpickr-weekday",g.l10n.weekAbbreviation));var t=h("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;g.innerContainer.appendChild(n),g.weekNumbers=i,g.weekWrapper=n}g.rContainer=h("div","flatpickr-rContainer"),g.rContainer.appendChild(U()),g.daysContainer||(g.daysContainer=h("div","flatpickr-days"),g.daysContainer.tabIndex=-1),V(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),e.appendChild(g.innerContainer)}g.config.enableTime&&e.appendChild(function(){g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar"),g.timeContainer=h("div","flatpickr-time"),g.timeContainer.tabIndex=-1;var e=h("span","flatpickr-time-separator",":"),t=d("flatpickr-hour",{"aria-label":g.l10n.hourAriaLabel});g.hourElement=t.getElementsByTagName("input")[0];var n=d("flatpickr-minute",{"aria-label":g.l10n.minuteAriaLabel});if(g.minuteElement=n.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=s(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?g.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(g.config.defaultHour)),g.minuteElement.value=s(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():g.config.defaultMinute),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.timeContainer.appendChild(t),g.timeContainer.appendChild(e),g.timeContainer.appendChild(n),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds){g.timeContainer.classList.add("hasSeconds");var i=d("flatpickr-second");g.secondElement=i.getElementsByTagName("input")[0],g.secondElement.value=s(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():g.config.defaultSeconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.timeContainer.appendChild(h("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(i)}return g.config.time_24hr||(g.amPM=h("span","flatpickr-am-pm",g.l10n.amPM[l((g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour)>11)]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer}()),o(g.calendarContainer,"rangeMode","range"===g.config.mode),o(g.calendarContainer,"animate",!0===g.config.animate),o(g.calendarContainer,"multiMonth",g.config.showMonths>1),g.calendarContainer.appendChild(e);var r=void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType;if((g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!r&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)){var a=h("div","flatpickr-wrapper");g.element.parentNode&&g.element.parentNode.insertBefore(a,g.element),a.appendChild(g.element),g.altInput&&a.appendChild(g.altInput),a.appendChild(g.calendarContainer)}g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)}(),function(){if(g.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+e+"]"),(function(t){return D(t,"click",g[e])}))})),g.isMobile)!function(){var e=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=h("input",g.input.className+" flatpickr-mobile"),g.mobileInput.step=g.input.getAttribute("step")||"any",g.mobileInput.tabIndex=1,g.mobileInput.type=e,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",g.selectedDates.length>0&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(t){}D(g.mobileInput,"change",(function(e){g.setDate(e.target.value,!1,g.mobileFormatStr),de("onChange"),de("onClose")}))}();else{var e=r(ee,50);g._debouncedChange=r(M,300),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&D(g.daysContainer,"mouseover",(function(e){"range"===g.config.mode&&Q(e.target)})),D(window.document.body,"keydown",J),g.config.inline||g.config.static||D(window,"resize",e),void 0!==window.ontouchstart?D(window.document,"touchstart",G):D(window.document,"mousedown",A(G)),D(window.document,"focus",G,{capture:!0}),!0===g.config.clickOpens&&(D(g._input,"focus",g.open),D(g._input,"mousedown",A(g.open))),void 0!==g.daysContainer&&(D(g.monthNav,"mousedown",A(be)),D(g.monthNav,["keyup","increment"],I),D(g.daysContainer,"mousedown",A(ae))),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&(D(g.timeContainer,["increment"],_),D(g.timeContainer,"blur",_,{capture:!0}),D(g.timeContainer,"mousedown",A(P)),D([g.hourElement,g.minuteElement],["focus","click"],(function(e){return e.target.select()})),void 0!==g.secondElement&&D(g.secondElement,"focus",(function(){return g.secondElement&&g.secondElement.select()})),void 0!==g.amPM&&D(g.amPM,"mousedown",A((function(e){_(e),M()}))))}}(),(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&k(g.config.noCalendar?g.latestSelectedDateObj||g.config.minDate:void 0),ge(!1)),C(),g.showTimeInput=g.selectedDates.length>0||g.config.noCalendar;var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!g.isMobile&&i&&se(),de("onReady")}(),g}function C(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],s=0;s<n.length;s++){var l=n[s];try{if(null!==l.getAttribute("data-fp-omit"))continue;void 0!==l._flatpickr&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=w(l,t||{}),i.push(l._flatpickr)}catch(r){console.error(r)}}return 1===i.length?i[0]:i}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},s=0,l=t;s<l.length;s++){var r=l[s];i(r)}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return C(this,e)},HTMLElement.prototype.flatpickr=function(e){return C([this],e)});var x=function(e,t){return"string"==typeof e?C(window.document.querySelectorAll(e),t):e instanceof Node?C([e],t):C(e,t)};return x.defaultConfig={},x.l10ns={en:e({},i),default:e({},i)},x.localize=function(t){x.l10ns.default=e({},x.l10ns.default,t)},x.setDefaults=function(t){x.defaultConfig=e({},x.defaultConfig,t)},x.parseDate=v({}),x.formatDate=b({}),x.compareDates=y,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return C(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=x),x}()}},[[0,0]]]);